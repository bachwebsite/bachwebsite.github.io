/*! For license information please see commons.js.LICENSE.txt */
!function(r){function webpackJsonpCallback(n){for(var o,s,y=n[0],w=n[1],E=n[2],j=0,q=[];j<y.length;j++)s=y[j],{}.hasOwnProperty.call(a,s)&&a[s]&&q.push(a[s][0]),a[s]=0;for(o in w)({}).hasOwnProperty.call(w,o)&&(r[o]=w[o]);for(_&&_(n);q.length;)q.shift()();return i.push.apply(i,E||[]),checkDeferredModules()}function checkDeferredModules(){for(var r,n=0;n<i.length;n++){for(var o=i[n],s=!0,y=1;y<o.length;y++){var _=o[y];0!==a[_]&&(s=!1)}s&&(i.splice(n--,1),r=__webpack_require__(__webpack_require__.s=o[0]))}return r}var n={},a={0:0},i=[];function __webpack_require__(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return r[a].call(i.exports,i,i.exports,__webpack_require__),i.l=!0,i.exports}__webpack_require__.m=r,__webpack_require__.c=n,__webpack_require__.d=function(r,n,a){__webpack_require__.o(r,n)||Object.defineProperty(r,n,{enumerable:!0,get:a})},__webpack_require__.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},__webpack_require__.t=function(r,n){if(1&n&&(r=__webpack_require__(r)),8&n)return r;if(4&n&&"object"==typeof r&&r&&r.__esModule)return r;var a=Object.create(null);if(__webpack_require__.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&n&&"string"!=typeof r)for(var i in r)__webpack_require__.d(a,i,function(n){return r[n]}.bind(null,i));return a},__webpack_require__.n=function(r){var n=r&&r.__esModule?function getDefault(){return r.default}:function getModuleExports(){return r};return __webpack_require__.d(n,"a",n),n},__webpack_require__.o=function(r,n){return{}.hasOwnProperty.call(r,n)},__webpack_require__.p="/js/";var o=("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[],s=o.push.bind(o);o.push=webpackJsonpCallback,o=o.slice();for(var y=0;y<o.length;y++)webpackJsonpCallback(o[y]);var _=s;checkDeferredModules()}([,,function(r,n){var a,i,o=r.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(r){if(a===setTimeout)return setTimeout(r,0);if((a===defaultSetTimout||!a)&&setTimeout)return a=setTimeout,setTimeout(r,0);try{return a(r,0)}catch(n){try{return a.call(null,r,0)}catch(n){return a.call(this,r,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(r){a=defaultSetTimout}try{i="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(r){i=defaultClearTimeout}}();var s,y=[],_=!1,w=-1;function cleanUpNextTick(){_&&s&&(_=!1,s.length?y=s.concat(y):w=-1,y.length&&drainQueue())}function drainQueue(){if(!_){var r=runTimeout(cleanUpNextTick);_=!0;for(var n=y.length;n;){for(s=y,y=[];++w<n;)s&&s[w].run();w=-1,n=y.length}s=null,_=!1,function runClearTimeout(r){if(i===clearTimeout)return clearTimeout(r);if((i===defaultClearTimeout||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(r);try{i(r)}catch(n){try{return i.call(null,r)}catch(n){return i.call(this,r)}}}(r)}}function Item(r,n){this.fun=r,this.array=n}function noop(){}o.nextTick=function(r){var n=Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)n[a-1]=arguments[a];y.push(new Item(r,n)),1!==y.length||_||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(r){return[]},o.binding=function(r){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(r){throw Error("process.chdir is not supported")},o.umask=function(){return 0}},function(r,n){var a;a=function(){return this}();try{a=a||Function("","return this")()}catch(r){"object"==typeof window&&(a=window)}r.exports=a},,,function(r,n,a){"use strict";a.r(n);var i=a(7);const o={lang:"",region:"",scrollDir:1,devMode:!0,urlCDN:"",baseCdnUrl:"",baseUrl:"",appUrl:"",urlMaterials:"",urlSkybox:"",urlTextures:"",urlTextures2:"",apiUrl:"",studioUrl:"",brokerUrl:"",environment:"",isNative:!!Object(i.getQueryParam)("isNative")};window.CONFIG&&Object.assign(o,window.CONFIG),n.default=o},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getQueryParam=void 0,n.getQueryParam=r=>{if(window.QUERY_PARAMS&&void 0!==window.QUERY_PARAMS[r])return window.QUERY_PARAMS[r];const n=RegExp(`[?&]${encodeURIComponent(r)}=([^&]*)`).exec(location.search);return n?decodeURIComponent(n[1]):""}},function(r,n,a){"use strict";!function(r){Object.defineProperty(n,"__esModule",{value:!0}),n.init=n.frameUpdate=n.debugMenuDisplayed=n.isTouchDevice=n.communicator=n.shooterCommunicator=n.ghostCommunicator=n.assetManager=n.gamekitManager=n.inputManager=n.container=n.canvas=n.entityManager=n.noAOScene=n.threeScene=n.audioListener=void 0;const i=a(9),o=a(12),s=a(43),y=a(77),_=a(139),w=a(140),E=a(143),j=a(145),q=a(146),$=a(18),ne=a(150),ie=a(287),oe=a(225),se=a(290),le=a(13),pe=a(162),he=a(342),me=a(288),ge=a(153),ye=a(19),_e=a(326),ve=a(222),Se=a(70),we=a(16),Me=a(178),Te=a(144),Ae=window.GAMEKIT||$.default.request("gk")||"snap";if(r.browser){n.audioListener=new ye.AudioListener,n.audioListener.setMasterVolume(_.DEFAULT_VOLUME);const handleMessage=r=>{"mute"===r.data?n.audioListener.setMasterVolume(0):"unmute"===r.data&&n.audioListener.setMasterVolume(_.DEFAULT_VOLUME)};document.addEventListener("message",handleMessage),window.addEventListener("message",handleMessage)}n.threeScene=new ye.Scene,n.threeScene.fog=new ye.FogExp2("#FFFFFF",0),n.noAOScene=new ye.Scene,n.noAOScene.fog=new ye.FogExp2("#FFFFFF",0),n.threeScene.matrixAutoUpdate=!1,n.entityManager=new o.default(n.threeScene,{components:[],systems:[]}),n.canvas=document.querySelector("canvas"),n.container=document.querySelector(".preview"),n.inputManager=new w.default;let ke=null,Re=null;n.gamekitManager=new y.GameKitManager,n.assetManager=new i.AssetManager,n.ghostCommunicator=new ne.GhostModeCommunicator(n.entityManager),n.shooterCommunicator=new se.ShooterCommunicator(n.entityManager),n.communicator=new ie.NetworkCommunicator;const Oe=new ve.Event;n.isTouchDevice=$.default.isTouchDevice(),n.inputManager.registerAction({name:"SLOW_MO",defaultKeys:{kbm:["ALT"]}});const Ne=new Se.PerformanceMeasurer,Fe=new Se.PerformanceMeasurer;let je=!1;const Be=new Se.PerformanceMeasurer,Ue=new Se.PerformanceMeasurer,Ve=new Se.PerformanceMeasurer;let We=performance.now(),Ye=0;const Xe=new ye.Vector3(0,0,0),$e=new ye.Vector2(0,0),et=new ye.Vector2(0,0),tt=new he.RenderEngineThree;n.debugMenuDisplayed=le.isDebugMode;let rt=!1,nt=0;n.frameUpdate=(r,a)=>{Ne.endSample(),Ne.calculateStats(),Ne.startSample(),Be.startSample();let i=r-We;We=r,i>50&&(i=50),le.isDebugMode&&n.inputManager.isAction("SLOW_MO")&&(i*=.15),Ye+=i;const o=1.5*n.entityManager.tickTimeMs;Ye>o&&(Ye=o);const y=Ye>n.entityManager.tickTimeMs;je&&(Fe.endSample(),Fe.calculateStats()),Fe.startSample(),je=y;const _=n.entityManager.getOrCreateSingleton(me.InputState),w=tt.getLastSetCamera();if(w&&Xe.copy(w.dirWS),y&&ke){const r=_.createSnapshotForTick(n.entityManager.currentTickNumber);ke.updateInputSnapshot(r,Te.TouchInputProxy.CameraSinceLastTickIS,Xe)}switch(Ae){case"playground":case"platformer":n.ghostCommunicator.enabled&&y&&n.ghostCommunicator.receiveStates(n.entityManager);break;case"shooter":n.shooterCommunicator.enabled&&y&&n.shooterCommunicator.recv(n.entityManager)}if(y){Ue.startSample(),Ye-=n.entityManager.tickTimeMs;const r=n.entityManager.tickTimeMs/1e3;n.entityManager.updateTick(r),Ue.endSample(),Ue.calculateStats()}switch(Ae){case"playground":case"platformer":n.ghostCommunicator.enabled&&y&&n.ghostCommunicator.sendStates(n.entityManager);break;case"shooter":n.shooterCommunicator.enabled&&y&&n.shooterCommunicator.send(n.entityManager)}{Re&&Re.updateInputSnapshot(_.frameSnapshot,Te.TouchInputProxy.CameraSinceLastFrameIS,Xe);const r=Ye%n.entityManager.tickTimeMs/n.entityManager.tickTimeMs;n.entityManager.updateFrame(r,i/1e3)}if(a||(Ve.startSample(),tt.render(Ye),Ve.endSample(),Ve.calculateStats()),Oe.emit(Date.now()),_e.updateTimeoutProxy(Date.now()),s.cfg.dynamicResolution&&tt.updateDynamicResolution(n.entityManager.currentTickNumber,Fe.getAvgMs())&&Fe.reset(),y&&(rt?n.inputManager.isKeyDown("Q")&&n.inputManager.isKeyDown("L")&&n.inputManager.isKeyDown("P")||(rt=!1):n.inputManager.isKeyDown("Q")&&n.inputManager.isKeyDown("L")&&n.inputManager.isKeyDown("P")&&(n.debugMenuDisplayed=!n.debugMenuDisplayed,n.debugMenuDisplayed||we.clearTraces(),rt=!0)),Be.endSample(),Be.calculateStats(),le.isFrameDebugMode||n.debugMenuDisplayed){tt.getWindowRes($e),tt.getRenderRes(et);let r=et.x+" x "+et.y+" ("+tt.getResScaleFactor().toFixed(2)+"x) - "+Fe.getAvgMs().toFixed(1)+" ms (std:  "+Fe.getStdMs().toFixed(1)+", max: "+Fe.getMaxMs().toFixed(0)+", fps: "+(1e3/Fe.getAvgMs()).toFixed(0)+")";oe.NetworkLayer.instance&&(r+=" - "+(oe.NetworkLayer.instance.isHost?"Host (":"Client (")+oe.NetworkLayer.instance.NumberOfPeers()+")"),we.traceV2("",r)}if(n.debugMenuDisplayed){switch(Ae){case"playground":case"platformer":n.ghostCommunicator.enabled&&(we.traceV2("Communicator",n.ghostCommunicator.statusString()),oe.NetworkLayer.instance.printDebugInfo());break;case"shooter":n.shooterCommunicator.enabled&&(we.traceV2("Communicator",n.shooterCommunicator.statusString()),oe.NetworkLayer.instance.printDebugInfo())}tt.getWindowRes($e),tt.getRenderRes(et),we.traceV2("Window Res",$e.x+" x "+$e.y+" (dpi: "+window.devicePixelRatio+") - Tex Format: "+Me.getBestTextureCompressionFormat()),we.traceV2("Frametime (all frames)",Ne.shorterStatsString()),we.traceV2("Frametime (only tick frames)",Fe.shorterStatsString()),we.traceV2("Frametime (no browser)",Be.shorterStatsString()),we.traceV2("Renderer",Ve.shorterStatsString()),n.entityManager.printDebugInfo()}a||requestAnimationFrame(n.frameUpdate)},$.default.iOS()&&le.isDebugMode&&(window.onerror=(r,n,a,i,o)=>{alert(`\n      ${r}\n\n      ${n}\n\n      ${o&&o.stack}\n    `)}),n.init=()=>{j.default.setup(n.container),j.default.hide();const r=document.body.querySelector(".outer");$.default.isMobile()&&r.classList.add("isMobile"),$.default.isTouchDevice()?r.classList.add("isTouchDevice"):r.classList.add("notTouchDevice"),$.default.isMac()&&r.classList.add("isMac"),$.default.isSafari()&&r.classList.add("isSafari"),$.default.isIPad()&&r.classList.add("isIPad"),$.default.iOS()&&r.classList.add("iOS"),$.default.hasHover()&&r.classList.add("hasHover");const i=new pe.RenderEngineConfig;i.canvas=n.canvas,i.glContext=null,tt.init(i,n.threeScene);const o=a(362);o.keys().forEach(r=>{const a=o(r).default;a&&n.entityManager.registerSystem(a)}),n.entityManager.registerComponent(ge.PlayerState),q.addMaterialsFromTextures();const s=new E.InputParserSettings;s.camInvertX=!1,s.camInvertY=!1,ke=new E.default(s,n.inputManager,"tick"),Re=new E.default(s,n.inputManager,"frame"),n.entityManager.getOrCreateSingleton(me.InputState),n.gamekitManager.loadGameKit(Ae),n.gamekitManager.setGamekit(Ae).then(()=>{if(requestAnimationFrame(n.frameUpdate),le.isMultiplayerMode){const r=window.GAMEKIT||$.default.request("gk")||"snap",a=le.roomId||"dev";switch(r){case"playground":case"platformer":n.ghostCommunicator.connectRoom(a);break;case"shooter":n.shooterCommunicator.connectRoom(a)}}})},window.addEventListener("visibilitychange",()=>{document.hidden&&oe.NetworkLayer.instance&&oe.NetworkLayer.instance.isHost?nt=setInterval(()=>{if(!oe.NetworkLayer.instance.isHost||!oe.NetworkLayer.instance.connected)return console.log("No Longer host/connected"),clearInterval(nt),void(nt=0);n.frameUpdate(performance.now(),!0)},30):(clearInterval(nt),nt=0)}),window.addEventListener("beforeunload",r=>{n.inputManager.isKeyDown("CTRLCMD_MODIFIER")&&!n.inputManager.isKeyDown("R")&&(r.preventDefault(),r.returnValue="Are you sure you want to close the game?")});const at={assetManager:n.assetManager,container:n.container,inputManager:n.inputManager,scene:n.threeScene,entityManager:n.entityManager,gamekitManager:n.gamekitManager,init:n.init,canvas:n.canvas,glContext:null,communicator:n.communicator,ghostCommunicator:n.ghostCommunicator,shooterCommunicator:n.shooterCommunicator,renderEngine:tt,timeChanged:Oe};n.default=at}(a(2))},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AssetManager=n.AssetType=void 0;const i=a(10),o=a(11);var s;!function(r){r[r.NONE=0]="NONE",r[r.TEXTURE=1]="TEXTURE",r[r.GEOMETRY=2]="GEOMETRY",r[r.MATERIAL=3]="MATERIAL",r[r.HIGHLIGHT_GEOMETRY=4]="HIGHLIGHT_GEOMETRY",r[r.SKYBOX_CUBEMAP=5]="SKYBOX_CUBEMAP",r[r.PROJECT=6]="PROJECT",r[r.AUDIO=7]="AUDIO",r[r.AVATAR=8]="AVATAR",r[r.FBX=9]="FBX",r[r.GLTF=10]="GLTF"}(s=n.AssetType||(n.AssetType={})),n.AssetManager=class AssetManager extends i{constructor(){super(...arguments),this.loaders=new Map,this.loadersCache=new Map,this.assets=new Map,this.assetCounter=new Map,this.currentlyLoading=new Map,this.totalLoaderCount=0}registerLoader(r,n){this.loaders.set(r,n)}getLoader(r){const n=r;let a=this.loadersCache.get(n.assetType)||null;if(!a){const i=new r;this.loaders.set(n.assetType,i),a={loader:i,load:r=>this.loadAsset(i,n.assetType,r),loadSync:r=>this.loadAssetSync(i,n.assetType,r)},this.loadersCache.set(n.assetType,a)}return a}freeAsset(r,n){}loadAssetSync(r,n,a){const i=o.default(n+"_"+r.generateKey(a));let s=this.assets.get(i);if(!s){if(s=r.loadSync(a),!s)return null;this.assets.set(i,s)}return this.assetCounter.set(i,this.assetCounter.get(i)+1),s}async loadAsset(r,n,a){const i=o.default(n+"_"+r.generateKey(a)),y=this.assets.get(i);if(y)return this.assetCounter.set(i,this.assetCounter.get(i)+1),y;const _=this.currentlyLoading.get(i);if(_)return this.assetCounter.set(i,this.assetCounter.get(i)+1),_;this.assetCounter.set(i,1),this._loadTimeout&&(clearTimeout(this._loadTimeout),this._loadTimeout=null);const w=r.load(a);this.currentlyLoading.set(i,w),1===this.currentlyLoading.size&&this.emit("begin"),this.totalLoaderCount++;const E=await w;this.assets.set(i,E),this.currentlyLoading.delete(i);const j=(this.totalLoaderCount-this.currentlyLoading.size)/this.totalLoaderCount,q={progress:j,finishedCount:this.totalLoaderCount-this.currentlyLoading.size,totalCount:this.totalLoaderCount,name:a.name,type:n,typeName:s[n]};return this.emit("progress",q),1===j&&(this._loadTimeout=setTimeout(()=>{this.emit("finished"),this.totalLoaderCount=0},100)),E}disposeAssets(){}async waitForAssets(){if(0!==this.totalLoaderCount)return new Promise(r=>{this.once("finished",()=>{r()})})}}},function(r,n,a){"use strict";var i={}.hasOwnProperty,o="~";function Events(){}function EE(r,n,a){this.fn=r,this.context=n,this.once=a||!1}function addListener(r,n,a,i,s){if("function"!=typeof a)throw new TypeError("The listener must be a function");var y=new EE(a,i||r,s),_=o?o+n:n;return r._events[_]?r._events[_].fn?r._events[_]=[r._events[_],y]:r._events[_].push(y):(r._events[_]=y,r._eventsCount++),r}function clearEvent(r,n){0==--r._eventsCount?r._events=new Events:delete r._events[n]}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(o=!1)),EventEmitter.prototype.eventNames=function eventNames(){var r,n,a=[];if(0===this._eventsCount)return a;for(n in r=this._events)i.call(r,n)&&a.push(o?n.slice(1):n);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(r)):a},EventEmitter.prototype.listeners=function listeners(r){var n=o?o+r:r,a=this._events[n];if(!a)return[];if(a.fn)return[a.fn];for(var i=0,s=a.length,y=Array(s);i<s;i++)y[i]=a[i].fn;return y},EventEmitter.prototype.listenerCount=function listenerCount(r){var n=o?o+r:r,a=this._events[n];return a?a.fn?1:a.length:0},EventEmitter.prototype.emit=function emit(r,n,a,i,s,y){var _=o?o+r:r;if(!this._events[_])return!1;var w,E,j=this._events[_],q=arguments.length;if(j.fn){switch(j.once&&this.removeListener(r,j.fn,void 0,!0),q){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,n),!0;case 3:return j.fn.call(j.context,n,a),!0;case 4:return j.fn.call(j.context,n,a,i),!0;case 5:return j.fn.call(j.context,n,a,i,s),!0;case 6:return j.fn.call(j.context,n,a,i,s,y),!0}for(E=1,w=Array(q-1);E<q;E++)w[E-1]=arguments[E];j.fn.apply(j.context,w)}else{var $,ne=j.length;for(E=0;E<ne;E++)switch(j[E].once&&this.removeListener(r,j[E].fn,void 0,!0),q){case 1:j[E].fn.call(j[E].context);break;case 2:j[E].fn.call(j[E].context,n);break;case 3:j[E].fn.call(j[E].context,n,a);break;case 4:j[E].fn.call(j[E].context,n,a,i);break;default:if(!w)for($=1,w=Array(q-1);$<q;$++)w[$-1]=arguments[$];j[E].fn.apply(j[E].context,w)}}return!0},EventEmitter.prototype.on=function on(r,n,a){return addListener(this,r,n,a,!1)},EventEmitter.prototype.once=function once(r,n,a){return addListener(this,r,n,a,!0)},EventEmitter.prototype.removeListener=function removeListener(r,n,a,i){var s=o?o+r:r;if(!this._events[s])return this;if(!n)return clearEvent(this,s),this;var y=this._events[s];if(y.fn)y.fn!==n||i&&!y.once||a&&y.context!==a||clearEvent(this,s);else{for(var _=0,w=[],E=y.length;_<E;_++)(y[_].fn!==n||i&&!y[_].once||a&&y[_].context!==a)&&w.push(y[_]);w.length?this._events[s]=1===w.length?w[0]:w:clearEvent(this,s)}return this},EventEmitter.prototype.removeAllListeners=function removeAllListeners(r){var n;return r?(n=o?o+r:r,this._events[n]&&clearEvent(this,n)):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prefixed=o,EventEmitter.EventEmitter=EventEmitter,r.exports=EventEmitter},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function hashCode(r){let n=0;if(!r.length)return n;for(let a,i=0,o=r.length;i<o;++i)a=r.charCodeAt(i),n=(n<<5)-n+a,n&=n;return Math.abs(n)}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(10),o=a(8),s=a(13),y=a(20),_=a(67),w=a(68),E=a(69),j=a(70),q=a(16),$=a(24),ne=a(71),ie=a(38),oe=a(39),se=a(72),le=a(37),pe=a(73),he=a(74),me=a(75),ge=a(76);n.default=class EntityManager extends i{constructor(r,n){super(),this.scene=r,this.currentTickNumber=0,this.tickTimeMs=35,this.time=0,this.perfMeasurements=new Map,this.singletons=new Map,this.archetypes=new Map,this.systemManager=new ge.default,this.componentLookup=new Map,this.componentLookupByName=new Map,this.entities=[],this.componentPools=new Map,this.compManager=new ne.ComponentManager,this.groups=new Map,this.groupArray=[],this.entityPool=new pe.EntityPool(0,oe.MAX_NUM_NON_NETWORKED_ENTITIES),this.networkedEntityPool=new pe.EntityPool(oe.MAX_NUM_NON_NETWORKED_ENTITIES,oe.MAX_NUM_ENTITIES-oe.MAX_NUM_NON_NETWORKED_ENTITIES),this.componentsDeferred=[],this.removeComponentsDeferred=[],this.updateComponentsDeferred=[],this.removeQueue=[],this.componentDefaultValues=new Map,this.singletonTempData=new Map,this.compMaskPool=new ie.TempComponentMaskPool,this.compAddMode=!1,this.compAddEntity=null,this.compAddComponent=null,this.compAddOldCompMask=new ie.ComponentMask,this.init(n.components,n.systems)}tryCreateWithIndex(r){let n=this.entityPool.allocateSpecificIndex(r&oe.ENTITY_UID_INDEX_MASK);return n&&n.index===(r&oe.ENTITY_UID_INDEX_MASK)&&(n.uid=r),n||(n=this.entityPool.allocate()),n.isFree=!1,this.entities.push(n),this.compManager.updateWithNextEntityIndex(this.entityPool.getNextUnallocatedIndex()),n}createWithIndex(r){const n=this.entityPool.allocateSpecificIndex(r&oe.ENTITY_UID_INDEX_MASK);return n.index===(r&oe.ENTITY_UID_INDEX_MASK)&&(n.uid=r),n.isFree=!1,this.entities.push(n),this.compManager.updateWithNextEntityIndex(this.entityPool.getNextUnallocatedIndex()),n}create(){const r=this.entityPool.allocate();return r.isFree=!1,this.entities.push(r),this.compManager.updateWithNextEntityIndex(this.entityPool.getNextUnallocatedIndex()),r}getEntity(r){const n=r&oe.ENTITY_UID_INDEX_MASK;if(n<this.entityPool.entityStartIndex()||this.entityPool.entityEndIndexExclusive()<=n)return null;const a=this.entityPool.getByIndex(n);return a&&!a.isFree&&r>>oe.ENTITY_UID_INDEX_NUM_BITS===a.generation&&a||null}getEntityByIndex(r){return this.entityPool.getByIndex(r)}getEntityGroupByComponents(r){const n=this.compMaskPool.get();for(const a of r)n.setComponentBit(a);return this.getEntityGroup(n)}getGroup(...r){const n=this.compMaskPool.get();for(let a=0;a<r.length;a++){const i=r[a];0!==i.id&&n.setComponentBitFromID(i.id)}return this.getEntityGroup(n)}getEntityGroup(r){let n=this.groups.get(r.hash());return n||(n=new le.default,n.componentMask.copy(r),this.queryEntities(r,n.entities),this.groups.set(r.hash(),n),this.groupArray.push(n)),n}getEntityGroups(r){const n=[];for(let a=0;a<this.groupArray.length;++a){const i=this.groupArray[a];r.compMask.hasComponents(i.componentMask)&&n.push(i)}return n}triggerGroupEvent(r,n,a,i){for(let o=0;o<this.groupArray.length;++o){const s=this.groupArray[o];n.compMask.hasComponents(s.componentMask)&&s.emit(r,n,a,i)}}init(r,n){for(const n of r)this.registerComponent(n);for(const r of n)this.registerSystem(r)}registerSystem(r){if(!r)return;if(r===Object)return void console.warn("Tried to register a non system class");let n=this.systemManager.getSystemInstance(r.name);return n||(n=new r,n.entityManager=this,n.scene=this.scene,this.systemManager.registerSystem(n),this.injectSystems(n),this.injectGroups(n),n.onInit(),this.initSystem(n),n)}registerSystems(r){for(const n of r)this.registerSystem(n)}async unregisterSystem(r){const n=this.systemManager.getSystemInstance(r.name);n?(n.enabled=!1,await this.disposeSystem(n),n.dispose(),this.systemManager.removeSystem(r.name)):E.warn("Cant unregister nonexisting system "+r.name)}unregisterSystems(r){for(const n of r)this.unregisterSystem(n)}async disposeSystem(r){const n=Reflect.getMetadata("ecs:group",r);if(n){const a=Object.keys(n);for(let n=0;n<a.length;n++){const i=r[a[n]];i.triggerEventForSystem("entityRemoved",r),w.removeListenersByContext(i,r)}}o.inputManager.removeAllListenersWithContext(r),w.removeListenersByContext(this,r)}async reloadSystem(r){this.systemManager.getSystemInstance(r.name)?(await this.unregisterSystem(r),this.registerSystem(r)):this.registerSystem(r)}async reloadSystems(r){for(let n=0;n<r.length;n++){const a=r[n];await this.reloadSystem(a)}}initSystem(r){const n=Reflect.getMetadata("ecs:group",r);if(!n)return;const a=Object.keys(n);for(let n=0;n<a.length;n++)r[a[n]].triggerEventForSystem("entityAdded",r)}registerComponent(r){if(0!==r.id)return;const n=this.compManager.registerComponentType(r,this.entityPool.getNextUnallocatedIndex());this.componentDefaultValues.set(n,new r),this.componentLookup.set(r.id,r),this.componentPools.set(r.id,new me.default(()=>new r));const{componentName:a}=r;this.componentLookupByName.set(a,r.id);const i=this;Object.defineProperty(se.default.prototype,a,{enumerable:!0,configurable:!1,get(){return i.getComponentById(this,r.id)}})}getComponentMetadata(r){if(!this.componentLookup.get(r))return E.warn("No component with id "+r),null}registerComponentsFromSystem(r){const n=Reflect.getMetadata("ecs:group",r.prototype);if(!n)return;const a=Object.keys(n);for(let r=0;r<a.length;r++){const{components:i}=n[a[r]];for(const r of i)this.registerComponent(r)}}getSystemsRecursive(r,n){(n=n||[]).push(...r);for(let a=0;a<r.length;a++){const i=r[a],o=Reflect.getMetadata("ecs:systems",i.prototype);if(!o)continue;const s=Object.keys(o);for(let r=0;r<s.length;r++){const a=s[r],i=o[a].type||o[a].getType();n.indexOf(i)>-1||this.getSystemsRecursive([i],n)}}return n}injectSystems(r){const n=Reflect.getMetadata("ecs:systems",r);if(!n)return;const a=Object.keys(n);for(let i=0;i<a.length;i++){const o=a[i],s=n[o].type||n[o].getType();r[o]=this.registerSystem(s)}}injectGroups(r){const n=Reflect.getMetadata("ecs:group",r);if(!n)return;const a=Object.keys(n);for(let i=0;i<a.length;i++){const o=a[i];for(let r=0;r<n[o].components.length;r++)this.registerComponent(n[o].components[r]);r[o]=this.getEntityGroupByComponents(n[o].components)}}getSystem(r){const n="string"==typeof r?r:r.name;return this.systemManager.getSystemInstance(n)}getComponentById(r,n){return this.compManager.getComponentArray(n)[r.index]}getComponentId(r){let n;if("number"==typeof r)n=r;else if("string"==typeof r)n=this.componentLookupByName.get(r)||null;else{const{id:a}=r;0===a&&this.registerComponent(r),n=r.id}return n}getComponentClassById(r){return this.componentLookup.get(r)||null}getComponentClassByName(r){const n=this.componentLookupByName.get(r);return n&&this.componentLookup.get(n)||null}tryGetComponent(r,n){const a=this.getComponentId(n);return a?this.compManager.getComponentArray(a)[r.index]:(E.error(`Component '${n}' doesnt exist.`),null)}getComponent(r,n){return this.tryGetComponent(r,n)}updateSystemsAddComponent(r,n,a){const i=this.compMaskPool.get().copy(r.compMask);for(let o=0;o<this.groupArray.length;o++){const s=this.groupArray[o];i.hasComponents(s.componentMask)&&(n.hasComponents(s.componentMask)?s.onEntityUpdated(r,a):s.addEntity(r))}}updateSystemsRemoveComponent(r,n,a){const i=this.compMaskPool.get().copy(r.compMask);for(let a=0;a<this.groupArray.length;a++){const o=this.groupArray[a],s=i.hasComponents(o.componentMask),y=n.hasComponents(o.componentMask);!s&&y&&o.removeEntity(r)}}updateComponent(r,n,a){const i=this.tryGetComponent(r,n);if(!i)return void E.warn(`Component '${n}' doesnt exist`);const o=this.getEntityGroups(r);a instanceof $.default?i.fromComponent(a):a&&i.fromJSON(a);for(const n of o)n.onEntityUpdated(r,i.name)}updateComponentDeferred(r,n,a){this.updateComponentsDeferred.push([r,n,a])}addComponentDeferred(r,n,a){this.componentsDeferred.push([r,n,a])}addComponentSlow(r,n,a){const i=this.getComponentId(n);if(!i)return null;if(this.hasComponentById(r,i))return a&&this.updateComponent(r,n,a),null;if(!i)return E.warn(`Component '${n}' does not exist!`),null;const o=this.componentPools.get(i).allocate();this.compManager.getComponentArray(i)[r.index]=o,a instanceof $.default?o.fromComponent(a):a&&o.fromJSON(a),o.entityId=r.uid,r.componentIds.push(i);const s=this.compMaskPool.get().copy(r.compMask);return r.compMask.setComponentBitFromID(i),this.updateSystemsAddComponent(r,s,o.name),o}addComponentBegin(r,n){this.compAddMode=!0;const a=null===this.compAddEntity;let i=n.id;0===i&&(this.registerComponent(n),i=n.id);const o=this.compManager.getComponentArray(i),s=r.index,y=this.componentPools.get(i).allocate();return o[s]=y,this.compAddEntity=r,this.compAddComponent=y,a&&this.compAddOldCompMask.copy(r.compMask),r.componentIds.push(i),r.compMask.setComponentBitFromID(i),y}addComponentFinalize(){const r=this.compAddEntity,n=this.compAddComponent.name;this.compAddMode=!1,this.compAddEntity=null,this.compAddComponent=null,this.updateSystemsAddComponent(r,this.compAddOldCompMask,n)}addComponents(r,n){for(let a=0;a<n.length;++a)this.addComponentSlow(r,n[a])}addArchetype(r,n){const a=this.archetypes.get(n);if(!a){const a=this.componentLookupByName.get(n);return a?void this.addComponentSlow(r,a):void E.warn(`Archetype ${n} does not exist`)}this.unserializeEntity(a.components,r)}hasComponentById(r,n){return!!n&&r.compMask.hasComponentById(n)}hasComponent(r,n){const a=this.getComponentId(n);return!!a&&r.compMask.hasComponentById(a)}hasAnyOfComponents(r,n){for(let a=0;a<n.length;a++){const i=n[a];if(r.compMask.hasComponentById(i.id))return!0}return!1}cloneEntity(r,n=[]){const a=r.componentIds.filter(r=>-1===n.findIndex(n=>n.id===r)).map(n=>this.getComponentById(r,n)),i=this.create();for(const r of a)this.addComponentSlow(i,r.name,r);return i}removeComponentById(r,n){if(!r.compMask.hasComponentById(n)){const r=this.componentLookup.get(n);return void(r?E.warn("Component does not exist on entity "+r.componentName):E.warn("Component does not exist on entity or anywhere "+n))}const a=this.compMaskPool.get().copy(r.compMask);r.compMask.unsetComponentBitFromID(n);const i=this.componentLookup.get(n);this.updateSystemsRemoveComponent(r,a,i.componentName),r.componentIds.splice(r.componentIds.indexOf(n),1);const o=this.compManager.getComponentArray(n),s=r.index,y=o[s],_=this.componentPools.get(n),w=this.componentDefaultValues.get(y.id);y.fromComponent(w),_.free(y),o[s]=null}removeComponentDeferred(r,n){const a=this.componentLookupByName.get(n);this.removeComponentsDeferred.push([r,a])}removeComponent(r,n){const a="string"==typeof n?this.componentLookupByName.get(n):n.id;this.removeComponentById(r,a)}resetComponent(r){const n=this.componentDefaultValues.get(r.id);r.fromComponent(n)}remove(r){if(r.isFree)E.warn("This entity is not allocated");else{this.emit("entityRemoved",r);for(let n=r.componentIds.length-1;n>-1;n--)this.removeComponentById(r,r.componentIds[n]);r.componentIds.length=0,this.entities.splice(this.entities.indexOf(r),1),r.compMask.clear(),r.isFree=!0,r.incrementGeneration(),this.entityPool.free(r)}}removeDeffered(r){this.removeQueue.push(r)}setSystemEnableStatus(r,n){const a=this.systemManager.getSystemInstance(r.name);a?a.enabled=n:E.warn(`system ${r.name} doesnt exist!`)}setSystemsEnableStatus(r,n){r.forEach(r=>this.setSystemEnableStatus(r,n))}queryEntities(r,n){const a=n||[],i=this.entityPool.entityStartIndex(),o=this.entityPool.entityEndIndexExclusive();for(let n=i;n<o;++n){const i=this.entityPool.getByIndex(n);i.compMask.hasComponents(r)&&a.push(i)}return a}getOrCreateSingleton(r,n){const a=this.getComponentId(r);if(!a){if(n&&"string"==typeof r)this.singletonTempData.set(r,n);else if("function"==typeof r)return this.registerComponent(r),new r;return{}}let i=this.singletons.get(a);if(i||(i=this.componentPools.get(a).allocate(),this.singletons.set(a,i)),n)this.updateSingleton(r,n);else{const r=this.componentLookup.get(a),n=r.componentName,i=this.singletonTempData.get(n);i&&(this.singletonTempData.delete(n),this.updateSingleton(r,i))}return i}updateSingleton(r,n){const a=this.getComponentId(r);if(!a)return void E.warn(`Singleton state of type ${r} does not exist`);const i=this.singletons.get(a);i?(this.emit("beforeUpdateState",r,i,n),n instanceof $.default?i.fromComponent(n):n&&i.fromJSON(n),this.emit("updateState",r,i,n)):E.warn(`Singleton state of type ${r.componentName} does not exist`)}removeSingleton(r){const n=this.getComponentId(r);if(!n)return void E.warn("Component doesnt exist");const a=this.singletons.get(n);if(!a)return void E.warn(`Singleton state of type ${r.componentName} does not exist`);const i=this.componentDefaultValues.get(a.id);a.fromComponent(i);const o=this.componentPools.get(n);this.singletons.delete(n),o.free(a)}updateTick(r){if(this.componentsDeferred.length>0){for(let r=0,n=this.componentsDeferred.length;r<n;++r)this.componentsDeferred[r][0].isFree?E.warn("This entity is not up for grabs!!!"):this.addComponentSlow(this.componentsDeferred[r][0],this.componentsDeferred[r][1],this.componentsDeferred[r][2]);this.componentsDeferred.length=0}if(this.updateComponentsDeferred.length>0){for(let r=0,n=this.updateComponentsDeferred.length;r<n;++r)this.updateComponentsDeferred[r][0].isFree||this.updateComponent(this.updateComponentsDeferred[r][0],this.updateComponentsDeferred[r][1],this.updateComponentsDeferred[r][2]);this.updateComponentsDeferred.length=0}if(this.removeComponentsDeferred.length>0){for(let r=0,n=this.removeComponentsDeferred.length;r<n;++r)this.removeComponentById(this.removeComponentsDeferred[r][0],this.removeComponentsDeferred[r][1]);this.removeComponentsDeferred.length=0}if(this.removeQueue.length>0){for(let r=0,n=this.removeQueue.length;r<n;++r)this.remove(this.removeQueue[r]);this.removeQueue.length=0}for(let n=0;n<this.systemManager.systemsList.length;n++){const a=this.systemManager.systemsList[n];if(a.enabled){const n=a.constructor.name;let i=this.perfMeasurements.get(n)||null;i||(i=new j.PerformanceMeasurer,this.perfMeasurements.set(n,i)),i.startSample(),a.updateTick(this.currentTickNumber,r),i.endSample()}}this.currentTickNumber+=1}updateFrame(r,n){this.time+=n;for(let a=0;a<this.systemManager.systemsList.length;a++){const i=this.systemManager.systemsList[a];if(i.enabled){const a=i.constructor.name+"::updateFrame";let o=this.perfMeasurements.get(a)||null;o||(o=new j.PerformanceMeasurer,this.perfMeasurements.set(a,o)),o.startSample(),i.updateFrame(r,n),o.endSample()}}this.compMaskPool.reset()}resimulateEntities(r,n,a,i){for(const o of this.systemManager.systemsList)o.enabled&&o.resimulateEntities(r,n,a,i)}printDebugInfo(){class NamedMeasurement{constructor(r,n){this.name=r,this.measurement=n}}const r=[];for(const[n,a]of this.perfMeasurements){const i=new NamedMeasurement(n,a);a.calculateStats(),r.push(i)}r.sort((r,n)=>n.measurement.getAvgMs()-r.measurement.getAvgMs());let n=5;r.length<n&&(n=r.length);for(let a=0;a<n;a++){const n=r[a];q.traceV2("System "+(a+1),n.name+" - "+n.measurement.shorterStatsString())}}executeCommandQueue(r){for(let n=0;n<r.commandQueue.length;n++){const[a,...i]=r.commandQueue[n];r[a](...i)}r.commandQueue.length=0}serializeJSON({skipComponents:r,checkFunc:n}={}){const a={gamekit:o.gamekitManager.currentGamekit.name,componentMap:{},entities:[],singletons:{}};for(const[r,n]of this.componentLookupByName.entries())a.componentMap[n]=r;const i=r&&r.map(r=>r.id)||null;_.startBenchmark("serialize state");for(const r of this.singletons.values())i&&-1!==i.indexOf(r.id)||(a.singletons[r.name]=r.toJSON());for(let r=0;r<this.entities.length;++r){const o=this.entities[r];if(n&&!n(o))continue;let s;s=i?o.componentIds.filter(r=>-1===i.indexOf(r)):o.componentIds.slice();const y=Array(s.length);for(let r=0;r<y.length;r++){const n=s[r];y[r]=this.getComponentById(o,n).toJSON()}a.entities.push({id:o.uid,componentIds:s,components:y})}return s.isDebugMode&&_.finishBenchmark("serialize state"),a}unserializeJSON(r,{checkFunc:n}={},a=!1){_.startBenchmark("unserialize state");const i=new Map;for(const[n,a]of Object.entries(r.singletons))this.getOrCreateSingleton(n,a);if(!a){for(let n=0;n<r.entities.length;++n){const a=r.entities[n];i.set(a.id,!0)}for(let r=this.entities.length-1;r>-1;--r)i.has(this.entities[r].uid)||n&&!n(this.entities[r])||this.remove(this.entities[r])}for(let n=0;n<r.entities.length;++n){const a=r.entities[n];let i=this.getEntity(a.id);i&&!i.isFree||(i=this.createWithIndex(a.id));let o=!1;for(let n=0;n<a.componentIds.length;++n){const s=this.componentLookupByName.get(r.componentMap[a.componentIds[n]]);if(s)if(i.compMask.hasComponentById(s)){const r=this.getComponentById(i,s).getHash();a.components[n].hash!==r&&this.updateComponent(i,s,a.components[n])}else{const r=this.getComponentClassById(s);r&&(this.addComponentBegin(i,r).fromJSON(a.components[n]),o=!0)}}o&&this.addComponentFinalize();const s=i.componentIds.slice();for(let n=0;n<s.length;n++){const o=s[n];let y=!0;for(let n=0;n<a.componentIds.length;++n)if(o===this.componentLookupByName.get(r.componentMap[a.componentIds[n]])){y=!1;break}y&&this.removeComponentById(i,o)}}const o=this.getSystem(y.default);o&&(o.world.world.getDispatcher().dispatchAllCollisionPairs(o.world.world.getPairCache(),o.world.world.getDispatchInfo(),o.world.world.getDispatcher()),o.world.checkCollisions()),_.finishBenchmark("unserialize state")}generateDiff(r,n={}){_.startBenchmark("GenerateDiff");const a=[],i=new Map;for(let n=0;n<r.entities.length;++n){const o=r.entities[n],s=this.getEntity(o.id);let y=-1;const _=[];let w=he.DiffStateType.ADD;if(s&&!s.isFree&&(y=s.uid,w=he.DiffStateType.UPDATE),-1===y)a.push({type:he.DiffStateType.REMOVE,id:o.id});else{for(let r=0;r<o.componentIds.length;++r)if(s.compMask.hasComponentById(o.componentIds[r])){const n=this.getComponentById(s,o.componentIds[r]);o.components[r]&&n||console.log(r,o.components,n),o.components[r].hash!==n.hash&&_.push({type:he.DiffStateType.UPDATE,id:o.componentIds[r],data:n.toJSON()})}else _.push({type:he.DiffStateType.REMOVE,id:o.componentIds[r]});const{componentIds:r}=s;for(let n=0;n<r.length;++n)o.componentIds.indexOf(r[n])>-1||_.push({type:he.DiffStateType.ADD,id:r[n],data:this.getComponentById(s,r[n]).toJSON()});_.length&&a.push({type:w,id:y,components:_}),i.set(s.uid,!0)}}for(let r=this.entities.length-1;r>-1;--r)i.has(this.entities[r].uid)||n.checkFunc&&!n.checkFunc(this.entities[r])||a.push({type:he.DiffStateType.ADD,id:this.entities[r].uid,components:[]});return _.finishBenchmark("GenerateDiff"),a}serializeEntity(r,n=[]){const a={},i=r.componentIds.filter(r=>-1===n.findIndex(n=>n.id===r)).map(n=>this.getComponentById(r,n));for(const r of i)a[r.name]=r.toJSON();return a}unserializeEntity(r,n,a=!1){n=n||this.create();let i=!1;for(const a of Object.keys(r)){const o=this.getComponentClassByName(a);o&&(n.compMask.hasComponentById(o.id)?this.updateComponent(n,o,r[a]):(i=!0,this.addComponentBegin(n,o).fromJSON(r[a])))}if(i&&this.addComponentFinalize(),a)for(let a=0;a<n.componentIds.length;a++){const i=n.componentIds[a],o=this.componentLookup.get(i);o&&!r[o.componentName]&&this.removeComponent(n,o)}return n}registerArchetype(r){this.archetypes.set(r.id,r)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.disableGammaEncoding=n.timeLimitS=n.scoreLimit=n.shooterGameMode=n.disablePauseMenu=n.joinedRandom=n.projectId=n.isNative=n.isApp=n.gk=n.characterConfig=n.disableDisconnect=n.queryExtrapolationDontReadThis=n.loadShooterMap=n.targetGameKit=n.maxPlayerCount=n.isPublishMode=n.privateRoom=n.chat=n.disableDynamicResolutionDontReadThis=n.roomId=n.isMultiplayerMode=n.wasRecommended=n.forceMode=n.forceLoadWorld=n.isEnvironmentMode=n.isSSAOMode=n.isBossMode=n.isExpertMode=n.isRenderDebugMode=n.isFrameDebugMode=n.isDebugMode=void 0;const i=a(14),o=a(7);n.isDebugMode=!!o.getQueryParam("debug"),n.isFrameDebugMode=!!o.getQueryParam("frameDebug"),n.isRenderDebugMode=!!o.getQueryParam("renderDebug"),n.isExpertMode=!!o.getQueryParam("ilovehiber"),n.isBossMode=!!o.getQueryParam("boss"),n.isSSAOMode=!!o.getQueryParam("ssao"),n.isEnvironmentMode=!!o.getQueryParam("environment"),n.forceLoadWorld=o.getQueryParam("forceLoadWorld"),n.forceMode=+o.getQueryParam("forceMode"),n.wasRecommended=!!o.getQueryParam("recommended"),n.isMultiplayerMode=!!o.getQueryParam("mp"),n.roomId=o.getQueryParam("roomId"),n.disableDynamicResolutionDontReadThis=!!o.getQueryParam("disableDynamicRes"),n.chat=!!o.getQueryParam("chat"),n.privateRoom="true"===o.getQueryParam("p"),n.isPublishMode=!!o.getQueryParam("publish"),n.maxPlayerCount=+o.getQueryParam("playerCount"),n.targetGameKit=o.getQueryParam("tgk"),n.loadShooterMap=o.getQueryParam("loadMap"),n.queryExtrapolationDontReadThis=!!o.getQueryParam("extrapolation"),n.disableDisconnect=!!o.getQueryParam("disableDisconnect"),n.characterConfig=o.getQueryParam("chrconf"),n.gk=o.getQueryParam("gk"),n.isApp=!!o.getQueryParam("isApp"),n.isNative=!!o.getQueryParam("isNative"),n.projectId=o.getQueryParam("projectId")||o.getQueryParam("pId"),n.joinedRandom=!!o.getQueryParam("joinedRandom"),n.disablePauseMenu=o.getQueryParam("disablePauseMenu"),n.shooterGameMode=+o.getQueryParam("gm")||i.GameMode.FreeForAll,n.scoreLimit=+o.getQueryParam("scoreLimit"),n.timeLimitS=+o.getQueryParam("timeLimit"),n.disableGammaEncoding=!!o.getQueryParam("disableGammaEncoding")},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.gameModes=n.GameMode=void 0;const i=a(15),o=a(17),s=a(18);var y;!function(r){r[r.FreeForAll=0]="FreeForAll",r[r.TeamDeathMatch=1]="TeamDeathMatch",r[r.TeamDeathMatch4Teams=2]="TeamDeathMatch4Teams"}(y=n.GameMode||(n.GameMode={}));const _=+s.default.request("scoreLimit")||1500,w=+s.default.request("timeLimit")||300;n.gameModes=new Map([[y.FreeForAll,new i.FreeForAll({scoreLimit:_,timeLimitS:w})],[y.TeamDeathMatch,new o.TeamDeathMatch({scoreLimit:_,timeLimitS:w,numTeams:2})],[y.TeamDeathMatch4Teams,new o.TeamDeathMatch({scoreLimit:_,timeLimitS:w,numTeams:4})]])},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FreeForAll=void 0;const i=a(13),o=a(16);n.FreeForAll=class FreeForAll{constructor(r){this.scoreLimit=-1,this.timeLimitS=-1,this.numTeams=0,Object.assign(this,r)}finishGame(r){if(r.timeS>=this.timeLimitS)return!0;if(i.isDebugMode&&o.traceV2("FFA_TimeLimit",`${Math.floor(r.timeS)}/${this.timeLimitS}`),this.scoreLimit>0){let n=0;for(let a=0;a<r.players.length;a++){const i=r.players[a];if(i.score>n&&(n=i.score),i.score>=this.scoreLimit)return!0}i.isDebugMode&&o.traceV2("FFA_ScoreLimit",`${n}/${this.scoreLimit}`)}return!1}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.traceV2=n.clearTraces=n.markForClear=n.initTrace=void 0;const i=new Map;let o,s=!1;n.initTrace=()=>{o=document.createElement("div"),o.style.display="flex",o.style.position="absolute",o.style.top="0",o.style.flexDirection="column",o.style.color="#FFF",o.style.background="rgba(0,0,0,.5)",o.style.pointerEvents="none",document.body.appendChild(o)},n.markForClear=()=>{for(const r of i.values())r[1]=!0},n.clearTraces=()=>{for(const[r,n]of i.entries())n[1]&&(n[0].remove(),i.delete(r))},n.traceV2=(r,a)=>{s||(n.initTrace(),s=!0);let y=i.get(r);y?y[1]=!1:(y=[document.createElement("span"),!1],y[0].style.borderTop="1px solid #CCC",y[0].style.padding="5px",i.set(r,y),o.appendChild(y[0])),y[0].textContent=`${r}: ${a}`}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TeamDeathMatch=void 0;const i=a(13),o=a(16);n.TeamDeathMatch=class TeamDeathMatch{constructor(r){this.scoreLimit=-1,this.timeLimitS=-1,this.numTeams=2,this.teamScores=new Int32Array(8),Object.assign(this,r)}finishGame(r){if(r.timeS>=this.timeLimitS)return!0;this.teamScores.fill(0);for(let n=0;n<r.players.length;n++){const a=r.players[n];if(this.teamScores[a.team]+=a.score,this.teamScores[a.team]>=this.scoreLimit)return!0}return i.isDebugMode&&(o.traceV2("FFA_TimeLimit",`${Math.floor(r.timeS)}/${this.timeLimitS}`),o.traceV2("FFA_ScoreLimit","0/"+this.scoreLimit)),!1}}},function(r,n,a){"use strict";a.r(n),function(r){a.d(n,"MedianFilter",(function(){return MedianFilter})),a.d(n,"FPSMeter",(function(){return FPSMeter}));var i=a(19);String.prototype.replaceAll=function(r,n){return this.split(r).join(n)};const o=function(){const n=new i.Vector3,a=new i.Vector3,s={pointRotateQuat:new i.Quaternion};function _extend(...r){const n={};let a=!1,i=0;const{length:o}=r;"[object Boolean]"==={}.toString.call(r[0])&&(a=r[0],i++);const merge=function(r){for(const i in r)({}).hasOwnProperty.call(r,i)&&(a&&"[object Object]"==={}.toString.call(r[i])||(n[i]=r[i]))};for(;i<o;i++)merge(r[i]);return n}function _jsonClone(r){let n;try{n=JSON.parse(JSON.stringify(r))}catch(a){n=r}return n}function _each(r,n){if(r instanceof Array){const a=r.length;let i;for(i=0;i<a;i+=1)n(r[i],i)}else if(r){let a=0;for(const i of Object.keys(r))n(r[i],i,a),a++}}function _request(r){return(r=RegExp(`[?&]${encodeURIComponent(r)}=([^&]*)`).exec(location.search))?decodeURIComponent(r[1]):""}function _getAlterMatrix(r){const n=[];return r.position&&n.push((new i.Matrix4).setPosition(new i.Vector3(r.position.x,r.position.y,r.position.z))),r.rotation&&r.rotation.x&&n.push((new i.Matrix4).makeRotationAxis(new i.Vector3(1,0,0),r.rotation.x)),r.rotation&&r.rotation.y&&n.push((new i.Matrix4).makeRotationAxis(new i.Vector3(0,1,0),r.rotation.y)),r.rotation&&r.rotation.z&&n.push((new i.Matrix4).makeRotationAxis(new i.Vector3(0,0,1),r.rotation.z)),r.scale&&(isNaN(r.scale)||(r.scale={x:r.scale,y:r.scale,z:r.scale}),n.push((new i.Matrix4).scale(r.scale))),function(r){let n=new i.Matrix4;return r.forEach((r,a)=>{n=(new i.Matrix4).multiplyMatrices(n,r)}),n}(n)}function _toScreenXY(r,n,a,o,s,y){const _=r.clone(),w=new i.Matrix4;return w.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),_.applyMatrix4(w),{x:(_.x+1)*a/2+s,y:(1-_.y)*o/2+y}}function _minMax(r,n,a){return Math.min(Math.max(n,r),a)}function _snapValue(r,n){return n*Math.round(r/n)}function _scollIntoView(r,n,a){let i;a=o.defVal(a,350),n=o.defVal(n,0),i=r instanceof jQuery?r:$(r),$("html, body").animate({scrollTop:i.offset().top+n},a)}function _getSearchQueryValue(r){const n=RegExp(`(\\?|&)${r}=([^&]+)`),a=window.location.search.match(n);return a&&a[2]}function _iOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function _boxUVHelper(r,n,a,i,o,s,y,_,w){const E=y.x*(a.x-o.min.x)/s.x,j=y.y*(a.y-o.min.y)/s.y,q=y.z*(a.z-o.min.z)/s.z;let $=0,ne=0;if(i.x>=i.y&&i.x>=i.z&&($=q,ne=j),i.y>=i.x&&i.y>=i.z&&($=E,ne=q),i.z>=i.x&&i.z>=i.y&&($=E,ne=j),w&&($=w.x+$,ne=w.y+ne),Math.abs(n[2*r]-$)>.001||Math.abs(n[2*r+1]-ne)>.001)return duplicate=!0,[r,$,ne];n[2*r]=$,n[2*r+1]=ne}function _nudgeValueRandom(r,n,a){const i=1/Math.pow(10,n);let o=-i+Math.random()*i*2;return a&&(o=a>0?o+a:o-a),r+o}function _hashCode(r){let n=0;if(!r.length)return n;for(let a,i=0,o=r.length;i<o;++i)a=r.charCodeAt(i),n=(n<<5)-n+a,n&=n;return Math.abs(n)}return{getAlterMatrix:_getAlterMatrix,normalizeAnimation:function _normalizeAnimation(r){for(let n=r.tracks.length-1;n>-1;--n){const a=r.tracks[n];a.optimize(),a instanceof i.VectorKeyframeTrack&&r.tracks.splice(n,1)}return r},quickHash:function _quickHash(r){return _hashCode(Object.values(r).map(r=>{switch(typeof r){case"object":return _quickHash(r);case"number":return Math.round(100*r)/100;case"string":return r;default:return""}}).filter(r=>!!r).join(""))},callee:function _callee(){let r;try{throw Error()}catch(n){const a=/(\w+)@|at (\w+) \(/g,i=n.stack;let o;a.exec(i),o=a.exec(i),r=o[1]||o[2]}console.log(r)},arrayToBase64:function _arrayToBase64(r){let n="";const a=new Uint8Array(r),i=a.byteLength;for(let r=0;r<i;r++)n+=String.fromCharCode(a[r]);return btoa(n)},xfnv1a:function _xfnv1a(r){let n=2166136261;for(let a=0;a<r.length;a++)n=Math.imul(n^r.charCodeAt(a),16777619);return()=>(n+=n<<13,n^=n>>>7,n+=n<<3,n^=n>>>17,(n+=n<<5)>>>0)},getTimeString:function _getTimeString(r){const n=Math.floor(r/60),a=Math.floor(r%60).toString().padStart(1,"0"),i=Math.floor(1e3*r%1e3).toString().padStart(3,"0");return n>0?`${n}min ${a}:${i}s`:`${a}:${i}s`},findInArray:function _findInArray(r,n,a="id",i=!1){const o=r.filter(r=>r[a]===n);return i?o:1===o.length?o[0]:o.length>1&&o},buildBoxOfBoxes:function _buildBoxOfBoxes(r,n){},makeHighlightGeometry:function _makeHighlightGeometry(r){const n=(new i.Geometry).fromBufferGeometry(r);return n.mergeVertices(),n.computeVertexNormals(),(new i.BufferGeometry).fromGeometry(n)},getSunPosition:function _getSunPosition(r,n=1e3){return r.getWorldDirection(new i.Vector3).multiplyScalar(n)},vecNorm:function _vecNorm(r){const n=r.toArray();let a=-1,i=0;for(let r=0;r<n.length;++r)Math.abs(i)<Math.abs(n[r])&&(a=r,i=n[r]);for(let r=0;r<n.length;++r)n[r]=r===a?n[r]>0?1:-1:0;return r.fromArray(n)},getSearchQueryValue:_getSearchQueryValue,interpolate:function _interpolate(r,n,a){const i=.5*(n-r),o=a-.5*(r+n);return Math.min(Math.max(-1/(i*i)*o*o+1,0),1)},dilateGeometry:function _dilateGeometry(r,a){if(!(r instanceof i.BufferGeometry))return void console.error("Argument needs to be an instance of THREE.BufferGeometry");const o=r.attributes.position.array,s=r.attributes.position.array;for(let r=0,i=s.length/3;r<i;++r){const i=s[3*r],y=s[3*r+1],_=s[3*r+2];n.set(i,y,_),n.normalize(),o[3*r]+=n.x*a,o[3*r+1]+=n.y*a,o[3*r+2]+=n.z*a}return r},hashCode:_hashCode,nudgeValueRandom:_nudgeValueRandom,nudgeVectorRandom:function _nudgeVectorRandom(r,n,a){return r.x=_nudgeValueRandom(r.x,n,a),r.y=_nudgeValueRandom(r.y,n,a),r.z=_nudgeValueRandom(r.z,n,a),r},snapVectorToGrid:function _snapVectorToGrid(r,n){return r.x=_snapValue(r.x,n),r.y=_snapValue(r.y,n),r.z=_snapValue(r.z,n),r},getBrowser:function _getBrowser(){const r=navigator.userAgent;let n,a=r.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(a[1])?(n=/\brv[ :]+(\d+)/g.exec(r)||[],{name:"IE",version:n[1]||""}):"Chrome"===a[1]&&(n=r.match(/\bOPR|Edge\/(\d+)/),null!=n)?{name:"Opera",version:n[1]}:(a=a[2]?[a[1],a[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(n=r.match(/version\/(\d+)/i))&&a.splice(1,1,n[1]),{name:a[0],version:a[1]})},applyBoxUvMap:function _applyBoxUvMap(r,a,o,s){const y=r.attributes.position.array,_=r.attributes.normal.array;let w;if(r.attributes.uv)w=r.attributes.uv.array;else{const n=new i.BufferAttribute(new Float32Array(2*y.length/3),2);r.addAttribute("uv",n),w=n.array}w.fill(0),r.boundingBox||r.computeBoundingBox();const E=r.boundingBox,j=r.boundingBox.getSize(n);let q=null,$=0;const ne=[];r.index?(q=r.index.array,$=r.index.count):$=y.length/3;const ie=new i.Vector3,oe=new i.Vector3,se=new i.Vector3,le=new i.Vector3,pe=new i.Vector3,he=new i.Vector3,me=new i.Vector3,ge=new i.Vector3;$/=3;for(let r=0;r<$;++r){const n=3*r,i=q?q[n]:n,o=q?q[n+1]:n+1,$=q?q[n+2]:n+2;ie.fromArray(y,3*i),oe.fromArray(y,3*o),se.fromArray(y,3*$),he.fromArray(_,3*i),me.fromArray(_,3*o),ge.fromArray(_,3*$),le.subVectors(se,oe),pe.subVectors(ie,oe),le.cross(pe),le.set(Math.abs(le.x),Math.abs(le.y),Math.abs(le.z));const ye=_boxUVHelper(i,w,ie,le,E,j,a,0,s),_e=_boxUVHelper(o,w,oe,le,E,j,a,0,s),ve=_boxUVHelper($,w,se,le,E,j,a,0,s);ye&&ne.push([n,...ye]),_e&&ne.push([n+1,..._e]),ve&&ne.push([n+2,...ve])}return ne.length&&function _duplicateVertices(r,n){const a=r.attributes.position.count,i=new Uint32Array(a).fill(0),o=[];Object.keys(r.attributes).forEach(a=>{const{count:s,itemSize:y,array:_}=r.attributes[a],w=new Float32Array(s*y+n.length*y);let E=0,j=n[E++],q=0,$=0;for(let ne=0;ne<s;++ne){switch(y){case 3:w[y*q]=_[y*ne],w[y*q+1]=_[y*ne+1],w[y*q+2]=_[y*ne+2];break;case 2:w[y*q]=_[y*ne],w[y*q+1]=_[y*ne+1]}let s=0;for(;j&&ne>=j[1]&&n.length>=E;){q+=1,s++,"position"===a&&o.push([j[0],q]);const i=r.index.array[j[0]];switch(y){case 3:w[y*q]=_[y*i],w[y*q+1]=_[y*i+1],w[y*q+2]=_[y*i+2];break;case 2:w[y*q]=j[2],w[y*q+1]=j[3]}j=n[E++]}q+=1,"position"===a&&($+=s,i[ne]+=$)}r.attributes[a].setArray(w)});for(let n=0,a=r.index.count;n<a;++n){const a=r.index.array[n]-1;r.index.array[n]+=i[a]}for(let n=0,a=o.length;n<a;++n){const[a,i]=o[n];r.index.array[a]=i}}(r,ne),r},applySphericalUvMap:function _applySphericalUvMap(r,n){const a=r.attributes.position.array,o=r.attributes.uv.array;r.boundingSphere||r.computeBoundingSphere();const s=new i.Vector3;for(let r=0;r<a.length/3;++r){const n=a[3*r],i=a[3*r+1],y=a[3*r+2];s.set(n,i,y),s.normalize();const _=.5-Math.atan(s.z,-s.x)/(2*Math.PI),w=.5-Math.asin(s.y)/Math.PI;o[2*r]=_,o[2*r+1]=w}return r},isMobile:function _isMobile(){return/Mobi/i.test(navigator.userAgent)||/Android/i.test(navigator.userAgent)||navigator.maxTouchPoints>0&&/MacIntel/.test(navigator.platform)},hasHover:function _hasHover(){return r.browser&&!1===window.matchMedia("(any-hover: none)").matches},isTouchDevice:function _isTouchDevice(){return r.browser&&!0===window.matchMedia("(any-pointer: coarse)").matches||"true"==_getSearchQueryValue("istouch")},isMac:function _isMac(){return navigator.platform.toUpperCase().indexOf("MAC")>=0},isIPad:function _isIPad(){return null!=navigator.userAgent.match(/iPad/i)},isSafari:function _isSafari(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},scollIntoView:_scollIntoView,scollTo:_scollIntoView,snapRotation:function _snapRotation(r,n,a){n||(n=Math.PI/4);const s=(new i.Euler).setFromQuaternion(r);return s.x=o.snapValue(s.x,n),s.y=o.snapValue(s.y,n),s.z=o.snapValue(s.z,n),a&&(s.x*=a.x,s.y*=a.y,s.z*=a.z),r.setFromEuler(s),r},getPlaneDirection:function _getPlaneDirection(r,n,o,s){return s||(s=new i.Vector3),s.subVectors(o,n),a.subVectors(r,n),s.cross(a),s.normalize(),s},round:function _round(r,n){const a=10*n;return(r*a+.5<<1>>1)/a},vectorFuzzyEqual:function _vectorFuzzyEqual(r,n,a){return a=a||.001,Math.abs(r.x-n.x)<a&&Math.abs(r.y-n.y)<a&&Math.abs(r.z-n.z)<a},vectorFuzzyEqualAbs:function _vectorFuzzyEqualAbs(r,n,a){return a=a||.001,Math.abs(Math.abs(r.x)-Math.abs(n.x))<a&&Math.abs(Math.abs(r.y)-Math.abs(n.y))<a&&Math.abs(Math.abs(r.z)-Math.abs(n.z))<a},isVectorFuzzyZero:function _isVectorFuzzyZero(r,n){return n=n||.001,r.x<n&&r.y<n&&r.z<n},getXYZ:function _getXYZ(r,n){let a;return a=isNaN(r)?{x:r.x||0,y:r.y||0,z:r.z||0}:{x:r,y:r,z:r},n&&(a=(new i.Vector3).copy(a)),a},json2String:function _json2String(r){return JSON.stringify(r,null,"\t")},now:function _now(){return performance.now()||Date.now()},toTitleCase:function _toTitleCase(r){return r.replace(/\w\S*/g,r=>r.charAt(0).toUpperCase()+r.substr(1).toLowerCase())},capitalizeFirstLetter:function _capitalizeFirstLetter(r){return r.charAt(0).toUpperCase()+r.slice(1)},snapValue:_snapValue,getRelativeQuaternion:function _getRelativeQuaternion(r,n){r.updateMatrixWorld(),n.updateMatrixWorld();const a=(new i.Matrix4).multiplyMatrices(n.matrix,r.matrix);return(new i.Quaternion).setFromRotationMatrix(a)},getRelativePosition:function _getRelativePosition(r,n){const a=(new i.Matrix4).multiplyMatrices(n.matrix,r.matrix);return(new i.Vector3).setFromMatrixPosition(a)},worldToLocal:function _worldToLocal(r,n){const a=new i.Matrix4,o=new i.Vector3,s=new i.Vector3;return a.identity(),a.identity().makeRotationFromQuaternion(n.quaternion),a.getInverse(a),o.copy(r),s.copy(n.position),o.sub(s).applyMatrix4(a)},download:function _download(r,n){const a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(n)),a.setAttribute("download",r),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)},inIframe:function _inIframe(){try{return window.self!==window.top}catch(r){return!0}},stopListen:function _stopListen(r,n){window.removeEventListener(r,n,!1)},getCookie:function _getCookie(r){const n=r+"=",a=document.cookie.split(";");for(let r=0;r<a.length;r++){let i=a[r];for(;" "==i.charAt(0);)i=i.substring(1);if(0===i.indexOf(n))return i.substring(n.length,i.length)}return""},setCookie:function _setCookie(r,n,a){const i=new Date;i.setTime(i.getTime()+864e5*a);const o="expires="+i.toUTCString();document.cookie=`${r}=${n};${o};path=/`},deleteCookie:function _deleteCookie(r){document.cookie=r+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"},alterGeometry:function _alterGeometry(r,n){if(!n)return r;const a=_getAlterMatrix(n);return r.applyMatrix4(a),r.computeBoundingSphere(),r.computeBoundingBox(),r},mergeMeshToGeometry:function _mergeMeshToGeometry(r){const n=new i.Geometry;return r.forEach(r=>{r.updateMatrix(),n.merge(r.geometry,r.matrix)}),n.computeBoundingBox(),n.computeBoundingSphere(),n},randomKey:function _randomKey(){return parseInt(parseInt(100*Math.random())+""+(new Date).getTime()+parseInt(100*Math.random())).toString(36)},shuffleArray:function _shuffleArray(r){for(let n=r.length-1;n>0;n--){const a=Math.floor(Math.random()*(n+1));[r[n],r[a]]=[r[a],r[n]]}},randFromArray:function _randFromArray(r){return r[Math.floor(Math.random()*r.length)]},degToRad:function _degToRad(r){return r*(Math.PI/180)},toValidName:function _toValidName(r){return(r=(r=r.toLowerCase()).replace(/[^a-zA-Z 0-9]+/g,"")).replace(/^\s+|\s+$/gm,"")},each:_each,first:function _first(r){return Object.keys(r)[0]},size:function _size(r){if(r)return Object.keys(r).length},objectToArray:function _objectToArray(r){const n=[];return _each(r,(r,a)=>{r.key=a,n.push(r)}),n},arrayToObject:function _arrayToObject(r){const n={};return o.each(r,r=>{n[r]=r}),n},sortByKey:function _sortByKey(r,n,a){return r.sort((r,i)=>{const o="function"==typeof r[n].getMonth?r[n].getTime():r[n],s="function"==typeof i[n].getMonth?i[n].getTime():i[n];return"desc"===a?o>s?-1:o<s?1:0:o<s?-1:o>s?1:0})},paramSplit:function _paramSplit(r){if(r.indexOf(":")){const n=r.split(":");return{name:n[0],param:n[1]}}return{name:null,param:null}},round1:function _round1(r){return Math.round(10*r)/10},round2:function _round2(r){return Math.round(100*r)/100},round3:function _round3(r){return Math.round(1e3*r)/1e3},to0X:function _to0X(r){return"0x"+r.split("#").join("")},getDatalist:function _getDatalist(r){let n=[];return"string"==typeof r?n=r.split(","):Array.isArray(r)?n=r:"object"==typeof r&&o.each(r,(r,a)=>{n.push(a)}),n},hexStringToValue:function _hexStringToValue(r){return r=r.split("#").join(""),parseInt(r,16)},extend:_extend,clone:function _clone(r){return _extend(r,{})},jsonClone:_jsonClone,matchObject:function _matchObject(r,n){return r=_jsonClone(r),n=_jsonClone(n),r?o.extend(n,r):n},defVal:function _defVal(r,n){return null==r||""===r?n:r},takeSnapShot:function _takeSnapShot(r,n){return"jpg"===n&&(n="jpeg"),n=n||"png",r.toDataURL("image/"+n,1)},takeBinarySnapshot:function _takeBinarySnapshot(r,n){return console.log(n),new Promise((a,i)=>{r.toBlob(r=>{a(r)},n,.6)})},resizeSnapShot:function _resizeSnapShot(r,n,a,i){const o=document.createElement("img");o.onload=function(){null===a&&(a=n*(o.height/o.width)),null===n&&(n=a*(o.height/o.width));const r=document.createElement("canvas"),s=r.getContext("2d");r.width=n,r.height=a,s.drawImage(this,0,0,n,a);const y=r.toDataURL("image/jpeg",.9);i(y)},o.src=r},fancify:function _fancify(r){return(r=(r=r.split("_").join(" ")).split("$").join(".")).substr(0,1).toUpperCase()+r.substr(1)},makeThreeVectorOf:function _makeThreeVectorOf(r){let n=null;return Array.isArray(r)?2===r.length?n=new i.Vector2(r[0],r[1]):3===r.length&&(n=new i.Vector3(r[0],r[1],r[2])):"object"==typeof r&&(2===o.size(r)?n=new i.Vector2(r.x,r.y):3===o.size(r)&&(n=new i.Vector3(r.x,r.y,r.z))),n||console.error("Input to makeThreeVectorOf is not valid"),n},request:_request,inStudio:function _inStudio(){return"snap"===(window.GAMEKIT||_request("gk")||"snap")},stringCast:function _stringCast(r){if("string"!=typeof r)return r;const check=function(r){return"true"===r.toLowerCase()||"false"!==r.toLowerCase()&&(isNaN(r.replace(",","."))?r:(r=r.replace(",",".")).indexOf(".")?parseFloat(r):parseInt(r))};if(""===r)return"";if(-1===r.indexOf("{"))return check(r);try{const n=JSON.parse(r);if(n&&"object"==typeof n&&null!==n)return n}catch(n){check(r)}},castTraverse:function _castTraverse(r){if(r){const n={};return o.each(r,(r,a)=>{"object"==typeof r?o.castTraverse(r):n[a]=o.stringCast(r)}),n}},rand:function _rand(r,n){return Math.floor(Math.random()*(n-r+1)+r)},randFloat:function _randFloat(r,n){return(Math.random()*(n-r)+r).toFixed(4)},iOS:_iOS,isOS:_iOS,isAndroid:function _isAndroid(){return navigator.userAgent.toLowerCase().indexOf("android")>-1},toBufferGeometry:function _toBufferGeometry(r){return(new i.BufferGeometry).fromGeometry(r)},toGeometry:function _toGeometry(r){return(new i.Geometry).fromBufferGeometry(r)},toBufferGeometryOnMesh:function _toBufferGeometryOnMesh(r){const n=(new i.Geometry).fromBufferGeometry(r.geometry),a=new i.Mesh(n,r.material);return a.position.copy(r.position),a.rotation.copy(r.rotation),a.scale.copy(r.scale),a},makeRawGeometry:function _makeRawGeometry(r){const n=new i.Geometry;return n.merge(r),n},getDitection:function _getDitection(r){const n=new i.Matrix4;n.extractRotation(r.matrix);const a=new i.Vector3(0,0,1);return n.multiplyVector3(a),a},rotateAroundWorldAxis:function _rotateAroundWorldAxis(r,n,a,i){s.pointRotateQuat.setFromAxisAngle(i,a),r.rotation.multiplyQuaternions(s.pointRotateQuat,r.rotation),r.position.sub(n),r.position.applyQuaternion(s.pointRotateQuat),r.position.add(n)},rotateAboutPointWithTheta:function _rotateAboutPointWithTheta(r,n,a,i,o){(o=void 0!==o&&o)&&r.parent.localToWorld(r.position),r.position.sub(n),r.position.applyAxisAngle(i,a),r.position.add(n),o&&r.parent.worldToLocal(r.position),r.rotateOnAxis(i,a)},toScreenXY:_toScreenXY,toScreenCoords:function _toScreenCoords(r,n,a){const o=a.clone(),s=.5*r.context.canvas.width,y=.5*r.context.canvas.height;return o.project(n),o.x=o.x*s+s,o.y=-o.y*y+y,new i.Vector2(o.x,o.y)},getScreenBounds:function _getScreenBounds(r,n,a){const o=[],s=new i.Box3;function _getVertices(r){if(!r)return;if(r.isLight)return;let n=r.geometry;if(r.geometry instanceof i.BufferGeometry&&(n=(new i.Geometry).fromBufferGeometry(n)),n)for(let a=0;a<n.vertices.length;++a){const i=n.vertices[a].clone();i.applyMatrix4(r.matrixWorld),s.containsPoint(i)||(s.expandByPoint(i),o.push(i))}}_getVertices(r),r.traverseVisible(r=>{_getVertices(r)});const y=a.width(),_=a.height(),w=a.offset().left,E=a.offset().top,j=o.map(r=>_toScreenXY(r,n,y,_,w,E));let q=j[0].x,$=j[0].y,ne=j[0].x,ie=j[0].y;const oe=a.height(),se=a.width();return j.forEach(r=>{q=r.x<q?r.x:q,$=r.y<$?r.y:$,ne=r.x>ne?r.x:ne,ie=r.y>ie?r.y:ie}),q=_minMax(q,0,se),$=_minMax($,0,oe),ne=_minMax(ne,0,se),ie=_minMax(ie,0,oe),{min:{x:q,y:$},max:{x:ne,y:ie},center:{x:q+(ne-q)/2,y:$+(ie-$)/2},width:ne-q,height:ie-$}},minMax:_minMax,setUvArray:function _setUvArray(r,n,a){a||(a=0),r.faceVertexUvs[a]=[];for(let o=0,s=n.length;o<s;o+=6)r.faceVertexUvs[a].push([new i.Vector2(n[o],n[o+1]),new i.Vector2(n[o+2],n[o+3]),new i.Vector2(n[o+4],n[o+5])]);return r.uvsNeedUpdate=!0,r},getUvArray:function _getUvArray(r,n){n||(n=0);const a=r.faceVertexUvs[n],i=[];for(let r=0,n=a.length;r<n;++r)for(let n=0;n<3;++n)i.push(a[r][n].x,a[r][n].y);return i},getGeometryData:function _getGeometryData(r){if(r instanceof i.BufferGeometry&&(r=(new i.Geometry).fromBufferGeometry(r)),!(r instanceof i.Geometry))throw Error("No supported geometry format");r.mergeVertices(),r.computeVertexNormals(),r.computeFaceNormals();const n=new Float32Array(3*r.vertices.length),a=new Float32Array(3*r.vertices.length),o=new Float32Array(3*r.vertices.length),s=new Uint16Array(3*r.faces.length);let y,_,w,E;for(let a=0;a<r.vertices.length;++a)y=r.vertices[a],n[3*a]=y.x,n[3*a+1]=y.y,n[3*a+2]=y.z;for(let n=0;n<r.faces.length;++n)_=r.faces[n],s[3*n]=_.a,s[3*n+1]=_.b,s[3*n+2]=_.c,["a","b","c"].forEach((r,n)=>{a[3*_[r]]=_.vertexNormals[n].x,a[3*_[r]+1]=_.vertexNormals[n].y,a[3*_[r]+2]=_.vertexNormals[n].z});for(let n=0,a=r.faceVertexUvs[0].length;n<a;++n){w=r.faceVertexUvs[0][n];for(let r=0;r<3;++r)E=w[r],o[3*n+3*r]=E.x,o[3*n+3*r+1]=E.y}return{vertices:n,normals:a,uvs:o,indices:s}},calculateMass:function _calculateMass(r){const n=(new i.Box3).setFromObject(r),a=n.max.x-n.min.x,o=n.max.y-n.min.y,s=n.max.z-n.min.z;let y=0;switch(r.type){case"SphereGeometry":y=4/3*Math.PI*Math.pow(r.parameters.radius,3)/2;break;case"ConeGeometry":y=a*o;break;default:y=a*o*s*.05}return y/1e4},getPitch:function _getPitch(r){const{x:n}=r,{y:a}=r,{z:i}=r,{w:o}=r;return Math.atan2(2*n*o-2*a*i,1-2*n*n-2*i*i)},getYaw:function _getYaw(r){const{x:n}=r,{y:a}=r,{z:i}=r,{w:o}=r;return Math.asin(2*n*a+2*i*o)},getRoll:function _getRoll(r){const{x:n}=r,{y:a}=r,{z:i}=r,{w:o}=r;return Math.atan2(2*a*o-2*n*i,1-2*a*a-2*i*i)},absVector:function _absVector(r){r.x=Math.abs(r.x),r.y=Math.abs(r.y),r.z=Math.abs(r.z)},getWorldNormal:function _getWorldNormal(r,n){const a=(new i.Matrix3).getNormalMatrix(r.matrixWorld);return n.clone().applyMatrix3(a).normalize()},isEqual:function _isEqual(r,n){return JSON.stringify(r)===JSON.stringify(n)},center:function _center(r,n,a,o){const s=function _middlePoint(r){r.computeBoundingBox();const n=new i.Vector3;return n.x=(r.boundingBox.max.x+r.boundingBox.min.x)/2,n.y=(r.boundingBox.max.y+r.boundingBox.min.y)/2,n.z=(r.boundingBox.max.z+r.boundingBox.min.z)/2,n}(r).negate();return n&&(s.x=0),a&&(s.y=0),o&&(s.z=0),function _translate(r,n){for(let a=0;a<r.vertices.length;a++)r.vertices[a].add(n);return r.__dirtyVertices=!0,this}(r,s)},local:{save:function _lsave(r,n){localStorage.setItem(r,JSON.stringify(n))},load:function _lload(r){const n=localStorage.getItem(r);if(n){let r;try{r=JSON.parse(n)}catch(n){r={}}return r}return!1}},color:{intFromHexString:function _intFromHexString(r){return parseInt(r.replace(/^#/,""),16)},intToHexString:function _intToHexString(r){return"#"+r.toString(16)}}}}();o.MultiDim=function(){this.size=0},o.MultiDim.prototype={},o.MultiDim.prototype.set=function(r,n,a){this[`${r}_${n}`]=a,this.length=Math.sqrt(this.size++)},o.MultiDim.prototype.get=function(r,n){return this[`${r}_${n}`]},o.Cords=function(r,n){this.geoDim=r,this.imgDim=n},o.Cords.prototype.getImgCords=function(r,n){const a=(.5*this.geoDim.width+r)/this.geoDim.width,i=1-(.5*this.geoDim.height+n)/this.geoDim.height;return{x:this.imgDim.width*a,y:this.imgDim.height*i}};const MedianFilter=function(r){this.vales=[],this.sorted=[],this.size=r||7,this.middelIndex=Math.round(this.size/2)};MedianFilter.prototype={},MedianFilter.prototype.input=function(r){return 0===this.vales.length?(this.fill(r),r):(this.vales.shift(),this.vales.push(r),this.sorted=this.vales.slice(0),this.sorted=this.sorted.sort((r,n)=>r-n),this.sorted[this.middelIndex])},MedianFilter.prototype.fill=function(r){if(0===this.vales.length)for(let n=0;n<this.size;n++)this.vales.push(r)};const FPSMeter=function(r){this.clock=window.performance?window.performance:window.Date,this.startTime=0,this.prevTime=0,this.values=Array(r),this.counter=0,this.size=r||7,this.frames=0,this.currentSize=0,this.skipFrames=1,this.avgFPS=9999};FPSMeter.prototype={},FPSMeter.prototype.input=function(r){this.values[this.counter]=r,this.counter=(this.counter+1)%this.size,this.currentSize<this.size&&this.currentSize++},FPSMeter.prototype.tick=function(){this.frames++;const r=this.clock.now();if(r>=this.prevTime+1e3){const n=1e3*this.frames/(r-this.prevTime);if(this.prevTime=r,this.frames=0,this.fps=o.round1(n),this.skipFrames>0)return void this.skipFrames--;this.input(n),this.currentSize>1&&(this.avgFPS=o.round1(this.getAvarage()))}},FPSMeter.prototype.getFps=function(){return this.fps},FPSMeter.prototype.getAvarage=function(){let r=0;const n=this.currentSize;for(let a=0;a<n;++a)r+=this.values[a];return r/n},n.default=o}(a(2))},function(r,n,a){"use strict";a.r(n),a.d(n,"ACESFilmicToneMapping",(function(){return ht})),a.d(n,"AddEquation",(function(){return Se})),a.d(n,"AddOperation",(function(){return lt})),a.d(n,"AdditiveAnimationBlendMode",(function(){return an})),a.d(n,"AdditiveBlending",(function(){return ge})),a.d(n,"AlphaFormat",(function(){return qt})),a.d(n,"AlwaysDepth",(function(){return $e})),a.d(n,"AlwaysStencilFunc",(function(){return jn})),a.d(n,"AmbientLight",(function(){return AmbientLight})),a.d(n,"AmbientLightProbe",(function(){return AmbientLightProbe})),a.d(n,"AnimationClip",(function(){return AnimationClip})),a.d(n,"AnimationLoader",(function(){return AnimationLoader})),a.d(n,"AnimationMixer",(function(){return AnimationMixer})),a.d(n,"AnimationObjectGroup",(function(){return AnimationObjectGroup})),a.d(n,"AnimationUtils",(function(){return Ks})),a.d(n,"ArcCurve",(function(){return ArcCurve})),a.d(n,"ArrayCamera",(function(){return ArrayCamera})),a.d(n,"ArrowHelper",(function(){return ArrowHelper})),a.d(n,"Audio",(function(){return Audio})),a.d(n,"AudioAnalyser",(function(){return AudioAnalyser})),a.d(n,"AudioContext",(function(){return ul})),a.d(n,"AudioListener",(function(){return AudioListener})),a.d(n,"AudioLoader",(function(){return AudioLoader})),a.d(n,"AxesHelper",(function(){return AxesHelper})),a.d(n,"AxisHelper",(function(){return AxisHelper})),a.d(n,"BackSide",(function(){return oe})),a.d(n,"BasicDepthPacking",(function(){return vn})),a.d(n,"BasicShadowMap",(function(){return j})),a.d(n,"BinaryTextureLoader",(function(){return BinaryTextureLoader})),a.d(n,"Bone",(function(){return Bone})),a.d(n,"BooleanKeyframeTrack",(function(){return BooleanKeyframeTrack})),a.d(n,"BoundingBoxHelper",(function(){return BoundingBoxHelper})),a.d(n,"Box2",(function(){return Box2})),a.d(n,"Box3",(function(){return Box3})),a.d(n,"Box3Helper",(function(){return Box3Helper})),a.d(n,"BoxBufferGeometry",(function(){return BoxBufferGeometry})),a.d(n,"BoxGeometry",(function(){return BoxGeometry})),a.d(n,"BoxHelper",(function(){return BoxHelper})),a.d(n,"BufferAttribute",(function(){return BufferAttribute})),a.d(n,"BufferGeometry",(function(){return BufferGeometry})),a.d(n,"BufferGeometryLoader",(function(){return BufferGeometryLoader})),a.d(n,"ByteType",(function(){return Dt})),a.d(n,"Cache",(function(){return Js})),a.d(n,"Camera",(function(){return Camera})),a.d(n,"CameraHelper",(function(){return CameraHelper})),a.d(n,"CanvasRenderer",(function(){return CanvasRenderer})),a.d(n,"CanvasTexture",(function(){return CanvasTexture})),a.d(n,"CatmullRomCurve3",(function(){return CatmullRomCurve3})),a.d(n,"CineonToneMapping",(function(){return dt})),a.d(n,"CircleBufferGeometry",(function(){return CircleBufferGeometry})),a.d(n,"CircleGeometry",(function(){return CircleGeometry})),a.d(n,"ClampToEdgeWrapping",(function(){return Ct})),a.d(n,"Clock",(function(){return Clock})),a.d(n,"ClosedSplineCurve3",(function(){return ClosedSplineCurve3})),a.d(n,"Color",(function(){return Color})),a.d(n,"ColorKeyframeTrack",(function(){return ColorKeyframeTrack})),a.d(n,"CompressedTexture",(function(){return CompressedTexture})),a.d(n,"CompressedTextureLoader",(function(){return CompressedTextureLoader})),a.d(n,"ConeBufferGeometry",(function(){return ConeBufferGeometry})),a.d(n,"ConeGeometry",(function(){return ConeGeometry})),a.d(n,"CubeCamera",(function(){return CubeCamera})),a.d(n,"CubeGeometry",(function(){return BoxGeometry})),a.d(n,"CubeReflectionMapping",(function(){return gt})),a.d(n,"CubeRefractionMapping",(function(){return yt})),a.d(n,"CubeTexture",(function(){return CubeTexture})),a.d(n,"CubeTextureLoader",(function(){return CubeTextureLoader})),a.d(n,"CubeUVReflectionMapping",(function(){return bt})),a.d(n,"CubeUVRefractionMapping",(function(){return xt})),a.d(n,"CubicBezierCurve",(function(){return CubicBezierCurve})),a.d(n,"CubicBezierCurve3",(function(){return CubicBezierCurve3})),a.d(n,"CubicInterpolant",(function(){return CubicInterpolant})),a.d(n,"CullFaceBack",(function(){return _})),a.d(n,"CullFaceFront",(function(){return w})),a.d(n,"CullFaceFrontBack",(function(){return E})),a.d(n,"CullFaceNone",(function(){return y})),a.d(n,"Curve",(function(){return Curve})),a.d(n,"CurvePath",(function(){return CurvePath})),a.d(n,"CustomBlending",(function(){return ve})),a.d(n,"CustomToneMapping",(function(){return ft})),a.d(n,"CylinderBufferGeometry",(function(){return CylinderBufferGeometry})),a.d(n,"CylinderGeometry",(function(){return CylinderGeometry})),a.d(n,"Cylindrical",(function(){return Cylindrical})),a.d(n,"DataTexture",(function(){return DataTexture})),a.d(n,"DataTexture2DArray",(function(){return DataTexture2DArray})),a.d(n,"DataTexture3D",(function(){return DataTexture3D})),a.d(n,"DataTextureLoader",(function(){return DataTextureLoader})),a.d(n,"DecrementStencilOp",(function(){return Tn})),a.d(n,"DecrementWrapStencilOp",(function(){return An})),a.d(n,"DefaultLoadingManager",(function(){return Qs})),a.d(n,"DepthFormat",(function(){return Zt})),a.d(n,"DepthStencilFormat",(function(){return er})),a.d(n,"DepthTexture",(function(){return DepthTexture})),a.d(n,"DirectionalLight",(function(){return DirectionalLight})),a.d(n,"DirectionalLightHelper",(function(){return DirectionalLightHelper})),a.d(n,"DirectionalLightShadow",(function(){return DirectionalLightShadow})),a.d(n,"DiscreteInterpolant",(function(){return DiscreteInterpolant})),a.d(n,"DodecahedronBufferGeometry",(function(){return DodecahedronBufferGeometry})),a.d(n,"DodecahedronGeometry",(function(){return DodecahedronGeometry})),a.d(n,"DoubleSide",(function(){return se})),a.d(n,"DstAlphaFactor",(function(){return Be})),a.d(n,"DstColorFactor",(function(){return Ve})),a.d(n,"DynamicBufferAttribute",(function(){return DynamicBufferAttribute})),a.d(n,"DynamicCopyUsage",(function(){return Yn})),a.d(n,"DynamicDrawUsage",(function(){return zn})),a.d(n,"DynamicReadUsage",(function(){return Vn})),a.d(n,"EdgesGeometry",(function(){return EdgesGeometry})),a.d(n,"EdgesHelper",(function(){return EdgesHelper})),a.d(n,"EllipseCurve",(function(){return EllipseCurve})),a.d(n,"EqualDepth",(function(){return rt})),a.d(n,"EqualStencilFunc",(function(){return Nn})),a.d(n,"EquirectangularReflectionMapping",(function(){return _t})),a.d(n,"EquirectangularRefractionMapping",(function(){return vt})),a.d(n,"Euler",(function(){return Euler})),a.d(n,"EventDispatcher",(function(){return EventDispatcher})),a.d(n,"ExtrudeBufferGeometry",(function(){return ExtrudeBufferGeometry})),a.d(n,"ExtrudeGeometry",(function(){return ExtrudeGeometry})),a.d(n,"Face3",(function(){return Face3})),a.d(n,"Face4",(function(){return Face4})),a.d(n,"FaceColors",(function(){return Ec})),a.d(n,"FileLoader",(function(){return FileLoader})),a.d(n,"FlatShading",(function(){return le})),a.d(n,"Float32Attribute",(function(){return Float32Attribute})),a.d(n,"Float32BufferAttribute",(function(){return Float32BufferAttribute})),a.d(n,"Float64Attribute",(function(){return Float64Attribute})),a.d(n,"Float64BufferAttribute",(function(){return Float64BufferAttribute})),a.d(n,"FloatType",(function(){return Gt})),a.d(n,"Fog",(function(){return Fog})),a.d(n,"FogExp2",(function(){return FogExp2})),a.d(n,"Font",(function(){return Font})),a.d(n,"FontLoader",(function(){return FontLoader})),a.d(n,"FrontSide",(function(){return ie})),a.d(n,"Frustum",(function(){return Frustum})),a.d(n,"GammaEncoding",(function(){return dn})),a.d(n,"Geometry",(function(){return Geometry})),a.d(n,"GeometryUtils",(function(){return kc})),a.d(n,"GreaterDepth",(function(){return at})),a.d(n,"GreaterEqualDepth",(function(){return nt})),a.d(n,"GreaterEqualStencilFunc",(function(){return Fn})),a.d(n,"GreaterStencilFunc",(function(){return In})),a.d(n,"GridHelper",(function(){return GridHelper})),a.d(n,"Group",(function(){return Group})),a.d(n,"HalfFloatType",(function(){return Ut})),a.d(n,"HemisphereLight",(function(){return HemisphereLight})),a.d(n,"HemisphereLightHelper",(function(){return HemisphereLightHelper})),a.d(n,"HemisphereLightProbe",(function(){return HemisphereLightProbe})),a.d(n,"IcosahedronBufferGeometry",(function(){return IcosahedronBufferGeometry})),a.d(n,"IcosahedronGeometry",(function(){return IcosahedronGeometry})),a.d(n,"ImageBitmapLoader",(function(){return ImageBitmapLoader})),a.d(n,"ImageLoader",(function(){return ImageLoader})),a.d(n,"ImageUtils",(function(){return Qn})),a.d(n,"ImmediateRenderObject",(function(){return ImmediateRenderObject})),a.d(n,"IncrementStencilOp",(function(){return Mn})),a.d(n,"IncrementWrapStencilOp",(function(){return En})),a.d(n,"InstancedBufferAttribute",(function(){return InstancedBufferAttribute})),a.d(n,"InstancedBufferGeometry",(function(){return InstancedBufferGeometry})),a.d(n,"InstancedInterleavedBuffer",(function(){return InstancedInterleavedBuffer})),a.d(n,"InstancedMesh",(function(){return InstancedMesh})),a.d(n,"Int16Attribute",(function(){return Int16Attribute})),a.d(n,"Int16BufferAttribute",(function(){return Int16BufferAttribute})),a.d(n,"Int32Attribute",(function(){return Int32Attribute})),a.d(n,"Int32BufferAttribute",(function(){return Int32BufferAttribute})),a.d(n,"Int8Attribute",(function(){return Int8Attribute})),a.d(n,"Int8BufferAttribute",(function(){return Int8BufferAttribute})),a.d(n,"IntType",(function(){return Bt})),a.d(n,"InterleavedBuffer",(function(){return InterleavedBuffer})),a.d(n,"InterleavedBufferAttribute",(function(){return InterleavedBufferAttribute})),a.d(n,"Interpolant",(function(){return Interpolant})),a.d(n,"InterpolateDiscrete",(function(){return Jr})),a.d(n,"InterpolateLinear",(function(){return Qr})),a.d(n,"InterpolateSmooth",(function(){return Zr})),a.d(n,"InvertStencilOp",(function(){return kn})),a.d(n,"JSONLoader",(function(){return JSONLoader})),a.d(n,"KeepStencilOp",(function(){return wn})),a.d(n,"KeyframeTrack",(function(){return KeyframeTrack})),a.d(n,"LOD",(function(){return LOD})),a.d(n,"LatheBufferGeometry",(function(){return LatheBufferGeometry})),a.d(n,"LatheGeometry",(function(){return LatheGeometry})),a.d(n,"Layers",(function(){return Layers})),a.d(n,"LensFlare",(function(){return LensFlare})),a.d(n,"LessDepth",(function(){return et})),a.d(n,"LessEqualDepth",(function(){return tt})),a.d(n,"LessEqualStencilFunc",(function(){return Ln})),a.d(n,"LessStencilFunc",(function(){return On})),a.d(n,"Light",(function(){return Light})),a.d(n,"LightProbe",(function(){return LightProbe})),a.d(n,"LightShadow",(function(){return LightShadow})),a.d(n,"Line",(function(){return Line})),a.d(n,"Line3",(function(){return Line3})),a.d(n,"LineBasicMaterial",(function(){return LineBasicMaterial})),a.d(n,"LineCurve",(function(){return LineCurve})),a.d(n,"LineCurve3",(function(){return LineCurve3})),a.d(n,"LineDashedMaterial",(function(){return LineDashedMaterial})),a.d(n,"LineLoop",(function(){return LineLoop})),a.d(n,"LinePieces",(function(){return Cc})),a.d(n,"LineSegments",(function(){return LineSegments})),a.d(n,"LineStrip",(function(){return xc})),a.d(n,"LinearEncoding",(function(){return pn})),a.d(n,"LinearFilter",(function(){return kt})),a.d(n,"LinearInterpolant",(function(){return LinearInterpolant})),a.d(n,"LinearMipMapLinearFilter",(function(){return Lt})),a.d(n,"LinearMipMapNearestFilter",(function(){return Ot})),a.d(n,"LinearMipmapLinearFilter",(function(){return Nt})),a.d(n,"LinearMipmapNearestFilter",(function(){return Rt})),a.d(n,"LinearToneMapping",(function(){return pt})),a.d(n,"Loader",(function(){return Loader})),a.d(n,"LoaderUtils",(function(){return il})),a.d(n,"LoadingManager",(function(){return LoadingManager})),a.d(n,"LogLuvEncoding",(function(){return mn})),a.d(n,"LoopOnce",(function(){return Xr})),a.d(n,"LoopPingPong",(function(){return Kr})),a.d(n,"LoopRepeat",(function(){return $r})),a.d(n,"LuminanceAlphaFormat",(function(){return Jt})),a.d(n,"LuminanceFormat",(function(){return Kt})),a.d(n,"MOUSE",(function(){return o})),a.d(n,"Material",(function(){return Material})),a.d(n,"MaterialLoader",(function(){return MaterialLoader})),a.d(n,"Math",(function(){return Kn})),a.d(n,"MathUtils",(function(){return Kn})),a.d(n,"Matrix3",(function(){return Matrix3})),a.d(n,"Matrix4",(function(){return Matrix4})),a.d(n,"MaxEquation",(function(){return Ae})),a.d(n,"Mesh",(function(){return Mesh})),a.d(n,"MeshBasicMaterial",(function(){return MeshBasicMaterial})),a.d(n,"MeshDepthMaterial",(function(){return MeshDepthMaterial})),a.d(n,"MeshDistanceMaterial",(function(){return MeshDistanceMaterial})),a.d(n,"MeshFaceMaterial",(function(){return MeshFaceMaterial})),a.d(n,"MeshLambertMaterial",(function(){return MeshLambertMaterial})),a.d(n,"MeshMatcapMaterial",(function(){return MeshMatcapMaterial})),a.d(n,"MeshNormalMaterial",(function(){return MeshNormalMaterial})),a.d(n,"MeshPhongMaterial",(function(){return MeshPhongMaterial})),a.d(n,"MeshPhysicalMaterial",(function(){return MeshPhysicalMaterial})),a.d(n,"MeshStandardMaterial",(function(){return MeshStandardMaterial})),a.d(n,"MeshToonMaterial",(function(){return MeshToonMaterial})),a.d(n,"MinEquation",(function(){return Te})),a.d(n,"MirroredRepeatWrapping",(function(){return wt})),a.d(n,"MixOperation",(function(){return st})),a.d(n,"MultiMaterial",(function(){return MultiMaterial})),a.d(n,"MultiplyBlending",(function(){return _e})),a.d(n,"MultiplyOperation",(function(){return ot})),a.d(n,"NearestFilter",(function(){return Pt})),a.d(n,"NearestMipMapLinearFilter",(function(){return At})),a.d(n,"NearestMipMapNearestFilter",(function(){return Tt})),a.d(n,"NearestMipmapLinearFilter",(function(){return Et})),a.d(n,"NearestMipmapNearestFilter",(function(){return Mt})),a.d(n,"NeverDepth",(function(){return Xe})),a.d(n,"NeverStencilFunc",(function(){return Rn})),a.d(n,"NoBlending",(function(){return he})),a.d(n,"NoColors",(function(){return wc})),a.d(n,"NoToneMapping",(function(){return ct})),a.d(n,"NormalAnimationBlendMode",(function(){return nn})),a.d(n,"NormalBlending",(function(){return me})),a.d(n,"NotEqualDepth",(function(){return it})),a.d(n,"NotEqualStencilFunc",(function(){return Dn})),a.d(n,"NumberKeyframeTrack",(function(){return NumberKeyframeTrack})),a.d(n,"Object3D",(function(){return Object3D})),a.d(n,"ObjectLoader",(function(){return ObjectLoader})),a.d(n,"ObjectSpaceNormalMap",(function(){return Sn})),a.d(n,"OctahedronBufferGeometry",(function(){return OctahedronBufferGeometry})),a.d(n,"OctahedronGeometry",(function(){return OctahedronGeometry})),a.d(n,"OneFactor",(function(){return Re})),a.d(n,"OneMinusDstAlphaFactor",(function(){return Ue})),a.d(n,"OneMinusDstColorFactor",(function(){return We})),a.d(n,"OneMinusSrcAlphaFactor",(function(){return je})),a.d(n,"OneMinusSrcColorFactor",(function(){return Ne})),a.d(n,"OrthographicCamera",(function(){return OrthographicCamera})),a.d(n,"PCFShadowMap",(function(){return q})),a.d(n,"PCFSoftShadowMap",(function(){return $})),a.d(n,"PMREMGenerator",(function(){return PMREMGenerator})),a.d(n,"ParametricBufferGeometry",(function(){return ParametricBufferGeometry})),a.d(n,"ParametricGeometry",(function(){return ParametricGeometry})),a.d(n,"Particle",(function(){return Particle})),a.d(n,"ParticleBasicMaterial",(function(){return ParticleBasicMaterial})),a.d(n,"ParticleSystem",(function(){return ParticleSystem})),a.d(n,"ParticleSystemMaterial",(function(){return ParticleSystemMaterial})),a.d(n,"Path",(function(){return Path})),a.d(n,"PerspectiveCamera",(function(){return PerspectiveCamera})),a.d(n,"Plane",(function(){return Plane})),a.d(n,"PlaneBufferGeometry",(function(){return PlaneBufferGeometry})),a.d(n,"PlaneGeometry",(function(){return PlaneGeometry})),a.d(n,"PlaneHelper",(function(){return PlaneHelper})),a.d(n,"PointCloud",(function(){return PointCloud})),a.d(n,"PointCloudMaterial",(function(){return PointCloudMaterial})),a.d(n,"PointLight",(function(){return PointLight})),a.d(n,"PointLightHelper",(function(){return PointLightHelper})),a.d(n,"Points",(function(){return Points})),a.d(n,"PointsMaterial",(function(){return PointsMaterial})),a.d(n,"PolarGridHelper",(function(){return PolarGridHelper})),a.d(n,"PolyhedronBufferGeometry",(function(){return PolyhedronBufferGeometry})),a.d(n,"PolyhedronGeometry",(function(){return PolyhedronGeometry})),a.d(n,"PositionalAudio",(function(){return PositionalAudio})),a.d(n,"PropertyBinding",(function(){return PropertyBinding})),a.d(n,"PropertyMixer",(function(){return PropertyMixer})),a.d(n,"QuadraticBezierCurve",(function(){return QuadraticBezierCurve})),a.d(n,"QuadraticBezierCurve3",(function(){return QuadraticBezierCurve3})),a.d(n,"Quaternion",(function(){return Quaternion})),a.d(n,"QuaternionKeyframeTrack",(function(){return QuaternionKeyframeTrack})),a.d(n,"QuaternionLinearInterpolant",(function(){return QuaternionLinearInterpolant})),a.d(n,"REVISION",(function(){return i})),a.d(n,"RGBADepthPacking",(function(){return bn})),a.d(n,"RGBAFormat",(function(){return $t})),a.d(n,"RGBAIntegerFormat",(function(){return or})),a.d(n,"RGBA_ASTC_10x10_Format",(function(){return Ar})),a.d(n,"RGBA_ASTC_10x5_Format",(function(){return Mr})),a.d(n,"RGBA_ASTC_10x6_Format",(function(){return Tr})),a.d(n,"RGBA_ASTC_10x8_Format",(function(){return Er})),a.d(n,"RGBA_ASTC_12x10_Format",(function(){return kr})),a.d(n,"RGBA_ASTC_12x12_Format",(function(){return Rr})),a.d(n,"RGBA_ASTC_4x4_Format",(function(){return _r})),a.d(n,"RGBA_ASTC_5x4_Format",(function(){return vr})),a.d(n,"RGBA_ASTC_5x5_Format",(function(){return br})),a.d(n,"RGBA_ASTC_6x5_Format",(function(){return xr})),a.d(n,"RGBA_ASTC_6x6_Format",(function(){return Sr})),a.d(n,"RGBA_ASTC_8x5_Format",(function(){return Cr})),a.d(n,"RGBA_ASTC_8x6_Format",(function(){return wr})),a.d(n,"RGBA_ASTC_8x8_Format",(function(){return Pr})),a.d(n,"RGBA_BPTC_Format",(function(){return Or})),a.d(n,"RGBA_ETC2_EAC_Format",(function(){return yr})),a.d(n,"RGBA_PVRTC_2BPPV1_Format",(function(){return fr})),a.d(n,"RGBA_PVRTC_4BPPV1_Format",(function(){return hr})),a.d(n,"RGBA_S3TC_DXT1_Format",(function(){return lr})),a.d(n,"RGBA_S3TC_DXT3_Format",(function(){return cr})),a.d(n,"RGBA_S3TC_DXT5_Format",(function(){return pr})),a.d(n,"RGBDEncoding",(function(){return _n})),a.d(n,"RGBEEncoding",(function(){return hn})),a.d(n,"RGBEFormat",(function(){return Qt})),a.d(n,"RGBFormat",(function(){return Xt})),a.d(n,"RGBIntegerFormat",(function(){return ir})),a.d(n,"RGBM16Encoding",(function(){return yn})),a.d(n,"RGBM7Encoding",(function(){return gn})),a.d(n,"RGB_ETC1_Format",(function(){return mr})),a.d(n,"RGB_ETC2_Format",(function(){return gr})),a.d(n,"RGB_PVRTC_2BPPV1_Format",(function(){return dr})),a.d(n,"RGB_PVRTC_4BPPV1_Format",(function(){return ur})),a.d(n,"RGB_S3TC_DXT1_Format",(function(){return sr})),a.d(n,"RGFormat",(function(){return nr})),a.d(n,"RGIntegerFormat",(function(){return ar})),a.d(n,"RawShaderMaterial",(function(){return RawShaderMaterial})),a.d(n,"Ray",(function(){return Ray})),a.d(n,"Raycaster",(function(){return Raycaster})),a.d(n,"RectAreaLight",(function(){return RectAreaLight})),a.d(n,"RedFormat",(function(){return tr})),a.d(n,"RedIntegerFormat",(function(){return rr})),a.d(n,"ReinhardToneMapping",(function(){return ut})),a.d(n,"RepeatWrapping",(function(){return St})),a.d(n,"ReplaceStencilOp",(function(){return Pn})),a.d(n,"ReverseSubtractEquation",(function(){return Me})),a.d(n,"RingBufferGeometry",(function(){return RingBufferGeometry})),a.d(n,"RingGeometry",(function(){return RingGeometry})),a.d(n,"SRGB8_ALPHA8_ASTC_10x10_Format",(function(){return Wr})),a.d(n,"SRGB8_ALPHA8_ASTC_10x5_Format",(function(){return Gr})),a.d(n,"SRGB8_ALPHA8_ASTC_10x6_Format",(function(){return Ur})),a.d(n,"SRGB8_ALPHA8_ASTC_10x8_Format",(function(){return Vr})),a.d(n,"SRGB8_ALPHA8_ASTC_12x10_Format",(function(){return Yr})),a.d(n,"SRGB8_ALPHA8_ASTC_12x12_Format",(function(){return qr})),a.d(n,"SRGB8_ALPHA8_ASTC_4x4_Format",(function(){return Nr})),a.d(n,"SRGB8_ALPHA8_ASTC_5x4_Format",(function(){return Lr})),a.d(n,"SRGB8_ALPHA8_ASTC_5x5_Format",(function(){return Ir})),a.d(n,"SRGB8_ALPHA8_ASTC_6x5_Format",(function(){return Dr})),a.d(n,"SRGB8_ALPHA8_ASTC_6x6_Format",(function(){return Fr})),a.d(n,"SRGB8_ALPHA8_ASTC_8x5_Format",(function(){return jr})),a.d(n,"SRGB8_ALPHA8_ASTC_8x6_Format",(function(){return Br})),a.d(n,"SRGB8_ALPHA8_ASTC_8x8_Format",(function(){return zr})),a.d(n,"Scene",(function(){return Scene})),a.d(n,"SceneUtils",(function(){return Ic})),a.d(n,"ShaderChunk",(function(){return Ko})),a.d(n,"ShaderLib",(function(){return Jo})),a.d(n,"ShaderMaterial",(function(){return ShaderMaterial})),a.d(n,"ShadowMaterial",(function(){return ShadowMaterial})),a.d(n,"Shape",(function(){return Shape})),a.d(n,"ShapeBufferGeometry",(function(){return ShapeBufferGeometry})),a.d(n,"ShapeGeometry",(function(){return ShapeGeometry})),a.d(n,"ShapePath",(function(){return ShapePath})),a.d(n,"ShapeUtils",(function(){return Ys})),a.d(n,"ShortType",(function(){return Ft})),a.d(n,"Skeleton",(function(){return Skeleton})),a.d(n,"SkeletonHelper",(function(){return SkeletonHelper})),a.d(n,"SkinnedMesh",(function(){return SkinnedMesh})),a.d(n,"SmoothShading",(function(){return pe})),a.d(n,"Sphere",(function(){return Sphere})),a.d(n,"SphereBufferGeometry",(function(){return SphereBufferGeometry})),a.d(n,"SphereGeometry",(function(){return SphereGeometry})),a.d(n,"Spherical",(function(){return Spherical})),a.d(n,"SphericalHarmonics3",(function(){return SphericalHarmonics3})),a.d(n,"Spline",(function(){return Spline})),a.d(n,"SplineCurve",(function(){return SplineCurve})),a.d(n,"SplineCurve3",(function(){return SplineCurve3})),a.d(n,"SpotLight",(function(){return SpotLight})),a.d(n,"SpotLightHelper",(function(){return SpotLightHelper})),a.d(n,"SpotLightShadow",(function(){return SpotLightShadow})),a.d(n,"Sprite",(function(){return Sprite})),a.d(n,"SpriteMaterial",(function(){return SpriteMaterial})),a.d(n,"SrcAlphaFactor",(function(){return Fe})),a.d(n,"SrcAlphaSaturateFactor",(function(){return Ye})),a.d(n,"SrcColorFactor",(function(){return Oe})),a.d(n,"StaticCopyUsage",(function(){return Hn})),a.d(n,"StaticDrawUsage",(function(){return Bn})),a.d(n,"StaticReadUsage",(function(){return Un})),a.d(n,"StereoCamera",(function(){return StereoCamera})),a.d(n,"StreamCopyUsage",(function(){return qn})),a.d(n,"StreamDrawUsage",(function(){return Gn})),a.d(n,"StreamReadUsage",(function(){return Wn})),a.d(n,"StringKeyframeTrack",(function(){return StringKeyframeTrack})),a.d(n,"SubtractEquation",(function(){return we})),a.d(n,"SubtractiveBlending",(function(){return ye})),a.d(n,"TOUCH",(function(){return s})),a.d(n,"TangentSpaceNormalMap",(function(){return xn})),a.d(n,"TetrahedronBufferGeometry",(function(){return TetrahedronBufferGeometry})),a.d(n,"TetrahedronGeometry",(function(){return TetrahedronGeometry})),a.d(n,"TextBufferGeometry",(function(){return TextBufferGeometry})),a.d(n,"TextGeometry",(function(){return TextGeometry})),a.d(n,"Texture",(function(){return Texture})),a.d(n,"TextureLoader",(function(){return TextureLoader})),a.d(n,"TorusBufferGeometry",(function(){return TorusBufferGeometry})),a.d(n,"TorusGeometry",(function(){return TorusGeometry})),a.d(n,"TorusKnotBufferGeometry",(function(){return TorusKnotBufferGeometry})),a.d(n,"TorusKnotGeometry",(function(){return TorusKnotGeometry})),a.d(n,"Triangle",(function(){return Triangle})),a.d(n,"TriangleFanDrawMode",(function(){return cn})),a.d(n,"TriangleStripDrawMode",(function(){return ln})),a.d(n,"TrianglesDrawMode",(function(){return sn})),a.d(n,"TubeBufferGeometry",(function(){return TubeBufferGeometry})),a.d(n,"TubeGeometry",(function(){return TubeGeometry})),a.d(n,"UVMapping",(function(){return mt})),a.d(n,"Uint16Attribute",(function(){return Uint16Attribute})),a.d(n,"Uint16BufferAttribute",(function(){return Uint16BufferAttribute})),a.d(n,"Uint32Attribute",(function(){return Uint32Attribute})),a.d(n,"Uint32BufferAttribute",(function(){return Uint32BufferAttribute})),a.d(n,"Uint8Attribute",(function(){return Uint8Attribute})),a.d(n,"Uint8BufferAttribute",(function(){return Uint8BufferAttribute})),a.d(n,"Uint8ClampedAttribute",(function(){return Uint8ClampedAttribute})),a.d(n,"Uint8ClampedBufferAttribute",(function(){return Uint8ClampedBufferAttribute})),a.d(n,"Uniform",(function(){return Uniform})),a.d(n,"UniformsLib",(function(){return $o})),a.d(n,"UniformsUtils",(function(){return Yo})),a.d(n,"UnsignedByteType",(function(){return It})),a.d(n,"UnsignedInt248Type",(function(){return Yt})),a.d(n,"UnsignedIntType",(function(){return zt})),a.d(n,"UnsignedShort4444Type",(function(){return Vt})),a.d(n,"UnsignedShort5551Type",(function(){return Wt})),a.d(n,"UnsignedShort565Type",(function(){return Ht})),a.d(n,"UnsignedShortType",(function(){return jt})),a.d(n,"VSMShadowMap",(function(){return ne})),a.d(n,"Vector2",(function(){return Vector2})),a.d(n,"Vector3",(function(){return Vector3})),a.d(n,"Vector4",(function(){return Vector4})),a.d(n,"VectorKeyframeTrack",(function(){return VectorKeyframeTrack})),a.d(n,"Vertex",(function(){return Vertex})),a.d(n,"VertexColors",(function(){return Ac})),a.d(n,"VideoTexture",(function(){return VideoTexture})),a.d(n,"WebGL1Renderer",(function(){return WebGL1Renderer})),a.d(n,"WebGLCubeRenderTarget",(function(){return WebGLCubeRenderTarget})),a.d(n,"WebGLMultisampleRenderTarget",(function(){return WebGLMultisampleRenderTarget})),a.d(n,"WebGLRenderTarget",(function(){return WebGLRenderTarget})),a.d(n,"WebGLRenderTargetCube",(function(){return WebGLRenderTargetCube})),a.d(n,"WebGLRenderer",(function(){return WebGLRenderer})),a.d(n,"WebGLUtils",(function(){return WebGLUtils})),a.d(n,"WireframeGeometry",(function(){return WireframeGeometry})),a.d(n,"WireframeHelper",(function(){return WireframeHelper})),a.d(n,"WrapAroundEnding",(function(){return rn})),a.d(n,"XHRLoader",(function(){return XHRLoader})),a.d(n,"ZeroCurvatureEnding",(function(){return en})),a.d(n,"ZeroFactor",(function(){return ke})),a.d(n,"ZeroSlopeEnding",(function(){return tn})),a.d(n,"ZeroStencilOp",(function(){return Cn})),a.d(n,"sRGBEncoding",(function(){return un})),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(r){return"number"==typeof r&&isFinite(r)&&Math.floor(r)===r}),void 0===Math.sign&&(Math.sign=function(r){return r<0?-1:r>0?1:+r}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(r){if(null==r)throw new TypeError("Cannot convert undefined or null to object");const n=Object(r);for(let r=1;r<arguments.length;r++){const a=arguments[r];if(null!=a)for(const r in a)({}).hasOwnProperty.call(a,r)&&(n[r]=a[r])}return n});const i="119",o={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},s={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},y=0,_=1,w=2,E=3,j=0,q=1,$=2,ne=3,ie=0,oe=1,se=2,le=1,pe=2,he=0,me=1,ge=2,ye=3,_e=4,ve=5,Se=100,we=101,Me=102,Te=103,Ae=104,ke=200,Re=201,Oe=202,Ne=203,Fe=204,je=205,Be=206,Ue=207,Ve=208,We=209,Ye=210,Xe=0,$e=1,et=2,tt=3,rt=4,nt=5,at=6,it=7,ot=0,st=1,lt=2,ct=0,pt=1,ut=2,dt=3,ht=4,ft=5,mt=300,gt=301,yt=302,_t=303,vt=304,bt=306,xt=307,St=1e3,Ct=1001,wt=1002,Pt=1003,Mt=1004,Tt=1004,Et=1005,At=1005,kt=1006,Rt=1007,Ot=1007,Nt=1008,Lt=1008,It=1009,Dt=1010,Ft=1011,jt=1012,Bt=1013,zt=1014,Gt=1015,Ut=1016,Vt=1017,Wt=1018,Ht=1019,Yt=1020,qt=1021,Xt=1022,$t=1023,Kt=1024,Jt=1025,Qt=$t,Zt=1026,er=1027,tr=1028,rr=1029,nr=1030,ar=1031,ir=1032,or=1033,sr=33776,lr=33777,cr=33778,pr=33779,ur=35840,dr=35841,hr=35842,fr=35843,mr=36196,gr=37492,yr=37496,_r=37808,vr=37809,br=37810,xr=37811,Sr=37812,Cr=37813,wr=37814,Pr=37815,Mr=37816,Tr=37817,Er=37818,Ar=37819,kr=37820,Rr=37821,Or=36492,Nr=37840,Lr=37841,Ir=37842,Dr=37843,Fr=37844,jr=37845,Br=37846,zr=37847,Gr=37848,Ur=37849,Vr=37850,Wr=37851,Yr=37852,qr=37853,Xr=2200,$r=2201,Kr=2202,Jr=2300,Qr=2301,Zr=2302,en=2400,tn=2401,rn=2402,nn=2500,an=2501,sn=0,ln=1,cn=2,pn=3e3,un=3001,dn=3007,hn=3002,mn=3003,gn=3004,yn=3005,_n=3006,vn=3200,bn=3201,xn=0,Sn=1,Cn=0,wn=7680,Pn=7681,Mn=7682,Tn=7683,En=34055,An=34056,kn=5386,Rn=512,On=513,Nn=514,Ln=515,In=516,Dn=517,Fn=518,jn=519,Bn=35044,zn=35048,Gn=35040,Un=35045,Vn=35049,Wn=35041,Hn=35046,Yn=35050,qn=35042;function EventDispatcher(){}Object.assign(EventDispatcher.prototype,{addEventListener(r,n){void 0===this._listeners&&(this._listeners={});const a=this._listeners;void 0===a[r]&&(a[r]=[]),-1===a[r].indexOf(n)&&a[r].push(n)},hasEventListener(r,n){if(void 0===this._listeners)return!1;const a=this._listeners;return void 0!==a[r]&&-1!==a[r].indexOf(n)},removeEventListener(r,n){if(void 0===this._listeners)return;const a=this._listeners[r];if(void 0!==a){const r=a.indexOf(n);-1!==r&&a.splice(r,1)}},dispatchEvent(r){if(void 0===this._listeners)return;const n=this._listeners[r.type];if(void 0!==n){r.target=this;const a=n.slice(0);for(let n=0,i=a.length;n<i;n++)a[n].call(this,r)}}});const Xn=[];for(let r=0;r<256;r++)Xn[r]=(r<16?"0":"")+r.toString(16);let $n=1234567;const Kn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID(){const r=4294967295*Math.random()|0,n=4294967295*Math.random()|0,a=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Xn[255&r]+Xn[r>>8&255]+Xn[r>>16&255]+Xn[r>>24&255]+"-"+Xn[255&n]+Xn[n>>8&255]+"-"+Xn[n>>16&15|64]+Xn[n>>24&255]+"-"+Xn[63&a|128]+Xn[a>>8&255]+"-"+Xn[a>>16&255]+Xn[a>>24&255]+Xn[255&i]+Xn[i>>8&255]+Xn[i>>16&255]+Xn[i>>24&255]).toUpperCase()},clamp:(r,n,a)=>Math.max(n,Math.min(a,r)),euclideanModulo:(r,n)=>(r%n+n)%n,mapLinear:(r,n,a,i,o)=>i+(r-n)*(o-i)/(a-n),lerp:(r,n,a)=>(1-a)*r+a*n,smoothstep:(r,n,a)=>r<=n?0:r>=a?1:(r=(r-n)/(a-n))*r*(3-2*r),smootherstep:(r,n,a)=>r<=n?0:r>=a?1:(r=(r-n)/(a-n))*r*r*(r*(6*r-15)+10),randInt:(r,n)=>r+Math.floor(Math.random()*(n-r+1)),randFloat:(r,n)=>r+Math.random()*(n-r),randFloatSpread:r=>r*(.5-Math.random()),seededRandom:r=>(void 0!==r&&($n=r%2147483647),$n=16807*$n%2147483647,($n-1)/2147483646),degToRad:r=>r*Kn.DEG2RAD,radToDeg:r=>r*Kn.RAD2DEG,isPowerOfTwo:r=>0==(r&r-1)&&0!==r,ceilPowerOfTwo:r=>Math.pow(2,Math.ceil(Math.log(r)/Math.LN2)),floorPowerOfTwo:r=>Math.pow(2,Math.floor(Math.log(r)/Math.LN2)),setQuaternionFromProperEuler(r,n,a,i,o){const s=Math.cos,y=Math.sin,_=s(a/2),w=y(a/2),E=s((n+i)/2),j=y((n+i)/2),q=s((n-i)/2),$=y((n-i)/2),ne=s((i-n)/2),ie=y((i-n)/2);switch(o){case"XYX":r.set(_*j,w*q,w*$,_*E);break;case"YZY":r.set(w*$,_*j,w*q,_*E);break;case"ZXZ":r.set(w*q,w*$,_*j,_*E);break;case"XZX":r.set(_*j,w*ie,w*ne,_*E);break;case"YXY":r.set(w*ne,_*j,w*ie,_*E);break;case"ZYZ":r.set(w*ie,w*ne,_*j,_*E);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}};function Vector2(r=0,n=0){this.x=r,this.y=n}function Matrix3(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}let Jn;Object.defineProperties(Vector2.prototype,{width:{get(){return this.x},set(r){this.x=r}},height:{get(){return this.y},set(r){this.y=r}}}),Object.assign(Vector2.prototype,{isVector2:!0,set(r,n){return this.x=r,this.y=n,this},setScalar(r){return this.x=r,this.y=r,this},setX(r){return this.x=r,this},setY(r){return this.y=r,this},setComponent(r,n){switch(r){case 0:this.x=n;break;case 1:this.y=n;break;default:throw Error("index is out of range: "+r)}return this},getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+r)}},clone(){return new this.constructor(this.x,this.y)},copy(r){return this.x=r.x,this.y=r.y,this},add(r,n){return void 0!==n?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(r,n)):(this.x+=r.x,this.y+=r.y,this)},addScalar(r){return this.x+=r,this.y+=r,this},addVectors(r,n){return this.x=r.x+n.x,this.y=r.y+n.y,this},addScaledVector(r,n){return this.x+=r.x*n,this.y+=r.y*n,this},sub(r,n){return void 0!==n?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(r,n)):(this.x-=r.x,this.y-=r.y,this)},subScalar(r){return this.x-=r,this.y-=r,this},subVectors(r,n){return this.x=r.x-n.x,this.y=r.y-n.y,this},multiply(r){return this.x*=r.x,this.y*=r.y,this},multiplyScalar(r){return this.x*=r,this.y*=r,this},divide(r){return this.x/=r.x,this.y/=r.y,this},divideScalar(r){return this.multiplyScalar(1/r)},applyMatrix3(r){const n=this.x,a=this.y,i=r.elements;return this.x=i[0]*n+i[3]*a+i[6],this.y=i[1]*n+i[4]*a+i[7],this},min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this},max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this},clamp(r,n){return this.x=Math.max(r.x,Math.min(n.x,this.x)),this.y=Math.max(r.y,Math.min(n.y,this.y)),this},clampScalar(r,n){return this.x=Math.max(r,Math.min(n,this.x)),this.y=Math.max(r,Math.min(n,this.y)),this},clampLength(r,n){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(r,Math.min(n,a)))},floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate(){return this.x=-this.x,this.y=-this.y,this},dot(r){return this.x*r.x+this.y*r.y},cross(r){return this.x*r.y-this.y*r.x},lengthSq(){return this.x*this.x+this.y*this.y},length(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)},normalize(){return this.divideScalar(this.length()||1)},angle(){return Math.atan2(-this.y,-this.x)+Math.PI},distanceTo(r){return Math.sqrt(this.distanceToSquared(r))},distanceToSquared(r){const n=this.x-r.x,a=this.y-r.y;return n*n+a*a},manhattanDistanceTo(r){return Math.abs(this.x-r.x)+Math.abs(this.y-r.y)},setLength(r){return this.normalize().multiplyScalar(r)},lerp(r,n){return this.x+=(r.x-this.x)*n,this.y+=(r.y-this.y)*n,this},lerpVectors(r,n,a){return this.x=r.x+(n.x-r.x)*a,this.y=r.y+(n.y-r.y)*a,this},equals(r){return r.x===this.x&&r.y===this.y},fromArray(r,n){return void 0===n&&(n=0),this.x=r[n],this.y=r[n+1],this},toArray(r,n){return void 0===r&&(r=[]),void 0===n&&(n=0),r[n]=this.x,r[n+1]=this.y,r},fromBufferAttribute(r,n,a){return void 0!==a&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=r.getX(n),this.y=r.getY(n),this},rotateAround(r,n){const a=Math.cos(n),i=Math.sin(n),o=this.x-r.x,s=this.y-r.y;return this.x=o*a-s*i+r.x,this.y=o*i+s*a+r.y,this},random(){return this.x=Math.random(),this.y=Math.random(),this}}),Object.assign(Matrix3.prototype,{isMatrix3:!0,set(r,n,a,i,o,s,y,_,w){const E=this.elements;return E[0]=r,E[1]=i,E[2]=y,E[3]=n,E[4]=o,E[5]=_,E[6]=a,E[7]=s,E[8]=w,this},identity(){return this.set(1,0,0,0,1,0,0,0,1),this},clone(){return(new this.constructor).fromArray(this.elements)},copy(r){const n=this.elements,a=r.elements;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],this},extractBasis(r,n,a){return r.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),a.setFromMatrix3Column(this,2),this},setFromMatrix4(r){const n=r.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this},multiply(r){return this.multiplyMatrices(this,r)},premultiply(r){return this.multiplyMatrices(r,this)},multiplyMatrices(r,n){const a=r.elements,i=n.elements,o=this.elements,s=a[0],y=a[3],_=a[6],w=a[1],E=a[4],j=a[7],q=a[2],$=a[5],ne=a[8],ie=i[0],oe=i[3],se=i[6],le=i[1],pe=i[4],he=i[7],me=i[2],ge=i[5],ye=i[8];return o[0]=s*ie+y*le+_*me,o[3]=s*oe+y*pe+_*ge,o[6]=s*se+y*he+_*ye,o[1]=w*ie+E*le+j*me,o[4]=w*oe+E*pe+j*ge,o[7]=w*se+E*he+j*ye,o[2]=q*ie+$*le+ne*me,o[5]=q*oe+$*pe+ne*ge,o[8]=q*se+$*he+ne*ye,this},multiplyScalar(r){const n=this.elements;return n[0]*=r,n[3]*=r,n[6]*=r,n[1]*=r,n[4]*=r,n[7]*=r,n[2]*=r,n[5]*=r,n[8]*=r,this},determinant(){const r=this.elements,n=r[0],a=r[1],i=r[2],o=r[3],s=r[4],y=r[5],_=r[6],w=r[7],E=r[8];return n*s*E-n*y*w-a*o*E+a*y*_+i*o*w-i*s*_},getInverse(r,n){void 0!==n&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const a=r.elements,i=this.elements,o=a[0],s=a[1],y=a[2],_=a[3],w=a[4],E=a[5],j=a[6],q=a[7],$=a[8],ne=$*w-E*q,ie=E*j-$*_,oe=q*_-w*j,se=o*ne+s*ie+y*oe;if(0===se)return this.set(0,0,0,0,0,0,0,0,0);const le=1/se;return i[0]=ne*le,i[1]=(y*q-$*s)*le,i[2]=(E*s-y*w)*le,i[3]=ie*le,i[4]=($*o-y*j)*le,i[5]=(y*_-E*o)*le,i[6]=oe*le,i[7]=(s*j-q*o)*le,i[8]=(w*o-s*_)*le,this},transpose(){let r;const n=this.elements;return r=n[1],n[1]=n[3],n[3]=r,r=n[2],n[2]=n[6],n[6]=r,r=n[5],n[5]=n[7],n[7]=r,this},getNormalMatrix(r){return this.setFromMatrix4(r).getInverse(this).transpose()},transposeIntoArray(r){const n=this.elements;return r[0]=n[0],r[1]=n[3],r[2]=n[6],r[3]=n[1],r[4]=n[4],r[5]=n[7],r[6]=n[2],r[7]=n[5],r[8]=n[8],this},setUvTransform(r,n,a,i,o,s,y){const _=Math.cos(o),w=Math.sin(o);this.set(a*_,a*w,-a*(_*s+w*y)+s+r,-i*w,i*_,-i*(-w*s+_*y)+y+n,0,0,1)},scale(r,n){const a=this.elements;return a[0]*=r,a[3]*=r,a[6]*=r,a[1]*=n,a[4]*=n,a[7]*=n,this},rotate(r){const n=Math.cos(r),a=Math.sin(r),i=this.elements,o=i[0],s=i[3],y=i[6],_=i[1],w=i[4],E=i[7];return i[0]=n*o+a*_,i[3]=n*s+a*w,i[6]=n*y+a*E,i[1]=-a*o+n*_,i[4]=-a*s+n*w,i[7]=-a*y+n*E,this},translate(r,n){const a=this.elements;return a[0]+=r*a[2],a[3]+=r*a[5],a[6]+=r*a[8],a[1]+=n*a[2],a[4]+=n*a[5],a[7]+=n*a[8],this},equals(r){const n=this.elements,a=r.elements;for(let r=0;r<9;r++)if(n[r]!==a[r])return!1;return!0},fromArray(r,n){void 0===n&&(n=0);for(let a=0;a<9;a++)this.elements[a]=r[a+n];return this},toArray(r,n){void 0===r&&(r=[]),void 0===n&&(n=0);const a=this.elements;return r[n]=a[0],r[n+1]=a[1],r[n+2]=a[2],r[n+3]=a[3],r[n+4]=a[4],r[n+5]=a[5],r[n+6]=a[6],r[n+7]=a[7],r[n+8]=a[8],r}});const Qn={getDataURL(r){if(/^data:/i.test(r.src))return r.src;if("undefined"==typeof HTMLCanvasElement)return r.src;let n;if(r instanceof HTMLCanvasElement)n=r;else{void 0===Jn&&(Jn=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Jn.width=r.width,Jn.height=r.height;const a=Jn.getContext("2d");r instanceof ImageData?a.putImageData(r,0,0):a.drawImage(r,0,0,r.width,r.height),n=Jn}return n.width>2048||n.height>2048?n.toDataURL("image/jpeg",.6):n.toDataURL("image/png")}};let Zn=0;function Texture(r,n,a,i,o,s,y,_,w,E){Object.defineProperty(this,"id",{value:Zn++}),this.uuid=Kn.generateUUID(),this.name="",this.image=void 0!==r?r:Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==n?n:Texture.DEFAULT_MAPPING,this.wrapS=void 0!==a?a:Ct,this.wrapT=void 0!==i?i:Ct,this.magFilter=void 0!==o?o:kt,this.minFilter=void 0!==s?s:Nt,this.anisotropy=void 0!==w?w:1,this.format=void 0!==y?y:$t,this.internalFormat=null,this.type=void 0!==_?_:It,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==E?E:pn,this.version=0,this.onUpdate=null}function Vector4(r=0,n=0,a=0,i=1){this.x=r,this.y=n,this.z=a,this.w=i}function WebGLRenderTarget(r,n,a){this.width=r,this.height=n,this.scissor=new Vector4(0,0,r,n),this.scissorTest=!1,this.viewport=new Vector4(0,0,r,n),a=a||{},this.texture=new Texture(void 0,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),this.texture.image={},this.texture.image.width=r,this.texture.image.height=n,this.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,this.texture.minFilter=void 0!==a.minFilter?a.minFilter:kt,this.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,this.stencilBuffer=void 0===a.stencilBuffer||a.stencilBuffer,this.depthTexture=void 0!==a.depthTexture?a.depthTexture:null}function WebGLMultisampleRenderTarget(r,n,a){WebGLRenderTarget.call(this,r,n,a),this.samples=4}function Quaternion(r=0,n=0,a=0,i=1){this._x=r,this._y=n,this._z=a,this._w=i}Texture.DEFAULT_IMAGE=void 0,Texture.DEFAULT_MAPPING=mt,Texture.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:Texture,isTexture:!0,updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone(){return(new this.constructor).copy(this)},copy(r){return this.name=r.name,this.image=r.image,this.mipmaps=r.mipmaps.slice(0),this.mapping=r.mapping,this.wrapS=r.wrapS,this.wrapT=r.wrapT,this.magFilter=r.magFilter,this.minFilter=r.minFilter,this.anisotropy=r.anisotropy,this.format=r.format,this.internalFormat=r.internalFormat,this.type=r.type,this.offset.copy(r.offset),this.repeat.copy(r.repeat),this.center.copy(r.center),this.rotation=r.rotation,this.matrixAutoUpdate=r.matrixAutoUpdate,this.matrix.copy(r.matrix),this.generateMipmaps=r.generateMipmaps,this.premultiplyAlpha=r.premultiplyAlpha,this.flipY=r.flipY,this.unpackAlignment=r.unpackAlignment,this.encoding=r.encoding,this},toJSON(r){const n=void 0===r||"string"==typeof r;if(!n&&void 0!==r.textures[this.uuid])return r.textures[this.uuid];const a={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const i=this.image;if(void 0===i.uuid&&(i.uuid=Kn.generateUUID()),!n&&void 0===r.images[i.uuid]){let n;if(Array.isArray(i)){n=[];for(let r=0,a=i.length;r<a;r++)n.push(Qn.getDataURL(i[r]))}else n=Qn.getDataURL(i);r.images[i.uuid]={uuid:i.uuid,url:n}}a.image=i.uuid}return n||(r.textures[this.uuid]=a),a},dispose(){this.dispatchEvent({type:"dispose"})},transformUv(r){if(this.mapping!==mt)return r;if(r.applyMatrix3(this.matrix),r.x<0||r.x>1)switch(this.wrapS){case St:r.x=r.x-Math.floor(r.x);break;case Ct:r.x=r.x<0?0:1;break;case wt:1===Math.abs(Math.floor(r.x)%2)?r.x=Math.ceil(r.x)-r.x:r.x=r.x-Math.floor(r.x)}if(r.y<0||r.y>1)switch(this.wrapT){case St:r.y=r.y-Math.floor(r.y);break;case Ct:r.y=r.y<0?0:1;break;case wt:1===Math.abs(Math.floor(r.y)%2)?r.y=Math.ceil(r.y)-r.y:r.y=r.y-Math.floor(r.y)}return this.flipY&&(r.y=1-r.y),r}}),Object.defineProperty(Texture.prototype,"needsUpdate",{set(r){!0===r&&this.version++}}),Object.defineProperties(Vector4.prototype,{width:{get(){return this.z},set(r){this.z=r}},height:{get(){return this.w},set(r){this.w=r}}}),Object.assign(Vector4.prototype,{isVector4:!0,set(r,n,a,i){return this.x=r,this.y=n,this.z=a,this.w=i,this},setScalar(r){return this.x=r,this.y=r,this.z=r,this.w=r,this},setX(r){return this.x=r,this},setY(r){return this.y=r,this},setZ(r){return this.z=r,this},setW(r){return this.w=r,this},setComponent(r,n){switch(r){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw Error("index is out of range: "+r)}return this},getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+r)}},clone(){return new this.constructor(this.x,this.y,this.z,this.w)},copy(r){return this.x=r.x,this.y=r.y,this.z=r.z,this.w=void 0!==r.w?r.w:1,this},add(r,n){return void 0!==n?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(r,n)):(this.x+=r.x,this.y+=r.y,this.z+=r.z,this.w+=r.w,this)},addScalar(r){return this.x+=r,this.y+=r,this.z+=r,this.w+=r,this},addVectors(r,n){return this.x=r.x+n.x,this.y=r.y+n.y,this.z=r.z+n.z,this.w=r.w+n.w,this},addScaledVector(r,n){return this.x+=r.x*n,this.y+=r.y*n,this.z+=r.z*n,this.w+=r.w*n,this},sub(r,n){return void 0!==n?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(r,n)):(this.x-=r.x,this.y-=r.y,this.z-=r.z,this.w-=r.w,this)},subScalar(r){return this.x-=r,this.y-=r,this.z-=r,this.w-=r,this},subVectors(r,n){return this.x=r.x-n.x,this.y=r.y-n.y,this.z=r.z-n.z,this.w=r.w-n.w,this},multiplyScalar(r){return this.x*=r,this.y*=r,this.z*=r,this.w*=r,this},applyMatrix4(r){const n=this.x,a=this.y,i=this.z,o=this.w,s=r.elements;return this.x=s[0]*n+s[4]*a+s[8]*i+s[12]*o,this.y=s[1]*n+s[5]*a+s[9]*i+s[13]*o,this.z=s[2]*n+s[6]*a+s[10]*i+s[14]*o,this.w=s[3]*n+s[7]*a+s[11]*i+s[15]*o,this},divideScalar(r){return this.multiplyScalar(1/r)},setAxisAngleFromQuaternion(r){this.w=2*Math.acos(r.w);const n=Math.sqrt(1-r.w*r.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=r.x/n,this.y=r.y/n,this.z=r.z/n),this},setAxisAngleFromRotationMatrix(r){let n,a,i,o;const s=r.elements,y=s[0],_=s[4],w=s[8],E=s[1],j=s[5],q=s[9],$=s[2],ne=s[6],ie=s[10];if(Math.abs(_-E)<.01&&Math.abs(w-$)<.01&&Math.abs(q-ne)<.01){if(Math.abs(_+E)<.1&&Math.abs(w+$)<.1&&Math.abs(q+ne)<.1&&Math.abs(y+j+ie-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const r=(y+1)/2,s=(j+1)/2,oe=(ie+1)/2,se=(_+E)/4,le=(w+$)/4,pe=(q+ne)/4;return r>s&&r>oe?r<.01?(a=0,i=.707106781,o=.707106781):(a=Math.sqrt(r),i=se/a,o=le/a):s>oe?s<.01?(a=.707106781,i=0,o=.707106781):(i=Math.sqrt(s),a=se/i,o=pe/i):oe<.01?(a=.707106781,i=.707106781,o=0):(o=Math.sqrt(oe),a=le/o,i=pe/o),this.set(a,i,o,3.141592653589793),this}let oe=Math.sqrt((ne-q)*(ne-q)+(w-$)*(w-$)+(E-_)*(E-_));return Math.abs(oe)<.001&&(oe=1),this.x=(ne-q)/oe,this.y=(w-$)/oe,this.z=(E-_)/oe,this.w=Math.acos((y+j+ie-1)/2),this},min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this.z=Math.min(this.z,r.z),this.w=Math.min(this.w,r.w),this},max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this.z=Math.max(this.z,r.z),this.w=Math.max(this.w,r.w),this},clamp(r,n){return this.x=Math.max(r.x,Math.min(n.x,this.x)),this.y=Math.max(r.y,Math.min(n.y,this.y)),this.z=Math.max(r.z,Math.min(n.z,this.z)),this.w=Math.max(r.w,Math.min(n.w,this.w)),this},clampScalar(r,n){return this.x=Math.max(r,Math.min(n,this.x)),this.y=Math.max(r,Math.min(n,this.y)),this.z=Math.max(r,Math.min(n,this.z)),this.w=Math.max(r,Math.min(n,this.w)),this},clampLength(r,n){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(r,Math.min(n,a)))},floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot(r){return this.x*r.x+this.y*r.y+this.z*r.z+this.w*r.w},lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize(){return this.divideScalar(this.length()||1)},setLength(r){return this.normalize().multiplyScalar(r)},lerp(r,n){return this.x+=(r.x-this.x)*n,this.y+=(r.y-this.y)*n,this.z+=(r.z-this.z)*n,this.w+=(r.w-this.w)*n,this},lerpVectors(r,n,a){return this.x=r.x+(n.x-r.x)*a,this.y=r.y+(n.y-r.y)*a,this.z=r.z+(n.z-r.z)*a,this.w=r.w+(n.w-r.w)*a,this},equals(r){return r.x===this.x&&r.y===this.y&&r.z===this.z&&r.w===this.w},fromArray(r,n){return void 0===n&&(n=0),this.x=r[n],this.y=r[n+1],this.z=r[n+2],this.w=r[n+3],this},toArray(r,n){return void 0===r&&(r=[]),void 0===n&&(n=0),r[n]=this.x,r[n+1]=this.y,r[n+2]=this.z,r[n+3]=this.w,r},fromBufferAttribute(r,n,a){return void 0!==a&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=r.getX(n),this.y=r.getY(n),this.z=r.getZ(n),this.w=r.getW(n),this},random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),WebGLRenderTarget.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:WebGLRenderTarget,isWebGLRenderTarget:!0,setSize(r,n){this.width===r&&this.height===n||(this.width=r,this.height=n,this.texture.image.width=r,this.texture.image.height=n,this.dispose()),this.viewport.set(0,0,r,n),this.scissor.set(0,0,r,n)},clone(){return(new this.constructor).copy(this)},copy(r){return this.width=r.width,this.height=r.height,this.viewport.copy(r.viewport),this.texture=r.texture.clone(),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this},dispose(){this.dispatchEvent({type:"dispose"})}}),WebGLMultisampleRenderTarget.prototype=Object.assign(Object.create(WebGLRenderTarget.prototype),{constructor:WebGLMultisampleRenderTarget,isWebGLMultisampleRenderTarget:!0,copy(r){return WebGLRenderTarget.prototype.copy.call(this,r),this.samples=r.samples,this}}),Object.assign(Quaternion,{slerp:(r,n,a,i)=>a.copy(r).slerp(n,i),slerpFlat(r,n,a,i,o,s,y){let _=a[i+0],w=a[i+1],E=a[i+2],j=a[i+3];const q=o[s+0],$=o[s+1],ne=o[s+2],ie=o[s+3];if(j!==ie||_!==q||w!==$||E!==ne){let r=1-y,n=_*q+w*$+E*ne+j*ie,a=n>=0?1:-1,i=1-n*n;if(i>Number.EPSILON){const o=Math.sqrt(i),s=Math.atan2(o,n*a);r=Math.sin(r*s)/o,y=Math.sin(y*s)/o}const o=y*a;if(_=_*r+q*o,w=w*r+$*o,E=E*r+ne*o,j=j*r+ie*o,r===1-y){const r=1/Math.sqrt(_*_+w*w+E*E+j*j);_*=r,w*=r,E*=r,j*=r}}r[n]=_,r[n+1]=w,r[n+2]=E,r[n+3]=j},multiplyQuaternionsFlat(r,n,a,i,o,s){const y=a[i],_=a[i+1],w=a[i+2],E=a[i+3],j=o[s],q=o[s+1],$=o[s+2],ne=o[s+3];return r[n]=y*ne+E*j+_*$-w*q,r[n+1]=_*ne+E*q+w*j-y*$,r[n+2]=w*ne+E*$+y*q-_*j,r[n+3]=E*ne-y*j-_*q-w*$,r}}),Object.defineProperties(Quaternion.prototype,{x:{get(){return this._x},set(r){this._x=r,this._onChangeCallback()}},y:{get(){return this._y},set(r){this._y=r,this._onChangeCallback()}},z:{get(){return this._z},set(r){this._z=r,this._onChangeCallback()}},w:{get(){return this._w},set(r){this._w=r,this._onChangeCallback()}}}),Object.assign(Quaternion.prototype,{isQuaternion:!0,set(r,n,a,i){return this._x=r,this._y=n,this._z=a,this._w=i,this._onChangeCallback(),this},clone(){return new this.constructor(this._x,this._y,this._z,this._w)},copy(r){return this._x=r.x,this._y=r.y,this._z=r.z,this._w=r.w,this._onChangeCallback(),this},setFromEuler(r,n){if(!r||!r.isEuler)throw Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const a=r._x,i=r._y,o=r._z,s=r.order,y=Math.cos,_=Math.sin,w=y(a/2),E=y(i/2),j=y(o/2),q=_(a/2),$=_(i/2),ne=_(o/2);switch(s){case"XYZ":this._x=q*E*j+w*$*ne,this._y=w*$*j-q*E*ne,this._z=w*E*ne+q*$*j,this._w=w*E*j-q*$*ne;break;case"YXZ":this._x=q*E*j+w*$*ne,this._y=w*$*j-q*E*ne,this._z=w*E*ne-q*$*j,this._w=w*E*j+q*$*ne;break;case"ZXY":this._x=q*E*j-w*$*ne,this._y=w*$*j+q*E*ne,this._z=w*E*ne+q*$*j,this._w=w*E*j-q*$*ne;break;case"ZYX":this._x=q*E*j-w*$*ne,this._y=w*$*j+q*E*ne,this._z=w*E*ne-q*$*j,this._w=w*E*j+q*$*ne;break;case"YZX":this._x=q*E*j+w*$*ne,this._y=w*$*j+q*E*ne,this._z=w*E*ne-q*$*j,this._w=w*E*j-q*$*ne;break;case"XZY":this._x=q*E*j-w*$*ne,this._y=w*$*j-q*E*ne,this._z=w*E*ne+q*$*j,this._w=w*E*j+q*$*ne;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==n&&this._onChangeCallback(),this},setFromAxisAngle(r,n){const a=n/2,i=Math.sin(a);return this._x=r.x*i,this._y=r.y*i,this._z=r.z*i,this._w=Math.cos(a),this._onChangeCallback(),this},setFromRotationMatrix(r){const n=r.elements,a=n[0],i=n[4],o=n[8],s=n[1],y=n[5],_=n[9],w=n[2],E=n[6],j=n[10],q=a+y+j;if(q>0){const r=.5/Math.sqrt(q+1);this._w=.25/r,this._x=(E-_)*r,this._y=(o-w)*r,this._z=(s-i)*r}else if(a>y&&a>j){const r=2*Math.sqrt(1+a-y-j);this._w=(E-_)/r,this._x=.25*r,this._y=(i+s)/r,this._z=(o+w)/r}else if(y>j){const r=2*Math.sqrt(1+y-a-j);this._w=(o-w)/r,this._x=(i+s)/r,this._y=.25*r,this._z=(_+E)/r}else{const r=2*Math.sqrt(1+j-a-y);this._w=(s-i)/r,this._x=(o+w)/r,this._y=(_+E)/r,this._z=.25*r}return this._onChangeCallback(),this},setFromUnitVectors(r,n){let a=r.dot(n)+1;return a<1e-6?(a=0,Math.abs(r.x)>Math.abs(r.z)?(this._x=-r.y,this._y=r.x,this._z=0,this._w=a):(this._x=0,this._y=-r.z,this._z=r.y,this._w=a)):(this._x=r.y*n.z-r.z*n.y,this._y=r.z*n.x-r.x*n.z,this._z=r.x*n.y-r.y*n.x,this._w=a),this.normalize()},angleTo(r){return 2*Math.acos(Math.abs(Kn.clamp(this.dot(r),-1,1)))},rotateTowards(r,n){const a=this.angleTo(r);if(0===a)return this;const i=Math.min(1,n/a);return this.slerp(r,i),this},identity(){return this.set(0,0,0,1)},inverse(){return this.conjugate()},conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot(r){return this._x*r._x+this._y*r._y+this._z*r._z+this._w*r._w},lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize(){let r=this.length();return 0===r?(this._x=0,this._y=0,this._z=0,this._w=1):(r=1/r,this._x=this._x*r,this._y=this._y*r,this._z=this._z*r,this._w=this._w*r),this._onChangeCallback(),this},multiply(r,n){return void 0!==n?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(r,n)):this.multiplyQuaternions(this,r)},premultiply(r){return this.multiplyQuaternions(r,this)},multiplyQuaternions(r,n){const a=r._x,i=r._y,o=r._z,s=r._w,y=n._x,_=n._y,w=n._z,E=n._w;return this._x=a*E+s*y+i*w-o*_,this._y=i*E+s*_+o*y-a*w,this._z=o*E+s*w+a*_-i*y,this._w=s*E-a*y-i*_-o*w,this._onChangeCallback(),this},slerp(r,n){if(0===n)return this;if(1===n)return this.copy(r);const a=this._x,i=this._y,o=this._z,s=this._w;let y=s*r._w+a*r._x+i*r._y+o*r._z;if(y<0?(this._w=-r._w,this._x=-r._x,this._y=-r._y,this._z=-r._z,y=-y):this.copy(r),y>=1)return this._w=s,this._x=a,this._y=i,this._z=o,this;const _=1-y*y;if(_<=Number.EPSILON){const r=1-n;return this._w=r*s+n*this._w,this._x=r*a+n*this._x,this._y=r*i+n*this._y,this._z=r*o+n*this._z,this.normalize(),this._onChangeCallback(),this}const w=Math.sqrt(_),E=Math.atan2(w,y),j=Math.sin((1-n)*E)/w,q=Math.sin(n*E)/w;return this._w=s*j+this._w*q,this._x=a*j+this._x*q,this._y=i*j+this._y*q,this._z=o*j+this._z*q,this._onChangeCallback(),this},equals(r){return r._x===this._x&&r._y===this._y&&r._z===this._z&&r._w===this._w},fromArray(r,n){return void 0===n&&(n=0),this._x=r[n],this._y=r[n+1],this._z=r[n+2],this._w=r[n+3],this._onChangeCallback(),this},toArray(r,n){return void 0===r&&(r=[]),void 0===n&&(n=0),r[n]=this._x,r[n+1]=this._y,r[n+2]=this._z,r[n+3]=this._w,r},fromBufferAttribute(r,n){return this._x=r.getX(n),this._y=r.getY(n),this._z=r.getZ(n),this._w=r.getW(n),this},_onChange(r){return this._onChangeCallback=r,this},_onChangeCallback(){}});const ta=new Vector3,na=new Quaternion;function Vector3(r=0,n=0,a=0){this.x=r,this.y=n,this.z=a}Object.assign(Vector3.prototype,{isVector3:!0,set(r,n,a){return void 0===a&&(a=this.z),this.x=r,this.y=n,this.z=a,this},setScalar(r){return this.x=r,this.y=r,this.z=r,this},setX(r){return this.x=r,this},setY(r){return this.y=r,this},setZ(r){return this.z=r,this},setComponent(r,n){switch(r){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw Error("index is out of range: "+r)}return this},getComponent(r){switch(r){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+r)}},clone(){return new this.constructor(this.x,this.y,this.z)},copy(r){return this.x=r.x,this.y=r.y,this.z=r.z,this},add(r,n){return void 0!==n?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(r,n)):(this.x+=r.x,this.y+=r.y,this.z+=r.z,this)},addScalar(r){return this.x+=r,this.y+=r,this.z+=r,this},addVectors(r,n){return this.x=r.x+n.x,this.y=r.y+n.y,this.z=r.z+n.z,this},addScaledVector(r,n){return this.x+=r.x*n,this.y+=r.y*n,this.z+=r.z*n,this},sub(r,n){return void 0!==n?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(r,n)):(this.x-=r.x,this.y-=r.y,this.z-=r.z,this)},subScalar(r){return this.x-=r,this.y-=r,this.z-=r,this},subVectors(r,n){return this.x=r.x-n.x,this.y=r.y-n.y,this.z=r.z-n.z,this},multiply(r,n){return void 0!==n?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(r,n)):(this.x*=r.x,this.y*=r.y,this.z*=r.z,this)},multiplyScalar(r){return this.x*=r,this.y*=r,this.z*=r,this},multiplyVectors(r,n){return this.x=r.x*n.x,this.y=r.y*n.y,this.z=r.z*n.z,this},applyEuler(r){return r&&r.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(na.setFromEuler(r))},applyAxisAngle(r,n){return this.applyQuaternion(na.setFromAxisAngle(r,n))},applyMatrix3(r){const n=this.x,a=this.y,i=this.z,o=r.elements;return this.x=o[0]*n+o[3]*a+o[6]*i,this.y=o[1]*n+o[4]*a+o[7]*i,this.z=o[2]*n+o[5]*a+o[8]*i,this},applyNormalMatrix(r){return this.applyMatrix3(r).normalize()},applyMatrix4(r){const n=this.x,a=this.y,i=this.z,o=r.elements,s=1/(o[3]*n+o[7]*a+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*a+o[8]*i+o[12])*s,this.y=(o[1]*n+o[5]*a+o[9]*i+o[13])*s,this.z=(o[2]*n+o[6]*a+o[10]*i+o[14])*s,this},applyQuaternion(r){const n=this.x,a=this.y,i=this.z,o=r.x,s=r.y,y=r.z,_=r.w,w=_*n+s*i-y*a,E=_*a+y*n-o*i,j=_*i+o*a-s*n,q=-o*n-s*a-y*i;return this.x=w*_+q*-o+E*-y-j*-s,this.y=E*_+q*-s+j*-o-w*-y,this.z=j*_+q*-y+w*-s-E*-o,this},project(r){return this.applyMatrix4(r.matrixWorldInverse).applyMatrix4(r.projectionMatrix)},unproject(r){return this.applyMatrix4(r.projectionMatrixInverse).applyMatrix4(r.matrixWorld)},transformDirection(r){const n=this.x,a=this.y,i=this.z,o=r.elements;return this.x=o[0]*n+o[4]*a+o[8]*i,this.y=o[1]*n+o[5]*a+o[9]*i,this.z=o[2]*n+o[6]*a+o[10]*i,this.normalize()},divide(r){return this.x/=r.x,this.y/=r.y,this.z/=r.z,this},divideScalar(r){return this.multiplyScalar(1/r)},min(r){return this.x=Math.min(this.x,r.x),this.y=Math.min(this.y,r.y),this.z=Math.min(this.z,r.z),this},max(r){return this.x=Math.max(this.x,r.x),this.y=Math.max(this.y,r.y),this.z=Math.max(this.z,r.z),this},clamp(r,n){return this.x=Math.max(r.x,Math.min(n.x,this.x)),this.y=Math.max(r.y,Math.min(n.y,this.y)),this.z=Math.max(r.z,Math.min(n.z,this.z)),this},clampScalar(r,n){return this.x=Math.max(r,Math.min(n,this.x)),this.y=Math.max(r,Math.min(n,this.y)),this.z=Math.max(r,Math.min(n,this.z)),this},clampLength(r,n){const a=this.length();return this.divideScalar(a||1).multiplyScalar(Math.max(r,Math.min(n,a)))},floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot(r){return this.x*r.x+this.y*r.y+this.z*r.z},lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z},length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize(){return this.divideScalar(this.length()||1)},setLength(r){return this.normalize().multiplyScalar(r)},lerp(r,n){return this.x+=(r.x-this.x)*n,this.y+=(r.y-this.y)*n,this.z+=(r.z-this.z)*n,this},lerpVectors(r,n,a){return this.x=r.x+(n.x-r.x)*a,this.y=r.y+(n.y-r.y)*a,this.z=r.z+(n.z-r.z)*a,this},cross(r,n){return void 0!==n?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(r,n)):this.crossVectors(this,r)},crossVectors(r,n){const a=r.x,i=r.y,o=r.z,s=n.x,y=n.y,_=n.z;return this.x=i*_-o*y,this.y=o*s-a*_,this.z=a*y-i*s,this},projectOnVector(r){const n=r.lengthSq();if(0===n)return this.set(0,0,0);const a=r.dot(this)/n;return this.copy(r).multiplyScalar(a)},projectOnPlane(r){return ta.copy(this).projectOnVector(r),this.sub(ta)},reflect(r){return this.sub(ta.copy(r).multiplyScalar(2*this.dot(r)))},angleTo(r){const n=Math.sqrt(this.lengthSq()*r.lengthSq());if(0===n)return Math.PI/2;const a=this.dot(r)/n;return Math.acos(Kn.clamp(a,-1,1))},distanceTo(r){return Math.sqrt(this.distanceToSquared(r))},distanceToSquared(r){const n=this.x-r.x,a=this.y-r.y,i=this.z-r.z;return n*n+a*a+i*i},manhattanDistanceTo(r){return Math.abs(this.x-r.x)+Math.abs(this.y-r.y)+Math.abs(this.z-r.z)},setFromSpherical(r){return this.setFromSphericalCoords(r.radius,r.phi,r.theta)},setFromSphericalCoords(r,n,a){const i=Math.sin(n)*r;return this.x=i*Math.sin(a),this.y=Math.cos(n)*r,this.z=i*Math.cos(a),this},setFromCylindrical(r){return this.setFromCylindricalCoords(r.radius,r.theta,r.y)},setFromCylindricalCoords(r,n,a){return this.x=r*Math.sin(n),this.y=a,this.z=r*Math.cos(n),this},setFromMatrixPosition(r){const n=r.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this},setFromMatrixScale(r){const n=this.setFromMatrixColumn(r,0).length(),a=this.setFromMatrixColumn(r,1).length(),i=this.setFromMatrixColumn(r,2).length();return this.x=n,this.y=a,this.z=i,this},setFromMatrixColumn(r,n){return this.fromArray(r.elements,4*n)},setFromMatrix3Column(r,n){return this.fromArray(r.elements,3*n)},equals(r){return r.x===this.x&&r.y===this.y&&r.z===this.z},fromArray(r,n){return void 0===n&&(n=0),this.x=r[n],this.y=r[n+1],this.z=r[n+2],this},toArray(r,n){return void 0===r&&(r=[]),void 0===n&&(n=0),r[n]=this.x,r[n+1]=this.y,r[n+2]=this.z,r},fromBufferAttribute(r,n,a){return void 0!==a&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=r.getX(n),this.y=r.getY(n),this.z=r.getZ(n),this},random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});const ia=new Vector3,sa=new Matrix4,la=new Vector3(0,0,0),pa=new Vector3(1,1,1),da=new Vector3,ha=new Vector3,fa=new Vector3;function Matrix4(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Matrix4.prototype,{isMatrix4:!0,set(r,n,a,i,o,s,y,_,w,E,j,q,$,ne,ie,oe){const se=this.elements;return se[0]=r,se[4]=n,se[8]=a,se[12]=i,se[1]=o,se[5]=s,se[9]=y,se[13]=_,se[2]=w,se[6]=E,se[10]=j,se[14]=q,se[3]=$,se[7]=ne,se[11]=ie,se[15]=oe,this},identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone(){return(new Matrix4).fromArray(this.elements)},copy(r){const n=this.elements,a=r.elements;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],n[6]=a[6],n[7]=a[7],n[8]=a[8],n[9]=a[9],n[10]=a[10],n[11]=a[11],n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15],this},copyPosition(r){const n=this.elements,a=r.elements;return n[12]=a[12],n[13]=a[13],n[14]=a[14],this},extractBasis(r,n,a){return r.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),a.setFromMatrixColumn(this,2),this},makeBasis(r,n,a){return this.set(r.x,n.x,a.x,0,r.y,n.y,a.y,0,r.z,n.z,a.z,0,0,0,0,1),this},extractRotation(r){const n=this.elements,a=r.elements,i=1/ia.setFromMatrixColumn(r,0).length(),o=1/ia.setFromMatrixColumn(r,1).length(),s=1/ia.setFromMatrixColumn(r,2).length();return n[0]=a[0]*i,n[1]=a[1]*i,n[2]=a[2]*i,n[3]=0,n[4]=a[4]*o,n[5]=a[5]*o,n[6]=a[6]*o,n[7]=0,n[8]=a[8]*s,n[9]=a[9]*s,n[10]=a[10]*s,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this},makeRotationFromEuler(r){r&&r.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const n=this.elements,a=r.x,i=r.y,o=r.z,s=Math.cos(a),y=Math.sin(a),_=Math.cos(i),w=Math.sin(i),E=Math.cos(o),j=Math.sin(o);if("XYZ"===r.order){const r=s*E,a=s*j,i=y*E,o=y*j;n[0]=_*E,n[4]=-_*j,n[8]=w,n[1]=a+i*w,n[5]=r-o*w,n[9]=-y*_,n[2]=o-r*w,n[6]=i+a*w,n[10]=s*_}else if("YXZ"===r.order){const r=_*E,a=_*j,i=w*E,o=w*j;n[0]=r+o*y,n[4]=i*y-a,n[8]=s*w,n[1]=s*j,n[5]=s*E,n[9]=-y,n[2]=a*y-i,n[6]=o+r*y,n[10]=s*_}else if("ZXY"===r.order){const r=_*E,a=_*j,i=w*E,o=w*j;n[0]=r-o*y,n[4]=-s*j,n[8]=i+a*y,n[1]=a+i*y,n[5]=s*E,n[9]=o-r*y,n[2]=-s*w,n[6]=y,n[10]=s*_}else if("ZYX"===r.order){const r=s*E,a=s*j,i=y*E,o=y*j;n[0]=_*E,n[4]=i*w-a,n[8]=r*w+o,n[1]=_*j,n[5]=o*w+r,n[9]=a*w-i,n[2]=-w,n[6]=y*_,n[10]=s*_}else if("YZX"===r.order){const r=s*_,a=s*w,i=y*_,o=y*w;n[0]=_*E,n[4]=o-r*j,n[8]=i*j+a,n[1]=j,n[5]=s*E,n[9]=-y*E,n[2]=-w*E,n[6]=a*j+i,n[10]=r-o*j}else if("XZY"===r.order){const r=s*_,a=s*w,i=y*_,o=y*w;n[0]=_*E,n[4]=-j,n[8]=w*E,n[1]=r*j+o,n[5]=s*E,n[9]=a*j-i,n[2]=i*j-a,n[6]=y*E,n[10]=o*j+r}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this},makeRotationFromQuaternion(r){return this.compose(la,r,pa)},lookAt(r,n,a){const i=this.elements;return fa.subVectors(r,n),0===fa.lengthSq()&&(fa.z=1),fa.normalize(),da.crossVectors(a,fa),0===da.lengthSq()&&(1===Math.abs(a.z)?fa.x+=1e-4:fa.z+=1e-4,fa.normalize(),da.crossVectors(a,fa)),da.normalize(),ha.crossVectors(fa,da),i[0]=da.x,i[4]=ha.x,i[8]=fa.x,i[1]=da.y,i[5]=ha.y,i[9]=fa.y,i[2]=da.z,i[6]=ha.z,i[10]=fa.z,this},multiply(r,n){return void 0!==n?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(r,n)):this.multiplyMatrices(this,r)},premultiply(r){return this.multiplyMatrices(r,this)},multiplyMatrices(r,n){const a=r.elements,i=n.elements,o=this.elements,s=a[0],y=a[4],_=a[8],w=a[12],E=a[1],j=a[5],q=a[9],$=a[13],ne=a[2],ie=a[6],oe=a[10],se=a[14],le=a[3],pe=a[7],he=a[11],me=a[15],ge=i[0],ye=i[4],_e=i[8],ve=i[12],Se=i[1],we=i[5],Me=i[9],Te=i[13],Ae=i[2],ke=i[6],Re=i[10],Oe=i[14],Ne=i[3],Fe=i[7],je=i[11],Be=i[15];return o[0]=s*ge+y*Se+_*Ae+w*Ne,o[4]=s*ye+y*we+_*ke+w*Fe,o[8]=s*_e+y*Me+_*Re+w*je,o[12]=s*ve+y*Te+_*Oe+w*Be,o[1]=E*ge+j*Se+q*Ae+$*Ne,o[5]=E*ye+j*we+q*ke+$*Fe,o[9]=E*_e+j*Me+q*Re+$*je,o[13]=E*ve+j*Te+q*Oe+$*Be,o[2]=ne*ge+ie*Se+oe*Ae+se*Ne,o[6]=ne*ye+ie*we+oe*ke+se*Fe,o[10]=ne*_e+ie*Me+oe*Re+se*je,o[14]=ne*ve+ie*Te+oe*Oe+se*Be,o[3]=le*ge+pe*Se+he*Ae+me*Ne,o[7]=le*ye+pe*we+he*ke+me*Fe,o[11]=le*_e+pe*Me+he*Re+me*je,o[15]=le*ve+pe*Te+he*Oe+me*Be,this},multiplyScalar(r){const n=this.elements;return n[0]*=r,n[4]*=r,n[8]*=r,n[12]*=r,n[1]*=r,n[5]*=r,n[9]*=r,n[13]*=r,n[2]*=r,n[6]*=r,n[10]*=r,n[14]*=r,n[3]*=r,n[7]*=r,n[11]*=r,n[15]*=r,this},determinant(){const r=this.elements,n=r[0],a=r[4],i=r[8],o=r[12],s=r[1],y=r[5],_=r[9],w=r[13],E=r[2],j=r[6],q=r[10],$=r[14];return r[3]*(+o*_*j-i*w*j-o*y*q+a*w*q+i*y*$-a*_*$)+r[7]*(+n*_*$-n*w*q+o*s*q-i*s*$+i*w*E-o*_*E)+r[11]*(+n*w*j-n*y*$-o*s*j+a*s*$+o*y*E-a*w*E)+r[15]*(-i*y*E-n*_*j+n*y*q+i*s*j-a*s*q+a*_*E)},transpose(){const r=this.elements;let n;return n=r[1],r[1]=r[4],r[4]=n,n=r[2],r[2]=r[8],r[8]=n,n=r[6],r[6]=r[9],r[9]=n,n=r[3],r[3]=r[12],r[12]=n,n=r[7],r[7]=r[13],r[13]=n,n=r[11],r[11]=r[14],r[14]=n,this},setPosition(r,n,a){const i=this.elements;return r.isVector3?(i[12]=r.x,i[13]=r.y,i[14]=r.z):(i[12]=r,i[13]=n,i[14]=a),this},getInverse(r,n){void 0!==n&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const a=this.elements,i=r.elements,o=i[0],s=i[1],y=i[2],_=i[3],w=i[4],E=i[5],j=i[6],q=i[7],$=i[8],ne=i[9],ie=i[10],oe=i[11],se=i[12],le=i[13],pe=i[14],he=i[15],me=ne*pe*q-le*ie*q+le*j*oe-E*pe*oe-ne*j*he+E*ie*he,ge=se*ie*q-$*pe*q-se*j*oe+w*pe*oe+$*j*he-w*ie*he,ye=$*le*q-se*ne*q+se*E*oe-w*le*oe-$*E*he+w*ne*he,_e=se*ne*j-$*le*j-se*E*ie+w*le*ie+$*E*pe-w*ne*pe,ve=o*me+s*ge+y*ye+_*_e;if(0===ve)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const Se=1/ve;return a[0]=me*Se,a[1]=(le*ie*_-ne*pe*_-le*y*oe+s*pe*oe+ne*y*he-s*ie*he)*Se,a[2]=(E*pe*_-le*j*_+le*y*q-s*pe*q-E*y*he+s*j*he)*Se,a[3]=(ne*j*_-E*ie*_-ne*y*q+s*ie*q+E*y*oe-s*j*oe)*Se,a[4]=ge*Se,a[5]=($*pe*_-se*ie*_+se*y*oe-o*pe*oe-$*y*he+o*ie*he)*Se,a[6]=(se*j*_-w*pe*_-se*y*q+o*pe*q+w*y*he-o*j*he)*Se,a[7]=(w*ie*_-$*j*_+$*y*q-o*ie*q-w*y*oe+o*j*oe)*Se,a[8]=ye*Se,a[9]=(se*ne*_-$*le*_-se*s*oe+o*le*oe+$*s*he-o*ne*he)*Se,a[10]=(w*le*_-se*E*_+se*s*q-o*le*q-w*s*he+o*E*he)*Se,a[11]=($*E*_-w*ne*_-$*s*q+o*ne*q+w*s*oe-o*E*oe)*Se,a[12]=_e*Se,a[13]=($*le*y-se*ne*y+se*s*ie-o*le*ie-$*s*pe+o*ne*pe)*Se,a[14]=(se*E*y-w*le*y-se*s*j+o*le*j+w*s*pe-o*E*pe)*Se,a[15]=(w*ne*y-$*E*y+$*s*j-o*ne*j-w*s*ie+o*E*ie)*Se,this},scale(r){const n=this.elements,a=r.x,i=r.y,o=r.z;return n[0]*=a,n[4]*=i,n[8]*=o,n[1]*=a,n[5]*=i,n[9]*=o,n[2]*=a,n[6]*=i,n[10]*=o,n[3]*=a,n[7]*=i,n[11]*=o,this},getMaxScaleOnAxis(){const r=this.elements,n=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],a=r[4]*r[4]+r[5]*r[5]+r[6]*r[6],i=r[8]*r[8]+r[9]*r[9]+r[10]*r[10];return Math.sqrt(Math.max(n,a,i))},makeTranslation(r,n,a){return this.set(1,0,0,r,0,1,0,n,0,0,1,a,0,0,0,1),this},makeRotationX(r){const n=Math.cos(r),a=Math.sin(r);return this.set(1,0,0,0,0,n,-a,0,0,a,n,0,0,0,0,1),this},makeRotationY(r){const n=Math.cos(r),a=Math.sin(r);return this.set(n,0,a,0,0,1,0,0,-a,0,n,0,0,0,0,1),this},makeRotationZ(r){const n=Math.cos(r),a=Math.sin(r);return this.set(n,-a,0,0,a,n,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis(r,n){const a=Math.cos(n),i=Math.sin(n),o=1-a,s=r.x,y=r.y,_=r.z,w=o*s,E=o*y;return this.set(w*s+a,w*y-i*_,w*_+i*y,0,w*y+i*_,E*y+a,E*_-i*s,0,w*_-i*y,E*_+i*s,o*_*_+a,0,0,0,0,1),this},makeScale(r,n,a){return this.set(r,0,0,0,0,n,0,0,0,0,a,0,0,0,0,1),this},makeShear(r,n,a){return this.set(1,n,a,0,r,1,a,0,r,n,1,0,0,0,0,1),this},compose(r,n,a){const i=this.elements,o=n._x,s=n._y,y=n._z,_=n._w,w=o+o,E=s+s,j=y+y,q=o*w,$=o*E,ne=o*j,ie=s*E,oe=s*j,se=y*j,le=_*w,pe=_*E,he=_*j,me=a.x,ge=a.y,ye=a.z;return i[0]=(1-(ie+se))*me,i[1]=($+he)*me,i[2]=(ne-pe)*me,i[3]=0,i[4]=($-he)*ge,i[5]=(1-(q+se))*ge,i[6]=(oe+le)*ge,i[7]=0,i[8]=(ne+pe)*ye,i[9]=(oe-le)*ye,i[10]=(1-(q+ie))*ye,i[11]=0,i[12]=r.x,i[13]=r.y,i[14]=r.z,i[15]=1,this},decompose(r,n,a){const i=this.elements;let o=ia.set(i[0],i[1],i[2]).length(),s=ia.set(i[4],i[5],i[6]).length(),y=ia.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),r.x=i[12],r.y=i[13],r.z=i[14],sa.copy(this);const _=1/o,w=1/s,E=1/y;return sa.elements[0]*=_,sa.elements[1]*=_,sa.elements[2]*=_,sa.elements[4]*=w,sa.elements[5]*=w,sa.elements[6]*=w,sa.elements[8]*=E,sa.elements[9]*=E,sa.elements[10]*=E,n.setFromRotationMatrix(sa),a.x=o,a.y=s,a.z=y,this},makePerspective(r,n,a,i,o,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const y=this.elements,_=2*o/(n-r),w=2*o/(a-i),E=(n+r)/(n-r),j=(a+i)/(a-i),q=-(s+o)/(s-o),$=-2*s*o/(s-o);return y[0]=_,y[4]=0,y[8]=E,y[12]=0,y[1]=0,y[5]=w,y[9]=j,y[13]=0,y[2]=0,y[6]=0,y[10]=q,y[14]=$,y[3]=0,y[7]=0,y[11]=-1,y[15]=0,this},makeOrthographic(r,n,a,i,o,s){const y=this.elements,_=1/(n-r),w=1/(a-i),E=1/(s-o),j=(n+r)*_,q=(a+i)*w,$=(s+o)*E;return y[0]=2*_,y[4]=0,y[8]=0,y[12]=-j,y[1]=0,y[5]=2*w,y[9]=0,y[13]=-q,y[2]=0,y[6]=0,y[10]=-2*E,y[14]=-$,y[3]=0,y[7]=0,y[11]=0,y[15]=1,this},equals(r){const n=this.elements,a=r.elements;for(let r=0;r<16;r++)if(n[r]!==a[r])return!1;return!0},fromArray(r,n){void 0===n&&(n=0);for(let a=0;a<16;a++)this.elements[a]=r[a+n];return this},toArray(r,n){void 0===r&&(r=[]),void 0===n&&(n=0);const a=this.elements;return r[n]=a[0],r[n+1]=a[1],r[n+2]=a[2],r[n+3]=a[3],r[n+4]=a[4],r[n+5]=a[5],r[n+6]=a[6],r[n+7]=a[7],r[n+8]=a[8],r[n+9]=a[9],r[n+10]=a[10],r[n+11]=a[11],r[n+12]=a[12],r[n+13]=a[13],r[n+14]=a[14],r[n+15]=a[15],r}});const ma=new Matrix4,ga=new Quaternion;function Euler(r=0,n=0,a=0,i=Euler.DefaultOrder){this._x=r,this._y=n,this._z=a,this._order=i}function Layers(){this.mask=1}Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Euler.DefaultOrder="XYZ",Object.defineProperties(Euler.prototype,{x:{get(){return this._x},set(r){this._x=r,this._onChangeCallback()}},y:{get(){return this._y},set(r){this._y=r,this._onChangeCallback()}},z:{get(){return this._z},set(r){this._z=r,this._onChangeCallback()}},order:{get(){return this._order},set(r){this._order=r,this._onChangeCallback()}}}),Object.assign(Euler.prototype,{isEuler:!0,set(r,n,a,i){return this._x=r,this._y=n,this._z=a,this._order=i||this._order,this._onChangeCallback(),this},clone(){return new this.constructor(this._x,this._y,this._z,this._order)},copy(r){return this._x=r._x,this._y=r._y,this._z=r._z,this._order=r._order,this._onChangeCallback(),this},setFromRotationMatrix(r,n,a){const i=Kn.clamp,o=r.elements,s=o[0],y=o[4],_=o[8],w=o[1],E=o[5],j=o[9],q=o[2],$=o[6],ne=o[10];switch(n=n||this._order){case"XYZ":this._y=Math.asin(i(_,-1,1)),Math.abs(_)<.9999999?(this._x=Math.atan2(-j,ne),this._z=Math.atan2(-y,s)):(this._x=Math.atan2($,E),this._z=0);break;case"YXZ":this._x=Math.asin(-i(j,-1,1)),Math.abs(j)<.9999999?(this._y=Math.atan2(_,ne),this._z=Math.atan2(w,E)):(this._y=Math.atan2(-q,s),this._z=0);break;case"ZXY":this._x=Math.asin(i($,-1,1)),Math.abs($)<.9999999?(this._y=Math.atan2(-q,ne),this._z=Math.atan2(-y,E)):(this._y=0,this._z=Math.atan2(w,s));break;case"ZYX":this._y=Math.asin(-i(q,-1,1)),Math.abs(q)<.9999999?(this._x=Math.atan2($,ne),this._z=Math.atan2(w,s)):(this._x=0,this._z=Math.atan2(-y,E));break;case"YZX":this._z=Math.asin(i(w,-1,1)),Math.abs(w)<.9999999?(this._x=Math.atan2(-j,E),this._y=Math.atan2(-q,s)):(this._x=0,this._y=Math.atan2(_,ne));break;case"XZY":this._z=Math.asin(-i(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2($,E),this._y=Math.atan2(_,s)):(this._x=Math.atan2(-j,ne),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,!1!==a&&this._onChangeCallback(),this},setFromQuaternion(r,n,a){return ma.makeRotationFromQuaternion(r),this.setFromRotationMatrix(ma,n,a)},setFromVector3(r,n){return this.set(r.x,r.y,r.z,n||this._order)},reorder(r){return ga.setFromEuler(this),this.setFromQuaternion(ga,r)},equals(r){return r._x===this._x&&r._y===this._y&&r._z===this._z&&r._order===this._order},fromArray(r){return this._x=r[0],this._y=r[1],this._z=r[2],void 0!==r[3]&&(this._order=r[3]),this._onChangeCallback(),this},toArray(r,n){return void 0===r&&(r=[]),void 0===n&&(n=0),r[n]=this._x,r[n+1]=this._y,r[n+2]=this._z,r[n+3]=this._order,r},toVector3(r){return r?r.set(this._x,this._y,this._z):new Vector3(this._x,this._y,this._z)},_onChange(r){return this._onChangeCallback=r,this},_onChangeCallback(){}}),Object.assign(Layers.prototype,{set(r){this.mask=1<<r|0},enable(r){this.mask|=1<<r|0},enableAll(){this.mask=-1},toggle(r){this.mask^=1<<r|0},disable(r){this.mask&=~(1<<r|0)},disableAll(){this.mask=0},test(r){return 0!=(this.mask&r.mask)}});let ya=0;const _a=new Vector3,va=new Quaternion,wa=new Matrix4,Pa=new Vector3,Aa=new Vector3,Oa=new Vector3,Na=new Quaternion,Ia=new Vector3(1,0,0),Ba=new Vector3(0,1,0),za=new Vector3(0,0,1),Ua={type:"added"},Wa={type:"removed"};function Object3D(){Object.defineProperty(this,"id",{value:ya++}),this.uuid=Kn.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DefaultUp.clone();const r=new Vector3,n=new Euler,a=new Quaternion,i=new Vector3(1,1,1);n._onChange((function onRotationChange(){a.setFromEuler(n,!1)})),a._onChange((function onQuaternionChange(){n.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Scene(){Object3D.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Object3D.DefaultUp=new Vector3(0,1,0),Object3D.DefaultMatrixAutoUpdate=!0,Object3D.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:Object3D,isObject3D:!0,onBeforeRender(){},onAfterRender(){},applyMatrix4(r){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(r),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion(r){return this.quaternion.premultiply(r),this},setRotationFromAxisAngle(r,n){this.quaternion.setFromAxisAngle(r,n)},setRotationFromEuler(r){this.quaternion.setFromEuler(r,!0)},setRotationFromMatrix(r){this.quaternion.setFromRotationMatrix(r)},setRotationFromQuaternion(r){this.quaternion.copy(r)},rotateOnAxis(r,n){return va.setFromAxisAngle(r,n),this.quaternion.multiply(va),this},rotateOnWorldAxis(r,n){return va.setFromAxisAngle(r,n),this.quaternion.premultiply(va),this},rotateX(r){return this.rotateOnAxis(Ia,r)},rotateY(r){return this.rotateOnAxis(Ba,r)},rotateZ(r){return this.rotateOnAxis(za,r)},translateOnAxis(r,n){return _a.copy(r).applyQuaternion(this.quaternion),this.position.add(_a.multiplyScalar(n)),this},translateX(r){return this.translateOnAxis(Ia,r)},translateY(r){return this.translateOnAxis(Ba,r)},translateZ(r){return this.translateOnAxis(za,r)},localToWorld(r){return r.applyMatrix4(this.matrixWorld)},worldToLocal(r){return r.applyMatrix4(wa.getInverse(this.matrixWorld))},lookAt(r,n,a){r.isVector3?Pa.copy(r):Pa.set(r,n,a);const i=this.parent;this.updateWorldMatrix(!0,!1),Aa.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?wa.lookAt(Aa,Pa,this.up):wa.lookAt(Pa,Aa,this.up),this.quaternion.setFromRotationMatrix(wa),i&&(wa.extractRotation(i.matrixWorld),va.setFromRotationMatrix(wa),this.quaternion.premultiply(va.inverse()))},add(r){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return r===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",r),this):(r&&r.isObject3D?(null!==r.parent&&r.parent.remove(r),r.parent=this,this.children.push(r),r.dispatchEvent(Ua)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",r),this)},remove(r){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(r);return-1!==n&&(r.parent=null,this.children.splice(n,1),r.dispatchEvent(Wa)),this},attach(r){return this.updateWorldMatrix(!0,!1),wa.getInverse(this.matrixWorld),null!==r.parent&&(r.parent.updateWorldMatrix(!0,!1),wa.multiply(r.parent.matrixWorld)),r.applyMatrix4(wa),r.updateWorldMatrix(!1,!1),this.add(r),this},getObjectById(r){return this.getObjectByProperty("id",r)},getObjectByName(r){return this.getObjectByProperty("name",r)},getObjectByProperty(r,n){if(this[r]===n)return this;for(let a=0,i=this.children.length;a<i;a++){const i=this.children[a].getObjectByProperty(r,n);if(void 0!==i)return i}},getWorldPosition(r){return void 0===r&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),r=new Vector3),this.updateMatrixWorld(!0),r.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion(r){return void 0===r&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),r=new Quaternion),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Aa,r,Oa),r},getWorldScale(r){return void 0===r&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),r=new Vector3),this.updateMatrixWorld(!0),this.matrixWorld.decompose(Aa,Na,r),r},getWorldDirection(r){void 0===r&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),r=new Vector3),this.updateMatrixWorld(!0);const n=this.matrixWorld.elements;return r.set(n[8],n[9],n[10]).normalize()},raycast(){},traverse(r){r(this);const n=this.children;for(let a=0,i=n.length;a<i;a++)n[a].traverse(r)},traverseVisible(r){if(!1===this.visible)return;r(this);const n=this.children;for(let a=0,i=n.length;a<i;a++)n[a].traverseVisible(r)},traverseAncestors(r){const n=this.parent;null!==n&&(r(n),n.traverseAncestors(r))},updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld(r){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||r)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,r=!0);const n=this.children;for(let a=0,i=n.length;a<i;a++)n[a].updateMatrixWorld(r)},updateWorldMatrix(r,n){const a=this.parent;if(!0===r&&null!==a&&a.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===n){const r=this.children;for(let n=0,a=r.length;n<a;n++)r[n].updateWorldMatrix(!1,!0)}},toJSON(r){const n=void 0===r||"string"==typeof r,a={};n&&(r={geometries:{},materials:{},textures:{},images:{},shapes:{}},a.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const i={};function serialize(n,a){return void 0===n[a.uuid]&&(n[a.uuid]=a.toJSON(r)),a.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=serialize(r.geometries,this.geometry);const n=this.geometry.parameters;if(void 0!==n&&void 0!==n.shapes){const a=n.shapes;if(Array.isArray(a))for(let n=0,i=a.length;n<i;n++){const i=a[n];serialize(r.shapes,i)}else serialize(r.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){const n=[];for(let a=0,i=this.material.length;a<i;a++)n.push(serialize(r.materials,this.material[a]));i.material=n}else i.material=serialize(r.materials,this.material);if(this.children.length>0){i.children=[];for(let n=0;n<this.children.length;n++)i.children.push(this.children[n].toJSON(r).object)}if(n){const n=extractFromCache(r.geometries),i=extractFromCache(r.materials),o=extractFromCache(r.textures),s=extractFromCache(r.images),y=extractFromCache(r.shapes);n.length>0&&(a.geometries=n),i.length>0&&(a.materials=i),o.length>0&&(a.textures=o),s.length>0&&(a.images=s),y.length>0&&(a.shapes=y)}return a.object=i,a;function extractFromCache(r){const n=[];for(const a in r){const i=r[a];delete i.metadata,n.push(i)}return n}},clone(r){return(new this.constructor).copy(this,r)},copy(r,n){if(void 0===n&&(n=!0),this.name=r.name,this.up.copy(r.up),this.position.copy(r.position),this.rotation.order=r.rotation.order,this.quaternion.copy(r.quaternion),this.scale.copy(r.scale),this.matrix.copy(r.matrix),this.matrixWorld.copy(r.matrixWorld),this.matrixAutoUpdate=r.matrixAutoUpdate,this.matrixWorldNeedsUpdate=r.matrixWorldNeedsUpdate,this.layers.mask=r.layers.mask,this.visible=r.visible,this.castShadow=r.castShadow,this.receiveShadow=r.receiveShadow,this.frustumCulled=r.frustumCulled,this.renderOrder=r.renderOrder,this.userData=JSON.parse(JSON.stringify(r.userData)),!0===n)for(let n=0;n<r.children.length;n++){const a=r.children[n];this.add(a.clone())}return this}}),Scene.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Scene,isScene:!0,copy(r,n){return Object3D.prototype.copy.call(this,r,n),null!==r.background&&(this.background=r.background.clone()),null!==r.environment&&(this.environment=r.environment.clone()),null!==r.fog&&(this.fog=r.fog.clone()),null!==r.overrideMaterial&&(this.overrideMaterial=r.overrideMaterial.clone()),this.autoUpdate=r.autoUpdate,this.matrixAutoUpdate=r.matrixAutoUpdate,this},toJSON(r){const n=Object3D.prototype.toJSON.call(this,r);return null!==this.background&&(n.object.background=this.background.toJSON(r)),null!==this.environment&&(n.object.environment=this.environment.toJSON(r)),null!==this.fog&&(n.object.fog=this.fog.toJSON()),n},dispose(){this.dispatchEvent({type:"dispose"})}});const Ya=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],qa=new Vector3,$a=new Box3,Ka=new Vector3,Ja=new Vector3,Qa=new Vector3,Za=new Vector3,ti=new Vector3,ni=new Vector3,ii=new Vector3,oi=new Vector3,pi=new Vector3,ui=new Vector3;function Box3(r,n){this.min=void 0!==r?r:new Vector3(1/0,1/0,1/0),this.max=void 0!==n?n:new Vector3(-1/0,-1/0,-1/0)}function satForAxes(r,n,a,i,o){for(let s=0,y=r.length-3;s<=y;s+=3){ui.fromArray(r,s);const y=o.x*Math.abs(ui.x)+o.y*Math.abs(ui.y)+o.z*Math.abs(ui.z),_=n.dot(ui),w=a.dot(ui),E=i.dot(ui);if(Math.max(-Math.max(_,w,E),Math.min(_,w,E))>y)return!1}return!0}Object.assign(Box3.prototype,{isBox3:!0,set(r,n){return this.min.copy(r),this.max.copy(n),this},setFromArray(r){let n=1/0,a=1/0,i=1/0,o=-1/0,s=-1/0,y=-1/0;for(let _=0,w=r.length;_<w;_+=3){const w=r[_],E=r[_+1],j=r[_+2];w<n&&(n=w),E<a&&(a=E),j<i&&(i=j),w>o&&(o=w),E>s&&(s=E),j>y&&(y=j)}return this.min.set(n,a,i),this.max.set(o,s,y),this},setFromBufferAttribute(r){let n=1/0,a=1/0,i=1/0,o=-1/0,s=-1/0,y=-1/0;for(let _=0,w=r.count;_<w;_++){const w=r.getX(_),E=r.getY(_),j=r.getZ(_);w<n&&(n=w),E<a&&(a=E),j<i&&(i=j),w>o&&(o=w),E>s&&(s=E),j>y&&(y=j)}return this.min.set(n,a,i),this.max.set(o,s,y),this},setFromPoints(r){this.makeEmpty();for(let n=0,a=r.length;n<a;n++)this.expandByPoint(r[n]);return this},setFromCenterAndSize(r,n){const a=qa.copy(n).multiplyScalar(.5);return this.min.copy(r).sub(a),this.max.copy(r).add(a),this},setFromObject(r){return this.makeEmpty(),this.expandByObject(r)},clone(){return(new this.constructor).copy(this)},copy(r){return this.min.copy(r.min),this.max.copy(r.max),this},makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter(r){return void 0===r&&(console.warn("THREE.Box3: .getCenter() target is now required"),r=new Vector3),this.isEmpty()?r.set(0,0,0):r.addVectors(this.min,this.max).multiplyScalar(.5)},getSize(r){return void 0===r&&(console.warn("THREE.Box3: .getSize() target is now required"),r=new Vector3),this.isEmpty()?r.set(0,0,0):r.subVectors(this.max,this.min)},expandByPoint(r){return this.min.min(r),this.max.max(r),this},expandByVector(r){return this.min.sub(r),this.max.add(r),this},expandByScalar(r){return this.min.addScalar(-r),this.max.addScalar(r),this},expandByObject(r){r.updateWorldMatrix(!1,!1);const n=r.geometry;void 0!==n&&(null===n.boundingBox&&n.computeBoundingBox(),$a.copy(n.boundingBox),$a.applyMatrix4(r.matrixWorld),this.union($a));const a=r.children;for(let r=0,n=a.length;r<n;r++)this.expandByObject(a[r]);return this},containsPoint(r){return!(r.x<this.min.x||r.x>this.max.x||r.y<this.min.y||r.y>this.max.y||r.z<this.min.z||r.z>this.max.z)},containsBox(r){return this.min.x<=r.min.x&&r.max.x<=this.max.x&&this.min.y<=r.min.y&&r.max.y<=this.max.y&&this.min.z<=r.min.z&&r.max.z<=this.max.z},getParameter(r,n){return void 0===n&&(console.warn("THREE.Box3: .getParameter() target is now required"),n=new Vector3),n.set((r.x-this.min.x)/(this.max.x-this.min.x),(r.y-this.min.y)/(this.max.y-this.min.y),(r.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox(r){return!(r.max.x<this.min.x||r.min.x>this.max.x||r.max.y<this.min.y||r.min.y>this.max.y||r.max.z<this.min.z||r.min.z>this.max.z)},intersectsSphere(r){return this.clampPoint(r.center,qa),qa.distanceToSquared(r.center)<=r.radius*r.radius},intersectsPlane(r){let n,a;return r.normal.x>0?(n=r.normal.x*this.min.x,a=r.normal.x*this.max.x):(n=r.normal.x*this.max.x,a=r.normal.x*this.min.x),r.normal.y>0?(n+=r.normal.y*this.min.y,a+=r.normal.y*this.max.y):(n+=r.normal.y*this.max.y,a+=r.normal.y*this.min.y),r.normal.z>0?(n+=r.normal.z*this.min.z,a+=r.normal.z*this.max.z):(n+=r.normal.z*this.max.z,a+=r.normal.z*this.min.z),n<=-r.constant&&a>=-r.constant},intersectsTriangle(r){if(this.isEmpty())return!1;this.getCenter(ii),oi.subVectors(this.max,ii),Ka.subVectors(r.a,ii),Ja.subVectors(r.b,ii),Qa.subVectors(r.c,ii),Za.subVectors(Ja,Ka),ti.subVectors(Qa,Ja),ni.subVectors(Ka,Qa);let n=[0,-Za.z,Za.y,0,-ti.z,ti.y,0,-ni.z,ni.y,Za.z,0,-Za.x,ti.z,0,-ti.x,ni.z,0,-ni.x,-Za.y,Za.x,0,-ti.y,ti.x,0,-ni.y,ni.x,0];return!!satForAxes(n,Ka,Ja,Qa,oi)&&(n=[1,0,0,0,1,0,0,0,1],!!satForAxes(n,Ka,Ja,Qa,oi)&&(pi.crossVectors(Za,ti),n=[pi.x,pi.y,pi.z],satForAxes(n,Ka,Ja,Qa,oi)))},clampPoint(r,n){return void 0===n&&(console.warn("THREE.Box3: .clampPoint() target is now required"),n=new Vector3),n.copy(r).clamp(this.min,this.max)},distanceToPoint(r){return qa.copy(r).clamp(this.min,this.max).sub(r).length()},getBoundingSphere(r){return void 0===r&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(r.center),r.radius=.5*this.getSize(qa).length(),r},intersect(r){return this.min.max(r.min),this.max.min(r.max),this.isEmpty()&&this.makeEmpty(),this},union(r){return this.min.min(r.min),this.max.max(r.max),this},applyMatrix4(r){return this.isEmpty()||(Ya[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(r),Ya[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(r),Ya[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(r),Ya[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(r),Ya[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(r),Ya[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(r),Ya[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(r),Ya[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(r),this.setFromPoints(Ya)),this},translate(r){return this.min.add(r),this.max.add(r),this},equals(r){return r.min.equals(this.min)&&r.max.equals(this.max)}});const _i=new Box3;function Sphere(r,n){this.center=void 0!==r?r:new Vector3,this.radius=void 0!==n?n:-1}Object.assign(Sphere.prototype,{set(r,n){return this.center.copy(r),this.radius=n,this},setFromPoints(r,n){const a=this.center;void 0!==n?a.copy(n):_i.setFromPoints(r).getCenter(a);let i=0;for(let n=0,o=r.length;n<o;n++)i=Math.max(i,a.distanceToSquared(r[n]));return this.radius=Math.sqrt(i),this},clone(){return(new this.constructor).copy(this)},copy(r){return this.center.copy(r.center),this.radius=r.radius,this},isEmpty(){return this.radius<0},makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint(r){return r.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint(r){return r.distanceTo(this.center)-this.radius},intersectsSphere(r){const n=this.radius+r.radius;return r.center.distanceToSquared(this.center)<=n*n},intersectsBox(r){return r.intersectsSphere(this)},intersectsPlane(r){return Math.abs(r.distanceToPoint(this.center))<=this.radius},clampPoint(r,n){const a=this.center.distanceToSquared(r);return void 0===n&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),n=new Vector3),n.copy(r),a>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox(r){return void 0===r&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),r=new Box3),this.isEmpty()?(r.makeEmpty(),r):(r.set(this.center,this.center),r.expandByScalar(this.radius),r)},applyMatrix4(r){return this.center.applyMatrix4(r),this.radius=this.radius*r.getMaxScaleOnAxis(),this},translate(r){return this.center.add(r),this},equals(r){return r.center.equals(this.center)&&r.radius===this.radius}});const vi=new Vector3,wi=new Vector3,Ti=new Vector3,Li=new Vector3,Bi=new Vector3,Wi=new Vector3,Yi=new Vector3;function Ray(r,n){this.origin=void 0!==r?r:new Vector3,this.direction=void 0!==n?n:new Vector3(0,0,-1)}Object.assign(Ray.prototype,{set(r,n){return this.origin.copy(r),this.direction.copy(n),this},clone(){return(new this.constructor).copy(this)},copy(r){return this.origin.copy(r.origin),this.direction.copy(r.direction),this},at(r,n){return void 0===n&&(console.warn("THREE.Ray: .at() target is now required"),n=new Vector3),n.copy(this.direction).multiplyScalar(r).add(this.origin)},lookAt(r){return this.direction.copy(r).sub(this.origin).normalize(),this},recast(r){return this.origin.copy(this.at(r,vi)),this},closestPointToPoint(r,n){void 0===n&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),n=new Vector3),n.subVectors(r,this.origin);const a=n.dot(this.direction);return a<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(a).add(this.origin)},distanceToPoint(r){return Math.sqrt(this.distanceSqToPoint(r))},distanceSqToPoint(r){const n=vi.subVectors(r,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(r):(vi.copy(this.direction).multiplyScalar(n).add(this.origin),vi.distanceToSquared(r))},distanceSqToSegment(r,n,a,i){wi.copy(r).add(n).multiplyScalar(.5),Ti.copy(n).sub(r).normalize(),Li.copy(this.origin).sub(wi);const o=.5*r.distanceTo(n),s=-this.direction.dot(Ti),y=Li.dot(this.direction),_=-Li.dot(Ti),w=Li.lengthSq(),E=Math.abs(1-s*s);let j,q,$,ne;if(E>0)if(j=s*_-y,q=s*y-_,ne=o*E,j>=0)if(q>=-ne)if(q<=ne){const r=1/E;j*=r,q*=r,$=j*(j+s*q+2*y)+q*(s*j+q+2*_)+w}else q=o,j=Math.max(0,-(s*q+y)),$=-j*j+q*(q+2*_)+w;else q=-o,j=Math.max(0,-(s*q+y)),$=-j*j+q*(q+2*_)+w;else q<=-ne?(j=Math.max(0,-(-s*o+y)),q=j>0?-o:Math.min(Math.max(-o,-_),o),$=-j*j+q*(q+2*_)+w):q<=ne?(j=0,q=Math.min(Math.max(-o,-_),o),$=q*(q+2*_)+w):(j=Math.max(0,-(s*o+y)),q=j>0?o:Math.min(Math.max(-o,-_),o),$=-j*j+q*(q+2*_)+w);else q=s>0?-o:o,j=Math.max(0,-(s*q+y)),$=-j*j+q*(q+2*_)+w;return a&&a.copy(this.direction).multiplyScalar(j).add(this.origin),i&&i.copy(Ti).multiplyScalar(q).add(wi),$},intersectSphere(r,n){vi.subVectors(r.center,this.origin);const a=vi.dot(this.direction),i=vi.dot(vi)-a*a,o=r.radius*r.radius;if(i>o)return null;const s=Math.sqrt(o-i),y=a-s,_=a+s;return y<0&&_<0?null:y<0?this.at(_,n):this.at(y,n)},intersectsSphere(r){return this.distanceSqToPoint(r.center)<=r.radius*r.radius},distanceToPlane(r){const n=r.normal.dot(this.direction);if(0===n)return 0===r.distanceToPoint(this.origin)?0:null;const a=-(this.origin.dot(r.normal)+r.constant)/n;return a>=0?a:null},intersectPlane(r,n){const a=this.distanceToPlane(r);return null===a?null:this.at(a,n)},intersectsPlane(r){const n=r.distanceToPoint(this.origin);return 0===n||r.normal.dot(this.direction)*n<0},intersectBox(r,n){let a,i,o,s,y,_;const w=1/this.direction.x,E=1/this.direction.y,j=1/this.direction.z,q=this.origin;return w>=0?(a=(r.min.x-q.x)*w,i=(r.max.x-q.x)*w):(a=(r.max.x-q.x)*w,i=(r.min.x-q.x)*w),E>=0?(o=(r.min.y-q.y)*E,s=(r.max.y-q.y)*E):(o=(r.max.y-q.y)*E,s=(r.min.y-q.y)*E),a>s||o>i?null:((o>a||a!=a)&&(a=o),(s<i||i!=i)&&(i=s),j>=0?(y=(r.min.z-q.z)*j,_=(r.max.z-q.z)*j):(y=(r.max.z-q.z)*j,_=(r.min.z-q.z)*j),a>_||y>i?null:((y>a||a!=a)&&(a=y),(_<i||i!=i)&&(i=_),i<0?null:this.at(a>=0?a:i,n)))},intersectsBox(r){return null!==this.intersectBox(r,vi)},intersectTriangle(r,n,a,i,o){Bi.subVectors(n,r),Wi.subVectors(a,r),Yi.crossVectors(Bi,Wi);let s,y=this.direction.dot(Yi);if(y>0){if(i)return null;s=1}else{if(!(y<0))return null;s=-1,y=-y}Li.subVectors(this.origin,r);const _=s*this.direction.dot(Wi.crossVectors(Li,Wi));if(_<0)return null;const w=s*this.direction.dot(Bi.cross(Li));if(w<0)return null;if(_+w>y)return null;const E=-s*Li.dot(Yi);return E<0?null:this.at(E/y,o)},applyMatrix4(r){return this.origin.applyMatrix4(r),this.direction.transformDirection(r),this},equals(r){return r.origin.equals(this.origin)&&r.direction.equals(this.direction)}});const qi=new Vector3,Zi=new Vector3,eo=new Matrix3;function Plane(r,n){this.normal=void 0!==r?r:new Vector3(1,0,0),this.constant=void 0!==n?n:0}Object.assign(Plane.prototype,{isPlane:!0,set(r,n){return this.normal.copy(r),this.constant=n,this},setComponents(r,n,a,i){return this.normal.set(r,n,a),this.constant=i,this},setFromNormalAndCoplanarPoint(r,n){return this.normal.copy(r),this.constant=-n.dot(this.normal),this},setFromCoplanarPoints(r,n,a){const i=qi.subVectors(a,n).cross(Zi.subVectors(r,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,r),this},clone(){return(new this.constructor).copy(this)},copy(r){return this.normal.copy(r.normal),this.constant=r.constant,this},normalize(){const r=1/this.normal.length();return this.normal.multiplyScalar(r),this.constant*=r,this},negate(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint(r){return this.normal.dot(r)+this.constant},distanceToSphere(r){return this.distanceToPoint(r.center)-r.radius},projectPoint(r,n){return void 0===n&&(console.warn("THREE.Plane: .projectPoint() target is now required"),n=new Vector3),n.copy(this.normal).multiplyScalar(-this.distanceToPoint(r)).add(r)},intersectLine(r,n){void 0===n&&(console.warn("THREE.Plane: .intersectLine() target is now required"),n=new Vector3);const a=r.delta(qi),i=this.normal.dot(a);if(0===i)return 0===this.distanceToPoint(r.start)?n.copy(r.start):void 0;const o=-(r.start.dot(this.normal)+this.constant)/i;return o<0||o>1?void 0:n.copy(a).multiplyScalar(o).add(r.start)},intersectsLine(r){const n=this.distanceToPoint(r.start),a=this.distanceToPoint(r.end);return n<0&&a>0||a<0&&n>0},intersectsBox(r){return r.intersectsPlane(this)},intersectsSphere(r){return r.intersectsPlane(this)},coplanarPoint(r){return void 0===r&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),r=new Vector3),r.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4(r,n){const a=n||eo.getNormalMatrix(r),i=this.coplanarPoint(qi).applyMatrix4(r),o=this.normal.applyMatrix3(a).normalize();return this.constant=-i.dot(o),this},translate(r){return this.constant-=r.dot(this.normal),this},equals(r){return r.normal.equals(this.normal)&&r.constant===this.constant}});const to=new Vector3,ro=new Vector3,no=new Vector3,ao=new Vector3,io=new Vector3,oo=new Vector3,so=new Vector3,lo=new Vector3,co=new Vector3,po=new Vector3;function Triangle(r,n,a){this.a=void 0!==r?r:new Vector3,this.b=void 0!==n?n:new Vector3,this.c=void 0!==a?a:new Vector3}Object.assign(Triangle,{getNormal(r,n,a,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Vector3),i.subVectors(a,n),to.subVectors(r,n),i.cross(to);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)},getBarycoord(r,n,a,i,o){to.subVectors(i,n),ro.subVectors(a,n),no.subVectors(r,n);const s=to.dot(to),y=to.dot(ro),_=to.dot(no),w=ro.dot(ro),E=ro.dot(no),j=s*w-y*y;if(void 0===o&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),o=new Vector3),0===j)return o.set(-2,-1,-1);const q=1/j,$=(w*_-y*E)*q,ne=(s*E-y*_)*q;return o.set(1-$-ne,ne,$)},containsPoint:(r,n,a,i)=>(Triangle.getBarycoord(r,n,a,i,ao),ao.x>=0&&ao.y>=0&&ao.x+ao.y<=1),getUV(r,n,a,i,o,s,y,_){return this.getBarycoord(r,n,a,i,ao),_.set(0,0),_.addScaledVector(o,ao.x),_.addScaledVector(s,ao.y),_.addScaledVector(y,ao.z),_},isFrontFacing:(r,n,a,i)=>(to.subVectors(a,n),ro.subVectors(r,n),to.cross(ro).dot(i)<0)}),Object.assign(Triangle.prototype,{set(r,n,a){return this.a.copy(r),this.b.copy(n),this.c.copy(a),this},setFromPointsAndIndices(r,n,a,i){return this.a.copy(r[n]),this.b.copy(r[a]),this.c.copy(r[i]),this},clone(){return(new this.constructor).copy(this)},copy(r){return this.a.copy(r.a),this.b.copy(r.b),this.c.copy(r.c),this},getArea(){return to.subVectors(this.c,this.b),ro.subVectors(this.a,this.b),.5*to.cross(ro).length()},getMidpoint(r){return void 0===r&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),r=new Vector3),r.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal(r){return Triangle.getNormal(this.a,this.b,this.c,r)},getPlane(r){return void 0===r&&(console.warn("THREE.Triangle: .getPlane() target is now required"),r=new Plane),r.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord(r,n){return Triangle.getBarycoord(r,this.a,this.b,this.c,n)},getUV(r,n,a,i,o){return Triangle.getUV(r,this.a,this.b,this.c,n,a,i,o)},containsPoint(r){return Triangle.containsPoint(r,this.a,this.b,this.c)},isFrontFacing(r){return Triangle.isFrontFacing(this.a,this.b,this.c,r)},intersectsBox(r){return r.intersectsTriangle(this)},closestPointToPoint(r,n){void 0===n&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),n=new Vector3);const a=this.a,i=this.b,o=this.c;let s,y;io.subVectors(i,a),oo.subVectors(o,a),lo.subVectors(r,a);const _=io.dot(lo),w=oo.dot(lo);if(_<=0&&w<=0)return n.copy(a);co.subVectors(r,i);const E=io.dot(co),j=oo.dot(co);if(E>=0&&j<=E)return n.copy(i);const q=_*j-E*w;if(q<=0&&_>=0&&E<=0)return s=_/(_-E),n.copy(a).addScaledVector(io,s);po.subVectors(r,o);const $=io.dot(po),ne=oo.dot(po);if(ne>=0&&$<=ne)return n.copy(o);const ie=$*w-_*ne;if(ie<=0&&w>=0&&ne<=0)return y=w/(w-ne),n.copy(a).addScaledVector(oo,y);const oe=E*ne-$*j;if(oe<=0&&j-E>=0&&$-ne>=0)return so.subVectors(o,i),y=(j-E)/(j-E+($-ne)),n.copy(i).addScaledVector(so,y);const se=1/(oe+ie+q);return s=ie*se,y=q*se,n.copy(a).addScaledVector(io,s).addScaledVector(oo,y)},equals(r){return r.a.equals(this.a)&&r.b.equals(this.b)&&r.c.equals(this.c)}});const uo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ho={h:0,s:0,l:0},fo={h:0,s:0,l:0};function Color(r,n,a){return void 0===n&&void 0===a?this.set(r):this.setRGB(r,n,a)}function hue2rgb(r,n,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?r+6*(n-r)*a:a<.5?n:a<2/3?r+6*(n-r)*(2/3-a):r}function SRGBToLinear(r){return r<.04045?.0773993808*r:Math.pow(.9478672986*r+.0521327014,2.4)}function LinearToSRGB(r){return r<.0031308?12.92*r:1.055*Math.pow(r,.41666)-.055}function Face3(r,n,a,i,o,s){this.a=r,this.b=n,this.c=a,this.normal=i&&i.isVector3?i:new Vector3,this.vertexNormals=Array.isArray(i)?i:[],this.color=o&&o.isColor?o:new Color,this.vertexColors=Array.isArray(o)?o:[],this.materialIndex=void 0!==s?s:0}Object.assign(Color.prototype,{isColor:!0,r:1,g:1,b:1,set(r){return r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r),this},setScalar(r){return this.r=r,this.g=r,this.b=r,this},setHex(r){return r=Math.floor(r),this.r=(r>>16&255)/255,this.g=(r>>8&255)/255,this.b=(255&r)/255,this},setRGB(r,n,a){return this.r=r,this.g=n,this.b=a,this},setHSL(r,n,a){if(r=Kn.euclideanModulo(r,1),n=Kn.clamp(n,0,1),a=Kn.clamp(a,0,1),0===n)this.r=this.g=this.b=a;else{const i=a<=.5?a*(1+n):a+n-a*n,o=2*a-i;this.r=hue2rgb(o,i,r+1/3),this.g=hue2rgb(o,i,r),this.b=hue2rgb(o,i,r-1/3)}return this},setStyle(r){function handleAlpha(n){void 0!==n&&parseFloat(n)<1&&console.warn("THREE.Color: Alpha component of "+r+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(r)){let r;const a=n[1],i=n[2];switch(a){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,handleAlpha(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,handleAlpha(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i)){const n=parseFloat(r[1])/360,a=parseInt(r[2],10)/100,i=parseInt(r[3],10)/100;return handleAlpha(r[5]),this.setHSL(n,a,i)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(r)){const r=n[1],a=r.length;if(3===a)return this.r=parseInt(r.charAt(0)+r.charAt(0),16)/255,this.g=parseInt(r.charAt(1)+r.charAt(1),16)/255,this.b=parseInt(r.charAt(2)+r.charAt(2),16)/255,this;if(6===a)return this.r=parseInt(r.charAt(0)+r.charAt(1),16)/255,this.g=parseInt(r.charAt(2)+r.charAt(3),16)/255,this.b=parseInt(r.charAt(4)+r.charAt(5),16)/255,this}return r&&r.length>0?this.setColorName(r):this},setColorName(r){const n=uo[r];return void 0!==n?this.setHex(n):console.warn("THREE.Color: Unknown color "+r),this},clone(){return new this.constructor(this.r,this.g,this.b)},copy(r){return this.r=r.r,this.g=r.g,this.b=r.b,this},copyGammaToLinear(r,n){return void 0===n&&(n=2),this.r=Math.pow(r.r,n),this.g=Math.pow(r.g,n),this.b=Math.pow(r.b,n),this},copyLinearToGamma(r,n){void 0===n&&(n=2);const a=n>0?1/n:1;return this.r=Math.pow(r.r,a),this.g=Math.pow(r.g,a),this.b=Math.pow(r.b,a),this},convertGammaToLinear(r){return this.copyGammaToLinear(this,r),this},convertLinearToGamma(r){return this.copyLinearToGamma(this,r),this},copySRGBToLinear(r){return this.r=SRGBToLinear(r.r),this.g=SRGBToLinear(r.g),this.b=SRGBToLinear(r.b),this},copyLinearToSRGB(r){return this.r=LinearToSRGB(r.r),this.g=LinearToSRGB(r.g),this.b=LinearToSRGB(r.b),this},convertSRGBToLinear(){return this.copySRGBToLinear(this),this},convertLinearToSRGB(){return this.copyLinearToSRGB(this),this},getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL(r){void 0===r&&(console.warn("THREE.Color: .getHSL() target is now required"),r={h:0,s:0,l:0});const n=this.r,a=this.g,i=this.b,o=Math.max(n,a,i),s=Math.min(n,a,i);let y,_;const w=(s+o)/2;if(s===o)y=0,_=0;else{const r=o-s;switch(_=w<=.5?r/(o+s):r/(2-o-s),o){case n:y=(a-i)/r+(a<i?6:0);break;case a:y=(i-n)/r+2;break;case i:y=(n-a)/r+4}y/=6}return r.h=y,r.s=_,r.l=w,r},getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL(r,n,a){return this.getHSL(ho),ho.h+=r,ho.s+=n,ho.l+=a,this.setHSL(ho.h,ho.s,ho.l),this},add(r){return this.r+=r.r,this.g+=r.g,this.b+=r.b,this},addColors(r,n){return this.r=r.r+n.r,this.g=r.g+n.g,this.b=r.b+n.b,this},addScalar(r){return this.r+=r,this.g+=r,this.b+=r,this},sub(r){return this.r=Math.max(0,this.r-r.r),this.g=Math.max(0,this.g-r.g),this.b=Math.max(0,this.b-r.b),this},multiply(r){return this.r*=r.r,this.g*=r.g,this.b*=r.b,this},multiplyScalar(r){return this.r*=r,this.g*=r,this.b*=r,this},lerp(r,n){return this.r+=(r.r-this.r)*n,this.g+=(r.g-this.g)*n,this.b+=(r.b-this.b)*n,this},lerpHSL(r,n){this.getHSL(ho),r.getHSL(fo);const a=Kn.lerp(ho.h,fo.h,n),i=Kn.lerp(ho.s,fo.s,n),o=Kn.lerp(ho.l,fo.l,n);return this.setHSL(a,i,o),this},equals(r){return r.r===this.r&&r.g===this.g&&r.b===this.b},fromArray(r,n){return void 0===n&&(n=0),this.r=r[n],this.g=r[n+1],this.b=r[n+2],this},toArray(r,n){return void 0===r&&(r=[]),void 0===n&&(n=0),r[n]=this.r,r[n+1]=this.g,r[n+2]=this.b,r},fromBufferAttribute(r,n){return this.r=r.getX(n),this.g=r.getY(n),this.b=r.getZ(n),!0===r.normalized&&(this.r/=255,this.g/=255,this.b/=255),this},toJSON(){return this.getHex()}}),Color.NAMES=uo,Object.assign(Face3.prototype,{clone(){return(new this.constructor).copy(this)},copy(r){this.a=r.a,this.b=r.b,this.c=r.c,this.normal.copy(r.normal),this.color.copy(r.color),this.materialIndex=r.materialIndex;for(let n=0,a=r.vertexNormals.length;n<a;n++)this.vertexNormals[n]=r.vertexNormals[n].clone();for(let n=0,a=r.vertexColors.length;n<a;n++)this.vertexColors[n]=r.vertexColors[n].clone();return this}});let mo=0;function Material(){Object.defineProperty(this,"id",{value:mo++}),this.uuid=Kn.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=me,this.side=ie,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=Fe,this.blendDst=je,this.blendEquation=Se,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=tt,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=jn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=wn,this.stencilZFail=wn,this.stencilZPass=wn,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function MeshBasicMaterial(r){Material.call(this),this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ot,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(r)}Material.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:Material,isMaterial:!0,onBeforeCompile(){},customProgramCacheKey(){return this.onBeforeCompile.toString()},setValues(r){if(void 0!==r)for(const n in r){const a=r[n];if(void 0===a){console.warn("THREE.Material: '"+n+"' parameter is undefined.");continue}if("shading"===n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=a===le;continue}const i=this[n];void 0!==i?i&&i.isColor?i.set(a):i&&i.isVector3&&a&&a.isVector3?i.copy(a):this[n]=a:console.warn("THREE."+this.type+": '"+n+"' is not a property of this material.")}},toJSON(r){const n=void 0===r||"string"==typeof r;n&&(r={textures:{},images:{}});const a={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function extractFromCache(r){const n=[];for(const a in r){const i=r[a];delete i.metadata,n.push(i)}return n}if(a.uuid=this.uuid,a.type=this.type,""!==this.name&&(a.name=this.name),this.color&&this.color.isColor&&(a.color=this.color.getHex()),void 0!==this.roughness&&(a.roughness=this.roughness),void 0!==this.metalness&&(a.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(a.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(a.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(a.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(a.specular=this.specular.getHex()),void 0!==this.shininess&&(a.shininess=this.shininess),void 0!==this.clearcoat&&(a.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(a.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(a.clearcoatMap=this.clearcoatMap.toJSON(r).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(a.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(r).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(a.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(r).uuid,a.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(a.map=this.map.toJSON(r).uuid),this.matcap&&this.matcap.isTexture&&(a.matcap=this.matcap.toJSON(r).uuid),this.alphaMap&&this.alphaMap.isTexture&&(a.alphaMap=this.alphaMap.toJSON(r).uuid),this.lightMap&&this.lightMap.isTexture&&(a.lightMap=this.lightMap.toJSON(r).uuid),this.aoMap&&this.aoMap.isTexture&&(a.aoMap=this.aoMap.toJSON(r).uuid,a.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(a.bumpMap=this.bumpMap.toJSON(r).uuid,a.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(a.normalMap=this.normalMap.toJSON(r).uuid,a.normalMapType=this.normalMapType,a.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(a.displacementMap=this.displacementMap.toJSON(r).uuid,a.displacementScale=this.displacementScale,a.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(a.roughnessMap=this.roughnessMap.toJSON(r).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(a.metalnessMap=this.metalnessMap.toJSON(r).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(a.emissiveMap=this.emissiveMap.toJSON(r).uuid),this.specularMap&&this.specularMap.isTexture&&(a.specularMap=this.specularMap.toJSON(r).uuid),this.envMap&&this.envMap.isTexture&&(a.envMap=this.envMap.toJSON(r).uuid,a.reflectivity=this.reflectivity,a.refractionRatio=this.refractionRatio,void 0!==this.combine&&(a.combine=this.combine),void 0!==this.envMapIntensity&&(a.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(a.gradientMap=this.gradientMap.toJSON(r).uuid),void 0!==this.size&&(a.size=this.size),void 0!==this.sizeAttenuation&&(a.sizeAttenuation=this.sizeAttenuation),this.blending!==me&&(a.blending=this.blending),!0===this.flatShading&&(a.flatShading=this.flatShading),this.side!==ie&&(a.side=this.side),this.vertexColors&&(a.vertexColors=!0),this.opacity<1&&(a.opacity=this.opacity),!0===this.transparent&&(a.transparent=this.transparent),a.depthFunc=this.depthFunc,a.depthTest=this.depthTest,a.depthWrite=this.depthWrite,a.stencilWrite=this.stencilWrite,a.stencilWriteMask=this.stencilWriteMask,a.stencilFunc=this.stencilFunc,a.stencilRef=this.stencilRef,a.stencilFuncMask=this.stencilFuncMask,a.stencilFail=this.stencilFail,a.stencilZFail=this.stencilZFail,a.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(a.rotation=this.rotation),!0===this.polygonOffset&&(a.polygonOffset=!0),0!==this.polygonOffsetFactor&&(a.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(a.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(a.linewidth=this.linewidth),void 0!==this.dashSize&&(a.dashSize=this.dashSize),void 0!==this.gapSize&&(a.gapSize=this.gapSize),void 0!==this.scale&&(a.scale=this.scale),!0===this.dithering&&(a.dithering=!0),this.alphaTest>0&&(a.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(a.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(a.wireframe=this.wireframe),this.wireframeLinewidth>1&&(a.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(a.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(a.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(a.morphTargets=!0),!0===this.morphNormals&&(a.morphNormals=!0),!0===this.skinning&&(a.skinning=!0),!1===this.visible&&(a.visible=!1),!1===this.toneMapped&&(a.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(a.userData=this.userData),n){const n=extractFromCache(r.textures),i=extractFromCache(r.images);n.length>0&&(a.textures=n),i.length>0&&(a.images=i)}return a},clone(){return(new this.constructor).copy(this)},copy(r){this.name=r.name,this.fog=r.fog,this.blending=r.blending,this.side=r.side,this.flatShading=r.flatShading,this.vertexColors=r.vertexColors,this.opacity=r.opacity,this.transparent=r.transparent,this.blendSrc=r.blendSrc,this.blendDst=r.blendDst,this.blendEquation=r.blendEquation,this.blendSrcAlpha=r.blendSrcAlpha,this.blendDstAlpha=r.blendDstAlpha,this.blendEquationAlpha=r.blendEquationAlpha,this.depthFunc=r.depthFunc,this.depthTest=r.depthTest,this.depthWrite=r.depthWrite,this.stencilWriteMask=r.stencilWriteMask,this.stencilFunc=r.stencilFunc,this.stencilRef=r.stencilRef,this.stencilFuncMask=r.stencilFuncMask,this.stencilFail=r.stencilFail,this.stencilZFail=r.stencilZFail,this.stencilZPass=r.stencilZPass,this.stencilWrite=r.stencilWrite;const n=r.clippingPlanes;let a=null;if(null!==n){const r=n.length;a=Array(r);for(let i=0;i!==r;++i)a[i]=n[i].clone()}return this.clippingPlanes=a,this.clipIntersection=r.clipIntersection,this.clipShadows=r.clipShadows,this.shadowSide=r.shadowSide,this.colorWrite=r.colorWrite,this.precision=r.precision,this.polygonOffset=r.polygonOffset,this.polygonOffsetFactor=r.polygonOffsetFactor,this.polygonOffsetUnits=r.polygonOffsetUnits,this.dithering=r.dithering,this.alphaTest=r.alphaTest,this.premultipliedAlpha=r.premultipliedAlpha,this.visible=r.visible,this.toneMapped=r.toneMapped,this.userData=JSON.parse(JSON.stringify(r.userData)),this},dispose(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Material.prototype,"needsUpdate",{set(r){!0===r&&this.version++}}),MeshBasicMaterial.prototype=Object.create(Material.prototype),MeshBasicMaterial.prototype.constructor=MeshBasicMaterial,MeshBasicMaterial.prototype.isMeshBasicMaterial=!0,MeshBasicMaterial.prototype.copy=function(r){return Material.prototype.copy.call(this,r),this.color.copy(r.color),this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.skinning=r.skinning,this.morphTargets=r.morphTargets,this};const go=new Vector3,yo=new Vector2;function BufferAttribute(r,n,a){if(Array.isArray(r))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=r,this.itemSize=n,this.count=void 0!==r?r.length/n:0,this.normalized=!0===a,this.usage=Bn,this.updateRange={offset:0,count:-1},this.version=0}function Int8BufferAttribute(r,n,a){BufferAttribute.call(this,new Int8Array(r),n,a)}function Uint8BufferAttribute(r,n,a){BufferAttribute.call(this,new Uint8Array(r),n,a)}function Uint8ClampedBufferAttribute(r,n,a){BufferAttribute.call(this,new Uint8ClampedArray(r),n,a)}function Int16BufferAttribute(r,n,a){BufferAttribute.call(this,new Int16Array(r),n,a)}function Uint16BufferAttribute(r,n,a){BufferAttribute.call(this,new Uint16Array(r),n,a)}function Int32BufferAttribute(r,n,a){BufferAttribute.call(this,new Int32Array(r),n,a)}function Uint32BufferAttribute(r,n,a){BufferAttribute.call(this,new Uint32Array(r),n,a)}function Float32BufferAttribute(r,n,a){BufferAttribute.call(this,new Float32Array(r),n,a)}function Float64BufferAttribute(r,n,a){BufferAttribute.call(this,new Float64Array(r),n,a)}function DirectGeometry(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function arrayMax(r){if(0===r.length)return-1/0;let n=r[0];for(let a=1,i=r.length;a<i;++a)r[a]>n&&(n=r[a]);return n}Object.defineProperty(BufferAttribute.prototype,"needsUpdate",{set(r){!0===r&&this.version++}}),Object.assign(BufferAttribute.prototype,{isBufferAttribute:!0,onUploadCallback(){},setUsage(r){return this.usage=r,this},copy(r){return this.name=r.name,this.array=new r.array.constructor(r.array),this.itemSize=r.itemSize,this.count=r.count,this.normalized=r.normalized,this.usage=r.usage,this},copyAt(r,n,a){r*=this.itemSize,a*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[r+i]=n.array[a+i];return this},copyArray(r){return this.array.set(r),this},copyColorsArray(r){const n=this.array;let a=0;for(let i=0,o=r.length;i<o;i++){let o=r[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new Color),n[a++]=o.r,n[a++]=o.g,n[a++]=o.b}return this},copyVector2sArray(r){const n=this.array;let a=0;for(let i=0,o=r.length;i<o;i++){let o=r[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new Vector2),n[a++]=o.x,n[a++]=o.y}return this},copyVector3sArray(r){const n=this.array;let a=0;for(let i=0,o=r.length;i<o;i++){let o=r[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new Vector3),n[a++]=o.x,n[a++]=o.y,n[a++]=o.z}return this},copyVector4sArray(r){const n=this.array;let a=0;for(let i=0,o=r.length;i<o;i++){let o=r[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Vector4),n[a++]=o.x,n[a++]=o.y,n[a++]=o.z,n[a++]=o.w}return this},applyMatrix3(r){if(2===this.itemSize)for(let n=0,a=this.count;n<a;n++)yo.fromBufferAttribute(this,n),yo.applyMatrix3(r),this.setXY(n,yo.x,yo.y);else if(3===this.itemSize)for(let n=0,a=this.count;n<a;n++)go.fromBufferAttribute(this,n),go.applyMatrix3(r),this.setXYZ(n,go.x,go.y,go.z);return this},applyMatrix4(r){for(let n=0,a=this.count;n<a;n++)go.x=this.getX(n),go.y=this.getY(n),go.z=this.getZ(n),go.applyMatrix4(r),this.setXYZ(n,go.x,go.y,go.z);return this},applyNormalMatrix(r){for(let n=0,a=this.count;n<a;n++)go.x=this.getX(n),go.y=this.getY(n),go.z=this.getZ(n),go.applyNormalMatrix(r),this.setXYZ(n,go.x,go.y,go.z);return this},transformDirection(r){for(let n=0,a=this.count;n<a;n++)go.x=this.getX(n),go.y=this.getY(n),go.z=this.getZ(n),go.transformDirection(r),this.setXYZ(n,go.x,go.y,go.z);return this},set(r,n){return void 0===n&&(n=0),this.array.set(r,n),this},getX(r){return this.array[r*this.itemSize]},setX(r,n){return this.array[r*this.itemSize]=n,this},getY(r){return this.array[r*this.itemSize+1]},setY(r,n){return this.array[r*this.itemSize+1]=n,this},getZ(r){return this.array[r*this.itemSize+2]},setZ(r,n){return this.array[r*this.itemSize+2]=n,this},getW(r){return this.array[r*this.itemSize+3]},setW(r,n){return this.array[r*this.itemSize+3]=n,this},setXY(r,n,a){return r*=this.itemSize,this.array[r+0]=n,this.array[r+1]=a,this},setXYZ(r,n,a,i){return r*=this.itemSize,this.array[r+0]=n,this.array[r+1]=a,this.array[r+2]=i,this},setXYZW(r,n,a,i,o){return r*=this.itemSize,this.array[r+0]=n,this.array[r+1]=a,this.array[r+2]=i,this.array[r+3]=o,this},onUpload(r){return this.onUploadCallback=r,this},clone(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:[].slice.call(this.array),normalized:this.normalized}}}),Int8BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Int8BufferAttribute.prototype.constructor=Int8BufferAttribute,Uint8BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint8BufferAttribute.prototype.constructor=Uint8BufferAttribute,Uint8ClampedBufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint8ClampedBufferAttribute.prototype.constructor=Uint8ClampedBufferAttribute,Int16BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Int16BufferAttribute.prototype.constructor=Int16BufferAttribute,Uint16BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint16BufferAttribute.prototype.constructor=Uint16BufferAttribute,Int32BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Int32BufferAttribute.prototype.constructor=Int32BufferAttribute,Uint32BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Uint32BufferAttribute.prototype.constructor=Uint32BufferAttribute,Float32BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Float32BufferAttribute.prototype.constructor=Float32BufferAttribute,Float64BufferAttribute.prototype=Object.create(BufferAttribute.prototype),Float64BufferAttribute.prototype.constructor=Float64BufferAttribute,Object.assign(DirectGeometry.prototype,{computeGroups(r){const n=[];let a,i,o=void 0;const s=r.faces;for(i=0;i<s.length;i++){const r=s[i];r.materialIndex!==o&&(o=r.materialIndex,void 0!==a&&(a.count=3*i-a.start,n.push(a)),a={start:3*i,materialIndex:o})}void 0!==a&&(a.count=3*i-a.start,n.push(a)),this.groups=n},fromGeometry(r){const n=r.faces,a=r.vertices,i=r.faceVertexUvs,o=i[0]&&i[0].length>0,s=i[1]&&i[1].length>0,y=r.morphTargets,_=y.length;let w;if(_>0){w=[];for(let r=0;r<_;r++)w[r]={name:y[r].name,data:[]};this.morphTargets.position=w}const E=r.morphNormals,j=E.length;let q;if(j>0){q=[];for(let r=0;r<j;r++)q[r]={name:E[r].name,data:[]};this.morphTargets.normal=q}const $=r.skinIndices,ne=r.skinWeights,ie=$.length===a.length,oe=ne.length===a.length;a.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let r=0;r<n.length;r++){const se=n[r];this.vertices.push(a[se.a],a[se.b],a[se.c]);const le=se.vertexNormals;if(3===le.length)this.normals.push(le[0],le[1],le[2]);else{const r=se.normal;this.normals.push(r,r,r)}const pe=se.vertexColors;if(3===pe.length)this.colors.push(pe[0],pe[1],pe[2]);else{const r=se.color;this.colors.push(r,r,r)}if(!0===o){const n=i[0][r];void 0!==n?this.uvs.push(n[0],n[1],n[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",r),this.uvs.push(new Vector2,new Vector2,new Vector2))}if(!0===s){const n=i[1][r];void 0!==n?this.uvs2.push(n[0],n[1],n[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",r),this.uvs2.push(new Vector2,new Vector2,new Vector2))}for(let r=0;r<_;r++){const n=y[r].vertices;w[r].data.push(n[se.a],n[se.b],n[se.c])}for(let n=0;n<j;n++){const a=E[n].vertexNormals[r];q[n].data.push(a.a,a.b,a.c)}ie&&this.skinIndices.push($[se.a],$[se.b],$[se.c]),oe&&this.skinWeights.push(ne[se.a],ne[se.b],ne[se.c])}return this.computeGroups(r),this.verticesNeedUpdate=r.verticesNeedUpdate,this.normalsNeedUpdate=r.normalsNeedUpdate,this.colorsNeedUpdate=r.colorsNeedUpdate,this.uvsNeedUpdate=r.uvsNeedUpdate,this.groupsNeedUpdate=r.groupsNeedUpdate,null!==r.boundingSphere&&(this.boundingSphere=r.boundingSphere.clone()),null!==r.boundingBox&&(this.boundingBox=r.boundingBox.clone()),this}});let _o=1;const vo=new Matrix4,bo=new Object3D,xo=new Vector3,So=new Box3,Co=new Box3,wo=new Vector3;function BufferGeometry(){Object.defineProperty(this,"id",{value:_o+=2}),this.uuid=Kn.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}BufferGeometry.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:BufferGeometry,isBufferGeometry:!0,getIndex(){return this.index},setIndex(r){this.index=Array.isArray(r)?new(arrayMax(r)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(r,1):r},getAttribute(r){return this.attributes[r]},setAttribute(r,n){return this.attributes[r]=n,this},deleteAttribute(r){return delete this.attributes[r],this},addGroup(r,n,a){this.groups.push({start:r,count:n,materialIndex:void 0!==a?a:0})},clearGroups(){this.groups=[]},setDrawRange(r,n){this.drawRange.start=r,this.drawRange.count=n},applyMatrix4(r){const n=this.attributes.position;void 0!==n&&(n.applyMatrix4(r),n.needsUpdate=!0);const a=this.attributes.normal;if(void 0!==a){const n=(new Matrix3).getNormalMatrix(r);a.applyNormalMatrix(n),a.needsUpdate=!0}const i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(r),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX(r){return vo.makeRotationX(r),this.applyMatrix4(vo),this},rotateY(r){return vo.makeRotationY(r),this.applyMatrix4(vo),this},rotateZ(r){return vo.makeRotationZ(r),this.applyMatrix4(vo),this},translate(r,n,a){return vo.makeTranslation(r,n,a),this.applyMatrix4(vo),this},scale(r,n,a){return vo.makeScale(r,n,a),this.applyMatrix4(vo),this},lookAt(r){return bo.lookAt(r),bo.updateMatrix(),this.applyMatrix4(bo.matrix),this},center(){return this.computeBoundingBox(),this.boundingBox.getCenter(xo).negate(),this.translate(xo.x,xo.y,xo.z),this},setFromObject(r){const n=r.geometry;if(r.isPoints||r.isLine){const r=new Float32BufferAttribute(3*n.vertices.length,3),a=new Float32BufferAttribute(3*n.colors.length,3);if(this.setAttribute("position",r.copyVector3sArray(n.vertices)),this.setAttribute("color",a.copyColorsArray(n.colors)),n.lineDistances&&n.lineDistances.length===n.vertices.length){const r=new Float32BufferAttribute(n.lineDistances.length,1);this.setAttribute("lineDistance",r.copyArray(n.lineDistances))}null!==n.boundingSphere&&(this.boundingSphere=n.boundingSphere.clone()),null!==n.boundingBox&&(this.boundingBox=n.boundingBox.clone())}else r.isMesh&&n&&n.isGeometry&&this.fromGeometry(n);return this},setFromPoints(r){const n=[];for(let a=0,i=r.length;a<i;a++){const i=r[a];n.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Float32BufferAttribute(n,3)),this},updateFromObject(r){let n=r.geometry;if(r.isMesh){let r=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(r=void 0,n.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}if(!0===n.verticesNeedUpdate){const r=this.attributes.position;void 0!==r&&(r.copyVector3sArray(n.vertices),r.needsUpdate=!0),n.verticesNeedUpdate=!1}if(!0===n.normalsNeedUpdate){const r=this.attributes.normal;void 0!==r&&(r.copyVector3sArray(n.normals),r.needsUpdate=!0),n.normalsNeedUpdate=!1}if(!0===n.colorsNeedUpdate){const r=this.attributes.color;void 0!==r&&(r.copyColorsArray(n.colors),r.needsUpdate=!0),n.colorsNeedUpdate=!1}if(n.uvsNeedUpdate){const r=this.attributes.uv;void 0!==r&&(r.copyVector2sArray(n.uvs),r.needsUpdate=!0),n.uvsNeedUpdate=!1}if(n.lineDistancesNeedUpdate){const r=this.attributes.lineDistance;void 0!==r&&(r.copyArray(n.lineDistances),r.needsUpdate=!0),n.lineDistancesNeedUpdate=!1}return n.groupsNeedUpdate&&(n.computeGroups(r.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry(r){return r.__directGeometry=(new DirectGeometry).fromGeometry(r),this.fromDirectGeometry(r.__directGeometry)},fromDirectGeometry(r){const n=new Float32Array(3*r.vertices.length);if(this.setAttribute("position",new BufferAttribute(n,3).copyVector3sArray(r.vertices)),r.normals.length>0){const n=new Float32Array(3*r.normals.length);this.setAttribute("normal",new BufferAttribute(n,3).copyVector3sArray(r.normals))}if(r.colors.length>0){const n=new Float32Array(3*r.colors.length);this.setAttribute("color",new BufferAttribute(n,3).copyColorsArray(r.colors))}if(r.uvs.length>0){const n=new Float32Array(2*r.uvs.length);this.setAttribute("uv",new BufferAttribute(n,2).copyVector2sArray(r.uvs))}if(r.uvs2.length>0){const n=new Float32Array(2*r.uvs2.length);this.setAttribute("uv2",new BufferAttribute(n,2).copyVector2sArray(r.uvs2))}this.groups=r.groups;for(const n in r.morphTargets){const a=[],i=r.morphTargets[n];for(let r=0,n=i.length;r<n;r++){const n=i[r],o=new Float32BufferAttribute(3*n.data.length,3);o.name=n.name,a.push(o.copyVector3sArray(n.data))}this.morphAttributes[n]=a}if(r.skinIndices.length>0){const n=new Float32BufferAttribute(4*r.skinIndices.length,4);this.setAttribute("skinIndex",n.copyVector4sArray(r.skinIndices))}if(r.skinWeights.length>0){const n=new Float32BufferAttribute(4*r.skinWeights.length,4);this.setAttribute("skinWeight",n.copyVector4sArray(r.skinWeights))}return null!==r.boundingSphere&&(this.boundingSphere=r.boundingSphere.clone()),null!==r.boundingBox&&(this.boundingBox=r.boundingBox.clone()),this},computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Box3);const r=this.attributes.position,n=this.morphAttributes.position;if(void 0!==r){if(this.boundingBox.setFromBufferAttribute(r),n)for(let r=0,a=n.length;r<a;r++){const a=n[r];So.setFromBufferAttribute(a),this.morphTargetsRelative?(wo.addVectors(this.boundingBox.min,So.min),this.boundingBox.expandByPoint(wo),wo.addVectors(this.boundingBox.max,So.max),this.boundingBox.expandByPoint(wo)):(this.boundingBox.expandByPoint(So.min),this.boundingBox.expandByPoint(So.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Sphere);const r=this.attributes.position,n=this.morphAttributes.position;if(r){const a=this.boundingSphere.center;if(So.setFromBufferAttribute(r),n)for(let r=0,a=n.length;r<a;r++){const a=n[r];Co.setFromBufferAttribute(a),this.morphTargetsRelative?(wo.addVectors(So.min,Co.min),So.expandByPoint(wo),wo.addVectors(So.max,Co.max),So.expandByPoint(wo)):(So.expandByPoint(Co.min),So.expandByPoint(Co.max))}So.getCenter(a);let i=0;for(let n=0,o=r.count;n<o;n++)wo.fromBufferAttribute(r,n),i=Math.max(i,a.distanceToSquared(wo));if(n)for(let o=0,s=n.length;o<s;o++){const s=n[o],y=this.morphTargetsRelative;for(let n=0,o=s.count;n<o;n++)wo.fromBufferAttribute(s,n),y&&(xo.fromBufferAttribute(r,n),wo.add(xo)),i=Math.max(i,a.distanceToSquared(wo))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals(){},computeVertexNormals(){const r=this.index,n=this.getAttribute("position");if(void 0!==n){let a=this.getAttribute("normal");if(void 0===a)a=new BufferAttribute(new Float32Array(3*n.count),3),this.setAttribute("normal",a);else for(let r=0,n=a.count;r<n;r++)a.setXYZ(r,0,0,0);const i=new Vector3,o=new Vector3,s=new Vector3,y=new Vector3,_=new Vector3,w=new Vector3,E=new Vector3,j=new Vector3;if(r)for(let q=0,$=r.count;q<$;q+=3){const $=r.getX(q+0),ne=r.getX(q+1),ie=r.getX(q+2);i.fromBufferAttribute(n,$),o.fromBufferAttribute(n,ne),s.fromBufferAttribute(n,ie),E.subVectors(s,o),j.subVectors(i,o),E.cross(j),y.fromBufferAttribute(a,$),_.fromBufferAttribute(a,ne),w.fromBufferAttribute(a,ie),y.add(E),_.add(E),w.add(E),a.setXYZ($,y.x,y.y,y.z),a.setXYZ(ne,_.x,_.y,_.z),a.setXYZ(ie,w.x,w.y,w.z)}else for(let r=0,y=n.count;r<y;r+=3)i.fromBufferAttribute(n,r+0),o.fromBufferAttribute(n,r+1),s.fromBufferAttribute(n,r+2),E.subVectors(s,o),j.subVectors(i,o),E.cross(j),a.setXYZ(r+0,E.x,E.y,E.z),a.setXYZ(r+1,E.x,E.y,E.z),a.setXYZ(r+2,E.x,E.y,E.z);this.normalizeNormals(),a.needsUpdate=!0}},merge(r,n){if(!r||!r.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",r);void 0===n&&(n=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const a=this.attributes;for(const i in a){if(void 0===r.attributes[i])continue;const o=a[i].array,s=r.attributes[i],y=s.array,_=s.itemSize*n,w=Math.min(y.length,o.length-_);for(let r=0,n=_;r<w;r++,n++)o[n]=y[r]}return this},normalizeNormals(){const r=this.attributes.normal;for(let n=0,a=r.count;n<a;n++)wo.fromBufferAttribute(r,n),wo.normalize(),r.setXYZ(n,wo.x,wo.y,wo.z)},toNonIndexed(){function convertBufferAttribute(r,n){const a=r.array,i=r.itemSize,o=r.normalized,s=new a.constructor(n.length*i);let y=0,_=0;for(let r=0,o=n.length;r<o;r++){y=n[r]*i;for(let r=0;r<i;r++)s[_++]=a[y++]}return new BufferAttribute(s,i,o)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const r=new BufferGeometry,n=this.index.array,a=this.attributes;for(const i in a){const o=convertBufferAttribute(a[i],n);r.setAttribute(i,o)}const i=this.morphAttributes;for(const a in i){const o=[],s=i[a];for(let r=0,a=s.length;r<a;r++){const a=convertBufferAttribute(s[r],n);o.push(a)}r.morphAttributes[a]=o}r.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let n=0,a=o.length;n<a;n++){const a=o[n];r.addGroup(a.start,a.count,a.materialIndex)}return r},toJSON(){const r={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),Object.keys(this.userData).length>0&&(r.userData=this.userData),void 0!==this.parameters){const n=this.parameters;for(const a in n)void 0!==n[a]&&(r[a]=n[a]);return r}r.data={attributes:{}};const n=this.index;null!==n&&(r.data.index={type:n.array.constructor.name,array:[].slice.call(n.array)});const a=this.attributes;for(const n in a){const i=a[n],o=i.toJSON(r.data);""!==i.name&&(o.name=i.name),r.data.attributes[n]=o}const i={};let o=!1;for(const n in this.morphAttributes){const a=this.morphAttributes[n],s=[];for(let n=0,i=a.length;n<i;n++){const i=a[n],o=i.toJSON(r.data);""!==i.name&&(o.name=i.name),s.push(o)}s.length>0&&(i[n]=s,o=!0)}o&&(r.data.morphAttributes=i,r.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(r.data.groups=JSON.parse(JSON.stringify(s)));const y=this.boundingSphere;return null!==y&&(r.data.boundingSphere={center:y.center.toArray(),radius:y.radius}),r},clone(){return(new BufferGeometry).copy(this)},copy(r){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=r.name;const a=r.index;null!==a&&this.setIndex(a.clone(n));const i=r.attributes;for(const r in i){const a=i[r];this.setAttribute(r,a.clone(n))}const o=r.morphAttributes;for(const r in o){const a=[],i=o[r];for(let r=0,o=i.length;r<o;r++)a.push(i[r].clone(n));this.morphAttributes[r]=a}this.morphTargetsRelative=r.morphTargetsRelative;const s=r.groups;for(let r=0,n=s.length;r<n;r++){const n=s[r];this.addGroup(n.start,n.count,n.materialIndex)}const y=r.boundingBox;null!==y&&(this.boundingBox=y.clone());const _=r.boundingSphere;return null!==_&&(this.boundingSphere=_.clone()),this.drawRange.start=r.drawRange.start,this.drawRange.count=r.drawRange.count,this.userData=r.userData,this},dispose(){this.dispatchEvent({type:"dispose"})}});const Po=new Matrix4,Mo=new Ray,To=new Sphere,Eo=new Vector3,Ao=new Vector3,ko=new Vector3,Ro=new Vector3,Oo=new Vector3,No=new Vector3,Lo=new Vector3,Io=new Vector3,Do=new Vector3,Fo=new Vector2,jo=new Vector2,Bo=new Vector2,zo=new Vector3,Go=new Vector3;function Mesh(r,n){Object3D.call(this),this.type="Mesh",this.geometry=void 0!==r?r:new BufferGeometry,this.material=void 0!==n?n:new MeshBasicMaterial,this.updateMorphTargets()}function checkIntersection(r,n,a,i,o,s,y,_){let w;if(w=n.side===oe?i.intersectTriangle(y,s,o,!0,_):i.intersectTriangle(o,s,y,n.side!==se,_),null===w)return null;Go.copy(_),Go.applyMatrix4(r.matrixWorld);const E=a.ray.origin.distanceTo(Go);return E<a.near||E>a.far?null:{distance:E,point:Go.clone(),object:r}}function checkBufferGeometryIntersection(r,n,a,i,o,s,y,_,w,E,j,q){Eo.fromBufferAttribute(o,E),Ao.fromBufferAttribute(o,j),ko.fromBufferAttribute(o,q);const $=r.morphTargetInfluences;if(n.morphTargets&&s&&$){Lo.set(0,0,0),Io.set(0,0,0),Do.set(0,0,0);for(let r=0,n=s.length;r<n;r++){const n=$[r],a=s[r];0!==n&&(Ro.fromBufferAttribute(a,E),Oo.fromBufferAttribute(a,j),No.fromBufferAttribute(a,q),y?(Lo.addScaledVector(Ro,n),Io.addScaledVector(Oo,n),Do.addScaledVector(No,n)):(Lo.addScaledVector(Ro.sub(Eo),n),Io.addScaledVector(Oo.sub(Ao),n),Do.addScaledVector(No.sub(ko),n)))}Eo.add(Lo),Ao.add(Io),ko.add(Do)}r.isSkinnedMesh&&(r.boneTransform(E,Eo),r.boneTransform(j,Ao),r.boneTransform(q,ko));const ne=checkIntersection(r,n,a,i,Eo,Ao,ko,zo);if(ne){_&&(Fo.fromBufferAttribute(_,E),jo.fromBufferAttribute(_,j),Bo.fromBufferAttribute(_,q),ne.uv=Triangle.getUV(zo,Eo,Ao,ko,Fo,jo,Bo,new Vector2)),w&&(Fo.fromBufferAttribute(w,E),jo.fromBufferAttribute(w,j),Bo.fromBufferAttribute(w,q),ne.uv2=Triangle.getUV(zo,Eo,Ao,ko,Fo,jo,Bo,new Vector2));const r=new Face3(E,j,q);Triangle.getNormal(Eo,Ao,ko,r.normal),ne.face=r}return ne}Mesh.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Mesh,isMesh:!0,copy(r){return Object3D.prototype.copy.call(this,r),void 0!==r.morphTargetInfluences&&(this.morphTargetInfluences=r.morphTargetInfluences.slice()),void 0!==r.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},r.morphTargetDictionary)),this.material=r.material,this.geometry=r.geometry,this},updateMorphTargets(){const r=this.geometry;if(r.isBufferGeometry){const n=r.morphAttributes,a=Object.keys(n);if(a.length>0){const r=n[a[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let n=0,a=r.length;n<a;n++){const a=r[n].name||n+"";this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=n}}}}else{const n=r.morphTargets;void 0!==n&&n.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast(r,n){const a=this.geometry,i=this.material,o=this.matrixWorld;if(void 0===i)return;if(null===a.boundingSphere&&a.computeBoundingSphere(),To.copy(a.boundingSphere),To.applyMatrix4(o),!1===r.ray.intersectsSphere(To))return;if(Po.getInverse(o),Mo.copy(r.ray).applyMatrix4(Po),null!==a.boundingBox&&!1===Mo.intersectsBox(a.boundingBox))return;let s;if(a.isBufferGeometry){const o=a.index,y=a.attributes.position,_=a.morphAttributes.position,w=a.morphTargetsRelative,E=a.attributes.uv,j=a.attributes.uv2,q=a.groups,$=a.drawRange;if(null!==o)if(Array.isArray(i))for(let a=0,ne=q.length;a<ne;a++){const ne=q[a],ie=i[ne.materialIndex];for(let a=Math.max(ne.start,$.start),i=Math.min(ne.start+ne.count,$.start+$.count);a<i;a+=3){const i=o.getX(a),q=o.getX(a+1),$=o.getX(a+2);s=checkBufferGeometryIntersection(this,ie,r,Mo,y,_,w,E,j,i,q,$),s&&(s.faceIndex=Math.floor(a/3),s.face.materialIndex=ne.materialIndex,n.push(s))}}else for(let a=Math.max(0,$.start),q=Math.min(o.count,$.start+$.count);a<q;a+=3){const q=o.getX(a),$=o.getX(a+1),ne=o.getX(a+2);s=checkBufferGeometryIntersection(this,i,r,Mo,y,_,w,E,j,q,$,ne),s&&(s.faceIndex=Math.floor(a/3),n.push(s))}else if(void 0!==y)if(Array.isArray(i))for(let a=0,o=q.length;a<o;a++){const o=q[a],ne=i[o.materialIndex];for(let a=Math.max(o.start,$.start),i=Math.min(o.start+o.count,$.start+$.count);a<i;a+=3)s=checkBufferGeometryIntersection(this,ne,r,Mo,y,_,w,E,j,a,a+1,a+2),s&&(s.faceIndex=Math.floor(a/3),s.face.materialIndex=o.materialIndex,n.push(s))}else for(let a=Math.max(0,$.start),o=Math.min(y.count,$.start+$.count);a<o;a+=3)s=checkBufferGeometryIntersection(this,i,r,Mo,y,_,w,E,j,a,a+1,a+2),s&&(s.faceIndex=Math.floor(a/3),n.push(s))}else if(a.isGeometry){const o=Array.isArray(i),y=a.vertices,_=a.faces;let w;const E=a.faceVertexUvs[0];E.length>0&&(w=E);for(let a=0,E=_.length;a<E;a++){const E=_[a],j=o?i[E.materialIndex]:i;if(void 0===j)continue;const q=y[E.a],$=y[E.b],ne=y[E.c];if(s=checkIntersection(this,j,r,Mo,q,$,ne,zo),s){if(w&&w[a]){const r=w[a];Fo.copy(r[0]),jo.copy(r[1]),Bo.copy(r[2]),s.uv=Triangle.getUV(zo,q,$,ne,Fo,jo,Bo,new Vector2)}s.face=E,s.faceIndex=a,n.push(s)}}}}});let Uo=0;const Vo=new Matrix4,Wo=new Object3D,Ho=new Vector3;function Geometry(){Object.defineProperty(this,"id",{value:Uo+=2}),this.uuid=Kn.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}Geometry.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:Geometry,isGeometry:!0,applyMatrix4(r){const n=(new Matrix3).getNormalMatrix(r);for(let n=0,a=this.vertices.length;n<a;n++)this.vertices[n].applyMatrix4(r);for(let r=0,a=this.faces.length;r<a;r++){const a=this.faces[r];a.normal.applyMatrix3(n).normalize();for(let r=0,i=a.vertexNormals.length;r<i;r++)a.vertexNormals[r].applyMatrix3(n).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX(r){return Vo.makeRotationX(r),this.applyMatrix4(Vo),this},rotateY(r){return Vo.makeRotationY(r),this.applyMatrix4(Vo),this},rotateZ(r){return Vo.makeRotationZ(r),this.applyMatrix4(Vo),this},translate(r,n,a){return Vo.makeTranslation(r,n,a),this.applyMatrix4(Vo),this},scale(r,n,a){return Vo.makeScale(r,n,a),this.applyMatrix4(Vo),this},lookAt(r){return Wo.lookAt(r),Wo.updateMatrix(),this.applyMatrix4(Wo.matrix),this},fromBufferGeometry(r){const n=this,a=null!==r.index?r.index:void 0,i=r.attributes;if(void 0===i.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const o=i.position,s=i.normal,y=i.color,_=i.uv,w=i.uv2;void 0!==w&&(this.faceVertexUvs[1]=[]);for(let r=0;r<o.count;r++)n.vertices.push((new Vector3).fromBufferAttribute(o,r)),void 0!==y&&n.colors.push((new Color).fromBufferAttribute(y,r));function addFace(r,a,i,o){const E=void 0===y?[]:[n.colors[r].clone(),n.colors[a].clone(),n.colors[i].clone()],j=new Face3(r,a,i,void 0===s?[]:[(new Vector3).fromBufferAttribute(s,r),(new Vector3).fromBufferAttribute(s,a),(new Vector3).fromBufferAttribute(s,i)],E,o);n.faces.push(j),void 0!==_&&n.faceVertexUvs[0].push([(new Vector2).fromBufferAttribute(_,r),(new Vector2).fromBufferAttribute(_,a),(new Vector2).fromBufferAttribute(_,i)]),void 0!==w&&n.faceVertexUvs[1].push([(new Vector2).fromBufferAttribute(w,r),(new Vector2).fromBufferAttribute(w,a),(new Vector2).fromBufferAttribute(w,i)])}const E=r.groups;if(E.length>0)for(let r=0;r<E.length;r++){const n=E[r],i=n.start;for(let r=i,o=i+n.count;r<o;r+=3)void 0!==a?addFace(a.getX(r),a.getX(r+1),a.getX(r+2),n.materialIndex):addFace(r,r+1,r+2,n.materialIndex)}else if(void 0!==a)for(let r=0;r<a.count;r+=3)addFace(a.getX(r),a.getX(r+1),a.getX(r+2));else for(let r=0;r<o.count;r+=3)addFace(r,r+1,r+2);return this.computeFaceNormals(),null!==r.boundingBox&&(this.boundingBox=r.boundingBox.clone()),null!==r.boundingSphere&&(this.boundingSphere=r.boundingSphere.clone()),this},center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ho).negate(),this.translate(Ho.x,Ho.y,Ho.z),this},normalize(){this.computeBoundingSphere();const r=this.boundingSphere.center,n=this.boundingSphere.radius,a=0===n?1:1/n,i=new Matrix4;return i.set(a,0,0,-a*r.x,0,a,0,-a*r.y,0,0,a,-a*r.z,0,0,0,1),this.applyMatrix4(i),this},computeFaceNormals(){const r=new Vector3,n=new Vector3;for(let a=0,i=this.faces.length;a<i;a++){const i=this.faces[a],o=this.vertices[i.a],s=this.vertices[i.b],y=this.vertices[i.c];r.subVectors(y,s),n.subVectors(o,s),r.cross(n),r.normalize(),i.normal.copy(r)}},computeVertexNormals(r){void 0===r&&(r=!0);const n=Array(this.vertices.length);for(let r=0,a=this.vertices.length;r<a;r++)n[r]=new Vector3;if(r){const r=new Vector3,a=new Vector3;for(let i=0,o=this.faces.length;i<o;i++){const o=this.faces[i],s=this.vertices[o.a],y=this.vertices[o.b],_=this.vertices[o.c];r.subVectors(_,y),a.subVectors(s,y),r.cross(a),n[o.a].add(r),n[o.b].add(r),n[o.c].add(r)}}else{this.computeFaceNormals();for(let r=0,a=this.faces.length;r<a;r++){const a=this.faces[r];n[a.a].add(a.normal),n[a.b].add(a.normal),n[a.c].add(a.normal)}}for(let r=0,a=this.vertices.length;r<a;r++)n[r].normalize();for(let r=0,a=this.faces.length;r<a;r++){const a=this.faces[r],i=a.vertexNormals;3===i.length?(i[0].copy(n[a.a]),i[1].copy(n[a.b]),i[2].copy(n[a.c])):(i[0]=n[a.a].clone(),i[1]=n[a.b].clone(),i[2]=n[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals(){this.computeFaceNormals();for(let r=0,n=this.faces.length;r<n;r++){const n=this.faces[r],a=n.vertexNormals;3===a.length?(a[0].copy(n.normal),a[1].copy(n.normal),a[2].copy(n.normal)):(a[0]=n.normal.clone(),a[1]=n.normal.clone(),a[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals(){for(let r=0,n=this.faces.length;r<n;r++){const n=this.faces[r];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);for(let r=0,a=n.vertexNormals.length;r<a;r++)n.__originalVertexNormals[r]?n.__originalVertexNormals[r].copy(n.vertexNormals[r]):n.__originalVertexNormals[r]=n.vertexNormals[r].clone()}const r=new Geometry;r.faces=this.faces;for(let n=0,a=this.morphTargets.length;n<a;n++){if(!this.morphNormals[n]){this.morphNormals[n]={},this.morphNormals[n].faceNormals=[],this.morphNormals[n].vertexNormals=[];const r=this.morphNormals[n].faceNormals,a=this.morphNormals[n].vertexNormals;for(let n=0,i=this.faces.length;n<i;n++){const n=new Vector3,i={a:new Vector3,b:new Vector3,c:new Vector3};r.push(n),a.push(i)}}const a=this.morphNormals[n];r.vertices=this.morphTargets[n].vertices,r.computeFaceNormals(),r.computeVertexNormals();for(let r=0,n=this.faces.length;r<n;r++){const n=this.faces[r],i=a.faceNormals[r],o=a.vertexNormals[r];i.copy(n.normal),o.a.copy(n.vertexNormals[0]),o.b.copy(n.vertexNormals[1]),o.c.copy(n.vertexNormals[2])}}for(let r=0,n=this.faces.length;r<n;r++){const n=this.faces[r];n.normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals}},computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge(r,n,a){if(!r||!r.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",r);let i,o=this.vertices.length,s=this.vertices,y=r.vertices,_=this.faces,w=r.faces,E=this.colors,j=r.colors;void 0===a&&(a=0),void 0!==n&&(i=(new Matrix3).getNormalMatrix(n));for(let r=0,a=y.length;r<a;r++){const a=y[r].clone();void 0!==n&&a.applyMatrix4(n),s.push(a)}for(let r=0,n=j.length;r<n;r++)E.push(j[r].clone());for(let r=0,n=w.length;r<n;r++){let n,s,y,E=w[r],j=E.vertexNormals,q=E.vertexColors;n=new Face3(E.a+o,E.b+o,E.c+o),n.normal.copy(E.normal),void 0!==i&&n.normal.applyMatrix3(i).normalize();for(let r=0,a=j.length;r<a;r++)s=j[r].clone(),void 0!==i&&s.applyMatrix3(i).normalize(),n.vertexNormals.push(s);n.color.copy(E.color);for(let r=0,a=q.length;r<a;r++)y=q[r],n.vertexColors.push(y.clone());n.materialIndex=E.materialIndex+a,_.push(n)}for(let n=0,a=r.faceVertexUvs.length;n<a;n++){const a=r.faceVertexUvs[n];void 0===this.faceVertexUvs[n]&&(this.faceVertexUvs[n]=[]);for(let r=0,i=a.length;r<i;r++){const i=a[r],o=[];for(let r=0,n=i.length;r<n;r++)o.push(i[r].clone());this.faceVertexUvs[n].push(o)}}},mergeMesh(r){r&&r.isMesh?(r.matrixAutoUpdate&&r.updateMatrix(),this.merge(r.geometry,r.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",r)},mergeVertices(){const r={},n=[],a=[];for(let i=0,o=this.vertices.length;i<o;i++){const o=this.vertices[i],s=Math.round(1e4*o.x)+"_"+Math.round(1e4*o.y)+"_"+Math.round(1e4*o.z);void 0===r[s]?(r[s]=i,n.push(this.vertices[i]),a[i]=n.length-1):a[i]=a[r[s]]}const i=[];for(let r=0,n=this.faces.length;r<n;r++){const n=this.faces[r];n.a=a[n.a],n.b=a[n.b],n.c=a[n.c];const o=[n.a,n.b,n.c];for(let n=0;n<3;n++)if(o[n]===o[(n+1)%3]){i.push(r);break}}for(let r=i.length-1;r>=0;r--){const n=i[r];this.faces.splice(n,1);for(let r=0,a=this.faceVertexUvs.length;r<a;r++)this.faceVertexUvs[r].splice(n,1)}const o=this.vertices.length-n.length;return this.vertices=n,o},setFromPoints(r){this.vertices=[];for(let n=0,a=r.length;n<a;n++){const a=r[n];this.vertices.push(new Vector3(a.x,a.y,a.z||0))}return this},sortFacesByMaterialIndex(){const r=this.faces,n=r.length;for(let a=0;a<n;a++)r[a]._id=a;r.sort((function materialIndexSort(r,n){return r.materialIndex-n.materialIndex}));const a=this.faceVertexUvs[0],i=this.faceVertexUvs[1];let o,s;a&&a.length===n&&(o=[]),i&&i.length===n&&(s=[]);for(let y=0;y<n;y++){const n=r[y]._id;o&&o.push(a[n]),s&&s.push(i[n])}o&&(this.faceVertexUvs[0]=o),s&&(this.faceVertexUvs[1]=s)},toJSON(){const r={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),void 0!==this.parameters){const n=this.parameters;for(const a in n)void 0!==n[a]&&(r[a]=n[a]);return r}const n=[];for(let r=0;r<this.vertices.length;r++){const a=this.vertices[r];n.push(a.x,a.y,a.z)}const a=[],i=[],o={},s=[],y={},_=[],w={};for(let r=0;r<this.faces.length;r++){const n=this.faces[r],i=!0,o=!1,s=void 0!==this.faceVertexUvs[0][r],y=n.normal.length()>0,_=n.vertexNormals.length>0,w=1!==n.color.r||1!==n.color.g||1!==n.color.b,E=n.vertexColors.length>0;let j=0;if(j=setBit(j,0,0),j=setBit(j,1,i),j=setBit(j,2,o),j=setBit(j,3,s),j=setBit(j,4,y),j=setBit(j,5,_),j=setBit(j,6,w),j=setBit(j,7,E),a.push(j),a.push(n.a,n.b,n.c),a.push(n.materialIndex),s){const n=this.faceVertexUvs[0][r];a.push(getUvIndex(n[0]),getUvIndex(n[1]),getUvIndex(n[2]))}if(y&&a.push(getNormalIndex(n.normal)),_){const r=n.vertexNormals;a.push(getNormalIndex(r[0]),getNormalIndex(r[1]),getNormalIndex(r[2]))}if(w&&a.push(getColorIndex(n.color)),E){const r=n.vertexColors;a.push(getColorIndex(r[0]),getColorIndex(r[1]),getColorIndex(r[2]))}}function setBit(r,n,a){return a?r|1<<n:r&~(1<<n)}function getNormalIndex(r){const n=r.x.toString()+r.y.toString()+r.z.toString();return void 0!==o[n]||(o[n]=i.length/3,i.push(r.x,r.y,r.z)),o[n]}function getColorIndex(r){const n=r.r.toString()+r.g.toString()+r.b.toString();return void 0!==y[n]||(y[n]=s.length,s.push(r.getHex())),y[n]}function getUvIndex(r){const n=r.x.toString()+r.y.toString();return void 0!==w[n]||(w[n]=_.length/2,_.push(r.x,r.y)),w[n]}return r.data={},r.data.vertices=n,r.data.normals=i,s.length>0&&(r.data.colors=s),_.length>0&&(r.data.uvs=[_]),r.data.faces=a,r},clone(){return(new Geometry).copy(this)},copy(r){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=r.name;const n=r.vertices;for(let r=0,a=n.length;r<a;r++)this.vertices.push(n[r].clone());const a=r.colors;for(let r=0,n=a.length;r<n;r++)this.colors.push(a[r].clone());const i=r.faces;for(let r=0,n=i.length;r<n;r++)this.faces.push(i[r].clone());for(let n=0,a=r.faceVertexUvs.length;n<a;n++){const a=r.faceVertexUvs[n];void 0===this.faceVertexUvs[n]&&(this.faceVertexUvs[n]=[]);for(let r=0,i=a.length;r<i;r++){const i=a[r],o=[];for(let r=0,n=i.length;r<n;r++){const n=i[r];o.push(n.clone())}this.faceVertexUvs[n].push(o)}}const o=r.morphTargets;for(let r=0,n=o.length;r<n;r++){const n={};if(n.name=o[r].name,void 0!==o[r].vertices){n.vertices=[];for(let a=0,i=o[r].vertices.length;a<i;a++)n.vertices.push(o[r].vertices[a].clone())}if(void 0!==o[r].normals){n.normals=[];for(let a=0,i=o[r].normals.length;a<i;a++)n.normals.push(o[r].normals[a].clone())}this.morphTargets.push(n)}const s=r.morphNormals;for(let r=0,n=s.length;r<n;r++){const n={};if(void 0!==s[r].vertexNormals){n.vertexNormals=[];for(let a=0,i=s[r].vertexNormals.length;a<i;a++){const i=s[r].vertexNormals[a],o={};o.a=i.a.clone(),o.b=i.b.clone(),o.c=i.c.clone(),n.vertexNormals.push(o)}}if(void 0!==s[r].faceNormals){n.faceNormals=[];for(let a=0,i=s[r].faceNormals.length;a<i;a++)n.faceNormals.push(s[r].faceNormals[a].clone())}this.morphNormals.push(n)}const y=r.skinWeights;for(let r=0,n=y.length;r<n;r++)this.skinWeights.push(y[r].clone());const _=r.skinIndices;for(let r=0,n=_.length;r<n;r++)this.skinIndices.push(_[r].clone());const w=r.lineDistances;for(let r=0,n=w.length;r<n;r++)this.lineDistances.push(w[r]);const E=r.boundingBox;null!==E&&(this.boundingBox=E.clone());const j=r.boundingSphere;return null!==j&&(this.boundingSphere=j.clone()),this.elementsNeedUpdate=r.elementsNeedUpdate,this.verticesNeedUpdate=r.verticesNeedUpdate,this.uvsNeedUpdate=r.uvsNeedUpdate,this.normalsNeedUpdate=r.normalsNeedUpdate,this.colorsNeedUpdate=r.colorsNeedUpdate,this.lineDistancesNeedUpdate=r.lineDistancesNeedUpdate,this.groupsNeedUpdate=r.groupsNeedUpdate,this},dispose(){this.dispatchEvent({type:"dispose"})}});class BoxGeometry extends Geometry{constructor(r,n,a,i,o,s){super(),this.type="BoxGeometry",this.parameters={width:r,height:n,depth:a,widthSegments:i,heightSegments:o,depthSegments:s},this.fromBufferGeometry(new BoxBufferGeometry(r,n,a,i,o,s)),this.mergeVertices()}}class BoxBufferGeometry extends BufferGeometry{constructor(r=1,n=1,a=1,i=1,o=1,s=1){super(),this.type="BoxBufferGeometry",this.parameters={width:r,height:n,depth:a,widthSegments:i,heightSegments:o,depthSegments:s};const y=this;i=Math.floor(i),o=Math.floor(o);const _=[],w=[],E=[],j=[];let q=0,$=0;function buildPlane(r,n,a,i,o,s,ne,ie,oe,se,le){const pe=s/oe,he=ne/se,me=s/2,ge=ne/2,ye=ie/2,_e=oe+1,ve=se+1;let Se=0,we=0;const Me=new Vector3;for(let s=0;s<ve;s++){const y=s*he-ge;for(let _=0;_<_e;_++){const q=_*pe-me;Me[r]=q*i,Me[n]=y*o,Me[a]=ye,w.push(Me.x,Me.y,Me.z),Me[r]=0,Me[n]=0,Me[a]=ie>0?1:-1,E.push(Me.x,Me.y,Me.z),j.push(_/oe),j.push(1-s/se),Se+=1}}for(let r=0;r<se;r++)for(let n=0;n<oe;n++){const a=q+n+_e*r,i=q+n+_e*(r+1),o=q+(n+1)+_e*(r+1),s=q+(n+1)+_e*r;_.push(a,i,s),_.push(i,o,s),we+=6}y.addGroup($,we,le),$+=we,q+=Se}buildPlane("z","y","x",-1,-1,a,n,r,s=Math.floor(s),o,0),buildPlane("z","y","x",1,-1,a,n,-r,s,o,1),buildPlane("x","z","y",1,1,r,a,n,i,s,2),buildPlane("x","z","y",1,-1,r,a,-n,i,s,3),buildPlane("x","y","z",1,-1,r,n,a,i,o,4),buildPlane("x","y","z",-1,-1,r,n,-a,i,o,5),this.setIndex(_),this.setAttribute("position",new Float32BufferAttribute(w,3)),this.setAttribute("normal",new Float32BufferAttribute(E,3)),this.setAttribute("uv",new Float32BufferAttribute(j,2))}}function cloneUniforms(r){const n={};for(const a in r){n[a]={};for(const i in r[a]){const o=r[a][i];o&&(o.isColor||o.isMatrix3||o.isMatrix4||o.isVector2||o.isVector3||o.isVector4||o.isTexture)?n[a][i]=o.clone():n[a][i]=Array.isArray(o)?o.slice():o}}return n}function mergeUniforms(r){const n={};for(let a=0;a<r.length;a++){const i=cloneUniforms(r[a]);for(const r in i)n[r]=i[r]}return n}const Yo={clone:cloneUniforms,merge:mergeUniforms};function ShaderMaterial(r){Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==r&&(void 0!==r.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(r))}function Camera(){Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}function PerspectiveCamera(r,n,a,i){Camera.call(this),this.type="PerspectiveCamera",this.fov=void 0!==r?r:50,this.zoom=1,this.near=void 0!==a?a:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==n?n:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function CubeCamera(r,n,a){if(Object3D.call(this),this.type="CubeCamera",!0!==a.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=a;const i=new PerspectiveCamera(90,1,r,n);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new Vector3(1,0,0)),this.add(i);const o=new PerspectiveCamera(90,1,r,n);o.layers=this.layers,o.up.set(0,-1,0),o.lookAt(new Vector3(-1,0,0)),this.add(o);const s=new PerspectiveCamera(90,1,r,n);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new Vector3(0,1,0)),this.add(s);const y=new PerspectiveCamera(90,1,r,n);y.layers=this.layers,y.up.set(0,0,-1),y.lookAt(new Vector3(0,-1,0)),this.add(y);const _=new PerspectiveCamera(90,1,r,n);_.layers=this.layers,_.up.set(0,-1,0),_.lookAt(new Vector3(0,0,1)),this.add(_);const w=new PerspectiveCamera(90,1,r,n);w.layers=this.layers,w.up.set(0,-1,0),w.lookAt(new Vector3(0,0,-1)),this.add(w),this.update=function(r,n){null===this.parent&&this.updateMatrixWorld();const E=r.xr.enabled,j=r.getRenderTarget();r.xr.enabled=!1;const q=a.texture.generateMipmaps;a.texture.generateMipmaps=!1,r.setRenderTarget(a,0),r.render(n,i),r.setRenderTarget(a,1),r.render(n,o),r.setRenderTarget(a,2),r.render(n,s),r.setRenderTarget(a,3),r.render(n,y),r.setRenderTarget(a,4),r.render(n,_),a.texture.generateMipmaps=q,r.setRenderTarget(a,5),r.render(n,w),r.setRenderTarget(j),r.xr.enabled=E},this.clear=function(r,n,i,o){const s=r.getRenderTarget();for(let s=0;s<6;s++)r.setRenderTarget(a,s),r.clear(n,i,o);r.setRenderTarget(s)}}function WebGLCubeRenderTarget(r,n,a){Number.isInteger(n)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),n=a),WebGLRenderTarget.call(this,r,r,n)}function DataTexture(r,n,a,i,o,s,y,_,w,E,j,q){Texture.call(this,null,s,y,_,w,E,i,o,j,q),this.image={data:r||null,width:n||1,height:a||1},this.magFilter=void 0!==w?w:Pt,this.minFilter=void 0!==E?E:Pt,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}ShaderMaterial.prototype=Object.create(Material.prototype),ShaderMaterial.prototype.constructor=ShaderMaterial,ShaderMaterial.prototype.isShaderMaterial=!0,ShaderMaterial.prototype.copy=function(r){return Material.prototype.copy.call(this,r),this.fragmentShader=r.fragmentShader,this.vertexShader=r.vertexShader,this.uniforms=cloneUniforms(r.uniforms),this.defines=Object.assign({},r.defines),this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.lights=r.lights,this.clipping=r.clipping,this.skinning=r.skinning,this.morphTargets=r.morphTargets,this.morphNormals=r.morphNormals,this.extensions=Object.assign({},r.extensions),this},ShaderMaterial.prototype.toJSON=function(r){const n=Material.prototype.toJSON.call(this,r);n.uniforms={};for(const a in this.uniforms){const i=this.uniforms[a].value;i&&i.isTexture?n.uniforms[a]={type:"t",value:i.toJSON(r).uuid}:i&&i.isColor?n.uniforms[a]={type:"c",value:i.getHex()}:i&&i.isVector2?n.uniforms[a]={type:"v2",value:i.toArray()}:i&&i.isVector3?n.uniforms[a]={type:"v3",value:i.toArray()}:i&&i.isVector4?n.uniforms[a]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?n.uniforms[a]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?n.uniforms[a]={type:"m4",value:i.toArray()}:n.uniforms[a]={value:i}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader;const a={};for(const r in this.extensions)!0===this.extensions[r]&&(a[r]=!0);return Object.keys(a).length>0&&(n.extensions=a),n},Camera.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Camera,isCamera:!0,copy(r,n){return Object3D.prototype.copy.call(this,r,n),this.matrixWorldInverse.copy(r.matrixWorldInverse),this.projectionMatrix.copy(r.projectionMatrix),this.projectionMatrixInverse.copy(r.projectionMatrixInverse),this},getWorldDirection(r){void 0===r&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),r=new Vector3),this.updateMatrixWorld(!0);const n=this.matrixWorld.elements;return r.set(-n[8],-n[9],-n[10]).normalize()},updateMatrixWorld(r){Object3D.prototype.updateMatrixWorld.call(this,r),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix(r,n){Object3D.prototype.updateWorldMatrix.call(this,r,n),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone(){return(new this.constructor).copy(this)}}),PerspectiveCamera.prototype=Object.assign(Object.create(Camera.prototype),{constructor:PerspectiveCamera,isPerspectiveCamera:!0,copy(r,n){return Camera.prototype.copy.call(this,r,n),this.fov=r.fov,this.zoom=r.zoom,this.near=r.near,this.far=r.far,this.focus=r.focus,this.aspect=r.aspect,this.view=null===r.view?null:Object.assign({},r.view),this.filmGauge=r.filmGauge,this.filmOffset=r.filmOffset,this},setFocalLength(r){const n=.5*this.getFilmHeight()/r;this.fov=2*Kn.RAD2DEG*Math.atan(n),this.updateProjectionMatrix()},getFocalLength(){const r=Math.tan(.5*Kn.DEG2RAD*this.fov);return.5*this.getFilmHeight()/r},getEffectiveFOV(){return 2*Kn.RAD2DEG*Math.atan(Math.tan(.5*Kn.DEG2RAD*this.fov)/this.zoom)},getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset(r,n,a,i,o,s){this.aspect=r/n,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=r,this.view.fullHeight=n,this.view.offsetX=a,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix(){let r=this.near,n=r*Math.tan(.5*Kn.DEG2RAD*this.fov)/this.zoom,a=2*n,i=this.aspect*a,o=-.5*i,s=this.view;if(null!==this.view&&this.view.enabled){const r=s.fullWidth,y=s.fullHeight;o+=s.offsetX*i/r,n-=s.offsetY*a/y,i*=s.width/r,a*=s.height/y}const y=this.filmOffset;0!==y&&(o+=r*y/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-a,r,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON(r){const n=Object3D.prototype.toJSON.call(this,r);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,null!==this.view&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}),CubeCamera.prototype=Object.create(Object3D.prototype),CubeCamera.prototype.constructor=CubeCamera,WebGLCubeRenderTarget.prototype=Object.create(WebGLRenderTarget.prototype),WebGLCubeRenderTarget.prototype.constructor=WebGLCubeRenderTarget,WebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget=!0,WebGLCubeRenderTarget.prototype.fromEquirectangularTexture=function(r,n){this.texture.type=n.type,this.texture.format=$t,this.texture.encoding=n.encoding,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const a=new Scene,i="\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",o="\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t",s=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms({tEquirect:{value:null}}),vertexShader:i,fragmentShader:o,side:oe,blending:he});s.uniforms.tEquirect.value=n;const y=new Mesh(new BoxBufferGeometry(5,5,5),s);return a.add(y),new CubeCamera(1,10,this).update(r,a),y.geometry.dispose(),y.material.dispose(),this},DataTexture.prototype=Object.create(Texture.prototype),DataTexture.prototype.constructor=DataTexture,DataTexture.prototype.isDataTexture=!0;const qo=new Sphere,Xo=new Vector3;function Frustum(r,n,a,i,o,s){this.planes=[void 0!==r?r:new Plane,void 0!==n?n:new Plane,void 0!==a?a:new Plane,void 0!==i?i:new Plane,void 0!==o?o:new Plane,void 0!==s?s:new Plane]}Object.assign(Frustum.prototype,{set(r,n,a,i,o,s){const y=this.planes;return y[0].copy(r),y[1].copy(n),y[2].copy(a),y[3].copy(i),y[4].copy(o),y[5].copy(s),this},clone(){return(new this.constructor).copy(this)},copy(r){const n=this.planes;for(let a=0;a<6;a++)n[a].copy(r.planes[a]);return this},setFromProjectionMatrix(r){const n=this.planes,a=r.elements,i=a[0],o=a[1],s=a[2],y=a[3],_=a[4],w=a[5],E=a[6],j=a[7],q=a[8],$=a[9],ne=a[10],ie=a[11],oe=a[12],se=a[13],le=a[14],pe=a[15];return n[0].setComponents(y-i,j-_,ie-q,pe-oe).normalize(),n[1].setComponents(y+i,j+_,ie+q,pe+oe).normalize(),n[2].setComponents(y+o,j+w,ie+$,pe+se).normalize(),n[3].setComponents(y-o,j-w,ie-$,pe-se).normalize(),n[4].setComponents(y-s,j-E,ie-ne,pe-le).normalize(),n[5].setComponents(y+s,j+E,ie+ne,pe+le).normalize(),this},intersectsObject(r){const n=r.geometry;return null===n.boundingSphere&&n.computeBoundingSphere(),qo.copy(n.boundingSphere).applyMatrix4(r.matrixWorld),this.intersectsSphere(qo)},intersectsSprite(r){return qo.center.set(0,0,0),qo.radius=.7071067811865476,qo.applyMatrix4(r.matrixWorld),this.intersectsSphere(qo)},intersectsSphere(r){const n=this.planes,a=r.center,i=-r.radius;for(let r=0;r<6;r++)if(n[r].distanceToPoint(a)<i)return!1;return!0},intersectsBox(r){const n=this.planes;for(let a=0;a<6;a++){const i=n[a];if(Xo.x=i.normal.x>0?r.max.x:r.min.x,Xo.y=i.normal.y>0?r.max.y:r.min.y,Xo.z=i.normal.z>0?r.max.z:r.min.z,i.distanceToPoint(Xo)<0)return!1}return!0},containsPoint(r){const n=this.planes;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<0)return!1;return!0}});const $o={common:{diffuse:{value:new Color(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new Color(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(15658734)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Matrix3}}};function WebGLAnimation(){let r=null,n=!1,a=null,i=null;function onAnimationFrame(n,o){a(n,o),i=r.requestAnimationFrame(onAnimationFrame)}return{start(){!0!==n&&null!==a&&(i=r.requestAnimationFrame(onAnimationFrame),n=!0)},stop(){r.cancelAnimationFrame(i),n=!1},setAnimationLoop(r){a=r},setContext(n){r=n}}}function WebGLAttributes(r,n){const a=n.isWebGL2,i=new WeakMap;return{get:function get(r){return r.isInterleavedBufferAttribute&&(r=r.data),i.get(r)},remove:function remove(n){n.isInterleavedBufferAttribute&&(n=n.data);const a=i.get(n);a&&(r.deleteBuffer(a.buffer),i.delete(n))},update:function update(n,o){n.isInterleavedBufferAttribute&&(n=n.data);const s=i.get(n);void 0===s?i.set(n,function createBuffer(n,a){const i=n.array,o=n.usage,s=r.createBuffer();r.bindBuffer(a,s),r.bufferData(a,i,o),n.onUploadCallback();let y=5126;return i instanceof Float32Array?y=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?y=5123:i instanceof Int16Array?y=5122:i instanceof Uint32Array?y=5125:i instanceof Int32Array?y=5124:i instanceof Int8Array?y=5120:i instanceof Uint8Array&&(y=5121),{buffer:s,type:y,bytesPerElement:i.BYTES_PER_ELEMENT,version:n.version}}(n,o)):s.version<n.version&&(function updateBuffer(n,i,o){const s=i.array,y=i.updateRange;r.bindBuffer(o,n),-1===y.count?r.bufferSubData(o,0,s):(a?r.bufferSubData(o,y.offset*s.BYTES_PER_ELEMENT,s,y.offset,y.count):r.bufferSubData(o,y.offset*s.BYTES_PER_ELEMENT,s.subarray(y.offset,y.offset+y.count)),y.count=-1)}(s.buffer,n,o),s.version=n.version)}}}function PlaneGeometry(r,n,a,i){Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:r,height:n,widthSegments:a,heightSegments:i},this.fromBufferGeometry(new PlaneBufferGeometry(r,n,a,i)),this.mergeVertices()}function PlaneBufferGeometry(r,n,a,i){BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:r,height:n,widthSegments:a,heightSegments:i};const o=(r=r||1)/2,s=(n=n||1)/2,y=Math.floor(a)||1,_=Math.floor(i)||1,w=y+1,E=_+1,j=r/y,q=n/_,$=[],ne=[],ie=[],oe=[];for(let r=0;r<E;r++){const n=r*q-s;for(let a=0;a<w;a++){const i=a*j-o;ne.push(i,-n,0),ie.push(0,0,1),oe.push(a/y),oe.push(1-r/_)}}for(let r=0;r<_;r++)for(let n=0;n<y;n++){const a=n+w*r,i=n+w*(r+1),o=n+1+w*(r+1),s=n+1+w*r;$.push(a,i,s),$.push(i,o,s)}this.setIndex($),this.setAttribute("position",new Float32BufferAttribute(ne,3)),this.setAttribute("normal",new Float32BufferAttribute(ie,3)),this.setAttribute("uv",new Float32BufferAttribute(oe,2))}PlaneGeometry.prototype=Object.create(Geometry.prototype),PlaneGeometry.prototype.constructor=PlaneGeometry,PlaneBufferGeometry.prototype=Object.create(BufferGeometry.prototype),PlaneBufferGeometry.prototype.constructor=PlaneBufferGeometry;const Ko={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {\n      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {\n      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {\n      uv = vec2(direction.x, direction.y) / abs(direction.z);    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Jo={basic:{uniforms:mergeUniforms([$o.common,$o.specularmap,$o.envmap,$o.aomap,$o.lightmap,$o.fog]),vertexShader:Ko.meshbasic_vert,fragmentShader:Ko.meshbasic_frag},lambert:{uniforms:mergeUniforms([$o.common,$o.specularmap,$o.envmap,$o.aomap,$o.lightmap,$o.emissivemap,$o.fog,$o.lights,{emissive:{value:new Color(0)}}]),vertexShader:Ko.meshlambert_vert,fragmentShader:Ko.meshlambert_frag},phong:{uniforms:mergeUniforms([$o.common,$o.specularmap,$o.envmap,$o.aomap,$o.lightmap,$o.emissivemap,$o.bumpmap,$o.normalmap,$o.displacementmap,$o.fog,$o.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:Ko.meshphong_vert,fragmentShader:Ko.meshphong_frag},standard:{uniforms:mergeUniforms([$o.common,$o.envmap,$o.aomap,$o.lightmap,$o.emissivemap,$o.bumpmap,$o.normalmap,$o.displacementmap,$o.roughnessmap,$o.metalnessmap,$o.fog,$o.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ko.meshphysical_vert,fragmentShader:Ko.meshphysical_frag},toon:{uniforms:mergeUniforms([$o.common,$o.aomap,$o.lightmap,$o.emissivemap,$o.bumpmap,$o.normalmap,$o.displacementmap,$o.gradientmap,$o.fog,$o.lights,{emissive:{value:new Color(0)}}]),vertexShader:Ko.meshtoon_vert,fragmentShader:Ko.meshtoon_frag},matcap:{uniforms:mergeUniforms([$o.common,$o.bumpmap,$o.normalmap,$o.displacementmap,$o.fog,{matcap:{value:null}}]),vertexShader:Ko.meshmatcap_vert,fragmentShader:Ko.meshmatcap_frag},points:{uniforms:mergeUniforms([$o.points,$o.fog]),vertexShader:Ko.points_vert,fragmentShader:Ko.points_frag},dashed:{uniforms:mergeUniforms([$o.common,$o.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ko.linedashed_vert,fragmentShader:Ko.linedashed_frag},depth:{uniforms:mergeUniforms([$o.common,$o.displacementmap]),vertexShader:Ko.depth_vert,fragmentShader:Ko.depth_frag},normal:{uniforms:mergeUniforms([$o.common,$o.bumpmap,$o.normalmap,$o.displacementmap,{opacity:{value:1}}]),vertexShader:Ko.normal_vert,fragmentShader:Ko.normal_frag},sprite:{uniforms:mergeUniforms([$o.sprite,$o.fog]),vertexShader:Ko.sprite_vert,fragmentShader:Ko.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null}},vertexShader:Ko.background_vert,fragmentShader:Ko.background_frag},cube:{uniforms:mergeUniforms([$o.envmap,{opacity:{value:1}}]),vertexShader:Ko.cube_vert,fragmentShader:Ko.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ko.equirect_vert,fragmentShader:Ko.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([$o.common,$o.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ko.distanceRGBA_vert,fragmentShader:Ko.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([$o.lights,$o.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:Ko.shadow_vert,fragmentShader:Ko.shadow_frag}};function WebGLBackground(r,n,a,i){const o=new Color(0);let s,y,_=0,w=null,E=0,j=null;function setClear(r,a){n.buffers.color.setClear(r.r,r.g,r.b,a,i)}return{getClearColor:()=>o,setClearColor(r,n){o.set(r),_=void 0!==n?n:1,setClear(o,_)},getClearAlpha:()=>_,setClearAlpha(r){_=r,setClear(o,_)},render:function render(n,i,q,$){let ne=!0===i.isScene?i.background:null;const se=r.xr,le=se.getSession&&se.getSession();if(le&&"additive"===le.environmentBlendMode&&(ne=null),null===ne?setClear(o,_):ne&&ne.isColor&&(setClear(ne,1),$=!0),(r.autoClear||$)&&r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil),ne&&(ne.isCubeTexture||ne.isWebGLCubeRenderTarget||ne.mapping===bt)){void 0===y&&(y=new Mesh(new BoxBufferGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(Jo.cube.uniforms),vertexShader:Jo.cube.vertexShader,fragmentShader:Jo.cube.fragmentShader,side:oe,depthTest:!1,depthWrite:!1,fog:!1})),y.geometry.deleteAttribute("normal"),y.geometry.deleteAttribute("uv"),y.onBeforeRender=function(r,n,a){this.matrixWorld.copyPosition(a.matrixWorld)},Object.defineProperty(y.material,"envMap",{get(){return this.uniforms.envMap.value}}),a.update(y));const i=ne.isWebGLCubeRenderTarget?ne.texture:ne;y.material.uniforms.envMap.value=i,y.material.uniforms.flipEnvMap.value=i.isCubeTexture?-1:1,w===ne&&E===i.version&&j===r.toneMapping||(y.material.needsUpdate=!0,w=ne,E=i.version,j=r.toneMapping),n.unshift(y,y.geometry,y.material,0,0,null)}else ne&&ne.isTexture&&(void 0===s&&(s=new Mesh(new PlaneBufferGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(Jo.background.uniforms),vertexShader:Jo.background.vertexShader,fragmentShader:Jo.background.fragmentShader,side:ie,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get(){return this.uniforms.t2D.value}}),a.update(s)),s.material.uniforms.t2D.value=ne,!0===ne.matrixAutoUpdate&&ne.updateMatrix(),s.material.uniforms.uvTransform.value.copy(ne.matrix),w===ne&&E===ne.version&&j===r.toneMapping||(s.material.needsUpdate=!0,w=ne,E=ne.version,j=r.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null))}}}function WebGLBindingStates(r,n,a,i){const o=r.getParameter(34921),s=i.isWebGL2?null:n.get("OES_vertex_array_object"),y=i.isWebGL2||null!==s,_={},w=createBindingState(null);let E=w;function bindVertexArrayObject(n){return i.isWebGL2?r.bindVertexArray(n):s.bindVertexArrayOES(n)}function deleteVertexArrayObject(n){return i.isWebGL2?r.deleteVertexArray(n):s.deleteVertexArrayOES(n)}function createBindingState(r){const n=[],a=[],i=[];for(let r=0;r<o;r++)n[r]=0,a[r]=0,i[r]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:n,enabledAttributes:a,attributeDivisors:i,object:r,attributes:{}}}function initAttributes(){const r=E.newAttributes;for(let n=0,a=r.length;n<a;n++)r[n]=0}function enableAttribute(r){enableAttributeAndDivisor(r,0)}function enableAttributeAndDivisor(a,o){const s=E.newAttributes,y=E.enabledAttributes,_=E.attributeDivisors;s[a]=1,0===y[a]&&(r.enableVertexAttribArray(a),y[a]=1),_[a]!==o&&((i.isWebGL2?r:n.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](a,o),_[a]=o)}function disableUnusedAttributes(){const n=E.newAttributes,a=E.enabledAttributes;for(let i=0,o=a.length;i<o;i++)a[i]!==n[i]&&(r.disableVertexAttribArray(i),a[i]=0)}function vertexAttribPointer(n,a,o,s,y,_){!0!==i.isWebGL2||5124!==o&&5125!==o?r.vertexAttribPointer(n,a,o,s,y,_):r.vertexAttribIPointer(n,a,o,y,_)}function reset(){resetDefaultState(),E!==w&&(E=w,bindVertexArrayObject(E.object))}function resetDefaultState(){w.geometry=null,w.program=null,w.wireframe=!1}return{setup:function setup(o,w,j,q,$){let ne=!1;if(y){const n=function getBindingState(n,a,o){const y=!0===o.wireframe;let w=_[n.id];void 0===w&&(w={},_[n.id]=w);let E=w[a.id];void 0===E&&(E={},w[a.id]=E);let j=E[y];return void 0===j&&(j=createBindingState(function createVertexArrayObject(){return i.isWebGL2?r.createVertexArray():s.createVertexArrayOES()}()),E[y]=j),j}(q,j,w);E!==n&&(E=n,bindVertexArrayObject(E.object)),ne=function needsUpdate(r){const n=E.attributes,a=r.attributes;if(Object.keys(n).length!==Object.keys(a).length)return!0;for(const r in a){const i=n[r],o=a[r];if(i.attribute!==o)return!0;if(i.data!==o.data)return!0}return!1}(q),ne&&function saveCache(r){const n={},a=r.attributes;for(const r in a){const i=a[r],o={};o.attribute=i,i.data&&(o.data=i.data),n[r]=o}E.attributes=n}(q)}else{const r=!0===w.wireframe;E.geometry===q.id&&E.program===j.id&&E.wireframe===r||(E.geometry=q.id,E.program=j.id,E.wireframe=r,ne=!0)}!0===o.isInstancedMesh&&(ne=!0),null!==$&&a.update($,34963),ne&&(function setupVertexAttributes(o,s,y,_){if(!1===i.isWebGL2&&(o.isInstancedMesh||_.isInstancedBufferGeometry)&&null===n.get("ANGLE_instanced_arrays"))return;initAttributes();const w=_.attributes,E=y.getAttributes(),j=s.defaultAttributeValues;for(const n in E){const i=E[n];if(i>=0){const s=w[n];if(void 0!==s){const n=s.normalized,o=s.itemSize,y=a.get(s);if(void 0===y)continue;const w=y.buffer,E=y.type,j=y.bytesPerElement;if(s.isInterleavedBufferAttribute){const a=s.data,y=a.stride,q=s.offset;a&&a.isInstancedInterleavedBuffer?(enableAttributeAndDivisor(i,a.meshPerAttribute),void 0===_._maxInstanceCount&&(_._maxInstanceCount=a.meshPerAttribute*a.count)):enableAttribute(i),r.bindBuffer(34962,w),vertexAttribPointer(i,o,E,n,y*j,q*j)}else s.isInstancedBufferAttribute?(enableAttributeAndDivisor(i,s.meshPerAttribute),void 0===_._maxInstanceCount&&(_._maxInstanceCount=s.meshPerAttribute*s.count)):enableAttribute(i),r.bindBuffer(34962,w),vertexAttribPointer(i,o,E,n,0,0)}else if("instanceMatrix"===n){const n=a.get(o.instanceMatrix);if(void 0===n)continue;const s=n.buffer,y=n.type;enableAttributeAndDivisor(i+0,1),enableAttributeAndDivisor(i+1,1),enableAttributeAndDivisor(i+2,1),enableAttributeAndDivisor(i+3,1),r.bindBuffer(34962,s),r.vertexAttribPointer(i+0,4,y,!1,64,0),r.vertexAttribPointer(i+1,4,y,!1,64,16),r.vertexAttribPointer(i+2,4,y,!1,64,32),r.vertexAttribPointer(i+3,4,y,!1,64,48)}else if(void 0!==j){const a=j[n];if(void 0!==a)switch(a.length){case 2:r.vertexAttrib2fv(i,a);break;case 3:r.vertexAttrib3fv(i,a);break;case 4:r.vertexAttrib4fv(i,a);break;default:r.vertexAttrib1fv(i,a)}}}}disableUnusedAttributes()}(o,w,j,q),null!==$&&r.bindBuffer(34963,a.get($).buffer))},reset,resetDefaultState,dispose:function dispose(){reset();for(const r in _){const n=_[r];for(const r in n){const a=n[r];for(const r in a)deleteVertexArrayObject(a[r].object),delete a[r];delete n[r]}delete _[r]}},releaseStatesOfGeometry:function releaseStatesOfGeometry(r){if(void 0===_[r.id])return;const n=_[r.id];for(const r in n){const a=n[r];for(const r in a)deleteVertexArrayObject(a[r].object),delete a[r];delete n[r]}delete _[r.id]},releaseStatesOfProgram:function releaseStatesOfProgram(r){for(const n in _){const a=_[n];if(void 0===a[r.id])continue;const i=a[r.id];for(const r in i)deleteVertexArrayObject(i[r].object),delete i[r];delete a[r.id]}},initAttributes,enableAttribute,disableUnusedAttributes}}function WebGLBufferRenderer(r,n,a,i){const o=i.isWebGL2;let s;this.setMode=function setMode(r){s=r},this.render=function render(n,i){r.drawArrays(s,n,i),a.update(i,s,1)},this.renderInstances=function renderInstances(i,y,_){if(0===_)return;let w,E;if(o)w=r,E="drawArraysInstanced";else if(w=n.get("ANGLE_instanced_arrays"),E="drawArraysInstancedANGLE",null===w)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");w[E](s,i,y,_),a.update(y,s,_)}}function WebGLCapabilities(r,n,a){let i;function getMaxPrecision(n){if("highp"===n){if(r.getShaderPrecisionFormat(35633,36338).precision>0&&r.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";n="mediump"}return"mediump"===n&&r.getShaderPrecisionFormat(35633,36337).precision>0&&r.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&r instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&r instanceof WebGL2ComputeRenderingContext;let s=void 0!==a.precision?a.precision:"highp";const y=getMaxPrecision(s);y!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",y,"instead."),s=y);const _=!0===a.logarithmicDepthBuffer,w=r.getParameter(34930),E=r.getParameter(35660),j=r.getParameter(3379),q=r.getParameter(34076),$=r.getParameter(34921),ne=r.getParameter(36347),ie=r.getParameter(36348),oe=r.getParameter(36349),se=E>0,le=o||!!n.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function getMaxAnisotropy(){if(void 0!==i)return i;const a=n.get("EXT_texture_filter_anisotropic");return i=null!==a?r.getParameter(a.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,i},getMaxPrecision,precision:s,logarithmicDepthBuffer:_,maxTextures:w,maxVertexTextures:E,maxTextureSize:j,maxCubemapSize:q,maxAttributes:$,maxVertexUniforms:ne,maxVaryings:ie,maxFragmentUniforms:oe,vertexTextures:se,floatFragmentTextures:le,floatVertexTextures:se&&le,maxSamples:o?r.getParameter(36183):0}}function WebGLClipping(){const r=this;let n=null,a=0,i=!1,o=!1;const s=new Plane,y=new Matrix3,_={value:null,needsUpdate:!1};function resetGlobalState(){_.value!==n&&(_.value=n,_.needsUpdate=a>0),r.numPlanes=a,r.numIntersection=0}function projectPlanes(n,a,i,o){let w=null!==n?n.length:0,E=null;if(0!==w){if(E=_.value,!0!==o||null===E){const r=i+4*w,o=a.matrixWorldInverse;y.getNormalMatrix(o),(null===E||E.length<r)&&(E=new Float32Array(r));for(let r=0,a=i;r!==w;++r,a+=4)s.copy(n[r]).applyMatrix4(o,y),s.normal.toArray(E,a),E[a+3]=s.constant}_.value=E,_.needsUpdate=!0}return r.numPlanes=w,r.numIntersection=0,E}this.uniform=_,this.numPlanes=0,this.numIntersection=0,this.init=function(r,o,s){const y=0!==r.length||o||0!==a||i;return i=o,n=projectPlanes(r,s,0),a=r.length,y},this.beginShadows=function(){o=!0,projectPlanes(null)},this.endShadows=function(){o=!1,resetGlobalState()},this.setState=function(r,s,y,w,E,j){if(!i||null===r||0===r.length||o&&!y)o?projectPlanes(null):resetGlobalState();else{const i=o?0:a,y=4*i;let q=E.clippingState||null;_.value=q,q=projectPlanes(r,w,y,j);for(let r=0;r!==y;++r)q[r]=n[r];E.clippingState=q,this.numIntersection=s?this.numPlanes:0,this.numPlanes+=i}}}function WebGLExtensions(r){const n={};return{has(a){if(void 0!==n[a])return n[a];let i;switch(a){case"WEBGL_depth_texture":i=r.getExtension("WEBGL_depth_texture")||r.getExtension("MOZ_WEBGL_depth_texture")||r.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=r.getExtension("EXT_texture_filter_anisotropic")||r.getExtension("MOZ_EXT_texture_filter_anisotropic")||r.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=r.getExtension("WEBGL_compressed_texture_s3tc")||r.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=r.getExtension(a)}return n[a]=i,!!i},get(r){return this.has(r)||console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),n[r]}}}function WebGLGeometries(r,n,a,i){const o=new WeakMap,s=new WeakMap;function onGeometryDispose(r){const y=r.target,_=o.get(y);null!==_.index&&n.remove(_.index);for(const r in _.attributes)n.remove(_.attributes[r]);y.removeEventListener("dispose",onGeometryDispose),o.delete(y);const w=s.get(_);w&&(n.remove(w),s.delete(_)),i.releaseStatesOfGeometry(y),!0===y.isInstancedBufferGeometry&&delete y._maxInstanceCount,a.memory.geometries--}function updateWireframeAttribute(r){const a=[],i=r.index,o=r.attributes.position;let y=0;if(null!==i){const r=i.array;y=i.version;for(let n=0,i=r.length;n<i;n+=3){const i=r[n+0],o=r[n+1],s=r[n+2];a.push(i,o,o,s,s,i)}}else{const r=o.array;y=o.version;for(let n=0,i=r.length/3-1;n<i;n+=3){const r=n+0,i=n+1,o=n+2;a.push(r,i,i,o,o,r)}}const _=new(arrayMax(a)>65535?Uint32BufferAttribute:Uint16BufferAttribute)(a,1);_.version=y;const w=s.get(r);w&&n.remove(w),s.set(r,_)}return{get:function get(r,n){let i=o.get(n);return i||(n.addEventListener("dispose",onGeometryDispose),n.isBufferGeometry?i=n:n.isGeometry&&(void 0===n._bufferGeometry&&(n._bufferGeometry=(new BufferGeometry).setFromObject(r)),i=n._bufferGeometry),o.set(n,i),a.memory.geometries++,i)},update:function update(r){const a=r.attributes;for(const r in a)n.update(a[r],34962);const i=r.morphAttributes;for(const r in i){const a=i[r];for(let r=0,i=a.length;r<i;r++)n.update(a[r],34962)}},getWireframeAttribute:function getWireframeAttribute(r){const n=s.get(r);if(n){const a=r.index;null!==a&&n.version<a.version&&updateWireframeAttribute(r)}else updateWireframeAttribute(r);return s.get(r)}}}function WebGLIndexedBufferRenderer(r,n,a,i){const o=i.isWebGL2;let s,y,_;this.setMode=function setMode(r){s=r},this.setIndex=function setIndex(r){y=r.type,_=r.bytesPerElement},this.render=function render(n,i){r.drawElements(s,i,y,n*_),a.update(i,s,1)},this.renderInstances=function renderInstances(i,w,E){if(0===E)return;let j,q;if(o)j=r,q="drawElementsInstanced";else if(j=n.get("ANGLE_instanced_arrays"),q="drawElementsInstancedANGLE",null===j)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");j[q](s,w,y,i*_,E),a.update(w,s,E)}}function WebGLInfo(r){const n={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:n,programs:null,autoReset:!0,reset:function reset(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0},update:function update(r,a,i){switch(n.calls++,a){case 4:n.triangles+=i*(r/3);break;case 1:n.lines+=i*(r/2);break;case 3:n.lines+=i*(r-1);break;case 2:n.lines+=i*r;break;case 0:n.points+=i*r;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a)}}}}function numericalSort(r,n){return r[0]-n[0]}function absNumericalSort(r,n){return Math.abs(n[1])-Math.abs(r[1])}function WebGLMorphtargets(r){const n={},a=new Float32Array(8),i=[];for(let r=0;r<8;r++)i[r]=[r,0];return{update:function update(o,s,y,_){const w=o.morphTargetInfluences,E=void 0===w?0:w.length;let j=n[s.id];if(void 0===j){j=[];for(let r=0;r<E;r++)j[r]=[r,0];n[s.id]=j}for(let r=0;r<E;r++){const n=j[r];n[0]=r,n[1]=w[r]}j.sort(absNumericalSort);for(let r=0;r<8;r++)r<E&&j[r][1]?(i[r][0]=j[r][0],i[r][1]=j[r][1]):(i[r][0]=Number.MAX_SAFE_INTEGER,i[r][1]=0);i.sort(numericalSort);const q=y.morphTargets&&s.morphAttributes.position,$=y.morphNormals&&s.morphAttributes.normal;let ne=0;for(let r=0;r<8;r++){const n=i[r],o=n[0],y=n[1];o!==Number.MAX_SAFE_INTEGER&&y?(q&&s.getAttribute("morphTarget"+r)!==q[o]&&s.setAttribute("morphTarget"+r,q[o]),$&&s.getAttribute("morphNormal"+r)!==$[o]&&s.setAttribute("morphNormal"+r,$[o]),a[r]=y,ne+=y):(q&&void 0!==s.getAttribute("morphTarget"+r)&&s.deleteAttribute("morphTarget"+r),$&&void 0!==s.getAttribute("morphNormal"+r)&&s.deleteAttribute("morphNormal"+r),a[r]=0)}const ie=s.morphTargetsRelative?1:1-ne;_.getUniforms().setValue(r,"morphTargetBaseInfluence",ie),_.getUniforms().setValue(r,"morphTargetInfluences",a)}}}function WebGLObjects(r,n,a,i){let o=new WeakMap;return{update:function update(r){const s=i.render.frame,y=r.geometry,_=n.get(r,y);return o.get(_)!==s&&(y.isGeometry&&_.updateFromObject(r),n.update(_),o.set(_,s)),r.isInstancedMesh&&a.update(r.instanceMatrix,34962),_},dispose:function dispose(){o=new WeakMap}}}function CubeTexture(r,n,a,i,o,s,y,_,w,E){r=void 0!==r?r:[],n=void 0!==n?n:gt,y=void 0!==y?y:Xt,Texture.call(this,r,n,a,i,o,s,y,_,w,E),this.flipY=!1}function DataTexture2DArray(r,n,a,i){Texture.call(this,null),this.image={data:r||null,width:n||1,height:a||1,depth:i||1},this.magFilter=Pt,this.minFilter=Pt,this.wrapR=Ct,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function DataTexture3D(r,n,a,i){Texture.call(this,null),this.image={data:r||null,width:n||1,height:a||1,depth:i||1},this.magFilter=Pt,this.minFilter=Pt,this.wrapR=Ct,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Jo.physical={uniforms:mergeUniforms([Jo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Color(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Ko.meshphysical_vert,fragmentShader:Ko.meshphysical_frag},CubeTexture.prototype=Object.create(Texture.prototype),CubeTexture.prototype.constructor=CubeTexture,CubeTexture.prototype.isCubeTexture=!0,Object.defineProperty(CubeTexture.prototype,"images",{get(){return this.image},set(r){this.image=r}}),DataTexture2DArray.prototype=Object.create(Texture.prototype),DataTexture2DArray.prototype.constructor=DataTexture2DArray,DataTexture2DArray.prototype.isDataTexture2DArray=!0,DataTexture3D.prototype=Object.create(Texture.prototype),DataTexture3D.prototype.constructor=DataTexture3D,DataTexture3D.prototype.isDataTexture3D=!0;const Qo=new Texture,Zo=new DataTexture2DArray,es=new DataTexture3D,ts=new CubeTexture,rs=[],ns=[],as=new Float32Array(16),is=new Float32Array(9),os=new Float32Array(4);function flatten(r,n,a){const i=r[0];if(i<=0||i>0)return r;let o=n*a,s=rs[o];if(void 0===s&&(s=new Float32Array(o),rs[o]=s),0!==n){i.toArray(s,0);for(let i=1,o=0;i!==n;++i)o+=a,r[i].toArray(s,o)}return s}function arraysEqual(r,n){if(r.length!==n.length)return!1;for(let a=0,i=r.length;a<i;a++)if(r[a]!==n[a])return!1;return!0}function copyArray(r,n){for(let a=0,i=n.length;a<i;a++)r[a]=n[a]}function allocTexUnits(r,n){let a=ns[n];void 0===a&&(a=new Int32Array(n),ns[n]=a);for(let i=0;i!==n;++i)a[i]=r.allocateTextureUnit();return a}function setValueV1f(r,n){const a=this.cache;a[0]!==n&&(r.uniform1f(this.addr,n),a[0]=n)}function setValueV2f(r,n){const a=this.cache;if(void 0!==n.x)a[0]===n.x&&a[1]===n.y||(r.uniform2f(this.addr,n.x,n.y),a[0]=n.x,a[1]=n.y);else{if(arraysEqual(a,n))return;r.uniform2fv(this.addr,n),copyArray(a,n)}}function setValueV3f(r,n){const a=this.cache;if(void 0!==n.x)a[0]===n.x&&a[1]===n.y&&a[2]===n.z||(r.uniform3f(this.addr,n.x,n.y,n.z),a[0]=n.x,a[1]=n.y,a[2]=n.z);else if(void 0!==n.r)a[0]===n.r&&a[1]===n.g&&a[2]===n.b||(r.uniform3f(this.addr,n.r,n.g,n.b),a[0]=n.r,a[1]=n.g,a[2]=n.b);else{if(arraysEqual(a,n))return;r.uniform3fv(this.addr,n),copyArray(a,n)}}function setValueV4f(r,n){const a=this.cache;if(void 0!==n.x)a[0]===n.x&&a[1]===n.y&&a[2]===n.z&&a[3]===n.w||(r.uniform4f(this.addr,n.x,n.y,n.z,n.w),a[0]=n.x,a[1]=n.y,a[2]=n.z,a[3]=n.w);else{if(arraysEqual(a,n))return;r.uniform4fv(this.addr,n),copyArray(a,n)}}function setValueM2(r,n){const a=this.cache,i=n.elements;if(void 0===i){if(arraysEqual(a,n))return;r.uniformMatrix2fv(this.addr,!1,n),copyArray(a,n)}else{if(arraysEqual(a,i))return;os.set(i),r.uniformMatrix2fv(this.addr,!1,os),copyArray(a,i)}}function setValueM3(r,n){const a=this.cache,i=n.elements;if(void 0===i){if(arraysEqual(a,n))return;r.uniformMatrix3fv(this.addr,!1,n),copyArray(a,n)}else{if(arraysEqual(a,i))return;is.set(i),r.uniformMatrix3fv(this.addr,!1,is),copyArray(a,i)}}function setValueM4(r,n){const a=this.cache,i=n.elements;if(void 0===i){if(arraysEqual(a,n))return;r.uniformMatrix4fv(this.addr,!1,n),copyArray(a,n)}else{if(arraysEqual(a,i))return;as.set(i),r.uniformMatrix4fv(this.addr,!1,as),copyArray(a,i)}}function setValueT1(r,n,a){const i=this.cache,o=a.allocateTextureUnit();i[0]!==o&&(r.uniform1i(this.addr,o),i[0]=o),a.safeSetTexture2D(n||Qo,o)}function setValueT2DArray1(r,n,a){const i=this.cache,o=a.allocateTextureUnit();i[0]!==o&&(r.uniform1i(this.addr,o),i[0]=o),a.setTexture2DArray(n||Zo,o)}function setValueT3D1(r,n,a){const i=this.cache,o=a.allocateTextureUnit();i[0]!==o&&(r.uniform1i(this.addr,o),i[0]=o),a.setTexture3D(n||es,o)}function setValueT6(r,n,a){const i=this.cache,o=a.allocateTextureUnit();i[0]!==o&&(r.uniform1i(this.addr,o),i[0]=o),a.safeSetTextureCube(n||ts,o)}function setValueV1i(r,n){const a=this.cache;a[0]!==n&&(r.uniform1i(this.addr,n),a[0]=n)}function setValueV2i(r,n){const a=this.cache;arraysEqual(a,n)||(r.uniform2iv(this.addr,n),copyArray(a,n))}function setValueV3i(r,n){const a=this.cache;arraysEqual(a,n)||(r.uniform3iv(this.addr,n),copyArray(a,n))}function setValueV4i(r,n){const a=this.cache;arraysEqual(a,n)||(r.uniform4iv(this.addr,n),copyArray(a,n))}function setValueV1ui(r,n){const a=this.cache;a[0]!==n&&(r.uniform1ui(this.addr,n),a[0]=n)}function setValueV1fArray(r,n){r.uniform1fv(this.addr,n)}function setValueV1iArray(r,n){r.uniform1iv(this.addr,n)}function setValueV2iArray(r,n){r.uniform2iv(this.addr,n)}function setValueV3iArray(r,n){r.uniform3iv(this.addr,n)}function setValueV4iArray(r,n){r.uniform4iv(this.addr,n)}function setValueV2fArray(r,n){const a=flatten(n,this.size,2);r.uniform2fv(this.addr,a)}function setValueV3fArray(r,n){const a=flatten(n,this.size,3);r.uniform3fv(this.addr,a)}function setValueV4fArray(r,n){const a=flatten(n,this.size,4);r.uniform4fv(this.addr,a)}function setValueM2Array(r,n){const a=flatten(n,this.size,4);r.uniformMatrix2fv(this.addr,!1,a)}function setValueM3Array(r,n){const a=flatten(n,this.size,9);r.uniformMatrix3fv(this.addr,!1,a)}function setValueM4Array(r,n){const a=flatten(n,this.size,16);r.uniformMatrix4fv(this.addr,!1,a)}function setValueT1Array(r,n,a){const i=n.length,o=allocTexUnits(a,i);r.uniform1iv(this.addr,o);for(let r=0;r!==i;++r)a.safeSetTexture2D(n[r]||Qo,o[r])}function setValueT6Array(r,n,a){const i=n.length,o=allocTexUnits(a,i);r.uniform1iv(this.addr,o);for(let r=0;r!==i;++r)a.safeSetTextureCube(n[r]||ts,o[r])}function SingleUniform(r,n,a){this.id=r,this.addr=a,this.cache=[],this.setValue=function getSingularSetter(r){switch(r){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}(n.type)}function PureArrayUniform(r,n,a){this.id=r,this.addr=a,this.cache=[],this.size=n.size,this.setValue=function getPureArraySetter(r){switch(r){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35680:case 36300:case 36308:case 36293:return setValueT6Array}}(n.type)}function StructuredUniform(r){this.id=r,this.seq=[],this.map={}}PureArrayUniform.prototype.updateCache=function(r){let n=this.cache;r instanceof Float32Array&&n.length!==r.length&&(this.cache=new Float32Array(r.length)),copyArray(n,r)},StructuredUniform.prototype.setValue=function(r,n,a){const i=this.seq;for(let o=0,s=i.length;o!==s;++o){const s=i[o];s.setValue(r,n[s.id],a)}};const ss=/([\w\d_]+)(\])?(\[|\.)?/g;function addUniform(r,n){r.seq.push(n),r.map[n.id]=n}function parseUniform(r,n,a){const i=r.name,o=i.length;for(ss.lastIndex=0;;){const s=ss.exec(i),y=ss.lastIndex;let _=s[1],w="]"===s[2],E=s[3];if(w&&(_|=0),void 0===E||"["===E&&y+2===o){addUniform(a,void 0===E?new SingleUniform(_,r,n):new PureArrayUniform(_,r,n));break}{let r=a.map[_];void 0===r&&(r=new StructuredUniform(_),addUniform(a,r)),a=r}}}function WebGLUniforms(r,n){this.seq=[],this.map={};const a=r.getProgramParameter(n,35718);for(let i=0;i<a;++i){const a=r.getActiveUniform(n,i);parseUniform(a,r.getUniformLocation(n,a.name),this)}}function WebGLShader(r,n,a){const i=r.createShader(n);return r.shaderSource(i,a),r.compileShader(i),i}WebGLUniforms.prototype.setValue=function(r,n,a,i){const o=this.map[n];void 0!==o&&o.setValue(r,a,i)},WebGLUniforms.prototype.setOptional=function(r,n,a){const i=n[a];void 0!==i&&this.setValue(r,a,i)},WebGLUniforms.upload=function(r,n,a,i){for(let o=0,s=n.length;o!==s;++o){const s=n[o],y=a[s.id];!1!==y.needsUpdate&&s.setValue(r,y.value,i)}},WebGLUniforms.seqWithValue=function(r,n){const a=[];for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.id in n&&a.push(o)}return a};let ls=0;function getEncodingComponents(r){switch(r){case pn:return["Linear","( value )"];case un:return["sRGB","( value )"];case hn:return["RGBE","( value )"];case gn:return["RGBM","( value, 7.0 )"];case yn:return["RGBM","( value, 16.0 )"];case _n:return["RGBD","( value, 256.0 )"];case dn:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case mn:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",r),["Linear","( value )"]}}function getShaderErrors(r,n,a){const i=r.getShaderParameter(n,35713),o=r.getShaderInfoLog(n).trim();return i&&""===o?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+a+"\n"+o+function addLineNumbers(r){const n=r.split("\n");for(let r=0;r<n.length;r++)n[r]=r+1+": "+n[r];return n.join("\n")}(r.getShaderSource(n))}function getTexelDecodingFunction(r,n){const a=getEncodingComponents(n);return"vec4 "+r+"( vec4 value ) { return "+a[0]+"ToLinear"+a[1]+"; }"}function getTexelEncodingFunction(r,n){const a=getEncodingComponents(n);return"vec4 "+r+"( vec4 value ) { return LinearTo"+a[0]+a[1]+"; }"}function getToneMappingFunction(r,n){let a;switch(n){case pt:a="Linear";break;case ut:a="Reinhard";break;case dt:a="OptimizedCineon";break;case ht:a="ACESFilmic";break;case ft:a="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",n),a="Linear"}return"vec3 "+r+"( vec3 color ) { return "+a+"ToneMapping( color ); }"}function filterEmptyLine(r){return""!==r}function replaceLightNums(r,n){return r.replace(/NUM_DIR_LIGHTS/g,n.numDirLights).replace(/NUM_SPOT_LIGHTS/g,n.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,n.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,n.numPointLights).replace(/NUM_HEMI_LIGHTS/g,n.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,n.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,n.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,n.numPointLightShadows)}function replaceClippingPlaneNums(r,n){return r.replace(/NUM_CLIPPING_PLANES/g,n.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,n.numClippingPlanes-n.numClipIntersection)}const cs=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(r){return r.replace(cs,includeReplacer)}function includeReplacer(r,n){const a=Ko[n];if(void 0===a)throw Error("Can not resolve #include <"+n+">");return resolveIncludes(a)}const ps=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,us=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function unrollLoops(r){return r.replace(us,loopReplacer).replace(ps,deprecatedLoopReplacer)}function deprecatedLoopReplacer(r,n,a,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),loopReplacer(0,n,a,i)}function loopReplacer(r,n,a,i){let o="";for(let r=parseInt(n);r<parseInt(a);r++)o+=i.replace(/\[ i \]/g,"[ "+r+" ]").replace(/UNROLLED_LOOP_INDEX/g,r);return o}function generatePrecision(r){let n="precision "+r.precision+" float;\nprecision "+r.precision+" int;";return"highp"===r.precision?n+="\n#define HIGH_PRECISION":"mediump"===r.precision?n+="\n#define MEDIUM_PRECISION":"lowp"===r.precision&&(n+="\n#define LOW_PRECISION"),n}function WebGLProgram(r,n,a,i){const o=r.getContext(),s=a.defines;let y=a.vertexShader,_=a.fragmentShader;const w=function generateShadowMapTypeDefine(r){let n="SHADOWMAP_TYPE_BASIC";return r.shadowMapType===q?n="SHADOWMAP_TYPE_PCF":r.shadowMapType===$?n="SHADOWMAP_TYPE_PCF_SOFT":r.shadowMapType===ne&&(n="SHADOWMAP_TYPE_VSM"),n}(a),E=function generateEnvMapTypeDefine(r){let n="ENVMAP_TYPE_CUBE";if(r.envMap)switch(r.envMapMode){case gt:case yt:n="ENVMAP_TYPE_CUBE";break;case bt:case xt:n="ENVMAP_TYPE_CUBE_UV";break;case _t:case vt:n="ENVMAP_TYPE_EQUIREC"}return n}(a),j=function generateEnvMapModeDefine(r){let n="ENVMAP_MODE_REFLECTION";if(r.envMap)switch(r.envMapMode){case yt:case vt:case xt:n="ENVMAP_MODE_REFRACTION"}return n}(a),ie=function generateEnvMapBlendingDefine(r){let n="ENVMAP_BLENDING_NONE";if(r.envMap)switch(r.combine){case ot:n="ENVMAP_BLENDING_MULTIPLY";break;case st:n="ENVMAP_BLENDING_MIX";break;case lt:n="ENVMAP_BLENDING_ADD"}return n}(a),oe=r.gammaFactor>0?r.gammaFactor:1,se=a.isWebGL2?"":function generateExtensions(r){return[r.extensionDerivatives||r.envMapCubeUV||r.bumpMap||r.tangentSpaceNormalMap||r.clearcoatNormalMap||r.flatShading||"physical"===r.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(r.extensionFragDepth||r.logarithmicDepthBuffer)&&r.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",r.extensionDrawBuffers&&r.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(r.extensionShaderTextureLOD||r.envMap)&&r.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join("\n")}(a),le=function generateDefines(r){const n=[];for(const a in r){const i=r[a];!1!==i&&n.push("#define "+a+" "+i)}return n.join("\n")}(s),pe=o.createProgram();let he,me;a.isRawShaderMaterial?(he=[le].filter(filterEmptyLine).join("\n"),he.length>0&&(he+="\n"),me=[se,le].filter(filterEmptyLine).join("\n"),me.length>0&&(me+="\n")):(he=[generatePrecision(a),"#define SHADER_NAME "+a.shaderName,le,a.instancing?"#define USE_INSTANCING":"",a.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+oe,"#define MAX_BONES "+a.maxBones,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+j:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.displacementMap&&a.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.flatShading?"#define FLAT_SHADED":"",a.skinning?"#define USE_SKINNING":"",a.useVertexTexture?"#define BONE_TEXTURE":"",a.morphTargets?"#define USE_MORPHTARGETS":"",a.morphNormals&&!1===a.flatShading?"#define USE_MORPHNORMALS":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+w:"",a.sizeAttenuation?"#define USE_SIZEATTENUATION":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&a.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(filterEmptyLine).join("\n"),me=[se,generatePrecision(a),"#define SHADER_NAME "+a.shaderName,le,a.alphaTest?"#define ALPHATEST "+a.alphaTest+(a.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+oe,a.useFog&&a.fog?"#define USE_FOG":"",a.useFog&&a.fogExp2?"#define FOG_EXP2":"",a.map?"#define USE_MAP":"",a.matcap?"#define USE_MATCAP":"",a.envMap?"#define USE_ENVMAP":"",a.envMap?"#define "+E:"",a.envMap?"#define "+j:"",a.envMap?"#define "+ie:"",a.lightMap?"#define USE_LIGHTMAP":"",a.aoMap?"#define USE_AOMAP":"",a.emissiveMap?"#define USE_EMISSIVEMAP":"",a.bumpMap?"#define USE_BUMPMAP":"",a.normalMap?"#define USE_NORMALMAP":"",a.normalMap&&a.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",a.normalMap&&a.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",a.clearcoatMap?"#define USE_CLEARCOATMAP":"",a.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",a.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",a.specularMap?"#define USE_SPECULARMAP":"",a.roughnessMap?"#define USE_ROUGHNESSMAP":"",a.metalnessMap?"#define USE_METALNESSMAP":"",a.alphaMap?"#define USE_ALPHAMAP":"",a.sheen?"#define USE_SHEEN":"",a.transmissionMap?"#define USE_TRANSMISSIONMAP":"",a.vertexTangents?"#define USE_TANGENT":"",a.vertexColors?"#define USE_COLOR":"",a.vertexUvs?"#define USE_UV":"",a.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",a.gradientMap?"#define USE_GRADIENTMAP":"",a.flatShading?"#define FLAT_SHADED":"",a.doubleSided?"#define DOUBLE_SIDED":"",a.flipSided?"#define FLIP_SIDED":"",a.shadowMapEnabled?"#define USE_SHADOWMAP":"",a.shadowMapEnabled?"#define "+w:"",a.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",a.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",a.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",a.logarithmicDepthBuffer&&a.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(a.extensionShaderTextureLOD||a.envMap)&&a.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",a.toneMapping!==ct?"#define TONE_MAPPING":"",a.toneMapping!==ct?Ko.tonemapping_pars_fragment:"",a.toneMapping!==ct?getToneMappingFunction("toneMapping",a.toneMapping):"",a.dithering?"#define DITHERING":"",Ko.encodings_pars_fragment,a.map?getTexelDecodingFunction("mapTexelToLinear",a.mapEncoding):"",a.matcap?getTexelDecodingFunction("matcapTexelToLinear",a.matcapEncoding):"",a.envMap?getTexelDecodingFunction("envMapTexelToLinear",a.envMapEncoding):"",a.emissiveMap?getTexelDecodingFunction("emissiveMapTexelToLinear",a.emissiveMapEncoding):"",a.lightMap?getTexelDecodingFunction("lightMapTexelToLinear",a.lightMapEncoding):"",getTexelEncodingFunction("linearToOutputTexel",a.outputEncoding),a.depthPacking?"#define DEPTH_PACKING "+a.depthPacking:"","\n"].filter(filterEmptyLine).join("\n")),y=resolveIncludes(y),y=replaceLightNums(y,a),y=replaceClippingPlaneNums(y,a),_=resolveIncludes(_),_=replaceLightNums(_,a),_=replaceClippingPlaneNums(_,a),y=unrollLoops(y),_=unrollLoops(_),a.isWebGL2&&!a.isRawShaderMaterial&&(he="#version 300 es\n\n#define attribute in\n#define varying out\n#define texture2D texture\n"+he,me="#version 300 es\n\n#define varying in\nout highp vec4 pc_fragColor;\n#define gl_FragColor pc_fragColor\n#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad\n"+me);const ge=me+_,ye=WebGLShader(o,35633,he+y),_e=WebGLShader(o,35632,ge);if(o.attachShader(pe,ye),o.attachShader(pe,_e),void 0!==a.index0AttributeName?o.bindAttribLocation(pe,0,a.index0AttributeName):!0===a.morphTargets&&o.bindAttribLocation(pe,0,"position"),o.linkProgram(pe),r.debug.checkShaderErrors){const r=o.getProgramInfoLog(pe).trim(),n=o.getShaderInfoLog(ye).trim(),a=o.getShaderInfoLog(_e).trim();let i=!0,s=!0;if(!1===o.getProgramParameter(pe,35714)){i=!1;const n=getShaderErrors(o,ye,"vertex"),a=getShaderErrors(o,_e,"fragment");console.error("THREE.WebGLProgram: shader error: ",o.getError(),"35715",o.getProgramParameter(pe,35715),"gl.getProgramInfoLog",r,n,a)}else""!==r?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",r):""!==n&&""!==a||(s=!1);s&&(this.diagnostics={runnable:i,programLog:r,vertexShader:{log:n,prefix:he},fragmentShader:{log:a,prefix:me}})}let ve,Se;return o.deleteShader(ye),o.deleteShader(_e),this.getUniforms=function(){return void 0===ve&&(ve=new WebGLUniforms(o,pe)),ve},this.getAttributes=function(){return void 0===Se&&(Se=function fetchAttributeLocations(r,n){const a={},i=r.getProgramParameter(n,35721);for(let o=0;o<i;o++){const i=r.getActiveAttrib(n,o).name;a[i]=r.getAttribLocation(n,i)}return a}(o,pe)),Se},this.destroy=function(){i.releaseStatesOfProgram(this),o.deleteProgram(pe),this.program=void 0},this.name=a.shaderName,this.id=ls++,this.cacheKey=n,this.usedTimes=1,this.program=pe,this.vertexShader=ye,this.fragmentShader=_e,this}function WebGLPrograms(r,n,a,i){const o=[],s=a.isWebGL2,y=a.logarithmicDepthBuffer,_=a.floatVertexTextures,w=a.maxVertexUniforms,E=a.vertexTextures;let j=a.precision;const q={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},$=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function getTextureEncodingFromMap(r){let n;return r?r.isTexture?n=r.encoding:r.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=r.texture.encoding):n=pn,n}return{getParameters:function getParameters(i,o,$,ne,ie,le,pe){const he=ne.fog,me=i.isMeshStandardMaterial?ne.environment:null,ge=i.envMap||me,ye=q[i.type],_e=pe.isSkinnedMesh?function allocateBones(r){const n=r.skeleton.bones;if(_)return 1024;{const r=Math.min(Math.floor((w-20)/4),n.length);return r<n.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+n.length+" bones. This GPU supports "+r+"."),0):r}}(pe):0;let ve,Se;if(null!==i.precision&&(j=a.getMaxPrecision(i.precision),j!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",j,"instead.")),ye){const r=Jo[ye];ve=r.vertexShader,Se=r.fragmentShader}else ve=i.vertexShader,Se=i.fragmentShader;const we=r.getRenderTarget();return{isWebGL2:s,shaderID:ye,shaderName:i.type,vertexShader:ve,fragmentShader:Se,defines:i.defines,isRawShaderMaterial:i.isRawShaderMaterial,isShaderMaterial:i.isShaderMaterial,precision:j,instancing:!0===pe.isInstancedMesh,supportsVertexTextures:E,outputEncoding:null!==we?getTextureEncodingFromMap(we.texture):r.outputEncoding,map:!!i.map,mapEncoding:getTextureEncodingFromMap(i.map),matcap:!!i.matcap,matcapEncoding:getTextureEncodingFromMap(i.matcap),envMap:!!ge,envMapMode:ge&&ge.mapping,envMapEncoding:getTextureEncodingFromMap(ge),envMapCubeUV:!!ge&&(ge.mapping===bt||ge.mapping===xt),lightMap:!!i.lightMap,lightMapEncoding:getTextureEncodingFromMap(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:getTextureEncodingFromMap(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:i.normalMapType===Sn,tangentSpaceNormalMap:i.normalMapType===xn,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,transmissionMap:!!i.transmissionMap,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexUvs:!!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatMap||i.clearcoatRoughnessMap||i.clearcoatNormalMap||i.displacementMap||i.transmissionMap),uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmissionMap||!i.displacementMap),fog:!!he,useFog:i.fog,fogExp2:he&&he.isFogExp2,flatShading:i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:y,skinning:i.skinning&&_e>0,maxBones:_e,useVertexTexture:_,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:r.maxMorphTargets,maxMorphNormals:r.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:ie,numClipIntersection:le,dithering:i.dithering,shadowMapEnabled:r.shadowMap.enabled&&$.length>0,shadowMapType:r.shadowMap.type,toneMapping:i.toneMapped?r.toneMapping:ct,physicallyCorrectLights:r.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===se,flipSided:i.side===oe,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||null!==n.get("EXT_frag_depth"),rendererExtensionDrawBuffers:s||null!==n.get("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||null!==n.get("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:function getProgramCacheKey(n){const a=[];if(n.shaderID?a.push(n.shaderID):(a.push(n.fragmentShader),a.push(n.vertexShader)),void 0!==n.defines)for(const r in n.defines)a.push(r),a.push(n.defines[r]);if(void 0===n.isRawShaderMaterial){for(let r=0;r<71;r++)a.push(n[$[r]]);a.push(r.outputEncoding),a.push(r.gammaFactor)}return a.push(n.customProgramCacheKey),a.join()},getUniforms:function getUniforms(r){const n=q[r.type];let a;if(n){const r=Jo[n];a=Yo.clone(r.uniforms)}else a=r.uniforms;return a},acquireProgram:function acquireProgram(n,a){let s;for(let r=0,n=o.length;r<n;r++){const n=o[r];if(n.cacheKey===a){s=n,++s.usedTimes;break}}return void 0===s&&(s=new WebGLProgram(r,a,n,i),o.push(s)),s},releaseProgram:function releaseProgram(r){if(0==--r.usedTimes){const n=o.indexOf(r);o[n]=o[o.length-1],o.pop(),r.destroy()}},programs:o}}function WebGLProperties(){let r=new WeakMap;return{get:function get(n){let a=r.get(n);return void 0===a&&(a={},r.set(n,a)),a},remove:function remove(n){r.delete(n)},update:function update(n,a,i){r.get(n)[a]=i},dispose:function dispose(){r=new WeakMap}}}function painterSortStable(r,n){return r.groupOrder!==n.groupOrder?r.groupOrder-n.groupOrder:r.renderOrder!==n.renderOrder?r.renderOrder-n.renderOrder:r.program!==n.program?r.program.id-n.program.id:r.material.id!==n.material.id?r.material.id-n.material.id:r.z!==n.z?r.z-n.z:r.id-n.id}function reversePainterSortStable(r,n){return r.groupOrder!==n.groupOrder?r.groupOrder-n.groupOrder:r.renderOrder!==n.renderOrder?r.renderOrder-n.renderOrder:r.z!==n.z?n.z-r.z:r.id-n.id}function WebGLRenderList(r){const n=[];let a=0;const i=[],o=[],s={id:-1};function getNextRenderItem(i,o,y,_,w,E){let j=n[a];const q=r.get(y);return void 0===j?(j={id:i.id,object:i,geometry:o,material:y,program:q.program||s,groupOrder:_,renderOrder:i.renderOrder,z:w,group:E},n[a]=j):(j.id=i.id,j.object=i,j.geometry=o,j.material=y,j.program=q.program||s,j.groupOrder=_,j.renderOrder=i.renderOrder,j.z=w,j.group=E),a++,j}return{opaque:i,transparent:o,init:function init(){a=0,i.length=0,o.length=0},push:function push(r,n,a,s,y,_){const w=getNextRenderItem(r,n,a,s,y,_);(!0===a.transparent?o:i).push(w)},unshift:function unshift(r,n,a,s,y,_){const w=getNextRenderItem(r,n,a,s,y,_);(!0===a.transparent?o:i).unshift(w)},finish:function finish(){for(let r=a,i=n.length;r<i;r++){const a=n[r];if(null===a.id)break;a.id=null,a.object=null,a.geometry=null,a.material=null,a.program=null,a.group=null}},sort:function sort(r,n){i.length>1&&i.sort(r||painterSortStable),o.length>1&&o.sort(n||reversePainterSortStable)}}}function WebGLRenderLists(r){let n=new WeakMap;function onSceneDispose(r){const a=r.target;a.removeEventListener("dispose",onSceneDispose),n.delete(a)}return{get:function get(a,i){const o=n.get(a);let s;return void 0===o?(s=new WebGLRenderList(r),n.set(a,new WeakMap),n.get(a).set(i,s),a.addEventListener("dispose",onSceneDispose)):(s=o.get(i),void 0===s&&(s=new WebGLRenderList(r),o.set(i,s))),s},dispose:function dispose(){n=new WeakMap}}}function UniformsCache(){const r={};return{get(n){if(void 0!==r[n.id])return r[n.id];let a;switch(n.type){case"DirectionalLight":a={direction:new Vector3,color:new Color};break;case"SpotLight":a={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":a={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":a={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":a={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3}}return r[n.id]=a,a}}}let ds=0;function shadowCastingLightsFirst(r,n){return(n.castShadow?1:0)-(r.castShadow?1:0)}function WebGLLights(){const r=new UniformsCache,n=function ShadowUniformsCache(){const r={};return{get(n){if(void 0!==r[n.id])return r[n.id];let a;switch(n.type){case"DirectionalLight":case"SpotLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":a={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3}}return r[n.id]=a,a}}}(),a={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let r=0;r<9;r++)a.probe.push(new Vector3);const i=new Vector3,o=new Matrix4,s=new Matrix4;return{setup:function setup(y,_,w){let E=0,j=0,q=0;for(let r=0;r<9;r++)a.probe[r].set(0,0,0);let $=0,ne=0,ie=0,oe=0,se=0,le=0,pe=0,he=0;const me=w.matrixWorldInverse;y.sort(shadowCastingLightsFirst);for(let _=0,w=y.length;_<w;_++){const w=y[_],ge=w.color,ye=w.intensity,_e=w.distance,ve=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)E+=ge.r*ye,j+=ge.g*ye,q+=ge.b*ye;else if(w.isLightProbe)for(let r=0;r<9;r++)a.probe[r].addScaledVector(w.sh.coefficients[r],ye);else if(w.isDirectionalLight){const o=r.get(w);if(o.color.copy(w.color).multiplyScalar(w.intensity),o.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),o.direction.sub(i),o.direction.transformDirection(me),w.castShadow){const r=w.shadow,i=n.get(w);i.shadowBias=r.bias,i.shadowNormalBias=r.normalBias,i.shadowRadius=r.radius,i.shadowMapSize=r.mapSize,a.directionalShadow[$]=i,a.directionalShadowMap[$]=ve,a.directionalShadowMatrix[$]=w.shadow.matrix,le++}a.directional[$]=o,$++}else if(w.isSpotLight){const o=r.get(w);if(o.position.setFromMatrixPosition(w.matrixWorld),o.position.applyMatrix4(me),o.color.copy(ge).multiplyScalar(ye),o.distance=_e,o.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),o.direction.sub(i),o.direction.transformDirection(me),o.coneCos=Math.cos(w.angle),o.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),o.decay=w.decay,w.castShadow){const r=w.shadow,i=n.get(w);i.shadowBias=r.bias,i.shadowNormalBias=r.normalBias,i.shadowRadius=r.radius,i.shadowMapSize=r.mapSize,a.spotShadow[ie]=i,a.spotShadowMap[ie]=ve,a.spotShadowMatrix[ie]=w.shadow.matrix,he++}a.spot[ie]=o,ie++}else if(w.isRectAreaLight){const n=r.get(w);n.color.copy(ge).multiplyScalar(ye),n.position.setFromMatrixPosition(w.matrixWorld),n.position.applyMatrix4(me),s.identity(),o.copy(w.matrixWorld),o.premultiply(me),s.extractRotation(o),n.halfWidth.set(.5*w.width,0,0),n.halfHeight.set(0,.5*w.height,0),n.halfWidth.applyMatrix4(s),n.halfHeight.applyMatrix4(s),a.rectArea[oe]=n,oe++}else if(w.isPointLight){const i=r.get(w);if(i.position.setFromMatrixPosition(w.matrixWorld),i.position.applyMatrix4(me),i.color.copy(w.color).multiplyScalar(w.intensity),i.distance=w.distance,i.decay=w.decay,w.castShadow){const r=w.shadow,i=n.get(w);i.shadowBias=r.bias,i.shadowNormalBias=r.normalBias,i.shadowRadius=r.radius,i.shadowMapSize=r.mapSize,i.shadowCameraNear=r.camera.near,i.shadowCameraFar=r.camera.far,a.pointShadow[ne]=i,a.pointShadowMap[ne]=ve,a.pointShadowMatrix[ne]=w.shadow.matrix,pe++}a.point[ne]=i,ne++}else if(w.isHemisphereLight){const n=r.get(w);n.direction.setFromMatrixPosition(w.matrixWorld),n.direction.transformDirection(me),n.direction.normalize(),n.skyColor.copy(w.color).multiplyScalar(ye),n.groundColor.copy(w.groundColor).multiplyScalar(ye),a.hemi[se]=n,se++}}a.ambient[0]=E,a.ambient[1]=j,a.ambient[2]=q;const ge=a.hash;ge.directionalLength===$&&ge.pointLength===ne&&ge.spotLength===ie&&ge.rectAreaLength===oe&&ge.hemiLength===se&&ge.numDirectionalShadows===le&&ge.numPointShadows===pe&&ge.numSpotShadows===he||(a.directional.length=$,a.spot.length=ie,a.rectArea.length=oe,a.point.length=ne,a.hemi.length=se,a.directionalShadow.length=le,a.directionalShadowMap.length=le,a.pointShadow.length=pe,a.pointShadowMap.length=pe,a.spotShadow.length=he,a.spotShadowMap.length=he,a.directionalShadowMatrix.length=le,a.pointShadowMatrix.length=pe,a.spotShadowMatrix.length=he,ge.directionalLength=$,ge.pointLength=ne,ge.spotLength=ie,ge.rectAreaLength=oe,ge.hemiLength=se,ge.numDirectionalShadows=le,ge.numPointShadows=pe,ge.numSpotShadows=he,a.version=ds++)},state:a}}function WebGLRenderState(){const r=new WebGLLights,n=[],a=[];return{init:function init(){n.length=0,a.length=0},state:{lightsArray:n,shadowsArray:a,lights:r},setupLights:function setupLights(i){r.setup(n,a,i)},pushLight:function pushLight(r){n.push(r)},pushShadow:function pushShadow(r){a.push(r)}}}function WebGLRenderStates(){let r=new WeakMap;function onSceneDispose(n){const a=n.target;a.removeEventListener("dispose",onSceneDispose),r.delete(a)}return{get:function get(n,a){let i;return!1===r.has(n)?(i=new WebGLRenderState,r.set(n,new WeakMap),r.get(n).set(a,i),n.addEventListener("dispose",onSceneDispose)):!1===r.get(n).has(a)?(i=new WebGLRenderState,r.get(n).set(a,i)):i=r.get(n).get(a),i},dispose:function dispose(){r=new WeakMap}}}function MeshDepthMaterial(r){Material.call(this),this.type="MeshDepthMaterial",this.depthPacking=vn,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(r)}function MeshDistanceMaterial(r){Material.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(r)}function WebGLShadowMap(r,n,a){let i=new Frustum;const o=new Vector2,s=new Vector2,y=new Vector4,_=[],w=[],E={},j={0:oe,1:ie,2:se},$=new ShaderMaterial({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),le=$.clone();le.defines.HORIZONAL_PASS=1;const pe=new BufferGeometry;pe.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const me=new Mesh(pe,$),ge=this;function VSMPass(a,i){const o=n.update(me);$.uniforms.shadow_pass.value=a.map.texture,$.uniforms.resolution.value=a.mapSize,$.uniforms.radius.value=a.radius,r.setRenderTarget(a.mapPass),r.clear(),r.renderBufferDirect(i,null,o,$,me,null),le.uniforms.shadow_pass.value=a.mapPass.texture,le.uniforms.resolution.value=a.mapSize,le.uniforms.radius.value=a.radius,r.setRenderTarget(a.map),r.clear(),r.renderBufferDirect(i,null,o,le,me,null)}function getDepthMaterialVariant(r,n,a){const i=r<<0|n<<1|a<<2;let o=_[i];return void 0===o&&(o=new MeshDepthMaterial({depthPacking:bn,morphTargets:r,skinning:n}),_[i]=o),o}function getDistanceMaterialVariant(r,n,a){const i=r<<0|n<<1|a<<2;let o=w[i];return void 0===o&&(o=new MeshDistanceMaterial({morphTargets:r,skinning:n}),w[i]=o),o}function getDepthMaterial(n,a,i,o,s,y,_){let w=null,q=getDepthMaterialVariant,$=n.customDepthMaterial;if(!0===o.isPointLight&&(q=getDistanceMaterialVariant,$=n.customDistanceMaterial),void 0===$){let r=!1;!0===i.morphTargets&&(r=a.morphAttributes&&a.morphAttributes.position&&a.morphAttributes.position.length>0);let o=!1;!0===n.isSkinnedMesh&&(!0===i.skinning?o=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",n)),w=q(r,o,!0===n.isInstancedMesh)}else w=$;if(r.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){const r=w.uuid,n=i.uuid;let a=E[r];void 0===a&&(a={},E[r]=a);let o=a[n];void 0===o&&(o=w.clone(),a[n]=o),w=o}return w.visible=i.visible,w.wireframe=i.wireframe,w.side=_===ne?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:j[i.side],w.clipShadows=i.clipShadows,w.clippingPlanes=i.clippingPlanes,w.clipIntersection=i.clipIntersection,w.wireframeLinewidth=i.wireframeLinewidth,w.linewidth=i.linewidth,!0===o.isPointLight&&!0===w.isMeshDistanceMaterial&&(w.referencePosition.setFromMatrixPosition(o.matrixWorld),w.nearDistance=s,w.farDistance=y),w}function renderObject(a,o,s,y,_){if(!1===a.visible)return;if(a.layers.test(o.layers)&&(a.isMesh||a.isLine||a.isPoints)&&(a.castShadow||a.receiveShadow&&_===ne)&&(!a.frustumCulled||i.intersectsObject(a))){a.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,a.matrixWorld);const i=n.update(a),o=a.material;if(Array.isArray(o)){const n=i.groups;for(let w=0,E=n.length;w<E;w++){const E=n[w],j=o[E.materialIndex];if(j&&j.visible){const n=getDepthMaterial(a,i,j,y,s.near,s.far,_);r.renderBufferDirect(s,null,i,n,a,E)}}}else if(o.visible){const n=getDepthMaterial(a,i,o,y,s.near,s.far,_);r.renderBufferDirect(s,null,i,n,a,null)}}const w=a.children;for(let r=0,n=w.length;r<n;r++)renderObject(w[r],o,s,y,_)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=q,this.render=function(n,_,w){if(!1===ge.enabled)return;if(!1===ge.autoUpdate&&!1===ge.needsUpdate)return;if(0===n.length)return;const E=r.getRenderTarget(),j=r.getActiveCubeFace(),q=r.getActiveMipmapLevel(),$=r.state;$.setBlending(he),$.buffers.color.setClear(1,1,1,1),$.buffers.depth.setTest(!0),$.setScissorTest(!1);for(let E=0,j=n.length;E<j;E++){const j=n[E],q=j.shadow;if(!1===q.autoUpdate&&!1===q.needsUpdate)continue;if(void 0===q){console.warn("THREE.WebGLShadowMap:",j,"has no shadow.");continue}o.copy(q.mapSize);const ie=q.getFrameExtents();if(o.multiply(ie),s.copy(q.mapSize),(o.x>a||o.y>a)&&(o.x>a&&(s.x=Math.floor(a/ie.x),o.x=s.x*ie.x,q.mapSize.x=s.x),o.y>a&&(s.y=Math.floor(a/ie.y),o.y=s.y*ie.y,q.mapSize.y=s.y)),null===q.map&&!q.isPointLightShadow&&this.type===ne){const r={minFilter:kt,magFilter:kt,format:$t,stencilBuffer:!1};q.map=new WebGLRenderTarget(o.x,o.y,r),q.map.texture.name=j.name+".shadowMap",q.mapPass=new WebGLRenderTarget(o.x,o.y,r),q.camera.updateProjectionMatrix()}if(null===q.map){const r={minFilter:Pt,magFilter:Pt,format:$t,stencilBuffer:!1};q.map=new WebGLRenderTarget(o.x,o.y,r),q.map.texture.name=j.name+".shadowMap",q.camera.updateProjectionMatrix()}r.setRenderTarget(q.map),r.clear();const oe=q.getViewportCount();for(let r=0;r<oe;r++){const n=q.getViewport(r);y.set(s.x*n.x,s.y*n.y,s.x*n.z,s.y*n.w),$.viewport(y),q.updateMatrices(j,r),i=q.getFrustum(),renderObject(_,w,q.camera,j,this.type)}q.isPointLightShadow||this.type!==ne||VSMPass(q,w),q.needsUpdate=!1}ge.needsUpdate=!1,r.setRenderTarget(E,j,q)}}function WebGLState(r,n,a){const i=a.isWebGL2,o=new function ColorBuffer(){let n=!1;const a=new Vector4;let i=null;const o=new Vector4(0,0,0,0);return{setMask(a){i===a||n||(r.colorMask(a,a,a,a),i=a)},setLocked(r){n=r},setClear(n,i,s,y,_){!0===_&&(n*=y,i*=y,s*=y),a.set(n,i,s,y),!1===o.equals(a)&&(r.clearColor(n,i,s,y),o.copy(a))},reset(){n=!1,i=null,o.set(-1,0,0,0)}}},s=new function DepthBuffer(){let n=!1,a=null,i=null,o=null;return{setTest(r){r?enable(2929):disable(2929)},setMask(i){a===i||n||(r.depthMask(i),a=i)},setFunc(n){if(i!==n){if(n)switch(n){case Xe:r.depthFunc(512);break;case $e:r.depthFunc(519);break;case et:r.depthFunc(513);break;case tt:r.depthFunc(515);break;case rt:r.depthFunc(514);break;case nt:r.depthFunc(518);break;case at:r.depthFunc(516);break;case it:r.depthFunc(517);break;default:r.depthFunc(515)}else r.depthFunc(515);i=n}},setLocked(r){n=r},setClear(n){o!==n&&(r.clearDepth(n),o=n)},reset(){n=!1,a=null,i=null,o=null}}},E=new function StencilBuffer(){let n=!1,a=null,i=null,o=null,s=null,y=null,_=null,w=null,E=null;return{setTest(r){n||(r?enable(2960):disable(2960))},setMask(i){a===i||n||(r.stencilMask(i),a=i)},setFunc(n,a,y){i===n&&o===a&&s===y||(r.stencilFunc(n,a,y),i=n,o=a,s=y)},setOp(n,a,i){y===n&&_===a&&w===i||(r.stencilOp(n,a,i),y=n,_=a,w=i)},setLocked(r){n=r},setClear(n){E!==n&&(r.clearStencil(n),E=n)},reset(){n=!1,a=null,i=null,o=null,s=null,y=null,_=null,w=null,E=null}}};let j={},q=null,$=null,ne=null,ie=null,le=null,pe=null,ot=null,st=null,lt=null,ct=!1,pt=null,ut=null,dt=null,ht=null,ft=null;const mt=r.getParameter(35661);let gt=!1,yt=0;const _t=r.getParameter(7938);-1!==_t.indexOf("WebGL")?(yt=parseFloat(/^WebGL\ ([0-9])/.exec(_t)[1]),gt=yt>=1):-1!==_t.indexOf("OpenGL ES")&&(yt=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(_t)[1]),gt=yt>=2);let vt=null,bt={};const xt=new Vector4,St=new Vector4;function createTexture(n,a,i){const o=new Uint8Array(4),s=r.createTexture();r.bindTexture(n,s),r.texParameteri(n,10241,9728),r.texParameteri(n,10240,9728);for(let n=0;n<i;n++)r.texImage2D(a+n,0,6408,1,1,0,6408,5121,o);return s}const Ct={};function enable(n){!0!==j[n]&&(r.enable(n),j[n]=!0)}function disable(n){!1!==j[n]&&(r.disable(n),j[n]=!1)}Ct[3553]=createTexture(3553,3553,1),Ct[34067]=createTexture(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),E.setClear(0),enable(2929),s.setFunc(tt),setFlipSided(!1),setCullFace(_),enable(2884),setBlending(he);const wt={[Se]:32774,[we]:32778,[Me]:32779};if(i)wt[Te]=32775,wt[Ae]=32776;else{const r=n.get("EXT_blend_minmax");null!==r&&(wt[Te]=r.MIN_EXT,wt[Ae]=r.MAX_EXT)}const Pt={[ke]:0,[Re]:1,[Oe]:768,[Fe]:770,[Ye]:776,[Ve]:774,[Be]:772,[Ne]:769,[je]:771,[We]:775,[Ue]:773};function setBlending(n,a,i,o,s,y,_,w){if(n!==he){if($||(enable(3042),$=!0),n===ve)s=s||a,y=y||i,_=_||o,a===ie&&s===ot||(r.blendEquationSeparate(wt[a],wt[s]),ie=a,ot=s),i===le&&o===pe&&y===st&&_===lt||(r.blendFuncSeparate(Pt[i],Pt[o],Pt[y],Pt[_]),le=i,pe=o,st=y,lt=_),ne=n,ct=null;else if(n!==ne||w!==ct){if(ie===Se&&ot===Se||(r.blendEquation(32774),ie=Se,ot=Se),w)switch(n){case me:r.blendFuncSeparate(1,771,1,771);break;case ge:r.blendFunc(1,1);break;case ye:r.blendFuncSeparate(0,0,769,771);break;case _e:r.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",n)}else switch(n){case me:r.blendFuncSeparate(770,771,1,771);break;case ge:r.blendFunc(770,1);break;case ye:r.blendFunc(0,769);break;case _e:r.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",n)}le=null,pe=null,st=null,lt=null,ne=n,ct=w}}else $&&(disable(3042),$=!1)}function setFlipSided(n){pt!==n&&(n?r.frontFace(2304):r.frontFace(2305),pt=n)}function setCullFace(n){n!==y?(enable(2884),n!==ut&&(n===_?r.cullFace(1029):n===w?r.cullFace(1028):r.cullFace(1032))):disable(2884),ut=n}function setPolygonOffset(n,a,i){n?(enable(32823),ht===a&&ft===i||(r.polygonOffset(a,i),ht=a,ft=i)):disable(32823)}function activeTexture(n){void 0===n&&(n=33984+mt-1),vt!==n&&(r.activeTexture(n),vt=n)}return{buffers:{color:o,depth:s,stencil:E},enable,disable,useProgram:function useProgram(n){return q!==n&&(r.useProgram(n),q=n,!0)},setBlending,setMaterial:function setMaterial(r,n){r.side===se?disable(2884):enable(2884);let a=r.side===oe;n&&(a=!a),setFlipSided(a),r.blending===me&&!1===r.transparent?setBlending(he):setBlending(r.blending,r.blendEquation,r.blendSrc,r.blendDst,r.blendEquationAlpha,r.blendSrcAlpha,r.blendDstAlpha,r.premultipliedAlpha),s.setFunc(r.depthFunc),s.setTest(r.depthTest),s.setMask(r.depthWrite),o.setMask(r.colorWrite);const i=r.stencilWrite;E.setTest(i),i&&(E.setMask(r.stencilWriteMask),E.setFunc(r.stencilFunc,r.stencilRef,r.stencilFuncMask),E.setOp(r.stencilFail,r.stencilZFail,r.stencilZPass)),setPolygonOffset(r.polygonOffset,r.polygonOffsetFactor,r.polygonOffsetUnits)},setFlipSided,setCullFace,setLineWidth:function setLineWidth(n){n!==dt&&(gt&&r.lineWidth(n),dt=n)},setPolygonOffset,setScissorTest:function setScissorTest(r){r?enable(3089):disable(3089)},activeTexture,bindTexture:function bindTexture(n,a){null===vt&&activeTexture();let i=bt[vt];void 0===i&&(i={type:void 0,texture:void 0},bt[vt]=i),i.type===n&&i.texture===a||(r.bindTexture(n,a||Ct[n]),i.type=n,i.texture=a)},unbindTexture:function unbindTexture(){const n=bt[vt];void 0!==n&&void 0!==n.type&&(r.bindTexture(n.type,null),n.type=void 0,n.texture=void 0)},compressedTexImage2D:function compressedTexImage2D(){try{r.compressedTexImage2D.apply(r,arguments)}catch(r){console.error("THREE.WebGLState:",r)}},texImage2D:function texImage2D(){try{r.texImage2D.apply(r,arguments)}catch(r){console.error("THREE.WebGLState:",r)}},texImage3D:function texImage3D(){try{r.texImage3D.apply(r,arguments)}catch(r){console.error("THREE.WebGLState:",r)}},scissor:function scissor(n){!1===xt.equals(n)&&(r.scissor(n.x,n.y,n.z,n.w),xt.copy(n))},viewport:function viewport(n){!1===St.equals(n)&&(r.viewport(n.x,n.y,n.z,n.w),St.copy(n))},reset:function reset(){j={},vt=null,bt={},q=null,ne=null,pt=null,ut=null,o.reset(),s.reset(),E.reset()}}}function WebGLTextures(r,n,a,i,o,s,y){const _=o.isWebGL2,w=o.maxTextures,E=o.maxCubemapSize,j=o.maxTextureSize,q=o.maxSamples,$=new WeakMap;let ne,ie=!1;try{ie="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(r){}function createCanvas(r,n){return ie?new OffscreenCanvas(r,n):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function resizeImage(r,n,a,i){let o=1;if((r.width>i||r.height>i)&&(o=i/Math.max(r.width,r.height)),o<1||!0===n){if("undefined"!=typeof HTMLImageElement&&r instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&r instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&r instanceof ImageBitmap){const i=n?Kn.floorPowerOfTwo:Math.floor,s=i(o*r.width),y=i(o*r.height);void 0===ne&&(ne=createCanvas(s,y));const _=a?createCanvas(s,y):ne;return _.width=s,_.height=y,_.getContext("2d").drawImage(r,0,0,s,y),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+r.width+"x"+r.height+") to ("+s+"x"+y+")."),_}return"data"in r&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+r.width+"x"+r.height+")."),r}return r}function isPowerOfTwo(r){return Kn.isPowerOfTwo(r.width)&&Kn.isPowerOfTwo(r.height)}function textureNeedsGenerateMipmaps(r,n){return r.generateMipmaps&&n&&r.minFilter!==Pt&&r.minFilter!==kt}function generateMipmap(n,a,o,s){r.generateMipmap(n),i.get(a).__maxMipLevel=Math.log(Math.max(o,s))*Math.LOG2E}function getInternalFormat(a,i,o){if(!1===_)return i;if(null!==a){if(void 0!==r[a])return r[a];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+a+"'")}let s=i;return 6403===i&&(5126===o&&(s=33326),5131===o&&(s=33325),5121===o&&(s=33321)),6407===i&&(5126===o&&(s=34837),5131===o&&(s=34843),5121===o&&(s=32849)),6408===i&&(5126===o&&(s=34836),5131===o&&(s=34842),5121===o&&(s=32856)),33325!==s&&33326!==s&&34842!==s&&34836!==s||n.get("EXT_color_buffer_float"),s}function filterFallback(r){return r===Pt||r===Mt||r===Et?9728:9729}function onTextureDispose(n){const a=n.target;a.removeEventListener("dispose",onTextureDispose),function deallocateTexture(n){const a=i.get(n);void 0!==a.__webglInit&&(r.deleteTexture(a.__webglTexture),i.remove(n))}(a),a.isVideoTexture&&$.delete(a),y.memory.textures--}function onRenderTargetDispose(n){const a=n.target;a.removeEventListener("dispose",onRenderTargetDispose),function deallocateRenderTarget(n){const a=i.get(n),o=i.get(n.texture);if(n){if(void 0!==o.__webglTexture&&r.deleteTexture(o.__webglTexture),n.depthTexture&&n.depthTexture.dispose(),n.isWebGLCubeRenderTarget)for(let n=0;n<6;n++)r.deleteFramebuffer(a.__webglFramebuffer[n]),a.__webglDepthbuffer&&r.deleteRenderbuffer(a.__webglDepthbuffer[n]);else r.deleteFramebuffer(a.__webglFramebuffer),a.__webglDepthbuffer&&r.deleteRenderbuffer(a.__webglDepthbuffer),a.__webglMultisampledFramebuffer&&r.deleteFramebuffer(a.__webglMultisampledFramebuffer),a.__webglColorRenderbuffer&&r.deleteRenderbuffer(a.__webglColorRenderbuffer),a.__webglDepthRenderbuffer&&r.deleteRenderbuffer(a.__webglDepthRenderbuffer);i.remove(n.texture),i.remove(n)}}(a),y.memory.textures--}let oe=0;function setTexture2D(r,n){const o=i.get(r);if(r.isVideoTexture&&function updateVideoTexture(r){const n=y.render.frame;$.get(r)!==n&&($.set(r,n),r.update())}(r),r.version>0&&o.__version!==r.version){const a=r.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void uploadTexture(o,r,n);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}a.activeTexture(33984+n),a.bindTexture(3553,o.__webglTexture)}function setTextureCube(n,o){if(6!==n.image.length)return;const y=i.get(n);if(n.version>0&&y.__version!==n.version){initTexture(y,n),a.activeTexture(33984+o),a.bindTexture(34067,y.__webglTexture),r.pixelStorei(37440,n.flipY);const i=n&&(n.isCompressedTexture||n.image[0].isCompressedTexture),w=n.image[0]&&n.image[0].isDataTexture,j=[];for(let r=0;r<6;r++)j[r]=i||w?w?n.image[r].image:n.image[r]:resizeImage(n.image[r],!1,!0,E);const q=j[0],$=isPowerOfTwo(q)||_,ne=s.convert(n.format),ie=s.convert(n.type),oe=getInternalFormat(n.internalFormat,ne,ie);let se;if(setTextureParameters(34067,n,$),i){for(let r=0;r<6;r++){se=j[r].mipmaps;for(let i=0;i<se.length;i++){const o=se[i];n.format!==$t&&n.format!==Xt?null!==ne?a.compressedTexImage2D(34069+r,i,oe,o.width,o.height,0,o.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):a.texImage2D(34069+r,i,oe,o.width,o.height,0,ne,ie,o.data)}}y.__maxMipLevel=se.length-1}else{se=n.mipmaps;for(let r=0;r<6;r++)if(w){a.texImage2D(34069+r,0,oe,j[r].width,j[r].height,0,ne,ie,j[r].data);for(let n=0;n<se.length;n++){const i=se[n].image[r].image;a.texImage2D(34069+r,n+1,oe,i.width,i.height,0,ne,ie,i.data)}}else{a.texImage2D(34069+r,0,oe,ne,ie,j[r]);for(let n=0;n<se.length;n++){const i=se[n];a.texImage2D(34069+r,n+1,oe,ne,ie,i.image[r])}}y.__maxMipLevel=se.length}textureNeedsGenerateMipmaps(n,$)&&generateMipmap(34067,n,q.width,q.height),y.__version=n.version,n.onUpdate&&n.onUpdate(n)}else a.activeTexture(33984+o),a.bindTexture(34067,y.__webglTexture)}function setTextureCubeDynamic(r,n){a.activeTexture(33984+n),a.bindTexture(34067,i.get(r).__webglTexture)}const se={[St]:10497,[Ct]:33071,[wt]:33648},le={[Pt]:9728,[Mt]:9984,[Et]:9986,[kt]:9729,[Rt]:9985,[Nt]:9987};function setTextureParameters(a,s,y){y?(r.texParameteri(a,10242,se[s.wrapS]),r.texParameteri(a,10243,se[s.wrapT]),32879!==a&&35866!==a||r.texParameteri(a,32882,se[s.wrapR]),r.texParameteri(a,10240,le[s.magFilter]),r.texParameteri(a,10241,le[s.minFilter])):(r.texParameteri(a,10242,33071),r.texParameteri(a,10243,33071),32879!==a&&35866!==a||r.texParameteri(a,32882,33071),s.wrapS===Ct&&s.wrapT===Ct||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),r.texParameteri(a,10240,filterFallback(s.magFilter)),r.texParameteri(a,10241,filterFallback(s.minFilter)),s.minFilter!==Pt&&s.minFilter!==kt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const w=n.get("EXT_texture_filter_anisotropic");if(w){if(s.type===Gt&&null===n.get("OES_texture_float_linear"))return;if(s.type===Ut&&null===(_||n.get("OES_texture_half_float_linear")))return;(s.anisotropy>1||i.get(s).__currentAnisotropy)&&(r.texParameterf(a,w.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(s.anisotropy,o.getMaxAnisotropy())),i.get(s).__currentAnisotropy=s.anisotropy)}}function initTexture(n,a){void 0===n.__webglInit&&(n.__webglInit=!0,a.addEventListener("dispose",onTextureDispose),n.__webglTexture=r.createTexture(),y.memory.textures++)}function uploadTexture(n,i,o){let y=3553;i.isDataTexture2DArray&&(y=35866),i.isDataTexture3D&&(y=32879),initTexture(n,i),a.activeTexture(33984+o),a.bindTexture(y,n.__webglTexture),r.pixelStorei(37440,i.flipY),r.pixelStorei(37441,i.premultiplyAlpha),r.pixelStorei(3317,i.unpackAlignment);const w=function textureNeedsPowerOfTwo(r){return!_&&(r.wrapS!==Ct||r.wrapT!==Ct||r.minFilter!==Pt&&r.minFilter!==kt)}(i)&&!1===isPowerOfTwo(i.image),E=resizeImage(i.image,w,!1,j),q=isPowerOfTwo(E)||_,$=s.convert(i.format);let ne,ie=s.convert(i.type),oe=getInternalFormat(i.internalFormat,$,ie);setTextureParameters(y,i,q);const se=i.mipmaps;if(i.isDepthTexture)oe=6402,_?oe=i.type===Gt?36012:i.type===zt?33190:i.type===Yt?35056:33189:i.type===Gt&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Zt&&6402===oe&&i.type!==jt&&i.type!==zt&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=jt,ie=s.convert(i.type)),i.format===er&&6402===oe&&(oe=34041,i.type!==Yt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Yt,ie=s.convert(i.type))),a.texImage2D(3553,0,oe,E.width,E.height,0,$,ie,null);else if(i.isDataTexture)if(se.length>0&&q){for(let r=0,n=se.length;r<n;r++)ne=se[r],a.texImage2D(3553,r,oe,ne.width,ne.height,0,$,ie,ne.data);i.generateMipmaps=!1,n.__maxMipLevel=se.length-1}else a.texImage2D(3553,0,oe,E.width,E.height,0,$,ie,E.data),n.__maxMipLevel=0;else if(i.isCompressedTexture){for(let r=0,n=se.length;r<n;r++)ne=se[r],i.format!==$t&&i.format!==Xt?null!==$?a.compressedTexImage2D(3553,r,oe,ne.width,ne.height,0,ne.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):a.texImage2D(3553,r,oe,ne.width,ne.height,0,$,ie,ne.data);n.__maxMipLevel=se.length-1}else if(i.isDataTexture2DArray)a.texImage3D(35866,0,oe,E.width,E.height,E.depth,0,$,ie,E.data),n.__maxMipLevel=0;else if(i.isDataTexture3D)a.texImage3D(32879,0,oe,E.width,E.height,E.depth,0,$,ie,E.data),n.__maxMipLevel=0;else if(se.length>0&&q){for(let r=0,n=se.length;r<n;r++)ne=se[r],a.texImage2D(3553,r,oe,$,ie,ne);i.generateMipmaps=!1,n.__maxMipLevel=se.length-1}else a.texImage2D(3553,0,oe,$,ie,E),n.__maxMipLevel=0;textureNeedsGenerateMipmaps(i,q)&&generateMipmap(y,i,E.width,E.height),n.__version=i.version,i.onUpdate&&i.onUpdate(i)}function setupFrameBufferTexture(n,o,y,_){const w=s.convert(o.texture.format),E=s.convert(o.texture.type),j=getInternalFormat(o.texture.internalFormat,w,E);a.texImage2D(_,0,j,o.width,o.height,0,w,E,null),r.bindFramebuffer(36160,n),r.framebufferTexture2D(36160,y,_,i.get(o.texture).__webglTexture,0),r.bindFramebuffer(36160,null)}function setupRenderBufferStorage(n,a,i){if(r.bindRenderbuffer(36161,n),a.depthBuffer&&!a.stencilBuffer){let o=33189;if(i){const n=a.depthTexture;n&&n.isDepthTexture&&(n.type===Gt?o=36012:n.type===zt&&(o=33190));const i=getRenderTargetSamples(a);r.renderbufferStorageMultisample(36161,i,o,a.width,a.height)}else r.renderbufferStorage(36161,o,a.width,a.height);r.framebufferRenderbuffer(36160,36096,36161,n)}else if(a.depthBuffer&&a.stencilBuffer){if(i){const n=getRenderTargetSamples(a);r.renderbufferStorageMultisample(36161,n,35056,a.width,a.height)}else r.renderbufferStorage(36161,34041,a.width,a.height);r.framebufferRenderbuffer(36160,33306,36161,n)}else{const n=s.convert(a.texture.format),o=s.convert(a.texture.type),y=getInternalFormat(a.texture.internalFormat,n,o);if(i){const n=getRenderTargetSamples(a);r.renderbufferStorageMultisample(36161,n,y,a.width,a.height)}else r.renderbufferStorage(36161,y,a.width,a.height)}r.bindRenderbuffer(36161,null)}function getRenderTargetSamples(r){return _&&r.isWebGLMultisampleRenderTarget?Math.min(q,r.samples):0}let pe=!1,he=!1;this.allocateTextureUnit=function allocateTextureUnit(){const r=oe;return r>=w&&console.warn("THREE.WebGLTextures: Trying to use "+r+" texture units while this GPU supports only "+w),oe+=1,r},this.resetTextureUnits=function resetTextureUnits(){oe=0},this.setTexture2D=setTexture2D,this.setTexture2DArray=function setTexture2DArray(r,n){const o=i.get(r);r.version>0&&o.__version!==r.version?uploadTexture(o,r,n):(a.activeTexture(33984+n),a.bindTexture(35866,o.__webglTexture))},this.setTexture3D=function setTexture3D(r,n){const o=i.get(r);r.version>0&&o.__version!==r.version?uploadTexture(o,r,n):(a.activeTexture(33984+n),a.bindTexture(32879,o.__webglTexture))},this.setTextureCube=setTextureCube,this.setTextureCubeDynamic=setTextureCubeDynamic,this.setupRenderTarget=function setupRenderTarget(n){const o=i.get(n),w=i.get(n.texture);n.addEventListener("dispose",onRenderTargetDispose),w.__webglTexture=r.createTexture(),y.memory.textures++;const E=!0===n.isWebGLCubeRenderTarget,j=!0===n.isWebGLMultisampleRenderTarget,q=isPowerOfTwo(n)||_;if(!_||n.texture.format!==Xt||n.texture.type!==Gt&&n.texture.type!==Ut||(n.texture.format=$t,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),E){o.__webglFramebuffer=[];for(let n=0;n<6;n++)o.__webglFramebuffer[n]=r.createFramebuffer()}else if(o.__webglFramebuffer=r.createFramebuffer(),j)if(_){o.__webglMultisampledFramebuffer=r.createFramebuffer(),o.__webglColorRenderbuffer=r.createRenderbuffer(),r.bindRenderbuffer(36161,o.__webglColorRenderbuffer);const a=s.convert(n.texture.format),i=s.convert(n.texture.type),y=getInternalFormat(n.texture.internalFormat,a,i),_=getRenderTargetSamples(n);r.renderbufferStorageMultisample(36161,_,y,n.width,n.height),r.bindFramebuffer(36160,o.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(36160,36064,36161,o.__webglColorRenderbuffer),r.bindRenderbuffer(36161,null),n.depthBuffer&&(o.__webglDepthRenderbuffer=r.createRenderbuffer(),setupRenderBufferStorage(o.__webglDepthRenderbuffer,n,!0)),r.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(E){a.bindTexture(34067,w.__webglTexture),setTextureParameters(34067,n.texture,q);for(let r=0;r<6;r++)setupFrameBufferTexture(o.__webglFramebuffer[r],n,36064,34069+r);textureNeedsGenerateMipmaps(n.texture,q)&&generateMipmap(34067,n.texture,n.width,n.height),a.bindTexture(34067,null)}else a.bindTexture(3553,w.__webglTexture),setTextureParameters(3553,n.texture,q),setupFrameBufferTexture(o.__webglFramebuffer,n,36064,3553),textureNeedsGenerateMipmaps(n.texture,q)&&generateMipmap(3553,n.texture,n.width,n.height),a.bindTexture(3553,null);n.depthBuffer&&function setupDepthRenderbuffer(n){const a=i.get(n),o=!0===n.isWebGLCubeRenderTarget;if(n.depthTexture){if(o)throw Error("target.depthTexture not supported in Cube render targets");!function setupDepthTexture(n,a){if(a&&a.isWebGLCubeRenderTarget)throw Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(36160,n),!a.depthTexture||!a.depthTexture.isDepthTexture)throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(a.depthTexture).__webglTexture&&a.depthTexture.image.width===a.width&&a.depthTexture.image.height===a.height||(a.depthTexture.image.width=a.width,a.depthTexture.image.height=a.height,a.depthTexture.needsUpdate=!0),setTexture2D(a.depthTexture,0);const o=i.get(a.depthTexture).__webglTexture;if(a.depthTexture.format===Zt)r.framebufferTexture2D(36160,36096,3553,o,0);else{if(a.depthTexture.format!==er)throw Error("Unknown depthTexture format");r.framebufferTexture2D(36160,33306,3553,o,0)}}(a.__webglFramebuffer,n)}else if(o){a.__webglDepthbuffer=[];for(let i=0;i<6;i++)r.bindFramebuffer(36160,a.__webglFramebuffer[i]),a.__webglDepthbuffer[i]=r.createRenderbuffer(),setupRenderBufferStorage(a.__webglDepthbuffer[i],n,!1)}else r.bindFramebuffer(36160,a.__webglFramebuffer),a.__webglDepthbuffer=r.createRenderbuffer(),setupRenderBufferStorage(a.__webglDepthbuffer,n,!1);r.bindFramebuffer(36160,null)}(n)},this.updateRenderTargetMipmap=function updateRenderTargetMipmap(r){const n=r.texture;if(textureNeedsGenerateMipmaps(n,isPowerOfTwo(r)||_)){const o=r.isWebGLCubeRenderTarget?34067:3553,s=i.get(n).__webglTexture;a.bindTexture(o,s),generateMipmap(o,n,r.width,r.height),a.bindTexture(o,null)}},this.updateMultisampleRenderTarget=function updateMultisampleRenderTarget(n){if(n.isWebGLMultisampleRenderTarget)if(_){const a=i.get(n);r.bindFramebuffer(36008,a.__webglMultisampledFramebuffer),r.bindFramebuffer(36009,a.__webglFramebuffer);const o=n.width,s=n.height;let y=16384;n.depthBuffer&&(y|=256),n.stencilBuffer&&(y|=1024),r.blitFramebuffer(0,0,o,s,0,0,o,s,y,9728),r.bindFramebuffer(36160,a.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function safeSetTexture2D(r,n){r&&r.isWebGLRenderTarget&&(!1===pe&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),pe=!0),r=r.texture),setTexture2D(r,n)},this.safeSetTextureCube=function safeSetTextureCube(r,n){r&&r.isWebGLCubeRenderTarget&&(!1===he&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),he=!0),r=r.texture),r&&r.isCubeTexture||Array.isArray(r.image)&&6===r.image.length?setTextureCube(r,n):setTextureCubeDynamic(r,n)}}function WebGLUtils(r,n,a){const i=a.isWebGL2;return{convert:function convert(r){let a;if(r===It)return 5121;if(r===Vt)return 32819;if(r===Wt)return 32820;if(r===Ht)return 33635;if(r===Dt)return 5120;if(r===Ft)return 5122;if(r===jt)return 5123;if(r===Bt)return 5124;if(r===zt)return 5125;if(r===Gt)return 5126;if(r===Ut)return i?5131:(a=n.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(r===qt)return 6406;if(r===Xt)return 6407;if(r===$t)return 6408;if(r===Kt)return 6409;if(r===Jt)return 6410;if(r===Zt)return 6402;if(r===er)return 34041;if(r===tr)return 6403;if(r===rr)return 36244;if(r===nr)return 33319;if(r===ar)return 33320;if(r===ir)return 36248;if(r===or)return 36249;if(r===sr||r===lr||r===cr||r===pr){if(a=n.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(r===sr)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===lr)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===cr)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===pr)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(r===ur||r===dr||r===hr||r===fr){if(a=n.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(r===ur)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===dr)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===hr)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===fr)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(r===mr)return a=n.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if((r===gr||r===yr)&&(a=n.get("WEBGL_compressed_texture_etc"),null!==a)){if(r===gr)return a.COMPRESSED_RGB8_ETC2;if(r===yr)return a.COMPRESSED_RGBA8_ETC2_EAC}return r===_r||r===vr||r===br||r===xr||r===Sr||r===Cr||r===wr||r===Pr||r===Mr||r===Tr||r===Er||r===Ar||r===kr||r===Rr||r===Nr||r===Lr||r===Ir||r===Dr||r===Fr||r===jr||r===Br||r===zr||r===Gr||r===Ur||r===Vr||r===Wr||r===Yr||r===qr?(a=n.get("WEBGL_compressed_texture_astc"),null!==a?r:null):r===Or?(a=n.get("EXT_texture_compression_bptc"),null!==a?r:null):r===Yt?i?34042:(a=n.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function ArrayCamera(r){PerspectiveCamera.call(this),this.cameras=r||[]}function Group(){Object3D.call(this),this.type="Group"}function WebXRController(){this._targetRay=null,this._grip=null,this._hand=null}function WebXRManager(r,n){const a=this;let i=null,o=1,s=null,y="local-floor",_=null;const w=[],E=new Map,j=new PerspectiveCamera;j.layers.enable(1),j.viewport=new Vector4;const q=new PerspectiveCamera;q.layers.enable(2),q.viewport=new Vector4;const $=[j,q],ne=new ArrayCamera;ne.layers.enable(1),ne.layers.enable(2);let ie=null,oe=null;function onSessionEvent(r){const n=E.get(r.inputSource);n&&n.dispatchEvent({type:r.type})}function onSessionEnd(){E.forEach((function(r,n){r.disconnect(n)})),E.clear(),r.setFramebuffer(null),r.setRenderTarget(r.getRenderTarget()),he.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function onRequestReferenceSpace(r){s=r,he.setContext(i),he.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"})}function updateInputSources(r){const n=i.inputSources;for(let r=0;r<w.length;r++)E.set(n[r],w[r]);for(let n=0;n<r.removed.length;n++){const a=r.removed[n],i=E.get(a);i&&(i.dispatchEvent({type:"disconnected",data:a}),E.delete(a))}for(let n=0;n<r.added.length;n++){const a=r.added[n],i=E.get(a);i&&i.dispatchEvent({type:"connected",data:a})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(r){let n=w[r];return void 0===n&&(n=new WebXRController,w[r]=n),n.getTargetRaySpace()},this.getControllerGrip=function(r){let n=w[r];return void 0===n&&(n=new WebXRController,w[r]=n),n.getGripSpace()},this.getHand=function(r){let n=w[r];return void 0===n&&(n=new WebXRController,w[r]=n),n.getHandSpace()},this.setFramebufferScaleFactor=function(r){o=r,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(r){y=r,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s},this.getSession=function(){return i},this.setSession=function(r){if(i=r,null!==i){i.addEventListener("select",onSessionEvent),i.addEventListener("selectstart",onSessionEvent),i.addEventListener("selectend",onSessionEvent),i.addEventListener("squeeze",onSessionEvent),i.addEventListener("squeezestart",onSessionEvent),i.addEventListener("squeezeend",onSessionEvent),i.addEventListener("end",onSessionEnd);const r=n.getContextAttributes();!0!==r.xrCompatible&&n.makeXRCompatible();const a={antialias:r.antialias,alpha:r.alpha,depth:r.depth,stencil:r.stencil,framebufferScaleFactor:o},s=new XRWebGLLayer(i,n,a);i.updateRenderState({baseLayer:s}),i.requestReferenceSpace(y).then(onRequestReferenceSpace),i.addEventListener("inputsourceschange",updateInputSources)}};const se=new Vector3,le=new Vector3;function updateCamera(r,n){null===n?r.matrixWorld.copy(r.matrix):r.matrixWorld.multiplyMatrices(n.matrixWorld,r.matrix),r.matrixWorldInverse.getInverse(r.matrixWorld)}this.getCamera=function(r){ne.near=q.near=j.near=r.near,ne.far=q.far=j.far=r.far,ie===ne.near&&oe===ne.far||(i.updateRenderState({depthNear:ne.near,depthFar:ne.far}),ie=ne.near,oe=ne.far);const n=r.parent,a=ne.cameras;updateCamera(ne,n);for(let r=0;r<a.length;r++)updateCamera(a[r],n);r.matrixWorld.copy(ne.matrixWorld);const o=r.children;for(let r=0,n=o.length;r<n;r++)o[r].updateMatrixWorld(!0);return 2===a.length?function setProjectionFromUnion(r,n,a){se.setFromMatrixPosition(n.matrixWorld),le.setFromMatrixPosition(a.matrixWorld);const i=se.distanceTo(le),o=n.projectionMatrix.elements,s=a.projectionMatrix.elements,y=o[14]/(o[10]-1),_=o[14]/(o[10]+1),w=(o[9]+1)/o[5],E=(o[9]-1)/o[5],j=(o[8]-1)/o[0],q=(s[8]+1)/s[0],$=y*j,ne=y*q,ie=i/(-j+q),oe=ie*-j;n.matrixWorld.decompose(r.position,r.quaternion,r.scale),r.translateX(oe),r.translateZ(ie),r.matrixWorld.compose(r.position,r.quaternion,r.scale),r.matrixWorldInverse.getInverse(r.matrixWorld);const pe=y+ie,he=_+ie,me=$-oe,ge=ne+(i-oe),ye=w*_/he*pe,_e=E*_/he*pe;r.projectionMatrix.makePerspective(me,ge,ye,_e,pe,he)}(ne,j,q):ne.projectionMatrix.copy(j.projectionMatrix),ne};let pe=null;const he=new WebGLAnimation;he.setAnimationLoop((function onAnimationFrame(n,a){if(_=a.getViewerPose(s),null!==_){const n=_.views,a=i.renderState.baseLayer;r.setFramebuffer(a.framebuffer);let o=!1;n.length!==ne.cameras.length&&(ne.cameras.length=0,o=!0);for(let r=0;r<n.length;r++){const i=n[r],s=a.getViewport(i),y=$[r];y.matrix.fromArray(i.transform.matrix),y.projectionMatrix.fromArray(i.projectionMatrix),y.viewport.set(s.x,s.y,s.width,s.height),0===r&&ne.matrix.copy(y.matrix),!0===o&&ne.cameras.push(y)}}const o=i.inputSources;for(let r=0;r<w.length;r++){const n=w[r],i=o[r];n.update(i,a,s)}pe&&pe(n,a)})),this.setAnimationLoop=function(r){pe=r},this.dispose=function(){}}function WebGLMaterials(r){function refreshUniformsCommon(n,a,i){n.opacity.value=a.opacity,a.color&&n.diffuse.value.copy(a.color),a.emissive&&n.emissive.value.copy(a.emissive).multiplyScalar(a.emissiveIntensity),a.map&&(n.map.value=a.map),a.alphaMap&&(n.alphaMap.value=a.alphaMap),a.specularMap&&(n.specularMap.value=a.specularMap);const o=a.envMap||i;if(o){n.envMap.value=o,n.flipEnvMap.value=o.isCubeTexture?-1:1,n.reflectivity.value=a.reflectivity,n.refractionRatio.value=a.refractionRatio;var s=r.get(o).__maxMipLevel;void 0!==s&&(n.maxMipLevel.value=s)}let y,_;a.lightMap&&(n.lightMap.value=a.lightMap,n.lightMapIntensity.value=a.lightMapIntensity),a.aoMap&&(n.aoMap.value=a.aoMap,n.aoMapIntensity.value=a.aoMapIntensity),a.map?y=a.map:a.specularMap?y=a.specularMap:a.displacementMap?y=a.displacementMap:a.normalMap?y=a.normalMap:a.bumpMap?y=a.bumpMap:a.roughnessMap?y=a.roughnessMap:a.metalnessMap?y=a.metalnessMap:a.alphaMap?y=a.alphaMap:a.emissiveMap&&(y=a.emissiveMap),void 0!==y&&(y.isWebGLRenderTarget&&(y=y.texture),!0===y.matrixAutoUpdate&&y.updateMatrix(),n.uvTransform.value.copy(y.matrix)),a.aoMap?_=a.aoMap:a.lightMap&&(_=a.lightMap),void 0!==_&&(_.isWebGLRenderTarget&&(_=_.texture),!0===_.matrixAutoUpdate&&_.updateMatrix(),n.uv2Transform.value.copy(_.matrix))}function refreshUniformsStandard(r,n,a){r.roughness.value=n.roughness,r.metalness.value=n.metalness,n.roughnessMap&&(r.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(r.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(r.emissiveMap.value=n.emissiveMap),n.bumpMap&&(r.bumpMap.value=n.bumpMap,r.bumpScale.value=n.bumpScale,n.side===oe&&(r.bumpScale.value*=-1)),n.normalMap&&(r.normalMap.value=n.normalMap,r.normalScale.value.copy(n.normalScale),n.side===oe&&r.normalScale.value.negate()),n.displacementMap&&(r.displacementMap.value=n.displacementMap,r.displacementScale.value=n.displacementScale,r.displacementBias.value=n.displacementBias),(n.envMap||a)&&(r.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function refreshFogUniforms(r,n){r.fogColor.value.copy(n.color),n.isFog?(r.fogNear.value=n.near,r.fogFar.value=n.far):n.isFogExp2&&(r.fogDensity.value=n.density)},refreshMaterialUniforms:function refreshMaterialUniforms(r,n,a,i,o){n.isMeshBasicMaterial?refreshUniformsCommon(r,n):n.isMeshLambertMaterial?(refreshUniformsCommon(r,n),function refreshUniformsLambert(r,n){n.emissiveMap&&(r.emissiveMap.value=n.emissiveMap)}(r,n)):n.isMeshToonMaterial?(refreshUniformsCommon(r,n),function refreshUniformsToon(r,n){n.gradientMap&&(r.gradientMap.value=n.gradientMap),n.emissiveMap&&(r.emissiveMap.value=n.emissiveMap),n.bumpMap&&(r.bumpMap.value=n.bumpMap,r.bumpScale.value=n.bumpScale,n.side===oe&&(r.bumpScale.value*=-1)),n.normalMap&&(r.normalMap.value=n.normalMap,r.normalScale.value.copy(n.normalScale),n.side===oe&&r.normalScale.value.negate()),n.displacementMap&&(r.displacementMap.value=n.displacementMap,r.displacementScale.value=n.displacementScale,r.displacementBias.value=n.displacementBias)}(r,n)):n.isMeshPhongMaterial?(refreshUniformsCommon(r,n),function refreshUniformsPhong(r,n){r.specular.value.copy(n.specular),r.shininess.value=Math.max(n.shininess,1e-4),n.emissiveMap&&(r.emissiveMap.value=n.emissiveMap),n.bumpMap&&(r.bumpMap.value=n.bumpMap,r.bumpScale.value=n.bumpScale,n.side===oe&&(r.bumpScale.value*=-1)),n.normalMap&&(r.normalMap.value=n.normalMap,r.normalScale.value.copy(n.normalScale),n.side===oe&&r.normalScale.value.negate()),n.displacementMap&&(r.displacementMap.value=n.displacementMap,r.displacementScale.value=n.displacementScale,r.displacementBias.value=n.displacementBias)}(r,n)):n.isMeshStandardMaterial?(refreshUniformsCommon(r,n,a),n.isMeshPhysicalMaterial?function refreshUniformsPhysical(r,n,a){refreshUniformsStandard(r,n,a),r.reflectivity.value=n.reflectivity,r.clearcoat.value=n.clearcoat,r.clearcoatRoughness.value=n.clearcoatRoughness,n.sheen&&r.sheen.value.copy(n.sheen),n.clearcoatMap&&(r.clearcoatMap.value=n.clearcoatMap),n.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap.value=n.clearcoatRoughnessMap),n.clearcoatNormalMap&&(r.clearcoatNormalScale.value.copy(n.clearcoatNormalScale),r.clearcoatNormalMap.value=n.clearcoatNormalMap,n.side===oe&&r.clearcoatNormalScale.value.negate()),r.transmission.value=n.transmission,n.transmissionMap&&(r.transmissionMap.value=n.transmissionMap)}(r,n,a):refreshUniformsStandard(r,n,a)):n.isMeshMatcapMaterial?(refreshUniformsCommon(r,n),function refreshUniformsMatcap(r,n){n.matcap&&(r.matcap.value=n.matcap),n.bumpMap&&(r.bumpMap.value=n.bumpMap,r.bumpScale.value=n.bumpScale,n.side===oe&&(r.bumpScale.value*=-1)),n.normalMap&&(r.normalMap.value=n.normalMap,r.normalScale.value.copy(n.normalScale),n.side===oe&&r.normalScale.value.negate()),n.displacementMap&&(r.displacementMap.value=n.displacementMap,r.displacementScale.value=n.displacementScale,r.displacementBias.value=n.displacementBias)}(r,n)):n.isMeshDepthMaterial?(refreshUniformsCommon(r,n),function refreshUniformsDepth(r,n){n.displacementMap&&(r.displacementMap.value=n.displacementMap,r.displacementScale.value=n.displacementScale,r.displacementBias.value=n.displacementBias)}(r,n)):n.isMeshDistanceMaterial?(refreshUniformsCommon(r,n),function refreshUniformsDistance(r,n){n.displacementMap&&(r.displacementMap.value=n.displacementMap,r.displacementScale.value=n.displacementScale,r.displacementBias.value=n.displacementBias),r.referencePosition.value.copy(n.referencePosition),r.nearDistance.value=n.nearDistance,r.farDistance.value=n.farDistance}(r,n)):n.isMeshNormalMaterial?(refreshUniformsCommon(r,n),function refreshUniformsNormal(r,n){n.bumpMap&&(r.bumpMap.value=n.bumpMap,r.bumpScale.value=n.bumpScale,n.side===oe&&(r.bumpScale.value*=-1)),n.normalMap&&(r.normalMap.value=n.normalMap,r.normalScale.value.copy(n.normalScale),n.side===oe&&r.normalScale.value.negate()),n.displacementMap&&(r.displacementMap.value=n.displacementMap,r.displacementScale.value=n.displacementScale,r.displacementBias.value=n.displacementBias)}(r,n)):n.isLineBasicMaterial?(function refreshUniformsLine(r,n){r.diffuse.value.copy(n.color),r.opacity.value=n.opacity}(r,n),n.isLineDashedMaterial&&function refreshUniformsDash(r,n){r.dashSize.value=n.dashSize,r.totalSize.value=n.dashSize+n.gapSize,r.scale.value=n.scale}(r,n)):n.isPointsMaterial?function refreshUniformsPoints(r,n,a,i){let o;r.diffuse.value.copy(n.color),r.opacity.value=n.opacity,r.size.value=n.size*a,r.scale.value=.5*i,n.map&&(r.map.value=n.map),n.alphaMap&&(r.alphaMap.value=n.alphaMap),n.map?o=n.map:n.alphaMap&&(o=n.alphaMap),void 0!==o&&(!0===o.matrixAutoUpdate&&o.updateMatrix(),r.uvTransform.value.copy(o.matrix))}(r,n,i,o):n.isSpriteMaterial?function refreshUniformsSprites(r,n){let a;r.diffuse.value.copy(n.color),r.opacity.value=n.opacity,r.rotation.value=n.rotation,n.map&&(r.map.value=n.map),n.alphaMap&&(r.alphaMap.value=n.alphaMap),n.map?a=n.map:n.alphaMap&&(a=n.alphaMap),void 0!==a&&(!0===a.matrixAutoUpdate&&a.updateMatrix(),r.uvTransform.value.copy(a.matrix))}(r,n):n.isShadowMaterial?(r.color.value.copy(n.color),r.opacity.value=n.opacity):n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)}}}function WebGLRenderer(r){const n=void 0!==(r=r||{}).canvas?r.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),a=void 0!==r.context?r.context:null,i=void 0!==r.alpha&&r.alpha,o=void 0===r.depth||r.depth,s=void 0===r.stencil||r.stencil,y=void 0!==r.antialias&&r.antialias,_=void 0===r.premultipliedAlpha||r.premultipliedAlpha,w=void 0!==r.preserveDrawingBuffer&&r.preserveDrawingBuffer,E=void 0!==r.powerPreference?r.powerPreference:"default",j=void 0!==r.failIfMajorPerformanceCaveat&&r.failIfMajorPerformanceCaveat;let q=null,$=null;this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=pn,this.physicallyCorrectLights=!1,this.toneMapping=ct,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const ne=this;let ie=!1,oe=null,se=0,le=0,pe=null,he=null,me=-1,ge=null,ye=null;const _e=new Vector4,ve=new Vector4;let Se=null,we=n.width,Me=n.height,Te=1,Ae=null,ke=null;const Re=new Vector4(0,0,we,Me),Oe=new Vector4(0,0,we,Me);let Ne=!1;const Fe=new Frustum,je=new WebGLClipping;let Be=!1,Ue=!1;const Ve=new Matrix4,We=new Vector3,Ye={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function getTargetPixelRatio(){return null===pe?Te:1}let Xe,$e,et,tt,rt,nt,at,it,ot,st,lt,pt,ut,dt,ht,ft,mt,gt,yt,_t=a;function getContext(r,a){for(let i=0;i<r.length;i++){const o=r[i],s=n.getContext(o,a);if(null!==s)return s}return null}try{const r={alpha:i,depth:o,stencil:s,antialias:y,premultipliedAlpha:_,preserveDrawingBuffer:w,powerPreference:E,failIfMajorPerformanceCaveat:j};if(n.addEventListener("webglcontextlost",onContextLost,!1),n.addEventListener("webglcontextrestored",onContextRestore,!1),null===_t){const n=["webgl2","webgl","experimental-webgl"];if(!0===ne.isWebGL1Renderer&&n.shift(),_t=getContext(n,r),null===_t)throw getContext(n)?Error("Error creating WebGL context with your selected attributes."):Error("Error creating WebGL context.")}void 0===_t.getShaderPrecisionFormat&&(_t.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(r){throw console.error("THREE.WebGLRenderer: "+r.message),r}function initGLContext(){Xe=new WebGLExtensions(_t),$e=new WebGLCapabilities(_t,Xe,r),!1===$e.isWebGL2&&(Xe.get("WEBGL_depth_texture"),Xe.get("OES_texture_float"),Xe.get("OES_texture_half_float"),Xe.get("OES_texture_half_float_linear"),Xe.get("OES_standard_derivatives"),Xe.get("OES_element_index_uint"),Xe.get("OES_vertex_array_object"),Xe.get("ANGLE_instanced_arrays")),Xe.get("OES_texture_float_linear"),gt=new WebGLUtils(_t,Xe,$e),et=new WebGLState(_t,Xe,$e),et.scissor(ve.copy(Oe).multiplyScalar(Te).floor()),et.viewport(_e.copy(Re).multiplyScalar(Te).floor()),tt=new WebGLInfo(_t),rt=new WebGLProperties,nt=new WebGLTextures(_t,Xe,et,rt,$e,gt,tt),at=new WebGLAttributes(_t,$e),yt=new WebGLBindingStates(_t,Xe,at,$e),it=new WebGLGeometries(_t,at,tt,yt),ot=new WebGLObjects(_t,it,at,tt),ht=new WebGLMorphtargets(_t),st=new WebGLPrograms(ne,Xe,$e,yt),lt=new WebGLMaterials(rt),pt=new WebGLRenderLists(rt),ut=new WebGLRenderStates,dt=new WebGLBackground(ne,et,ot,_),ft=new WebGLBufferRenderer(_t,Xe,tt,$e),mt=new WebGLIndexedBufferRenderer(_t,Xe,tt,$e),tt.programs=st.programs,ne.capabilities=$e,ne.extensions=Xe,ne.properties=rt,ne.renderLists=pt,ne.state=et,ne.info=tt}initGLContext();const vt=new WebXRManager(ne,_t);this.xr=vt;const bt=new WebGLShadowMap(ne,ot,$e.maxTextureSize);function onContextLost(r){r.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),ie=!0}function onContextRestore(){console.log("THREE.WebGLRenderer: Context Restored."),ie=!1,initGLContext()}function onMaterialDispose(r){const n=r.target;n.removeEventListener("dispose",onMaterialDispose),function deallocateMaterial(r){releaseMaterialProgramReference(r),rt.remove(r)}(n)}function releaseMaterialProgramReference(r){const n=rt.get(r).program;void 0!==n&&st.releaseProgram(n)}this.shadowMap=bt,this.getContext=function(){return _t},this.getContextAttributes=function(){return _t.getContextAttributes()},this.forceContextLoss=function(){const r=Xe.get("WEBGL_lose_context");r&&r.loseContext()},this.forceContextRestore=function(){const r=Xe.get("WEBGL_lose_context");r&&r.restoreContext()},this.getPixelRatio=function(){return Te},this.setPixelRatio=function(r){void 0!==r&&(Te=r,this.setSize(we,Me,!1))},this.getSize=function(r){return void 0===r&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),r=new Vector2),r.set(we,Me)},this.setSize=function(r,a,i){vt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(we=r,Me=a,n.width=Math.floor(r*Te),n.height=Math.floor(a*Te),!1!==i&&(n.style.width=r+"px",n.style.height=a+"px"),this.setViewport(0,0,r,a))},this.getDrawingBufferSize=function(r){return void 0===r&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),r=new Vector2),r.set(we*Te,Me*Te).floor()},this.setDrawingBufferSize=function(r,a,i){we=r,Me=a,Te=i,n.width=Math.floor(r*i),n.height=Math.floor(a*i),this.setViewport(0,0,r,a)},this.getCurrentViewport=function(r){return void 0===r&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),r=new Vector4),r.copy(_e)},this.getViewport=function(r){return r.copy(Re)},this.setViewport=function(r,n,a,i){r.isVector4?Re.set(r.x,r.y,r.z,r.w):Re.set(r,n,a,i),et.viewport(_e.copy(Re).multiplyScalar(Te).floor())},this.getScissor=function(r){return r.copy(Oe)},this.setScissor=function(r,n,a,i){r.isVector4?Oe.set(r.x,r.y,r.z,r.w):Oe.set(r,n,a,i),et.scissor(ve.copy(Oe).multiplyScalar(Te).floor())},this.getScissorTest=function(){return Ne},this.setScissorTest=function(r){et.setScissorTest(Ne=r)},this.setOpaqueSort=function(r){Ae=r},this.setTransparentSort=function(r){ke=r},this.getClearColor=function(){return dt.getClearColor()},this.setClearColor=function(){dt.setClearColor.apply(dt,arguments)},this.getClearAlpha=function(){return dt.getClearAlpha()},this.setClearAlpha=function(){dt.setClearAlpha.apply(dt,arguments)},this.clear=function(r,n,a){let i=0;(void 0===r||r)&&(i|=16384),(void 0===n||n)&&(i|=256),(void 0===a||a)&&(i|=1024),_t.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",onContextLost,!1),n.removeEventListener("webglcontextrestored",onContextRestore,!1),pt.dispose(),ut.dispose(),rt.dispose(),ot.dispose(),yt.dispose(),vt.dispose(),St.stop()},this.renderBufferImmediate=function(r,n){yt.initAttributes();const a=rt.get(r);r.hasPositions&&!a.position&&(a.position=_t.createBuffer()),r.hasNormals&&!a.normal&&(a.normal=_t.createBuffer()),r.hasUvs&&!a.uv&&(a.uv=_t.createBuffer()),r.hasColors&&!a.color&&(a.color=_t.createBuffer());const i=n.getAttributes();r.hasPositions&&(_t.bindBuffer(34962,a.position),_t.bufferData(34962,r.positionArray,35048),yt.enableAttribute(i.position),_t.vertexAttribPointer(i.position,3,5126,!1,0,0)),r.hasNormals&&(_t.bindBuffer(34962,a.normal),_t.bufferData(34962,r.normalArray,35048),yt.enableAttribute(i.normal),_t.vertexAttribPointer(i.normal,3,5126,!1,0,0)),r.hasUvs&&(_t.bindBuffer(34962,a.uv),_t.bufferData(34962,r.uvArray,35048),yt.enableAttribute(i.uv),_t.vertexAttribPointer(i.uv,2,5126,!1,0,0)),r.hasColors&&(_t.bindBuffer(34962,a.color),_t.bufferData(34962,r.colorArray,35048),yt.enableAttribute(i.color),_t.vertexAttribPointer(i.color,3,5126,!1,0,0)),yt.disableUnusedAttributes(),_t.drawArrays(4,0,r.count),r.count=0},this.renderBufferDirect=function(r,n,a,i,o,s){null===n&&(n=Ye);const y=o.isMesh&&o.matrixWorld.determinant()<0,_=setProgram(r,n,i,o);et.setMaterial(i,y);let w=a.index;const E=a.attributes.position;if(null===w){if(void 0===E||0===E.count)return}else if(0===w.count)return;let j,q=1;!0===i.wireframe&&(w=it.getWireframeAttribute(a),q=2),(i.morphTargets||i.morphNormals)&&ht.update(o,a,i,_),yt.setup(o,i,_,a,w);let $=ft;null!==w&&(j=at.get(w),$=mt,$.setIndex(j));const ne=null!==w?w.count:E.count,ie=a.drawRange.start*q,oe=a.drawRange.count*q,se=null!==s?s.start*q:0,le=null!==s?s.count*q:1/0,pe=Math.max(ie,se),he=Math.max(0,Math.min(ne,ie+oe,se+le)-1-pe+1);if(0!==he){if(o.isMesh)!0===i.wireframe?(et.setLineWidth(i.wireframeLinewidth*getTargetPixelRatio()),$.setMode(1)):$.setMode(4);else if(o.isLine){let r=i.linewidth;void 0===r&&(r=1),et.setLineWidth(r*getTargetPixelRatio()),o.isLineSegments?$.setMode(1):o.isLineLoop?$.setMode(2):$.setMode(3)}else o.isPoints?$.setMode(0):o.isSprite&&$.setMode(4);if(o.isInstancedMesh)$.renderInstances(pe,he,o.count);else if(a.isInstancedBufferGeometry){const r=Math.min(a.instanceCount,a._maxInstanceCount);$.renderInstances(pe,he,r)}else $.render(pe,he)}},this.compile=function(r,n){$=ut.get(r,n),$.init(),r.traverse((function(r){r.isLight&&($.pushLight(r),r.castShadow&&$.pushShadow(r))})),$.setupLights(n);const a=new WeakMap;r.traverse((function(n){let i=n.material;if(i)if(Array.isArray(i))for(let o=0;o<i.length;o++){let s=i[o];!1===a.has(s)&&(initMaterial(s,r,n),a.set(s))}else!1===a.has(i)&&(initMaterial(i,r,n),a.set(i))}))};let xt=null;const St=new WebGLAnimation;function projectObject(r,n,a,i){if(!1===r.visible)return;if(r.layers.test(n.layers))if(r.isGroup)a=r.renderOrder;else if(r.isLOD)!0===r.autoUpdate&&r.update(n);else if(r.isLight)$.pushLight(r),r.castShadow&&$.pushShadow(r);else if(r.isSprite){if(!r.frustumCulled||Fe.intersectsSprite(r)){i&&We.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Ve);const n=ot.update(r),o=r.material;o.visible&&q.push(r,n,o,a,We.z,null)}}else if(r.isImmediateRenderObject)i&&We.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Ve),q.push(r,null,r.material,a,We.z,null);else if((r.isMesh||r.isLine||r.isPoints)&&(r.isSkinnedMesh&&r.skeleton.frame!==tt.render.frame&&(r.skeleton.update(),r.skeleton.frame=tt.render.frame),!r.frustumCulled||Fe.intersectsObject(r))){i&&We.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Ve);const n=ot.update(r),o=r.material;if(Array.isArray(o)){const i=n.groups;for(let s=0,y=i.length;s<y;s++){const y=i[s],_=o[y.materialIndex];_&&_.visible&&q.push(r,n,_,a,We.z,y)}}else o.visible&&q.push(r,n,o,a,We.z,null)}const o=r.children;for(let r=0,s=o.length;r<s;r++)projectObject(o[r],n,a,i)}function renderObjects(r,n,a){const i=!0===n.isScene?n.overrideMaterial:null;for(let o=0,s=r.length;o<s;o++){const s=r[o],y=s.object,_=s.geometry,w=null===i?s.material:i,E=s.group;if(a.isArrayCamera){ye=a;const r=a.cameras;for(let a=0,i=r.length;a<i;a++){const i=r[a];y.layers.test(i.layers)&&(et.viewport(_e.copy(i.viewport)),$.setupLights(i),renderObject(y,n,i,_,w,E))}}else ye=null,renderObject(y,n,a,_,w,E)}}function renderObject(r,n,a,i,o,s){if(r.onBeforeRender(ne,n,a,i,o,s),$=ut.get(n,ye||a),r.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,r.matrixWorld),r.normalMatrix.getNormalMatrix(r.modelViewMatrix),r.isImmediateRenderObject){const i=setProgram(a,n,o,r);et.setMaterial(o),yt.reset(),function renderObjectImmediate(r,n){r.render((function(r){ne.renderBufferImmediate(r,n)}))}(r,i)}else ne.renderBufferDirect(a,n,i,o,r,s);r.onAfterRender(ne,n,a,i,o,s),$=ut.get(n,ye||a)}function initMaterial(r,n,a){!0!==n.isScene&&(n=Ye);const i=rt.get(r),o=$.state.lights,s=$.state.shadowsArray,y=o.state.version,_=st.getParameters(r,o.state,s,n,je.numPlanes,je.numIntersection,a),w=st.getProgramCacheKey(_);let E=i.program,j=!0;if(void 0===E)r.addEventListener("dispose",onMaterialDispose);else if(E.cacheKey!==w)releaseMaterialProgramReference(r);else if(i.lightsStateVersion!==y)i.lightsStateVersion=y,j=!1;else{if(void 0!==_.shaderID)return;j=!1}j&&(_.uniforms=st.getUniforms(r,_),r.onBeforeCompile(_,ne),E=st.acquireProgram(_,w),i.program=E,i.uniforms=_.uniforms,i.outputEncoding=_.outputEncoding);const q=E.getAttributes();if(r.morphTargets){r.numSupportedMorphTargets=0;for(let n=0;n<ne.maxMorphTargets;n++)q["morphTarget"+n]>=0&&r.numSupportedMorphTargets++}if(r.morphNormals){r.numSupportedMorphNormals=0;for(let n=0;n<ne.maxMorphNormals;n++)q["morphNormal"+n]>=0&&r.numSupportedMorphNormals++}const ie=i.uniforms;(r.isShaderMaterial||r.isRawShaderMaterial)&&!0!==r.clipping||(i.numClippingPlanes=je.numPlanes,i.numIntersection=je.numIntersection,ie.clippingPlanes=je.uniform),i.environment=r.isMeshStandardMaterial?n.environment:null,i.fog=n.fog,i.needsLights=function materialNeedsLights(r){return r.isMeshLambertMaterial||r.isMeshToonMaterial||r.isMeshPhongMaterial||r.isMeshStandardMaterial||r.isShadowMaterial||r.isShaderMaterial&&!0===r.lights}(r),i.lightsStateVersion=y,i.needsLights&&(ie.ambientLightColor.value=o.state.ambient,ie.lightProbe.value=o.state.probe,ie.directionalLights.value=o.state.directional,ie.directionalLightShadows.value=o.state.directionalShadow,ie.spotLights.value=o.state.spot,ie.spotLightShadows.value=o.state.spotShadow,ie.rectAreaLights.value=o.state.rectArea,ie.pointLights.value=o.state.point,ie.pointLightShadows.value=o.state.pointShadow,ie.hemisphereLights.value=o.state.hemi,ie.directionalShadowMap.value=o.state.directionalShadowMap,ie.directionalShadowMatrix.value=o.state.directionalShadowMatrix,ie.spotShadowMap.value=o.state.spotShadowMap,ie.spotShadowMatrix.value=o.state.spotShadowMatrix,ie.pointShadowMap.value=o.state.pointShadowMap,ie.pointShadowMatrix.value=o.state.pointShadowMatrix);const oe=i.program.getUniforms(),se=WebGLUniforms.seqWithValue(oe.seq,ie);i.uniformsList=se}function setProgram(r,n,a,i){!0!==n.isScene&&(n=Ye),nt.resetTextureUnits();const o=n.fog,s=a.isMeshStandardMaterial?n.environment:null,y=null===pe?ne.outputEncoding:pe.texture.encoding,_=rt.get(a),w=$.state.lights;if(!0===Be&&(!0===Ue||r!==ge)){const n=r===ge&&a.id===me;je.setState(a.clippingPlanes,a.clipIntersection,a.clipShadows,r,_,n)}a.version===_.__version?void 0===_.program||a.fog&&_.fog!==o||_.environment!==s||_.needsLights&&_.lightsStateVersion!==w.state.version?initMaterial(a,n,i):void 0===_.numClippingPlanes||_.numClippingPlanes===je.numPlanes&&_.numIntersection===je.numIntersection?_.outputEncoding!==y&&initMaterial(a,n,i):initMaterial(a,n,i):(initMaterial(a,n,i),_.__version=a.version);let E=!1,j=!1,q=!1;const ie=_.program,oe=ie.getUniforms(),se=_.uniforms;if(et.useProgram(ie.program)&&(E=!0,j=!0,q=!0),a.id!==me&&(me=a.id,j=!0),E||ge!==r){if(oe.setValue(_t,"projectionMatrix",r.projectionMatrix),$e.logarithmicDepthBuffer&&oe.setValue(_t,"logDepthBufFC",2/(Math.log(r.far+1)/Math.LN2)),ge!==r&&(ge=r,j=!0,q=!0),a.isShaderMaterial||a.isMeshPhongMaterial||a.isMeshToonMaterial||a.isMeshStandardMaterial||a.envMap){const n=oe.map.cameraPosition;void 0!==n&&n.setValue(_t,We.setFromMatrixPosition(r.matrixWorld))}(a.isMeshPhongMaterial||a.isMeshToonMaterial||a.isMeshLambertMaterial||a.isMeshBasicMaterial||a.isMeshStandardMaterial||a.isShaderMaterial)&&oe.setValue(_t,"isOrthographic",!0===r.isOrthographicCamera),(a.isMeshPhongMaterial||a.isMeshToonMaterial||a.isMeshLambertMaterial||a.isMeshBasicMaterial||a.isMeshStandardMaterial||a.isShaderMaterial||a.isShadowMaterial||a.skinning)&&oe.setValue(_t,"viewMatrix",r.matrixWorldInverse)}if(a.skinning){oe.setOptional(_t,i,"bindMatrix"),oe.setOptional(_t,i,"bindMatrixInverse");const r=i.skeleton;if(r){const n=r.bones;if($e.floatVertexTextures){if(void 0===r.boneTexture){let a=Math.sqrt(4*n.length);a=Kn.ceilPowerOfTwo(a),a=Math.max(a,4);const i=new Float32Array(a*a*4);i.set(r.boneMatrices);const o=new DataTexture(i,a,a,$t,Gt);r.boneMatrices=i,r.boneTexture=o,r.boneTextureSize=a}oe.setValue(_t,"boneTexture",r.boneTexture,nt),oe.setValue(_t,"boneTextureSize",r.boneTextureSize)}else oe.setOptional(_t,r,"boneMatrices")}}return(j||_.receiveShadow!==i.receiveShadow)&&(_.receiveShadow=i.receiveShadow,oe.setValue(_t,"receiveShadow",i.receiveShadow)),j&&(oe.setValue(_t,"toneMappingExposure",ne.toneMappingExposure),_.needsLights&&function markUniformsLightsNeedsUpdate(r,n){r.ambientLightColor.needsUpdate=n,r.lightProbe.needsUpdate=n,r.directionalLights.needsUpdate=n,r.directionalLightShadows.needsUpdate=n,r.pointLights.needsUpdate=n,r.pointLightShadows.needsUpdate=n,r.spotLights.needsUpdate=n,r.spotLightShadows.needsUpdate=n,r.rectAreaLights.needsUpdate=n,r.hemisphereLights.needsUpdate=n}(se,q),o&&a.fog&&lt.refreshFogUniforms(se,o),lt.refreshMaterialUniforms(se,a,s,Te,Me),void 0!==se.ltc_1&&(se.ltc_1.value=$o.LTC_1),void 0!==se.ltc_2&&(se.ltc_2.value=$o.LTC_2),WebGLUniforms.upload(_t,_.uniformsList,se,nt)),a.isShaderMaterial&&!0===a.uniformsNeedUpdate&&(WebGLUniforms.upload(_t,_.uniformsList,se,nt),a.uniformsNeedUpdate=!1),a.isSpriteMaterial&&oe.setValue(_t,"center",i.center),oe.setValue(_t,"modelViewMatrix",i.modelViewMatrix),oe.setValue(_t,"normalMatrix",i.normalMatrix),oe.setValue(_t,"modelMatrix",i.matrixWorld),ie}St.setAnimationLoop((function onAnimationFrame(r){vt.isPresenting||xt&&xt(r)})),"undefined"!=typeof window&&St.setContext(window),this.setAnimationLoop=function(r){xt=r,vt.setAnimationLoop(r),null===r?St.stop():St.start()},this.render=function(r,n){let a,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),a=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),void 0!==n&&!0!==n.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===ie)return;yt.resetDefaultState(),me=-1,ge=null,!0===r.autoUpdate&&r.updateMatrixWorld(),null===n.parent&&n.updateMatrixWorld(),!0===vt.enabled&&!0===vt.isPresenting&&(n=vt.getCamera(n)),!0===r.isScene&&r.onBeforeRender(ne,r,n,a||pe),$=ut.get(r,n),$.init(),Ve.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),Fe.setFromProjectionMatrix(Ve),Ue=this.localClippingEnabled,Be=je.init(this.clippingPlanes,Ue,n),q=pt.get(r,n),q.init(),projectObject(r,n,0,ne.sortObjects),q.finish(),!0===ne.sortObjects&&q.sort(Ae,ke),!0===Be&&je.beginShadows();const o=$.state.shadowsArray;bt.render(o,r,n),$.setupLights(n),!0===Be&&je.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==a&&this.setRenderTarget(a),dt.render(q,r,n,i);const s=q.opaque,y=q.transparent;s.length>0&&renderObjects(s,r,n),y.length>0&&renderObjects(y,r,n),!0===r.isScene&&r.onAfterRender(ne,r,n),null!==pe&&(nt.updateRenderTargetMipmap(pe),nt.updateMultisampleRenderTarget(pe)),et.buffers.depth.setTest(!0),et.buffers.depth.setMask(!0),et.buffers.color.setMask(!0),et.setPolygonOffset(!1),q=null,$=null},this.setFramebuffer=function(r){oe!==r&&null===pe&&_t.bindFramebuffer(36160,r),oe=r},this.getActiveCubeFace=function(){return se},this.getActiveMipmapLevel=function(){return le},this.getRenderTarget=function(){return pe},this.setRenderTarget=function(r,n,a){pe=r,se=n,le=a,r&&void 0===rt.get(r).__webglFramebuffer&&nt.setupRenderTarget(r);let i=oe,o=!1;if(r){const a=rt.get(r).__webglFramebuffer;r.isWebGLCubeRenderTarget?(i=a[n||0],o=!0):i=r.isWebGLMultisampleRenderTarget?rt.get(r).__webglMultisampledFramebuffer:a,_e.copy(r.viewport),ve.copy(r.scissor),Se=r.scissorTest}else _e.copy(Re).multiplyScalar(Te).floor(),ve.copy(Oe).multiplyScalar(Te).floor(),Se=Ne;if(he!==i&&(_t.bindFramebuffer(36160,i),he=i),et.viewport(_e),et.scissor(ve),et.setScissorTest(Se),o){const i=rt.get(r.texture);_t.framebufferTexture2D(36160,36064,34069+(n||0),i.__webglTexture,a||0)}},this.readRenderTargetPixels=function(r,n,a,i,o,s,y){if(!r||!r.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let _=rt.get(r).__webglFramebuffer;if(r.isWebGLCubeRenderTarget&&void 0!==y&&(_=_[y]),_){let y=!1;_!==he&&(_t.bindFramebuffer(36160,_),y=!0);try{const _=r.texture,w=_.format,E=_.type;if(w!==$t&&gt.convert(w)!==_t.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(E===It||gt.convert(E)===_t.getParameter(35738)||E===Gt&&($e.isWebGL2||Xe.get("OES_texture_float")||Xe.get("WEBGL_color_buffer_float"))||E===Ut&&($e.isWebGL2?Xe.get("EXT_color_buffer_float"):Xe.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===_t.checkFramebufferStatus(36160)?n>=0&&n<=r.width-i&&a>=0&&a<=r.height-o&&_t.readPixels(n,a,i,o,gt.convert(w),gt.convert(E),s):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{y&&_t.bindFramebuffer(36160,he)}}},this.copyFramebufferToTexture=function(r,n,a){void 0===a&&(a=0);const i=Math.pow(2,-a),o=Math.floor(n.image.width*i),s=Math.floor(n.image.height*i),y=gt.convert(n.format);nt.setTexture2D(n,0),_t.copyTexImage2D(3553,a,y,r.x,r.y,o,s,0),et.unbindTexture()},this.copyTextureToTexture=function(r,n,a,i){void 0===i&&(i=0);const o=n.image.width,s=n.image.height,y=gt.convert(a.format),_=gt.convert(a.type);nt.setTexture2D(a,0),_t.pixelStorei(37440,a.flipY),_t.pixelStorei(37441,a.premultiplyAlpha),_t.pixelStorei(3317,a.unpackAlignment),n.isDataTexture?_t.texSubImage2D(3553,i,r.x,r.y,o,s,y,_,n.image.data):n.isCompressedTexture?_t.compressedTexSubImage2D(3553,i,r.x,r.y,n.mipmaps[0].width,n.mipmaps[0].height,y,n.mipmaps[0].data):_t.texSubImage2D(3553,i,r.x,r.y,y,_,n.image),0===i&&a.generateMipmaps&&_t.generateMipmap(3553),et.unbindTexture()},this.initTexture=function(r){nt.setTexture2D(r,0),et.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function WebGL1Renderer(r){WebGLRenderer.call(this,r)}function FogExp2(r,n){this.name="",this.color=new Color(r),this.density=void 0!==n?n:25e-5}function Fog(r,n,a){this.name="",this.color=new Color(r),this.near=void 0!==n?n:1,this.far=void 0!==a?a:1e3}function InterleavedBuffer(r,n){this.array=r,this.stride=n,this.count=void 0!==r?r.length/n:0,this.usage=Bn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Kn.generateUUID()}MeshDepthMaterial.prototype=Object.create(Material.prototype),MeshDepthMaterial.prototype.constructor=MeshDepthMaterial,MeshDepthMaterial.prototype.isMeshDepthMaterial=!0,MeshDepthMaterial.prototype.copy=function(r){return Material.prototype.copy.call(this,r),this.depthPacking=r.depthPacking,this.skinning=r.skinning,this.morphTargets=r.morphTargets,this.map=r.map,this.alphaMap=r.alphaMap,this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this},MeshDistanceMaterial.prototype=Object.create(Material.prototype),MeshDistanceMaterial.prototype.constructor=MeshDistanceMaterial,MeshDistanceMaterial.prototype.isMeshDistanceMaterial=!0,MeshDistanceMaterial.prototype.copy=function(r){return Material.prototype.copy.call(this,r),this.referencePosition.copy(r.referencePosition),this.nearDistance=r.nearDistance,this.farDistance=r.farDistance,this.skinning=r.skinning,this.morphTargets=r.morphTargets,this.map=r.map,this.alphaMap=r.alphaMap,this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this},ArrayCamera.prototype=Object.assign(Object.create(PerspectiveCamera.prototype),{constructor:ArrayCamera,isArrayCamera:!0}),Group.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Group,isGroup:!0}),Object.assign(WebXRController.prototype,{constructor:WebXRController,getHandSpace(){if(null===this._hand&&(this._hand=new Group,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let r=0;r<=window.XRHand.LITTLE_PHALANX_TIP;r++){let r=new Group;r.matrixAutoUpdate=!1,r.visible=!1,this._hand.joints.push(r),this._hand.add(r)}return this._hand},getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Group,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace(){return null===this._grip&&(this._grip=new Group,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent(r){return null!==this._targetRay&&this._targetRay.dispatchEvent(r),null!==this._grip&&this._grip.dispatchEvent(r),null!==this._hand&&this._hand.dispatchEvent(r),this},disconnect(r){return this.dispatchEvent({type:"disconnected",data:r}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update(r,n,a){let i=null,o=null,s=null;const y=this._targetRay,_=this._grip,w=this._hand;if(r)if(r.hand){s=!0;for(let i=0;i<=window.XRHand.LITTLE_PHALANX_TIP;i++)if(r.hand[i]){let o=n.getJointPose(r.hand[i],a);const s=w.joints[i];null!==o&&(s.matrix.fromArray(o.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.jointRadius=o.radius),s.visible=null!==o;const y=w.joints[window.XRHand.INDEX_PHALANX_TIP],_=w.joints[window.XRHand.THUMB_PHALANX_TIP],E=y.position.distanceTo(_.position),j=.02,q=.005;w.inputState.pinching&&E>j+q?(w.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:r.handedness,target:this})):!w.inputState.pinching&&E<=j-q&&(w.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:r.handedness,target:this}))}}else null!==y&&(i=n.getPose(r.targetRaySpace,a),null!==i&&(y.matrix.fromArray(i.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale))),null!==_&&r.gripSpace&&(o=n.getPose(r.gripSpace,a),null!==o&&(_.matrix.fromArray(o.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale)));return null!==y&&(y.visible=null!==i),null!==_&&(_.visible=null!==o),null!==w&&(w.visible=null!==s),this}}),Object.assign(WebXRManager.prototype,EventDispatcher.prototype),WebGL1Renderer.prototype=Object.assign(Object.create(WebGLRenderer.prototype),{constructor:WebGL1Renderer,isWebGL1Renderer:!0}),Object.assign(FogExp2.prototype,{isFogExp2:!0,clone(){return new FogExp2(this.color,this.density)},toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(Fog.prototype,{isFog:!0,clone(){return new Fog(this.color,this.near,this.far)},toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(InterleavedBuffer.prototype,"needsUpdate",{set(r){!0===r&&this.version++}}),Object.assign(InterleavedBuffer.prototype,{isInterleavedBuffer:!0,onUploadCallback(){},setUsage(r){return this.usage=r,this},copy(r){return this.array=new r.array.constructor(r.array),this.count=r.count,this.stride=r.stride,this.usage=r.usage,this},copyAt(r,n,a){r*=this.stride,a*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[r+i]=n.array[a+i];return this},set(r,n){return void 0===n&&(n=0),this.array.set(r,n),this},clone(r){void 0===r.arrayBuffers&&(r.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Kn.generateUUID()),void 0===r.arrayBuffers[this.array.buffer._uuid]&&(r.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new InterleavedBuffer(new this.array.constructor(r.arrayBuffers[this.array.buffer._uuid]),this.stride);return n.setUsage(this.usage),n},onUpload(r){return this.onUploadCallback=r,this},toJSON(r){return void 0===r.arrayBuffers&&(r.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Kn.generateUUID()),void 0===r.arrayBuffers[this.array.buffer._uuid]&&(r.arrayBuffers[this.array.buffer._uuid]=[].slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const hs=new Vector3;function InterleavedBufferAttribute(r,n,a,i){this.name="",this.data=r,this.itemSize=n,this.offset=a,this.normalized=!0===i}function SpriteMaterial(r){Material.call(this),this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(r)}let fs;Object.defineProperties(InterleavedBufferAttribute.prototype,{count:{get(){return this.data.count}},array:{get(){return this.data.array}},needsUpdate:{set(r){this.data.needsUpdate=r}}}),Object.assign(InterleavedBufferAttribute.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4(r){for(let n=0,a=this.data.count;n<a;n++)hs.x=this.getX(n),hs.y=this.getY(n),hs.z=this.getZ(n),hs.applyMatrix4(r),this.setXYZ(n,hs.x,hs.y,hs.z);return this},setX(r,n){return this.data.array[r*this.data.stride+this.offset]=n,this},setY(r,n){return this.data.array[r*this.data.stride+this.offset+1]=n,this},setZ(r,n){return this.data.array[r*this.data.stride+this.offset+2]=n,this},setW(r,n){return this.data.array[r*this.data.stride+this.offset+3]=n,this},getX(r){return this.data.array[r*this.data.stride+this.offset]},getY(r){return this.data.array[r*this.data.stride+this.offset+1]},getZ(r){return this.data.array[r*this.data.stride+this.offset+2]},getW(r){return this.data.array[r*this.data.stride+this.offset+3]},setXY(r,n,a){return r=r*this.data.stride+this.offset,this.data.array[r+0]=n,this.data.array[r+1]=a,this},setXYZ(r,n,a,i){return r=r*this.data.stride+this.offset,this.data.array[r+0]=n,this.data.array[r+1]=a,this.data.array[r+2]=i,this},setXYZW(r,n,a,i,o){return r=r*this.data.stride+this.offset,this.data.array[r+0]=n,this.data.array[r+1]=a,this.data.array[r+2]=i,this.data.array[r+3]=o,this},clone(r){if(void 0===r){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const r=[];for(let n=0;n<this.count;n++){const a=n*this.data.stride+this.offset;for(let n=0;n<this.itemSize;n++)r.push(this.data.array[a+n])}return new BufferAttribute(new this.array.constructor(r),this.itemSize,this.normalized)}return void 0===r.interleavedBuffers&&(r.interleavedBuffers={}),void 0===r.interleavedBuffers[this.data.uuid]&&(r.interleavedBuffers[this.data.uuid]=this.data.clone(r)),new InterleavedBufferAttribute(r.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON(r){if(void 0===r){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const r=[];for(let n=0;n<this.count;n++){const a=n*this.data.stride+this.offset;for(let n=0;n<this.itemSize;n++)r.push(this.data.array[a+n])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:r,normalized:this.normalized}}return void 0===r.interleavedBuffers&&(r.interleavedBuffers={}),void 0===r.interleavedBuffers[this.data.uuid]&&(r.interleavedBuffers[this.data.uuid]=this.data.toJSON(r)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),SpriteMaterial.prototype=Object.create(Material.prototype),SpriteMaterial.prototype.constructor=SpriteMaterial,SpriteMaterial.prototype.isSpriteMaterial=!0,SpriteMaterial.prototype.copy=function(r){return Material.prototype.copy.call(this,r),this.color.copy(r.color),this.map=r.map,this.alphaMap=r.alphaMap,this.rotation=r.rotation,this.sizeAttenuation=r.sizeAttenuation,this};const ms=new Vector3,gs=new Vector3,ys=new Vector3,_s=new Vector2,vs=new Vector2,bs=new Matrix4,xs=new Vector3,Ss=new Vector3,Cs=new Vector3,ws=new Vector2,Ps=new Vector2,Ms=new Vector2;function Sprite(r){if(Object3D.call(this),this.type="Sprite",void 0===fs){fs=new BufferGeometry;const r=new InterleavedBuffer(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);fs.setIndex([0,1,2,0,2,3]),fs.setAttribute("position",new InterleavedBufferAttribute(r,3,0,!1)),fs.setAttribute("uv",new InterleavedBufferAttribute(r,2,3,!1))}this.geometry=fs,this.material=void 0!==r?r:new SpriteMaterial,this.center=new Vector2(.5,.5)}function transformVertex(r,n,a,i,o,s){_s.subVectors(r,a).addScalar(.5).multiply(i),void 0!==o?(vs.x=s*_s.x-o*_s.y,vs.y=o*_s.x+s*_s.y):vs.copy(_s),r.copy(n),r.x+=vs.x,r.y+=vs.y,r.applyMatrix4(bs)}Sprite.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Sprite,isSprite:!0,raycast(r,n){null===r.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),gs.setFromMatrixScale(this.matrixWorld),bs.copy(r.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(r.camera.matrixWorldInverse,this.matrixWorld),ys.setFromMatrixPosition(this.modelViewMatrix),r.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&gs.multiplyScalar(-ys.z);const a=this.material.rotation;let i,o;0!==a&&(o=Math.cos(a),i=Math.sin(a));const s=this.center;transformVertex(xs.set(-.5,-.5,0),ys,s,gs,i,o),transformVertex(Ss.set(.5,-.5,0),ys,s,gs,i,o),transformVertex(Cs.set(.5,.5,0),ys,s,gs,i,o),ws.set(0,0),Ps.set(1,0),Ms.set(1,1);let y=r.ray.intersectTriangle(xs,Ss,Cs,!1,ms);if(null===y&&(transformVertex(Ss.set(-.5,.5,0),ys,s,gs,i,o),Ps.set(0,1),y=r.ray.intersectTriangle(xs,Cs,Ss,!1,ms),null===y))return;const _=r.ray.origin.distanceTo(ms);_<r.near||_>r.far||n.push({distance:_,point:ms.clone(),uv:Triangle.getUV(ms,xs,Ss,Cs,ws,Ps,Ms,new Vector2),face:null,object:this})},copy(r){return Object3D.prototype.copy.call(this,r),void 0!==r.center&&this.center.copy(r.center),this.material=r.material,this}});const Ts=new Vector3,Es=new Vector3;function LOD(){Object3D.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function SkinnedMesh(r,n){r&&r.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Mesh.call(this,r,n),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}LOD.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:LOD,isLOD:!0,copy(r){Object3D.prototype.copy.call(this,r,!1);const n=r.levels;for(let r=0,a=n.length;r<a;r++){const a=n[r];this.addLevel(a.object.clone(),a.distance)}return this.autoUpdate=r.autoUpdate,this},addLevel(r,n){void 0===n&&(n=0),n=Math.abs(n);const a=this.levels;let i;for(i=0;i<a.length&&!(n<a[i].distance);i++);return a.splice(i,0,{distance:n,object:r}),this.add(r),this},getCurrentLevel(){return this._currentLevel},getObjectForDistance(r){const n=this.levels;if(n.length>0){let a,i;for(a=1,i=n.length;a<i&&!(r<n[a].distance);a++);return n[a-1].object}return null},raycast(r,n){if(this.levels.length>0){Ts.setFromMatrixPosition(this.matrixWorld);const a=r.ray.origin.distanceTo(Ts);this.getObjectForDistance(a).raycast(r,n)}},update(r){const n=this.levels;if(n.length>1){Ts.setFromMatrixPosition(r.matrixWorld),Es.setFromMatrixPosition(this.matrixWorld);const a=Ts.distanceTo(Es)/r.zoom;let i,o;for(n[0].object.visible=!0,i=1,o=n.length;i<o&&a>=n[i].distance;i++)n[i-1].object.visible=!1,n[i].object.visible=!0;for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}},toJSON(r){const n=Object3D.prototype.toJSON.call(this,r);!1===this.autoUpdate&&(n.object.autoUpdate=!1),n.object.levels=[];const a=this.levels;for(let r=0,i=a.length;r<i;r++){const i=a[r];n.object.levels.push({object:i.object.uuid,distance:i.distance})}return n}}),SkinnedMesh.prototype=Object.assign(Object.create(Mesh.prototype),{constructor:SkinnedMesh,isSkinnedMesh:!0,copy(r){return Mesh.prototype.copy.call(this,r),this.bindMode=r.bindMode,this.bindMatrix.copy(r.bindMatrix),this.bindMatrixInverse.copy(r.bindMatrixInverse),this.skeleton=r.skeleton,this},bind(r,n){this.skeleton=r,void 0===n&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.getInverse(n)},pose(){this.skeleton.pose()},normalizeSkinWeights(){const r=new Vector4,n=this.geometry.attributes.skinWeight;for(let a=0,i=n.count;a<i;a++){r.x=n.getX(a),r.y=n.getY(a),r.z=n.getZ(a),r.w=n.getW(a);const i=1/r.manhattanLength();i!==1/0?r.multiplyScalar(i):r.set(1,0,0,0),n.setXYZW(a,r.x,r.y,r.z,r.w)}},updateMatrixWorld(r){Mesh.prototype.updateMatrixWorld.call(this,r),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const r=new Vector3,n=new Vector4,a=new Vector4,i=new Vector3,o=new Matrix4;return function(s,y){const _=this.skeleton,w=this.geometry;n.fromBufferAttribute(w.attributes.skinIndex,s),a.fromBufferAttribute(w.attributes.skinWeight,s),r.fromBufferAttribute(w.attributes.position,s).applyMatrix4(this.bindMatrix),y.set(0,0,0);for(let s=0;s<4;s++){const w=a.getComponent(s);if(0!==w){const a=n.getComponent(s);o.multiplyMatrices(_.bones[a].matrixWorld,_.boneInverses[a]),y.addScaledVector(i.copy(r).applyMatrix4(o),w)}}return y.applyMatrix4(this.bindMatrixInverse)}}()});const As=new Matrix4,ks=new Matrix4;function Skeleton(r,n){if(r=r||[],this.bones=r.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===n)this.calculateInverses();else if(this.bones.length===n.length)this.boneInverses=n.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(let r=0,n=this.bones.length;r<n;r++)this.boneInverses.push(new Matrix4)}}function Bone(){Object3D.call(this),this.type="Bone"}Object.assign(Skeleton.prototype,{calculateInverses(){this.boneInverses=[];for(let r=0,n=this.bones.length;r<n;r++){const n=new Matrix4;this.bones[r]&&n.getInverse(this.bones[r].matrixWorld),this.boneInverses.push(n)}},pose(){for(let r=0,n=this.bones.length;r<n;r++){const n=this.bones[r];n&&n.matrixWorld.getInverse(this.boneInverses[r])}for(let r=0,n=this.bones.length;r<n;r++){const n=this.bones[r];n&&(n.parent&&n.parent.isBone?(n.matrix.getInverse(n.parent.matrixWorld),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}},update(){const r=this.bones,n=this.boneInverses,a=this.boneMatrices,i=this.boneTexture;for(let i=0,o=r.length;i<o;i++){const o=r[i]?r[i].matrixWorld:ks;As.multiplyMatrices(o,n[i]),As.toArray(a,16*i)}void 0!==i&&(i.needsUpdate=!0)},clone(){return new Skeleton(this.bones,this.boneInverses)},getBoneByName(r){for(let n=0,a=this.bones.length;n<a;n++){const a=this.bones[n];if(a.name===r)return a}},dispose(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),Bone.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Bone,isBone:!0});const Rs=new Matrix4,Os=new Matrix4,Ns=[],Ls=new Mesh;function InstancedMesh(r,n,a){Mesh.call(this,r,n),this.instanceMatrix=new BufferAttribute(new Float32Array(16*a),16),this.count=a,this.frustumCulled=!1}function LineBasicMaterial(r){Material.call(this),this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(r)}InstancedMesh.prototype=Object.assign(Object.create(Mesh.prototype),{constructor:InstancedMesh,isInstancedMesh:!0,copy(r){return Mesh.prototype.copy.call(this,r),this.instanceMatrix.copy(r.instanceMatrix),this.count=r.count,this},getMatrixAt(r,n){n.fromArray(this.instanceMatrix.array,16*r)},raycast(r,n){const a=this.matrixWorld,i=this.count;if(Ls.geometry=this.geometry,Ls.material=this.material,void 0!==Ls.material)for(let o=0;o<i;o++){this.getMatrixAt(o,Rs),Os.multiplyMatrices(a,Rs),Ls.matrixWorld=Os,Ls.raycast(r,Ns);for(let r=0,a=Ns.length;r<a;r++){const a=Ns[r];a.instanceId=o,a.object=this,n.push(a)}Ns.length=0}},setMatrixAt(r,n){n.toArray(this.instanceMatrix.array,16*r)},updateMorphTargets(){}}),LineBasicMaterial.prototype=Object.create(Material.prototype),LineBasicMaterial.prototype.constructor=LineBasicMaterial,LineBasicMaterial.prototype.isLineBasicMaterial=!0,LineBasicMaterial.prototype.copy=function(r){return Material.prototype.copy.call(this,r),this.color.copy(r.color),this.linewidth=r.linewidth,this.linecap=r.linecap,this.linejoin=r.linejoin,this.morphTargets=r.morphTargets,this};const Is=new Vector3,Ds=new Vector3,Fs=new Matrix4,js=new Ray,Bs=new Sphere;function Line(r,n,a){1===a&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Object3D.call(this),this.type="Line",this.geometry=void 0!==r?r:new BufferGeometry,this.material=void 0!==n?n:new LineBasicMaterial,this.updateMorphTargets()}Line.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Line,isLine:!0,copy(r){return Object3D.prototype.copy.call(this,r),this.material=r.material,this.geometry=r.geometry,this},computeLineDistances(){const r=this.geometry;if(r.isBufferGeometry)if(null===r.index){const n=r.attributes.position,a=[0];for(let r=1,i=n.count;r<i;r++)Is.fromBufferAttribute(n,r-1),Ds.fromBufferAttribute(n,r),a[r]=a[r-1],a[r]+=Is.distanceTo(Ds);r.setAttribute("lineDistance",new Float32BufferAttribute(a,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(r.isGeometry){const n=r.vertices,a=r.lineDistances;a[0]=0;for(let r=1,i=n.length;r<i;r++)a[r]=a[r-1],a[r]+=n[r-1].distanceTo(n[r])}return this},raycast(r,n){const a=this.geometry,i=this.matrixWorld,o=r.params.Line.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),Bs.copy(a.boundingSphere),Bs.applyMatrix4(i),Bs.radius+=o,!1===r.ray.intersectsSphere(Bs))return;Fs.getInverse(i),js.copy(r.ray).applyMatrix4(Fs);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),y=s*s,_=new Vector3,w=new Vector3,E=new Vector3,j=new Vector3,q=this&&this.isLineSegments?2:1;if(a.isBufferGeometry){const i=a.index,o=a.attributes.position.array;if(null!==i){const a=i.array;for(let i=0,s=a.length-1;i<s;i+=q){const s=a[i],q=a[i+1];if(_.fromArray(o,3*s),w.fromArray(o,3*q),js.distanceSqToSegment(_,w,j,E)>y)continue;j.applyMatrix4(this.matrixWorld);const $=r.ray.origin.distanceTo(j);$<r.near||$>r.far||n.push({distance:$,point:E.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else for(let a=0,i=o.length/3-1;a<i;a+=q){if(_.fromArray(o,3*a),w.fromArray(o,3*a+3),js.distanceSqToSegment(_,w,j,E)>y)continue;j.applyMatrix4(this.matrixWorld);const i=r.ray.origin.distanceTo(j);i<r.near||i>r.far||n.push({distance:i,point:E.clone().applyMatrix4(this.matrixWorld),index:a,face:null,faceIndex:null,object:this})}}else if(a.isGeometry){const i=a.vertices,o=i.length;for(let a=0;a<o-1;a+=q){if(js.distanceSqToSegment(i[a],i[a+1],j,E)>y)continue;j.applyMatrix4(this.matrixWorld);const o=r.ray.origin.distanceTo(j);o<r.near||o>r.far||n.push({distance:o,point:E.clone().applyMatrix4(this.matrixWorld),index:a,face:null,faceIndex:null,object:this})}}},updateMorphTargets(){const r=this.geometry;if(r.isBufferGeometry){const n=r.morphAttributes,a=Object.keys(n);if(a.length>0){const r=n[a[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let n=0,a=r.length;n<a;n++){const a=r[n].name||n+"";this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=n}}}}else{const n=r.morphTargets;void 0!==n&&n.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const zs=new Vector3,Gs=new Vector3;function LineSegments(r,n){Line.call(this,r,n),this.type="LineSegments"}function LineLoop(r,n){Line.call(this,r,n),this.type="LineLoop"}function PointsMaterial(r){Material.call(this),this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(r)}LineSegments.prototype=Object.assign(Object.create(Line.prototype),{constructor:LineSegments,isLineSegments:!0,computeLineDistances(){const r=this.geometry;if(r.isBufferGeometry)if(null===r.index){const n=r.attributes.position,a=[];for(let r=0,i=n.count;r<i;r+=2)zs.fromBufferAttribute(n,r),Gs.fromBufferAttribute(n,r+1),a[r]=0===r?0:a[r-1],a[r+1]=a[r]+zs.distanceTo(Gs);r.setAttribute("lineDistance",new Float32BufferAttribute(a,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(r.isGeometry){const n=r.vertices,a=r.lineDistances;for(let r=0,i=n.length;r<i;r+=2)zs.copy(n[r]),Gs.copy(n[r+1]),a[r]=0===r?0:a[r-1],a[r+1]=a[r]+zs.distanceTo(Gs)}return this}}),LineLoop.prototype=Object.assign(Object.create(Line.prototype),{constructor:LineLoop,isLineLoop:!0}),PointsMaterial.prototype=Object.create(Material.prototype),PointsMaterial.prototype.constructor=PointsMaterial,PointsMaterial.prototype.isPointsMaterial=!0,PointsMaterial.prototype.copy=function(r){return Material.prototype.copy.call(this,r),this.color.copy(r.color),this.map=r.map,this.alphaMap=r.alphaMap,this.size=r.size,this.sizeAttenuation=r.sizeAttenuation,this.morphTargets=r.morphTargets,this};const Us=new Matrix4,Vs=new Ray,Ws=new Sphere,Hs=new Vector3;function Points(r,n){Object3D.call(this),this.type="Points",this.geometry=void 0!==r?r:new BufferGeometry,this.material=void 0!==n?n:new PointsMaterial,this.updateMorphTargets()}function testPoint(r,n,a,i,o,s,y){const _=Vs.distanceSqToPoint(r);if(_<a){const a=new Vector3;Vs.closestPointToPoint(r,a),a.applyMatrix4(i);const w=o.ray.origin.distanceTo(a);if(w<o.near||w>o.far)return;s.push({distance:w,distanceToRay:Math.sqrt(_),point:a,index:n,face:null,object:y})}}function VideoTexture(r,n,a,i,o,s,y,_,w){Texture.call(this,r,n,a,i,o,s,y,_,w),this.format=void 0!==y?y:Xt,this.minFilter=void 0!==s?s:kt,this.magFilter=void 0!==o?o:kt,this.generateMipmaps=!1;const E=this;"requestVideoFrameCallback"in r&&r.requestVideoFrameCallback((function updateVideo(){E.needsUpdate=!0,r.requestVideoFrameCallback(updateVideo)}))}function CompressedTexture(r,n,a,i,o,s,y,_,w,E,j,q){Texture.call(this,null,s,y,_,w,E,i,o,j,q),this.image={width:n,height:a},this.mipmaps=r,this.flipY=!1,this.generateMipmaps=!1}function CanvasTexture(r,n,a,i,o,s,y,_,w){Texture.call(this,r,n,a,i,o,s,y,_,w),this.needsUpdate=!0}function DepthTexture(r,n,a,i,o,s,y,_,w,E){if((E=void 0!==E?E:Zt)!==Zt&&E!==er)throw Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===a&&E===Zt&&(a=jt),void 0===a&&E===er&&(a=Yt),Texture.call(this,null,i,o,s,y,_,E,a,w),this.image={width:r,height:n},this.magFilter=void 0!==y?y:Pt,this.minFilter=void 0!==_?_:Pt,this.flipY=!1,this.generateMipmaps=!1}function WireframeGeometry(r){BufferGeometry.call(this),this.type="WireframeGeometry";const n=[],a=[0,0],i={},o=["a","b","c"];if(r&&r.isGeometry){const s=r.faces;for(let r=0,n=s.length;r<n;r++){const n=s[r];for(let r=0;r<3;r++){const s=n[o[r]],y=n[o[(r+1)%3]];a[0]=Math.min(s,y),a[1]=Math.max(s,y);const _=a[0]+","+a[1];void 0===i[_]&&(i[_]={index1:a[0],index2:a[1]})}}for(const a in i){const o=i[a];let s=r.vertices[o.index1];n.push(s.x,s.y,s.z),s=r.vertices[o.index2],n.push(s.x,s.y,s.z)}}else if(r&&r.isBufferGeometry){let o=new Vector3;if(null!==r.index){const s=r.attributes.position,y=r.index;let _=r.groups;0===_.length&&(_=[{start:0,count:y.count,materialIndex:0}]);for(let r=0,n=_.length;r<n;++r){const n=_[r],o=n.start;for(let r=o,s=o+n.count;r<s;r+=3)for(let n=0;n<3;n++){const o=y.getX(r+n),s=y.getX(r+(n+1)%3);a[0]=Math.min(o,s),a[1]=Math.max(o,s);const _=a[0]+","+a[1];void 0===i[_]&&(i[_]={index1:a[0],index2:a[1]})}}for(const r in i){const a=i[r];o.fromBufferAttribute(s,a.index1),n.push(o.x,o.y,o.z),o.fromBufferAttribute(s,a.index2),n.push(o.x,o.y,o.z)}}else{const a=r.attributes.position;for(let r=0,i=a.count/3;r<i;r++)for(let i=0;i<3;i++){const s=3*r+i;o.fromBufferAttribute(a,s),n.push(o.x,o.y,o.z);const y=3*r+(i+1)%3;o.fromBufferAttribute(a,y),n.push(o.x,o.y,o.z)}}}this.setAttribute("position",new Float32BufferAttribute(n,3))}function ParametricGeometry(r,n,a){Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:r,slices:n,stacks:a},this.fromBufferGeometry(new ParametricBufferGeometry(r,n,a)),this.mergeVertices()}function ParametricBufferGeometry(r,n,a){BufferGeometry.call(this),this.type="ParametricBufferGeometry",this.parameters={func:r,slices:n,stacks:a};const i=[],o=[],s=[],y=[],_=1e-5,w=new Vector3,E=new Vector3,j=new Vector3,q=new Vector3,$=new Vector3;r.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const ne=n+1;for(let i=0;i<=a;i++){const ne=i/a;for(let a=0;a<=n;a++){const i=a/n;r(i,ne,E),o.push(E.x,E.y,E.z),i-_>=0?(r(i-_,ne,j),q.subVectors(E,j)):(r(i+_,ne,j),q.subVectors(j,E)),ne-_>=0?(r(i,ne-_,j),$.subVectors(E,j)):(r(i,ne+_,j),$.subVectors(j,E)),w.crossVectors(q,$).normalize(),s.push(w.x,w.y,w.z),y.push(i,ne)}}for(let r=0;r<a;r++)for(let a=0;a<n;a++){const n=r*ne+a,o=r*ne+a+1,s=(r+1)*ne+a+1,y=(r+1)*ne+a;i.push(n,o,y),i.push(o,s,y)}this.setIndex(i),this.setAttribute("position",new Float32BufferAttribute(o,3)),this.setAttribute("normal",new Float32BufferAttribute(s,3)),this.setAttribute("uv",new Float32BufferAttribute(y,2))}function PolyhedronGeometry(r,n,a,i){Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:r,indices:n,radius:a,detail:i},this.fromBufferGeometry(new PolyhedronBufferGeometry(r,n,a,i)),this.mergeVertices()}function PolyhedronBufferGeometry(r,n,a,i){BufferGeometry.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:r,indices:n,radius:a,detail:i},a=a||1;const o=[],s=[];function subdivideFace(r,n,a,i){const o=Math.pow(2,i),s=[];for(let i=0;i<=o;i++){s[i]=[];const y=r.clone().lerp(a,i/o),_=n.clone().lerp(a,i/o),w=o-i;for(let r=0;r<=w;r++)s[i][r]=0===r&&i===o?y:y.clone().lerp(_,r/w)}for(let r=0;r<o;r++)for(let n=0;n<2*(o-r)-1;n++){const a=Math.floor(n/2);n%2==0?(pushVertex(s[r][a+1]),pushVertex(s[r+1][a]),pushVertex(s[r][a])):(pushVertex(s[r][a+1]),pushVertex(s[r+1][a+1]),pushVertex(s[r+1][a]))}}function pushVertex(r){o.push(r.x,r.y,r.z)}function getVertexByIndex(n,a){const i=3*n;a.x=r[i+0],a.y=r[i+1],a.z=r[i+2]}function correctUV(r,n,a,i){i<0&&1===r.x&&(s[n]=r.x-1),0===a.x&&0===a.z&&(s[n]=i/2/Math.PI+.5)}function azimuth(r){return Math.atan2(r.z,-r.x)}!function subdivide(r){const a=new Vector3,i=new Vector3,o=new Vector3;for(let s=0;s<n.length;s+=3)getVertexByIndex(n[s+0],a),getVertexByIndex(n[s+1],i),getVertexByIndex(n[s+2],o),subdivideFace(a,i,o,r)}(i=i||0),function applyRadius(r){const n=new Vector3;for(let a=0;a<o.length;a+=3)n.x=o[a+0],n.y=o[a+1],n.z=o[a+2],n.normalize().multiplyScalar(r),o[a+0]=n.x,o[a+1]=n.y,o[a+2]=n.z}(a),function generateUVs(){const r=new Vector3;for(let a=0;a<o.length;a+=3){r.x=o[a+0],r.y=o[a+1],r.z=o[a+2];const i=azimuth(r)/2/Math.PI+.5,y=Math.atan2(-(n=r).y,Math.sqrt(n.x*n.x+n.z*n.z))/Math.PI+.5;s.push(i,1-y)}var n;(function correctUVs(){const r=new Vector3,n=new Vector3,a=new Vector3,i=new Vector3,y=new Vector2,_=new Vector2,w=new Vector2;for(let E=0,j=0;E<o.length;E+=9,j+=6){r.set(o[E+0],o[E+1],o[E+2]),n.set(o[E+3],o[E+4],o[E+5]),a.set(o[E+6],o[E+7],o[E+8]),y.set(s[j+0],s[j+1]),_.set(s[j+2],s[j+3]),w.set(s[j+4],s[j+5]),i.copy(r).add(n).add(a).divideScalar(3);const q=azimuth(i);correctUV(y,j+0,r,q),correctUV(_,j+2,n,q),correctUV(w,j+4,a,q)}})(),function correctSeam(){for(let r=0;r<s.length;r+=6){const n=s[r+0],a=s[r+2],i=s[r+4],o=Math.max(n,a,i),y=Math.min(n,a,i);o>.9&&y<.1&&(n<.2&&(s[r+0]+=1),a<.2&&(s[r+2]+=1),i<.2&&(s[r+4]+=1))}}()}(),this.setAttribute("position",new Float32BufferAttribute(o,3)),this.setAttribute("normal",new Float32BufferAttribute(o.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(s,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function TetrahedronGeometry(r,n){Geometry.call(this),this.type="TetrahedronGeometry",this.parameters={radius:r,detail:n},this.fromBufferGeometry(new TetrahedronBufferGeometry(r,n)),this.mergeVertices()}function TetrahedronBufferGeometry(r,n){PolyhedronBufferGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],r,n),this.type="TetrahedronBufferGeometry",this.parameters={radius:r,detail:n}}function OctahedronGeometry(r,n){Geometry.call(this),this.type="OctahedronGeometry",this.parameters={radius:r,detail:n},this.fromBufferGeometry(new OctahedronBufferGeometry(r,n)),this.mergeVertices()}function OctahedronBufferGeometry(r,n){PolyhedronBufferGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],r,n),this.type="OctahedronBufferGeometry",this.parameters={radius:r,detail:n}}function IcosahedronGeometry(r,n){Geometry.call(this),this.type="IcosahedronGeometry",this.parameters={radius:r,detail:n},this.fromBufferGeometry(new IcosahedronBufferGeometry(r,n)),this.mergeVertices()}function IcosahedronBufferGeometry(r,n){const a=1.618033988749895,i=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1];PolyhedronBufferGeometry.call(this,i,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],r,n),this.type="IcosahedronBufferGeometry",this.parameters={radius:r,detail:n}}function DodecahedronGeometry(r,n){Geometry.call(this),this.type="DodecahedronGeometry",this.parameters={radius:r,detail:n},this.fromBufferGeometry(new DodecahedronBufferGeometry(r,n)),this.mergeVertices()}function DodecahedronBufferGeometry(r,n){const a=1.618033988749895,i=1/a,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-a,0,-i,a,0,i,-a,0,i,a,-i,-a,0,-i,a,0,i,-a,0,i,a,0,-a,0,-i,a,0,-i,-a,0,i,a,0,i];PolyhedronBufferGeometry.call(this,o,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],r,n),this.type="DodecahedronBufferGeometry",this.parameters={radius:r,detail:n}}function TubeGeometry(r,n,a,i,o,s){Geometry.call(this),this.type="TubeGeometry",this.parameters={path:r,tubularSegments:n,radius:a,radialSegments:i,closed:o},void 0!==s&&console.warn("THREE.TubeGeometry: taper has been removed.");const y=new TubeBufferGeometry(r,n,a,i,o);this.tangents=y.tangents,this.normals=y.normals,this.binormals=y.binormals,this.fromBufferGeometry(y),this.mergeVertices()}function TubeBufferGeometry(r,n,a,i,o){BufferGeometry.call(this),this.type="TubeBufferGeometry",this.parameters={path:r,tubularSegments:n,radius:a,radialSegments:i,closed:o},n=n||64,a=a||1,i=i||8,o=o||!1;const s=r.computeFrenetFrames(n,o);this.tangents=s.tangents,this.normals=s.normals,this.binormals=s.binormals;const y=new Vector3,_=new Vector3,w=new Vector2;let E=new Vector3;const j=[],q=[],$=[],ne=[];function generateSegment(o){E=r.getPointAt(o/n,E);const w=s.normals[o],$=s.binormals[o];for(let r=0;r<=i;r++){const n=r/i*Math.PI*2,o=Math.sin(n),s=-Math.cos(n);_.x=s*w.x+o*$.x,_.y=s*w.y+o*$.y,_.z=s*w.z+o*$.z,_.normalize(),q.push(_.x,_.y,_.z),y.x=E.x+a*_.x,y.y=E.y+a*_.y,y.z=E.z+a*_.z,j.push(y.x,y.y,y.z)}}!function generateBufferData(){for(let r=0;r<n;r++)generateSegment(r);generateSegment(!1===o?n:0),function generateUVs(){for(let r=0;r<=n;r++)for(let a=0;a<=i;a++)w.x=r/n,w.y=a/i,$.push(w.x,w.y)}(),function generateIndices(){for(let r=1;r<=n;r++)for(let n=1;n<=i;n++){const a=(i+1)*(r-1)+(n-1),o=(i+1)*r+(n-1),s=(i+1)*r+n,y=(i+1)*(r-1)+n;ne.push(a,o,y),ne.push(o,s,y)}}()}(),this.setIndex(ne),this.setAttribute("position",new Float32BufferAttribute(j,3)),this.setAttribute("normal",new Float32BufferAttribute(q,3)),this.setAttribute("uv",new Float32BufferAttribute($,2))}function TorusKnotGeometry(r,n,a,i,o,s,y){Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:r,tube:n,tubularSegments:a,radialSegments:i,p:o,q:s},void 0!==y&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new TorusKnotBufferGeometry(r,n,a,i,o,s)),this.mergeVertices()}function TorusKnotBufferGeometry(r,n,a,i,o,s){BufferGeometry.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:r,tube:n,tubularSegments:a,radialSegments:i,p:o,q:s},r=r||1,n=n||.4,a=Math.floor(a)||64,i=Math.floor(i)||8,o=o||2,s=s||3;const y=[],_=[],w=[],E=[],j=new Vector3,q=new Vector3,$=new Vector3,ne=new Vector3,ie=new Vector3,oe=new Vector3,se=new Vector3;for(let y=0;y<=a;++y){const le=y/a*o*Math.PI*2;calculatePositionOnCurve(le,o,s,r,$),calculatePositionOnCurve(le+.01,o,s,r,ne),oe.subVectors(ne,$),se.addVectors(ne,$),ie.crossVectors(oe,se),se.crossVectors(ie,oe),ie.normalize(),se.normalize();for(let r=0;r<=i;++r){const o=r/i*Math.PI*2,s=-n*Math.cos(o),ne=n*Math.sin(o);j.x=$.x+(s*se.x+ne*ie.x),j.y=$.y+(s*se.y+ne*ie.y),j.z=$.z+(s*se.z+ne*ie.z),_.push(j.x,j.y,j.z),q.subVectors(j,$).normalize(),w.push(q.x,q.y,q.z),E.push(y/a),E.push(r/i)}}for(let r=1;r<=a;r++)for(let n=1;n<=i;n++){const a=(i+1)*(r-1)+(n-1),o=(i+1)*r+(n-1),s=(i+1)*r+n,_=(i+1)*(r-1)+n;y.push(a,o,_),y.push(o,s,_)}function calculatePositionOnCurve(r,n,a,i,o){const s=Math.cos(r),y=Math.sin(r),_=a/n*r,w=Math.cos(_);o.x=i*(2+w)*.5*s,o.y=i*(2+w)*y*.5,o.z=i*Math.sin(_)*.5}this.setIndex(y),this.setAttribute("position",new Float32BufferAttribute(_,3)),this.setAttribute("normal",new Float32BufferAttribute(w,3)),this.setAttribute("uv",new Float32BufferAttribute(E,2))}function TorusGeometry(r,n,a,i,o){Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:r,tube:n,radialSegments:a,tubularSegments:i,arc:o},this.fromBufferGeometry(new TorusBufferGeometry(r,n,a,i,o)),this.mergeVertices()}function TorusBufferGeometry(r,n,a,i,o){BufferGeometry.call(this),this.type="TorusBufferGeometry",this.parameters={radius:r,tube:n,radialSegments:a,tubularSegments:i,arc:o},r=r||1,n=n||.4,a=Math.floor(a)||8,i=Math.floor(i)||6,o=o||2*Math.PI;const s=[],y=[],_=[],w=[],E=new Vector3,j=new Vector3,q=new Vector3;for(let s=0;s<=a;s++)for(let $=0;$<=i;$++){const ne=$/i*o,ie=s/a*Math.PI*2;j.x=(r+n*Math.cos(ie))*Math.cos(ne),j.y=(r+n*Math.cos(ie))*Math.sin(ne),j.z=n*Math.sin(ie),y.push(j.x,j.y,j.z),E.x=r*Math.cos(ne),E.y=r*Math.sin(ne),q.subVectors(j,E).normalize(),_.push(q.x,q.y,q.z),w.push($/i),w.push(s/a)}for(let r=1;r<=a;r++)for(let n=1;n<=i;n++){const a=(i+1)*r+n-1,o=(i+1)*(r-1)+n-1,y=(i+1)*(r-1)+n,_=(i+1)*r+n;s.push(a,o,_),s.push(o,y,_)}this.setIndex(s),this.setAttribute("position",new Float32BufferAttribute(y,3)),this.setAttribute("normal",new Float32BufferAttribute(_,3)),this.setAttribute("uv",new Float32BufferAttribute(w,2))}Points.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Points,isPoints:!0,copy(r){return Object3D.prototype.copy.call(this,r),this.material=r.material,this.geometry=r.geometry,this},raycast(r,n){const a=this.geometry,i=this.matrixWorld,o=r.params.Points.threshold;if(null===a.boundingSphere&&a.computeBoundingSphere(),Ws.copy(a.boundingSphere),Ws.applyMatrix4(i),Ws.radius+=o,!1===r.ray.intersectsSphere(Ws))return;Us.getInverse(i),Vs.copy(r.ray).applyMatrix4(Us);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),y=s*s;if(a.isBufferGeometry){const o=a.index,s=a.attributes.position.array;if(null!==o){const a=o.array;for(let o=0,_=a.length;o<_;o++){const _=a[o];Hs.fromArray(s,3*_),testPoint(Hs,_,y,i,r,n,this)}}else for(let a=0,o=s.length/3;a<o;a++)Hs.fromArray(s,3*a),testPoint(Hs,a,y,i,r,n,this)}else{const o=a.vertices;for(let a=0,s=o.length;a<s;a++)testPoint(o[a],a,y,i,r,n,this)}},updateMorphTargets(){const r=this.geometry;if(r.isBufferGeometry){const n=r.morphAttributes,a=Object.keys(n);if(a.length>0){const r=n[a[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let n=0,a=r.length;n<a;n++){const a=r[n].name||n+"";this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=n}}}}else{const n=r.morphTargets;void 0!==n&&n.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),VideoTexture.prototype=Object.assign(Object.create(Texture.prototype),{constructor:VideoTexture,isVideoTexture:!0,update(){const r=this.image;!1=="requestVideoFrameCallback"in r&&r.readyState>=r.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),CompressedTexture.prototype=Object.create(Texture.prototype),CompressedTexture.prototype.constructor=CompressedTexture,CompressedTexture.prototype.isCompressedTexture=!0,CanvasTexture.prototype=Object.create(Texture.prototype),CanvasTexture.prototype.constructor=CanvasTexture,CanvasTexture.prototype.isCanvasTexture=!0,DepthTexture.prototype=Object.create(Texture.prototype),DepthTexture.prototype.constructor=DepthTexture,DepthTexture.prototype.isDepthTexture=!0,WireframeGeometry.prototype=Object.create(BufferGeometry.prototype),WireframeGeometry.prototype.constructor=WireframeGeometry,ParametricGeometry.prototype=Object.create(Geometry.prototype),ParametricGeometry.prototype.constructor=ParametricGeometry,ParametricBufferGeometry.prototype=Object.create(BufferGeometry.prototype),ParametricBufferGeometry.prototype.constructor=ParametricBufferGeometry,PolyhedronGeometry.prototype=Object.create(Geometry.prototype),PolyhedronGeometry.prototype.constructor=PolyhedronGeometry,PolyhedronBufferGeometry.prototype=Object.create(BufferGeometry.prototype),PolyhedronBufferGeometry.prototype.constructor=PolyhedronBufferGeometry,TetrahedronGeometry.prototype=Object.create(Geometry.prototype),TetrahedronGeometry.prototype.constructor=TetrahedronGeometry,TetrahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),TetrahedronBufferGeometry.prototype.constructor=TetrahedronBufferGeometry,OctahedronGeometry.prototype=Object.create(Geometry.prototype),OctahedronGeometry.prototype.constructor=OctahedronGeometry,OctahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),OctahedronBufferGeometry.prototype.constructor=OctahedronBufferGeometry,IcosahedronGeometry.prototype=Object.create(Geometry.prototype),IcosahedronGeometry.prototype.constructor=IcosahedronGeometry,IcosahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),IcosahedronBufferGeometry.prototype.constructor=IcosahedronBufferGeometry,DodecahedronGeometry.prototype=Object.create(Geometry.prototype),DodecahedronGeometry.prototype.constructor=DodecahedronGeometry,DodecahedronBufferGeometry.prototype=Object.create(PolyhedronBufferGeometry.prototype),DodecahedronBufferGeometry.prototype.constructor=DodecahedronBufferGeometry,TubeGeometry.prototype=Object.create(Geometry.prototype),TubeGeometry.prototype.constructor=TubeGeometry,TubeBufferGeometry.prototype=Object.create(BufferGeometry.prototype),TubeBufferGeometry.prototype.constructor=TubeBufferGeometry,TubeBufferGeometry.prototype.toJSON=function(){const r=BufferGeometry.prototype.toJSON.call(this);return r.path=this.parameters.path.toJSON(),r},TorusKnotGeometry.prototype=Object.create(Geometry.prototype),TorusKnotGeometry.prototype.constructor=TorusKnotGeometry,TorusKnotBufferGeometry.prototype=Object.create(BufferGeometry.prototype),TorusKnotBufferGeometry.prototype.constructor=TorusKnotBufferGeometry,TorusGeometry.prototype=Object.create(Geometry.prototype),TorusGeometry.prototype.constructor=TorusGeometry,TorusBufferGeometry.prototype=Object.create(BufferGeometry.prototype),TorusBufferGeometry.prototype.constructor=TorusBufferGeometry;function linkedList(r,n,a,i,o){let s,y;if(o===function signedArea(r,n,a,i){let o=0;for(let s=n,y=a-i;s<a;s+=i)o+=(r[y]-r[s])*(r[s+1]+r[y+1]),y=s;return o}(r,n,a,i)>0)for(s=n;s<a;s+=i)y=insertNode(s,r[s],r[s+1],y);else for(s=a-i;s>=n;s-=i)y=insertNode(s,r[s],r[s+1],y);return y&&equals(y,y.next)&&(removeNode(y),y=y.next),y}function filterPoints(r,n){if(!r)return r;n||(n=r);let a,i=r;do{if(a=!1,i.steiner||!equals(i,i.next)&&0!==area(i.prev,i,i.next))i=i.next;else{if(removeNode(i),i=n=i.prev,i===i.next)break;a=!0}}while(a||i!==n);return n}function earcutLinked(r,n,a,i,o,s,y){if(!r)return;!y&&s&&function indexCurve(r,n,a,i){let o=r;do{null===o.z&&(o.z=zOrder(o.x,o.y,n,a,i)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next}while(o!==r);o.prevZ.nextZ=null,o.prevZ=null,function sortLinked(r){let n,a,i,o,s,y,_,w,E=1;do{for(a=r,r=null,s=null,y=0;a;){for(y++,i=a,_=0,n=0;n<E&&(_++,i=i.nextZ,i);n++);for(w=E;_>0||w>0&&i;)0!==_&&(0===w||!i||a.z<=i.z)?(o=a,a=a.nextZ,_--):(o=i,i=i.nextZ,w--),s?s.nextZ=o:r=o,o.prevZ=s,s=o;a=i}s.nextZ=null,E*=2}while(y>1)}(o)}(r,i,o,s);let _,w,E=r;for(;r.prev!==r.next;)if(_=r.prev,w=r.next,s?isEarHashed(r,i,o,s):isEar(r))n.push(_.i/a),n.push(r.i/a),n.push(w.i/a),removeNode(r),r=w.next,E=w.next;else if((r=w)===E){y?1===y?earcutLinked(r=cureLocalIntersections(filterPoints(r),n,a),n,a,i,o,s,2):2===y&&splitEarcut(r,n,a,i,o,s):earcutLinked(filterPoints(r),n,a,i,o,s,1);break}}function isEar(r){let n=r.prev,a=r,i=r.next;if(area(n,a,i)>=0)return!1;let o=r.next.next;for(;o!==r.prev;){if(pointInTriangle(n.x,n.y,a.x,a.y,i.x,i.y,o.x,o.y)&&area(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function isEarHashed(r,n,a,i){let o=r.prev,s=r,y=r.next;if(area(o,s,y)>=0)return!1;let _=o.x<s.x?o.x<y.x?o.x:y.x:s.x<y.x?s.x:y.x,w=o.y<s.y?o.y<y.y?o.y:y.y:s.y<y.y?s.y:y.y,E=o.x>s.x?o.x>y.x?o.x:y.x:s.x>y.x?s.x:y.x,j=o.y>s.y?o.y>y.y?o.y:y.y:s.y>y.y?s.y:y.y,q=zOrder(_,w,n,a,i),$=zOrder(E,j,n,a,i),ne=r.prevZ,ie=r.nextZ;for(;ne&&ne.z>=q&&ie&&ie.z<=$;){if(ne!==r.prev&&ne!==r.next&&pointInTriangle(o.x,o.y,s.x,s.y,y.x,y.y,ne.x,ne.y)&&area(ne.prev,ne,ne.next)>=0)return!1;if(ne=ne.prevZ,ie!==r.prev&&ie!==r.next&&pointInTriangle(o.x,o.y,s.x,s.y,y.x,y.y,ie.x,ie.y)&&area(ie.prev,ie,ie.next)>=0)return!1;ie=ie.nextZ}for(;ne&&ne.z>=q;){if(ne!==r.prev&&ne!==r.next&&pointInTriangle(o.x,o.y,s.x,s.y,y.x,y.y,ne.x,ne.y)&&area(ne.prev,ne,ne.next)>=0)return!1;ne=ne.prevZ}for(;ie&&ie.z<=$;){if(ie!==r.prev&&ie!==r.next&&pointInTriangle(o.x,o.y,s.x,s.y,y.x,y.y,ie.x,ie.y)&&area(ie.prev,ie,ie.next)>=0)return!1;ie=ie.nextZ}return!0}function cureLocalIntersections(r,n,a){let i=r;do{let o=i.prev,s=i.next.next;!equals(o,s)&&intersects(o,i,i.next,s)&&locallyInside(o,s)&&locallyInside(s,o)&&(n.push(o.i/a),n.push(i.i/a),n.push(s.i/a),removeNode(i),removeNode(i.next),i=r=s),i=i.next}while(i!==r);return filterPoints(i)}function splitEarcut(r,n,a,i,o,s){let y=r;do{let r=y.next.next;for(;r!==y.prev;){if(y.i!==r.i&&isValidDiagonal(y,r)){let _=splitPolygon(y,r);return y=filterPoints(y,y.next),_=filterPoints(_,_.next),earcutLinked(y,n,a,i,o,s),void earcutLinked(_,n,a,i,o,s)}r=r.next}y=y.next}while(y!==r)}function compareX(r,n){return r.x-n.x}function eliminateHole(r,n){if(n=function findHoleBridge(r,n){let a,i=n,o=r.x,s=r.y,y=-1/0;do{if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){let r=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(r<=o&&r>y){if(y=r,r===o){if(s===i.y)return i;if(s===i.next.y)return i.next}a=i.x<i.next.x?i:i.next}}i=i.next}while(i!==n);if(!a)return null;if(o===y)return a;let _,w=a,E=a.x,j=a.y,q=1/0;i=a;do{o>=i.x&&i.x>=E&&o!==i.x&&pointInTriangle(s<j?o:y,s,E,j,s<j?y:o,s,i.x,i.y)&&(_=Math.abs(s-i.y)/(o-i.x),locallyInside(i,r)&&(_<q||_===q&&(i.x>a.x||i.x===a.x&&sectorContainsSector(a,i)))&&(a=i,q=_)),i=i.next}while(i!==w);return a}(r,n)){const a=splitPolygon(n,r);filterPoints(n,n.next),filterPoints(a,a.next)}}function sectorContainsSector(r,n){return area(r.prev,r,n.prev)<0&&area(n.next,r,r.next)<0}function zOrder(r,n,a,i,o){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=32767*(r-a)*o)|r<<8))|r<<4))|r<<2))|r<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-i)*o)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function getLeftmost(r){let n=r,a=r;do{(n.x<a.x||n.x===a.x&&n.y<a.y)&&(a=n),n=n.next}while(n!==r);return a}function pointInTriangle(r,n,a,i,o,s,y,_){return(o-y)*(n-_)-(r-y)*(s-_)>=0&&(r-y)*(i-_)-(a-y)*(n-_)>=0&&(a-y)*(s-_)-(o-y)*(i-_)>=0}function isValidDiagonal(r,n){return r.next.i!==n.i&&r.prev.i!==n.i&&!function intersectsPolygon(r,n){let a=r;do{if(a.i!==r.i&&a.next.i!==r.i&&a.i!==n.i&&a.next.i!==n.i&&intersects(a,a.next,r,n))return!0;a=a.next}while(a!==r);return!1}(r,n)&&(locallyInside(r,n)&&locallyInside(n,r)&&function middleInside(r,n){let a=r,i=!1,o=(r.x+n.x)/2,s=(r.y+n.y)/2;do{a.y>s!=a.next.y>s&&a.next.y!==a.y&&o<(a.next.x-a.x)*(s-a.y)/(a.next.y-a.y)+a.x&&(i=!i),a=a.next}while(a!==r);return i}(r,n)&&(area(r.prev,r,n.prev)||area(r,n.prev,n))||equals(r,n)&&area(r.prev,r,r.next)>0&&area(n.prev,n,n.next)>0)}function area(r,n,a){return(n.y-r.y)*(a.x-n.x)-(n.x-r.x)*(a.y-n.y)}function equals(r,n){return r.x===n.x&&r.y===n.y}function intersects(r,n,a,i){const o=sign(area(r,n,a)),s=sign(area(r,n,i)),y=sign(area(a,i,r)),_=sign(area(a,i,n));return o!==s&&y!==_||!(0!==o||!onSegment(r,a,n))||!(0!==s||!onSegment(r,i,n))||!(0!==y||!onSegment(a,r,i))||!(0!==_||!onSegment(a,n,i))}function onSegment(r,n,a){return n.x<=Math.max(r.x,a.x)&&n.x>=Math.min(r.x,a.x)&&n.y<=Math.max(r.y,a.y)&&n.y>=Math.min(r.y,a.y)}function sign(r){return r>0?1:r<0?-1:0}function locallyInside(r,n){return area(r.prev,r,r.next)<0?area(r,n,r.next)>=0&&area(r,r.prev,n)>=0:area(r,n,r.prev)<0||area(r,r.next,n)<0}function splitPolygon(r,n){let a=new Node(r.i,r.x,r.y),i=new Node(n.i,n.x,n.y),o=r.next,s=n.prev;return r.next=n,n.prev=r,a.next=o,o.prev=a,i.next=a,a.prev=i,s.next=i,i.prev=s,i}function insertNode(r,n,a,i){const o=new Node(r,n,a);return i?(o.next=i.next,o.prev=i,i.next.prev=o,i.next=o):(o.prev=o,o.next=o),o}function removeNode(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function Node(r,n,a){this.i=r,this.x=n,this.y=a,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const Ys={area(r){const n=r.length;let a=0;for(let i=n-1,o=0;o<n;i=o++)a+=r[i].x*r[o].y-r[o].x*r[i].y;return.5*a},isClockWise:r=>Ys.area(r)<0,triangulateShape(r,n){const a=[],i=[],o=[];removeDupEndPts(r),addContour(a,r);let s=r.length;n.forEach(removeDupEndPts);for(let r=0;r<n.length;r++)i.push(s),s+=n[r].length,addContour(a,n[r]);const y=function(r,n,a){a=a||2;let i,o,s,y,_,w,E,j=n&&n.length,q=j?n[0]*a:r.length,$=linkedList(r,0,q,a,!0),ne=[];if(!$||$.next===$.prev)return ne;if(j&&($=function eliminateHoles(r,n,a,i){let o,s,y,_,w,E=[];for(o=0,s=n.length;o<s;o++)y=n[o]*i,_=o<s-1?n[o+1]*i:r.length,w=linkedList(r,y,_,i,!1),w===w.next&&(w.steiner=!0),E.push(getLeftmost(w));for(E.sort(compareX),o=0;o<E.length;o++)eliminateHole(E[o],a),a=filterPoints(a,a.next);return a}(r,n,$,a)),r.length>80*a){i=s=r[0],o=y=r[1];for(let n=a;n<q;n+=a)_=r[n],w=r[n+1],_<i&&(i=_),w<o&&(o=w),_>s&&(s=_),w>y&&(y=w);E=Math.max(s-i,y-o),E=0!==E?1/E:0}return earcutLinked($,ne,a,i,o,E),ne}(a,i);for(let r=0;r<y.length;r+=3)o.push(y.slice(r,r+3));return o}};function removeDupEndPts(r){const n=r.length;n>2&&r[n-1].equals(r[0])&&r.pop()}function addContour(r,n){for(let a=0;a<n.length;a++)r.push(n[a].x),r.push(n[a].y)}function ExtrudeGeometry(r,n){Geometry.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:r,options:n},this.fromBufferGeometry(new ExtrudeBufferGeometry(r,n)),this.mergeVertices()}function ExtrudeBufferGeometry(r,n){BufferGeometry.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:r,options:n};const a=this,i=[],o=[];for(let n=0,a=(r=Array.isArray(r)?r:[r]).length;n<a;n++)addShape(r[n]);function addShape(r){const s=[],y=void 0!==n.curveSegments?n.curveSegments:12,_=void 0!==n.steps?n.steps:1;let w=void 0!==n.depth?n.depth:100,E=void 0===n.bevelEnabled||n.bevelEnabled,j=void 0!==n.bevelThickness?n.bevelThickness:6,q=void 0!==n.bevelSize?n.bevelSize:j-2,$=void 0!==n.bevelOffset?n.bevelOffset:0,ne=void 0!==n.bevelSegments?n.bevelSegments:3;const ie=n.extrudePath,oe=void 0!==n.UVGenerator?n.UVGenerator:qs;void 0!==n.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),w=n.amount);let se,le,pe,he,me,ge=!1;ie&&(se=ie.getSpacedPoints(_),ge=!0,E=!1,le=ie.computeFrenetFrames(_,!1),pe=new Vector3,he=new Vector3,me=new Vector3),E||(ne=0,j=0,q=0,$=0);const ye=r.extractPoints(y);let _e=ye.shape;const ve=ye.holes;if(!Ys.isClockWise(_e)){_e=_e.reverse();for(let r=0,n=ve.length;r<n;r++){const n=ve[r];Ys.isClockWise(n)&&(ve[r]=n.reverse())}}const Se=Ys.triangulateShape(_e,ve),we=_e;for(let r=0,n=ve.length;r<n;r++){const n=ve[r];_e=_e.concat(n)}function scalePt2(r,n,a){return n||console.error("THREE.ExtrudeGeometry: vec does not exist"),n.clone().multiplyScalar(a).add(r)}const Me=_e.length,Te=Se.length;function getBevelVec(r,n,a){let i,o,s;const y=r.x-n.x,_=r.y-n.y,w=a.x-r.x,E=a.y-r.y,j=y*y+_*_;if(Math.abs(y*E-_*w)>Number.EPSILON){const q=Math.sqrt(j),$=Math.sqrt(w*w+E*E),ne=n.x-_/q,ie=n.y+y/q,oe=((a.x-E/$-ne)*E-(a.y+w/$-ie)*w)/(y*E-_*w);i=ne+y*oe-r.x,o=ie+_*oe-r.y;const se=i*i+o*o;if(se<=2)return new Vector2(i,o);s=Math.sqrt(se/2)}else{let r=!1;y>Number.EPSILON?w>Number.EPSILON&&(r=!0):y<-Number.EPSILON?w<-Number.EPSILON&&(r=!0):Math.sign(_)===Math.sign(E)&&(r=!0),r?(i=-_,o=y,s=Math.sqrt(j)):(i=y,o=_,s=Math.sqrt(j/2))}return new Vector2(i/s,o/s)}const Ae=[];for(let r=0,n=we.length,a=n-1,i=r+1;r<n;r++,a++,i++)a===n&&(a=0),i===n&&(i=0),Ae[r]=getBevelVec(we[r],we[a],we[i]);const ke=[];let Re,Oe=Ae.concat();for(let r=0,n=ve.length;r<n;r++){const n=ve[r];Re=[];for(let r=0,a=n.length,i=a-1,o=r+1;r<a;r++,i++,o++)i===a&&(i=0),o===a&&(o=0),Re[r]=getBevelVec(n[r],n[i],n[o]);ke.push(Re),Oe=Oe.concat(Re)}for(let r=0;r<ne;r++){const n=r/ne,a=j*Math.cos(n*Math.PI/2),i=q*Math.sin(n*Math.PI/2)+$;for(let r=0,n=we.length;r<n;r++){const n=scalePt2(we[r],Ae[r],i);v(n.x,n.y,-a)}for(let r=0,n=ve.length;r<n;r++){const n=ve[r];Re=ke[r];for(let r=0,o=n.length;r<o;r++){const o=scalePt2(n[r],Re[r],i);v(o.x,o.y,-a)}}}const Ne=q+$;for(let r=0;r<Me;r++){const n=E?scalePt2(_e[r],Oe[r],Ne):_e[r];ge?(he.copy(le.normals[0]).multiplyScalar(n.x),pe.copy(le.binormals[0]).multiplyScalar(n.y),me.copy(se[0]).add(he).add(pe),v(me.x,me.y,me.z)):v(n.x,n.y,0)}for(let r=1;r<=_;r++)for(let n=0;n<Me;n++){const a=E?scalePt2(_e[n],Oe[n],Ne):_e[n];ge?(he.copy(le.normals[r]).multiplyScalar(a.x),pe.copy(le.binormals[r]).multiplyScalar(a.y),me.copy(se[r]).add(he).add(pe),v(me.x,me.y,me.z)):v(a.x,a.y,w/_*r)}for(let r=ne-1;r>=0;r--){const n=r/ne,a=j*Math.cos(n*Math.PI/2),i=q*Math.sin(n*Math.PI/2)+$;for(let r=0,n=we.length;r<n;r++){const n=scalePt2(we[r],Ae[r],i);v(n.x,n.y,w+a)}for(let r=0,n=ve.length;r<n;r++){const n=ve[r];Re=ke[r];for(let r=0,o=n.length;r<o;r++){const o=scalePt2(n[r],Re[r],i);ge?v(o.x,o.y+se[_-1].y,se[_-1].x+a):v(o.x,o.y,w+a)}}}function sidewalls(r,n){let a=r.length;for(;--a>=0;){const i=a;let o=a-1;o<0&&(o=r.length-1);for(let r=0,a=_+2*ne;r<a;r++){const a=Me*r,s=Me*(r+1);f4(n+i+a,n+o+a,n+o+s,n+i+s)}}}function v(r,n,a){s.push(r),s.push(n),s.push(a)}function f3(r,n,o){addVertex(r),addVertex(n),addVertex(o);const s=i.length/3,y=oe.generateTopUV(a,i,s-3,s-2,s-1);addUV(y[0]),addUV(y[1]),addUV(y[2])}function f4(r,n,o,s){addVertex(r),addVertex(n),addVertex(s),addVertex(n),addVertex(o),addVertex(s);const y=i.length/3,_=oe.generateSideWallUV(a,i,y-6,y-3,y-2,y-1);addUV(_[0]),addUV(_[1]),addUV(_[3]),addUV(_[1]),addUV(_[2]),addUV(_[3])}function addVertex(r){i.push(s[3*r+0]),i.push(s[3*r+1]),i.push(s[3*r+2])}function addUV(r){o.push(r.x),o.push(r.y)}!function buildLidFaces(){const r=i.length/3;if(E){let r=0,n=Me*r;for(let r=0;r<Te;r++){const a=Se[r];f3(a[2]+n,a[1]+n,a[0]+n)}r=_+2*ne,n=Me*r;for(let r=0;r<Te;r++){const a=Se[r];f3(a[0]+n,a[1]+n,a[2]+n)}}else{for(let r=0;r<Te;r++){const n=Se[r];f3(n[2],n[1],n[0])}for(let r=0;r<Te;r++){const n=Se[r];f3(n[0]+Me*_,n[1]+Me*_,n[2]+Me*_)}}a.addGroup(r,i.length/3-r,0)}(),function buildSideFaces(){const r=i.length/3;let n=0;sidewalls(we,n),n+=we.length;for(let r=0,a=ve.length;r<a;r++){const a=ve[r];sidewalls(a,n),n+=a.length}a.addGroup(r,i.length/3-r,1)}()}this.setAttribute("position",new Float32BufferAttribute(i,3)),this.setAttribute("uv",new Float32BufferAttribute(o,2)),this.computeVertexNormals()}ExtrudeGeometry.prototype=Object.create(Geometry.prototype),ExtrudeGeometry.prototype.constructor=ExtrudeGeometry,ExtrudeGeometry.prototype.toJSON=function(){const r=Geometry.prototype.toJSON.call(this);return toJSON(this.parameters.shapes,this.parameters.options,r)},ExtrudeBufferGeometry.prototype=Object.create(BufferGeometry.prototype),ExtrudeBufferGeometry.prototype.constructor=ExtrudeBufferGeometry,ExtrudeBufferGeometry.prototype.toJSON=function(){const r=BufferGeometry.prototype.toJSON.call(this);return toJSON(this.parameters.shapes,this.parameters.options,r)};const qs={generateTopUV(r,n,a,i,o){const s=n[3*a],y=n[3*a+1],_=n[3*i],w=n[3*i+1],E=n[3*o],j=n[3*o+1];return[new Vector2(s,y),new Vector2(_,w),new Vector2(E,j)]},generateSideWallUV(r,n,a,i,o,s){const y=n[3*a],_=n[3*a+1],w=n[3*a+2],E=n[3*i],j=n[3*i+1],q=n[3*i+2],$=n[3*o],ne=n[3*o+1],ie=n[3*o+2],oe=n[3*s],se=n[3*s+1],le=n[3*s+2];return Math.abs(_-j)<.01?[new Vector2(y,1-w),new Vector2(E,1-q),new Vector2($,1-ie),new Vector2(oe,1-le)]:[new Vector2(_,1-w),new Vector2(j,1-q),new Vector2(ne,1-ie),new Vector2(se,1-le)]}};function toJSON(r,n,a){if(a.shapes=[],Array.isArray(r))for(let n=0,i=r.length;n<i;n++){const i=r[n];a.shapes.push(i.uuid)}else a.shapes.push(r.uuid);return void 0!==n.extrudePath&&(a.options.extrudePath=n.extrudePath.toJSON()),a}function TextGeometry(r,n){Geometry.call(this),this.type="TextGeometry",this.parameters={text:r,parameters:n},this.fromBufferGeometry(new TextBufferGeometry(r,n)),this.mergeVertices()}function TextBufferGeometry(r,n){const a=(n=n||{}).font;if(!a||!a.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Geometry;const i=a.generateShapes(r,n.size);n.depth=void 0!==n.height?n.height:50,void 0===n.bevelThickness&&(n.bevelThickness=10),void 0===n.bevelSize&&(n.bevelSize=8),void 0===n.bevelEnabled&&(n.bevelEnabled=!1),ExtrudeBufferGeometry.call(this,i,n),this.type="TextBufferGeometry"}function SphereGeometry(r,n,a,i,o,s,y){Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:r,widthSegments:n,heightSegments:a,phiStart:i,phiLength:o,thetaStart:s,thetaLength:y},this.fromBufferGeometry(new SphereBufferGeometry(r,n,a,i,o,s,y)),this.mergeVertices()}function SphereBufferGeometry(r,n,a,i,o,s,y){BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:r,widthSegments:n,heightSegments:a,phiStart:i,phiLength:o,thetaStart:s,thetaLength:y},r=r||1,n=Math.max(3,Math.floor(n)||8),a=Math.max(2,Math.floor(a)||6),i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI;const _=Math.min((s=void 0!==s?s:0)+(y=void 0!==y?y:Math.PI),Math.PI);let w=0;const E=[],j=new Vector3,q=new Vector3,$=[],ne=[],ie=[],oe=[];for(let $=0;$<=a;$++){const se=[],le=$/a;let pe=0;0==$&&0==s?pe=.5/n:$==a&&_==Math.PI&&(pe=-.5/n);for(let a=0;a<=n;a++){const _=a/n;j.x=-r*Math.cos(i+_*o)*Math.sin(s+le*y),j.y=r*Math.cos(s+le*y),j.z=r*Math.sin(i+_*o)*Math.sin(s+le*y),ne.push(j.x,j.y,j.z),q.copy(j).normalize(),ie.push(q.x,q.y,q.z),oe.push(_+pe,1-le),se.push(w++)}E.push(se)}for(let r=0;r<a;r++)for(let i=0;i<n;i++){const n=E[r][i+1],o=E[r][i],y=E[r+1][i],w=E[r+1][i+1];(0!==r||s>0)&&$.push(n,o,w),(r!==a-1||_<Math.PI)&&$.push(o,y,w)}this.setIndex($),this.setAttribute("position",new Float32BufferAttribute(ne,3)),this.setAttribute("normal",new Float32BufferAttribute(ie,3)),this.setAttribute("uv",new Float32BufferAttribute(oe,2))}function RingGeometry(r,n,a,i,o,s){Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:r,outerRadius:n,thetaSegments:a,phiSegments:i,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new RingBufferGeometry(r,n,a,i,o,s)),this.mergeVertices()}function RingBufferGeometry(r,n,a,i,o,s){BufferGeometry.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:r,outerRadius:n,thetaSegments:a,phiSegments:i,thetaStart:o,thetaLength:s},r=r||.5,n=n||1,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI,a=void 0!==a?Math.max(3,a):8;const y=[],_=[],w=[],E=[];let j=r;const q=(n-r)/(i=void 0!==i?Math.max(1,i):1),$=new Vector3,ne=new Vector2;for(let r=0;r<=i;r++){for(let r=0;r<=a;r++){const i=o+r/a*s;$.x=j*Math.cos(i),$.y=j*Math.sin(i),_.push($.x,$.y,$.z),w.push(0,0,1),ne.x=($.x/n+1)/2,ne.y=($.y/n+1)/2,E.push(ne.x,ne.y)}j+=q}for(let r=0;r<i;r++){const n=r*(a+1);for(let r=0;r<a;r++){const i=r+n,o=i,s=i+a+1,_=i+a+2,w=i+1;y.push(o,s,w),y.push(s,_,w)}}this.setIndex(y),this.setAttribute("position",new Float32BufferAttribute(_,3)),this.setAttribute("normal",new Float32BufferAttribute(w,3)),this.setAttribute("uv",new Float32BufferAttribute(E,2))}function LatheGeometry(r,n,a,i){Geometry.call(this),this.type="LatheGeometry",this.parameters={points:r,segments:n,phiStart:a,phiLength:i},this.fromBufferGeometry(new LatheBufferGeometry(r,n,a,i)),this.mergeVertices()}function LatheBufferGeometry(r,n,a,i){BufferGeometry.call(this),this.type="LatheBufferGeometry",this.parameters={points:r,segments:n,phiStart:a,phiLength:i},n=Math.floor(n)||12,a=a||0,i=i||2*Math.PI,i=Kn.clamp(i,0,2*Math.PI);const o=[],s=[],y=[],_=1/n,w=new Vector3,E=new Vector2;for(let o=0;o<=n;o++){const j=a+o*_*i,q=Math.sin(j),$=Math.cos(j);for(let a=0;a<=r.length-1;a++)w.x=r[a].x*q,w.y=r[a].y,w.z=r[a].x*$,s.push(w.x,w.y,w.z),E.x=o/n,E.y=a/(r.length-1),y.push(E.x,E.y)}for(let a=0;a<n;a++)for(let n=0;n<r.length-1;n++){const i=n+a*r.length,s=i,y=i+r.length,_=i+r.length+1,w=i+1;o.push(s,y,w),o.push(y,_,w)}if(this.setIndex(o),this.setAttribute("position",new Float32BufferAttribute(s,3)),this.setAttribute("uv",new Float32BufferAttribute(y,2)),this.computeVertexNormals(),i===2*Math.PI){const a=this.attributes.normal.array,i=new Vector3,o=new Vector3,s=new Vector3,y=n*r.length*3;for(let n=0,_=0;n<r.length;n++,_+=3)i.x=a[_+0],i.y=a[_+1],i.z=a[_+2],o.x=a[y+_+0],o.y=a[y+_+1],o.z=a[y+_+2],s.addVectors(i,o).normalize(),a[_+0]=a[y+_+0]=s.x,a[_+1]=a[y+_+1]=s.y,a[_+2]=a[y+_+2]=s.z}}function ShapeGeometry(r,n){Geometry.call(this),this.type="ShapeGeometry","object"==typeof n&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),n=n.curveSegments),this.parameters={shapes:r,curveSegments:n},this.fromBufferGeometry(new ShapeBufferGeometry(r,n)),this.mergeVertices()}function ShapeBufferGeometry(r,n){BufferGeometry.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:r,curveSegments:n},n=n||12;const a=[],i=[],o=[],s=[];let y=0,_=0;if(!1===Array.isArray(r))addShape(r);else for(let n=0;n<r.length;n++)addShape(r[n]),this.addGroup(y,_,n),y+=_,_=0;function addShape(r){const y=i.length/3,w=r.extractPoints(n);let E=w.shape;const j=w.holes;!1===Ys.isClockWise(E)&&(E=E.reverse());for(let r=0,n=j.length;r<n;r++){const n=j[r];!0===Ys.isClockWise(n)&&(j[r]=n.reverse())}const q=Ys.triangulateShape(E,j);for(let r=0,n=j.length;r<n;r++){const n=j[r];E=E.concat(n)}for(let r=0,n=E.length;r<n;r++){const n=E[r];i.push(n.x,n.y,0),o.push(0,0,1),s.push(n.x,n.y)}for(let r=0,n=q.length;r<n;r++){const n=q[r],i=n[0]+y,o=n[1]+y,s=n[2]+y;a.push(i,o,s),_+=3}}this.setIndex(a),this.setAttribute("position",new Float32BufferAttribute(i,3)),this.setAttribute("normal",new Float32BufferAttribute(o,3)),this.setAttribute("uv",new Float32BufferAttribute(s,2))}function toJSON$1(r,n){if(n.shapes=[],Array.isArray(r))for(let a=0,i=r.length;a<i;a++){const i=r[a];n.shapes.push(i.uuid)}else n.shapes.push(r.uuid);return n}function EdgesGeometry(r,n){BufferGeometry.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:n},n=void 0!==n?n:1;const a=[],i=Math.cos(Kn.DEG2RAD*n),o=[0,0],s={};let y,_,w;const E=["a","b","c"];let j;r.isBufferGeometry?(j=new Geometry,j.fromBufferGeometry(r)):j=r.clone(),j.mergeVertices(),j.computeFaceNormals();const q=j.vertices,$=j.faces;for(let r=0,n=$.length;r<n;r++){const n=$[r];for(let a=0;a<3;a++)y=n[E[a]],_=n[E[(a+1)%3]],o[0]=Math.min(y,_),o[1]=Math.max(y,_),w=o[0]+","+o[1],void 0===s[w]?s[w]={index1:o[0],index2:o[1],face1:r,face2:void 0}:s[w].face2=r}for(w in s){const r=s[w];if(void 0===r.face2||$[r.face1].normal.dot($[r.face2].normal)<=i){let n=q[r.index1];a.push(n.x,n.y,n.z),n=q[r.index2],a.push(n.x,n.y,n.z)}}this.setAttribute("position",new Float32BufferAttribute(a,3))}function CylinderGeometry(r,n,a,i,o,s,y,_){Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:r,radiusBottom:n,height:a,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:y,thetaLength:_},this.fromBufferGeometry(new CylinderBufferGeometry(r,n,a,i,o,s,y,_)),this.mergeVertices()}function CylinderBufferGeometry(r,n,a,i,o,s,y,_){BufferGeometry.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:r,radiusBottom:n,height:a,radialSegments:i,heightSegments:o,openEnded:s,thetaStart:y,thetaLength:_};const w=this;r=void 0!==r?r:1,n=void 0!==n?n:1,a=a||1,i=Math.floor(i)||8,o=Math.floor(o)||1,s=void 0!==s&&s,y=void 0!==y?y:0,_=void 0!==_?_:2*Math.PI;const E=[],j=[],q=[],$=[];let ne=0;const ie=[],oe=a/2;let se=0;function generateCap(a){let o,s;const ie=new Vector2,le=new Vector3;let pe=0;const he=!0===a?r:n,me=!0===a?1:-1;o=ne;for(let r=1;r<=i;r++)j.push(0,oe*me,0),q.push(0,me,0),$.push(.5,.5),ne++;s=ne;for(let r=0;r<=i;r++){const n=r/i*_+y,a=Math.cos(n),o=Math.sin(n);le.x=he*o,le.y=oe*me,le.z=he*a,j.push(le.x,le.y,le.z),q.push(0,me,0),ie.x=.5*a+.5,ie.y=.5*o*me+.5,$.push(ie.x,ie.y),ne++}for(let r=0;r<i;r++){const n=o+r,i=s+r;!0===a?E.push(i,i+1,n):E.push(i+1,i,n),pe+=3}w.addGroup(se,pe,!0===a?1:2),se+=pe}!function generateTorso(){const s=new Vector3,le=new Vector3;let pe=0;const he=(n-r)/a;for(let w=0;w<=o;w++){const E=[],se=w/o,pe=se*(n-r)+r;for(let r=0;r<=i;r++){const n=r/i,o=n*_+y,w=Math.sin(o),ie=Math.cos(o);le.x=pe*w,le.y=-se*a+oe,le.z=pe*ie,j.push(le.x,le.y,le.z),s.set(w,he,ie).normalize(),q.push(s.x,s.y,s.z),$.push(n,1-se),E.push(ne++)}ie.push(E)}for(let r=0;r<i;r++)for(let n=0;n<o;n++){const a=ie[n][r],i=ie[n+1][r],o=ie[n+1][r+1],s=ie[n][r+1];E.push(a,i,s),E.push(i,o,s),pe+=6}w.addGroup(se,pe,0),se+=pe}(),!1===s&&(r>0&&generateCap(!0),n>0&&generateCap(!1)),this.setIndex(E),this.setAttribute("position",new Float32BufferAttribute(j,3)),this.setAttribute("normal",new Float32BufferAttribute(q,3)),this.setAttribute("uv",new Float32BufferAttribute($,2))}function ConeGeometry(r,n,a,i,o,s,y){CylinderGeometry.call(this,0,r,n,a,i,o,s,y),this.type="ConeGeometry",this.parameters={radius:r,height:n,radialSegments:a,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:y}}function ConeBufferGeometry(r,n,a,i,o,s,y){CylinderBufferGeometry.call(this,0,r,n,a,i,o,s,y),this.type="ConeBufferGeometry",this.parameters={radius:r,height:n,radialSegments:a,heightSegments:i,openEnded:o,thetaStart:s,thetaLength:y}}function CircleGeometry(r,n,a,i){Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:r,segments:n,thetaStart:a,thetaLength:i},this.fromBufferGeometry(new CircleBufferGeometry(r,n,a,i)),this.mergeVertices()}function CircleBufferGeometry(r,n,a,i){BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:r,segments:n,thetaStart:a,thetaLength:i},r=r||1,n=void 0!==n?Math.max(3,n):8,a=void 0!==a?a:0,i=void 0!==i?i:2*Math.PI;const o=[],s=[],y=[],_=[],w=new Vector3,E=new Vector2;s.push(0,0,0),y.push(0,0,1),_.push(.5,.5);for(let o=0,j=3;o<=n;o++,j+=3){const q=a+o/n*i;w.x=r*Math.cos(q),w.y=r*Math.sin(q),s.push(w.x,w.y,w.z),y.push(0,0,1),E.x=(s[j]/r+1)/2,E.y=(s[j+1]/r+1)/2,_.push(E.x,E.y)}for(let r=1;r<=n;r++)o.push(r,r+1,0);this.setIndex(o),this.setAttribute("position",new Float32BufferAttribute(s,3)),this.setAttribute("normal",new Float32BufferAttribute(y,3)),this.setAttribute("uv",new Float32BufferAttribute(_,2))}TextGeometry.prototype=Object.create(Geometry.prototype),TextGeometry.prototype.constructor=TextGeometry,TextBufferGeometry.prototype=Object.create(ExtrudeBufferGeometry.prototype),TextBufferGeometry.prototype.constructor=TextBufferGeometry,SphereGeometry.prototype=Object.create(Geometry.prototype),SphereGeometry.prototype.constructor=SphereGeometry,SphereBufferGeometry.prototype=Object.create(BufferGeometry.prototype),SphereBufferGeometry.prototype.constructor=SphereBufferGeometry,RingGeometry.prototype=Object.create(Geometry.prototype),RingGeometry.prototype.constructor=RingGeometry,RingBufferGeometry.prototype=Object.create(BufferGeometry.prototype),RingBufferGeometry.prototype.constructor=RingBufferGeometry,LatheGeometry.prototype=Object.create(Geometry.prototype),LatheGeometry.prototype.constructor=LatheGeometry,LatheBufferGeometry.prototype=Object.create(BufferGeometry.prototype),LatheBufferGeometry.prototype.constructor=LatheBufferGeometry,ShapeGeometry.prototype=Object.create(Geometry.prototype),ShapeGeometry.prototype.constructor=ShapeGeometry,ShapeGeometry.prototype.toJSON=function(){const r=Geometry.prototype.toJSON.call(this);return toJSON$1(this.parameters.shapes,r)},ShapeBufferGeometry.prototype=Object.create(BufferGeometry.prototype),ShapeBufferGeometry.prototype.constructor=ShapeBufferGeometry,ShapeBufferGeometry.prototype.toJSON=function(){const r=BufferGeometry.prototype.toJSON.call(this);return toJSON$1(this.parameters.shapes,r)},EdgesGeometry.prototype=Object.create(BufferGeometry.prototype),EdgesGeometry.prototype.constructor=EdgesGeometry,CylinderGeometry.prototype=Object.create(Geometry.prototype),CylinderGeometry.prototype.constructor=CylinderGeometry,CylinderBufferGeometry.prototype=Object.create(BufferGeometry.prototype),CylinderBufferGeometry.prototype.constructor=CylinderBufferGeometry,ConeGeometry.prototype=Object.create(CylinderGeometry.prototype),ConeGeometry.prototype.constructor=ConeGeometry,ConeBufferGeometry.prototype=Object.create(CylinderBufferGeometry.prototype),ConeBufferGeometry.prototype.constructor=ConeBufferGeometry,CircleGeometry.prototype=Object.create(Geometry.prototype),CircleGeometry.prototype.constructor=CircleGeometry,CircleBufferGeometry.prototype=Object.create(BufferGeometry.prototype),CircleBufferGeometry.prototype.constructor=CircleBufferGeometry;var Xs=Object.freeze({__proto__:null,WireframeGeometry,ParametricGeometry,ParametricBufferGeometry,TetrahedronGeometry,TetrahedronBufferGeometry,OctahedronGeometry,OctahedronBufferGeometry,IcosahedronGeometry,IcosahedronBufferGeometry,DodecahedronGeometry,DodecahedronBufferGeometry,PolyhedronGeometry,PolyhedronBufferGeometry,TubeGeometry,TubeBufferGeometry,TorusKnotGeometry,TorusKnotBufferGeometry,TorusGeometry,TorusBufferGeometry,TextGeometry,TextBufferGeometry,SphereGeometry,SphereBufferGeometry,RingGeometry,RingBufferGeometry,PlaneGeometry,PlaneBufferGeometry,LatheGeometry,LatheBufferGeometry,ShapeGeometry,ShapeBufferGeometry,ExtrudeGeometry,ExtrudeBufferGeometry,EdgesGeometry,ConeGeometry,ConeBufferGeometry,CylinderGeometry,CylinderBufferGeometry,CircleGeometry,CircleBufferGeometry,BoxGeometry,BoxBufferGeometry});function ShadowMaterial(r){Material.call(this),this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.setValues(r)}function RawShaderMaterial(r){ShaderMaterial.call(this,r),this.type="RawShaderMaterial"}function MeshStandardMaterial(r){Material.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xn,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(r)}function MeshPhysicalMaterial(r){MeshStandardMaterial.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(r)}function MeshPhongMaterial(r){Material.call(this),this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xn,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ot,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(r)}function MeshToonMaterial(r){Material.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xn,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(r)}function MeshNormalMaterial(r){Material.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xn,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(r)}function MeshLambertMaterial(r){Material.call(this),this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ot,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(r)}function MeshMatcapMaterial(r){Material.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=xn,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(r)}function LineDashedMaterial(r){LineBasicMaterial.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(r)}ShadowMaterial.prototype=Object.create(Material.prototype),ShadowMaterial.prototype.constructor=ShadowMaterial,ShadowMaterial.prototype.isShadowMaterial=!0,ShadowMaterial.prototype.copy=function(r){return Material.prototype.copy.call(this,r),this.color.copy(r.color),this},RawShaderMaterial.prototype=Object.create(ShaderMaterial.prototype),RawShaderMaterial.prototype.constructor=RawShaderMaterial,RawShaderMaterial.prototype.isRawShaderMaterial=!0,MeshStandardMaterial.prototype=Object.create(Material.prototype),MeshStandardMaterial.prototype.constructor=MeshStandardMaterial,MeshStandardMaterial.prototype.isMeshStandardMaterial=!0,MeshStandardMaterial.prototype.copy=function(r){return Material.prototype.copy.call(this,r),this.defines={STANDARD:""},this.color.copy(r.color),this.roughness=r.roughness,this.metalness=r.metalness,this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.roughnessMap=r.roughnessMap,this.metalnessMap=r.metalnessMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.envMapIntensity=r.envMapIntensity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.skinning=r.skinning,this.morphTargets=r.morphTargets,this.morphNormals=r.morphNormals,this.vertexTangents=r.vertexTangents,this},MeshPhysicalMaterial.prototype=Object.create(MeshStandardMaterial.prototype),MeshPhysicalMaterial.prototype.constructor=MeshPhysicalMaterial,MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial=!0,MeshPhysicalMaterial.prototype.copy=function(r){return MeshStandardMaterial.prototype.copy.call(this,r),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=r.clearcoat,this.clearcoatMap=r.clearcoatMap,this.clearcoatRoughness=r.clearcoatRoughness,this.clearcoatRoughnessMap=r.clearcoatRoughnessMap,this.clearcoatNormalMap=r.clearcoatNormalMap,this.clearcoatNormalScale.copy(r.clearcoatNormalScale),this.reflectivity=r.reflectivity,r.sheen?this.sheen=(this.sheen||new Color).copy(r.sheen):this.sheen=null,this.transmission=r.transmission,this.transmissionMap=r.transmissionMap,this},MeshPhongMaterial.prototype=Object.create(Material.prototype),MeshPhongMaterial.prototype.constructor=MeshPhongMaterial,MeshPhongMaterial.prototype.isMeshPhongMaterial=!0,MeshPhongMaterial.prototype.copy=function(r){return Material.prototype.copy.call(this,r),this.color.copy(r.color),this.specular.copy(r.specular),this.shininess=r.shininess,this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.skinning=r.skinning,this.morphTargets=r.morphTargets,this.morphNormals=r.morphNormals,this},MeshToonMaterial.prototype=Object.create(Material.prototype),MeshToonMaterial.prototype.constructor=MeshToonMaterial,MeshToonMaterial.prototype.isMeshToonMaterial=!0,MeshToonMaterial.prototype.copy=function(r){return Material.prototype.copy.call(this,r),this.color.copy(r.color),this.map=r.map,this.gradientMap=r.gradientMap,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.alphaMap=r.alphaMap,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.skinning=r.skinning,this.morphTargets=r.morphTargets,this.morphNormals=r.morphNormals,this},MeshNormalMaterial.prototype=Object.create(Material.prototype),MeshNormalMaterial.prototype.constructor=MeshNormalMaterial,MeshNormalMaterial.prototype.isMeshNormalMaterial=!0,MeshNormalMaterial.prototype.copy=function(r){return Material.prototype.copy.call(this,r),this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.skinning=r.skinning,this.morphTargets=r.morphTargets,this.morphNormals=r.morphNormals,this},MeshLambertMaterial.prototype=Object.create(Material.prototype),MeshLambertMaterial.prototype.constructor=MeshLambertMaterial,MeshLambertMaterial.prototype.isMeshLambertMaterial=!0,MeshLambertMaterial.prototype.copy=function(r){return Material.prototype.copy.call(this,r),this.color.copy(r.color),this.map=r.map,this.lightMap=r.lightMap,this.lightMapIntensity=r.lightMapIntensity,this.aoMap=r.aoMap,this.aoMapIntensity=r.aoMapIntensity,this.emissive.copy(r.emissive),this.emissiveMap=r.emissiveMap,this.emissiveIntensity=r.emissiveIntensity,this.specularMap=r.specularMap,this.alphaMap=r.alphaMap,this.envMap=r.envMap,this.combine=r.combine,this.reflectivity=r.reflectivity,this.refractionRatio=r.refractionRatio,this.wireframe=r.wireframe,this.wireframeLinewidth=r.wireframeLinewidth,this.wireframeLinecap=r.wireframeLinecap,this.wireframeLinejoin=r.wireframeLinejoin,this.skinning=r.skinning,this.morphTargets=r.morphTargets,this.morphNormals=r.morphNormals,this},MeshMatcapMaterial.prototype=Object.create(Material.prototype),MeshMatcapMaterial.prototype.constructor=MeshMatcapMaterial,MeshMatcapMaterial.prototype.isMeshMatcapMaterial=!0,MeshMatcapMaterial.prototype.copy=function(r){return Material.prototype.copy.call(this,r),this.defines={MATCAP:""},this.color.copy(r.color),this.matcap=r.matcap,this.map=r.map,this.bumpMap=r.bumpMap,this.bumpScale=r.bumpScale,this.normalMap=r.normalMap,this.normalMapType=r.normalMapType,this.normalScale.copy(r.normalScale),this.displacementMap=r.displacementMap,this.displacementScale=r.displacementScale,this.displacementBias=r.displacementBias,this.alphaMap=r.alphaMap,this.skinning=r.skinning,this.morphTargets=r.morphTargets,this.morphNormals=r.morphNormals,this},LineDashedMaterial.prototype=Object.create(LineBasicMaterial.prototype),LineDashedMaterial.prototype.constructor=LineDashedMaterial,LineDashedMaterial.prototype.isLineDashedMaterial=!0,LineDashedMaterial.prototype.copy=function(r){return LineBasicMaterial.prototype.copy.call(this,r),this.scale=r.scale,this.dashSize=r.dashSize,this.gapSize=r.gapSize,this};var $s=Object.freeze({__proto__:null,ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material});const Ks={arraySlice:(r,n,a)=>Ks.isTypedArray(r)?new r.constructor(r.subarray(n,void 0!==a?a:r.length)):r.slice(n,a),convertArray:(r,n,a)=>!r||!a&&r.constructor===n?r:"number"==typeof n.BYTES_PER_ELEMENT?new n(r):[].slice.call(r),isTypedArray:r=>ArrayBuffer.isView(r)&&!(r instanceof DataView),getKeyframeOrder(r){const n=r.length,a=Array(n);for(let r=0;r!==n;++r)a[r]=r;return a.sort((function compareTime(n,a){return r[n]-r[a]})),a},sortedArray(r,n,a){const i=r.length,o=new r.constructor(i);for(let s=0,y=0;y!==i;++s){const i=a[s]*n;for(let a=0;a!==n;++a)o[y++]=r[i+a]}return o},flattenJSON(r,n,a,i){let o=1,s=r[0];for(;void 0!==s&&void 0===s[i];)s=r[o++];if(void 0===s)return;let y=s[i];if(void 0!==y)if(Array.isArray(y))do{y=s[i],void 0!==y&&(n.push(s.time),a.push.apply(a,y)),s=r[o++]}while(void 0!==s);else if(void 0!==y.toArray)do{y=s[i],void 0!==y&&(n.push(s.time),y.toArray(a,a.length)),s=r[o++]}while(void 0!==s);else do{y=s[i],void 0!==y&&(n.push(s.time),a.push(y)),s=r[o++]}while(void 0!==s)},subclip(r,n,a,i,o){o=o||30;const s=r.clone();s.name=n;const y=[];for(let r=0;r<s.tracks.length;++r){const n=s.tracks[r],_=n.getValueSize(),w=[],E=[];for(let r=0;r<n.times.length;++r){const s=n.times[r]*o;if(!(s<a||s>=i)){w.push(n.times[r]);for(let a=0;a<_;++a)E.push(n.values[r*_+a])}}0!==w.length&&(n.times=Ks.convertArray(w,n.times.constructor),n.values=Ks.convertArray(E,n.values.constructor),y.push(n))}s.tracks=y;let _=1/0;for(let r=0;r<s.tracks.length;++r)_>s.tracks[r].times[0]&&(_=s.tracks[r].times[0]);for(let r=0;r<s.tracks.length;++r)s.tracks[r].shift(-1*_);return s.resetDuration(),s},makeClipAdditive(r,n,a,i){void 0===n&&(n=0),void 0===a&&(a=r),(void 0===i||i<=0)&&(i=30);const o=r.tracks.length,s=n/i;for(let n=0;n<o;++n){const i=a.tracks[n],o=i.ValueTypeName;if("bool"===o||"string"===o)continue;const y=r.tracks.find((function(r){return r.name===i.name&&r.ValueTypeName===o}));if(void 0===y)continue;const _=i.getValueSize(),w=i.times.length-1;let E;if(s<=i.times[0])E=Ks.arraySlice(i.values,0,i.valueSize);else if(s>=i.times[w]){const r=w*_;E=Ks.arraySlice(i.values,r)}else{const r=i.createInterpolant();r.evaluate(s),E=r.resultBuffer}"quaternion"===o&&new Quaternion(E[0],E[1],E[2],E[3]).normalize().conjugate().toArray(E);const j=y.times.length;for(let r=0;r<j;++r){const n=r*_;if("quaternion"===o)Quaternion.multiplyQuaternionsFlat(y.values,n,E,0,y.values,n);else for(let r=0;r<_;++r)y.values[n+r]-=E[r]}}return r.blendMode=an,r}};function Interpolant(r,n,a,i){this.parameterPositions=r,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(a),this.sampleValues=n,this.valueSize=a}function CubicInterpolant(r,n,a,i){Interpolant.call(this,r,n,a,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function LinearInterpolant(r,n,a,i){Interpolant.call(this,r,n,a,i)}function DiscreteInterpolant(r,n,a,i){Interpolant.call(this,r,n,a,i)}function KeyframeTrack(r,n,a,i){if(void 0===r)throw Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw Error("THREE.KeyframeTrack: no keyframes in track named "+r);this.name=r,this.times=Ks.convertArray(n,this.TimeBufferType),this.values=Ks.convertArray(a,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function BooleanKeyframeTrack(r,n,a){KeyframeTrack.call(this,r,n,a)}function ColorKeyframeTrack(r,n,a,i){KeyframeTrack.call(this,r,n,a,i)}function NumberKeyframeTrack(r,n,a,i){KeyframeTrack.call(this,r,n,a,i)}function QuaternionLinearInterpolant(r,n,a,i){Interpolant.call(this,r,n,a,i)}function QuaternionKeyframeTrack(r,n,a,i){KeyframeTrack.call(this,r,n,a,i)}function StringKeyframeTrack(r,n,a,i){KeyframeTrack.call(this,r,n,a,i)}function VectorKeyframeTrack(r,n,a,i){KeyframeTrack.call(this,r,n,a,i)}function AnimationClip(r,n,a,i){this.name=r,this.tracks=a,this.duration=void 0!==n?n:-1,this.blendMode=void 0!==i?i:nn,this.uuid=Kn.generateUUID(),this.duration<0&&this.resetDuration()}function parseKeyframeTrack(r){if(void 0===r.type)throw Error("THREE.KeyframeTrack: track type undefined, can not parse");const n=function getTrackTypeForValueTypeName(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}(r.type);if(void 0===r.times){const n=[],a=[];Ks.flattenJSON(r.keys,n,a,"value"),r.times=n,r.values=a}return void 0!==n.parse?n.parse(r):new n(r.name,r.times,r.values,r.interpolation)}Object.assign(Interpolant.prototype,{evaluate(r){let n=this.parameterPositions,a=this._cachedIndex,i=n[a],o=n[a-1];e:{t:{let s;r:{n:if(!(r<i)){for(let s=a+2;;){if(void 0===i){if(r<o)break n;return a=n.length,this._cachedIndex=a,this.afterEnd_(a-1,r,o)}if(a===s)break;if(o=i,i=n[++a],r<i)break t}s=n.length;break r}if(r>=o)break e;{const y=n[1];r<y&&(a=2,o=y);for(let s=a-2;;){if(void 0===o)return this._cachedIndex=0,this.beforeStart_(0,r,i);if(a===s)break;if(i=o,o=n[--a-1],r>=o)break t}s=a,a=0}}for(;a<s;){const i=a+s>>>1;r<n[i]?s=i:a=i+1}if(i=n[a],o=n[a-1],void 0===o)return this._cachedIndex=0,this.beforeStart_(0,r,i);if(void 0===i)return a=n.length,this._cachedIndex=a,this.afterEnd_(a-1,o,r)}this._cachedIndex=a,this.intervalChanged_(a,o,i)}return this.interpolate_(a,o,r,i)},settings:null,DefaultSettings_:{},getSettings_(){return this.settings||this.DefaultSettings_},copySampleValue_(r){const n=this.resultBuffer,a=this.sampleValues,i=this.valueSize,o=r*i;for(let r=0;r!==i;++r)n[r]=a[o+r];return n},interpolate_(){throw Error("call to abstract method")},intervalChanged_(){}}),Object.assign(Interpolant.prototype,{beforeStart_:Interpolant.prototype.copySampleValue_,afterEnd_:Interpolant.prototype.copySampleValue_}),CubicInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:CubicInterpolant,DefaultSettings_:{endingStart:en,endingEnd:en},intervalChanged_(r,n,a){let i=this.parameterPositions,o=r-2,s=r+1,y=i[o],_=i[s];if(void 0===y)switch(this.getSettings_().endingStart){case tn:o=r,y=2*n-a;break;case rn:o=i.length-2,y=n+i[o]-i[o+1];break;default:o=r,y=a}if(void 0===_)switch(this.getSettings_().endingEnd){case tn:s=r,_=2*a-n;break;case rn:s=1,_=a+i[1]-i[0];break;default:s=r-1,_=n}const w=.5*(a-n),E=this.valueSize;this._weightPrev=w/(n-y),this._weightNext=w/(_-a),this._offsetPrev=o*E,this._offsetNext=s*E},interpolate_(r,n,a,i){const o=this.resultBuffer,s=this.sampleValues,y=this.valueSize,_=r*y,w=_-y,E=this._offsetPrev,j=this._offsetNext,q=this._weightPrev,$=this._weightNext,ne=(a-n)/(i-n),ie=ne*ne,oe=ie*ne,se=-q*oe+2*q*ie-q*ne,le=(1+q)*oe+(-1.5-2*q)*ie+(-.5+q)*ne+1,pe=(-1-$)*oe+(1.5+$)*ie+.5*ne,he=$*oe-$*ie;for(let r=0;r!==y;++r)o[r]=se*s[E+r]+le*s[w+r]+pe*s[_+r]+he*s[j+r];return o}}),LinearInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:LinearInterpolant,interpolate_(r,n,a,i){const o=this.resultBuffer,s=this.sampleValues,y=this.valueSize,_=r*y,w=_-y,E=(a-n)/(i-n),j=1-E;for(let r=0;r!==y;++r)o[r]=s[w+r]*j+s[_+r]*E;return o}}),DiscreteInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:DiscreteInterpolant,interpolate_(r){return this.copySampleValue_(r-1)}}),Object.assign(KeyframeTrack,{toJSON(r){const n=r.constructor;let a;if(void 0!==n.toJSON)a=n.toJSON(r);else{a={name:r.name,times:Ks.convertArray(r.times,Array),values:Ks.convertArray(r.values,Array)};const n=r.getInterpolation();n!==r.DefaultInterpolation&&(a.interpolation=n)}return a.type=r.ValueTypeName,a}}),Object.assign(KeyframeTrack.prototype,{constructor:KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Qr,InterpolantFactoryMethodDiscrete(r){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),r)},InterpolantFactoryMethodLinear(r){return new LinearInterpolant(this.times,this.values,this.getValueSize(),r)},InterpolantFactoryMethodSmooth(r){return new CubicInterpolant(this.times,this.values,this.getValueSize(),r)},setInterpolation(r){let n;switch(r){case Jr:n=this.InterpolantFactoryMethodDiscrete;break;case Qr:n=this.InterpolantFactoryMethodLinear;break;case Zr:n=this.InterpolantFactoryMethodSmooth}if(void 0===n){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(r===this.DefaultInterpolation)throw Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=n,this},getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Jr;case this.InterpolantFactoryMethodLinear:return Qr;case this.InterpolantFactoryMethodSmooth:return Zr}},getValueSize(){return this.values.length/this.times.length},shift(r){if(0!==r){const n=this.times;for(let a=0,i=n.length;a!==i;++a)n[a]+=r}return this},scale(r){if(1!==r){const n=this.times;for(let a=0,i=n.length;a!==i;++a)n[a]*=r}return this},trim(r,n){const a=this.times,i=a.length;let o=0,s=i-1;for(;o!==i&&a[o]<r;)++o;for(;-1!==s&&a[s]>n;)--s;if(++s,0!==o||s!==i){o>=s&&(s=Math.max(s,1),o=s-1);const r=this.getValueSize();this.times=Ks.arraySlice(a,o,s),this.values=Ks.arraySlice(this.values,o*r,s*r)}return this},validate(){let r=!0;const n=this.getValueSize();n-Math.floor(n)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),r=!1);const a=this.times,i=this.values,o=a.length;0===o&&(console.error("THREE.KeyframeTrack: Track is empty.",this),r=!1);let s=null;for(let n=0;n!==o;n++){const i=a[n];if("number"==typeof i&&isNaN(i)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,n,i),r=!1;break}if(null!==s&&s>i){console.error("THREE.KeyframeTrack: Out of order keys.",this,n,i,s),r=!1;break}s=i}if(void 0!==i&&Ks.isTypedArray(i))for(let n=0,a=i.length;n!==a;++n){const a=i[n];if(isNaN(a)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,n,a),r=!1;break}}return r},optimize(){const r=Ks.arraySlice(this.times),n=Ks.arraySlice(this.values),a=this.getValueSize(),i=this.getInterpolation()===Zr,o=r.length-1;let s=1;for(let y=1;y<o;++y){let o=!1;const _=r[y];if(_!==r[y+1]&&(1!==y||_!==_[0]))if(i)o=!0;else{const r=y*a,i=r-a,s=r+a;for(let y=0;y!==a;++y){const a=n[r+y];if(a!==n[i+y]||a!==n[s+y]){o=!0;break}}}if(o){if(y!==s){r[s]=r[y];const i=y*a,o=s*a;for(let r=0;r!==a;++r)n[o+r]=n[i+r]}++s}}if(o>0){r[s]=r[o];for(let r=o*a,i=s*a,y=0;y!==a;++y)n[i+y]=n[r+y];++s}return s!==r.length?(this.times=Ks.arraySlice(r,0,s),this.values=Ks.arraySlice(n,0,s*a)):(this.times=r,this.values=n),this},clone(){const r=Ks.arraySlice(this.times,0),n=Ks.arraySlice(this.values,0),a=new(0,this.constructor)(this.name,r,n);return a.createInterpolant=this.createInterpolant,a}}),BooleanKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Jr,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ColorKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:ColorKeyframeTrack,ValueTypeName:"color"}),NumberKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:NumberKeyframeTrack,ValueTypeName:"number"}),QuaternionLinearInterpolant.prototype=Object.assign(Object.create(Interpolant.prototype),{constructor:QuaternionLinearInterpolant,interpolate_(r,n,a,i){const o=this.resultBuffer,s=this.sampleValues,y=this.valueSize,_=(a-n)/(i-n);let w=r*y;for(let r=w+y;w!==r;w+=4)Quaternion.slerpFlat(o,0,s,w-y,s,w,_);return o}}),QuaternionKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:Qr,InterpolantFactoryMethodLinear(r){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),r)},InterpolantFactoryMethodSmooth:void 0}),StringKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Jr,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),VectorKeyframeTrack.prototype=Object.assign(Object.create(KeyframeTrack.prototype),{constructor:VectorKeyframeTrack,ValueTypeName:"vector"}),Object.assign(AnimationClip,{parse(r){const n=[],a=r.tracks,i=1/(r.fps||1);for(let r=0,o=a.length;r!==o;++r)n.push(parseKeyframeTrack(a[r]).scale(i));return new AnimationClip(r.name,r.duration,n,r.blendMode)},toJSON(r){const n=[],a=r.tracks,i={name:r.name,duration:r.duration,tracks:n,uuid:r.uuid,blendMode:r.blendMode};for(let r=0,i=a.length;r!==i;++r)n.push(KeyframeTrack.toJSON(a[r]));return i},CreateFromMorphTargetSequence(r,n,a,i){const o=n.length,s=[];for(let r=0;r<o;r++){let y=[],_=[];y.push((r+o-1)%o,r,(r+1)%o),_.push(0,1,0);const w=Ks.getKeyframeOrder(y);y=Ks.sortedArray(y,1,w),_=Ks.sortedArray(_,1,w),i||0!==y[0]||(y.push(o),_.push(_[0])),s.push(new NumberKeyframeTrack(".morphTargetInfluences["+n[r].name+"]",y,_).scale(1/a))}return new AnimationClip(r,-1,s)},findByName(r,n){let a=r;if(!Array.isArray(r)){const n=r;a=n.geometry&&n.geometry.animations||n.animations}for(let r=0;r<a.length;r++)if(a[r].name===n)return a[r];return null},CreateClipsFromMorphTargetSequences(r,n,a){const i={},o=/^([\w-]*?)([\d]+)$/;for(let n=0,a=r.length;n<a;n++){const a=r[n],s=a.name.match(o);if(s&&s.length>1){const r=s[1];let n=i[r];n||(i[r]=n=[]),n.push(a)}}const s=[];for(const r in i)s.push(AnimationClip.CreateFromMorphTargetSequence(r,i[r],n,a));return s},parseAnimation(r,n){if(!r)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const addNonemptyTrack=function(r,n,a,i,o){if(0!==a.length){const s=[],y=[];Ks.flattenJSON(a,s,y,i),0!==s.length&&o.push(new r(n,s,y))}},a=[],i=r.name||"default",o=r.fps||30,s=r.blendMode;let y=r.length||-1;const _=r.hierarchy||[];for(let r=0;r<_.length;r++){const i=_[r].keys;if(i&&0!==i.length)if(i[0].morphTargets){const r={};let n;for(n=0;n<i.length;n++)if(i[n].morphTargets)for(let a=0;a<i[n].morphTargets.length;a++)r[i[n].morphTargets[a]]=-1;for(const o in r){const r=[],s=[];for(let a=0;a!==i[n].morphTargets.length;++a){const a=i[n];r.push(a.time),s.push(a.morphTarget===o?1:0)}a.push(new NumberKeyframeTrack(".morphTargetInfluence["+o+"]",r,s))}y=r.length*(o||1)}else{const o=".bones["+n[r].name+"]";addNonemptyTrack(VectorKeyframeTrack,o+".position",i,"pos",a),addNonemptyTrack(QuaternionKeyframeTrack,o+".quaternion",i,"rot",a),addNonemptyTrack(VectorKeyframeTrack,o+".scale",i,"scl",a)}}return 0===a.length?null:new AnimationClip(i,y,a,s)}}),Object.assign(AnimationClip.prototype,{resetDuration(){let r=0;for(let n=0,a=this.tracks.length;n!==a;++n){const a=this.tracks[n];r=Math.max(r,a.times[a.times.length-1])}return this.duration=r,this},trim(){for(let r=0;r<this.tracks.length;r++)this.tracks[r].trim(0,this.duration);return this},validate(){let r=!0;for(let n=0;n<this.tracks.length;n++)r=r&&this.tracks[n].validate();return r},optimize(){for(let r=0;r<this.tracks.length;r++)this.tracks[r].optimize();return this},clone(){const r=[];for(let n=0;n<this.tracks.length;n++)r.push(this.tracks[n].clone());return new AnimationClip(this.name,this.duration,r,this.blendMode)}});const Js={enabled:!1,files:{},add(r,n){!1!==this.enabled&&(this.files[r]=n)},get(r){if(!1!==this.enabled)return this.files[r]},remove(r){delete this.files[r]},clear(){this.files={}}};function LoadingManager(r,n,a){const i=this;let o=!1,s=0,y=0,_=void 0;const w=[];this.onStart=void 0,this.onLoad=r,this.onProgress=n,this.onError=a,this.itemStart=function(r){y++,!1===o&&void 0!==i.onStart&&i.onStart(r,s,y),o=!0},this.itemEnd=function(r){s++,void 0!==i.onProgress&&i.onProgress(r,s,y),s===y&&(o=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(r){void 0!==i.onError&&i.onError(r)},this.resolveURL=function(r){return _?_(r):r},this.setURLModifier=function(r){return _=r,this},this.addHandler=function(r,n){return w.push(r,n),this},this.removeHandler=function(r){const n=w.indexOf(r);return-1!==n&&w.splice(n,2),this},this.getHandler=function(r){for(let n=0,a=w.length;n<a;n+=2){const a=w[n],i=w[n+1];if(a.global&&(a.lastIndex=0),a.test(r))return i}return null}}const Qs=new LoadingManager;function Loader(r){this.manager=void 0!==r?r:Qs,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Loader.prototype,{load(){},loadAsync(r,n){const a=this;return new Promise((function(i,o){a.load(r,i,n,o)}))},parse(){},setCrossOrigin(r){return this.crossOrigin=r,this},setPath(r){return this.path=r,this},setResourcePath(r){return this.resourcePath=r,this},setRequestHeader(r){return this.requestHeader=r,this}});const Zs={};function FileLoader(r){Loader.call(this,r)}function AnimationLoader(r){Loader.call(this,r)}function CompressedTextureLoader(r){Loader.call(this,r)}function DataTextureLoader(r){Loader.call(this,r)}function ImageLoader(r){Loader.call(this,r)}function CubeTextureLoader(r){Loader.call(this,r)}function TextureLoader(r){Loader.call(this,r)}function Curve(){this.type="Curve",this.arcLengthDivisions=200}function EllipseCurve(r,n,a,i,o,s,y,_){Curve.call(this),this.type="EllipseCurve",this.aX=r||0,this.aY=n||0,this.xRadius=a||1,this.yRadius=i||1,this.aStartAngle=o||0,this.aEndAngle=s||2*Math.PI,this.aClockwise=y||!1,this.aRotation=_||0}function ArcCurve(r,n,a,i,o,s){EllipseCurve.call(this,r,n,a,a,i,o,s),this.type="ArcCurve"}function CubicPoly(){let r=0,n=0,a=0,i=0;function init(o,s,y,_){r=o,n=y,a=-3*o+3*s-2*y-_,i=2*o-2*s+y+_}return{initCatmullRom(r,n,a,i,o){init(n,a,o*(a-r),o*(i-n))},initNonuniformCatmullRom(r,n,a,i,o,s,y){let _=(n-r)/o-(a-r)/(o+s)+(a-n)/s,w=(a-n)/s-(i-n)/(s+y)+(i-a)/y;_*=s,w*=s,init(n,a,_,w)},calc(o){const s=o*o;return r+n*o+a*s+i*s*o}}}FileLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:FileLoader,load(r,n,a,i){void 0===r&&(r=""),void 0!==this.path&&(r=this.path+r),r=this.manager.resolveURL(r);const o=this,s=Js.get(r);if(void 0!==s)return o.manager.itemStart(r),setTimeout((function(){n&&n(s),o.manager.itemEnd(r)}),0),s;if(void 0!==Zs[r])return void Zs[r].push({onLoad:n,onProgress:a,onError:i});const y=r.match(/^data:(.*?)(;base64)?,(.*)$/);let _;if(y){const a=y[1],s=!!y[2];let _=y[3];_=decodeURIComponent(_),s&&(_=atob(_));try{let i;const s=(this.responseType||"").toLowerCase();switch(s){case"arraybuffer":case"blob":const r=new Uint8Array(_.length);for(let n=0;n<_.length;n++)r[n]=_.charCodeAt(n);i="blob"===s?new Blob([r.buffer],{type:a}):r.buffer;break;case"document":const n=new DOMParser;i=n.parseFromString(_,a);break;case"json":i=JSON.parse(_);break;default:i=_}setTimeout((function(){n&&n(i),o.manager.itemEnd(r)}),0)}catch(n){setTimeout((function(){i&&i(n),o.manager.itemError(r),o.manager.itemEnd(r)}),0)}}else{Zs[r]=[],Zs[r].push({onLoad:n,onProgress:a,onError:i}),_=new XMLHttpRequest,_.open("GET",r,!0),_.addEventListener("load",(function(n){const a=this.response,i=Zs[r];if(delete Zs[r],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Js.add(r,a);for(let r=0,n=i.length;r<n;r++){const n=i[r];n.onLoad&&n.onLoad(a)}o.manager.itemEnd(r)}else{for(let r=0,a=i.length;r<a;r++){const a=i[r];a.onError&&a.onError(n)}o.manager.itemError(r),o.manager.itemEnd(r)}}),!1),_.addEventListener("progress",(function(n){const a=Zs[r];for(let r=0,i=a.length;r<i;r++){const i=a[r];i.onProgress&&i.onProgress(n)}}),!1),_.addEventListener("error",(function(n){const a=Zs[r];delete Zs[r];for(let r=0,i=a.length;r<i;r++){const i=a[r];i.onError&&i.onError(n)}o.manager.itemError(r),o.manager.itemEnd(r)}),!1),_.addEventListener("abort",(function(n){const a=Zs[r];delete Zs[r];for(let r=0,i=a.length;r<i;r++){const i=a[r];i.onError&&i.onError(n)}o.manager.itemError(r),o.manager.itemEnd(r)}),!1),void 0!==this.responseType&&(_.responseType=this.responseType),void 0!==this.withCredentials&&(_.withCredentials=this.withCredentials),_.overrideMimeType&&_.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const r in this.requestHeader)_.setRequestHeader(r,this.requestHeader[r]);_.send(null)}return o.manager.itemStart(r),_},setResponseType(r){return this.responseType=r,this},setWithCredentials(r){return this.withCredentials=r,this},setMimeType(r){return this.mimeType=r,this}}),AnimationLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:AnimationLoader,load(r,n,a,i){const o=this,s=new FileLoader(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.load(r,(function(a){try{n(o.parse(JSON.parse(a)))}catch(n){i?i(n):console.error(n),o.manager.itemError(r)}}),a,i)},parse(r){const n=[];for(let a=0;a<r.length;a++){const i=AnimationClip.parse(r[a]);n.push(i)}return n}}),CompressedTextureLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:CompressedTextureLoader,load(r,n,a,i){const o=this,s=[],y=new CompressedTexture;y.image=s;const _=new FileLoader(this.manager);_.setPath(this.path),_.setResponseType("arraybuffer"),_.setRequestHeader(this.requestHeader);let w=0;function loadTexture(E){_.load(r[E],(function(r){const a=o.parse(r,!0);s[E]={width:a.width,height:a.height,format:a.format,mipmaps:a.mipmaps},w+=1,6===w&&(1===a.mipmapCount&&(y.minFilter=kt),y.format=a.format,y.needsUpdate=!0,n&&n(y))}),a,i)}if(Array.isArray(r))for(let n=0,a=r.length;n<a;++n)loadTexture(n);else _.load(r,(function(r){const a=o.parse(r,!0);if(a.isCubemap){const r=a.mipmaps.length/a.mipmapCount;for(let n=0;n<r;n++){s[n]={mipmaps:[]};for(let r=0;r<a.mipmapCount;r++)s[n].mipmaps.push(a.mipmaps[n*a.mipmapCount+r]),s[n].format=a.format,s[n].width=a.width,s[n].height=a.height}}else y.image.width=a.width,y.image.height=a.height,y.mipmaps=a.mipmaps;1===a.mipmapCount&&(y.minFilter=kt),y.format=a.format,y.needsUpdate=!0,n&&n(y)}),a,i);return y}}),DataTextureLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:DataTextureLoader,load(r,n,a,i){const o=this,s=new DataTexture,y=new FileLoader(this.manager);return y.setResponseType("arraybuffer"),y.setRequestHeader(this.requestHeader),y.setPath(this.path),y.load(r,(function(r){const a=o.parse(r);a&&(void 0!==a.image?s.image=a.image:void 0!==a.data&&(s.image.width=a.width,s.image.height=a.height,s.image.data=a.data),s.wrapS=void 0!==a.wrapS?a.wrapS:Ct,s.wrapT=void 0!==a.wrapT?a.wrapT:Ct,s.magFilter=void 0!==a.magFilter?a.magFilter:kt,s.minFilter=void 0!==a.minFilter?a.minFilter:kt,s.anisotropy=void 0!==a.anisotropy?a.anisotropy:1,void 0!==a.format&&(s.format=a.format),void 0!==a.type&&(s.type=a.type),void 0!==a.mipmaps&&(s.mipmaps=a.mipmaps,s.minFilter=Nt),1===a.mipmapCount&&(s.minFilter=kt),s.needsUpdate=!0,n&&n(s,a))}),a,i),s}}),ImageLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:ImageLoader,load(r,n,a,i){void 0!==this.path&&(r=this.path+r),r=this.manager.resolveURL(r);const o=this,s=Js.get(r);if(void 0!==s)return o.manager.itemStart(r),setTimeout((function(){n&&n(s),o.manager.itemEnd(r)}),0),s;const y=document.createElementNS("http://www.w3.org/1999/xhtml","img");function onImageLoad(){y.removeEventListener("load",onImageLoad,!1),y.removeEventListener("error",onImageError,!1),Js.add(r,this),n&&n(this),o.manager.itemEnd(r)}function onImageError(n){y.removeEventListener("load",onImageLoad,!1),y.removeEventListener("error",onImageError,!1),i&&i(n),o.manager.itemError(r),o.manager.itemEnd(r)}return y.addEventListener("load",onImageLoad,!1),y.addEventListener("error",onImageError,!1),"data:"!==r.substr(0,5)&&void 0!==this.crossOrigin&&(y.crossOrigin=this.crossOrigin),o.manager.itemStart(r),y.src=r,y}}),CubeTextureLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:CubeTextureLoader,load(r,n,a,i){const o=new CubeTexture,s=new ImageLoader(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let y=0;function loadTexture(a){s.load(r[a],(function(r){o.images[a]=r,y++,6===y&&(o.needsUpdate=!0,n&&n(o))}),void 0,i)}for(let n=0;n<r.length;++n)loadTexture(n);return o}}),TextureLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:TextureLoader,load(r,n,a,i){const o=new Texture,s=new ImageLoader(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(r,(function(a){o.image=a;const i=r.search(/\.jpe?g($|\?)/i)>0||0===r.search(/^data\:image\/jpeg/);o.format=i?Xt:$t,o.needsUpdate=!0,void 0!==n&&n(o)}),a,i),o}}),Object.assign(Curve.prototype,{getPoint:()=>(console.warn("THREE.Curve: .getPoint() not implemented."),null),getPointAt(r,n){const a=this.getUtoTmapping(r);return this.getPoint(a,n)},getPoints(r){void 0===r&&(r=5);const n=[];for(let a=0;a<=r;a++)n.push(this.getPoint(a/r));return n},getSpacedPoints(r){void 0===r&&(r=5);const n=[];for(let a=0;a<=r;a++)n.push(this.getPointAt(a/r));return n},getLength(){const r=this.getLengths();return r[r.length-1]},getLengths(r){if(void 0===r&&(r=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===r+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let a,i=this.getPoint(0),o=0;n.push(0);for(let s=1;s<=r;s++)a=this.getPoint(s/r),o+=a.distanceTo(i),n.push(o),i=a;return this.cacheArcLengths=n,n},updateArcLengths(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping(r,n){const a=this.getLengths();let i,o=0,s=a.length;i=n||r*a[s-1];let y,_=0,w=s-1;for(;_<=w;)if(o=Math.floor(_+(w-_)/2),y=a[o]-i,y<0)_=o+1;else{if(!(y>0)){w=o;break}w=o-1}if(o=w,a[o]===i)return o/(s-1);const E=a[o];return(o+(i-E)/(a[o+1]-E))/(s-1)},getTangent(r,n){let a=r-1e-4,i=r+1e-4;a<0&&(a=0),i>1&&(i=1);const o=this.getPoint(a),s=this.getPoint(i),y=n||(o.isVector2?new Vector2:new Vector3);return y.copy(s).sub(o).normalize(),y},getTangentAt(r,n){const a=this.getUtoTmapping(r);return this.getTangent(a,n)},computeFrenetFrames(r,n){const a=new Vector3,i=[],o=[],s=[],y=new Vector3,_=new Matrix4;for(let n=0;n<=r;n++){const a=n/r;i[n]=this.getTangentAt(a,new Vector3),i[n].normalize()}o[0]=new Vector3,s[0]=new Vector3;let w=Number.MAX_VALUE;const E=Math.abs(i[0].x),j=Math.abs(i[0].y),q=Math.abs(i[0].z);E<=w&&(w=E,a.set(1,0,0)),j<=w&&(w=j,a.set(0,1,0)),q<=w&&a.set(0,0,1),y.crossVectors(i[0],a).normalize(),o[0].crossVectors(i[0],y),s[0].crossVectors(i[0],o[0]);for(let n=1;n<=r;n++){if(o[n]=o[n-1].clone(),s[n]=s[n-1].clone(),y.crossVectors(i[n-1],i[n]),y.length()>Number.EPSILON){y.normalize();const r=Math.acos(Kn.clamp(i[n-1].dot(i[n]),-1,1));o[n].applyMatrix4(_.makeRotationAxis(y,r))}s[n].crossVectors(i[n],o[n])}if(!0===n){let n=Math.acos(Kn.clamp(o[0].dot(o[r]),-1,1));n/=r,i[0].dot(y.crossVectors(o[0],o[r]))>0&&(n=-n);for(let a=1;a<=r;a++)o[a].applyMatrix4(_.makeRotationAxis(i[a],n*a)),s[a].crossVectors(i[a],o[a])}return{tangents:i,normals:o,binormals:s}},clone(){return(new this.constructor).copy(this)},copy(r){return this.arcLengthDivisions=r.arcLengthDivisions,this},toJSON(){const r={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return r.arcLengthDivisions=this.arcLengthDivisions,r.type=this.type,r},fromJSON(r){return this.arcLengthDivisions=r.arcLengthDivisions,this}}),EllipseCurve.prototype=Object.create(Curve.prototype),EllipseCurve.prototype.constructor=EllipseCurve,EllipseCurve.prototype.isEllipseCurve=!0,EllipseCurve.prototype.getPoint=function(r,n){const a=n||new Vector2,i=2*Math.PI;let o=this.aEndAngle-this.aStartAngle;const s=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(o=s?0:i),!0!==this.aClockwise||s||(o===i?o=-i:o-=i);const y=this.aStartAngle+r*o;let _=this.aX+this.xRadius*Math.cos(y),w=this.aY+this.yRadius*Math.sin(y);if(0!==this.aRotation){const r=Math.cos(this.aRotation),n=Math.sin(this.aRotation),a=_-this.aX,i=w-this.aY;_=a*r-i*n+this.aX,w=a*n+i*r+this.aY}return a.set(_,w)},EllipseCurve.prototype.copy=function(r){return Curve.prototype.copy.call(this,r),this.aX=r.aX,this.aY=r.aY,this.xRadius=r.xRadius,this.yRadius=r.yRadius,this.aStartAngle=r.aStartAngle,this.aEndAngle=r.aEndAngle,this.aClockwise=r.aClockwise,this.aRotation=r.aRotation,this},EllipseCurve.prototype.toJSON=function(){const r=Curve.prototype.toJSON.call(this);return r.aX=this.aX,r.aY=this.aY,r.xRadius=this.xRadius,r.yRadius=this.yRadius,r.aStartAngle=this.aStartAngle,r.aEndAngle=this.aEndAngle,r.aClockwise=this.aClockwise,r.aRotation=this.aRotation,r},EllipseCurve.prototype.fromJSON=function(r){return Curve.prototype.fromJSON.call(this,r),this.aX=r.aX,this.aY=r.aY,this.xRadius=r.xRadius,this.yRadius=r.yRadius,this.aStartAngle=r.aStartAngle,this.aEndAngle=r.aEndAngle,this.aClockwise=r.aClockwise,this.aRotation=r.aRotation,this},ArcCurve.prototype=Object.create(EllipseCurve.prototype),ArcCurve.prototype.constructor=ArcCurve,ArcCurve.prototype.isArcCurve=!0;const el=new Vector3,tl=new CubicPoly,rl=new CubicPoly,nl=new CubicPoly;function CatmullRomCurve3(r,n,a,i){Curve.call(this),this.type="CatmullRomCurve3",this.points=r||[],this.closed=n||!1,this.curveType=a||"centripetal",this.tension=void 0!==i?i:.5}function CatmullRom(r,n,a,i,o){const s=.5*(i-n),y=.5*(o-a),_=r*r;return(2*a-2*i+s+y)*r*_+(-3*a+3*i-2*s-y)*_+s*r+a}function QuadraticBezier(r,n,a,i){return function QuadraticBezierP0(r,n){const a=1-r;return a*a*n}(r,n)+function QuadraticBezierP1(r,n){return 2*(1-r)*r*n}(r,a)+function QuadraticBezierP2(r,n){return r*r*n}(r,i)}function CubicBezier(r,n,a,i,o){return function CubicBezierP0(r,n){const a=1-r;return a*a*a*n}(r,n)+function CubicBezierP1(r,n){const a=1-r;return 3*a*a*r*n}(r,a)+function CubicBezierP2(r,n){return 3*(1-r)*r*r*n}(r,i)+function CubicBezierP3(r,n){return r*r*r*n}(r,o)}function CubicBezierCurve(r,n,a,i){Curve.call(this),this.type="CubicBezierCurve",this.v0=r||new Vector2,this.v1=n||new Vector2,this.v2=a||new Vector2,this.v3=i||new Vector2}function CubicBezierCurve3(r,n,a,i){Curve.call(this),this.type="CubicBezierCurve3",this.v0=r||new Vector3,this.v1=n||new Vector3,this.v2=a||new Vector3,this.v3=i||new Vector3}function LineCurve(r,n){Curve.call(this),this.type="LineCurve",this.v1=r||new Vector2,this.v2=n||new Vector2}function LineCurve3(r,n){Curve.call(this),this.type="LineCurve3",this.v1=r||new Vector3,this.v2=n||new Vector3}function QuadraticBezierCurve(r,n,a){Curve.call(this),this.type="QuadraticBezierCurve",this.v0=r||new Vector2,this.v1=n||new Vector2,this.v2=a||new Vector2}function QuadraticBezierCurve3(r,n,a){Curve.call(this),this.type="QuadraticBezierCurve3",this.v0=r||new Vector3,this.v1=n||new Vector3,this.v2=a||new Vector3}function SplineCurve(r){Curve.call(this),this.type="SplineCurve",this.points=r||[]}CatmullRomCurve3.prototype=Object.create(Curve.prototype),CatmullRomCurve3.prototype.constructor=CatmullRomCurve3,CatmullRomCurve3.prototype.isCatmullRomCurve3=!0,CatmullRomCurve3.prototype.getPoint=function(r,n){const a=n||new Vector3,i=this.points,o=i.length,s=(o-(this.closed?0:1))*r;let y,_,w,E,j=Math.floor(s),q=s-j;if(this.closed?j+=j>0?0:(Math.floor(Math.abs(j)/o)+1)*o:0===q&&j===o-1&&(j=o-2,q=1),this.closed||j>0?y=i[(j-1)%o]:(el.subVectors(i[0],i[1]).add(i[0]),y=el),_=i[j%o],w=i[(j+1)%o],this.closed||j+2<o?E=i[(j+2)%o]:(el.subVectors(i[o-1],i[o-2]).add(i[o-1]),E=el),"centripetal"===this.curveType||"chordal"===this.curveType){const r="chordal"===this.curveType?.5:.25;let n=Math.pow(y.distanceToSquared(_),r),a=Math.pow(_.distanceToSquared(w),r),i=Math.pow(w.distanceToSquared(E),r);a<1e-4&&(a=1),n<1e-4&&(n=a),i<1e-4&&(i=a),tl.initNonuniformCatmullRom(y.x,_.x,w.x,E.x,n,a,i),rl.initNonuniformCatmullRom(y.y,_.y,w.y,E.y,n,a,i),nl.initNonuniformCatmullRom(y.z,_.z,w.z,E.z,n,a,i)}else"catmullrom"===this.curveType&&(tl.initCatmullRom(y.x,_.x,w.x,E.x,this.tension),rl.initCatmullRom(y.y,_.y,w.y,E.y,this.tension),nl.initCatmullRom(y.z,_.z,w.z,E.z,this.tension));return a.set(tl.calc(q),rl.calc(q),nl.calc(q)),a},CatmullRomCurve3.prototype.copy=function(r){Curve.prototype.copy.call(this,r),this.points=[];for(let n=0,a=r.points.length;n<a;n++){const a=r.points[n];this.points.push(a.clone())}return this.closed=r.closed,this.curveType=r.curveType,this.tension=r.tension,this},CatmullRomCurve3.prototype.toJSON=function(){const r=Curve.prototype.toJSON.call(this);r.points=[];for(let n=0,a=this.points.length;n<a;n++){const a=this.points[n];r.points.push(a.toArray())}return r.closed=this.closed,r.curveType=this.curveType,r.tension=this.tension,r},CatmullRomCurve3.prototype.fromJSON=function(r){Curve.prototype.fromJSON.call(this,r),this.points=[];for(let n=0,a=r.points.length;n<a;n++){const a=r.points[n];this.points.push((new Vector3).fromArray(a))}return this.closed=r.closed,this.curveType=r.curveType,this.tension=r.tension,this},CubicBezierCurve.prototype=Object.create(Curve.prototype),CubicBezierCurve.prototype.constructor=CubicBezierCurve,CubicBezierCurve.prototype.isCubicBezierCurve=!0,CubicBezierCurve.prototype.getPoint=function(r,n){const a=n||new Vector2,i=this.v0,o=this.v1,s=this.v2,y=this.v3;return a.set(CubicBezier(r,i.x,o.x,s.x,y.x),CubicBezier(r,i.y,o.y,s.y,y.y)),a},CubicBezierCurve.prototype.copy=function(r){return Curve.prototype.copy.call(this,r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this.v3.copy(r.v3),this},CubicBezierCurve.prototype.toJSON=function(){const r=Curve.prototype.toJSON.call(this);return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r.v3=this.v3.toArray(),r},CubicBezierCurve.prototype.fromJSON=function(r){return Curve.prototype.fromJSON.call(this,r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this.v3.fromArray(r.v3),this},CubicBezierCurve3.prototype=Object.create(Curve.prototype),CubicBezierCurve3.prototype.constructor=CubicBezierCurve3,CubicBezierCurve3.prototype.isCubicBezierCurve3=!0,CubicBezierCurve3.prototype.getPoint=function(r,n){const a=n||new Vector3,i=this.v0,o=this.v1,s=this.v2,y=this.v3;return a.set(CubicBezier(r,i.x,o.x,s.x,y.x),CubicBezier(r,i.y,o.y,s.y,y.y),CubicBezier(r,i.z,o.z,s.z,y.z)),a},CubicBezierCurve3.prototype.copy=function(r){return Curve.prototype.copy.call(this,r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this.v3.copy(r.v3),this},CubicBezierCurve3.prototype.toJSON=function(){const r=Curve.prototype.toJSON.call(this);return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r.v3=this.v3.toArray(),r},CubicBezierCurve3.prototype.fromJSON=function(r){return Curve.prototype.fromJSON.call(this,r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this.v3.fromArray(r.v3),this},LineCurve.prototype=Object.create(Curve.prototype),LineCurve.prototype.constructor=LineCurve,LineCurve.prototype.isLineCurve=!0,LineCurve.prototype.getPoint=function(r,n){const a=n||new Vector2;return 1===r?a.copy(this.v2):(a.copy(this.v2).sub(this.v1),a.multiplyScalar(r).add(this.v1)),a},LineCurve.prototype.getPointAt=function(r,n){return this.getPoint(r,n)},LineCurve.prototype.getTangent=function(r,n){const a=n||new Vector2;return a.copy(this.v2).sub(this.v1).normalize(),a},LineCurve.prototype.copy=function(r){return Curve.prototype.copy.call(this,r),this.v1.copy(r.v1),this.v2.copy(r.v2),this},LineCurve.prototype.toJSON=function(){const r=Curve.prototype.toJSON.call(this);return r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r},LineCurve.prototype.fromJSON=function(r){return Curve.prototype.fromJSON.call(this,r),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this},LineCurve3.prototype=Object.create(Curve.prototype),LineCurve3.prototype.constructor=LineCurve3,LineCurve3.prototype.isLineCurve3=!0,LineCurve3.prototype.getPoint=function(r,n){const a=n||new Vector3;return 1===r?a.copy(this.v2):(a.copy(this.v2).sub(this.v1),a.multiplyScalar(r).add(this.v1)),a},LineCurve3.prototype.getPointAt=function(r,n){return this.getPoint(r,n)},LineCurve3.prototype.copy=function(r){return Curve.prototype.copy.call(this,r),this.v1.copy(r.v1),this.v2.copy(r.v2),this},LineCurve3.prototype.toJSON=function(){const r=Curve.prototype.toJSON.call(this);return r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r},LineCurve3.prototype.fromJSON=function(r){return Curve.prototype.fromJSON.call(this,r),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this},QuadraticBezierCurve.prototype=Object.create(Curve.prototype),QuadraticBezierCurve.prototype.constructor=QuadraticBezierCurve,QuadraticBezierCurve.prototype.isQuadraticBezierCurve=!0,QuadraticBezierCurve.prototype.getPoint=function(r,n){const a=n||new Vector2,i=this.v0,o=this.v1,s=this.v2;return a.set(QuadraticBezier(r,i.x,o.x,s.x),QuadraticBezier(r,i.y,o.y,s.y)),a},QuadraticBezierCurve.prototype.copy=function(r){return Curve.prototype.copy.call(this,r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this},QuadraticBezierCurve.prototype.toJSON=function(){const r=Curve.prototype.toJSON.call(this);return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r},QuadraticBezierCurve.prototype.fromJSON=function(r){return Curve.prototype.fromJSON.call(this,r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this},QuadraticBezierCurve3.prototype=Object.create(Curve.prototype),QuadraticBezierCurve3.prototype.constructor=QuadraticBezierCurve3,QuadraticBezierCurve3.prototype.isQuadraticBezierCurve3=!0,QuadraticBezierCurve3.prototype.getPoint=function(r,n){const a=n||new Vector3,i=this.v0,o=this.v1,s=this.v2;return a.set(QuadraticBezier(r,i.x,o.x,s.x),QuadraticBezier(r,i.y,o.y,s.y),QuadraticBezier(r,i.z,o.z,s.z)),a},QuadraticBezierCurve3.prototype.copy=function(r){return Curve.prototype.copy.call(this,r),this.v0.copy(r.v0),this.v1.copy(r.v1),this.v2.copy(r.v2),this},QuadraticBezierCurve3.prototype.toJSON=function(){const r=Curve.prototype.toJSON.call(this);return r.v0=this.v0.toArray(),r.v1=this.v1.toArray(),r.v2=this.v2.toArray(),r},QuadraticBezierCurve3.prototype.fromJSON=function(r){return Curve.prototype.fromJSON.call(this,r),this.v0.fromArray(r.v0),this.v1.fromArray(r.v1),this.v2.fromArray(r.v2),this},SplineCurve.prototype=Object.create(Curve.prototype),SplineCurve.prototype.constructor=SplineCurve,SplineCurve.prototype.isSplineCurve=!0,SplineCurve.prototype.getPoint=function(r,n){const a=n||new Vector2,i=this.points,o=(i.length-1)*r,s=Math.floor(o),y=o-s,_=i[0===s?s:s-1],w=i[s],E=i[s>i.length-2?i.length-1:s+1],j=i[s>i.length-3?i.length-1:s+2];return a.set(CatmullRom(y,_.x,w.x,E.x,j.x),CatmullRom(y,_.y,w.y,E.y,j.y)),a},SplineCurve.prototype.copy=function(r){Curve.prototype.copy.call(this,r),this.points=[];for(let n=0,a=r.points.length;n<a;n++){const a=r.points[n];this.points.push(a.clone())}return this},SplineCurve.prototype.toJSON=function(){const r=Curve.prototype.toJSON.call(this);r.points=[];for(let n=0,a=this.points.length;n<a;n++){const a=this.points[n];r.points.push(a.toArray())}return r},SplineCurve.prototype.fromJSON=function(r){Curve.prototype.fromJSON.call(this,r),this.points=[];for(let n=0,a=r.points.length;n<a;n++){const a=r.points[n];this.points.push((new Vector2).fromArray(a))}return this};var al=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});function CurvePath(){Curve.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Path(r){CurvePath.call(this),this.type="Path",this.currentPoint=new Vector2,r&&this.setFromPoints(r)}function Shape(r){Path.call(this,r),this.uuid=Kn.generateUUID(),this.type="Shape",this.holes=[]}function Light(r,n){Object3D.call(this),this.type="Light",this.color=new Color(r),this.intensity=void 0!==n?n:1,this.receiveShadow=void 0}function HemisphereLight(r,n,a){Light.call(this,r,a),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.groundColor=new Color(n)}function LightShadow(r){this.camera=r,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}function SpotLightShadow(){LightShadow.call(this,new PerspectiveCamera(50,1,.5,500))}function SpotLight(r,n,a,i,o,s){Light.call(this,r,n),this.type="SpotLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,Object.defineProperty(this,"power",{get(){return this.intensity*Math.PI},set(r){this.intensity=r/Math.PI}}),this.distance=void 0!==a?a:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==o?o:0,this.decay=void 0!==s?s:1,this.shadow=new SpotLightShadow}function PointLightShadow(){LightShadow.call(this,new PerspectiveCamera(90,1,.5,500)),this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}function PointLight(r,n,a,i){Light.call(this,r,n),this.type="PointLight",Object.defineProperty(this,"power",{get(){return 4*this.intensity*Math.PI},set(r){this.intensity=r/(4*Math.PI)}}),this.distance=void 0!==a?a:0,this.decay=void 0!==i?i:1,this.shadow=new PointLightShadow}function OrthographicCamera(r,n,a,i,o,s){Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==r?r:-1,this.right=void 0!==n?n:1,this.top=void 0!==a?a:1,this.bottom=void 0!==i?i:-1,this.near=void 0!==o?o:.1,this.far=void 0!==s?s:2e3,this.updateProjectionMatrix()}function DirectionalLightShadow(){LightShadow.call(this,new OrthographicCamera(-5,5,5,-5,.5,500))}function DirectionalLight(r,n){Light.call(this,r,n),this.type="DirectionalLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}function AmbientLight(r,n){Light.call(this,r,n),this.type="AmbientLight",this.castShadow=void 0}function RectAreaLight(r,n,a,i){Light.call(this,r,n),this.type="RectAreaLight",this.width=void 0!==a?a:10,this.height=void 0!==i?i:10}function SphericalHarmonics3(){this.coefficients=[];for(let r=0;r<9;r++)this.coefficients.push(new Vector3)}function LightProbe(r,n){Light.call(this,void 0,n),this.type="LightProbe",this.sh=void 0!==r?r:new SphericalHarmonics3}function MaterialLoader(r){Loader.call(this,r),this.textures={}}CurvePath.prototype=Object.assign(Object.create(Curve.prototype),{constructor:CurvePath,add(r){this.curves.push(r)},closePath(){const r=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);r.equals(n)||this.curves.push(new LineCurve(n,r))},getPoint(r){const n=r*this.getLength(),a=this.getCurveLengths();let i=0;for(;i<a.length;){if(a[i]>=n){const r=a[i]-n,o=this.curves[i],s=o.getLength(),y=0===s?0:1-r/s;return o.getPointAt(y)}i++}return null},getLength(){const r=this.getCurveLengths();return r[r.length-1]},updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const r=[];let n=0;for(let a=0,i=this.curves.length;a<i;a++)n+=this.curves[a].getLength(),r.push(n);return this.cacheLengths=r,r},getSpacedPoints(r){void 0===r&&(r=40);const n=[];for(let a=0;a<=r;a++)n.push(this.getPoint(a/r));return this.autoClose&&n.push(n[0]),n},getPoints(r){r=r||12;const n=[];let a;for(let i=0,o=this.curves;i<o.length;i++){const s=o[i],y=s&&s.isEllipseCurve?2*r:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?r*s.points.length:r,_=s.getPoints(y);for(let r=0;r<_.length;r++){const i=_[r];a&&a.equals(i)||(n.push(i),a=i)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy(r){Curve.prototype.copy.call(this,r),this.curves=[];for(let n=0,a=r.curves.length;n<a;n++){const a=r.curves[n];this.curves.push(a.clone())}return this.autoClose=r.autoClose,this},toJSON(){const r=Curve.prototype.toJSON.call(this);r.autoClose=this.autoClose,r.curves=[];for(let n=0,a=this.curves.length;n<a;n++){const a=this.curves[n];r.curves.push(a.toJSON())}return r},fromJSON(r){Curve.prototype.fromJSON.call(this,r),this.autoClose=r.autoClose,this.curves=[];for(let n=0,a=r.curves.length;n<a;n++){const a=r.curves[n];this.curves.push((new al[a.type]).fromJSON(a))}return this}}),Path.prototype=Object.assign(Object.create(CurvePath.prototype),{constructor:Path,setFromPoints(r){this.moveTo(r[0].x,r[0].y);for(let n=1,a=r.length;n<a;n++)this.lineTo(r[n].x,r[n].y);return this},moveTo(r,n){return this.currentPoint.set(r,n),this},lineTo(r,n){const a=new LineCurve(this.currentPoint.clone(),new Vector2(r,n));return this.curves.push(a),this.currentPoint.set(r,n),this},quadraticCurveTo(r,n,a,i){const o=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(r,n),new Vector2(a,i));return this.curves.push(o),this.currentPoint.set(a,i),this},bezierCurveTo(r,n,a,i,o,s){const y=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(r,n),new Vector2(a,i),new Vector2(o,s));return this.curves.push(y),this.currentPoint.set(o,s),this},splineThru(r){const n=new SplineCurve([this.currentPoint.clone()].concat(r));return this.curves.push(n),this.currentPoint.copy(r[r.length-1]),this},arc(r,n,a,i,o,s){const y=this.currentPoint.x,_=this.currentPoint.y;return this.absarc(r+y,n+_,a,i,o,s),this},absarc(r,n,a,i,o,s){return this.absellipse(r,n,a,a,i,o,s),this},ellipse(r,n,a,i,o,s,y,_){const w=this.currentPoint.x,E=this.currentPoint.y;return this.absellipse(r+w,n+E,a,i,o,s,y,_),this},absellipse(r,n,a,i,o,s,y,_){const w=new EllipseCurve(r,n,a,i,o,s,y,_);if(this.curves.length>0){const r=w.getPoint(0);r.equals(this.currentPoint)||this.lineTo(r.x,r.y)}this.curves.push(w);const E=w.getPoint(1);return this.currentPoint.copy(E),this},copy(r){return CurvePath.prototype.copy.call(this,r),this.currentPoint.copy(r.currentPoint),this},toJSON(){const r=CurvePath.prototype.toJSON.call(this);return r.currentPoint=this.currentPoint.toArray(),r},fromJSON(r){return CurvePath.prototype.fromJSON.call(this,r),this.currentPoint.fromArray(r.currentPoint),this}}),Shape.prototype=Object.assign(Object.create(Path.prototype),{constructor:Shape,getPointsHoles(r){const n=[];for(let a=0,i=this.holes.length;a<i;a++)n[a]=this.holes[a].getPoints(r);return n},extractPoints(r){return{shape:this.getPoints(r),holes:this.getPointsHoles(r)}},copy(r){Path.prototype.copy.call(this,r),this.holes=[];for(let n=0,a=r.holes.length;n<a;n++){const a=r.holes[n];this.holes.push(a.clone())}return this},toJSON(){const r=Path.prototype.toJSON.call(this);r.uuid=this.uuid,r.holes=[];for(let n=0,a=this.holes.length;n<a;n++){const a=this.holes[n];r.holes.push(a.toJSON())}return r},fromJSON(r){Path.prototype.fromJSON.call(this,r),this.uuid=r.uuid,this.holes=[];for(let n=0,a=r.holes.length;n<a;n++){const a=r.holes[n];this.holes.push((new Path).fromJSON(a))}return this}}),Light.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Light,isLight:!0,copy(r){return Object3D.prototype.copy.call(this,r),this.color.copy(r.color),this.intensity=r.intensity,this},toJSON(r){const n=Object3D.prototype.toJSON.call(this,r);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,void 0!==this.groundColor&&(n.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(n.object.distance=this.distance),void 0!==this.angle&&(n.object.angle=this.angle),void 0!==this.decay&&(n.object.decay=this.decay),void 0!==this.penumbra&&(n.object.penumbra=this.penumbra),void 0!==this.shadow&&(n.object.shadow=this.shadow.toJSON()),n}}),HemisphereLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:HemisphereLight,isHemisphereLight:!0,copy(r){return Light.prototype.copy.call(this,r),this.groundColor.copy(r.groundColor),this}}),Object.assign(LightShadow.prototype,{_projScreenMatrix:new Matrix4,_lightPositionWorld:new Vector3,_lookTarget:new Vector3,getViewportCount(){return this._viewportCount},getFrustum(){return this._frustum},updateMatrices(r){const n=this.camera,a=this.matrix,i=this._projScreenMatrix,o=this._lookTarget,s=this._lightPositionWorld;s.setFromMatrixPosition(r.matrixWorld),n.position.copy(s),o.setFromMatrixPosition(r.target.matrixWorld),n.lookAt(o),n.updateMatrixWorld(),i.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(i),a.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),a.multiply(n.projectionMatrix),a.multiply(n.matrixWorldInverse)},getViewport(r){return this._viewports[r]},getFrameExtents(){return this._frameExtents},copy(r){return this.camera=r.camera.clone(),this.bias=r.bias,this.radius=r.radius,this.mapSize.copy(r.mapSize),this},clone(){return(new this.constructor).copy(this)},toJSON(){const r={};return 0!==this.bias&&(r.bias=this.bias),0!==this.normalBias&&(r.normalBias=this.normalBias),1!==this.radius&&(r.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(r.mapSize=this.mapSize.toArray()),r.camera=this.camera.toJSON(!1).object,delete r.camera.matrix,r}}),SpotLightShadow.prototype=Object.assign(Object.create(LightShadow.prototype),{constructor:SpotLightShadow,isSpotLightShadow:!0,updateMatrices(r){const n=this.camera,a=2*Kn.RAD2DEG*r.angle,i=this.mapSize.width/this.mapSize.height,o=r.distance||n.far;a===n.fov&&i===n.aspect&&o===n.far||(n.fov=a,n.aspect=i,n.far=o,n.updateProjectionMatrix()),LightShadow.prototype.updateMatrices.call(this,r)}}),SpotLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:SpotLight,isSpotLight:!0,copy(r){return Light.prototype.copy.call(this,r),this.distance=r.distance,this.angle=r.angle,this.penumbra=r.penumbra,this.decay=r.decay,this.target=r.target.clone(),this.shadow=r.shadow.clone(),this}}),PointLightShadow.prototype=Object.assign(Object.create(LightShadow.prototype),{constructor:PointLightShadow,isPointLightShadow:!0,updateMatrices(r,n){void 0===n&&(n=0);const a=this.camera,i=this.matrix,o=this._lightPositionWorld,s=this._lookTarget,y=this._projScreenMatrix;o.setFromMatrixPosition(r.matrixWorld),a.position.copy(o),s.copy(a.position),s.add(this._cubeDirections[n]),a.up.copy(this._cubeUps[n]),a.lookAt(s),a.updateMatrixWorld(),i.makeTranslation(-o.x,-o.y,-o.z),y.multiplyMatrices(a.projectionMatrix,a.matrixWorldInverse),this._frustum.setFromProjectionMatrix(y)}}),PointLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:PointLight,isPointLight:!0,copy(r){return Light.prototype.copy.call(this,r),this.distance=r.distance,this.decay=r.decay,this.shadow=r.shadow.clone(),this}}),OrthographicCamera.prototype=Object.assign(Object.create(Camera.prototype),{constructor:OrthographicCamera,isOrthographicCamera:!0,copy(r,n){return Camera.prototype.copy.call(this,r,n),this.left=r.left,this.right=r.right,this.top=r.top,this.bottom=r.bottom,this.near=r.near,this.far=r.far,this.zoom=r.zoom,this.view=null===r.view?null:Object.assign({},r.view),this},setViewOffset(r,n,a,i,o,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=r,this.view.fullHeight=n,this.view.offsetX=a,this.view.offsetY=i,this.view.width=o,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix(){const r=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),a=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=a-r,s=a+r,y=i+n,_=i-n;if(null!==this.view&&this.view.enabled){const r=(this.right-this.left)/this.view.fullWidth/this.zoom,n=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=r*this.view.offsetX,s=o+r*this.view.width,y-=n*this.view.offsetY,_=y-n*this.view.height}this.projectionMatrix.makeOrthographic(o,s,y,_,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON(r){const n=Object3D.prototype.toJSON.call(this,r);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,null!==this.view&&(n.object.view=Object.assign({},this.view)),n}}),DirectionalLightShadow.prototype=Object.assign(Object.create(LightShadow.prototype),{constructor:DirectionalLightShadow,isDirectionalLightShadow:!0,updateMatrices(r){LightShadow.prototype.updateMatrices.call(this,r)}}),DirectionalLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:DirectionalLight,isDirectionalLight:!0,copy(r){return Light.prototype.copy.call(this,r),this.target=r.target.clone(),this.shadow=r.shadow.clone(),this}}),AmbientLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:AmbientLight,isAmbientLight:!0}),RectAreaLight.prototype=Object.assign(Object.create(Light.prototype),{constructor:RectAreaLight,isRectAreaLight:!0,copy(r){return Light.prototype.copy.call(this,r),this.width=r.width,this.height=r.height,this},toJSON(r){const n=Light.prototype.toJSON.call(this,r);return n.object.width=this.width,n.object.height=this.height,n}}),Object.assign(SphericalHarmonics3.prototype,{isSphericalHarmonics3:!0,set(r){for(let n=0;n<9;n++)this.coefficients[n].copy(r[n]);return this},zero(){for(let r=0;r<9;r++)this.coefficients[r].set(0,0,0);return this},getAt(r,n){const a=r.x,i=r.y,o=r.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.282095),n.addScaledVector(s[1],.488603*i),n.addScaledVector(s[2],.488603*o),n.addScaledVector(s[3],.488603*a),n.addScaledVector(s[4],a*i*1.092548),n.addScaledVector(s[5],i*o*1.092548),n.addScaledVector(s[6],.315392*(3*o*o-1)),n.addScaledVector(s[7],a*o*1.092548),n.addScaledVector(s[8],.546274*(a*a-i*i)),n},getIrradianceAt(r,n){const a=r.x,i=r.y,o=r.z,s=this.coefficients;return n.copy(s[0]).multiplyScalar(.886227),n.addScaledVector(s[1],1.023328*i),n.addScaledVector(s[2],1.023328*o),n.addScaledVector(s[3],1.023328*a),n.addScaledVector(s[4],.858086*a*i),n.addScaledVector(s[5],.858086*i*o),n.addScaledVector(s[6],.743125*o*o-.247708),n.addScaledVector(s[7],.858086*a*o),n.addScaledVector(s[8],.429043*(a*a-i*i)),n},add(r){for(let n=0;n<9;n++)this.coefficients[n].add(r.coefficients[n]);return this},addScaledSH(r,n){for(let a=0;a<9;a++)this.coefficients[a].addScaledVector(r.coefficients[a],n);return this},scale(r){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(r);return this},lerp(r,n){for(let a=0;a<9;a++)this.coefficients[a].lerp(r.coefficients[a],n);return this},equals(r){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(r.coefficients[n]))return!1;return!0},copy(r){return this.set(r.coefficients)},clone(){return(new this.constructor).copy(this)},fromArray(r,n){void 0===n&&(n=0);const a=this.coefficients;for(let i=0;i<9;i++)a[i].fromArray(r,n+3*i);return this},toArray(r,n){void 0===r&&(r=[]),void 0===n&&(n=0);const a=this.coefficients;for(let i=0;i<9;i++)a[i].toArray(r,n+3*i);return r}}),Object.assign(SphericalHarmonics3,{getBasisAt(r,n){const a=r.x,i=r.y,o=r.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*a,n[4]=1.092548*a*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*a*o,n[8]=.546274*(a*a-i*i)}}),LightProbe.prototype=Object.assign(Object.create(Light.prototype),{constructor:LightProbe,isLightProbe:!0,copy(r){return Light.prototype.copy.call(this,r),this.sh.copy(r.sh),this},fromJSON(r){return this.intensity=r.intensity,this.sh.fromArray(r.sh),this},toJSON(r){const n=Light.prototype.toJSON.call(this,r);return n.object.sh=this.sh.toArray(),n}}),MaterialLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:MaterialLoader,load(r,n,a,i){const o=this,s=new FileLoader(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.load(r,(function(a){try{n(o.parse(JSON.parse(a)))}catch(n){i?i(n):console.error(n),o.manager.itemError(r)}}),a,i)},parse(r){const n=this.textures;function getTexture(r){return void 0===n[r]&&console.warn("THREE.MaterialLoader: Undefined texture",r),n[r]}const a=new $s[r.type];if(void 0!==r.uuid&&(a.uuid=r.uuid),void 0!==r.name&&(a.name=r.name),void 0!==r.color&&a.color.setHex(r.color),void 0!==r.roughness&&(a.roughness=r.roughness),void 0!==r.metalness&&(a.metalness=r.metalness),void 0!==r.sheen&&(a.sheen=(new Color).setHex(r.sheen)),void 0!==r.emissive&&a.emissive.setHex(r.emissive),void 0!==r.specular&&a.specular.setHex(r.specular),void 0!==r.shininess&&(a.shininess=r.shininess),void 0!==r.clearcoat&&(a.clearcoat=r.clearcoat),void 0!==r.clearcoatRoughness&&(a.clearcoatRoughness=r.clearcoatRoughness),void 0!==r.fog&&(a.fog=r.fog),void 0!==r.flatShading&&(a.flatShading=r.flatShading),void 0!==r.blending&&(a.blending=r.blending),void 0!==r.combine&&(a.combine=r.combine),void 0!==r.side&&(a.side=r.side),void 0!==r.opacity&&(a.opacity=r.opacity),void 0!==r.transparent&&(a.transparent=r.transparent),void 0!==r.alphaTest&&(a.alphaTest=r.alphaTest),void 0!==r.depthTest&&(a.depthTest=r.depthTest),void 0!==r.depthWrite&&(a.depthWrite=r.depthWrite),void 0!==r.colorWrite&&(a.colorWrite=r.colorWrite),void 0!==r.stencilWrite&&(a.stencilWrite=r.stencilWrite),void 0!==r.stencilWriteMask&&(a.stencilWriteMask=r.stencilWriteMask),void 0!==r.stencilFunc&&(a.stencilFunc=r.stencilFunc),void 0!==r.stencilRef&&(a.stencilRef=r.stencilRef),void 0!==r.stencilFuncMask&&(a.stencilFuncMask=r.stencilFuncMask),void 0!==r.stencilFail&&(a.stencilFail=r.stencilFail),void 0!==r.stencilZFail&&(a.stencilZFail=r.stencilZFail),void 0!==r.stencilZPass&&(a.stencilZPass=r.stencilZPass),void 0!==r.wireframe&&(a.wireframe=r.wireframe),void 0!==r.wireframeLinewidth&&(a.wireframeLinewidth=r.wireframeLinewidth),void 0!==r.wireframeLinecap&&(a.wireframeLinecap=r.wireframeLinecap),void 0!==r.wireframeLinejoin&&(a.wireframeLinejoin=r.wireframeLinejoin),void 0!==r.rotation&&(a.rotation=r.rotation),1!==r.linewidth&&(a.linewidth=r.linewidth),void 0!==r.dashSize&&(a.dashSize=r.dashSize),void 0!==r.gapSize&&(a.gapSize=r.gapSize),void 0!==r.scale&&(a.scale=r.scale),void 0!==r.polygonOffset&&(a.polygonOffset=r.polygonOffset),void 0!==r.polygonOffsetFactor&&(a.polygonOffsetFactor=r.polygonOffsetFactor),void 0!==r.polygonOffsetUnits&&(a.polygonOffsetUnits=r.polygonOffsetUnits),void 0!==r.skinning&&(a.skinning=r.skinning),void 0!==r.morphTargets&&(a.morphTargets=r.morphTargets),void 0!==r.morphNormals&&(a.morphNormals=r.morphNormals),void 0!==r.dithering&&(a.dithering=r.dithering),void 0!==r.vertexTangents&&(a.vertexTangents=r.vertexTangents),void 0!==r.visible&&(a.visible=r.visible),void 0!==r.toneMapped&&(a.toneMapped=r.toneMapped),void 0!==r.userData&&(a.userData=r.userData),void 0!==r.vertexColors&&("number"==typeof r.vertexColors?a.vertexColors=r.vertexColors>0:a.vertexColors=r.vertexColors),void 0!==r.uniforms)for(const n in r.uniforms){const i=r.uniforms[n];switch(a.uniforms[n]={},i.type){case"t":a.uniforms[n].value=getTexture(i.value);break;case"c":a.uniforms[n].value=(new Color).setHex(i.value);break;case"v2":a.uniforms[n].value=(new Vector2).fromArray(i.value);break;case"v3":a.uniforms[n].value=(new Vector3).fromArray(i.value);break;case"v4":a.uniforms[n].value=(new Vector4).fromArray(i.value);break;case"m3":a.uniforms[n].value=(new Matrix3).fromArray(i.value);case"m4":a.uniforms[n].value=(new Matrix4).fromArray(i.value);break;default:a.uniforms[n].value=i.value}}if(void 0!==r.defines&&(a.defines=r.defines),void 0!==r.vertexShader&&(a.vertexShader=r.vertexShader),void 0!==r.fragmentShader&&(a.fragmentShader=r.fragmentShader),void 0!==r.extensions)for(const n in r.extensions)a.extensions[n]=r.extensions[n];if(void 0!==r.shading&&(a.flatShading=1===r.shading),void 0!==r.size&&(a.size=r.size),void 0!==r.sizeAttenuation&&(a.sizeAttenuation=r.sizeAttenuation),void 0!==r.map&&(a.map=getTexture(r.map)),void 0!==r.matcap&&(a.matcap=getTexture(r.matcap)),void 0!==r.alphaMap&&(a.alphaMap=getTexture(r.alphaMap)),void 0!==r.bumpMap&&(a.bumpMap=getTexture(r.bumpMap)),void 0!==r.bumpScale&&(a.bumpScale=r.bumpScale),void 0!==r.normalMap&&(a.normalMap=getTexture(r.normalMap)),void 0!==r.normalMapType&&(a.normalMapType=r.normalMapType),void 0!==r.normalScale){let n=r.normalScale;!1===Array.isArray(n)&&(n=[n,n]),a.normalScale=(new Vector2).fromArray(n)}return void 0!==r.displacementMap&&(a.displacementMap=getTexture(r.displacementMap)),void 0!==r.displacementScale&&(a.displacementScale=r.displacementScale),void 0!==r.displacementBias&&(a.displacementBias=r.displacementBias),void 0!==r.roughnessMap&&(a.roughnessMap=getTexture(r.roughnessMap)),void 0!==r.metalnessMap&&(a.metalnessMap=getTexture(r.metalnessMap)),void 0!==r.emissiveMap&&(a.emissiveMap=getTexture(r.emissiveMap)),void 0!==r.emissiveIntensity&&(a.emissiveIntensity=r.emissiveIntensity),void 0!==r.specularMap&&(a.specularMap=getTexture(r.specularMap)),void 0!==r.envMap&&(a.envMap=getTexture(r.envMap)),void 0!==r.envMapIntensity&&(a.envMapIntensity=r.envMapIntensity),void 0!==r.reflectivity&&(a.reflectivity=r.reflectivity),void 0!==r.refractionRatio&&(a.refractionRatio=r.refractionRatio),void 0!==r.lightMap&&(a.lightMap=getTexture(r.lightMap)),void 0!==r.lightMapIntensity&&(a.lightMapIntensity=r.lightMapIntensity),void 0!==r.aoMap&&(a.aoMap=getTexture(r.aoMap)),void 0!==r.aoMapIntensity&&(a.aoMapIntensity=r.aoMapIntensity),void 0!==r.gradientMap&&(a.gradientMap=getTexture(r.gradientMap)),void 0!==r.clearcoatMap&&(a.clearcoatMap=getTexture(r.clearcoatMap)),void 0!==r.clearcoatRoughnessMap&&(a.clearcoatRoughnessMap=getTexture(r.clearcoatRoughnessMap)),void 0!==r.clearcoatNormalMap&&(a.clearcoatNormalMap=getTexture(r.clearcoatNormalMap)),void 0!==r.clearcoatNormalScale&&(a.clearcoatNormalScale=(new Vector2).fromArray(r.clearcoatNormalScale)),void 0!==r.transmission&&(a.transmission=r.transmission),void 0!==r.transmissionMap&&(a.transmissionMap=getTexture(r.transmissionMap)),a},setTextures(r){return this.textures=r,this}});const il={decodeText(r){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(r);let n="";for(let a=0,i=r.length;a<i;a++)n+=String.fromCharCode(r[a]);try{return decodeURIComponent(escape(n))}catch(r){return n}},extractUrlBase(r){const n=r.lastIndexOf("/");return-1===n?"./":r.substr(0,n+1)}};function InstancedBufferGeometry(){BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function InstancedBufferAttribute(r,n,a,i){"number"==typeof a&&(i=a,a=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),BufferAttribute.call(this,r,n,a),this.meshPerAttribute=i||1}function BufferGeometryLoader(r){Loader.call(this,r)}InstancedBufferGeometry.prototype=Object.assign(Object.create(BufferGeometry.prototype),{constructor:InstancedBufferGeometry,isInstancedBufferGeometry:!0,copy(r){return BufferGeometry.prototype.copy.call(this,r),this.instanceCount=r.instanceCount,this},clone(){return(new this.constructor).copy(this)},toJSON(){const r=BufferGeometry.prototype.toJSON.call(this);return r.instanceCount=this.instanceCount,r.isInstancedBufferGeometry=!0,r}}),InstancedBufferAttribute.prototype=Object.assign(Object.create(BufferAttribute.prototype),{constructor:InstancedBufferAttribute,isInstancedBufferAttribute:!0,copy(r){return BufferAttribute.prototype.copy.call(this,r),this.meshPerAttribute=r.meshPerAttribute,this},toJSON(){const r=BufferAttribute.prototype.toJSON.call(this);return r.meshPerAttribute=this.meshPerAttribute,r.isInstancedBufferAttribute=!0,r}}),BufferGeometryLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:BufferGeometryLoader,load(r,n,a,i){const o=this,s=new FileLoader(o.manager);s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.load(r,(function(a){try{n(o.parse(JSON.parse(a)))}catch(n){i?i(n):console.error(n),o.manager.itemError(r)}}),a,i)},parse(r){const n={},a={};function getInterleavedBuffer(r,i){if(void 0!==n[i])return n[i];const o=r.interleavedBuffers[i],s=function getArrayBuffer(r,n){if(void 0!==a[n])return a[n];const i=r.arrayBuffers[n],o=new Uint32Array(i).buffer;return a[n]=o,o}(r,o.buffer),y=new InterleavedBuffer(new ol[o.type](s),o.stride);return y.uuid=o.uuid,n[i]=y,y}const i=r.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,o=r.data.index;if(void 0!==o){const r=new ol[o.type](o.array);i.setIndex(new BufferAttribute(r,1))}const s=r.data.attributes;for(const n in s){const a=s[n];let o;if(a.isInterleavedBufferAttribute)o=new InterleavedBufferAttribute(getInterleavedBuffer(r.data,a.data),a.itemSize,a.offset,a.normalized);else{const r=new ol[a.type](a.array);o=new(a.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute)(r,a.itemSize,a.normalized)}void 0!==a.name&&(o.name=a.name),i.setAttribute(n,o)}const y=r.data.morphAttributes;if(y)for(const n in y){const a=y[n],o=[];for(let n=0,i=a.length;n<i;n++){const i=a[n];let s;s=i.isInterleavedBufferAttribute?new InterleavedBufferAttribute(getInterleavedBuffer(r.data,i.data),i.itemSize,i.offset,i.normalized):new BufferAttribute(new ol[i.type](i.array),i.itemSize,i.normalized),void 0!==i.name&&(s.name=i.name),o.push(s)}i.morphAttributes[n]=o}r.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const _=r.data.groups||r.data.drawcalls||r.data.offsets;if(void 0!==_)for(let r=0,n=_.length;r!==n;++r){const n=_[r];i.addGroup(n.start,n.count,n.materialIndex)}const w=r.data.boundingSphere;if(void 0!==w){const r=new Vector3;void 0!==w.center&&r.fromArray(w.center),i.boundingSphere=new Sphere(r,w.radius)}return r.name&&(i.name=r.name),r.userData&&(i.userData=r.userData),i}});const ol={Int8Array,Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function ObjectLoader(r){Loader.call(this,r)}ObjectLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:ObjectLoader,load(r,n,a,i){const o=this,s=""===this.path?il.extractUrlBase(r):this.path;this.resourcePath=this.resourcePath||s;const y=new FileLoader(o.manager);y.setPath(this.path),y.setRequestHeader(this.requestHeader),y.load(r,(function(a){let s=null;try{s=JSON.parse(a)}catch(n){return void 0!==i&&i(n),void console.error("THREE:ObjectLoader: Can't parse "+r+".",n.message)}const y=s.metadata;void 0!==y&&void 0!==y.type&&"geometry"!==y.type.toLowerCase()?o.parse(s,n):console.error("THREE.ObjectLoader: Can't load "+r)}),a,i)},parse(r,n){const a=this.parseShape(r.shapes),i=this.parseGeometries(r.geometries,a),o=this.parseImages(r.images,(function(){void 0!==n&&n(_)})),s=this.parseTextures(r.textures,o),y=this.parseMaterials(r.materials,s),_=this.parseObject(r.object,i,y);return r.animations&&(_.animations=this.parseAnimations(r.animations)),void 0!==r.images&&0!==r.images.length||void 0!==n&&n(_),_},parseShape(r){const n={};if(void 0!==r)for(let a=0,i=r.length;a<i;a++){const i=(new Shape).fromJSON(r[a]);n[i.uuid]=i}return n},parseGeometries(r,n){const a={};let i;if(void 0!==r){const o=new BufferGeometryLoader;for(let s=0,y=r.length;s<y;s++){let y;const _=r[s];switch(_.type){case"PlaneGeometry":case"PlaneBufferGeometry":y=new Xs[_.type](_.width,_.height,_.widthSegments,_.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":y=new Xs[_.type](_.width,_.height,_.depth,_.widthSegments,_.heightSegments,_.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":y=new Xs[_.type](_.radius,_.segments,_.thetaStart,_.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":y=new Xs[_.type](_.radiusTop,_.radiusBottom,_.height,_.radialSegments,_.heightSegments,_.openEnded,_.thetaStart,_.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":y=new Xs[_.type](_.radius,_.height,_.radialSegments,_.heightSegments,_.openEnded,_.thetaStart,_.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":y=new Xs[_.type](_.radius,_.widthSegments,_.heightSegments,_.phiStart,_.phiLength,_.thetaStart,_.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":y=new Xs[_.type](_.radius,_.detail);break;case"RingGeometry":case"RingBufferGeometry":y=new Xs[_.type](_.innerRadius,_.outerRadius,_.thetaSegments,_.phiSegments,_.thetaStart,_.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":y=new Xs[_.type](_.radius,_.tube,_.radialSegments,_.tubularSegments,_.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":y=new Xs[_.type](_.radius,_.tube,_.tubularSegments,_.radialSegments,_.p,_.q);break;case"TubeGeometry":case"TubeBufferGeometry":y=new Xs[_.type]((new al[_.path.type]).fromJSON(_.path),_.tubularSegments,_.radius,_.radialSegments,_.closed);break;case"LatheGeometry":case"LatheBufferGeometry":y=new Xs[_.type](_.points,_.segments,_.phiStart,_.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":y=new Xs[_.type](_.vertices,_.indices,_.radius,_.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":i=[];for(let r=0,a=_.shapes.length;r<a;r++){const a=n[_.shapes[r]];i.push(a)}y=new Xs[_.type](i,_.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":i=[];for(let r=0,a=_.shapes.length;r<a;r++){const a=n[_.shapes[r]];i.push(a)}const r=_.options.extrudePath;void 0!==r&&(_.options.extrudePath=(new al[r.type]).fromJSON(r)),y=new Xs[_.type](i,_.options);break;case"BufferGeometry":case"InstancedBufferGeometry":y=o.parse(_);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+_.type+'"');continue}y.uuid=_.uuid,void 0!==_.name&&(y.name=_.name),!0===y.isBufferGeometry&&void 0!==_.userData&&(y.userData=_.userData),a[_.uuid]=y}}return a},parseMaterials(r,n){const a={},i={};if(void 0!==r){const o=new MaterialLoader;o.setTextures(n);for(let n=0,s=r.length;n<s;n++){const s=r[n];if("MultiMaterial"===s.type){const r=[];for(let n=0;n<s.materials.length;n++){const i=s.materials[n];void 0===a[i.uuid]&&(a[i.uuid]=o.parse(i)),r.push(a[i.uuid])}i[s.uuid]=r}else void 0===a[s.uuid]&&(a[s.uuid]=o.parse(s)),i[s.uuid]=a[s.uuid]}}return i},parseAnimations(r){const n=[];for(let a=0;a<r.length;a++){const i=r[a],o=AnimationClip.parse(i);void 0!==i.uuid&&(o.uuid=i.uuid),n.push(o)}return n},parseImages(r,n){const a=this,i={};let o;function loadImage(r){return a.manager.itemStart(r),o.load(r,(function(){a.manager.itemEnd(r)}),void 0,(function(){a.manager.itemError(r),a.manager.itemEnd(r)}))}if(void 0!==r&&r.length>0){const s=new LoadingManager(n);o=new ImageLoader(s),o.setCrossOrigin(this.crossOrigin);for(let n=0,o=r.length;n<o;n++){const o=r[n],s=o.url;if(Array.isArray(s)){i[o.uuid]=[];for(let r=0,n=s.length;r<n;r++){const n=s[r],y=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(n)?n:a.resourcePath+n;i[o.uuid].push(loadImage(y))}}else{const r=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o.url)?o.url:a.resourcePath+o.url;i[o.uuid]=loadImage(r)}}}return i},parseTextures(r,n){function parseConstant(r,n){return"number"==typeof r?r:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",r),n[r])}const a={};if(void 0!==r)for(let i=0,o=r.length;i<o;i++){const o=r[i];let s;void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===n[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image),s=Array.isArray(n[o.image])?new CubeTexture(n[o.image]):new Texture(n[o.image]),s.needsUpdate=!0,s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=parseConstant(o.mapping,sl)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=parseConstant(o.wrap[0],ll),s.wrapT=parseConstant(o.wrap[1],ll)),void 0!==o.format&&(s.format=o.format),void 0!==o.type&&(s.type=o.type),void 0!==o.encoding&&(s.encoding=o.encoding),void 0!==o.minFilter&&(s.minFilter=parseConstant(o.minFilter,cl)),void 0!==o.magFilter&&(s.magFilter=parseConstant(o.magFilter,cl)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(s.unpackAlignment=o.unpackAlignment),a[o.uuid]=s}return a},parseObject(r,n,a){let i,o,s;function getGeometry(r){return void 0===n[r]&&console.warn("THREE.ObjectLoader: Undefined geometry",r),n[r]}function getMaterial(r){if(void 0!==r){if(Array.isArray(r)){const n=[];for(let i=0,o=r.length;i<o;i++){const o=r[i];void 0===a[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),n.push(a[o])}return n}return void 0===a[r]&&console.warn("THREE.ObjectLoader: Undefined material",r),a[r]}}switch(r.type){case"Scene":i=new Scene,void 0!==r.background&&Number.isInteger(r.background)&&(i.background=new Color(r.background)),void 0!==r.fog&&("Fog"===r.fog.type?i.fog=new Fog(r.fog.color,r.fog.near,r.fog.far):"FogExp2"===r.fog.type&&(i.fog=new FogExp2(r.fog.color,r.fog.density)));break;case"PerspectiveCamera":i=new PerspectiveCamera(r.fov,r.aspect,r.near,r.far),void 0!==r.focus&&(i.focus=r.focus),void 0!==r.zoom&&(i.zoom=r.zoom),void 0!==r.filmGauge&&(i.filmGauge=r.filmGauge),void 0!==r.filmOffset&&(i.filmOffset=r.filmOffset),void 0!==r.view&&(i.view=Object.assign({},r.view));break;case"OrthographicCamera":i=new OrthographicCamera(r.left,r.right,r.top,r.bottom,r.near,r.far),void 0!==r.zoom&&(i.zoom=r.zoom),void 0!==r.view&&(i.view=Object.assign({},r.view));break;case"AmbientLight":i=new AmbientLight(r.color,r.intensity);break;case"DirectionalLight":i=new DirectionalLight(r.color,r.intensity);break;case"PointLight":i=new PointLight(r.color,r.intensity,r.distance,r.decay);break;case"RectAreaLight":i=new RectAreaLight(r.color,r.intensity,r.width,r.height);break;case"SpotLight":i=new SpotLight(r.color,r.intensity,r.distance,r.angle,r.penumbra,r.decay);break;case"HemisphereLight":i=new HemisphereLight(r.color,r.groundColor,r.intensity);break;case"LightProbe":i=(new LightProbe).fromJSON(r);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":o=getGeometry(r.geometry),s=getMaterial(r.material),i=new Mesh(o,s);break;case"InstancedMesh":o=getGeometry(r.geometry),s=getMaterial(r.material);const n=r.count,a=r.instanceMatrix;i=new InstancedMesh(o,s,n),i.instanceMatrix=new BufferAttribute(new Float32Array(a.array),16);break;case"LOD":i=new LOD;break;case"Line":i=new Line(getGeometry(r.geometry),getMaterial(r.material),r.mode);break;case"LineLoop":i=new LineLoop(getGeometry(r.geometry),getMaterial(r.material));break;case"LineSegments":i=new LineSegments(getGeometry(r.geometry),getMaterial(r.material));break;case"PointCloud":case"Points":i=new Points(getGeometry(r.geometry),getMaterial(r.material));break;case"Sprite":i=new Sprite(getMaterial(r.material));break;case"Group":i=new Group;break;default:i=new Object3D}if(i.uuid=r.uuid,void 0!==r.name&&(i.name=r.name),void 0!==r.matrix?(i.matrix.fromArray(r.matrix),void 0!==r.matrixAutoUpdate&&(i.matrixAutoUpdate=r.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==r.position&&i.position.fromArray(r.position),void 0!==r.rotation&&i.rotation.fromArray(r.rotation),void 0!==r.quaternion&&i.quaternion.fromArray(r.quaternion),void 0!==r.scale&&i.scale.fromArray(r.scale)),void 0!==r.castShadow&&(i.castShadow=r.castShadow),void 0!==r.receiveShadow&&(i.receiveShadow=r.receiveShadow),r.shadow&&(void 0!==r.shadow.bias&&(i.shadow.bias=r.shadow.bias),void 0!==r.shadow.normalBias&&(i.shadow.normalBias=r.shadow.normalBias),void 0!==r.shadow.radius&&(i.shadow.radius=r.shadow.radius),void 0!==r.shadow.mapSize&&i.shadow.mapSize.fromArray(r.shadow.mapSize),void 0!==r.shadow.camera&&(i.shadow.camera=this.parseObject(r.shadow.camera))),void 0!==r.visible&&(i.visible=r.visible),void 0!==r.frustumCulled&&(i.frustumCulled=r.frustumCulled),void 0!==r.renderOrder&&(i.renderOrder=r.renderOrder),void 0!==r.userData&&(i.userData=r.userData),void 0!==r.layers&&(i.layers.mask=r.layers),void 0!==r.children){const o=r.children;for(let r=0;r<o.length;r++)i.add(this.parseObject(o[r],n,a))}if("LOD"===r.type){void 0!==r.autoUpdate&&(i.autoUpdate=r.autoUpdate);const n=r.levels;for(let r=0;r<n.length;r++){const a=n[r],o=i.getObjectByProperty("uuid",a.object);void 0!==o&&i.addLevel(o,a.distance)}}return i}});const sl={UVMapping:mt,CubeReflectionMapping:gt,CubeRefractionMapping:yt,EquirectangularReflectionMapping:_t,EquirectangularRefractionMapping:vt,CubeUVReflectionMapping:bt,CubeUVRefractionMapping:xt},ll={RepeatWrapping:St,ClampToEdgeWrapping:Ct,MirroredRepeatWrapping:wt},cl={NearestFilter:Pt,NearestMipmapNearestFilter:Mt,NearestMipmapLinearFilter:Et,LinearFilter:kt,LinearMipmapNearestFilter:Rt,LinearMipmapLinearFilter:Nt};function ImageBitmapLoader(r){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Loader.call(this,r),this.options={premultiplyAlpha:"none"}}function ShapePath(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}function Font(r){this.type="Font",this.data=r}function createPath(r,n,a,i,o){const s=o.glyphs[r]||o.glyphs["?"];if(!s)return void console.error('THREE.Font: character "'+r+'" does not exists in font family '+o.familyName+".");const y=new ShapePath;let _,w,E,j,q,$,ne,ie;if(s.o){const r=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let o=0,s=r.length;o<s;)switch(r[o++]){case"m":_=r[o++]*n+a,w=r[o++]*n+i,y.moveTo(_,w);break;case"l":_=r[o++]*n+a,w=r[o++]*n+i,y.lineTo(_,w);break;case"q":E=r[o++]*n+a,j=r[o++]*n+i,q=r[o++]*n+a,$=r[o++]*n+i,y.quadraticCurveTo(q,$,E,j);break;case"b":E=r[o++]*n+a,j=r[o++]*n+i,q=r[o++]*n+a,$=r[o++]*n+i,ne=r[o++]*n+a,ie=r[o++]*n+i,y.bezierCurveTo(q,$,ne,ie,E,j)}}return{offsetX:s.ha*n,path:y}}function FontLoader(r){Loader.call(this,r)}let pl;ImageBitmapLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:ImageBitmapLoader,isImageBitmapLoader:!0,setOptions:function setOptions(r){return this.options=r,this},load(r,n,a,i){void 0===r&&(r=""),void 0!==this.path&&(r=this.path+r),r=this.manager.resolveURL(r);const o=this,s=Js.get(r);if(void 0!==s)return o.manager.itemStart(r),setTimeout((function(){n&&n(s),o.manager.itemEnd(r)}),0),s;fetch(r).then((function(r){return r.blob()})).then((function(r){return createImageBitmap(r,o.options)})).then((function(a){Js.add(r,a),n&&n(a),o.manager.itemEnd(r)})).catch((function(n){i&&i(n),o.manager.itemError(r),o.manager.itemEnd(r)})),o.manager.itemStart(r)}}),Object.assign(ShapePath.prototype,{moveTo(r,n){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(r,n),this},lineTo(r,n){return this.currentPath.lineTo(r,n),this},quadraticCurveTo(r,n,a,i){return this.currentPath.quadraticCurveTo(r,n,a,i),this},bezierCurveTo(r,n,a,i,o,s){return this.currentPath.bezierCurveTo(r,n,a,i,o,s),this},splineThru(r){return this.currentPath.splineThru(r),this},toShapes(r,n){function toShapesNoHoles(r){const n=[];for(let a=0,i=r.length;a<i;a++){const i=r[a],o=new Shape;o.curves=i.curves,n.push(o)}return n}function isPointInsidePolygon(r,n){const a=n.length;let i=!1;for(let o=a-1,s=0;s<a;o=s++){let a=n[o],y=n[s],_=y.x-a.x,w=y.y-a.y;if(Math.abs(w)>Number.EPSILON){if(w<0&&(a=n[s],_=-_,y=n[o],w=-w),r.y<a.y||r.y>y.y)continue;if(r.y===a.y){if(r.x===a.x)return!0}else{const n=w*(r.x-a.x)-_*(r.y-a.y);if(0===n)return!0;if(n<0)continue;i=!i}}else{if(r.y!==a.y)continue;if(y.x<=r.x&&r.x<=a.x||a.x<=r.x&&r.x<=y.x)return!0}}return i}const a=Ys.isClockWise,i=this.subPaths;if(0===i.length)return[];if(!0===n)return toShapesNoHoles(i);let o,s,y,_=[];if(1===i.length)return s=i[0],y=new Shape,y.curves=s.curves,_.push(y),_;let w=!a(i[0].getPoints());w=r?!w:w;const E=[],j=[];let q,$,ne=[],ie=0;j[ie]=void 0,ne[ie]=[];for(let n=0,y=i.length;n<y;n++)s=i[n],q=s.getPoints(),o=a(q),o=r?!o:o,o?(!w&&j[ie]&&ie++,j[ie]={s:new Shape,p:q},j[ie].s.curves=s.curves,w&&ie++,ne[ie]=[]):ne[ie].push({h:s,p:q[0]});if(!j[0])return toShapesNoHoles(i);if(j.length>1){let r=!1;const n=[];for(let r=0,n=j.length;r<n;r++)E[r]=[];for(let a=0,i=j.length;a<i;a++){const i=ne[a];for(let o=0;o<i.length;o++){const s=i[o];let y=!0;for(let i=0;i<j.length;i++)isPointInsidePolygon(s.p,j[i].p)&&(a!==i&&n.push({froms:a,tos:i,hole:o}),y?(y=!1,E[i].push(s)):r=!0);y&&E[a].push(s)}}n.length>0&&(r||(ne=E))}for(let r=0,n=j.length;r<n;r++){y=j[r].s,_.push(y),$=ne[r];for(let r=0,n=$.length;r<n;r++)y.holes.push($[r].h)}return _}}),Object.assign(Font.prototype,{isFont:!0,generateShapes(r,n){void 0===n&&(n=100);const a=[],i=function createPaths(r,n,a){const i=Array.from?Array.from(r):(r+"").split(""),o=n/a.resolution,s=(a.boundingBox.yMax-a.boundingBox.yMin+a.underlineThickness)*o,y=[];let _=0,w=0;for(let r=0;r<i.length;r++){const n=i[r];if("\n"===n)_=0,w-=s;else{const r=createPath(n,o,_,w,a);_+=r.offsetX,y.push(r.path)}}return y}(r,n,this.data);for(let r=0,n=i.length;r<n;r++)[].push.apply(a,i[r].toShapes());return a}}),FontLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:FontLoader,load(r,n,a,i){const o=this,s=new FileLoader(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.load(r,(function(r){let a;try{a=JSON.parse(r)}catch(n){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),a=JSON.parse(r.substring(65,r.length-2))}const i=o.parse(a);n&&n(i)}),a,i)},parse:r=>new Font(r)});const ul={getContext:()=>(void 0===pl&&(pl=new(window.AudioContext||window.webkitAudioContext)),pl),setContext(r){pl=r}};function AudioLoader(r){Loader.call(this,r)}function HemisphereLightProbe(r,n,a){LightProbe.call(this,void 0,a);const i=(new Color).set(r),o=(new Color).set(n),s=new Vector3(i.r,i.g,i.b),y=new Vector3(o.r,o.g,o.b);this.sh.coefficients[0].copy(s).add(y).multiplyScalar(1.7724538509055159),this.sh.coefficients[1].copy(s).sub(y).multiplyScalar(1.5349900619197325)}function AmbientLightProbe(r,n){LightProbe.call(this,void 0,n);const a=(new Color).set(r);this.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(3.5449077018110318)}AudioLoader.prototype=Object.assign(Object.create(Loader.prototype),{constructor:AudioLoader,load(r,n,a,i){const o=this,s=new FileLoader(o.manager);s.setResponseType("arraybuffer"),s.setPath(o.path),s.setRequestHeader(o.requestHeader),s.load(r,(function(a){try{const r=a.slice(0);ul.getContext().decodeAudioData(r,(function(r){n(r)}))}catch(n){i?i(n):console.error(n),o.manager.itemError(r)}}),a,i)}}),HemisphereLightProbe.prototype=Object.assign(Object.create(LightProbe.prototype),{constructor:HemisphereLightProbe,isHemisphereLightProbe:!0,copy(r){return LightProbe.prototype.copy.call(this,r),this},toJSON(r){return LightProbe.prototype.toJSON.call(this,r)}}),AmbientLightProbe.prototype=Object.assign(Object.create(LightProbe.prototype),{constructor:AmbientLightProbe,isAmbientLightProbe:!0,copy(r){return LightProbe.prototype.copy.call(this,r),this},toJSON(r){return LightProbe.prototype.toJSON.call(this,r)}});const dl=new Matrix4,hl=new Matrix4;function StereoCamera(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function Clock(r){this.autoStart=void 0===r||r,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(StereoCamera.prototype,{update(r){const n=this._cache;if(n.focus!==r.focus||n.fov!==r.fov||n.aspect!==r.aspect*this.aspect||n.near!==r.near||n.far!==r.far||n.zoom!==r.zoom||n.eyeSep!==this.eyeSep){n.focus=r.focus,n.fov=r.fov,n.aspect=r.aspect*this.aspect,n.near=r.near,n.far=r.far,n.zoom=r.zoom,n.eyeSep=this.eyeSep;const a=r.projectionMatrix.clone(),i=n.eyeSep/2,o=i*n.near/n.focus,s=n.near*Math.tan(Kn.DEG2RAD*n.fov*.5)/n.zoom;let y,_;hl.elements[12]=-i,dl.elements[12]=i,y=-s*n.aspect+o,_=s*n.aspect+o,a.elements[0]=2*n.near/(_-y),a.elements[8]=(_+y)/(_-y),this.cameraL.projectionMatrix.copy(a),y=-s*n.aspect-o,_=s*n.aspect-o,a.elements[0]=2*n.near/(_-y),a.elements[8]=(_+y)/(_-y),this.cameraR.projectionMatrix.copy(a)}this.cameraL.matrixWorld.copy(r.matrixWorld).multiply(hl),this.cameraR.matrixWorld.copy(r.matrixWorld).multiply(dl)}}),Object.assign(Clock.prototype,{start(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime(){return this.getDelta(),this.elapsedTime},getDelta(){let r=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=("undefined"==typeof performance?Date:performance).now();r=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=r}return r}});const fl=new Vector3,ml=new Quaternion,gl=new Vector3,yl=new Vector3;function AudioListener(){Object3D.call(this),this.type="AudioListener",this.context=ul.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}function Audio(r){Object3D.call(this),this.type="Audio",this.listener=r,this.context=r.context,this.gain=this.context.createGain(),this.gain.connect(r.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}AudioListener.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:AudioListener,getInput(){return this.gain},removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter(){return this.filter},setFilter(r){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=r,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume(){return this.gain.gain.value},setMasterVolume(r){return this.gain.gain.setTargetAtTime(r,this.context.currentTime,.01),this},updateMatrixWorld(r){Object3D.prototype.updateMatrixWorld.call(this,r);const n=this.context.listener,a=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(fl,ml,gl),yl.set(0,0,-1).applyQuaternion(ml),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(fl.x,r),n.positionY.linearRampToValueAtTime(fl.y,r),n.positionZ.linearRampToValueAtTime(fl.z,r),n.forwardX.linearRampToValueAtTime(yl.x,r),n.forwardY.linearRampToValueAtTime(yl.y,r),n.forwardZ.linearRampToValueAtTime(yl.z,r),n.upX.linearRampToValueAtTime(a.x,r),n.upY.linearRampToValueAtTime(a.y,r),n.upZ.linearRampToValueAtTime(a.z,r)}else n.setPosition(fl.x,fl.y,fl.z),n.setOrientation(yl.x,yl.y,yl.z,a.x,a.y,a.z)}}),Audio.prototype=Object.assign(Object.create(Object3D.prototype),{constructor:Audio,getOutput(){return this.gain},setNodeSource(r){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=r,this.connect(),this},setMediaElementSource(r){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(r),this.connect(),this},setMediaStreamSource(r){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(r),this.connect(),this},setBuffer(r){return this.buffer=r,this.sourceType="buffer",this.autoplay&&this.play(),this},play(r){if(void 0===r&&(r=0),!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+r;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()},pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let r=1,n=this.filters.length;r<n;r++)this.filters[r-1].connect(this.filters[r]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let r=1,n=this.filters.length;r<n;r++)this.filters[r-1].disconnect(this.filters[r]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters(){return this.filters},setFilters(r){return r||(r=[]),!0===this.isPlaying?(this.disconnect(),this.filters=r,this.connect()):this.filters=r,this},setDetune(r){if(this.detune=r,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune(){return this.detune},getFilter(){return this.getFilters()[0]},setFilter(r){return this.setFilters(r?[r]:[])},setPlaybackRate(r){if(!1!==this.hasPlaybackControl)return this.playbackRate=r,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate(){return this.playbackRate},onEnded(){this.isPlaying=!1},getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop(r){if(!1!==this.hasPlaybackControl)return this.loop=r,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart(r){return this.loopStart=r,this},setLoopEnd(r){return this.loopEnd=r,this},getVolume(){return this.gain.gain.value},setVolume(r){return this.gain.gain.setTargetAtTime(r,this.context.currentTime,.01),this}});const _l=new Vector3,vl=new Quaternion,bl=new Vector3,xl=new Vector3;function PositionalAudio(r){Audio.call(this,r),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function AudioAnalyser(r,n){this.analyser=r.context.createAnalyser(),this.analyser.fftSize=void 0!==n?n:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),r.getOutput().connect(this.analyser)}function PropertyMixer(r,n,a){let i,o,s;switch(this.binding=r,this.valueSize=a,n){case"quaternion":i=this._slerp,o=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*a),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,s=this._setAdditiveIdentityOther,this.buffer=Array(5*a);break;default:i=this._lerp,o=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*a)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}PositionalAudio.prototype=Object.assign(Object.create(Audio.prototype),{constructor:PositionalAudio,getOutput(){return this.panner},getRefDistance(){return this.panner.refDistance},setRefDistance(r){return this.panner.refDistance=r,this},getRolloffFactor(){return this.panner.rolloffFactor},setRolloffFactor(r){return this.panner.rolloffFactor=r,this},getDistanceModel(){return this.panner.distanceModel},setDistanceModel(r){return this.panner.distanceModel=r,this},getMaxDistance(){return this.panner.maxDistance},setMaxDistance(r){return this.panner.maxDistance=r,this},setDirectionalCone(r,n,a){return this.panner.coneInnerAngle=r,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=a,this},updateMatrixWorld(r){if(Object3D.prototype.updateMatrixWorld.call(this,r),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(_l,vl,bl),xl.set(0,0,1).applyQuaternion(vl);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(_l.x,r),n.positionY.linearRampToValueAtTime(_l.y,r),n.positionZ.linearRampToValueAtTime(_l.z,r),n.orientationX.linearRampToValueAtTime(xl.x,r),n.orientationY.linearRampToValueAtTime(xl.y,r),n.orientationZ.linearRampToValueAtTime(xl.z,r)}else n.setPosition(_l.x,_l.y,_l.z),n.setOrientation(xl.x,xl.y,xl.z)}}),Object.assign(AudioAnalyser.prototype,{getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency(){let r=0;const n=this.getFrequencyData();for(let a=0;a<n.length;a++)r+=n[a];return r/n.length}}),Object.assign(PropertyMixer.prototype,{accumulate(r,n){const a=this.buffer,i=this.valueSize,o=r*i+i;let s=this.cumulativeWeight;if(0===s){for(let r=0;r!==i;++r)a[o+r]=a[r];s=n}else{s+=n;const r=n/s;this._mixBufferRegion(a,o,0,r,i)}this.cumulativeWeight=s},accumulateAdditive(r){const n=this.buffer,a=this.valueSize,i=a*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,r,a),this.cumulativeWeightAdditive+=r},apply(r){const n=this.valueSize,a=this.buffer,i=r*n+n,o=this.cumulativeWeight,s=this.cumulativeWeightAdditive,y=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const r=n*this._origIndex;this._mixBufferRegion(a,i,r,1-o,n)}s>0&&this._mixBufferRegionAdditive(a,i,this._addIndex*n,1,n);for(let r=n,o=n+n;r!==o;++r)if(a[r]!==a[r+n]){y.setValue(a,i);break}},saveOriginalState(){const r=this.binding,n=this.buffer,a=this.valueSize,i=a*this._origIndex;r.getValue(n,i);for(let r=a,o=i;r!==o;++r)n[r]=n[i+r%a];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState(){const r=3*this.valueSize;this.binding.setValue(this.buffer,r)},_setAdditiveIdentityNumeric(){const r=this._addIndex*this.valueSize,n=r+this.valueSize;for(let a=r;a<n;a++)this.buffer[a]=0},_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther(){const r=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let a=0;a<this.valueSize;a++)this.buffer[n+a]=this.buffer[r+a]},_select(r,n,a,i,o){if(i>=.5)for(let i=0;i!==o;++i)r[n+i]=r[a+i]},_slerp(r,n,a,i){Quaternion.slerpFlat(r,n,r,n,r,a,i)},_slerpAdditive(r,n,a,i,o){const s=this._workIndex*o;Quaternion.multiplyQuaternionsFlat(r,s,r,n,r,a),Quaternion.slerpFlat(r,n,r,n,r,s,i)},_lerp(r,n,a,i,o){const s=1-i;for(let y=0;y!==o;++y){const o=n+y;r[o]=r[o]*s+r[a+y]*i}},_lerpAdditive(r,n,a,i,o){for(let s=0;s!==o;++s){const o=n+s;r[o]=r[o]+r[a+s]*i}}});const Sl=/[\[\]\.:\/]/g,Cl=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),wl=/(WCOD+)?/.source.replace("WCOD","[^\\[\\]:\\/]"),Pl=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Ml=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Tl=RegExp("^"+Cl+wl+Pl+Ml+"$"),El=["material","materials","bones"];function Composite(r,n,a){const i=a||PropertyBinding.parseTrackName(n);this._targetGroup=r,this._bindings=r.subscribe_(n,i)}function PropertyBinding(r,n,a){this.path=n,this.parsedPath=a||PropertyBinding.parseTrackName(n),this.node=PropertyBinding.findNode(r,this.parsedPath.nodeName)||r,this.rootNode=r}function AnimationObjectGroup(){this.uuid=Kn.generateUUID(),this._objects=[].slice.call(arguments),this.nCachedObjects_=0;const r={};this._indicesByUUID=r;for(let n=0,a=arguments.length;n!==a;++n)r[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}function AnimationAction(r,n,a,i){this._mixer=r,this._clip=n,this._localRoot=a||null,this.blendMode=i||n.blendMode;const o=n.tracks,s=o.length,y=Array(s),_={endingStart:en,endingEnd:en};for(let r=0;r!==s;++r){const n=o[r].createInterpolant(null);y[r]=n,n.settings=_}this._interpolantSettings=_,this._interpolants=y,this._propertyBindings=Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=$r,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function AnimationMixer(r){this._root=r,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Uniform(r){"string"==typeof r&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),r=arguments[1]),this.value=r}function InstancedInterleavedBuffer(r,n,a){InterleavedBuffer.call(this,r,n),this.meshPerAttribute=a||1}function Raycaster(r,n,a,i){this.ray=new Ray(r,n),this.near=a||0,this.far=i||1/0,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function ascSort(r,n){return r.distance-n.distance}function intersectObject(r,n,a,i){if(r.layers.test(n.layers)&&r.raycast(n,a),!0===i){const i=r.children;for(let r=0,o=i.length;r<o;r++)intersectObject(i[r],n,a,!0)}}Object.assign(Composite.prototype,{getValue(r,n){this.bind();const a=this._targetGroup.nCachedObjects_,i=this._bindings[a];void 0!==i&&i.getValue(r,n)},setValue(r,n){const a=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=a.length;i!==o;++i)a[i].setValue(r,n)},bind(){const r=this._bindings;for(let n=this._targetGroup.nCachedObjects_,a=r.length;n!==a;++n)r[n].bind()},unbind(){const r=this._bindings;for(let n=this._targetGroup.nCachedObjects_,a=r.length;n!==a;++n)r[n].unbind()}}),Object.assign(PropertyBinding,{Composite,create:(r,n,a)=>r&&r.isAnimationObjectGroup?new PropertyBinding.Composite(r,n,a):new PropertyBinding(r,n,a),sanitizeNodeName:r=>r.replace(/\s/g,"_").replace(Sl,""),parseTrackName(r){const n=Tl.exec(r);if(!n)throw Error("PropertyBinding: Cannot parse trackName: "+r);const a={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=a.nodeName&&a.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){const r=a.nodeName.substring(i+1);-1!==El.indexOf(r)&&(a.nodeName=a.nodeName.substring(0,i),a.objectName=r)}if(null===a.propertyName||0===a.propertyName.length)throw Error("PropertyBinding: can not parse propertyName from trackName: "+r);return a},findNode(r,n){if(!n||""===n||"."===n||-1===n||n===r.name||n===r.uuid)return r;if(r.skeleton){const a=r.skeleton.getBoneByName(n);if(void 0!==a)return a}if(r.children){const searchNodeSubtree=function(r){for(let a=0;a<r.length;a++){const i=r[a];if(i.name===n||i.uuid===n)return i;const o=searchNodeSubtree(i.children);if(o)return o}return null},a=searchNodeSubtree(r.children);if(a)return a}return null}}),Object.assign(PropertyBinding.prototype,{_getValue_unavailable(){},_setValue_unavailable(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function getValue_direct(r,n){r[n]=this.node[this.propertyName]},function getValue_array(r,n){const a=this.resolvedProperty;for(let i=0,o=a.length;i!==o;++i)r[n++]=a[i]},function getValue_arrayElement(r,n){r[n]=this.resolvedProperty[this.propertyIndex]},function getValue_toArray(r,n){this.resolvedProperty.toArray(r,n)}],SetterByBindingTypeAndVersioning:[[function setValue_direct(r,n){this.targetObject[this.propertyName]=r[n]},function setValue_direct_setNeedsUpdate(r,n){this.targetObject[this.propertyName]=r[n],this.targetObject.needsUpdate=!0},function setValue_direct_setMatrixWorldNeedsUpdate(r,n){this.targetObject[this.propertyName]=r[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function setValue_array(r,n){const a=this.resolvedProperty;for(let i=0,o=a.length;i!==o;++i)a[i]=r[n++]},function setValue_array_setNeedsUpdate(r,n){const a=this.resolvedProperty;for(let i=0,o=a.length;i!==o;++i)a[i]=r[n++];this.targetObject.needsUpdate=!0},function setValue_array_setMatrixWorldNeedsUpdate(r,n){const a=this.resolvedProperty;for(let i=0,o=a.length;i!==o;++i)a[i]=r[n++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function setValue_arrayElement(r,n){this.resolvedProperty[this.propertyIndex]=r[n]},function setValue_arrayElement_setNeedsUpdate(r,n){this.resolvedProperty[this.propertyIndex]=r[n],this.targetObject.needsUpdate=!0},function setValue_arrayElement_setMatrixWorldNeedsUpdate(r,n){this.resolvedProperty[this.propertyIndex]=r[n],this.targetObject.matrixWorldNeedsUpdate=!0}],[function setValue_fromArray(r,n){this.resolvedProperty.fromArray(r,n)},function setValue_fromArray_setNeedsUpdate(r,n){this.resolvedProperty.fromArray(r,n),this.targetObject.needsUpdate=!0},function setValue_fromArray_setMatrixWorldNeedsUpdate(r,n){this.resolvedProperty.fromArray(r,n),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function getValue_unbound(r,n){this.bind(),this.getValue(r,n)},setValue:function getValue_unbound(r,n){this.bind(),this.setValue(r,n)},bind(){let r=this.node,n=this.parsedPath,a=n.objectName,i=n.propertyName,o=n.propertyIndex;if(r||(r=PropertyBinding.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=r),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!r)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(a){let i=n.objectIndex;switch(a){case"materials":if(!r.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!r.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);r=r.material.materials;break;case"bones":if(!r.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);r=r.skeleton.bones;for(let n=0;n<r.length;n++)if(r[n].name===i){i=n;break}break;default:if(void 0===r[a])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);r=r[a]}if(void 0!==i){if(void 0===r[i])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,r);r=r[i]}}const s=r[i];if(void 0===s){const a=n.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+a+"."+i+" but it wasn't found.",r)}let y=this.Versioning.None;this.targetObject=r,void 0!==r.needsUpdate?y=this.Versioning.NeedsUpdate:void 0!==r.matrixWorldNeedsUpdate&&(y=this.Versioning.MatrixWorldNeedsUpdate);let _=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===i){if(!r.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!r.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!r.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==r.morphTargetDictionary[o]&&(o=r.morphTargetDictionary[o])}_=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=o}else void 0!==s.fromArray&&void 0!==s.toArray?(_=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(_=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[_],this.setValue=this.SetterByBindingTypeAndVersioning[_][y]},unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(PropertyBinding.prototype,{_getValue_unbound:PropertyBinding.prototype.getValue,_setValue_unbound:PropertyBinding.prototype.setValue}),Object.assign(AnimationObjectGroup.prototype,{isAnimationObjectGroup:!0,add(){const r=this._objects,n=this._indicesByUUID,a=this._paths,i=this._parsedPaths,o=this._bindings,s=o.length;let y=void 0,_=r.length,w=this.nCachedObjects_;for(let E=0,j=arguments.length;E!==j;++E){const j=arguments[E],q=j.uuid;let $=n[q];if(void 0===$){$=_++,n[q]=$,r.push(j);for(let r=0,n=s;r!==n;++r)o[r].push(new PropertyBinding(j,a[r],i[r]))}else if($<w){y=r[$];const _=--w,E=r[_];n[E.uuid]=$,r[$]=E,n[q]=_,r[_]=j;for(let r=0,n=s;r!==n;++r){const n=o[r],s=n[_];let y=n[$];n[$]=s,void 0===y&&(y=new PropertyBinding(j,a[r],i[r])),n[_]=y}}else r[$]!==y&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=w},remove(){const r=this._objects,n=this._indicesByUUID,a=this._bindings,i=a.length;let o=this.nCachedObjects_;for(let s=0,y=arguments.length;s!==y;++s){const y=arguments[s],_=y.uuid,w=n[_];if(void 0!==w&&w>=o){const s=o++,E=r[s];n[E.uuid]=w,r[w]=E,n[_]=s,r[s]=y;for(let r=0,n=i;r!==n;++r){const n=a[r],i=n[s],o=n[w];n[w]=i,n[s]=o}}}this.nCachedObjects_=o},uncache(){const r=this._objects,n=this._indicesByUUID,a=this._bindings,i=a.length;let o=this.nCachedObjects_,s=r.length;for(let y=0,_=arguments.length;y!==_;++y){const _=arguments[y].uuid,w=n[_];if(void 0!==w)if(delete n[_],w<o){const y=--o,_=r[y],E=--s,j=r[E];n[_.uuid]=w,r[w]=_,n[j.uuid]=y,r[y]=j,r.pop();for(let r=0,n=i;r!==n;++r){const n=a[r],i=n[y],o=n[E];n[w]=i,n[y]=o,n.pop()}}else{const o=--s,y=r[o];n[y.uuid]=w,r[w]=y,r.pop();for(let r=0,n=i;r!==n;++r){const n=a[r];n[w]=n[o],n.pop()}}}this.nCachedObjects_=o},subscribe_(r,n){let a=this._bindingsIndicesByPath,i=a[r],o=this._bindings;if(void 0!==i)return o[i];const s=this._paths,y=this._parsedPaths,_=this._objects,w=_.length,E=this.nCachedObjects_,j=Array(w);i=o.length,a[r]=i,s.push(r),y.push(n),o.push(j);for(let a=E,i=_.length;a!==i;++a){const i=_[a];j[a]=new PropertyBinding(i,r,n)}return j},unsubscribe_(r){const n=this._bindingsIndicesByPath,a=n[r];if(void 0!==a){const i=this._paths,o=this._parsedPaths,s=this._bindings,y=s.length-1,_=s[y];n[r[y]]=a,s[a]=_,s.pop(),o[a]=o[y],o.pop(),i[a]=i[y],i.pop()}}}),Object.assign(AnimationAction.prototype,{play(){return this._mixer._activateAction(this),this},stop(){return this._mixer._deactivateAction(this),this.reset()},reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled(){return this._mixer._isActiveAction(this)},startAt(r){return this._startTime=r,this},setLoop(r,n){return this.loop=r,this.repetitions=n,this},setEffectiveWeight(r){return this.weight=r,this._effectiveWeight=this.enabled?r:0,this.stopFading()},getEffectiveWeight(){return this._effectiveWeight},fadeIn(r){return this._scheduleFading(r,0,1)},fadeOut(r){return this._scheduleFading(r,1,0)},crossFadeFrom(r,n,a){if(r.fadeOut(n),this.fadeIn(n),a){const a=this._clip.duration,i=r._clip.duration,o=i/a,s=a/i;r.warp(1,o,n),this.warp(s,1,n)}return this},crossFadeTo(r,n,a){return r.crossFadeFrom(this,n,a)},stopFading(){let r=this._weightInterpolant;return null!==r&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(r)),this},setEffectiveTimeScale(r){return this.timeScale=r,this._effectiveTimeScale=this.paused?0:r,this.stopWarping()},getEffectiveTimeScale(){return this._effectiveTimeScale},setDuration(r){return this.timeScale=this._clip.duration/r,this.stopWarping()},syncWith(r){return this.time=r.time,this.timeScale=r.timeScale,this.stopWarping()},halt(r){return this.warp(this._effectiveTimeScale,0,r)},warp(r,n,a){const i=this._mixer,o=i.time,s=this.timeScale;let y=this._timeScaleInterpolant;null===y&&(y=i._lendControlInterpolant(),this._timeScaleInterpolant=y);const _=y.parameterPositions,w=y.sampleValues;return _[0]=o,_[1]=o+a,w[0]=r/s,w[1]=n/s,this},stopWarping(){let r=this._timeScaleInterpolant;return null!==r&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(r)),this},getMixer(){return this._mixer},getClip(){return this._clip},getRoot(){return this._localRoot||this._mixer._root},_update(r,n,a,i){if(!this.enabled)return void this._updateWeight(r);const o=this._startTime;if(null!==o){const i=(r-o)*a;if(i<0||0===a)return;this._startTime=null,n=a*i}n*=this._updateTimeScale(r);const s=this._updateTime(n),y=this._updateWeight(r);if(y>0){const r=this._interpolants,n=this._propertyBindings;switch(this.blendMode){case an:for(let a=0,i=r.length;a!==i;++a)r[a].evaluate(s),n[a].accumulateAdditive(y);break;case nn:default:for(let a=0,o=r.length;a!==o;++a)r[a].evaluate(s),n[a].accumulate(i,y)}}},_updateWeight(r){let n=0;if(this.enabled){n=this.weight;const a=this._weightInterpolant;if(null!==a){const i=a.evaluate(r)[0];n*=i,r>a.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=n,n},_updateTimeScale(r){let n=0;if(!this.paused){n=this.timeScale;const a=this._timeScaleInterpolant;null!==a&&(n*=a.evaluate(r)[0],r>a.parameterPositions[1]&&(this.stopWarping(),0===n?this.paused=!0:this.timeScale=n))}return this._effectiveTimeScale=n,n},_updateTime(r){const n=this._clip.duration,a=this.loop;let i=this.time+r,o=this._loopCount;const s=a===Kr;if(0===r)return-1===o?i:s&&1==(1&o)?n-i:i;if(a===Xr){-1===o&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else{if(!(i<0)){this.time=i;break e}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:r<0?-1:1})}}else{if(-1===o&&(r>=0?(o=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,o+=Math.abs(a);const y=this.repetitions-o;if(y<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=r>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:r>0?1:-1});else{if(1===y){const n=r<0;this._setEndings(n,!n,s)}else this._setEndings(!1,!1,s);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(s&&1==(1&o))return n-i}return i},_setEndings(r,n,a){const i=this._interpolantSettings;a?(i.endingStart=tn,i.endingEnd=tn):(i.endingStart=r?this.zeroSlopeAtStart?tn:en:rn,i.endingEnd=n?this.zeroSlopeAtEnd?tn:en:rn)},_scheduleFading(r,n,a){const i=this._mixer,o=i.time;let s=this._weightInterpolant;null===s&&(s=i._lendControlInterpolant(),this._weightInterpolant=s);const y=s.parameterPositions,_=s.sampleValues;return y[0]=o,_[0]=n,y[1]=o+r,_[1]=a,this}}),AnimationMixer.prototype=Object.assign(Object.create(EventDispatcher.prototype),{constructor:AnimationMixer,_bindAction(r,n){const a=r._localRoot||this._root,i=r._clip.tracks,o=i.length,s=r._propertyBindings,y=r._interpolants,_=a.uuid,w=this._bindingsByRootAndName;let E=w[_];void 0===E&&(E={},w[_]=E);for(let r=0;r!==o;++r){const o=i[r],w=o.name;let j=E[w];if(void 0!==j)s[r]=j;else{if(j=s[r],void 0!==j){null===j._cacheIndex&&(++j.referenceCount,this._addInactiveBinding(j,_,w));continue}const i=n&&n._propertyBindings[r].binding.parsedPath;j=new PropertyMixer(PropertyBinding.create(a,w,i),o.ValueTypeName,o.getValueSize()),++j.referenceCount,this._addInactiveBinding(j,_,w),s[r]=j}y[r].resultBuffer=j.buffer}},_activateAction(r){if(!this._isActiveAction(r)){if(null===r._cacheIndex){const n=(r._localRoot||this._root).uuid,a=r._clip.uuid,i=this._actionsByClip[a];this._bindAction(r,i&&i.knownActions[0]),this._addInactiveAction(r,a,n)}const n=r._propertyBindings;for(let r=0,a=n.length;r!==a;++r){const a=n[r];0==a.useCount++&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(r)}},_deactivateAction(r){if(this._isActiveAction(r)){const n=r._propertyBindings;for(let r=0,a=n.length;r!==a;++r){const a=n[r];0==--a.useCount&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(r)}},_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const r=this;this.stats={actions:{get total(){return r._actions.length},get inUse(){return r._nActiveActions}},bindings:{get total(){return r._bindings.length},get inUse(){return r._nActiveBindings}},controlInterpolants:{get total(){return r._controlInterpolants.length},get inUse(){return r._nActiveControlInterpolants}}}},_isActiveAction(r){const n=r._cacheIndex;return null!==n&&n<this._nActiveActions},_addInactiveAction(r,n,a){const i=this._actions,o=this._actionsByClip;let s=o[n];if(void 0===s)s={knownActions:[r],actionByRoot:{}},r._byClipCacheIndex=0,o[n]=s;else{const n=s.knownActions;r._byClipCacheIndex=n.length,n.push(r)}r._cacheIndex=i.length,i.push(r),s.actionByRoot[a]=r},_removeInactiveAction(r){const n=this._actions,a=n[n.length-1],i=r._cacheIndex;a._cacheIndex=i,n[i]=a,n.pop(),r._cacheIndex=null;const o=r._clip.uuid,s=this._actionsByClip,y=s[o],_=y.knownActions,w=_[_.length-1],E=r._byClipCacheIndex;w._byClipCacheIndex=E,_[E]=w,_.pop(),r._byClipCacheIndex=null,delete y.actionByRoot[(r._localRoot||this._root).uuid],0===_.length&&delete s[o],this._removeInactiveBindingsForAction(r)},_removeInactiveBindingsForAction(r){const n=r._propertyBindings;for(let r=0,a=n.length;r!==a;++r){const a=n[r];0==--a.referenceCount&&this._removeInactiveBinding(a)}},_lendAction(r){const n=this._actions,a=r._cacheIndex,i=this._nActiveActions++,o=n[i];r._cacheIndex=i,n[i]=r,o._cacheIndex=a,n[a]=o},_takeBackAction(r){const n=this._actions,a=r._cacheIndex,i=--this._nActiveActions,o=n[i];r._cacheIndex=i,n[i]=r,o._cacheIndex=a,n[a]=o},_addInactiveBinding(r,n,a){const i=this._bindingsByRootAndName,o=this._bindings;let s=i[n];void 0===s&&(s={},i[n]=s),s[a]=r,r._cacheIndex=o.length,o.push(r)},_removeInactiveBinding(r){const n=this._bindings,a=r.binding,i=a.rootNode.uuid,o=a.path,s=this._bindingsByRootAndName,y=s[i],_=n[n.length-1],w=r._cacheIndex;_._cacheIndex=w,n[w]=_,n.pop(),delete y[o],0===Object.keys(y).length&&delete s[i]},_lendBinding(r){const n=this._bindings,a=r._cacheIndex,i=this._nActiveBindings++,o=n[i];r._cacheIndex=i,n[i]=r,o._cacheIndex=a,n[a]=o},_takeBackBinding(r){const n=this._bindings,a=r._cacheIndex,i=--this._nActiveBindings,o=n[i];r._cacheIndex=i,n[i]=r,o._cacheIndex=a,n[a]=o},_lendControlInterpolant(){const r=this._controlInterpolants,n=this._nActiveControlInterpolants++;let a=r[n];return void 0===a&&(a=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),a.__cacheIndex=n,r[n]=a),a},_takeBackControlInterpolant(r){const n=this._controlInterpolants,a=r.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];r.__cacheIndex=i,n[i]=r,o.__cacheIndex=a,n[a]=o},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction(r,n,a){const i=n||this._root,o=i.uuid;let s="string"==typeof r?AnimationClip.findByName(i,r):r;const y=null!==s?s.uuid:r;let _=this._actionsByClip[y],w=null;if(void 0===a&&(a=null!==s?s.blendMode:nn),void 0!==_){const r=_.actionByRoot[o];if(void 0!==r&&r.blendMode===a)return r;w=_.knownActions[0],null===s&&(s=w._clip)}if(null===s)return null;const E=new AnimationAction(this,s,n,a);return this._bindAction(E,w),this._addInactiveAction(E,y,o),E},existingAction(r,n){const a=n||this._root,i=a.uuid,o="string"==typeof r?AnimationClip.findByName(a,r):r,s=o?o.uuid:r,y=this._actionsByClip[s];return void 0!==y&&y.actionByRoot[i]||null},stopAllAction(){const r=this._actions;for(let n=this._nActiveActions-1;n>=0;--n)r[n].stop();return this},update(r){r*=this.timeScale;const n=this._actions,a=this._nActiveActions,i=this.time+=r,o=Math.sign(r),s=this._accuIndex^=1;for(let y=0;y!==a;++y)n[y]._update(i,r,o,s);const y=this._bindings,_=this._nActiveBindings;for(let r=0;r!==_;++r)y[r].apply(s);return this},setTime(r){this.time=0;for(let r=0;r<this._actions.length;r++)this._actions[r].time=0;return this.update(r)},getRoot(){return this._root},uncacheClip(r){const n=this._actions,a=r.uuid,i=this._actionsByClip,o=i[a];if(void 0!==o){const r=o.knownActions;for(let a=0,i=r.length;a!==i;++a){const i=r[a];this._deactivateAction(i);const o=i._cacheIndex,s=n[n.length-1];i._cacheIndex=null,i._byClipCacheIndex=null,s._cacheIndex=o,n[o]=s,n.pop(),this._removeInactiveBindingsForAction(i)}delete i[a]}},uncacheRoot(r){const n=r.uuid,a=this._actionsByClip;for(const r in a){const i=a[r].actionByRoot[n];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}const i=this._bindingsByRootAndName[n];if(void 0!==i)for(const r in i){const n=i[r];n.restoreOriginalState(),this._removeInactiveBinding(n)}},uncacheAction(r,n){const a=this.existingAction(r,n);null!==a&&(this._deactivateAction(a),this._removeInactiveAction(a))}}),Uniform.prototype.clone=function(){return new Uniform(void 0===this.value.clone?this.value:this.value.clone())},InstancedInterleavedBuffer.prototype=Object.assign(Object.create(InterleavedBuffer.prototype),{constructor:InstancedInterleavedBuffer,isInstancedInterleavedBuffer:!0,copy(r){return InterleavedBuffer.prototype.copy.call(this,r),this.meshPerAttribute=r.meshPerAttribute,this},clone(r){const n=InterleavedBuffer.prototype.clone.call(this,r);return n.meshPerAttribute=this.meshPerAttribute,n},toJSON(r){const n=InterleavedBuffer.prototype.toJSON.call(this,r);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}),Object.assign(Raycaster.prototype,{set(r,n){this.ray.set(r,n)},setFromCamera(r,n){n&&n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(r.x,r.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n&&n.isOrthographicCamera?(this.ray.origin.set(r.x,r.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject(r,n,a){const i=a||[];return intersectObject(r,this,i,n),i.sort(ascSort),i},intersectObjects(r,n,a){const i=a||[];if(!1===Array.isArray(r))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(let a=0,o=r.length;a<o;a++)intersectObject(r[a],this,i,n);return i.sort(ascSort),i}});class Spherical{constructor(r=1,n=0,a=0){return this.radius=r,this.phi=n,this.theta=a,this}set(r,n,a){return this.radius=r,this.phi=n,this.theta=a,this}clone(){return(new this.constructor).copy(this)}copy(r){return this.radius=r.radius,this.phi=r.phi,this.theta=r.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(r){return this.setFromCartesianCoords(r.x,r.y,r.z)}setFromCartesianCoords(r,n,a){return this.radius=Math.sqrt(r*r+n*n+a*a),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(r,a),this.phi=Math.acos(Kn.clamp(n/this.radius,-1,1))),this}}function Cylindrical(r,n,a){return this.radius=void 0!==r?r:1,this.theta=void 0!==n?n:0,this.y=void 0!==a?a:0,this}Object.assign(Cylindrical.prototype,{set(r,n,a){return this.radius=r,this.theta=n,this.y=a,this},clone(){return(new this.constructor).copy(this)},copy(r){return this.radius=r.radius,this.theta=r.theta,this.y=r.y,this},setFromVector3(r){return this.setFromCartesianCoords(r.x,r.y,r.z)},setFromCartesianCoords(r,n,a){return this.radius=Math.sqrt(r*r+a*a),this.theta=Math.atan2(r,a),this.y=n,this}});const Al=new Vector2;function Box2(r,n){this.min=void 0!==r?r:new Vector2(1/0,1/0),this.max=void 0!==n?n:new Vector2(-1/0,-1/0)}Object.assign(Box2.prototype,{set(r,n){return this.min.copy(r),this.max.copy(n),this},setFromPoints(r){this.makeEmpty();for(let n=0,a=r.length;n<a;n++)this.expandByPoint(r[n]);return this},setFromCenterAndSize(r,n){const a=Al.copy(n).multiplyScalar(.5);return this.min.copy(r).sub(a),this.max.copy(r).add(a),this},clone(){return(new this.constructor).copy(this)},copy(r){return this.min.copy(r.min),this.max.copy(r.max),this},makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter(r){return void 0===r&&(console.warn("THREE.Box2: .getCenter() target is now required"),r=new Vector2),this.isEmpty()?r.set(0,0):r.addVectors(this.min,this.max).multiplyScalar(.5)},getSize(r){return void 0===r&&(console.warn("THREE.Box2: .getSize() target is now required"),r=new Vector2),this.isEmpty()?r.set(0,0):r.subVectors(this.max,this.min)},expandByPoint(r){return this.min.min(r),this.max.max(r),this},expandByVector(r){return this.min.sub(r),this.max.add(r),this},expandByScalar(r){return this.min.addScalar(-r),this.max.addScalar(r),this},containsPoint(r){return!(r.x<this.min.x||r.x>this.max.x||r.y<this.min.y||r.y>this.max.y)},containsBox(r){return this.min.x<=r.min.x&&r.max.x<=this.max.x&&this.min.y<=r.min.y&&r.max.y<=this.max.y},getParameter(r,n){return void 0===n&&(console.warn("THREE.Box2: .getParameter() target is now required"),n=new Vector2),n.set((r.x-this.min.x)/(this.max.x-this.min.x),(r.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox(r){return!(r.max.x<this.min.x||r.min.x>this.max.x||r.max.y<this.min.y||r.min.y>this.max.y)},clampPoint(r,n){return void 0===n&&(console.warn("THREE.Box2: .clampPoint() target is now required"),n=new Vector2),n.copy(r).clamp(this.min,this.max)},distanceToPoint(r){return Al.copy(r).clamp(this.min,this.max).sub(r).length()},intersect(r){return this.min.max(r.min),this.max.min(r.max),this},union(r){return this.min.min(r.min),this.max.max(r.max),this},translate(r){return this.min.add(r),this.max.add(r),this},equals(r){return r.min.equals(this.min)&&r.max.equals(this.max)}});const kl=new Vector3,Rl=new Vector3;function Line3(r,n){this.start=void 0!==r?r:new Vector3,this.end=void 0!==n?n:new Vector3}function ImmediateRenderObject(r){Object3D.call(this),this.material=r,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Object.assign(Line3.prototype,{set(r,n){return this.start.copy(r),this.end.copy(n),this},clone(){return(new this.constructor).copy(this)},copy(r){return this.start.copy(r.start),this.end.copy(r.end),this},getCenter(r){return void 0===r&&(console.warn("THREE.Line3: .getCenter() target is now required"),r=new Vector3),r.addVectors(this.start,this.end).multiplyScalar(.5)},delta(r){return void 0===r&&(console.warn("THREE.Line3: .delta() target is now required"),r=new Vector3),r.subVectors(this.end,this.start)},distanceSq(){return this.start.distanceToSquared(this.end)},distance(){return this.start.distanceTo(this.end)},at(r,n){return void 0===n&&(console.warn("THREE.Line3: .at() target is now required"),n=new Vector3),this.delta(n).multiplyScalar(r).add(this.start)},closestPointToPointParameter(r,n){kl.subVectors(r,this.start),Rl.subVectors(this.end,this.start);const a=Rl.dot(Rl);let i=Rl.dot(kl)/a;return n&&(i=Kn.clamp(i,0,1)),i},closestPointToPoint(r,n,a){const i=this.closestPointToPointParameter(r,n);return void 0===a&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),a=new Vector3),this.delta(a).multiplyScalar(i).add(this.start)},applyMatrix4(r){return this.start.applyMatrix4(r),this.end.applyMatrix4(r),this},equals(r){return r.start.equals(this.start)&&r.end.equals(this.end)}}),ImmediateRenderObject.prototype=Object.create(Object3D.prototype),ImmediateRenderObject.prototype.constructor=ImmediateRenderObject,ImmediateRenderObject.prototype.isImmediateRenderObject=!0;const Ol=new Vector3;function SpotLightHelper(r,n){Object3D.call(this),this.light=r,this.light.updateMatrixWorld(),this.matrix=r.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const a=new BufferGeometry,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let r=0,n=1,a=32;r<a;r++,n++){const o=r/a*Math.PI*2,s=n/a*Math.PI*2;i.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}a.setAttribute("position",new Float32BufferAttribute(i,3));const o=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(a,o),this.add(this.cone),this.update()}SpotLightHelper.prototype=Object.create(Object3D.prototype),SpotLightHelper.prototype.constructor=SpotLightHelper,SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},SpotLightHelper.prototype.update=function(){this.light.updateMatrixWorld();const r=this.light.distance?this.light.distance:1e3,n=r*Math.tan(this.light.angle);this.cone.scale.set(n,n,r),Ol.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Ol),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};const Nl=new Vector3,Ll=new Matrix4,Il=new Matrix4;function SkeletonHelper(r){const n=function getBoneList(r){const n=[];r&&r.isBone&&n.push(r);for(let a=0;a<r.children.length;a++)n.push.apply(n,getBoneList(r.children[a]));return n}(r),a=new BufferGeometry,i=[],o=[],s=new Color(0,0,1),y=new Color(0,1,0);for(let r=0;r<n.length;r++){const a=n[r];a.parent&&a.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(s.r,s.g,s.b),o.push(y.r,y.g,y.b))}a.setAttribute("position",new Float32BufferAttribute(i,3)),a.setAttribute("color",new Float32BufferAttribute(o,3));const _=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});LineSegments.call(this,a,_),this.type="SkeletonHelper",this.root=r,this.bones=n,this.matrix=r.matrixWorld,this.matrixAutoUpdate=!1}function PointLightHelper(r,n,a){this.light=r,this.light.updateMatrixWorld(),this.color=a;const i=new SphereBufferGeometry(n,4,2),o=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});Mesh.call(this,i,o),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}SkeletonHelper.prototype=Object.create(LineSegments.prototype),SkeletonHelper.prototype.constructor=SkeletonHelper,SkeletonHelper.prototype.isSkeletonHelper=!0,SkeletonHelper.prototype.updateMatrixWorld=function(r){const n=this.bones,a=this.geometry,i=a.getAttribute("position");Il.getInverse(this.root.matrixWorld);for(let r=0,a=0;r<n.length;r++){const o=n[r];o.parent&&o.parent.isBone&&(Ll.multiplyMatrices(Il,o.matrixWorld),Nl.setFromMatrixPosition(Ll),i.setXYZ(a,Nl.x,Nl.y,Nl.z),Ll.multiplyMatrices(Il,o.parent.matrixWorld),Nl.setFromMatrixPosition(Ll),i.setXYZ(a+1,Nl.x,Nl.y,Nl.z),a+=2)}a.getAttribute("position").needsUpdate=!0,Object3D.prototype.updateMatrixWorld.call(this,r)},PointLightHelper.prototype=Object.create(Mesh.prototype),PointLightHelper.prototype.constructor=PointLightHelper,PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},PointLightHelper.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};const Dl=new Vector3,Fl=new Color,jl=new Color;function HemisphereLightHelper(r,n,a){Object3D.call(this),this.light=r,this.light.updateMatrixWorld(),this.matrix=r.matrixWorld,this.matrixAutoUpdate=!1,this.color=a;const i=new OctahedronBufferGeometry(n);i.rotateY(.5*Math.PI),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),s=new Float32Array(3*o.count);i.setAttribute("color",new BufferAttribute(s,3)),this.add(new Mesh(i,this.material)),this.update()}function GridHelper(r,n,a,i){r=r||10,n=n||10,a=new Color(void 0!==a?a:4473924),i=new Color(void 0!==i?i:8947848);const o=n/2,s=r/n,y=r/2,_=[],w=[];for(let r=0,E=0,j=-y;r<=n;r++,j+=s){_.push(-y,0,j,y,0,j),_.push(j,0,-y,j,0,y);const n=r===o?a:i;n.toArray(w,E),E+=3,n.toArray(w,E),E+=3,n.toArray(w,E),E+=3,n.toArray(w,E),E+=3}const E=new BufferGeometry;E.setAttribute("position",new Float32BufferAttribute(_,3)),E.setAttribute("color",new Float32BufferAttribute(w,3));const j=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});LineSegments.call(this,E,j),this.type="GridHelper"}function PolarGridHelper(r,n,a,i,o,s){r=r||10,n=n||16,a=a||8,i=i||64,o=new Color(void 0!==o?o:4473924),s=new Color(void 0!==s?s:8947848);const y=[],_=[];for(let a=0;a<=n;a++){const i=a/n*2*Math.PI,w=Math.sin(i)*r,E=Math.cos(i)*r;y.push(0,0,0),y.push(w,0,E);const j=1&a?o:s;_.push(j.r,j.g,j.b),_.push(j.r,j.g,j.b)}for(let n=0;n<=a;n++){const w=1&n?o:s,E=r-r/a*n;for(let r=0;r<i;r++){let n=r/i*2*Math.PI,a=Math.sin(n)*E,o=Math.cos(n)*E;y.push(a,0,o),_.push(w.r,w.g,w.b),n=(r+1)/i*2*Math.PI,a=Math.sin(n)*E,o=Math.cos(n)*E,y.push(a,0,o),_.push(w.r,w.g,w.b)}}const w=new BufferGeometry;w.setAttribute("position",new Float32BufferAttribute(y,3)),w.setAttribute("color",new Float32BufferAttribute(_,3));const E=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});LineSegments.call(this,w,E),this.type="PolarGridHelper"}HemisphereLightHelper.prototype=Object.create(Object3D.prototype),HemisphereLightHelper.prototype.constructor=HemisphereLightHelper,HemisphereLightHelper.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},HemisphereLightHelper.prototype.update=function(){const r=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const n=r.geometry.getAttribute("color");Fl.copy(this.light.color),jl.copy(this.light.groundColor);for(let r=0,a=n.count;r<a;r++){const i=r<a/2?Fl:jl;n.setXYZ(r,i.r,i.g,i.b)}n.needsUpdate=!0}r.lookAt(Dl.setFromMatrixPosition(this.light.matrixWorld).negate())},GridHelper.prototype=Object.create(LineSegments.prototype),GridHelper.prototype.constructor=GridHelper,PolarGridHelper.prototype=Object.create(LineSegments.prototype),PolarGridHelper.prototype.constructor=PolarGridHelper;const Bl=new Vector3,zl=new Vector3,Gl=new Vector3;function DirectionalLightHelper(r,n,a){Object3D.call(this),this.light=r,this.light.updateMatrixWorld(),this.matrix=r.matrixWorld,this.matrixAutoUpdate=!1,this.color=a,void 0===n&&(n=1);let i=new BufferGeometry;i.setAttribute("position",new Float32BufferAttribute([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(i,o),this.add(this.lightPlane),i=new BufferGeometry,i.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(i,o),this.add(this.targetLine),this.update()}DirectionalLightHelper.prototype=Object.create(Object3D.prototype),DirectionalLightHelper.prototype.constructor=DirectionalLightHelper,DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},DirectionalLightHelper.prototype.update=function(){Bl.setFromMatrixPosition(this.light.matrixWorld),zl.setFromMatrixPosition(this.light.target.matrixWorld),Gl.subVectors(zl,Bl),this.lightPlane.lookAt(zl),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(zl),this.targetLine.scale.z=Gl.length()};const Ul=new Vector3,Vl=new Camera;function CameraHelper(r){const n=new BufferGeometry,a=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],s={},y=new Color(16755200),_=new Color(16711680),w=new Color(43775),E=new Color(16777215),j=new Color(3355443);function addLine(r,n,a){addPoint(r,a),addPoint(n,a)}function addPoint(r,n){i.push(0,0,0),o.push(n.r,n.g,n.b),void 0===s[r]&&(s[r]=[]),s[r].push(i.length/3-1)}addLine("n1","n2",y),addLine("n2","n4",y),addLine("n4","n3",y),addLine("n3","n1",y),addLine("f1","f2",y),addLine("f2","f4",y),addLine("f4","f3",y),addLine("f3","f1",y),addLine("n1","f1",y),addLine("n2","f2",y),addLine("n3","f3",y),addLine("n4","f4",y),addLine("p","n1",_),addLine("p","n2",_),addLine("p","n3",_),addLine("p","n4",_),addLine("u1","u2",w),addLine("u2","u3",w),addLine("u3","u1",w),addLine("c","t",E),addLine("p","c",j),addLine("cn1","cn2",j),addLine("cn3","cn4",j),addLine("cf1","cf2",j),addLine("cf3","cf4",j),n.setAttribute("position",new Float32BufferAttribute(i,3)),n.setAttribute("color",new Float32BufferAttribute(o,3)),LineSegments.call(this,n,a),this.type="CameraHelper",this.camera=r,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=r.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()}function setPoint(r,n,a,i,o,s,y){Ul.set(o,s,y).unproject(i);const _=n[r];if(void 0!==_){const r=a.getAttribute("position");for(let n=0,a=_.length;n<a;n++)r.setXYZ(_[n],Ul.x,Ul.y,Ul.z)}}CameraHelper.prototype=Object.create(LineSegments.prototype),CameraHelper.prototype.constructor=CameraHelper,CameraHelper.prototype.update=function(){const r=this.geometry,n=this.pointMap;Vl.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",n,r,Vl,0,0,-1),setPoint("t",n,r,Vl,0,0,1),setPoint("n1",n,r,Vl,-1,-1,-1),setPoint("n2",n,r,Vl,1,-1,-1),setPoint("n3",n,r,Vl,-1,1,-1),setPoint("n4",n,r,Vl,1,1,-1),setPoint("f1",n,r,Vl,-1,-1,1),setPoint("f2",n,r,Vl,1,-1,1),setPoint("f3",n,r,Vl,-1,1,1),setPoint("f4",n,r,Vl,1,1,1),setPoint("u1",n,r,Vl,.7,1.1,-1),setPoint("u2",n,r,Vl,-.7,1.1,-1),setPoint("u3",n,r,Vl,0,2,-1),setPoint("cf1",n,r,Vl,-1,0,1),setPoint("cf2",n,r,Vl,1,0,1),setPoint("cf3",n,r,Vl,0,-1,1),setPoint("cf4",n,r,Vl,0,1,1),setPoint("cn1",n,r,Vl,-1,0,-1),setPoint("cn2",n,r,Vl,1,0,-1),setPoint("cn3",n,r,Vl,0,-1,-1),setPoint("cn4",n,r,Vl,0,1,-1),r.getAttribute("position").needsUpdate=!0};const Wl=new Box3;function BoxHelper(r,n){this.object=r,void 0===n&&(n=16776960);const a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),o=new BufferGeometry;o.setIndex(new BufferAttribute(a,1)),o.setAttribute("position",new BufferAttribute(i,3)),LineSegments.call(this,o,new LineBasicMaterial({color:n,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function Box3Helper(r,n){this.type="Box3Helper",this.box=r,void 0===n&&(n=16776960);const a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new BufferGeometry;i.setIndex(new BufferAttribute(a,1)),i.setAttribute("position",new Float32BufferAttribute([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),LineSegments.call(this,i,new LineBasicMaterial({color:n,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function PlaneHelper(r,n,a){this.plane=r,this.size=void 0===n?1:n;const i=void 0!==a?a:16776960,o=new BufferGeometry;o.setAttribute("position",new Float32BufferAttribute([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),o.computeBoundingSphere(),Line.call(this,o,new LineBasicMaterial({color:i,toneMapped:!1})),this.type="PlaneHelper";const s=new BufferGeometry;s.setAttribute("position",new Float32BufferAttribute([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),s.computeBoundingSphere(),this.add(new Mesh(s,new MeshBasicMaterial({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}BoxHelper.prototype=Object.create(LineSegments.prototype),BoxHelper.prototype.constructor=BoxHelper,BoxHelper.prototype.update=function(r){if(void 0!==r&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Wl.setFromObject(this.object),Wl.isEmpty())return;const n=Wl.min,a=Wl.max,i=this.geometry.attributes.position,o=i.array;o[0]=a.x,o[1]=a.y,o[2]=a.z,o[3]=n.x,o[4]=a.y,o[5]=a.z,o[6]=n.x,o[7]=n.y,o[8]=a.z,o[9]=a.x,o[10]=n.y,o[11]=a.z,o[12]=a.x,o[13]=a.y,o[14]=n.z,o[15]=n.x,o[16]=a.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=a.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()},BoxHelper.prototype.setFromObject=function(r){return this.object=r,this.update(),this},BoxHelper.prototype.copy=function(r){return LineSegments.prototype.copy.call(this,r),this.object=r.object,this},Box3Helper.prototype=Object.create(LineSegments.prototype),Box3Helper.prototype.constructor=Box3Helper,Box3Helper.prototype.updateMatrixWorld=function(r){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),Object3D.prototype.updateMatrixWorld.call(this,r))},PlaneHelper.prototype=Object.create(Line.prototype),PlaneHelper.prototype.constructor=PlaneHelper,PlaneHelper.prototype.updateMatrixWorld=function(r){let n=-this.plane.constant;Math.abs(n)<1e-8&&(n=1e-8),this.scale.set(.5*this.size,.5*this.size,n),this.children[0].material.side=n<0?oe:ie,this.lookAt(this.plane.normal),Object3D.prototype.updateMatrixWorld.call(this,r)};const Hl=new Vector3;let Yl,ql;function ArrowHelper(r,n,a,i,o,s){Object3D.call(this),this.type="ArrowHelper",void 0===r&&(r=new Vector3(0,0,1)),void 0===n&&(n=new Vector3(0,0,0)),void 0===a&&(a=1),void 0===i&&(i=16776960),void 0===o&&(o=.2*a),void 0===s&&(s=.2*o),void 0===Yl&&(Yl=new BufferGeometry,Yl.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),ql=new CylinderBufferGeometry(0,.5,1,5,1),ql.translate(0,-.5,0)),this.position.copy(n),this.line=new Line(Yl,new LineBasicMaterial({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(ql,new MeshBasicMaterial({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(r),this.setLength(a,o,s)}function AxesHelper(r){const n=[0,0,0,r=r||1,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=new BufferGeometry;a.setAttribute("position",new Float32BufferAttribute(n,3)),a.setAttribute("color",new Float32BufferAttribute([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));const i=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});LineSegments.call(this,a,i),this.type="AxesHelper"}ArrowHelper.prototype=Object.create(Object3D.prototype),ArrowHelper.prototype.constructor=ArrowHelper,ArrowHelper.prototype.setDirection=function(r){if(r.y>.99999)this.quaternion.set(0,0,0,1);else if(r.y<-.99999)this.quaternion.set(1,0,0,0);else{Hl.set(r.z,0,-r.x).normalize();const n=Math.acos(r.y);this.quaternion.setFromAxisAngle(Hl,n)}},ArrowHelper.prototype.setLength=function(r,n,a){void 0===n&&(n=.2*r),void 0===a&&(a=.2*n),this.line.scale.set(1,Math.max(1e-4,r-n),1),this.line.updateMatrix(),this.cone.scale.set(a,n,a),this.cone.position.y=r,this.cone.updateMatrix()},ArrowHelper.prototype.setColor=function(r){this.line.material.color.set(r),this.cone.material.color.set(r)},ArrowHelper.prototype.copy=function(r){return Object3D.prototype.copy.call(this,r,!1),this.line.copy(r.line),this.cone.copy(r.cone),this},AxesHelper.prototype=Object.create(LineSegments.prototype),AxesHelper.prototype.constructor=AxesHelper;const Xl=[.125,.215,.35,.446,.526,.582],$l=5+Xl.length,Kl={[pn]:0,[un]:1,[hn]:2,[gn]:3,[yn]:4,[_n]:5,[dn]:6},Jl=new OrthographicCamera,{_lodPlanes:Ql,_sizeLods:Zl,_sigmas:ac}=function _createPlanes(){const r=[],n=[],a=[];let i=8;for(let o=0;o<$l;o++){const s=Math.pow(2,i);n.push(s);let y=1/s;o>4?y=Xl[o-8+4-1]:0==o&&(y=0),a.push(y);const _=1/(s-1),w=-_/2,E=1+_/2,j=[w,w,E,w,E,E,w,w,E,E,w,E],q=6,$=6,ne=3,ie=2,oe=1,se=new Float32Array(ne*$*q),le=new Float32Array(ie*$*q),pe=new Float32Array(oe*$*q);for(let r=0;r<q;r++){const n=r%3*2/3-1,a=r>2?0:-1,i=[n,a,0,n+2/3,a,0,n+2/3,a+1,0,n,a,0,n+2/3,a+1,0,n,a+1,0];se.set(i,ne*$*r),le.set(j,ie*$*r);const o=[r,r,r,r,r,r];pe.set(o,oe*$*r)}const he=new BufferGeometry;he.setAttribute("position",new BufferAttribute(se,ne)),he.setAttribute("uv",new BufferAttribute(le,ie)),he.setAttribute("faceIndex",new BufferAttribute(pe,oe)),r.push(he),i>4&&i--}return{_lodPlanes:r,_sizeLods:n,_sigmas:a}}();let pc=null;const yc=1.618033988749895,_c=1/yc,bc=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,yc,_c),new Vector3(0,yc,-_c),new Vector3(_c,0,yc),new Vector3(-_c,0,yc),new Vector3(yc,_c,0),new Vector3(-yc,_c,0)];function PMREMGenerator(r){this._renderer=r,this._pingPongRenderTarget=null,this._blurMaterial=function _getBlurShader(r){return new RawShaderMaterial({name:"SphericalGaussianBlur",defines:{n:r},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:new Float32Array(r)},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:new Vector3(0,1,0)},inputEncoding:{value:Kl[pn]},outputEncoding:{value:Kl[pn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:he,depthTest:!1,depthWrite:!1})}(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}function _isLDR(r){return void 0!==r&&r.type===It&&(r.encoding===pn||r.encoding===un||r.encoding===dn)}function _createRenderTarget(r){const n=new WebGLRenderTarget(768,768,r);return n.texture.mapping=bt,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function _setViewport(r,n,a,i,o){r.viewport.set(n,a,i,o),r.scissor.set(n,a,i,o)}function _getEquirectShader(){return new RawShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new Vector2(1,1)},inputEncoding:{value:Kl[pn]},outputEncoding:{value:Kl[pn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:he,depthTest:!1,depthWrite:!1})}function _getCubemapShader(){return new RawShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Kl[pn]},outputEncoding:{value:Kl[pn]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:he,depthTest:!1,depthWrite:!1})}function Face4(r,n,a,i,o,s,y){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Face3(r,n,a,o,s,y)}PMREMGenerator.prototype={constructor:PMREMGenerator,fromScene(r,n=0,a=.1,i=100){pc=this._renderer.getRenderTarget();const o=this._allocateTargets();return this._sceneToCubeUV(r,a,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o},fromEquirectangular(r){return this._fromTexture(r)},fromCubemap(r){return this._fromTexture(r)},compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=_getCubemapShader(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=_getEquirectShader(),this._compileMaterial(this._equirectShader))},dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let r=0;r<Ql.length;r++)Ql[r].dispose()},_cleanup(r){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(pc),r.scissorTest=!1,_setViewport(r,0,0,r.width,r.height)},_fromTexture(r){pc=this._renderer.getRenderTarget();const n=this._allocateTargets(r);return this._textureToCubeUV(r,n),this._applyPMREM(n),this._cleanup(n),n},_allocateTargets(r){const n={magFilter:Pt,minFilter:Pt,generateMipmaps:!1,type:It,format:Qt,encoding:_isLDR(r)?r.encoding:hn,depthBuffer:!1,stencilBuffer:!1},a=_createRenderTarget(n);return a.depthBuffer=!r,this._pingPongRenderTarget=_createRenderTarget(n),a},_compileMaterial(r){const n=new Mesh(Ql[0],r);this._renderer.compile(n,Jl)},_sceneToCubeUV(r,n,a,i){const o=new PerspectiveCamera(90,1,n,a),s=[1,-1,1,1,1,1],y=[1,1,1,-1,-1,-1],_=this._renderer,w=_.outputEncoding,E=_.toneMapping,j=_.getClearColor(),q=_.getClearAlpha();_.toneMapping=ct,_.outputEncoding=pn;let $=r.background;if($&&$.isColor){$.convertSRGBToLinear();const n=Math.max($.r,$.g,$.b),a=Math.min(Math.max(Math.ceil(Math.log2(n)),-128),127);$=$.multiplyScalar(Math.pow(2,-a));const i=(a+128)/255;_.setClearColor($,i),r.background=null}for(let n=0;n<6;n++){const a=n%3;0==a?(o.up.set(0,s[n],0),o.lookAt(y[n],0,0)):1==a?(o.up.set(0,0,s[n]),o.lookAt(0,y[n],0)):(o.up.set(0,s[n],0),o.lookAt(0,0,y[n])),_setViewport(i,256*a,n>2?256:0,256,256),_.setRenderTarget(i),_.render(r,o)}_.toneMapping=E,_.outputEncoding=w,_.setClearColor(j,q)},_textureToCubeUV(r,n){const a=this._renderer;r.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=_getCubemapShader()):null==this._equirectShader&&(this._equirectShader=_getEquirectShader());const i=r.isCubeTexture?this._cubemapShader:this._equirectShader,o=new Mesh(Ql[0],i),s=i.uniforms;s.envMap.value=r,r.isCubeTexture||s.texelSize.value.set(1/r.image.width,1/r.image.height),s.inputEncoding.value=Kl[r.encoding],s.outputEncoding.value=Kl[n.texture.encoding],_setViewport(n,0,0,768,512),a.setRenderTarget(n),a.render(o,Jl)},_applyPMREM(r){const n=this._renderer,a=n.autoClear;n.autoClear=!1;for(let n=1;n<$l;n++){const a=Math.sqrt(ac[n]*ac[n]-ac[n-1]*ac[n-1]),i=bc[(n-1)%bc.length];this._blur(r,n-1,n,a,i)}n.autoClear=a},_blur(r,n,a,i,o){const s=this._pingPongRenderTarget;this._halfBlur(r,s,n,a,i,"latitudinal",o),this._halfBlur(s,r,a,a,i,"longitudinal",o)},_halfBlur(r,n,a,i,o,s,y){const _=this._renderer,w=this._blurMaterial;"latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!");const E=new Mesh(Ql[i],w),j=w.uniforms,q=Zl[a]-1,$=isFinite(o)?Math.PI/(2*q):2*Math.PI/39,ne=o/$,ie=isFinite(o)?1+Math.floor(3*ne):20;ie>20&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${ie} samples when the maximum is set to 20`);const oe=[];let se=0;for(let r=0;r<20;++r){const n=r/ne,a=Math.exp(-n*n/2);oe.push(a),0==r?se+=a:r<ie&&(se+=2*a)}for(let r=0;r<oe.length;r++)oe[r]=oe[r]/se;j.envMap.value=r.texture,j.samples.value=ie,j.weights.value=oe,j.latitudinal.value="latitudinal"===s,y&&(j.poleAxis.value=y),j.dTheta.value=$,j.mipInt.value=8-a,j.inputEncoding.value=Kl[r.texture.encoding],j.outputEncoding.value=Kl[r.texture.encoding];const le=Zl[i];_setViewport(n,3*Math.max(0,256-2*le),(0===i?0:512)+2*le*(i>4?i-8+4:0),3*le,2*le),_.setRenderTarget(n),_.render(E,Jl)}};const xc=0,Cc=1,wc=0,Ec=1,Ac=2;function MeshFaceMaterial(r){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),r}function MultiMaterial(r){return void 0===r&&(r=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),r.isMultiMaterial=!0,r.materials=r,r.clone=function(){return r.slice()},r}function PointCloud(r,n){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Points(r,n)}function Particle(r){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new Sprite(r)}function ParticleSystem(r,n){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Points(r,n)}function PointCloudMaterial(r){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new PointsMaterial(r)}function ParticleBasicMaterial(r){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new PointsMaterial(r)}function ParticleSystemMaterial(r){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new PointsMaterial(r)}function Vertex(r,n,a){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new Vector3(r,n,a)}function DynamicBufferAttribute(r,n){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new BufferAttribute(r,n).setUsage(zn)}function Int8Attribute(r,n){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Int8BufferAttribute(r,n)}function Uint8Attribute(r,n){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Uint8BufferAttribute(r,n)}function Uint8ClampedAttribute(r,n){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Uint8ClampedBufferAttribute(r,n)}function Int16Attribute(r,n){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Int16BufferAttribute(r,n)}function Uint16Attribute(r,n){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Uint16BufferAttribute(r,n)}function Int32Attribute(r,n){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Int32BufferAttribute(r,n)}function Uint32Attribute(r,n){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Uint32BufferAttribute(r,n)}function Float32Attribute(r,n){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Float32BufferAttribute(r,n)}function Float64Attribute(r,n){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Float64BufferAttribute(r,n)}function ClosedSplineCurve3(r){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,r),this.type="catmullrom",this.closed=!0}function SplineCurve3(r){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,r),this.type="catmullrom"}function Spline(r){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),CatmullRomCurve3.call(this,r),this.type="catmullrom"}function AxisHelper(r){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new AxesHelper(r)}function BoundingBoxHelper(r,n){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new BoxHelper(r,n)}function EdgesHelper(r,n){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new LineSegments(new EdgesGeometry(r.geometry),new LineBasicMaterial({color:void 0!==n?n:16777215}))}function WireframeHelper(r,n){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new LineSegments(new WireframeGeometry(r.geometry),new LineBasicMaterial({color:void 0!==n?n:16777215}))}function XHRLoader(r){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new FileLoader(r)}function BinaryTextureLoader(r){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new DataTextureLoader(r)}function WebGLRenderTargetCube(r,n,a){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new WebGLCubeRenderTarget(r,a)}Curve.create=function(r,n){return console.log("THREE.Curve.create() has been deprecated"),r.prototype=Object.create(Curve.prototype),r.prototype.constructor=r,r.prototype.getPoint=n,r},Object.assign(CurvePath.prototype,{createPointsGeometry(r){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const n=this.getPoints(r);return this.createGeometry(n)},createSpacedPointsGeometry(r){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const n=this.getSpacedPoints(r);return this.createGeometry(n)},createGeometry(r){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const n=new Geometry;for(let a=0,i=r.length;a<i;a++){const i=r[a];n.vertices.push(new Vector3(i.x,i.y,i.z||0))}return n}}),Object.assign(Path.prototype,{fromPoints(r){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(r)}}),ClosedSplineCurve3.prototype=Object.create(CatmullRomCurve3.prototype),SplineCurve3.prototype=Object.create(CatmullRomCurve3.prototype),Spline.prototype=Object.create(CatmullRomCurve3.prototype),Object.assign(Spline.prototype,{initFromArray(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},SkeletonHelper.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Loader.prototype,{extractUrlBase:r=>(console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),il.extractUrlBase(r))}),Loader.Handlers={add(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(ObjectLoader.prototype,{setTexturePath(r){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(r)}}),Object.assign(Box2.prototype,{center(r){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(r)},empty(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox(r){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(r)},size(r){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(r)}}),Object.assign(Box3.prototype,{center(r){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(r)},empty(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox(r){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(r)},isIntersectionSphere(r){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(r)},size(r){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(r)}}),Object.assign(Sphere.prototype,{empty(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Frustum.prototype.setFromMatrix=function(r){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(r)},Line3.prototype.center=function(r){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(r)},Object.assign(Kn,{random16:()=>(console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()),nearestPowerOfTwo:r=>(console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Kn.floorPowerOfTwo(r)),nextPowerOfTwo:r=>(console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Kn.ceilPowerOfTwo(r))}),Object.assign(Matrix3.prototype,{flattenToArrayOffset(r,n){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(r,n)},multiplyVector3(r){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),r.applyMatrix3(this)},multiplyVector3Array(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute(r){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),r.applyMatrix3(this)},applyToVector3Array(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Matrix4.prototype,{extractPosition(r){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(r)},flattenToArrayOffset(r,n){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(r,n)},getPosition(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Vector3).setFromMatrixColumn(this,3)},setRotationFromQuaternion(r){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(r)},multiplyToArray(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3(r){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)},multiplyVector4(r){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)},multiplyVector3Array(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis(r){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),r.transformDirection(this)},crossVector(r){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)},translate(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute(r){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),r.applyMatrix4(this)},applyToVector3Array(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum(r,n,a,i,o,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(r,n,i,a,o,s)}}),Plane.prototype.isIntersectionLine=function(r){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(r)},Quaternion.prototype.multiplyVector3=function(r){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),r.applyQuaternion(this)},Object.assign(Ray.prototype,{isIntersectionBox(r){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(r)},isIntersectionPlane(r){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(r)},isIntersectionSphere(r){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(r)}}),Object.assign(Triangle.prototype,{area(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint(r,n){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(r,n)},midpoint(r){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(r)},normal(r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(r)},plane(r){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(r)}}),Object.assign(Triangle,{barycoordFromPoint:(r,n,a,i,o)=>(console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Triangle.getBarycoord(r,n,a,i,o)),normal:(r,n,a,i)=>(console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Triangle.getNormal(r,n,a,i))}),Object.assign(Shape.prototype,{extractAllPoints(r){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(r)},extrude(r){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new ExtrudeGeometry(this,r)},makeGeometry(r){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new ShapeGeometry(this,r)}}),Object.assign(Vector2.prototype,{fromAttribute(r,n,a){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(r,n,a)},distanceToManhattan(r){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(r)},lengthManhattan(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Vector3.prototype,{setEulerFromRotationMatrix(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix(r){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(r)},getScaleFromMatrix(r){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(r)},getColumnFromMatrix(r,n){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(n,r)},applyProjection(r){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(r)},fromAttribute(r,n,a){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(r,n,a)},distanceToManhattan(r){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(r)},lengthManhattan(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Vector4.prototype,{fromAttribute(r,n,a){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(r,n,a)},lengthManhattan(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Geometry.prototype,{computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix(r){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(r)}}),Object.assign(Object3D.prototype,{getChildByName(r){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(r)},renderDepth(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate(r,n){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(n,r)},getWorldRotation(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix(r){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(r)}}),Object.defineProperties(Object3D.prototype,{eulerOrder:{get(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set(r){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=r}},useQuaternion:{get(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Mesh.prototype,{setDrawMode(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Mesh.prototype,{drawMode:{get:()=>(console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),sn),set(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(LOD.prototype,{objects:{get(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Skeleton.prototype,"useVertexTexture",{get(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),SkinnedMesh.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Curve.prototype,"__arcLengthDivisions",{get(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set(r){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=r}}),PerspectiveCamera.prototype.setLens=function(r,n){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==n&&(this.filmGauge=n),this.setFocalLength(r)},Object.defineProperties(Light.prototype,{onlyShadow:{set(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set(r){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=r}},shadowCameraLeft:{set(r){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=r}},shadowCameraRight:{set(r){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=r}},shadowCameraTop:{set(r){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=r}},shadowCameraBottom:{set(r){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=r}},shadowCameraNear:{set(r){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=r}},shadowCameraFar:{set(r){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=r}},shadowCameraVisible:{set(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set(r){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=r}},shadowDarkness:{set(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set(r){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=r}},shadowMapHeight:{set(r){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=r}}}),Object.defineProperties(BufferAttribute.prototype,{length:{get(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===zn},set(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(zn)}}}),Object.assign(BufferAttribute.prototype,{setDynamic(r){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===r?zn:Bn),this},copyIndicesArray(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(BufferGeometry.prototype,{addIndex(r){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(r)},addAttribute(r,n){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),n&&n.isBufferAttribute||n&&n.isInterleavedBufferAttribute?"index"===r?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(n),this):this.setAttribute(r,n):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(r,new BufferAttribute(n,arguments[2])))},addDrawCall(r,n,a){void 0!==a&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(r,n)},clearDrawCalls(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute(r){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(r)},applyMatrix(r){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(r)}}),Object.defineProperties(BufferGeometry.prototype,{drawcalls:{get(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(InstancedBufferGeometry.prototype,{maxInstancedCount:{get(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set(r){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=r}}}),Object.defineProperties(Raycaster.prototype,{linePrecision:{get(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set(r){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=r}}}),Object.defineProperties(InterleavedBuffer.prototype,{dynamic:{get(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===zn},set(r){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(r)}}}),Object.assign(InterleavedBuffer.prototype,{setDynamic(r){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===r?zn:Bn),this},setArray(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(ExtrudeBufferGeometry.prototype,{getArrays(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Uniform.prototype,{dynamic:{set(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Material.prototype,{wrapAround:{get(){console.warn("THREE.Material: .wrapAround has been removed.")},set(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get(){console.warn("THREE.Material: .overdraw has been removed.")},set(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:()=>(console.warn("THREE.Material: .wrapRGB has been removed."),new Color)},shading:{get(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set(r){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=r===le}},stencilMask:{get(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set(r){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=r}}}),Object.defineProperties(MeshPhongMaterial.prototype,{metal:{get:()=>(console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1),set(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(MeshPhysicalMaterial.prototype,{transparency:{get(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set(r){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=r}}}),Object.defineProperties(ShaderMaterial.prototype,{derivatives:{get(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set(r){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=r}}}),Object.assign(WebGLRenderer.prototype,{clearTarget(r,n,a,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(r),this.clear(n,a,i)},animate(r){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(r)},getCurrentRenderTarget(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest(r){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(r)},initMaterial(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(WebGLRenderer.prototype,{shadowMapEnabled:{get(){return this.shadowMap.enabled},set(r){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=r}},shadowMapType:{get(){return this.shadowMap.type},set(r){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=r}},shadowMapCullFace:{get(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:()=>(console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1),set(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:()=>(console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1),set(r){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===r?un:pn}},toneMappingWhitePoint:{get:()=>(console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1),set(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(WebGLShadowMap.prototype,{cullFace:{get(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(WebGLRenderTarget.prototype,{wrapS:{get(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set(r){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=r}},wrapT:{get(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set(r){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=r}},magFilter:{get(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set(r){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=r}},minFilter:{get(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set(r){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=r}},anisotropy:{get(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set(r){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=r}},offset:{get(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set(r){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=r}},repeat:{get(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set(r){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=r}},format:{get(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set(r){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=r}},type:{get(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set(r){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=r}},generateMipmaps:{get(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set(r){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=r}}}),Object.defineProperties(Audio.prototype,{load:{value(r){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const n=this;return(new AudioLoader).load(r,(function(r){n.setBuffer(r)})),this}},startTime:{set(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),AudioAnalyser.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},CubeCamera.prototype.updateCubeMap=function(r,n){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(r,n)};const kc={merge(r,n,a){let i;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),n.isMesh&&(n.matrixAutoUpdate&&n.updateMatrix(),i=n.matrix,n=n.geometry),r.merge(n,i,a)},center:r=>(console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),r.center())};function CanvasRenderer(){console.error("THREE.CanvasRenderer has been removed")}function JSONLoader(){console.error("THREE.JSONLoader has been removed.")}Qn.crossOrigin=void 0,Qn.loadTexture=function(r,n,a,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const o=new TextureLoader;o.setCrossOrigin(this.crossOrigin);const s=o.load(r,a,void 0,i);return n&&(s.mapping=n),s},Qn.loadTextureCube=function(r,n,a,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const o=new CubeTextureLoader;o.setCrossOrigin(this.crossOrigin);const s=o.load(r,a,void 0,i);return n&&(s.mapping=n),s},Qn.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Qn.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const Ic={createMultiMaterialObject(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function LensFlare(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:i}}))},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(8),_=a(21),w=a(36),E=a(37),j=a(40),q=a(41),$=a(45),ne=a(46),ie=a(47),oe=a(60),se=a(65),le=a(48),pe=a(25);class PhysicsSystem extends j.default{constructor(){super(),this.geometries=new Map,this.physicsReadyCallback=null,this.physicsReadyPromise=null,this.tmpTransform=new q.Transform}async onInit(){this.entityGroup.on("entityAdded",this.onEntityAdded,this),this.entityGroup.on("entityRemoved",this.onEntityRemoved,this),this.entityGroup.on("entityUpdated",this.onEntityUpdated,this),this.physicsReadyPromise=new Promise(r=>{this.physicsReadyCallback=r}),await window.ammoPromise,this.world=new oe.PhysicsWorld,this.entityManager.emit("physicsReady"),this.physicsReadyCallback&&this.physicsReadyCallback()}async waitForPhysics(){if(!this.world)return await this.physicsReadyPromise}sphereCast(){return[]}rayCastSaneAPI(r,n,a=-1,i=-1){return this.world.rayCastSaneAPI(r,n,a,i)}async registerGeometry(r,n){const a=pe.default({name:r,type:n}),i=await y.assetManager.getLoader(_.GeometryLoader).load({name:r});if(this.geometries.has(a))return a;this.geometries.set(a,!0);let o={type:$.PHYSICS_SHAPE.BOX,id:a,name:r,scale:{x:1,y:1,z:1}};switch(n){case $.PHYSICS_SHAPE.BOX:o=Object.assign(Object.assign({},o),{type:$.PHYSICS_SHAPE.BOX,width:1,height:1,depth:1});break;case $.PHYSICS_SHAPE.SPHERE:o=Object.assign(Object.assign({},o),{type:$.PHYSICS_SHAPE.SPHERE,radius:.5});break;case $.PHYSICS_SHAPE.CONE:o=Object.assign(Object.assign({},o),{type:$.PHYSICS_SHAPE.CONE,radius:.5,height:1});break;case $.PHYSICS_SHAPE.CYLINDER:o=Object.assign(Object.assign({},o),{type:$.PHYSICS_SHAPE.CYLINDER,radius:.5,height:1});break;case $.PHYSICS_SHAPE.CAPSULE:o=Object.assign(Object.assign({},o),{type:$.PHYSICS_SHAPE.CAPSULE,radius:.5,height:1});break;case $.PHYSICS_SHAPE.CONCAVE:o=Object.assign(Object.assign({},o),{type:$.PHYSICS_SHAPE.CONCAVE,vertices:i.attributes.position.array,indices:i.index?i.index.array:null});break;case $.PHYSICS_SHAPE.CONVEX:o=Object.assign(Object.assign({},o),{type:$.PHYSICS_SHAPE.CONVEX,points:i.attributes.position.array})}return this.world&&this.world.registerGeometry(o),a}async updatePhysicsObject(r){const{node:n,model:a,rigidBody:i}=r;if(!this.world)return;const o=i.geometry||a.geometry,s=le.generateShapeId(o,i.physicality,n.scale);if(!this.geometries.has(s)){const r=le.getShapeType(o,i.physicality,n.scale);await this.registerGeometry(o,r)}i.enabled?i.object?(i.ignoreOldState=!0,i.object.updateProps()):(i.object=new ie.RigidBody(this.world,r),this.world.addPhysicsObject(i.object),this.entityManager.executeCommandQueue(i)):i.object&&(this.world.removePhysicsObject(i.object),i.object=null)}onEntityUpdated(r){this.updatePhysicsObject(r)}onEntityAdded(r){this.updatePhysicsObject(r)}onEntityRemoved(r){const{rigidBody:n}=r;this.world&&n.object&&(this.world.removePhysicsObject(n.object),n.object=null)}updateTick(r,n){if(this.world){for(let r=0;r<this.entityGroup.length;r++){const n=this.entityGroup.entities[r],{node:a,rigidBody:i}=n,o=a.getAbsoluteTransform(this.tmpTransform);!i.object||i.physicality!==ne.Physicality.KINEMATIC&&i.physicality!==ne.Physicality.GHOST||(i.object.setTransform(a.position,a.rotation),a.isDirty=!0),o.position.y<-4e3&&i.object&&(this.world.removePhysicsObject(i.object),i.object=null,this.entityManager.removeDeffered(n))}this.world.simulate(n),r%2==0&&this.world.fixedUpdate(n)}}}PhysicsSystem.order=850,o([w.InjectGroup(q.default,se.default),s("design:type","function"==typeof(i=void 0!==E.default&&E.default)?i:Object)],PhysicsSystem.prototype,"entityGroup",void 0),n.default=PhysicsSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GeometryLoader=void 0;const i=a(9),o=a(22),s=a(27),y=a(18),_=a(13),w=a(19),E=a(28),j=a(29),q=a(1377),$=a(30),ne=a(34),ie=new w.BoxBufferGeometry(1,1,1);class GeometryLoader extends $.AssetLoader{constructor(){super(),this.objectLoader=new q.OBJLoader2,this.plyLoader=new j.PLYLoader,this.gltfLoader=new E.GLTFLoader,this.geometries=new Map,this.objectLoader.setUseIndices(!0),this.objectLoader.setLogging(_.isDebugMode,_.isDebugMode)}generateKey(r){return r.name}loadObject(r){return new Promise((n,a)=>{this.objectLoader.load(r,n,void 0,a)})}loadPly(r){return new Promise((n,a)=>{this.plyLoader.load(r,n,void 0,a)})}insertDefaultData(r,n){const a=r;return a.id=n,a.listed=y.default.defVal(a.listed,!1),a.category=y.default.defVal(a.category,"props"),a.ConvexGeometry=y.default.defVal(a.ConvexGeometry,"ConvexGeometry"),a.normalized=y.default.defVal(a.normalized,!0),a.props=y.default.defVal(a.props,{material:{id:"vertexColor"}}),a}loadGLTF(r){return new Promise((n,a)=>{this.gltfLoader.load(r,n,void 0,a)})}findGeometry(r){let n=null;return r.scene.traverse(r=>{r instanceof w.Mesh&&(n=r.geometry)}),n}async loadGeometry(r){let n=o.default[r];if(!n)return new w.BoxBufferGeometry(1,1,1);n=this.insertDefaultData(n,r);const a=y.default.quickHash({geometry:r});let i=this.geometries.get(a)||null;if(i)return i;const processMesh=r=>{if(n.normalized){const a=n.alter&&n.alter.scale?n.alter.scale:{x:1,y:1,z:1};s.default.resizeByBaseSize(r,a),y.default.alterGeometry(r.geometry,n.alter),s.default.center(r.geometry)}else y.default.alterGeometry(r.geometry,n.alter);return n.equalize&&s.default.equalize(r),r.geometry};if(n.obj){const r=await this.loadObject(ne.getCachedFileUri(n.obj)),a=r.children.length-1,o=r.children[a].clone(!0);o.geometry=o.geometry.clone(),i=processMesh(o)}else if(n.ply){const r=await this.loadPly(ne.getCachedFileUri(n.ply));r.attributes.normal||r.computeVertexNormals(),i=processMesh(new w.Mesh(r))}else if(n.gltf){const r=await this.loadGLTF(ne.getCachedFileUri(n.gltf));i=this.findGeometry(r),i||(console.warn("Couldnt find geometry in gltf scene"),i=new w.BoxBufferGeometry(1,1,1)),i=processMesh(new w.Mesh(i))}return this.geometries.set(a,i),i}async _load(r){let n=null;switch(r.name.toLowerCase()){case"box":n=new w.BoxBufferGeometry(1,1,1);break;case"sphere":n=new w.SphereBufferGeometry(.5,12,8);break;case"cylinder":n=new w.CylinderBufferGeometry(.5,.5,1,8,8);break;case"cone":n=new w.ConeBufferGeometry(.5,1,8);break;case"plane":n=new w.PlaneBufferGeometry(1,1);break;default:try{n=await this.loadGeometry(r.name)}catch(r){n=ie}}var a;return(a=n).computeBoundingBox(),a.computeBoundingSphere(),n.name=r.name.toLowerCase(),n}}n.GeometryLoader=GeometryLoader,GeometryLoader.assetType=i.AssetType.GEOMETRY},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(23),o={en_p_metal_object_01:{version:2,listed:!1,name:"Vanic Metallic Object",thumbnail:"https://cdn.hibervr.com/thumbs/assets/en_p_metal_object_01.jpg",category:"props",tags:["en","p","metal"],props:{material:{id:"en_p_metal_object_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/en_p_metal_object_01.glb.br"},en_p_flower_stone_01:{version:2,listed:!1,name:"Vanic Flower Stone",thumbnail:"https://cdn.hibervr.com/thumbs/assets/en_p_flower_stone_01.jpg",category:"rocky",tags:[],props:{material:{id:"en_p_flower_stone_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/en_p_flower_stone_01.glb.br"},t_vanic_fire_01:{version:2,listed:!1,name:"Vanic Fire",thumbnail:"https://cdn.hibervr.com/thumbs/assets/t_vanic_fire_01.jpg",category:"lights",tags:[],props:{material:{id:"t_vanic_fire_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/t_vanic_fire_01.glb.br"},t_water_ring_01:{version:2,listed:!1,name:"Vanic Ring",thumbnail:"https://cdn.hibervr.com/thumbs/assets/t_water_ring_01.jpg",category:"summer",tags:[],props:{material:{id:"t_water_ring_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/t_water_ring_01.glb.br"},en_p_asteriod_01:{version:2,listed:!1,name:"Vanic Asteriod",thumbnail:"https://cdn.hibervr.com/thumbs/assets/en_p_asteriod_01.jpg",category:"rocky",tags:["en","p"],props:{material:{id:"en_p_asteriod_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/en_p_asteriod_01.glb"},test:{version:2,listed:!1,name:"00.AA Test",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Street_RampElevated.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Street_RampElevated_2.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{x:-1.57}}},Street_Ramp_Bridge_3:{version:2,listed:!1,name:"Street Ramp Bridge",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_block_01_dark.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Street_Ramp_Bridge_3.ply",category:"construction",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{x:-1.57}}},Street_Elevated_2:{version:2,listed:!0,name:"Street Elevated",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Street_Elevated_2.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Street_Elevated_3.ply",category:"construction",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{x:-1.57,z:-1.57}}},Street_Curve_2:{version:2,listed:!0,name:"Street Curve",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Street_Curve_2.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Street_Curve_3.ply",category:"construction",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{x:-1.57,z:1.57}}},Street_Bridge_2:{version:2,listed:!0,name:"Street Bridge",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Street_Bridge_2.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Street_Bridge_2.ply",category:"construction",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:1,z:1.2},rotation:{x:-1.57,z:-1.57}}},Street_Bridge_Underpass_2:{version:2,listed:!1,name:"Street Bridge Underpass",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_block_01_dark.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Street_Bridge_Underpass_2.ply",category:"construction",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{x:-1.57,z:3.141592}}},Street_4Way_2:{version:2,listed:!0,name:"Street 4 Way",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Street_4Way_23x3.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Street_4Way_3.ply",category:"construction",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{x:-1.57,z:3.141592}}},Street_3Way_2:{version:2,listed:!0,name:"Street 3 Way",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Street_3Way_23x3.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Street_3Way_2.ply",category:"construction",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{x:-1.57,z:3.141592}}},H_boxingGlove_01:{version:2,listed:!1,name:"Boxing Glove",thumbnail:"https://cdn.hibervr.com/thumbs/assets/H_boxingGlove_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/H_boxingGlove_01.ply",category:"props",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{}},GPL_roadsign_up_01:{version:2,listed:!0,name:"Road sign up",thumbnail:"https://cdn.hibervr.com/thumbs/assets/GPL_roadsign_up_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/GPL_roadsign_up_01.ply",category:"props",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{}},GPL_roadsign_left_01:{version:2,listed:!0,name:"Road sign left",thumbnail:"https://cdn.hibervr.com/thumbs/assets/GPL_roadsign_left_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/GPL_roadsign_left_01.ply",category:"props",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{}},GPL_goal_02:{version:2,listed:!0,name:"Racing goal",thumbnail:"https://cdn.hibervr.com/thumbs/assets/GPL_goal_02.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/GPL_goal_02.ply",category:"props",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{}},EN_P_metalFloor_06:{version:2,listed:!0,name:"Metal Floor",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_metalFloor_06.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_P_metalFloor_06.ply",category:"props",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{y:3.141592}}},EN_P_hand_09:{version:2,listed:!0,name:"Hand",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_hand_09.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_P_hand_09.ply",category:"props",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{y:3.141592}}},EN_M_woodSupportPole_01:{version:2,listed:!0,ribbon:1,name:"Wood Support Pole",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_woodSupportPole_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_woodSupportPole_01.ply",category:"construction",tags:[],props:{material:{id:"Wood_Wood_bare_002",vertexColors:!0,uvType:1,uvScale:2}},normalized:!0,alter:{scale:{x:1.7,y:1.7,z:1.7},rotation:{y:1.57}}},EN_M_woodBridgeIncline_01:{version:2,listed:!0,ribbon:1,name:"Wood Bridge Incline",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_woodBridgeIncline_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_woodBridgeIncline_01.ply",category:"construction",tags:[],props:{material:{id:"Wood_Wood_bare_002",vertexColors:!0,uvType:1,uvScale:2}},normalized:!0,alter:{scale:{x:1.41,y:1.41,z:1.41}}},EN_M_woodBridgeTurn_01:{version:2,listed:!0,ribbon:1,name:"Wood Bridge Turn",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_woodBridgeTurn_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_woodBridgeTurn_01.ply",category:"construction",tags:[],props:{material:{id:"Wood_Wood_bare_002",vertexColors:!0,uvType:1,uvScale:2}},normalized:!0,alter:{scale:{x:1.41,y:1.41,z:1.41},rotation:{y:3.141592}}},EN_M_woodBridge_01:{version:2,listed:!0,ribbon:1,name:"Wood Bridge",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_woodBridge_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_woodBridge_01.ply",category:"construction",tags:[],props:{material:{id:"Wood_Wood_bare_002",vertexColors:!0,uvType:1,uvScale:2}},normalized:!0,alter:{}},EN_P_campFire_01:{version:2,listed:!1,name:"Camp Fire",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_campFire_01_dark.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_P_campFire_01.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{}},EN_M_pipeTurn_01:{name:"Pipe Straight",version:2,listed:!0,category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_pipeTurn_01.jpg",props:{material:{id:"Metal_p_Metal_plate_003",uvScale:2}},alter:{rotation:{y:1.57079632679}},ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_pipeTurn_01.ply"},CH_NPC_hiberHead_01:{version:2,listed:!0,name:"Hiber Head",thumbnail:"https://cdn.hibervr.com/thumbs/assets/CH_NPC_hiberHead_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/CH_NPC_hiberHead_01.ply",category:"props",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{y:3.141592}}},EN_M_timberedBuildingMiddleFloor_01:{version:2,listed:!1,name:"EN_M_timberedBuildingMiddleFloor_01",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_timberedBuildingMiddleFloor_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_timberedBuildingMiddleFloor_01.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:1,z:1}}},EN_M_timberedBuildingBottomFloor_01:{version:2,listed:!1,name:"EN_M_timberedBuildingBottomFloor_01",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_timberedBuildingBottomFloor_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_timberedBuildingBottomFloor_01.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:1,z:1}}},EN_M_timberedBuildingTopFloor_01:{version:2,listed:!1,name:"EN_M_timberedBuildingTopFloor_01",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_timberedBuildingTopFloor_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_timberedBuildingTopFloor_01.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:1,z:1}}},EN_M_timberedBuildingTopFloor_01_collision:{version:2,listed:!1,name:"EN_M_timberedBuildingTopFloor_01_collision",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_timberedBuildingTopFloor_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_timberedBuildingTopFloor_01_collision.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:1,z:1}}},EN_M_skyscraperTopFloor_02_collision:{version:2,listed:!1,name:"EN_M_skyscraperTopFloor_02_collision",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_skyscraperTopFloor_02.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_skyscraperTopFloor_02_collision.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:1,z:1}}},EN_M_skyscraperTopFloor_02:{version:2,listed:!1,name:"EN_M_skyscraperTopFloor_02",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_skyscraperTopFloor_02.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_skyscraperTopFloor_02.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:1,z:1}}},EN_M_skyscraperTopFloor_01:{version:2,listed:!1,name:"EN_M_skyscraperTopFloor_01",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_skyscraperTopFloor_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_skyscraperTopFloor_01.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:1,z:1}}},EN_M_skyscraperMiddleFloor_03_collision:{version:2,listed:!1,name:"EN_M_skyscraperMiddleFloor_03_collision",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_skyscraperMiddleFloor_03.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_skyscraperMiddleFloor_03_collision.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:.9,z:1}}},EN_M_skyscraperMiddleFloor_03:{version:2,listed:!1,name:"EN_M_skyscraperMiddleFloor_03",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_skyscraperMiddleFloor_03.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_skyscraperMiddleFloor_03.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:.9,z:1}}},EN_M_skyscraperMiddleFloor_01:{version:2,listed:!1,name:"EN_M_skyscraperMiddleFloor_01",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_skyscraperMiddleFloor_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_skyscraperMiddleFloor_01.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:1,z:1}}},EN_M_skyscraperBottomFloor_02:{version:2,listed:!1,name:"EN_M_skyscraperBottomFloor_02",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_skyscraperBottomFloor_02.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_skyscraperBottomFloor_02.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:1,z:1}}},EN_M_skyscraperBottomFloor_01:{version:2,listed:!1,name:"EN_M_skyscraperBottomFloor_01",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_skyscraperBottomFloor_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_skyscraperBottomFloor_01.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:1,z:1}}},EN_M_brickBuildingTopFloor_01:{version:2,listed:!1,name:"EN_M_brickBuildingTopFloor_01",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_brickBuildingTopFloor_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_brickBuildingTopFloor_01.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:1,z:1}}},EN_M_brickBuildingMiddleFloor_02:{version:2,listed:!1,name:"EN_M_brickBuildingMiddleFloor_02",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_brickBuildingMiddleFloor_02.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_brickBuildingMiddleFloor_02.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:1.5,z:1}}},EN_M_brickBuildingMiddleFloor_01:{version:2,listed:!1,name:"EN_M_brickBuildingMiddleFloor_01",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_brickBuildingMiddleFloor_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_brickBuildingMiddleFloor_01.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{}},EN_M_brickBuildingBottomFloor_01:{version:2,listed:!1,name:"EN_M_brickBuildingBottomFloor_01",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_brickBuildingBottomFloor_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_brickBuildingBottomFloor_01.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{}},EN_M_floatingIslandSand_01:{version:2,listed:!0,name:"Floating Island Sand II",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_floatingIslandSand_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_floatingIslandSand_01.ply",category:"rocky",tags:[],props:{material:{id:"T_sand_03",uvScale:2,vertexColors:!0,colorStrength:1.3}},normalized:!0,alter:{}},EN_M_floatingIslandRock_01:{version:2,listed:!0,name:"Floating Island Rock II",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_floatingIslandRock_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_floatingIslandRock_01.ply",category:"rocky",tags:[],props:{material:{id:"Stone_Stone_Floor_003",uvScale:2,vertexColors:!0}},normalized:!0,alter:{}},EN_M_floatingIslandIce_01:{version:2,listed:!0,name:"Floating Island Ice II",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_floatingIslandIce_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_floatingIslandIce_01.ply",category:"rocky",tags:[],props:{material:{id:"T_ice_01",uvScale:15,vertexColors:!0}},normalized:!0,alter:{}},EN_M_floatingIslandGrass_01:{version:2,listed:!0,name:"Floating Island Grass II",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_floatingIslandGrass_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_floatingIslandGrass_01.ply",category:"rocky",tags:[],props:{material:{id:"pbr_mossy_ground1_mossy_ground1",vertexColors:!0,colorStrength:2.3,uvScale:2}},normalized:!0,alter:{}},en_p_flower_02:{version:2,listed:!0,name:"Flower",thumbnail:"https://cdn.hibervr.com/thumbs/assets/randomColoredFlowerPresets.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/en_p_flower_02.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{}},en_b_dome_01:{version:2,listed:!0,name:"Hollow Dome",thumbnail:"https://cdn.hibervr.com/thumbs/assets/en_b_dome_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/en_b_dome_01.ply",category:"vegetation",tags:[],props:{material:{material:"vertexColor"}},normalized:!0,alter:{rotation:{x:3.141592}}},en_b_dome_hole_01:{version:2,listed:!0,name:"Hollow Dome w hole",thumbnail:"https://cdn.hibervr.com/thumbs/assets/en_b_dome_hole_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/en_b_dome_hole_01.ply",category:"vegetation",tags:[],props:{material:{material:"vertexColor"}},normalized:!0,alter:{}},en_p_cherry_blossom_02:{version:2,listed:!0,name:"Cherry blossom tree",thumbnail:"https://cdn.hibervr.com/thumbs/assets/en_p_cherry_blossom_02.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/en_p_cherry_blossom_02.ply",category:"vegetation",tags:[],props:{material:{id:"new2_snow_Snow_1024",vertexColors:!0,color:{r:.7372549019607844,g:.7372549019607844,b:.7372549019607844},colorStrength:1.48}},normalized:!0,alter:{}},en_p_cherry_blossom_02_collision:{version:2,listed:!1,name:"Cherry blossom tree",thumbnail:"https://cdn.hibervr.com/thumbs/assets/en_p_cherry_blossom_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/en_p_cherry_blossom_02_collision.ply",category:"vegetation",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{}},en_p_cherry_blossom_01:{version:2,listed:!0,name:"Cherry blossom tree",thumbnail:"https://cdn.hibervr.com/thumbs/assets/en_p_cherry_blossom_01.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/en_p_cherry_blossom_01.ply",category:"vegetation",tags:[],props:{material:{id:"new2_snow_Snow_1024",vertexColors:!0,color:{r:.7372549019607844,g:.7372549019607844,b:.7372549019607844},colorStrength:1.48}},normalized:!0,alter:{}},en_p_cherry_blossom_01_collision:{version:2,listed:!1,name:"Cherry blossom tree",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_block_01_dark.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/en_p_cherry_blossom_01_collision.ply",category:"vegetation",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{}},streetLamp:{version:2,listed:!1,name:"street Lamp",thumbnail:"https://cdn.hibervr.com/thumbs/assets/streetLamp.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/streetLamp.ply",category:"construction",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{}},Street_Turn_90:{version:2,listed:!1,name:"Street Turn 90",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Street_Turn_90.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Street_Turn_90_3.ply",category:"construction",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{x:-1.57}}},Street_RampElevated:{version:2,listed:!1,name:"Street Ramp Elevated",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Street_RampElevated.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Street_RampElevated_2.ply",category:"construction",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{x:-1.57,z:-1.57}}},Street_Straight:{version:2,listed:!1,name:"Street Straight",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Street_Straight.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Street_Straight_2.ply",category:"construction",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{x:-1.57,z:1.57}}},Whale:{version:2,listed:!0,name:"Whale",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_block_01_dark.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Whale.ply",category:"animals",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{y:-.7853925}}},LittleRobot:{version:2,listed:!1,name:"Little Robot",thumbnail:"https://cdn.hibervr.com/thumbs/assets/LittleRobotPreset.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/RObititi.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{y:3.141592}}},Lightbulb:{version:2,listed:!0,name:"Light bulb",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Lightbulb.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Lightbulb.ply",category:"basic",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{}},HumanSkull_2:{version:2,listed:!0,name:"Human Skull",thumbnail:"https://cdn.hibervr.com/thumbs/assets/HumanSkull_2.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/HumanSkull.ply",category:"props",tags:[],props:{material:{id:"Rough_Rough_Marble_001",vertexColors:!0}},normalized:!0,alter:{}},elk:{version:2,listed:!0,name:"Elk",thumbnail:"https://cdn.hibervr.com/thumbs/assets/elk.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Elkusrex.ply",category:"animals",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{}},Elephant:{version:2,listed:!0,name:"Elephant",ribbon:1,thumbnail:"https://cdn.hibervr.com/thumbs/assets/Elephant.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Elephantus.ply",category:"animals",tags:[],props:{material:{id:"Leather_p_Leather_003",vertexColors:!0,uvType:1,uvScale:1}},normalized:!0,alter:{}},ElephantTilted:{version:2,listed:!1,name:"Elephant",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Elephant.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Elephantus.ply",category:"animals",tags:[],props:{material:{id:"Leather_p_Leather_003",vertexColors:!0,uvType:1,uvScale:1}},normalized:!0,alter:{rotation:{y:3.141592,x:.33}}},Dolphin:{version:2,listed:!1,name:"Dolphin",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Dolphin.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/DolphinDone.ply",category:"animals",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{rotation:{y:1.57079632679}}},DesertSkull:{version:2,listed:!0,name:"Desert Skull",thumbnail:"https://cdn.hibervr.com/thumbs/assets/DesertSkull.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/DesertSkull.ply",category:"props",tags:[],props:{material:{id:"Rough_Rough_Marble_001",uvScale:2,vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:1,z:1},rotation:{x:-1.57079632679}}},Pear3:{version:2,listed:!0,name:"Pear",ribbon:1,thumbnail:"https://cdn.hibervr.com/thumbs/assets/Pear3.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Pear3.ply",category:"food",tags:[],props:{material:{vertexColors:!0}},normalized:!0,alter:{scale:{x:1,y:1,z:1},rotation:{x:-1.57079632679}}},torus:{version:2,listed:!0,name:"Torus",thumbnail:"https://cdn.hibervr.com/thumbs/assets/chameleonTorus.jpg",obj:"https://cdn.hibervr.com/3Dassets/artifacts/en_m_torus_thick_01.obj",category:"basic",tags:[],props:{material:{}},normalized:!0,alter:{}},torus_thin:{version:2,listed:!0,name:"Torus thin",thumbnail:"https://cdn.hibervr.com/thumbs/assets/chameleonTorusThin.jpg",obj:"https://cdn.hibervr.com/3Dassets/artifacts/en_m_torus_thin_01.obj",category:"basic",tags:[],props:{material:{}},normalized:!0,alter:{}},sci_fi_box_2:{version:2,listed:!1,name:"SiFi Block",thumbnail:"https://cdn.hibervr.com/thumbnails/9/78b7f141a2d0fff355fc2d373810a0bb.512.png",ply:"https://cdn.hibervr.com/artifacts/9/f3e38856f644852bc6ada859f270dacd.ply",category:"props",tags:[],props:{material:{id:"Metal_Metal_scratched_003",color:{r:1,g:1,b:1},colorStrength:1.5,vertexColors:!0}},alter:{}},pipe_straight_2:{version:2,listed:!1,name:"Pipe thin",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_pipe_01_dark.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_M_pipeStraight_01.ply",category:"construction",tags:[],props:{material:{id:"T_scifiFloorTile_03"}},alter:{scale:{x:.71,y:1,z:.71}}},Pipe90_2:{version:2,listed:!1,name:"Pipe 90 deg",origin:{},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/pipe90_7_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/pipe90_6_fix1.ply",tags:[],props:{material:{id:"T_scifiFloorTile_03"}},alter:{rotation:{y:-1.57079632679,z:-1.57079632679}}},BridgeTall_2:{version:2,listed:!0,ribbon:1,name:"Bridge",origin:{license:"CC-BY 3.0",credits:"Palinus",url:"https://palinus.graphics/"},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/BridgeTall_2.jpg",obj:"https://cdn.hibervr.com/3Dassets/blocks/BridgeTall.obj",normalized:!0,alter:{scale:{x:1.45,y:1.45,z:1.42}},props:{material:{id:"BridgeWood",uvType:0}}},Ladder_short_2:{version:2,listed:!0,name:"Wood ladder",origin:{license:"CC-BY 3.0",credits:"Palinus",url:"https://palinus.graphics/"},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Ladder_short_2Presets.jpg",obj:"https://cdn.hibervr.com/3Dassets/blocks/ladderShort.obj",normalized:!0,alter:{scale:{x:1,y:1,z:1},rotation:{y:3.14159}},props:{material:{id:"BridgeWood",uvType:0}}},Ladder_2:{version:2,listed:!1,name:"Wood ladder",origin:{license:"CC-BY 3.0",credits:"Palinus",url:"https://palinus.graphics/"},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/ladder3.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/ladder2.obj",normalized:!0,alter:{scale:{x:1.45,y:1.415,z:1.45},rotation:{y:3.14159}},props:{material:{id:"BridgeWood",uvType:0}}},Sleigh_2:{version:2,listed:!1,name:"Sleigh",category:"seasonal",origin:{license:"CC-BY",credits:"14islands Lab",url:"https://poly.google.com/view/8-LNgiOfAxN"},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/giftBox_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/sleigh2.ply",tags:[],alter:{scale:1.5,rotation:{y:0}}},Stickyman_2:{version:2,listed:!0,name:"Sticky man",category:"props",origin:{license:"CC-BY 3.0",credits:"Oded Sharon",url:"https://poly.google.com/view/2uQZ8GxU8nQ"},props:{material:{id:"T_planksMetal_01"}},thumbnail:"https://cdn.hibervr.com/thumbs/assets/StickymanPresets.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/sticky_man.ply",tags:[],alter:{scale:1.5,rotation:{y:1.2566370614359172}}},Alienflower_2:{version:2,listed:!1,name:"Alien flower",category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/AlienFlower_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/AlienFlower.ply",tags:[],props:{material:{vertexColors:!0}},alter:{}},heart_2:{version:2,listed:!1,name:"Heart",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Heart_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Heart.ply",category:"props",tags:[],props:{material:{vertexColors:!0}},alter:{}},Tuft_of_grass_2:{version:2,listed:!1,name:"Tuft of grass",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/3tyh15Fbmsx"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tuft_of_grass.png",ply:"https://cdn.hibervr.com/3Dassets/poly/Tuft_of_grass.ply",tags:[],props:{material:{vertexColors:!0}},alter:{}},Cactus_2:{version:2,listed:!1,name:"Cactus",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/1_3Ur2-LAs8"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Cactus.png",ply:"https://cdn.hibervr.com/3Dassets/poly/Saguaro.ply",tags:[],props:{material:{vertexColors:!0}},alter:{scale:1.4}},battery_2:{version:2,listed:!1,name:"battery",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_swirlyHill_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/10294/0d988175fc11de00d9200204ece7201a.ply",category:"props",tags:[],props:{material:{vertexColors:!0}},alter:{}},BowlingPin_2:{version:2,listed:!1,name:"BowlingPin",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/0ZooEG4LdJF"},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/BowlingPin.png",obj:"https://cdn.hibervr.com/3Dassets/artifacts/bowlingPin.obj",tags:[],props:{material:{vertexColors:!0}},alter:{}},the_grabbing_hand_2:{version:2,listed:!1,name:"The grabbing hand",origin:{license:"CC-BY 3.0",credits:"John-010",url:"http://www.thingiverse.com/thing:31331"},category:"props",geometryType:"ConcaveGeometry",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Hand.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_P_hand_03.ply",tags:[],props:{material:{vertexColors:!0}},alter:{scale:1.45,rotation:{y:3.141592}}},floorLamp_2:{version:2,listed:!1,name:"Floor lamp",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Lamp.png",obj:"https://cdn.hibervr.com/3Dassets/artifacts/lamp.obj",category:"interiour",origin:{license:"CC-BY 3.0",credits:"Palinus",url:"https://palinus.graphics/"},tags:[],props:{material:{vertexColors:!0}},alter:{rotation:{y:1.2566370614359172}}},Needahand_2:{version:2,listed:!1,name:"Needahand",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Needahand_thumb.png",category:"props",tags:[],props:{material:{vertexColors:!0}},alter:{rotation:{y:3.141592}},ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_P_hand_05.ply"},headphones_2:{version:2,listed:!0,name:"Head phones",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_headphones_01_dark.jpg",category:"props",tags:[],props:{material:{vertexColors:!0}},alter:{scale:.7},ply:"https://cdn.hibervr.com/artifacts/9/43a2c99e8919049b71158f55da4a45a5.ply"},Mushroom_2:{version:2,listed:!0,name:"Mushroom",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Mushroom_2reset.jpg",category:"vegetation",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/01h5sEA40Hp"},tags:[],props:{material:{vertexColors:!0}},alter:{},ply:"https://cdn.hibervr.com/3Dassets/poly/Mushroom_01.ply"},floatingAlien_2:{version:2,listed:!0,name:"Floating Alien",thumbnail:"https://cdn.hibervr.com/thumbs/assets/alien_dark.jpg",category:"props",tags:[],props:{material:{vertexColors:!0}},alter:{},ply:"https://cdn.hibervr.com/artifacts/9/22f3e4e78ede2d3526baca226fd64594.ply"},RoundDoor_2:{version:2,listed:!0,name:"Round Door",ribbon:1,thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/RoundDoor_2.jpg",category:"construction",tags:[],props:{material:{id:"Rough_Rough_Marble_001",uvScale:.5}},alter:{scale:{x:1.25,y:1,z:1}},ply:"https://cdn.hibervr.com/artifacts/8263/b72858694cd47fa278802d7801c7ca8c.ply"},RoundDoorFrame_2:{version:2,listed:!0,name:"Round Door Frame",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/RoundDoorFrame_2.jpg",category:"construction",ribbon:1,tags:[],props:{material:{id:"Rough_Rough_rock_019"}},alter:{scale:{x:1.02,y:1.1,z:1}},ply:"https://cdn.hibervr.com/artifacts/8263/062fe052cf0b09e1db70cb9713c783e4.ply"},Strawberry_2:{version:2,listed:!0,name:"Strawberry",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Strawberry_dark.jpg",category:"props",tags:[],props:{material:{vertexColors:!0}},alter:{scale:.7},ply:"https://cdn.hibervr.com/artifacts/9/fdbd04825d3c8c8b2fd5a5dda170bba0.ply"},Crabbo_2:{version:2,listed:!0,name:"Gangster crab",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Crabbo_dark.jpg",category:"animals",tags:[],props:{material:{vertexColors:!0}},alter:{},ply:"https://cdn.hibervr.com/3Dassets/artifacts/Crabbo.ply"},Crab_2:{version:2,listed:!0,name:"Crab",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Crab_dark.jpg",category:"animals",tags:[],props:{material:{vertexColors:!0}},alter:{rotation:{x:0,y:0,z:-.15}},ply:"https://cdn.hibervr.com/3Dassets/artifacts/Crab.ply"},Batwing_2:{version:2,listed:!0,name:"Bat wing",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Batwing_dark.jpg",category:"props",tags:[],props:{material:{id:"Leather_Leather_004",colorStrength:2}},alter:{},ply:"https://cdn.hibervr.com/3Dassets/artifacts/batWing.ply"},Missile_2:{version:2,listed:!0,name:"Missile",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Missile_dark.jpg",category:"props",tags:[],props:{material:{vertexColors:!0}},alter:{scale:1.5,rotation:{x:-1.5707963267948966,y:0,z:3.1415}},ply:"https://cdn.hibervr.com/3Dassets/artifacts/missile.ply"},Trophy_2:{version:2,listed:!0,name:"Trophy",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Trophy_dark.jpg",category:"props",tags:[],props:{material:{vertexColors:!0,colorStrength:.3}},alter:{scale:.7},ply:"https://cdn.hibervr.com/3Dassets/cc0/household/Trophy.ply"},Igloo14_2:{version:2,listed:!0,ribbon:1,name:"Igloo block 2",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Igloo14_2.jpg",category:"props",tags:[],props:{material:{id:"new2_snow_Snow_1024",vertexColors:!1}},alter:{scale:2},ply:"https://cdn.hibervr.com/3Dassets/artifacts/Igloo1_4.ply"},Iglooport_2:{version:2,listed:!0,ribbon:1,name:"Igloo block 1",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Iglooport_2.jpg",category:"props",tags:[],props:{material:{id:"new2_snow_Snow_1024",vertexColors:!1}},alter:{scale:2},ply:"https://cdn.hibervr.com/3Dassets/artifacts/IglooPort.ply"},Candycane_2:{version:2,listed:!0,name:"Candy cane",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Candycane_dark.jpg",category:"food",tags:[],props:{material:{vertexColors:!0}},alter:{},ply:"https://cdn.hibervr.com/3Dassets/artifacts/CandyCane.ply"},Pallmannen3_2:{version:2,listed:!0,name:"pallet",ribbon:1,thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Pallmannen3_2.jpg",category:"props",tags:[],props:{material:{id:"BridgeWood",uvType:0}},alter:{scale:{x:1.33,y:1.33,z:1.225}},obj:"https://cdn.hibervr.com/3Dassets/artifacts/PallMannen3.obj"},Key_2:{version:2,listed:!0,name:"Key",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Key_dark.jpg",category:"props",tags:[],props:{material:{id:"T_steel_01"}},alter:{scale:.8,rotation:{x:0,y:1.5707963267948966,z:-1.5707963267948966}},ply:"https://cdn.hibervr.com/3Dassets/artifacts/Key.ply"},Monkstatue_2:{version:2,listed:!0,name:"Monk statue",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Monkstatue_dark.jpg",category:"props",tags:[],props:{material:{id:"Metal_Metal_grunge_001"}},alter:{scale:1.5},ply:"https://cdn.hibervr.com/3Dassets/artifacts/MonkStatue.ply"},Cateye_2:{version:2,listed:!0,name:"Cat eye",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Cateye_dark.jpg",category:"props",tags:[],props:{material:{vertexColors:!0}},alter:{rotation:{x:3.141592653589793}},ply:"https://cdn.hibervr.com/3Dassets/artifacts/CatEye.ply"},Flower_3:{version:2,listed:!0,name:"Bronze Flower 2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Floweropen_dark.jpg",category:"vegetation",geometryType:"ConcaveGeometry",tags:[],props:{material:{id:"Metal_p_Metal_Bronze_001"}},alter:{scale:1,rotation:{y:1.5705}},ply:"https://cdn.hibervr.com/3Dassets/artifacts/FlowerOpen.ply"},Flower_2:{version:2,listed:!0,name:"Bronze Flower",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Flower_dark.jpg",category:"vegetation",geometryType:"ConcaveGeometry",tags:[],props:{material:{id:"Metal_p_Metal_Bronze_001"}},alter:{scale:1.5},ply:"https://cdn.hibervr.com/3Dassets/artifacts/Flower.ply"},Droppletstone_2:{version:2,listed:!0,name:"Obelisk",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Droppletstone_dark.jpg",category:"rocky",tags:[],props:{material:{id:"Rough_Rough_rock_021"}},alter:{},ply:"https://cdn.hibervr.com/3Dassets/artifacts/DroppletStone.ply"},Boombox_2:{version:2,listed:!1,name:"Boombox",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Boombox_dark.jpg",category:"props",tags:[],props:{material:{vertexColors:!0}},alter:{scale:.8,rotation:{y:3.1415,z:.06}},ply:"https://cdn.hibervr.com/3Dassets/artifacts/BoomBox.ply"},Sword_2:{version:2,listed:!0,name:"Sword",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Sword_dark.jpg",category:"props",tags:[],props:{material:{id:"Metal_Metal_Rusted_006"}},alter:{rotation:{z:3.1415}},ply:"https://cdn.hibervr.com/3Dassets/artifacts/Sword.ply"},Spiraltree4_2:{version:2,listed:!0,name:"Spiral tree",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Spiraltree4_dark.jpg",category:"vegetation",tags:[],props:{material:{id:"pbr_bark1_bark1"}},alter:{scale:2},ply:"https://cdn.hibervr.com/3Dassets/artifacts/SpiralTree4.ply"},Handtree3_2:{version:2,listed:!0,name:"Ghost Tree",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Handtree3_dark.jpg",category:"vegetation",tags:[],props:{material:{id:"pbr_bark1_bark1"}},alter:{scale:2,rotation:{y:1.57}},ply:"https://cdn.hibervr.com/3Dassets/artifacts/HandTree3.ply"},Deadtreenohooks_2:{version:2,listed:!0,name:"Dead tree",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Deadtreenohooks_2.jpg",category:"vegetation",tags:[],props:{material:{id:"pbr_bark1_bark1"}},alter:{scale:2},ply:"https://cdn.hibervr.com/3Dassets/artifacts/DeadTreeNoHooks.ply"},Mountain_2:{version:2,listed:!0,name:"Mountain",ribbon:1,thumbnail:"https://cdn.hibervr.com/thumbs/assets/Mountain_dark.jpg",category:"rocky",tags:[],props:{material:{id:"Rough_Rough_rock_021"}},alter:{scale:3},ply:"https://cdn.hibervr.com/3Dassets/artifacts/Mountain.ply"},Mountain_3:{version:2,listed:!0,ribbon:1,name:"Mountain",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Mountain2_dark.jpg",category:"rocky",tags:[],props:{material:{id:"Rough_Rough_rock_021"}},alter:{scale:3},ply:"https://cdn.hibervr.com/3Dassets/artifacts/Mountain2.ply"},Coralltree_2:{version:2,listed:!0,ribbon:1,name:"Coral tree",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Coralltree_dark.jpg",category:"vegetation",tags:[],props:{material:{id:"pbr_bark1_bark1"}},alter:{scale:2},ply:"https://cdn.hibervr.com/3Dassets/artifacts/Coralltree.ply"},BigMonkey_2:{version:2,listed:!0,name:"Big Monkey",thumbnail:"https://cdn.hibervr.com/thumbs/assets/big_monkey_dark.jpg",category:"animals",tags:["EN","P"],props:{material:{vertexColors:!0}},alter:{scale:2,rotation:{x:4.71238898038469}},ply:"https://cdn.hibervr.com/artifacts/9/7e2d5eeef99612c55be27d9ab75880e3.ply"},EN_P_pug_01:{version:2,listed:!1,name:"Pug",thumbnail:"https://cdn.hibervr.com/thumbs/assets/CH_NPC_pug_puppy_01_dark.jpg",category:"animals",tags:["EN","P"],props:{material:{id:"EN_P_pug_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_pug_01_2.glb"},EN_P_pugCollider_01:{version:2,listed:!1,name:"Pug Collider",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"animals",tags:["EN","P"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_pugCollider_01_2.glb"},EN_P_fireworksTube_01_rainbow:{version:2,listed:!1,name:"01 rainbow",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"basic",tags:["EN","P","fireworksTube"],props:{material:{id:"EN_P_fireworksTube_01_rainbow",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_fireworksTube_01_rainbow.glb"},GPL_explosiveCrate_01:{version:2,listed:!1,name:"ExplosiveCrate 01",thumbnail:"https://cdn.hibervr.com/thumbs/assets/GPL_explosiveCrate_01.jpg",category:"seasonal",tags:["GPL"],props:{material:{id:"GPL_explosiveCrate_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/GPL_explosiveCrate_01.glb"},EN_P_fireworksTube_01:{version:2,listed:!1,name:"FireworksTube 01",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_fireworksTube_01.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_fireworksTube_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_fireworksTube_01.glb"},CH_PL_astronaut_01:{version:2,listed:!1,name:"Astronaut",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_astronaut_01_dark.jpg",category:"props",tags:["CH","PL"],props:{material:{id:"CH_PL_astronaut_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/CH_PL_astronaut_01.glb"},GPL_moonGravityPowerUp_01:{version:2,listed:!1,name:"Moon Gravity Power Up",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"gameplay",tags:["GPL"],props:{material:{id:"GPL_moonGravityPowerUp_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/GPL_moonGravityPowerUp_01.glb"},GPL_weaponSpawner_01_waterDrone:{version:2,listed:!1,name:"01 waterDrone Spawner",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"basic",tags:["GPL","weaponSpawner"],props:{material:{id:"GPL_weaponSpawner_01_waterDrone",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/GPL_weaponSpawner_01_waterDrone.glb"},W_droneWaterGun_04:{version:2,listed:!1,name:"DroneWaterGun 04",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"basic",tags:["W"],props:{material:{id:"W_droneWaterGun_04",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/W_droneWaterGun_04.glb"},EN_P_seagull_01:{version:2,listed:!0,name:"Seagull",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Seagull_Nice_02_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_seagull_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_seagull_01_2.glb"},EN_P_reed_01:{version:2,listed:!0,name:"Reed",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Reed_02_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_reed_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_reed_01.glb"},EN_M_dock_01:{version:2,listed:!0,name:"Bridge with poles",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Bridge_with_poles_02_dark.jpg",category:"seasonal",tags:["EN","M"],props:{material:{id:"EN_M_dock_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_dock_01.glb"},EN_M_dock_02:{version:2,listed:!0,name:"Bridge",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Bridge_02_dark.jpg",category:"seasonal",tags:["EN","M"],props:{material:{id:"EN_M_dock_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_dockPlanks_01.glb"},EN_P_towel_01:{version:2,listed:!0,name:"Towel",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Towel_Random_02_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_towel_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_towel_01.glb"},EN_P_starfish_01:{version:2,listed:!0,name:"Starfish",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Starfish_02_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_starfish_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_starfish_01.glb"},EN_P_seashell_01:{version:2,listed:!0,name:"Seashell",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Seashell_02_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_seashell_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_seashell_01.glb"},EN_P_parasol_01:{version:2,listed:!0,name:"Parasol",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Parasol_02_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_parasol_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_parasol_01.glb"},EN_P_palmTree_02:{version:2,listed:!0,name:"PalmTree v2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Palm_Tree_02_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_palmTree_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_palmTree_02.glb"},EN_P_loungeChair_01:{version:2,listed:!0,name:"Lounge Chair",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Lounge_Chair_02_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_loungeChair_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_loungeChair_01.glb"},EN_P_lilypadLeaf_01:{version:2,listed:!0,name:"Lilypad Leaf",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Lilypad_Leaf_02_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_lilypadLeaf_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_lilypadLeaf_01.glb"},EN_P_lilypadFlower_01:{version:2,listed:!0,name:"Lilypad Flower",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Lilypad_Flower_02_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_lilypadFlower_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_lilypadFlower_01.glb"},EN_P_latte_01:{version:2,listed:!0,name:"Latte",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_latte_02_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_latte_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_latte_01.glb"},EN_P_inflatableMattress_01:{version:2,listed:!0,name:"Inflatable Mattress",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Inflatable_Mattress_02_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_inflatableMattress_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_inflatableMattress_01.glb"},EN_P_fruitBowl_01:{version:2,listed:!0,name:"Fruit Bowl",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Fruit_Bowl_02_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_fruitBowl_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_fruitBowl_01.glb"},EN_P_cocktail_01:{version:2,listed:!0,name:"Cocktail",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Cocktail_02_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_cocktail_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_cocktail_01.glb"},EN_P_beachBall_01:{version:2,listed:!0,name:"Beach Ball",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Beach_Ball_02_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_beachBall_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_beachBall_01.glb"},EN_P_BBQ_01:{version:2,listed:!1,name:"BBQ Grill",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_BBQ_Grill_01_dark.jpg",category:"seasonal",tags:["EN","P"],props:{material:{id:"EN_P_BBQ_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_BBQ_01.glb"},EN_P_pennant_01:{version:2,listed:!0,name:"Pennant",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Pennant_01_dark.jpg",category:"seasonal",tags:["EN","P"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_flag_01.glb"},EN_M_sandcastleWallTurn_01:{version:2,listed:!0,name:"Sandcastle Wall Turn",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Sandcastle_Wall_Turn_01_dark.jpg",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sandcastleWallTurn_01_3.glb"},EN_M_sandcastleWallStraight_01:{version:2,listed:!0,name:"Sandcastle Wall Straight",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Sandcastle_Wall_01_dark.jpg",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sandcastleWallStraight_01.glb"},EN_M_sandcastleTowerTop_02:{version:2,listed:!0,name:"Sandcastle Tower Top",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Sandcastle_Tower_01_dark.jpg",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sandcastleTowerTop_02.glb"},EN_M_sandcastleTowerTop_01:{version:2,listed:!0,name:"Sandcastle TowerTop 1",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Sandcastle_Battlement_01_dark.jpg",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sandcastleTowerTop_01.glb"},EN_M_sandcastleTowerStairCollider_01:{version:2,listed:!1,name:"Sandcastle Tower Stair Collider",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sandcastleTowerStairCollider_01.glb"},EN_M_sandcastleTowerStair_01:{version:2,listed:!1,name:"Sandcastle Tower Stair",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sandcastleTowerStair_01.glb"},EN_M_sandcastleTowerMiddle_01:{version:2,listed:!1,name:"Sandcastle Tower Middle",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Sandcastle_Tower_Middle_01_dark.jpg",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sandcastleTowerMiddle_01.glb"},EN_M_sandcastleTowerBase_01:{version:2,listed:!1,name:"Sandcastle Tower Base",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Sandcastle_Tower_Base_01_dark.jpg",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sandcastleTowerBase_01.glb"},EN_M_sandcastleGate_01:{version:2,listed:!0,name:"Sandcastle Gate",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Sandcastle_Gate_01_dark.jpg",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sandcastleGate_01.glb"},EN_M_roundedWedge_01:{version:2,listed:!0,name:"Rounded Wedge",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Rounded_Wedge_01_dark.jpg",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_roundedWedge_01.glb"},EN_M_RoundedStairTurn_01:{version:2,listed:!1,name:"Rounded Stair Turn",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_RoundedStairTurn_01.glb"},EN_M_RoundedStair_01:{version:2,listed:!1,name:"Rounded Stair",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_RoundedStair_01.glb"},EN_M_roundedHalfArch_01:{version:2,listed:!0,name:"Rounded Half Arch",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Rounded_Half_Arch_01_dark.jpg",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_roundedHalfArch_01.glb"},EN_M_roundedFloor_01:{version:2,listed:!0,name:"Rounded Floor",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Rounded_Floor_01_dark.jpg",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_roundedFloor_01.glb"},EN_M_roundedCylinder_01:{version:2,listed:!0,name:"Rounded Cylinder",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Rounded_Cylinder_01_dark.jpg",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_roundedCylinder_01.glb"},EN_M_roundedCube_01:{version:2,listed:!0,name:"Rounded Block",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_Rounded_Cube_01_dark.jpg",category:"seasonal",tags:["EN","M"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_roundedCube_01.glb"},EN_M_houseDoorFrame_01_blue:{version:2,listed:!1,name:"House door frame blue",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"interior",tags:["EN","M","houseDoorFrame"],props:{material:{id:"EN_M_houseDoorFrame_01_blue",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_houseDoorFrame_01_blue.glb"},EN_M_houseWall_01_blue:{version:2,listed:!0,name:"House wall blue",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_wallBW_01_dark.jpg",category:"interiour",tags:["EN","M","houseWall"],props:{material:{id:"EN_M_houseWall_01_blue",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_houseWall_01_blue.glb"},EN_M_houseWindow_01_blue:{version:2,listed:!0,name:"House window blue",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_wallBWWindow_01_dark.jpg",category:"interiour",tags:["EN","M","houseWindow"],props:{material:{id:"EN_M_houseWindow_01_blue",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_houseWindow_01_blue.glb"},EN_M_door_01:{version:2,listed:!0,name:"Just the door",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_wallYWDoor_01_dark.jpg",category:"interiour",tags:["EN","M"],props:{material:{id:"EN_M_door_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_door_01.glb"},EN_M_houseDoorFrame_01_yellow:{version:2,listed:!1,name:"House Door Frame yellow",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"interiour",tags:["EN","M","houseDoorFrame"],props:{material:{id:"EN_M_houseDoorFrame_01_yellow",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_houseDoorFrame_01_yellow.glb"},EN_M_houseWindow_01_yellow:{version:2,listed:!0,name:"house window yellow",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_wallYWWind_01_dark.jpg",category:"interiour",tags:["EN","M","houseWindow"],props:{material:{id:"EN_M_houseWindow_01_yellow",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_houseWindow_01_yellow.glb"},EN_M_houseWall_01_yellow:{version:2,listed:!0,name:"housewall yellow",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_wallYW_01_dark.jpg",category:"interiour",tags:["EN","M","houseWall"],props:{material:{id:"EN_M_houseWall_01_yellow",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_houseWall_01_yellow.glb"},EN_P_plate_01:{version:2,listed:!0,name:"Plate",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_plate_01_dark.jpg",category:"interiour",tags:["EN","P"],props:{material:{id:"EN_P_plate_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_plate_01.glb"},EN_P_ceilingLamp_01:{version:2,listed:!1,name:"CeilingLamp",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"interiour",tags:["EN","P"],props:{material:{id:"EN_P_ceilingLamp_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_ceilingLamp_01.glb"},EN_P_table_01:{version:2,listed:!0,name:"Table",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_table_01_dark.jpg",category:"interiour",tags:["EN","P"],props:{material:{id:"EN_P_table_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_table_01.glb"},EN_P_pottedPlant_01:{version:2,listed:!0,name:"Potted Plant",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_potted_plant_01_dark.jpg",category:"interiour",tags:["EN","P"],props:{material:{id:"EN_P_pottedPlant_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_pottedPlant_01.glb"},EN_P_couch_01:{version:2,listed:!0,name:"Couch",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_couch_01_dark.jpg",category:"interiour",tags:["EN","P"],props:{material:{id:"EN_P_couch_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_couch_01.glb"},EN_P_floorLamp_01:{version:2,listed:!0,name:"Floor Lamp",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_floor_lamp_01_dark.jpg",category:"interiour",tags:["EN","P"],props:{material:{id:"EN_P_floorLamp_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_floorLamp_01.glb"},EN_P_chair_01:{version:2,listed:!0,name:"Chair",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_chair_01_dark.jpg",category:"interiour",tags:["EN","P"],props:{material:{id:"EN_P_chair_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_chair_01.glb"},EN_P_bed_01:{version:2,listed:!0,name:"Bed",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_bed_01_dark.jpg",category:"interiour",tags:["EN","P"],props:{material:{id:"EN_P_bed_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_bed_01.glb"},EN_M_sciFiStair_01:{version:2,listed:!0,name:"Stair",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_sciFiStair_01.jpg",category:"SciFi",tags:["EN","M"],props:{material:{id:"EN_M_sciFiStair_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiStair_01.glb"},EN_M_sciFiFence_01:{version:2,listed:!0,name:"SciFiFence",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_sciFiFence_01.jpg",category:"SciFi",tags:["EN","M"],props:{material:{id:"EN_M_sciFiFence_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiFence_01.glb"},spawnPoint_02:{version:2,listed:!1,name:"SpawnPoint II",thumbnail:"https://cdn.hibervr.com/thumbs/assets/GPL_spawn_point_01_dark.jpg",category:"gameplay",tags:["GPL"],props:{},gltf:"https://cdn.hibervr.com/3Dassets/artifacts/GPL_spawnPoint_02.glb"},EN_M_bunkerCornerNew_02:{version:2,listed:!1,name:"Bunker Corner 3x3",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_bunker_02_dark.jpg",category:"SciFi",tags:["EN","M"],props:{material:{id:"EN_M_bunkerNew_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_bunkerCornerNew_02.glb"},EN_M_bunkerNew_02:{version:2,listed:!1,name:"Bunker Wall 1x1",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_bunker_02_dark.jpg",category:"SciFi",tags:["EN","M"],props:{material:{id:"EN_M_bunkerNew_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_bunkerNew_02.glb"},EN_M_prefab_sciFi_battlementInnerCornerNew_01:{version:2,listed:!0,name:"Battlement corner",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_battlement_corner_inner_01_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_battlementInnerCorner_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_battlementInnerCornerNew_01.glb"},EN_M_prefab_sciFi_doorNew_01:{version:2,listed:!0,name:"Wall w Door 1x2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_SciFi_door_1x2.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_door_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_doorNew_01_5.glb"},EN_M_prefab_sciFi_floorSmall_01:{version:2,listed:!0,name:"Floor 3x3",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_SciFi_Floor_1x1_2.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_middle_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_floorSmall_01.glb"},EN_M_prefab_sciFiWindow_01_2:{version:2,listed:!0,name:"Window 1x2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_SciFi_window_1x2.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_side_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFiWindow_01_2.glb"},EN_M_prefab_sciFiWall_02_2:{version:2,listed:!0,name:"Wall II 1x2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_SciFi_wall_02_1x2.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_side_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFiWall_02_2.glb"},EN_M_prefab_sciFiWall_01_2:{version:2,listed:!0,name:"Wall 1x2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_SciFi_wall_01_1x2.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_side_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFiWall_01_2.glb"},EN_M_prefab_sciFi_floor_01_2:{version:2,listed:!0,name:"Floor 3x3",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_SciFi_Floor_3x3_2.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_middle_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_floor_01_3.glb"},EN_M_prefab_sciFi_battlementOuterCornerNew_01_2:{version:2,listed:!0,name:"Battlement corner",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_battlement_corner_outer_01_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_battlementOuterCorner_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_battlementOuterCornerNew_01_2.glb"},EN_M_prefab_sciFi_battlementNew_03:{version:2,listed:!0,name:"Battlement Wall",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_battlement_wall_01_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_battlement_03",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_battlementNew_03_3.glb"},EN_M_bunker_wall_02:{version:2,listed:!1,name:"Bunker wall",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_bunker_01_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_bunker_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_bunker_wall_02.glb"},EN_M_bunker_corner_02:{version:2,listed:!1,name:"Bunker corner",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_bunker_02_dark.jpg",category:"SciFi",tags:["EN","P"],props:{material:{id:"EN_M_bunker_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_bunker_corner_02.glb"},EN_P_stayHome_02:{version:2,listed:!0,name:"StayHome 2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_stayHome_02_dark.jpg",category:"props",tags:["EN","P"],props:{material:{id:"EN_P_stayHome_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_stayHome_02.glb"},EN_P_stayHome_01:{version:2,listed:!0,name:"StayHome",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_stayHome_01_dark.jpg",category:"props",tags:["EN","P"],props:{material:{id:"EN_P_stayHome_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_stayHome_01.glb"},1586263143575:{version:2,listed:!0,name:"Easter Bunny",thumbnail:"https://cdn.hibervr.com/thumbs/assets/CH_NPC_easter_bunny_01_dark.jpg",category:"animals",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_P_easterBunny_01.ply",tags:["EN","M","Easter","animal"],props:{material:{material:"vertexColor"}}},1586251316315:{version:2,listed:!0,name:"Chicken",thumbnail:"https://cdn.hibervr.com/thumbs/assets/CH_NPC_chicken_01_dark.jpg",category:"animals",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_P_chicken_01_2.ply",tags:["EN","M","Easter","animal"],props:{material:{material:"vertexColor"}}},1586251316310:{version:2,listed:!1,name:"Easter Egg 1",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_easterEgg_01_dark_selected.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_P_easterEgg_01.ply",tags:["EN","M","Easter"],props:{material:{material:"vertexColor"}}},1586251316311:{version:2,listed:!1,name:"Easter Egg 2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_easterEgg_02_dark_selected.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_P_easterEgg_02.ply",tags:["EN","M","Easter"],props:{material:{material:"vertexColor"}}},1586251316312:{version:2,listed:!1,name:"Easter Egg 3",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_easterEgg_03_dark_selected.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_P_easterEgg_03.ply",tags:["EN","M","Easter"],props:{material:{material:"vertexColor"}}},1586247547451:{version:2,listed:!1,name:"Broken Egg Top",thumbnail:"",category:"seasonal",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_P_brokenEggTop_01.ply",tags:["EN","M","Easter"],props:{material:{id:"new2_snow_Snow_1024",vertexColors:!1}}},1586247547450:{version:2,listed:!1,name:"Broken Egg Bottom",thumbnail:"",category:"seasonal",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EN_P_brokenEggBottom_01.ply",tags:["EN","M","Easter"],props:{material:{id:"new2_snow_Snow_1024",vertexColors:!1}}},EN_M_sciFi_floor_01:{version:2,listed:!0,name:"Roof",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_sciFi_floor_01_dark.jpg",category:"SciFi",tags:["EN","M","sciFi"],props:{material:{id:"EN_M_prefab_sciFi_middle_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFi_floor_01.glb"},EN_M_sciFi_roof_01:{version:2,listed:!0,name:"Floor",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_sciFi_floor_01_dark.jpg",category:"SciFi",tags:["EN","M","sciFi"],props:{material:{id:"EN_M_prefab_sciFi_middle_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFi_roof_01.glb"},EN_P_sciFiBox_02:{version:2,listed:!0,name:"SciFi Block Blue",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_sciFiBox_02_dark.jpg",category:"SciFi",tags:["EN","P"],props:{material:{id:"EN_P_sciFiBox_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_sciFiBox_02.glb"},EN_P_sciFiBarrel_01_yellow:{version:2,listed:!0,name:"SciFi Barrel Yellow",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_sciFiBarrel_01_yellow_dark.jpg",category:"SciFi",tags:["EN","P"],props:{material:{id:"EN_P_sciFIBarrel_01_yellow",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_sciFiBarrel_01.glb"},EN_P_sciFiBarrel_01_red:{version:2,listed:!0,name:"SciFi Barrel Red",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_sciFiBarrel_01_red_dark.jpg",category:"SciFi",tags:["EN","P"],props:{material:{id:"EN_P_sciFIBarrel_01_red",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_sciFiBarrel_01.glb"},EN_P_sciFiBarrel_01_blue:{version:2,listed:!1,name:"SciFi Barrel Blue",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_sciFiBarrel_01_blue_dark.jpg",category:"SciFi",tags:["EN","P"],props:{material:{id:"EN_P_sciFIBarrel_01_blue",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_sciFiBarrel_01.glb"},GPL_weaponSpawner_01:{version:2,listed:!1,name:"Red Drone Stand",thumbnail:"https://cdn.hibervr.com/thumbs/assets/W_upgrade_01_dark.jpg",category:"SciFi",tags:["GPL","weaponSpawner"],props:{material:{id:"GPL_weaponSpawner_01_red",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/GPL_weaponSpawner_01_red.glb"},GPL_weaponSpawner_01_blue:{version:2,listed:!1,name:"Blue Drone Stand",thumbnail:"https://cdn.hibervr.com/thumbs/assets/W_pepprer_01_dark.jpg",category:"SciFi",tags:["GPL","weaponSpawner"],props:{material:{id:"GPL_weaponSpawner_01_blue",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/GPL_weaponSpawner_01_blue.glb"},EN_M_sciFiWalk_01_turn:{version:2,listed:!0,name:"SciFi Walkway 1 Turn",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_sciFiWalk_01_turn_dark.jpg",category:"SciFi",tags:["EN","M","sciFiWalk"],props:{material:{id:"EN_M_sciFiWalk_01_turn",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiWalk_01_turn.glb"},EN_M_sciFiWalk_01_straight:{version:2,listed:!0,name:"SciFi Walkway 1 straight",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_sciFiWalk_01_straight_dark.jpg",category:"SciFi",tags:["EN","M","sciFiWalk"],props:{material:{id:"EN_M_sciFiWalk_01_straight",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiWalk_01_straight.glb"},EN_M_sciFiWalk_01_middle:{version:2,listed:!0,name:"SciFi Walkway 1 middle",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_sciFiWalk_01_middle_dark.jpg",category:"SciFi",tags:["EN","M","sciFiWalk"],props:{material:{id:"EN_M_sciFiWalk_01_middle",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiWalk_01_middle.glb"},EN_M_sciFiWalk_01:{version:2,listed:!1,name:"SciFi Walkway 1 Half",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_sciFiWalk_01_dark.jpg",category:"SciFi",tags:["EN","M"],props:{material:{id:"EN_M_sciFiWalk_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiWalk_01.glb"},EN_M_sciFiPlatformSupport_02:{version:2,listed:!1,name:"SciFi Platform Support 2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_sciFiPlatformSupport_02_dark.jpg",category:"SciFi",tags:["EN","M"],props:{material:{id:"EN_M_sciFiPlatformSupport_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiPlatformSupport_02.glb"},EN_M_sciFiPlatformRamp_02:{version:2,listed:!1,name:"SciFi Platform Ramp 2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_sciFiPlatformRamp_02_dark.jpg",category:"SciFi",tags:["EN","M"],props:{material:{id:"EN_M_sciFiPlatformRamp_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiPlatformRamp_02_2.glb"},EN_M_sciFiPlatform_02:{version:2,listed:!0,name:"SciFi Platform 2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_sciHatchway_01_dark.jpg",category:"SciFi",tags:["EN","M"],props:{material:{id:"EN_M_sciFiPlatform_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiPlatform_02.glb"},GPL_launchpad_01:{version:2,listed:!0,name:"Launch pad",thumbnail:"https://cdn.hibervr.com/thumbs/assets/GPL_launchPad_01_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"GPL_launchpad_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/GPL_launchpad_01.glb"},EN_P_crystal_03:{version:2,listed:!0,name:"Crystal 3",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_crystal_03_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_P_crystal_03",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_crystal_01.glb"},EN_P_crystal_02:{version:2,listed:!0,name:"Crystal 2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_crystal_02_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_P_crystal_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_crystal_01.glb"},EN_P_crystal_01:{version:2,listed:!0,name:"Crystal 1",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_crystal_01_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_P_crystal_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_crystal_01.glb"},EN_P_largeRock_01:{version:2,listed:!0,name:"Large Rock 1",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_largeRock_01_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_P_largeRock_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_largeRock_01_2.glb"},EN_P_largeRock_02:{version:2,listed:!0,name:"Large Rock 2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_largeRock_02_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_P_largeRock_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_largeRock_02_2.glb"},EN_P_crystalCluster_01:{version:2,listed:!0,name:"Crystal Cluster 1",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_crystalCluster_01_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_P_crystalCluster_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_crystalCluster_01.glb"},EN_P_crystalCluster_02:{version:2,listed:!0,name:"Crystal Cluster 2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_crystalCluster_02_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_P_crystalCluster_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_crystalCluster_02_2.glb"},EN_P_crystalCluster_03:{version:2,listed:!0,name:"Crystal Cluster 3",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_crystalCluster_03_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_P_crystalCluster_03",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_crystalCluster_03_2.glb"},EN_P_largeRock_03:{version:2,listed:!0,name:"Large Rock 3",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_largeRock_03_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_P_largeRock_03",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_largeRock_03_2.glb"},EN_P_sciFiBox_01:{version:2,listed:!0,name:"SciFi Block",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_sciFiBox_01_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_P_sciFiBox_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_P_sciFiBox_01_2.glb"},EN_M_sciFiPlatformSupport_01:{version:2,listed:!1,name:"Platform Support",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_sciFiPlatformSupport_01_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_sciFiPlatformSupport_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiPlatformSupport_01_2.glb"},EN_M_sciFiPlatformRamp_01:{version:2,listed:!1,name:"Ramp",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_sciFiPlatformRamp_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiPlatformRamp_01_2.glb"},EN_M_sciFiPlatform_01:{version:2,listed:!0,name:"Plattform",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_sciFiPlatform_01_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_sciFiPlatform_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiPlatform_01_2.glb"},EN_M_sciFiLargeWall_03:{version:2,listed:!1,name:"Large Wall 3",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_sciFiLargeWall_03",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiLargeWall_03_2.glb"},EN_M_sciFiLargeWall_02:{version:2,listed:!1,name:"Large Wall 2",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_sciFiLargeWall_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiLargeWall_02_2.glb"},EN_M_sciFiLargeWall_01:{version:2,listed:!1,name:"Large Wall",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_sciFiLargeWall_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiLargeWall_01_2.glb"},EN_M_sciFiLargeFloor_01:{version:2,listed:!1,name:"Large Floor",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_sciFiLargeFloor_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiLargeFloor_01_2.glb"},EN_M_sciFiLargeCeiling_01:{version:2,listed:!1,name:"Large Ceiling",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_sciFiLargeCeiling_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_sciFiLargeCeiling_01_2.glb"},EN_M_prefab_sciFi_stairs_01:{version:2,listed:!1,name:"stairs",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_stairs_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_stairs_01_2.glb"},EN_M_prefab_sciFi_side_01:{version:2,listed:!1,name:"side",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_side_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_side_01.glb"},EN_M_prefab_sciFi_side_02:{version:2,listed:!1,name:"side 2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_SciFi_window_1x2.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_side_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_side_02.glb"},EN_M_prefab_sciFi_pillar_02:{version:2,listed:!0,name:"Pillar",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_prefab_sciFi_pillar_02_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_pillar_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_pillar_02.glb"},EN_M_prefab_sciFi_middle_01:{version:2,listed:!1,name:"Middle",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_middle_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_middle_01.glb"},EN_M_prefab_sciFi_door_01:{version:2,listed:!1,name:"Door",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_door_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_door_01.glb"},EN_M_prefab_sciFi_corner_01:{version:2,listed:!1,name:"Corner",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_corner_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_corner_01.glb"},EN_M_prefab_sciFi_battlementTower_02:{version:2,listed:!1,name:"Battlement Tower 2",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_battlementTower_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_battlementTower_02.glb"},EN_M_prefab_sciFi_battlementStair_03:{version:2,listed:!1,name:"Battlement Stair 3",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_battlementStair_03",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_battlementStair_03_2.glb"},EN_M_prefab_sciFi_battlementOuterCorner_01:{version:2,listed:!1,name:"Battlement Outer Corner 1",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_battlementOuterCorner_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_battlementOuterCorner_01.glb"},EN_M_prefab_sciFi_battlementInnerCorner_01:{version:2,listed:!1,name:"Battlement Inner Corner 1",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_battlementInnerCorner_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_battlementInnerCorner_01.glb"},EN_M_prefab_sciFi_battlement_03:{version:2,listed:!1,name:"Battlement 3",thumbnail:"https://cdn.hibervr.com/thumbs/artifact_thumb.png",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_prefab_sciFi_battlement_03",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_prefab_sciFi_battlement_03.glb"},EN_M_bunker_02:{version:2,listed:!1,name:"Bunker Corner",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_bunker_02_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_bunker_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_bunker_02.glb"},EN_M_bunker_01:{version:2,listed:!1,name:"Bunker 1",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_bunker_01_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_bunker_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_bunker_01.glb"},EN_M_battleWall_02:{version:2,listed:!1,name:"BattleWall 2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_battleWall_02_movable_dark.jpg",category:"SciFi",tags:["EN, M"],props:{material:{id:"EN_M_battleWall_02",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},gltf:"https://cdn.hibervr.com/3Dassets/baked/EN_M_battleWall_02.glb"},1579251813475:{version:2,listed:!0,name:"Plane incline",thumbnail:"https://cdn.hibervr.com/thumbs/assets/en_m_platformincline_01_dark_480.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/77183f1063f39e14ad7d016d92a908d1.ply",tags:["EN, M"],props:{material:{id:"Stone_Stone_Wall_002",uvScale:1}}},1579251813464:{version:2,listed:!0,name:"Tower top 2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_towerTop_02_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/4b47b81b234639bac736f0afa2b85b4d.ply",tags:["EN, M"],props:{material:{id:"Stone_Stone_Wall_002",uvScale:1}}},1579251813463:{version:2,listed:!0,name:"Waist tower room",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_towerMiddle_03_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/f411e0f8fe9f5053373d973aaf6903da.ply",tags:["EN, M"],props:{material:{id:"Stone_Stone_Wall_002",uvScale:1}}},1579251813462:{version:2,listed:!0,name:"Winding tower",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_towerTop_04_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/b358e3174bfba6c121b0c53d32370253.ply",tags:["EN, M"],props:{material:{id:"Stone_Stone_Wall_002",uvScale:1}}},1579251813461:{version:2,listed:!0,name:"Winding tower room",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_towerMiddle_02_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/0eb049d4830aa6ff00af308c6f1134aa.ply",tags:["EN, M"],props:{material:{id:"Stone_Stone_Wall_002",uvScale:1}}},1579251813460:{version:2,listed:!0,name:"Winding tower columns",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_towerBottom_02_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/bc2f759c8fa678cf03ab5a6262fef53a.ply",tags:["EN, M"],props:{material:{id:"Stone_Stone_Wall_002",uvScale:1}}},1579251812466:{version:2,listed:!0,name:"Columns",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_towerColumns_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/3831a6e733fdeaad7d33cd54451fc0d4.ply",tags:["EN, M"],props:{material:{id:"Stone_Stone_Wall_002",uvScale:1}}},1579251812465:{version:2,listed:!1,name:"Battlement rows",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Cameleon_EN_M_battlementRows_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/65d4577b5bf6f68c4269855387bcaade.ply",tags:["EN, M"],props:{material:{id:"Stone_Stone_Wall_002",uvScale:1}}},1579251812464:{version:2,listed:!0,name:"Tower top",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_towerTop_01.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/fc4506bcb1556e60490d6acb8aa6f262.ply",tags:["EN, M"],props:{material:{id:"Stone_Stone_Wall_002",uvScale:1}}},1579251812463:{version:2,listed:!0,name:"Columns with vaults",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Cameleon_EN_M_columnsWithVaults_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/d6b2752c70e6ed926bac64df20f6acc1.ply",tags:["EN, M"],props:{material:{id:"Stone_Stone_Wall_002",uvScale:1}}},1579251812462:{version:2,listed:!0,name:"Windowed tower room",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_towerMiddle_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/1260149b30162646b6c4f09d551fe2bf.ply",tags:["EN, M"],props:{material:{id:"Stone_Stone_Wall_002",uvScale:1}}},1579251811462:{version:2,listed:!0,name:"Battlement",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Cameleon_battlement_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/db77b51f93b51393783d7e1681967284.ply",tags:["EN, M"],props:{material:{id:"Stone_Stone_Wall_002",uvScale:1}}},1579251811461:{version:2,listed:!0,name:"Block Corner",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_boxCorner_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/889b22bf789916d59bb65661a730ecd3.ply",tags:["EN, M"],props:{material:{material:"vertexColor"}}},1579265956264:{version:2,listed:!0,name:"Block Corner Out",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_boxCornerOut_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/1a2f2c03a254fc0d8889c079c5089136.ply",tags:["EN, M"],props:{material:{material:"vertexColor"}}},1579267348515:{version:2,listed:!0,name:"Cylinder Half",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_halfCylinder_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/0faf4603421c4aaba2ca13016994db0e.ply",tags:["EN, M"],props:{material:{material:"vertexColor"}}},1579267868843:{version:2,listed:!0,name:"Half Arch",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_halfArch_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/5fcdea76fd769d618ee9852e840a8d53.ply",tags:["EN, M"],props:{material:{material:"vertexColor"}}},1579268098592:{version:2,listed:!0,name:"Triangle",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_triangle_01.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/1e098dea34d64288c3c2d1cedecafac4.ply",tags:["EN, M"],props:{material:{material:"vertexColor"}}},1579268202133:{version:2,listed:!0,name:"Vault Corner",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_vaultCorner_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/903bb0b0887edf3ccb132cd4c58f3bda.ply",tags:["EN, M"],props:{material:{material:"vertexColor"}}},1579268327015:{version:2,listed:!0,name:"Vault Corner Out",thumbnail:"https://cdn.hibervr.com/thumbs/assets/Cameleon_EN_M_vaultCornerOut_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/892ae6cca49dd142bc151760e6d67b91.ply",tags:["EN, M"],props:{material:{material:"vertexColor"}}},1579269299417:{version:2,listed:!0,name:"Vault Half Out",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_vaultOut_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/2dff8ac4acf2fb659ac0d601bee3d5fe.ply",tags:["EN, M"],props:{material:{material:"vertexColor"}}},1579269405302:{version:2,listed:!0,name:"Vault Side",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_vaultSide_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/dd14eb5a9776eca82910661f3b3486b4.ply",tags:["EN, M"],props:{material:{material:"vertexColor"}}},1579269539232:{version:2,listed:!0,name:"Vault Side Out",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_vaultSide_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/78a7a3dbfd081ddf469220aadad3fae7.ply",tags:["EN, M"],props:{material:{material:"vertexColor"}}},1579269658169:{version:2,listed:!0,name:"Vault Side Out Thin",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_vaultSideOut_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/6757d4ea3b42bd38c8b88ac46e33f88b.ply",tags:["EN, M"],props:{material:{material:"vertexColor"}}},1576224373542:{version:2,listed:!0,name:"Json Ball",thumbnail:"https://cdn.hibervr.com/thumbs/assets/CH_NPC_json_ball_01_dark.jpg",category:"hazard",ply:"https://cdn.hibervr.com/artifacts/9/e395d0f12d33daaf07b609f9401e0d3f.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1.3,opacity:1,blending:i.BlendingMode.NoBlending,id:"Rough_Rough_Marble_001"}}},471298976080016:{name:"Pointy Rock Formation 4",version:2,listed:!1,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbnails/9/e3767b064161b9c4d72dc02525a81223.512.jpg",ply:"https://cdn.hibervr.com/artifacts/9/35e5c42ecdaa62a690ef1c1b8929c0b8.ply",props:{material:{id:"Rough_Rough_rock_021",vertexColors:!1},material_scale:3}},471298493841546:{name:"Pointy Rock Formation 3",version:2,listed:!1,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbnails/9/7d1fac52204629396a035d1c9d2b4122.512.jpg",ply:"https://cdn.hibervr.com/artifacts/9/cc521d4bcaae02c6737c40d7195d4ad4.ply",props:{material:{id:"Rough_Rough_rock_021",vertexColors:!1},material_scale:3}},471297891958917:{name:"Pointy Rock Formation 2",version:2,listed:!1,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbnails/9/960473c651d6fafb8a651bd912a0248b.512.jpg",ply:"https://cdn.hibervr.com/artifacts/9/4cd7df1af33994059be9c6a4030913f0.ply",props:{material:{id:"Rough_Rough_rock_021",vertexColors:!1},material_scale:3}},471297335427253:{name:"Pointy Rock Formation 1",version:2,listed:!1,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbnails/9/5c893114b3856796c62c95fa80b58d0d.512.jpg",ply:"https://cdn.hibervr.com/artifacts/9/7d895ab4b98e1fd210a84f1fdce75b87.ply",props:{material:{id:"Rough_Rough_rock_021",vertexColors:!1},material_scale:3}},466332487008421:{name:"Rock Arch",version:2,listed:!1,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbnails/9/735c0e344243acbca275822596b7872f.512.jpg",ply:"https://cdn.hibervr.com/artifacts/9/112d48589e3504d6f4ed6c3f5d15956d.ply",props:{material:{id:"Rough_Rough_rock_021",vertexColors:!1},material_scale:3}},471293133545629:{name:"Hill Formation 4",version:2,listed:!1,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbnails/9/0d70099a30a22bedcf20a39bb9c35742.512.jpg",ply:"https://cdn.hibervr.com/artifacts/9/162cc69f3d71511532dcc069428266c2.ply",props:{material:{id:"Stone_Stone_Floor_003",vertexColors:!1},material_scale:3}},471292643475595:{name:"Hill Formation 3",version:2,listed:!1,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbnails/9/3ad765711f5e0ecdcbe33ef070232fb1.512.jpg",ply:"https://cdn.hibervr.com/artifacts/9/eff292a4f91ad1d512c7aaf2b75584ec.ply",props:{material:{id:"Stone_Stone_Floor_003",vertexColors:!1},material_scale:3}},471292132212896:{name:"Hill Formation 2",version:2,listed:!1,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbnails/9/b18407db811a9656329bc92acf7c613e.512.jpg",ply:"https://cdn.hibervr.com/artifacts/9/164b58306bc717c942b5af22d590d98e.ply",props:{material:{id:"Stone_Stone_Floor_003",vertexColors:!1},material_scale:3}},471291138646167:{name:"Hill Formation 1",version:2,listed:!1,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbnails/9/246c90bd972c4935a11efb947c7ca8d4.512.jpg",ply:"https://cdn.hibervr.com/artifacts/9/9b3d7f576694f5c411194473a4ac0b74.ply",props:{material:{id:"Stone_Stone_Floor_003",vertexColors:!1},material_scale:3}},466999623622788:{name:"High boulder",version:2,listed:!1,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbnails/9/c28fd946720187fad953216c517c2017.512.jpg",ply:"https://cdn.hibervr.com/artifacts/9/ccddc3846b3ae815e535d85824605df0.ply",props:{material:{id:"Rough_Rough_rock_021"},material_scale:2}},466985245524116:{name:"Boulder 1",version:2,listed:!1,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbnails/9/a6d17e52228925a9c02512deb6d808b6.512.jpg",ply:"https://cdn.hibervr.com/artifacts/9/40067c47ca059ff9e5478decc7aa7e77.ply",props:{material:{id:"Rough_Rough_rock_021"},material_scale:2}},466985245524115:{name:"Boulder 4",version:2,listed:!1,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbnails/9/a6d17e52228925a9c02512deb6d808b6.512.jpg",ply:"https://cdn.hibervr.com/artifacts/9/56bc9ec013dd450294dc2882847cc4bf.ply",props:{material:{id:"Rough_Rough_rock_021"},material_scale:2}},1575559214245:{version:2,listed:!1,name:"Merry Xmas Text",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_merryXmas_01_dark.jpg",category:"basic",ply:"https://cdn.hibervr.com/artifacts/9/99add725058fef2a767b66a411404db0.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1,opacity:1,blending:i.BlendingMode.NoBlending,id:"Fabric_p_Fabric_001"}}},480408866988169:{name:"TV",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_tv_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/ec1dcc5ee6f01178c314099dc81811e0.ply",props:{material:{id:"plastic"}}},480407618199684:{name:"SmartPhone",version:2,listed:!1,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_smartPhone_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/eb51112dbc8407d4efffa15a61743499.ply",props:{material:{id:"plastic"}}},480406069788804:{name:"Laptop",version:2,listed:!1,category:"interiour",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_laptop_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/47d20f279f6af87bde9d68d9f848e6bd.ply",props:{material:{id:"plastic"}}},480383073443972:{name:"Head phones",version:2,listed:!1,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_headphones_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/43a2c99e8919049b71158f55da4a45a5.ply",props:{material:{id:"plastic"}}},480389481889929:{name:"Shopping Cart",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_shoppingcart_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/db8757247964749abc6cafd6695c1e20.ply",props:{material:{id:"plastic"}}},480390488932484:{name:"Soda Bottle",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_sodaBottle_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/2ddeacf68b45fa49a3ca1fe129bbb1ae.ply",props:{material:{id:"plastic"}}},1575531216214:{version:2,listed:!1,name:"Toy Pony",thumbnail:"https://cdn.hibervr.com/thumbs/assets/CH_NPC_toyPony_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/651f9732886e78fdc38904e1c1edb23e.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1,opacity:1,blending:i.BlendingMode.NoBlending,id:"Wood_Wood_White_Cedar_001"}}},1575475714109:{version:2,listed:!1,name:"Christmas Sock",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_christmasSock_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/4d0c134d32f5025a86cd7322825f6d6e.ply",geometryType:"ConcaveGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:2.5,opacity:1,blending:i.BlendingMode.NoBlending,id:"Wood_Wooden_weave_001"}}},1575474688930:{version:2,listed:!1,name:"Wax Stamp",thumbnail:"https://cdn.hibervr.com/thumbnails/9/9e6ff00df234aa23512e5f31d09714a1.512.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/3edd7bc034ac495b98e072534feef82c.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1,opacity:1,blending:i.BlendingMode.NoBlending,id:"T_steel_01"}}},1575474554224:{version:2,listed:!1,name:"Wax Stamp Base",thumbnail:"https://cdn.hibervr.com/thumbnails/9/3f7e545446d243b8e878ae19c7390f38.512.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/f02b3fa5a200d01a838ca97af602b39f.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1,opacity:1,blending:i.BlendingMode.NoBlending,id:""}}},1575473837115:{version:2,listed:!1,name:"Snowy Pinetree",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_snowyPinetree_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/6fb88306517803e5ff8956522986bf6a.ply",geometryType:"ConvexGeometry",props:{material:{}}},1575473556555:{version:2,listed:!0,name:"Numbered Block blue",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_block3_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/eba088df83aecd50669d451f1e3eb0d7.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1.5,opacity:1,blending:i.BlendingMode.NoBlending,id:""}}},1575472679510:{version:2,listed:!0,name:"Numbered Block green",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_block1_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/8fd8619010f83ff92836a7528d8ff15b.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1.5,opacity:1,blending:i.BlendingMode.NoBlending,id:""}}},1575472679509:{version:2,listed:!1,name:"Numbered Block red",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_block1_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/8fd8619010f83ff92836a7528d8ff15b.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1.5,opacity:1,blending:i.BlendingMode.NoBlending,id:""}}},1575473296380:{version:2,listed:!0,name:"Numbered Block red",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_block2_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/0cf8851afd9976f254f984063f9ef1b5.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1.5,opacity:1,blending:i.BlendingMode.NoBlending,id:""}}},1575467827907:{version:2,listed:!1,name:"Bell",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_bell_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/50e343e81d13bb964a0b9315e1611e79.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1,opacity:1,blending:i.BlendingMode.NoBlending,id:"Metal_p_Metal_Gold_Foil_002"}}},1575467323783:{version:2,listed:!1,name:"Christmas Sack",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_christmasSack_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/a0dd6d9db4b511919a4f41b0360c1728.ply",geometryType:"ConcaveGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1,opacity:1,blending:i.BlendingMode.NoBlending,id:"Fabric_p_Fabric_001"}}},1575466428177:{version:2,listed:!1,name:"Xmas Fireplace",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_openFire_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/ac918c6b4439d2220188e50de133599d.ply",geometryType:"ConvexGeometry",props:{material:{}}},1575464497100:{version:2,listed:!1,name:"Holly Plant",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_hollyPlant_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/de9784a01b80b1e4c0c951f00802097d.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1.3,opacity:1,blending:i.BlendingMode.NoBlending,id:""}}},1575457906732:{version:2,listed:!1,name:"Star",thumbnail:"https://cdn.hibervr.com/thumbs/assets/GPL_C_star_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/537e51a44cadfdea349ab8706727532d.ply",geometryType:"ConvexGeometry",props:{material:{}}},1575454752262:{version:2,listed:!0,name:"Gift Package",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_giftPackage_03_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/e75fb21c9a5caa40c833df4362220fed.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:2,opacity:1,blending:i.BlendingMode.NoBlending,id:"Cardboard_p_Cardboard_002"}}},1575451920649:{version:2,listed:!0,name:"Gift Package",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_giftPackage_02_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/22c6608fabf2602c93ea711883516093.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:2,opacity:1,blending:i.BlendingMode.NoBlending,id:"Cardboard_p_Cardboard_002"}}},1575448043125:{version:2,listed:!1,name:"Canon Base",thumbnail:"https://cdn.hibervr.com/thumbs/assets/H_canonBase_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/6a61defd8b7d69886aab838971c92027.ply",geometryType:"ConvexGeometry",props:{material:{}}},1575534404326:{version:2,listed:!1,name:"Jack In The Box Lid",thumbnail:"https://cdn.hibervr.com/thumbnails/9/5004927522c7bbf37c852d2f00a6520a.512.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/0e3076adca52410d1d60875817036076.ply",geometryType:"ConvexGeometry",props:{material:{}}},1575478104787:{version:2,listed:!1,name:"Jack In The Box Box",thumbnail:"https://cdn.hibervr.com/thumbnails/9/bc03b9fd26388e99b1bd3aa97ede7aa6.512.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/c214fa03a15d817dbcfabdf40025eb95.ply",geometryType:"ConcaveGeometry",props:{material:{}}},1575390406123:{version:2,listed:!1,name:"Jack In The Box Jack",thumbnail:"https://cdn.hibervr.com/thumbnails/9/341599b8df738bd7675cb210dd683926.512.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/4f1a9e97abddb17a0a1825b5538ce377.ply",geometryType:"ConvexGeometry",props:{material:{}}},1575388692169:{version:2,listed:!1,name:"Snow Lantern",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_snowLantern_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/9e61c3ab23c2c6fdfd5ddccc0fb67118.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1,opacity:1,blending:i.BlendingMode.NoBlending,id:"new2_snow_Snow_1024"}}},1575387452891:{version:2,listed:!1,name:"Santa Hat",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_santaHat_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/0b52697e6fd368d7a422e74688c793d1.ply",geometryType:"ConvexGeometry"},1575383051563:{version:2,listed:!1,name:"Canon",thumbnail:"https://cdn.hibervr.com/thumbs/assets/H_canon_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/b262f66df9aebb1a929075ab25ad351f.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1,opacity:1,blending:i.BlendingMode.NoBlending,id:"T_steel_01"}}},1575381725269:{version:2,listed:!0,name:"Lump Of Wood",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_lumpOfWood_01_dark.jpg",category:"props",ply:"https://cdn.hibervr.com/artifacts/9/2115ef48d717494138de118cdb9f7d25.ply",geometryType:"ConvexGeometry",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:2,color:{r:1,g:1,b:1},colorStrength:1.7,opacity:1,blending:i.BlendingMode.NoBlending,id:"Grainy_Grainy_Wood_001"}}},1575380507059:{version:2,listed:!1,name:"Toy Soldier",thumbnail:"https://cdn.hibervr.com/thumbs/assets/CH_NPC_toySoldier_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/eaac4665c1dd4258f3b4ad9a25798b55.ply",geometryType:"ConvexGeometry",props:{material:{id:"T_steel_01",vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1,opacity:1,blending:i.BlendingMode.NoBlending}}},1575378924518:{version:2,listed:!1,name:"Snowman",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_snowman_01_dark.jpg",category:"seasonal",ply:"https://cdn.hibervr.com/artifacts/9/1ff7fb4d6a5c1534223dae38654207c2.ply",geometryType:"ConvexGeometry",props:{material:{id:"new2_snow_Snow_1024",vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:1.3,opacity:1,blending:i.BlendingMode.NoBlending}}},473951199789188:{name:"Booster Plate",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/GPL_speedPad_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/17906/d2dedec0b3ac43dc8fe7fc59b96a59b1.ply",props:{}},470547513122953:{name:"Balloon",version:2,listed:!1,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_swirlyHill_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/10294/414e49a0a8459ce14f4715625943527b.ply",props:{}},469721557581956:{name:"Invincibility Pickup",version:2,listed:!1,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_swirlyHill_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/10294/fbd8737b202a38e458c257cdbe6b59c4.ply",props:{}},469120490848413:{name:"Speed pickup",version:2,listed:!1,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_swirlyHill_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/10294/0d988175fc11de00d9200204ece7201a.ply",props:{}},458391682932877:{name:"Bone",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_bone_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/d1ae73958dbe8a2346e858d379e587e3.ply",props:{material:{id:"Rough_Rough_Marble_001"}}},458384244072580:{name:"Human Skull",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_skull_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/89c9e050b8672302226d622fc5ca17e4.ply",props:{material:{id:"Rough_Rough_Marble_001"}}},456260290928787:{name:"Swirly Hill",version:2,listed:!0,category:"seasonal",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_swirlyHill_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/269981d170725da740785506a544f725.ply",props:{material:{id:"Rough_Rough_rock_021"}}},456243999277198:{name:"Chain Bend",version:2,listed:!0,category:"seasonal",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_chainBend_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/0f9fcfe3fab7ce5b91f1bfd8b31f031c.ply",props:{material:{id:"Metal_p_metal_galvanised_001",uvScale:1}}},456237863903364:{name:"Spike Trap",version:2,listed:!0,category:"hazard",thumbnail:"https://cdn.hibervr.com/thumbs/assets/H_spearTrap_02_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/40b3fdc052904099455231d35b9476a6.ply",props:{material:{id:"Metal_p_metal_galvanised_001",uvScale:1}}},456241199480969:{name:"GraveStone 2",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_graveStone_03_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/96ba6dcb3c411eb8e798592b0acc441d.ply",props:{material:{id:"pbr_lunar_rock_lunar_rock",uvScale:1}}},456233561817220:{name:"Grave Cross",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_graveCross_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/1e208dda7e312b73a5170a56bd5d751a.ply",props:{material:{id:"Wood_Wood_bare_002",uvScale:1}}},456224826884239:{name:"Chain",version:2,listed:!0,category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_chainStraight_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/16537a738c57ac4547697a24c3dc1b30.ply",props:{material:{id:"Metal_p_metal_galvanised_001",uvScale:1}}},456221597540490:{name:"Witch Hat",version:2,listed:!1,category:"seasonal",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_witchHat_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/f05ef02fcc740e9c54b6da816753cb6f.ply",geometryType:"ConcaveGeometry",props:{}},456208730865801:{name:"Cauldron",version:2,listed:!0,category:"seasonal",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_cauldron_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/ca67c59513298e938bcc2aed22396e1a.ply",props:{material:{id:"Metal_Metal_dented_001",uvScale:1}}},456202474299525:{name:"Broom",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/H_swingingScythe_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/ca88fa41bbbeb2666cc2e255d48ea915.ply",props:{}},456189669458052:{name:"Dead Tree 2",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_deadTree_02_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/ffee6a619a9a61f34b2b37376cfb0a00.ply",geometryType:"ConcaveGeometry",props:{material:{id:"Wood_Wood_bark_001",uvScale:1}}},456184001200260:{name:"Dead Tree",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_deadTree_03_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/d1d66fb7c713c5eb1a26d6ca9af0d3c6.ply",geometryType:"ConcaveGeometry",props:{material:{id:"Wood_Wood_bark_001",uvScale:1}}},DeadTree3:{name:"Dead Tree 3",version:2,listed:!1,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_deadTree_03_dark.jpg",gltf:"https://cdn.hibervr.com/3Dassets/special/EN_P_deadTree_02.glb",geometryType:"ConcaveGeometry",props:{material:{id:"EN_P_deadTree_02",uvScale:1}}},455713512767637:{name:"Eye Monster",version:2,listed:!1,category:"hazard",thumbnail:"https://cdn.hibervr.com/thumbnails/9/4bc3f22813caf6c912bc363329b774d6.512.jpg",ply:"https://cdn.hibervr.com/artifacts/9/1b923d9296c8482ecdbd498245e7b2b8.ply",props:{material:{id:"plastic"}}},455696434364574:{name:"Swinging Axe",version:2,listed:!0,category:"hazard",thumbnail:"https://cdn.hibervr.com/thumbs/assets/H_swingingAxe_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/7ef9abe0e79e706a21087f61b48b3abb.ply",geometryType:"ConcaveGeometry",props:{material:{id:"Metal_Metal_dented_001",uvScale:1}}},455683915882642:{name:"Spinning Spikes",version:2,listed:!1,category:"hazard",thumbnail:"https://cdn.hibervr.com/thumbs/assets/H_spinningSpikes_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/4034d100a8238c3b99186b4ba7b9d716.ply",props:{material:{id:"Metal_Metal_dented_001",uvScale:1}}},455677327016079:{name:"Spider",version:2,listed:!0,category:"animals",thumbnail:"https://cdn.hibervr.com/thumbs/assets/CH_NPC_spider_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/89035105ce8f8a06c760256e0fd3593f.ply",props:{material:{id:"plastic"}}},455662288199812:{name:"Metal Fence 2",version:2,listed:!0,category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_D_metalGate_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/d9305821b71dcd975a6cee0455764af5.ply",props:{material:{id:"Metal_Metal_dented_001",uvScale:1}}},455010023481476:{name:"Spiked Ball",version:2,listed:!0,category:"hazard",thumbnail:"https://cdn.hibervr.com/thumbs/assets/H_spikeBall_01_dark.jpg",props:{},ply:"https://cdn.hibervr.com/artifacts/9/fb5ee981336d5d124e8f5627397991d5.ply"},455648153960588:{name:"Coffin Lid",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_coffinLid_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/9bff915891754c519e5e01c574972fca.ply",props:{material:{id:"Metal_Metal_dented_001",uvScale:1}}},454992466313406:{name:"Coffin Closed",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_coffinClosed_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/5d0fb168e96b32562e2379d86228a260.ply",props:{material:{id:"Metal_Metal_dented_001",uvScale:1}}},455642444054669:{name:"Coffin Open",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_coffinOpen_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/9b28c44be0dccb0478aeb3236b89a144.ply",geometryType:"ConcaveGeometry",props:{material:{id:"Metal_Metal_dented_001",uvScale:1}}},454988347228296:{name:"Mounted Torch",version:2,listed:!0,category:"seasonal",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_mountedTorch_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/6eea7fe38dd885ec0e94189558876896.ply",props:{material:{id:"Metal_Metal_dented_001",uvScale:1}}},454976643301536:{name:"Pumpkin",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_pumpkin_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/57ccd6d78df179c40fce25fec34618bc.ply",props:{}},449909635776648:{name:"Arrow Sign",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_arrowSign_02_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/045caa78258f1e0efc9c3a06905d38b3.ply",props:{}},449912674951309:{version:2,listed:!0,name:"Barrel ",category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_p_barrel_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/a58eace0ea5b95a5ea45f73fcd823472.ply",props:{material:{id:"Wood_Wood_plank_007",uvScale:3}}},449327060648068:{name:"Stair",version:2,listed:!0,category:"basic",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_stair_01_dark.jpg",props:{material:{id:"T_stoneFloor_04",uvScale:2}},geometryType:"ConcaveGeometry",ply:"https://cdn.hibervr.com/artifacts/9/cee1402b66ed24c7fbba36b0b3c9990d.ply"},446330330693766:{version:2,listed:!1,name:"RotatingFaceCube",category:"misc",props:{material:{id:"rotating_cube"}},thumbnail:"https://cdn.hibervr.com/thumbnails/5/0e2b66565801a2e1072671a0de5fd0dd.512.png",ply:"https://cdn.hibervr.com/artifacts/5/82cf4fbb26ffe1e447651624dacb4555.ply",normalized:!0},443586525208708:{name:"SpawnPoint",version:2,listed:!1,category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbnails/9/76e721afedbf220555c8244c611fa9e0.512.png",ply:"https://cdn.hibervr.com/artifacts/9/5bde400c36215ca8ba027b18fc1572cf.ply"},439376309108871:{name:"Goal",version:2,listed:!1,category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbs/assets/GPL_goal_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/b3816300051840dd708d92eaa93e102a.ply"},438692157915268:{name:"Aloe",category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_cactus_02_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/6ae33cfcf44febce3881c6620ce91c75.ply"},box:{name:"Box",version:2,listed:!0,category:"basic",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_block_01_dark.jpg"},sphere:{name:"Sphere",version:2,listed:!0,category:"basic",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_sphereBasic_01_dark.jpg"},cone:{name:"Cone",version:2,listed:!0,category:"basic",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_cone_01_dark.jpg"},cylinder:{name:"Cylinder",version:2,listed:!0,category:"basic",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_cylinder_01_dark.jpg"},438575235144126:{name:"Stone ring",version:2,listed:!0,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_stoneRing_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/0cf89c4970b1e0e7dcdacac55fb14b5a.ply",props:{material:{id:"Rough_Rough_rock_021"}}},438575235154064:{name:"Mountain 1",version:2,listed:!0,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_mountain_02_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/04304533d55a1fb027608f8e85ef4bbe.ply",props:{material:{id:"Rough_Rough_rock_021"}}},438576198844548:{name:"Mountain 2",version:2,listed:!0,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_mountain_03_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/92999490d40fc522d3afe6ed3efd2678.ply",props:{material:{id:"Rough_Rough_rock_021"}}},438576767688841:{name:"Mountain 3",version:2,listed:!0,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_mountain_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/3fa019f24bf3427e0418e85a9fecb26d.ply",props:{material:{id:"Rough_Rough_rock_021"}}},437221151195278:{name:"Wood Wheel",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_woodWheel_01_dark.jpg",props:{material:{id:"Wood_Wood_White_Cedar_001",uvScale:1}},ply:"https://cdn.hibervr.com/artifacts/9/6adb942054da368b5863e6f1905aa76d.ply"},437185210753942:{name:"Big Chungus",version:2,listed:!0,category:"animals",thumbnail:"https://cdn.hibervr.com/thumbs/assets/CH_NPC_bigChungus_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/9f3f7398b220a121ea9a5aff3455583f.ply"},438686778261636:{name:"Floating Island 3",version:2,listed:!0,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_floatingIsland_03_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/a9f347195d649c1ed8769d60d894d4c4.ply",props:{material:{id:"Stone_Stone_Floor_003",uvScale:5}}},438686017847428:{name:"Floating Island 2",version:2,listed:!0,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_floatingIsland_02_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/af01367a03ccd02e64f67141b0e64614.ply",props:{material:{id:"Stone_Stone_Floor_003",uvScale:5}}},437206417580169:{name:"Floating Island",version:2,listed:!0,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_floatingIsland_01_dark.jpg",props:{material:{id:"Stone_Stone_Floor_003",uvScale:5}},ply:"https://cdn.hibervr.com/artifacts/9/26cc3597c5cbae5c807c277f57ab5461.ply"},437202469986436:{name:"Barrel",version:2,listed:!1,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_p_barrel_01_dark.jpg",props:{material:{id:"BridgeWood",uvScale:2}},ply:"https://cdn.hibervr.com/artifacts/9/824abd4f02252522b8430d5a2f53f331.ply"},437195210743941:{name:"Heart",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_heart_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/cc450d0a6eb85f341bb403f1504cd9f5.ply"},436572246564996:{name:"Boulder",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_rock_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/0243b7c60bd84335872f0cc84d2affab.ply",props:{material:{id:"Rough_Rough_rock_021"}}},436563274637453:{name:"Burger",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_burger_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/b801b013312d79c62aaa318674e9dad5.ply"},436524381872268:{name:"Lantern",version:2,listed:!1,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_lantern_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/69ce5e68480c291eb1ae9c8a1829003f.ply",props:{material:{id:"Metal_p_metal_galvanised_001",uvScale:2}}},436395526529156:{name:"Spear Trap",version:2,listed:!0,category:"hazard",thumbnail:"https://cdn.hibervr.com/thumbs/assets/H_spearTrap_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/270ac4f00de638abd3eda09abce871bb.ply",props:{material:{id:"Metal_p_metal_galvanised_001",uvScale:2}}},435845240881288:{name:"Chipped Block 3",version:2,listed:!0,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_boulder_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/ea74c7af94eff5fb478aaa622db127a3.ply",props:{material:{id:"Rough_Rough_rock_021",uvScale:3}}},434437468782725:{name:"Cog Wheel",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_cogWheel_01_dark.jpg",props:{material:{id:"T_rustyMetal_02",uvScale:2}},ply:"https://cdn.hibervr.com/artifacts/9/2a3f907af2ef1e14dc30517adea147aa.ply",geometryType:"ConcaveGeometry"},432451395637259:{name:"Saucer",version:2,listed:!0,category:"hazard",thumbnail:"https://cdn.hibervr.com/thumbs/assets/CH_NPC_ufo_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/83bba7e3c6abced4bcb9fea49c37a248.ply",geometryType:"ConcaveGeometry"},432951399637159:{name:"Sawblade",version:2,listed:!0,category:"hazard",thumbnail:"https://cdn.hibervr.com/thumbs/assets/H_sawblade_01_dark.jpg",props:{material:{id:"T_rustyMetal_02",uvScale:2}},ply:"https://cdn.hibervr.com/artifacts/9/5498f1fb9af78e9490eff12e92a2ceff.ply"},444915044040836:{name:"Pine Tree",version:2,listed:!0,category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_pineTree_01_dark_1.jpg",ply:"https://cdn.hibervr.com/artifacts/9/2830732c7da55c152436eac5cbaba26f.ply"},432945968742557:{name:"Tree 8",version:2,listed:!0,category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_tree_08_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/5bb466d68be92993291aa2cdeae24b83.ply"},432944109609112:{name:"Tree 6",version:2,listed:!0,category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_tree_06_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/c099da2cd4407112f7160da728560f35.ply"},432942809047177:{name:"Tree 5",version:2,listed:!0,category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_tree_05_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/a7ed22ca180d53cfdf0dd54c847f450c.ply"},432941099942035:{name:"Tree 3",version:2,listed:!0,category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_tree_03_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/bad48be1540502f858b10584947a686a.ply"},432939622736014:{name:"Tree 2",version:2,listed:!1,category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_tree_02_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/b74e6881e930783bffc32bf19211eca4.ply"},432928152379529:{name:"Tree 1",version:2,listed:!0,category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_tree_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/25e0b1d1f4d0ac444f1d6e5650dbfaba.ply"},432401415209093:{name:"Palm Tree",version:2,listed:!0,category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_palmTree_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/782f22af8129a8ace44a9864ee5d8961.ply"},432912064897156:{name:"Toothlike rock",version:2,listed:!0,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_tooth_01_dark.jpg",props:{material:{id:"Rough_Rough_rock_021",uvScale:2}},ply:"https://cdn.hibervr.com/artifacts/9/353596206a7d035e301efe47d6433dff.ply"},432901083914372:{name:"Pyramid",version:2,listed:!0,category:"basic",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_pyramid_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/7af3e6299c78db58e3e6669037cad46f.ply",props:{material:{id:"Pavement_p_Pavement_Stone_001",uvScale:2}}},432867856662660:{name:"Puma Punku Statue",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_pumaPunkuStatue_01_dark.jpg",props:{material:{id:"Rock_Rock_Ore_001",uvScale:2}},ply:"https://cdn.hibervr.com/artifacts/9/b5d25ace16815939fb10a1aaf4417f44.ply"},432388549435530:{name:"Mushroom",version:2,listed:!0,category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_mushroom_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/96b4ec4eae1e8d42ef53ed4e216fd32a.ply"},432382563696778:{name:"Gift Package",version:2,listed:!1,category:"seasonal",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_giftPackage_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/ec8a4ce6af86f8697fc977585d4e9fc5.ply",props:{material:{vertexColors:!0,uvType:i.AutoUVMapping.BOX_MAPPING,uvScale:1,color:{r:1,g:1,b:1},colorStrength:2,opacity:1,blending:i.BlendingMode.NoBlending,id:"Cardboard_p_Cardboard_002"}}},432373996658832:{name:"Easter Island Statue",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_easterStatue_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/65e6b5e0283e13e2db81ff498358f5ab.ply",props:{material:{id:"Rock_Rock_Ore_001",uvScale:1}}},432370279129221:{name:"Cupola",version:2,listed:!0,category:"basic",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_cupola_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/9f749bb2cb9221b5d6cd4fad5fcd2dc9.ply",props:{material:{id:"Metal_Metal_dented_001",uvScale:1}}},432359566057611:{name:"Bamboo",version:2,listed:!0,category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_bamboo_01_dark.jpg",geometryType:"ConcaveGeometry",ply:"https://cdn.hibervr.com/artifacts/9/37e0b50a508f898e85366909af91086d.ply"},432327578509449:{name:"Truss Side 3",version:2,listed:!0,category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_scaffoldSide_03_dark.jpg",props:{material:{id:"T_steel_01",uvScale:2}},ply:"https://cdn.hibervr.com/artifacts/9/b2b34c8e5e72e446e76c9d944aeea136.ply"},432323752796311:{name:"Truss Block 2",version:2,listed:!0,category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_scaffoldBox_02_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/fb96f3921c4b1bd9839b14ccb395177b.ply",props:{material:{id:"T_steel_01",uvScale:"2"}},geometryType:"ConcaveGeometry"},432305095721106:{name:"H-Beam 1",version:2,listed:!0,category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_hBeam_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/474ba5f836d1542909af710ee9fef697.ply",props:{material:{id:"T_steel_01"}}},432298670399635:{name:"Truss Side 1",version:2,listed:!0,category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_scaffoldSide_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/05be2a18d7963af995312103338c4eef.ply",geometryType:"ConcaveGeometry",props:{material:{id:"T_steel_01"}}},432294572621966:{name:"Truss Side 2",version:2,listed:!0,category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_scaffoldSide_02_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/896d50f0cff4d9f719628cbabf008280.ply",geometryType:"ConcaveGeometry",props:{material:{id:"T_steel_01"}}},432289347215497:{name:"Truss Wedge",version:2,listed:!0,category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_scaffoldWedge_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/eb43a0e8a4830e0dbf9ca8034dee17b2.ply",geometryType:"ConcaveGeometry",props:{material:{id:"T_steel_01"}}},432286150606980:{name:"Truss Block 1",version:2,listed:!0,category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_scaffoldBox_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/21388eeaf2fa1e3bc0478034d1db46ea.ply",geometryType:"ConcaveGeometry",props:{material:{id:"T_steel_01"}}},432318769791108:{name:"Icy Platform 2",version:2,listed:!0,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_icyPlatform_02_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/dd77b93612f53b1b596aaa61150abc10.ply",props:{material:{id:"Ice_Ice_001",uvScale:2}}},432313957195908:{name:"Icy Platform 1",version:2,listed:!0,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_icyPlatform_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/65d995f65692a4fb558d9ed501444fa1.ply",props:{material:{id:"Ice_Ice_001",uvScale:2}}},432283151458440:{name:"Trampoline",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/GPL_trampoline_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/cac8896f0595d97ba26aea0a132dc2ce.ply"},432206490804356:{name:"White Ghost",version:2,listed:!0,category:"hazard",thumbnail:"https://cdn.hibervr.com/thumbs/assets/CH_NPC_ghost_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/b2a13cfe86fef94198129b9807c79091.ply"},432220356305028:{name:"Green Ghost",version:2,listed:!0,category:"hazard",thumbnail:"https://cdn.hibervr.com/thumbs/assets/CH_NPC_hauntingGreenGhost_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/045c97e879032c7c9b468cb29b609960.ply",alter:{rotation:{x:3.141592653589793,y:0,z:3.141592653589793}}},432234865631369:{name:"Bamboo, single",version:2,listed:!0,category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_bamboo_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/5616b10a305e1f1633123b06eaa3ed2f.ply"},434453661376644:{name:"Spiral Tree 1",version:2,listed:!1,category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbnails/9/d190430a339b9b09c538118170a29930.512.png",props:{material:{id:"pbr_bark1_bark1",uvScale:2}},ply:"https://cdn.hibervr.com/artifacts/9/cc102aad5644c41dc767923edea62875.ply"},434379896832132:{name:"Pipe Straight",version:2,listed:!0,category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_pipe_01_dark.jpg",props:{material:{id:"Metal_p_Metal_plate_003",uvScale:2}},ply:"https://cdn.hibervr.com/artifacts/9/0225ffa1629bd775997d1e19ae6b42d9.ply"},432947597033634:{name:"Unicorn",version:2,listed:!0,category:"animals",thumbnail:"https://cdn.hibervr.com/thumbs/assets/CH_NPC_unicorn_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/0125f92baf6947a8ca106d2195e6b82e.ply"},432920223539332:{name:"Toothlike rock 2",version:2,listed:!0,category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_tooth_02_dark.jpg",props:{material:{id:"Rough_Rough_rock_021",uvScale:2}},ply:"https://cdn.hibervr.com/artifacts/9/86189251865bd791daec9fd31d375c2a.ply"},432909727989892:{name:"Sink",version:2,listed:!1,category:"interior",thumbnail:"https://cdn.hibervr.com/thumbnails/63/ef6755433e78a700614f47ff62f66d3e.512.png",ply:"https://cdn.hibervr.com/artifacts/9/6cfa769c8239e76707264ec7dd58c62e.ply"},ToiletOpen_2:{name:"Open Toilet",version:2,listed:!1,category:"interior",geometryType:"ConcaveGeometry",thumbnail:"https://cdn.hibervr.com/thumbnails/9/dd69daaf73389e952aad0b4e5d3762fa.512.png",ply:"https://cdn.hibervr.com/artifacts/63/4fb0fe2cfad3e83bf48eb2fcddbec766e32671a9f5e44773e6949e328b6cc185f1205dc1b22cfb2ae4939d631dd4a6ec611c9089d8ef2ffe06b6d0b19293cd6f/Toilet_hollow.ply"},432348742754451:{name:"Apple",version:2,listed:!0,category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_P_apple_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/e973febac01e1f19e1c09644f829f154.ply"},432346609819780:{name:"Window Frame",version:2,listed:!0,category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_windowFrame_02_dark.jpg",props:{material:{id:"Wood_Wood_plancks_003",uvScale:2}},ply:"https://cdn.hibervr.com/artifacts/9/0dac6e7f2d934ecdbaaad2692ae5bdbb.ply",geometryType:"ConcaveGeometry"},432341528486020:{name:"Window Frame 1",version:2,listed:!0,category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_windowFrame_01_dark.jpg",geometryType:"ConcaveGeometry",ply:"https://cdn.hibervr.com/artifacts/9/18e6e87b6936e3365ac617a6ad49a02a.ply",props:{material:{id:"Wood_Wood_plancks_003",uvScale:2}}},432339124732036:{name:"Wedge",version:2,listed:!0,category:"basic",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_wedge_01_dark.jpg",props:{material:{id:"T_stoneFloor_04",uvScale:2}},ply:"https://cdn.hibervr.com/artifacts/9/7683ddca0e974fe7983da9cb7bf540be.ply"},432339124732037:{name:"Wedge Flipped",version:2,listed:!1,category:"basic",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_wedge_01_dark.jpg",props:{material:{id:"T_stoneFloor_04",uvScale:2}},ply:"https://cdn.hibervr.com/artifacts/9/a98dea88005ae4bba6f164f5e1c98e64.ply"},432334792794244:{name:"Vault Half",version:2,listed:!0,category:"basic",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_vaultHalf_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/16f6d8aae46f93f99f7114736fce5a49.ply",props:{material:{id:"T_stoneFloor_04",uvScale:2}}},432302538702989:{name:"Cylinder Quarter",version:2,listed:!0,category:"basic",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_cylinderQuarterPiece_01_dark_1.jpg",ply:"https://cdn.hibervr.com/artifacts/9/6b04d0053827e1d4e09bd2b77ae72281.ply",props:{material:{id:"T_stoneFloor_04",uvScale:2}}},432230483189902:{name:"Cylinder Half",version:2,listed:!0,category:"basic",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_cylinderHalf_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/0faf4603421c4aaba2ca13016994db0e.ply",props:{material:{id:"T_stoneFloor_04",uvScale:2}}},432225352802441:{name:"Arch Half",version:2,listed:!0,category:"basic",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_archHalf_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/5fcdea76fd769d618ee9852e840a8d53.ply",props:{material:{id:"T_stoneFloor_04",uvScale:2}}},428821383667844:{name:"Fish",version:2,listed:!0,category:"animals",thumbnail:"https://cdn.hibervr.com/thumbs/assets/CH_NPC_fish_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/cf650df1dad9c54857ec31cc16ee9261.ply",alter:{rotation:{x:4.71238898038469,z:4.71238898038469}}},428761413451920:{name:"Deer",version:2,listed:!0,category:"animals",thumbnail:"https://cdn.hibervr.com/thumbs/assets/CH_NPC_deer_01_dark.jpg",ply:"https://cdn.hibervr.com/artifacts/9/88d7f5921344ff7c5546252cd6e2b926.ply"},A431566824497290:{id:"A431566824497290",listed:!0,name:"Metal Fence",category:"scafold",origin:{license:"None",credits:"none",url:"https://hiberworld.com"},props:{material:{id:"T_steel_01"}},thumbnail:"https://cdn.hibervr.com/thumbnails/9/d1b751b0428c73760f462364382f3d65.512.png",ply:"https://cdn.hibervr.com/artifacts/9/1b507de0d811ebfe9148d10c5fbda2d9.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},A431536399442053:{id:"A431536399442053",listed:!0,name:"SiFi Block",category:"artifact",origin:{license:"None",credits:"none",url:"https://hiberworld.com"},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbnails/9/78b7f141a2d0fff355fc2d373810a0bb.512.png",ply:"https://cdn.hibervr.com/artifacts/9/f3e38856f644852bc6ada859f270dacd.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},A431534417625225:{id:"A431534417625225",listed:!0,name:"Floating Alien",category:"artifact",origin:{license:"None",credits:"none",url:"https://hiberworld.com"},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbnails/9/96d4bbe687928882c8074f06d57e25b8.512.png",ply:"https://cdn.hibervr.com/artifacts/9/22f3e4e78ede2d3526baca226fd64594.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},A431521983570052:{id:"A431521983570052",listed:!0,name:"Flying Saucer",category:"logic",origin:{license:"None",credits:"none",url:"https://hiberworld.com"},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbnails/9/d50855c5bbbbe4477cf4425e465e2ce8.512.png",ply:"https://cdn.hibervr.com/artifacts/9/83bba7e3c6abced4bcb9fea49c37a248.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},A431521983570051:{id:"A431521983570051",listed:!0,name:"Standing Saucer",category:"artifact",origin:{license:"None",credits:"none",url:"https://hiberworld.com"},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbnails/9/d50855c5bbbbe4477cf4425e465e2ce8.512.png",ply:"https://cdn.hibervr.com/artifacts/9/83bba7e3c6abced4bcb9fea49c37a248.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},RoundDoor:{id:"RoundDoor",version:1,name:"Round door",category:"construction",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbnails/8263/65f2dc9ce21bed2c9243c13d8aacd3cc.512.png",ply:"https://cdn.hibervr.com/artifacts/8263/b72858694cd47fa278802d7801c7ca8c.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:2}},RoundDoorFrame2:{id:"RoundDoorFrame2",version:1,name:"Round door frame",thumbnail:"https://cdn.hibervr.com/thumbnails/8263/e70206fdb634021530c043f1c83bba66.512.png",ply:"https://cdn.hibervr.com/artifacts/8263/f3c8935977a9d3f81f35b7d8e39d434c.ply"},RoundDoorFrame:{id:"RoundDoorFrame",version:1,name:"Round door frame",category:"construction",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_rock_019"}},thumbnail:"https://cdn.hibervr.com/thumbnails/8263/68556a53186ba7440e5d1623437dc077.512.png",ply:"https://cdn.hibervr.com/artifacts/8263/062fe052cf0b09e1db70cb9713c783e4.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2}},Strawberry:{id:"Strawberry",version:1,name:"Strawberry",category:"food",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/caHYgkd5At4"},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbnails/9/8065a6684fbf68fdb7b952ec1eafd656.512.png",ply:"https://cdn.hibervr.com/artifacts/9/fdbd04825d3c8c8b2fd5a5dda170bba0.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},Sawblade_spinning:{id:"Sawblade_spinning",version:1,name:"Spinning Saw blade",category:"gameplay",origin:{license:"",credits:"",url:""},props:{material:{id:"Metal_p_metal_galvanised_001"}},thumbnail:"https://cdn.hibervr.com/thumbnails/9/a5f130eac32f6b1dd1c2b1b2562957ca.512.png",ply:"https://cdn.hibervr.com/artifacts/9/4a3936a2d07aab8b4c806eafe54da33e.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1.5,rotation:{z:1.5707963267948966}}},Sawblade:{id:"Sawblade",version:1,name:"Saw blade",category:"props",origin:{license:"",credits:"",url:""},props:{material:{id:"Metal_p_metal_galvanised_001"}},thumbnail:"https://cdn.hibervr.com/thumbnails/9/a5f130eac32f6b1dd1c2b1b2562957ca.512.png",ply:"https://cdn.hibervr.com/artifacts/9/4a3936a2d07aab8b4c806eafe54da33e.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1.5,rotation:{z:1.5707963267948966}}},SwimingFish_02:{id:"SwimingFish_02",version:1,name:"Swiming Fish",category:"gameplay",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Fish_02_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Fish_02.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1.5,rotation:{x:4.71238898038469,z:4.71238898038469}}},Fish_02:{id:"Fish_02",version:1,name:"Fish 1",category:"misc",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Fish_02_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Fish_02.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1.5,rotation:{x:4.71238898038469,z:4.71238898038469}}},Smproptechcog01:{id:"Smproptechcog01",version:1,name:"Cog",category:"construction",origin:{license:"",credits:"",url:""},props:{material:{id:"T_rustyMetal_02"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/SM_Prop_Tech_Cog_01_2_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/SM_Prop_Tech_Cog_01.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1.5,rotation:{x:4.71238898038469}}},Smproptechcog01_spinning:{id:"Smproptechcog01_spinning",version:1,name:"Spinning Cog",category:"gameplay",origin:{license:"",credits:"",url:""},props:{material:{id:"T_rustyMetal_02"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/SM_Prop_Tech_Cog_01_2_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/SM_Prop_Tech_Cog_01.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1.5,rotation:{x:4.71238898038469}}},Grill:{id:"Grill",version:1,name:"Grill",category:"interiour",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Grill_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Grill2.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1.25,rotation:{x:4.71238898038469}}},Parasol:{id:"Parasol",version:1,name:"Parasol",category:"interiour",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Parasol_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Paraso2l.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1.75,rotation:{x:4.71238898038469}}},Lounger:{id:"Lounger",version:1,name:"Lounger chair",category:"interiour",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Lounger_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Loungers2.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1.75,rotation:{x:4.71238898038469}}},EasterEgg2:{id:"EasterEgg2",version:1,name:"Easter egg 2",category:"seasonal",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbnails/9/dba4d880755253d97ee043f270a4d43c.512.png",ply:"https://cdn.hibervr.com/artifacts/9/f4e770e88bacec73f00d82dd3ee49b5d.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:2,rotation:{x:4.71238898038469}}},EasterEgg1:{id:"EasterEgg1",version:1,name:"Easter egg 1",category:"seasonal",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbnails/9/73ab9794f90766347f948515a0865ecd.256.png",ply:"https://cdn.hibervr.com/artifacts/9/3440491167a54ab6528306d5e63bece8.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:2,rotation:{x:4.71238898038469}}},FlyingChicken:{id:"FlyingChicken",version:1,name:"Flying Chicken",category:"gameplay",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbnails/9/9dbe4325fc8536e697841cfddc735d95.256.png",ply:"https://cdn.hibervr.com/artifacts/9/935a0dbcee9cb020c910a7c178f75369.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1,rotation:{x:4.71238898038469}}},Chicken:{id:"Chicken",version:1,name:"Chicken",category:"animals",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbnails/9/9dbe4325fc8536e697841cfddc735d95.256.png",ply:"https://cdn.hibervr.com/artifacts/9/935a0dbcee9cb020c910a7c178f75369.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1,rotation:{x:4.71238898038469}}},EvilMonkey:{id:"EvilMonkey",version:1,name:"Evil Monkey",category:"gameplay",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbnails/9/b670bf0b288bcaf2cf31a08f89c29953.512.png",ply:"https://cdn.hibervr.com/artifacts/9/7e2d5eeef99612c55be27d9ab75880e3.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:3,rotation:{x:4.71238898038469}}},BigMonkey:{id:"BigMonkey",version:1,name:"Big Monkey",category:"misc",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbnails/9/b670bf0b288bcaf2cf31a08f89c29953.512.png",ply:"https://cdn.hibervr.com/artifacts/9/7e2d5eeef99612c55be27d9ab75880e3.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:4.71238898038469}}},EvilChungus:{id:"EvilChungus",version:1,name:"Evil Chungus",category:"gameplay",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Big_chungus_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Big_chungus.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:3,rotation:{x:4.71238898038469}}},BigChungus:{id:"BigChungus",version:1,name:"Big Chungus",category:"misc",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Big_chungus_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Big_chungus.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:5,rotation:{x:4.71238898038469}}},Crabbo:{id:"Crabbo",version:1,name:"Gangster crab",category:"misc",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Crabbo_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Crabbo.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},Crab:{id:"Crab",version:1,name:"Crab",category:"misc",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Crab_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Crab.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},Batwing:{id:"Batwing",version:1,name:"Bat Wing",category:"artifact",origin:{license:"",credits:"",url:""},props:{material:{id:""}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/batWing_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/batWing.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1}},Claystar:{id:"Claystar",version:1,name:"Clay Star",category:"rocky",origin:{license:"",credits:"",url:""},props:{material:{id:""}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/clay-star_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/clay-star.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2,rotation:{x:1.5707963267948966}}},Candle:{id:"Candle",version:1,name:"Candle",category:"props",origin:{license:"CC-BY 3.0",credits:"Spatial Stories",url:"https://poly.google.com/view/e0RvPRSe29U"},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/candle_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/candle.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1}},Missile:{id:"Missile",version:1,name:"Missile",category:"hazard",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/missile_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/missile.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:2}},Missile2:{id:"Missile2",version:1,name:"Missile",category:"haxzard",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/missile_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/missile.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:2,rotation:{x:-1.5707963267948966}}},Snowman:{id:"Snowman",version:1,name:"Snowman",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/cGQEmccC8EM"},category:"seasonal",thumbnail:"blocks/none.png",ply:"https://cdn.hibervr.com/3Dassets/poly/Snowman_01.ply",normalized:!0,alter:{scale:1,rotation:{x:-1.5707963267948966,y:0,z:0}},geometryType:"ConcaveGeometry",props:{material:{id:"vertexColor"}}},Stickyman:{id:"Stickyman",version:1,name:"Sticky man",category:"props",origin:{license:"CC-BY 3.0",credits:"Oded Sharon",url:"https://poly.google.com/view/2uQZ8GxU8nQ"},props:{material:{id:"Wood_Wood_floor_002"}},thumbnail:"https://cdn.hibervr.com/thumbs/assets/StickymanPresets.jpg",ply:"https://cdn.hibervr.com/3Dassets/artifacts/sticky_man.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{y:1.2566370614359172}}},Star:{id:"Star",version:1,name:"Star",category:"props",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/5hrwvzpCArU"},props:{material:{id:"Metal_p_Metal_Gold_Foil_001"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/star_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/star.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:2.5,rotation:{x:.9424777960769379}}},Goal:{id:"Goal",version:1,category:"gameplay",name:"Goal",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/goal_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/blocks/window2_fixed_1.ply",normalized:!0,alter:{scale:1.5,rotation:{z:.7853981633974483}},props:{material:{id:"goal"}}},Heart:{id:"Heart",version:1,name:"Heart",category:"props",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Heart_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Heart.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},Trophy:{id:"Trophy",props:{material:{id:"vertexColor"}},version:1,name:"Trophy",category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Trophy_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/cc0/household/Trophy.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1}},Tooth:{id:"Tooth",version:1,name:"Tooth",category:"rocky",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_rock_021"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tooth_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Tooth.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},Igloo14:{id:"Igloo14",version:1,name:"Igloo1 4",category:"artifact",origin:{license:"",credits:"",url:""},props:{material:{id:""}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Igloo1_4_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Igloo1_4.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1.5}},Iglooport:{id:"Iglooport",version:1,name:"Igloo port",category:"artifact",origin:{license:"",credits:"",url:""},props:{material:{id:""}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/IglooPort_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/IglooPort.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1.5}},Floweropen:{id:"Floweropen",version:1,name:"Flowerish",category:"vegetation",origin:{license:"",credits:"",url:""},props:{material:{id:""}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/FlowerOpen_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/FlowerOpen.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2}},Hbeam:{id:"Hbeam",version:1,name:"H-beam",category:"construction",origin:{license:"",credits:"",url:""},props:{material:{id:"T_steel_01"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/H-beam_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/H-beam.ply",normalized:!0,equalize:!1,geometryType:"ConcaveGeometry",alter:{scale:{x:2,y:1.1,z:1.302},rotation:{x:0,y:1.5707963267948966,z:1.5707963267948966}}},Deer:{id:"Deer",version:1,name:"Deer",category:"misc",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Deer_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Deer.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1.3}},Pinetree:{id:"Pinetree",version:1,name:"Pine tree",category:"vegetation",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/PineTree_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/PineTree.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2.5}},Candycane:{id:"Candycane",version:1,name:"CandyCane",category:"seasonal",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/CandyCane_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/CandyCane.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1}},Paket:{id:"Paket",version:1,name:"Present",category:"props",origin:{license:"CC-BY",credits:"Aaron Clifford",url:"https://poly.google.com/view/8wyQNiCKMBP"},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/giftBox_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/giftBox.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},Sleigh:{id:"Sleigh",version:1,name:"Sleigh",category:"seasonal",origin:{license:"CC-BY",credits:"14islands Lab",url:"https://poly.google.com/view/8-LNgiOfAxN"},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/giftBox_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/sleigh2.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:2}},Icyplatform2:{id:"Icyplatform2",version:1,name:"Icy platform 2",category:"rocky",origin:{license:"",credits:"",url:""},props:{material:{id:"Ice_Ice_002"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/icy_platform_2_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/icy_platform_2.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2}},Icyplatform:{id:"Icyplatform",version:1,name:"Icy platform",category:"rocky",origin:{license:"",credits:"",url:""},props:{material:{id:"Ice_Ice_002"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/icy_platform_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/icy_platform.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2}},Lugwrench:{id:"Lugwrench",version:1,name:"Spinning Lug Wrench",category:"gameplay",origin:{license:"",credits:"",url:""},props:{material:{id:"red_plastic"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/LugWrench_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/LugWrench.ply",normalized:!0,geometryType:"ForceConcaveGeometry",alter:{scale:2}},Ghost:{id:"Ghost",version:1,name:"Ghost",category:"artifact",origin:{license:"",credits:"",url:""},props:{material:{id:"white"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Ghost_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Ghost.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},Checkpoint2:{id:"Checkpoint",version:1,name:"Checkpoint",category:"gameplay",origin:{license:"",credits:"",url:""},props:{material:{id:"Metal_p_metal_galvanised_001"}},thumbnail:"https://cdn.hibervr.com/thumbnails/9/994781fa21e9c0ce5eb871da2a4133d5.512.png",ply:"https://cdn.hibervr.com/artifacts/9/608fa8d9b4e1e2d88f11b86cc9497e95.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:2}},Checkpoint:{id:"Checkpoint",version:1,name:"Checkpoint",category:"gameplay",origin:{license:"",credits:"",url:""},props:{material:{id:"Metal_p_metal_galvanised_001"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Checkpoint1_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Checkpoint1.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:2}},Barrel:{id:"Barrel",version:1,name:"Barrel",origin:{license:"",credits:"",url:""},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Barrel_thumb.png",obj:"https://cdn.hibervr.com/3Dassets/artifacts/Barrel.obj",normalized:!0,alter:{scale:1},props:{material:{id:"BridgeWood"}}},Pallmannen3:{id:"Pallmannen3",version:1,name:"Pallet",origin:{license:"",credits:"",url:""},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Pallet_thumb.png",obj:"https://cdn.hibervr.com/3Dassets/artifacts/PallMannen3.obj",normalized:!0,alter:{scale:1.4},props:{material:{id:"BridgeWood"}}},Pumapunkustatue:{id:"Pumapunkustatue",version:1,name:"Puma Punku Statue",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_rock_020"}},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/PumaPunkuStatue_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/PumaPunkuStatue.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2}},Easterstatue:{id:"Easterstatue",version:1,name:"Easter Statue",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_rock_020"}},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/EasterStatue_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/EasterStatue.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2}},Key:{id:"Key",version:1,name:"Key",origin:{license:"",credits:"",url:""},props:{material:{id:"T_steel_01"}},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Key_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Key.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{rotation:{x:0,y:1.5707963267948966,z:-1.5707963267948966}}},Monkstatue:{id:"Monkstatue",version:1,name:"Monk Statue",origin:{license:"",credits:"",url:""},props:{material:{id:"Metal_Metal_grunge_001"}},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/MonkStatue_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/MonkStatue.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2}},Humanskull:{id:"Humanskull",version:1,name:"Human Skull",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_Marble_001"}},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/HumanSkull_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/HumanSkull.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{}},Humanskullconvex:{id:"Humanskullconvex",version:1,name:"Human Skull convex",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_Marble_001"}},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/HumanSkull_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/HumanSkull.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{}},Cateye:{id:"Cateye",version:1,name:"Cat Eye",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/3u1-D_bdKpx"},props:{material:{id:"vertexColor"}},category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/CatEye_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/CatEye.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{rotation:{x:3.141592653589793,y:0,z:0}}},FloorLamp:{id:"FloorLamp",version:1,name:"floor Lamp",origin:{license:"",credits:"",url:""},props:{material:{id:""}},category:"interiour",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/floorLamp_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/floorLamp.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2}},Flower:{id:"Flower",version:1,name:"Big Flower",origin:{license:"",credits:"",url:""},props:{material:{id:""}},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Flower_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Flower.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2}},Pointyrock:{id:"Pointyrock",version:1,name:"Pointy Rock",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_rock_021"}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/PointyRock_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/PointyRock.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},Damagedcube1:{id:"Damagedcube1",version:1,name:"Chipped Block 1",origin:{license:"",credits:"",url:""},props:{material:{}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/DamagedCube1_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/DamagedCube1.ply",normalized:!0,equalize:!0,geometryType:"box",alter:{}},Damagedcube2:{id:"Damagedcube2",version:1,name:"Chipped Block 2",origin:{license:"",credits:"",url:""},props:{material:{}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/DamagedCube2_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/DamagedCube2.ply",normalized:!0,equalize:!0,geometryType:"box",alter:{}},Damagedcube3:{id:"Damagedcube3",version:1,name:"Chipped Block 3",origin:{license:"",credits:"",url:""},props:{material:{}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/DamagedCube3_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/DamagedCube3.ply",normalized:!0,equalize:!0,geometryType:"box",alter:{}},Droppletstone:{id:"Droppletstone",version:1,name:"Obelisk",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_rock_021"}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/DroppletStone_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/DroppletStone.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},Arrowsign:{id:"Arrowsign",version:1,name:"Arrow Sign",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/ArrowSign_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/ArrowSign.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1}},Scafoldsidestyle3:{id:"Scafoldsidestyle3",version:1,name:"Scafold Side",origin:{license:"",credits:"",url:""},props:{material:{id:"T_steel_01"}},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/ScafoldSideStyle3_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/ScafoldSideStyle3.ply",normalized:!0,equalize:!1,geometryType:"ConcaveGeometry",alter:{scale:2}},Scafoldwedge2:{id:"Scafoldwedge2",version:1,name:"Scafold Wedge",origin:{license:"",credits:"",url:""},props:{material:{id:"T_steel_01"}},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/ScafoldWedge2_thumb2.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/ScafoldWedge2.ply",normalized:!0,equalize:!0,geometryType:"ConcaveGeometry",alter:{scale:2}},Scafoldwalk:{id:"Scafoldwalk",version:1,name:"Scafold Walk",origin:{license:"",credits:"",url:""},props:{material:{id:"T_steel_01"}},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/ScafoldWalk_thumb3.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/ScafoldWalk.ply",normalized:!0,equalize:!0,geometryType:"ConcaveGeometry",alter:{scale:2}},Scafoldcatwalk:{id:"Scafoldcatwalk",version:1,name:"Scafold Cat Walk",origin:{license:"",credits:"",url:""},props:{material:{id:"T_steel_01"}},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/ScafoldCatWalk_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/ScafoldCatWalk.ply",normalized:!0,equalize:!1,geometryType:"ForceConcaveGeometry",alter:{scale:2}},Scafoldsidestyle2:{id:"Scafoldsidestyle2",version:1,name:"Scafold Side",origin:{license:"",credits:"",url:""},props:{material:{id:"T_steel_01"}},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/ScafoldSideStyle2_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/ScafoldSideStyle2.ply",normalized:!0,equalize:!1,geometryType:"ConcaveGeometry",alter:{scale:2}},ScafoldX:{id:"ScafoldX",version:1,name:"Truss xblox",origin:{license:"",credits:"",url:""},props:{material:{id:"T_steel_01"}},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/ScafoldX_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/ScafoldX.ply",normalized:!0,equalize:!1,geometryType:"ForceConcaveGeometry",alter:{scale:2}},Scafold:{id:"Scafold",version:1,name:"Truss Block",origin:{license:"",credits:"",url:""},props:{material:{id:"T_steel_01"}},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Scafold_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Scafold.ply",normalized:!0,equalize:!0,geometryType:"ConcaveGeometry",alter:{scale:2}},Scafoldside:{id:"Scafoldside",version:1,name:"Scafold Side",origin:{license:"",credits:"",url:""},props:{material:{id:"T_steel_01"}},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/ScafoldSide_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/ScafoldSide.ply",normalized:!0,equalize:!1,geometryType:"ConcaveGeometry",alter:{scale:2}},Gravestone1:{id:"Gravestone1",version:1,name:"Gravestone 1",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/gravestone1_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/gravestone1.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1.5}},Gravestone2:{id:"Gravestone2",version:1,name:"Gravestone 2",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Gravestone2_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Gravestone2.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1.5}},Swirl3:{id:"Swirl3",version:1,name:"Swirly hill",origin:{license:"",credits:"",url:""},props:{material:{id:""}},category:"seasonal",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Swirl3_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Swirl3.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3}},Swirl:{id:"Swirl",version:1,name:"Swirl",origin:{license:"",credits:"",url:""},props:{},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Swirl_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Swirl.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2}},Marblepillar:{id:"Marblepillar",version:1,name:"Marble Pillar",origin:{license:"",credits:"",url:""},props:{},category:"basic",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/MarblePillar_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/MarblePillar.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},Boombox:{id:"Boombox",version:1,name:"BoomBox",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/BoomBox_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/BoomBox.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},Burgerhel:{id:"Burgerhel",version:1,name:"Burger",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},category:"food",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/BurgerHel_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/BurgerHel.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},Alienflower:{id:"Alienflower",version:1,name:"Alien Flower",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/AlienFlower_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/AlienFlower.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1.5}},Sword:{id:"Sword",version:1,name:"Sword",origin:{license:"",credits:"",url:""},props:{material:{id:"Metal_Metal_dented_001"}},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Sword_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Sword.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},Pumpkin:{id:"Pumpkin",version:1,name:"Halloween Pumpkin",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},category:"seasonal",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Pumpkin_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Pumpkin.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},Spiraltree4:{id:"Spiraltree4",version:1,name:"Twisted tree",origin:{license:"",credits:"",url:""},props:{material:{id:"pbr_bark1_bark1"}},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/SpiralTree4_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/SpiralTree4.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3}},Handtree3:{id:"Handtree3",version:1,name:"Ghost Tree",origin:{license:"",credits:"",url:""},props:{material:{id:"pbr_bark1_bark1"}},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/HandTree3_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/HandTree3.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3}},Deadtreenohooks:{id:"Deadtreenohooks",version:1,name:"Dead Tree 2",origin:{license:"",credits:"",url:""},props:{material:{id:"pbr_bark1_bark1"}},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/DeadTreeNoHooks_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/DeadTreeNoHooks.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3}},Coralltree:{id:"Coralltree",version:1,name:"Corall tree",origin:{license:"",credits:"",url:""},props:{material:{id:"pbr_bark1_bark1"}},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Coralltree_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Coralltree.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3}},Coffin:{id:"Coffin",version:1,name:"Coffin",origin:{license:"",credits:"",url:""},props:{material:{id:"Wood_Wood_bare_001"}},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Coffin_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Coffin.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1.5}},Coffinempty:{id:"Coffinempty",version:1,name:"Empty Coffin",origin:{license:"",credits:"",url:""},props:{material:{id:"Wood_Wood_bare_001"}},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/CoffinEmpty_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/CoffinEmpty.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1.5}},Coffinlid:{id:"Coffinlid",version:1,name:"Coffin Lid",origin:{license:"",credits:"",url:""},props:{material:{id:"Wood_Wood_bare_001"}},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/CoffinLid_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/CoffinLid.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1.5}},Archlike:{id:"Archlike",version:1,name:"Archlike",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_rock_021"}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Archlike_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Archlike.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2}},Archlike2:{id:"Archlike2",version:1,name:"Archlike 2",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_rock_021"}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Archlike2_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Archlike2.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2}},Floatingisland:{id:"Floatingisland",version:1,name:"FloatingIsland",origin:{license:"",credits:"",url:""},props:{material:{id:"Stone_Stone_Floor_003"}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/FloatingIsland_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/FloatingIsland.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:4}},Floatingisland2:{id:"Floatingisland2",version:1,name:"FloatingIsland2",origin:{license:"",credits:"",url:""},props:{material:{id:"Stone_Stone_Floor_003"}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/FloatingIsland2_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/FloatingIsland2.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:4}},Floatingisland3:{id:"Floatingisland3",version:1,name:"FloatingIsland3",origin:{license:"",credits:"",url:""},props:{material:{id:"Stone_Stone_Floor_003"}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/FloatingIsland3_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/FloatingIsland3.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:4}},Mountain:{id:"Mountain",version:1,name:"Mountain",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_rock_021"}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Mountain_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Mountain.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:4}},Mountain2:{id:"Mountain2",version:1,name:"Mountain 2",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_rock_021"}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Mountain2_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Mountain2.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:4}},Boulder:{id:"Boulder",version:1,name:"Boulder",origin:{license:"CC-BY 3.0",credits:"Google",url:"https://poly.google.com/view/3jql0qtape-"},props:{material:{id:"Rough_Rough_rock_021"}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Boulder_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/poly/Boulder.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1.5}},Boulder2:{id:"Boulder2",version:1,name:"Boulder 2",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_rock_021"}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Boulder2_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Boulder2.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1.5}},Boulder3:{id:"Boulder3",version:1,name:"Boulder 3",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_rock_021"}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Boulder3_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Boulder3.ply",normalized:!0,geometryType:"",alter:{scale:1.5}},Boulder4:{id:"Boulder4",version:1,name:"Boulder 4",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_rock_021"}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Boulder4_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Boulder4.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1.5}},Boulder5:{id:"Boulder5",version:1,name:"Boulder5",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_rock_021"}},category:"rocky",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Boulder5_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Boulder5.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1.5}},Pipe906:{id:"Pipe906",props:{material:{id:"Metal_p_Metal_plate_003"}},version:1,name:"Pipe 90",origin:{license:"CC-BY 3.0",credits:"Palinus",url:"https://palinus.graphics/"},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/pipe90_7_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/pipe90_6_fix1.ply",normalized:!1,uvScale:3,geometryType:"ConcaveGeometry",alter:{scale:4}},Needahand:{id:"Needahand",version:1,name:"Needahand",origin:{license:"",credits:"",url:""},props:{material:{id:"Black_Black_Marble_001"}},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Needahand_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Needahand.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1}},Pipe:{id:"Pipe",props:{material:{id:"Metal_p_Metal_plate_003"}},version:1,name:"Pipe",origin:{license:"CC-BY 3.0",credits:"Palinus",url:"https://palinus.graphics/"},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/pipe_thumb2.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/pipe_fix6.ply",normalized:!1,uvScale:3,geometryType:"ConcaveGeometry",alter:{scale:2}},Lamp:{id:"Lamp",version:1,name:"Lamp",origin:{license:"CC-BY 3.0",credits:"Palinus",url:"https://palinus.graphics/"},category:"interiour",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Lamp.png",obj:"https://cdn.hibervr.com/3Dassets/artifacts/lamp.obj",normalized:!0,alter:{scale:1},props:{}},Plant:{id:"Plant",version:1,name:"Plant",origin:{license:"CC-BY 3.0",credits:"Alex SAFFY Safayan",url:"https://poly.google.com/view/bVepm2yfJTh"},category:"vegetation",thumbnail:"blocks/none.png",ply:"https://cdn.hibervr.com/3Dassets/poly/plant.ply",normalized:!0,alter:{scale:1},geometryType:"ConcaveGeometry",props:{}},FloatingIsland:{id:"FloatingIsland",version:1,name:"FloatingIsland",origin:{license:"CC-BY 3.0",credits:"Spirit Ambassador",url:"https://poly.google.com/view/8A2brXkO7ii"},category:"rocky",thumbnail:"blocks/none.png",ply:"https://cdn.hibervr.com/3Dassets/poly/wooden_island.ply",normalized:!0,uvScale:3,alter:{scale:5,rotation:{x:0,y:0,z:1.5707963267948966}},geometryType:"ConcaveGeometry",props:{material:{id:"Stone_Stone_Floor_003"}}},Sofa:{id:"Sofa",version:1,name:"Sofa",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/bwd4gui4RZ4"},category:"interiour",thumbnail:"blocks/none.png",ply:"https://cdn.hibervr.com/3Dassets/poly/sofa.ply",normalized:!0,alter:{scale:1},geometryType:"ConcaveGeometry",props:{}},Bench:{id:"Bench",version:1,name:"Bench",origin:{license:"CC-BY 3.0",credits:"Palinus",url:"https://palinus.graphics/"},category:"interiour",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Bench.png",obj:"https://cdn.hibervr.com/3Dassets/misc/bench.obj",normalized:!0,alter:{scale:1.5},geometryType:"ConcaveGeometry",props:{}},Bed:{id:"Bed",version:1,name:"Bed",origin:{license:"CC-BY 3.0",credits:"Palinus",url:"https://palinus.graphics/"},category:"interiour",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Bed2.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/bed2.ply",normalized:!0,alter:{scale:2},geometryType:"ConcaveGeometry",props:{material:{id:"vertexColor"}}},Apple:{id:"Apple",version:1,name:"Apple",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/4tOmpD9-xsV"},category:"food",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Apple2.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Apple4.ply",normalized:!0,alter:{scale:.5},geometryType:"ConvexGeometry",props:{material:{id:"vertexColor"}}},Pear:{id:"Pear",version:1,name:"Pear",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/3Mp-3PRh7Tb"},category:"food",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Pear2.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Pear3.ply",normalized:!0,alter:{scale:.5,rotation:{x:-1.5146726170398253,y:-.0018192287833690135,z:.2193975935075655}},geometryType:"ConvexGeometry",props:{material:{id:"vertexColor"}}},Gem:{id:"Gem",version:1,category:"gameplay",name:"Gem",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Gem.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/gem.obj",normalized:!0,alter:{scale:.75},geometryType:"ConvexGeometry",props:{material:{id:"gem"}}},Landscape1:{id:"Landscape1",version:1,category:"landscape",name:"Landscape1",thumbnail:"blocks/Box.png",obj:"https://cdn.hibervr.com/3Dassets/landscapes/bohusland.obj",normalized:!1,alter:{scale:{x:.04,y:.02,z:.04}},geometryType:"ConcaveGeometry",uvScale:3,props:{material:{id:"Stone_Floor_003"}}},Cave2:{id:"Cave2",version:1,category:"landscape",name:"Cave2",thumbnail:"blocks/Box.png",obj:"https://cdn.hibervr.com/3Dassets/landscapes/landscape_cave2.obj",normalized:!1,alter:{scale:1},geometryType:"ConcaveGeometry",props:{}},Cave4:{id:"Cave4",version:1,category:"landscape",name:"Cave4",thumbnail:"blocks/Box.png",obj:"https://cdn.hibervr.com/3Dassets/landscapes/landscape_cave4_2.obj",normalized:!1,alter:{scale:1},geometryType:"ConcaveGeometry",uvScale:3,props:{}},Smooth1:{id:"Smooth1",version:1,category:"landscape",name:"Smooth1",thumbnail:"blocks/Box.png",ply:"https://cdn.hibervr.com/3Dassets/landscapes/landscape_island_smooth1_4.ply",normalized:!1,alter:{scale:{x:.04,y:.03,z:.04}},geometryType:"ConcaveGeometry",uvScale:3,props:{}},SpawnPoint:{id:"SpawnPoint",version:1,category:"gameplay",name:"SpawnPoint",thumbnail:"blocks/Pyramid.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/pyramid.obj",normalized:!0,alter:{scale:.8,rotation:{x:0,y:3.141592653589793,z:.7853981633974483}},geometryType:"ConvexGeometry",props:{material:{id:"cyan"}}},BridgeTall:{id:"BridgeTall",version:1,name:"Bridge tall",origin:{license:"CC-BY 3.0",credits:"Palinus",url:"https://palinus.graphics/"},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/BridgeTall4.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/BridgeTall.obj",normalized:!0,alter:{scale:2},props:{material:{id:"BridgeWood"}}},LadderTall:{id:"LadderTall",version:1,name:"Ladder Tall",origin:{license:"CC-BY 3.0",credits:"Palinus",url:"https://palinus.graphics/"},category:"construction",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/ladder3.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/ladder2.obj",normalized:!0,alter:{scale:2},props:{material:{id:"BridgeWood"}}},DeadTree:{id:"DeadTree",props:{material:{id:"Stylized_Stylized_Bark_001"}},version:1,name:"Dead tree",origin:{license:"CC-BY 3.0",credits:"Palinus",url:"https://palinus.graphics/"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/deadTree.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/tree_2.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Unicorn:{id:"Unicorn",version:1,name:"Unicorn",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/212RNECqFCA"},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Unicorn.png",obj:"https://cdn.hibervr.com/3Dassets/artifacts/unicorn_2.obj",normalized:!0,alter:{scale:2}},Hand:{id:"Hand",version:1,name:"Hand",origin:{license:"CC-BY 3.0",credits:"John-010",url:"http://www.thingiverse.com/thing:31331"},category:"props",geometryType:"ConcaveGeometry",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Hand.png",obj:"https://cdn.hibervr.com/3Dassets/artifacts/hand_2.obj",normalized:!0,uvScale:1,alter:{scale:1.5}},BowlingPin:{id:"BowlingPin",version:1,name:"BowlingPin",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/0ZooEG4LdJF"},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/BowlingPin.png",obj:"https://cdn.hibervr.com/3Dassets/artifacts/bowlingPin.obj",normalized:!0,alter:{scale:1},geometryType:"ConvexGeometry"},EasterHead:{id:"EasterHead",props:{material:{id:"Rough_Rough_rock_015"}},version:1,name:"Easter Head",origin:{license:"CC-BY 3.0",credits:"ideawizard",url:"https://www.thingiverse.com/thing:2014635"},category:"props",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/EasterIslandHead2.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/easterhead_fixed_6.ply",normalized:!0,uvScale:2,geometryType:"ConcaveGeometry",alter:{scale:2,rotation:{x:0,y:0,z:0}}},Tree1:{id:"Tree1",props:{material:{id:"vertexColor"}},version:1,name:"Tree 1",origin:{license:"CC0 1.0",credits:"Joo Paulo",url:"https://3dshed.wordpress.com/2018/04/07/trees-pack-001/"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tree1.png",ply:"https://cdn.hibervr.com/3Dassets/trees/Tree_Pack_001_1.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Tree2:{id:"Tree2",props:{material:{id:"vertexColor"}},version:1,name:"Tree 2",origin:{license:"CC0 1.0",credits:"Joo Paulo",url:"https://3dshed.wordpress.com/2018/04/07/trees-pack-001/"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tree2.png",ply:"https://cdn.hibervr.com/3Dassets/trees/Tree_Pack_001_2.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Tree3:{id:"Tree3",props:{material:{id:"vertexColor"}},version:1,name:"Tree 3",origin:{license:"CC0 1.0",credits:"Joo Paulo",url:"https://3dshed.wordpress.com/2018/04/07/trees-pack-001/"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tree3.png",ply:"https://cdn.hibervr.com/3Dassets/trees/Tree_Pack_001_3.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Tree4:{id:"Tree4",props:{material:{id:"vertexColor"}},version:1,name:"Tree 4",category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tree4.png",ply:"https://cdn.hibervr.com/3Dassets/trees/Tree_Pack_001_4.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Tree5:{id:"Tree5",props:{material:{id:"vertexColor"}},version:1,name:"Tree 5",origin:{license:"CC0 1.0",credits:"Joo Paulo",url:"https://3dshed.wordpress.com/2018/04/07/trees-pack-001/"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tree5.png",ply:"https://cdn.hibervr.com/3Dassets/trees/Tree_Pack_001_5.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Tree6:{id:"Tree6",props:{material:{id:"vertexColor"}},version:1,name:"Tree 6",origin:{license:"CC0 1.0",credits:"Joo Paulo",url:"https://3dshed.wordpress.com/2018/04/07/trees-pack-001/"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tree6.png",ply:"https://cdn.hibervr.com/3Dassets/trees/Tree_Pack_001_6.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Tree7:{id:"Tree7",props:{material:{id:"vertexColor"}},version:1,name:"Tree 7",origin:{license:"CC0 1.0",credits:"Joo Paulo",url:"https://3dshed.wordpress.com/2018/04/07/trees-pack-001/"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tree7.png",ply:"https://cdn.hibervr.com/3Dassets/trees/Tree_Pack_001_7.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Tree8:{id:"Tree8",props:{material:{id:"vertexColor"}},version:1,name:"Tree 8",origin:{license:"CC0 1.0",credits:"Joo Paulo",url:"https://3dshed.wordpress.com/2018/04/07/trees-pack-001/"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tree8.png",ply:"https://cdn.hibervr.com/3Dassets/trees/Tree_Pack_001_8.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Tree9:{id:"Tree9",props:{material:{id:"vertexColor"}},version:1,name:"Tree 9",origin:{license:"CC0 1.0",credits:"Joo Paulo",url:"https://3dshed.wordpress.com/2018/04/07/trees-pack-001/"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tree9.png",ply:"https://cdn.hibervr.com/3Dassets/trees/Tree_Pack_001_9.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Tree10:{id:"Tree10",props:{material:{id:"vertexColor"}},version:1,name:"Tree 10",origin:{license:"CC0 1.0",credits:"Joo Paulo",url:"https://3dshed.wordpress.com/2018/04/07/trees-pack-001/"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tree10.png",ply:"https://cdn.hibervr.com/3Dassets/trees/Tree_Pack_001_10.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Tree11:{id:"Tree11",props:{material:{id:"vertexColor"}},version:1,name:"Tree 11",origin:{license:"CC0 1.0",credits:"Joo Paulo",url:"https://3dshed.wordpress.com/2018/04/07/trees-pack-001/"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tree11.png",ply:"https://cdn.hibervr.com/3Dassets/trees/Tree_Pack_001_11.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Tree12:{id:"Tree12",props:{material:{id:"vertexColor"}},version:1,name:"Tree 12",origin:{license:"CC0 1.0",credits:"Joo Paulo",url:"https://3dshed.wordpress.com/2018/04/07/trees-pack-001/"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tree12.png",ply:"https://cdn.hibervr.com/3Dassets/trees/Tree_Pack_001_12.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Tree13:{id:"Tree13",props:{material:{id:"vertexColor"}},version:1,name:"Tree 13",origin:{license:"CC0 1.0",credits:"Joo Paulo",url:"https://3dshed.wordpress.com/2018/04/07/trees-pack-001/"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tree13.png",ply:"https://cdn.hibervr.com/3Dassets/trees/Tree_Pack_001_13.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Tree14:{id:"Tree14",props:{material:{id:"vertexColor"}},version:1,name:"Tree 14",origin:{license:"CC0 1.0",credits:"Joo Paulo",url:"https://3dshed.wordpress.com/2018/04/07/trees-pack-001/"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tree14.png",ply:"https://cdn.hibervr.com/3Dassets/trees/Tree_Pack_001_14.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Cactus:{id:"Cactus",props:{material:{id:"vertexColor"}},version:1,name:"Cactus",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/1_3Ur2-LAs8"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Cactus.png",ply:"https://cdn.hibervr.com/3Dassets/poly/Saguaro.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2,rotation:{x:0,y:0,z:0}}},Mushroom:{id:"Mushroom",props:{material:{id:"vertexColor"}},version:1,name:"Mushroom",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/01h5sEA40Hp"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Mushroom.png",ply:"https://cdn.hibervr.com/3Dassets/poly/Mushroom_01.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1,rotation:{x:0,y:0,z:0}}},CoconutPalmTree:{id:"CoconutPalmTree",props:{material:{id:"vertexColor"}},version:1,name:"Palm Tree",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/bXUTyfiwqBb"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/CoconutPalmTree.png",ply:"https://cdn.hibervr.com/3Dassets/poly/CoconutPalmTree.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:3,rotation:{x:0,y:0,z:0}}},Aloe:{id:"Aloe",props:{material:{id:"vertexColor"}},version:1,name:"Aloe",origin:{license:"CC-BY 3.0",credits:"David Rohr",url:"https://poly.google.com/view/3tQOt7TEHTP"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Aloe.png",ply:"https://cdn.hibervr.com/3Dassets/poly/aloe_fixed.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2,rotation:{x:0,y:0,z:0}}},Tuft_of_grass:{id:"Tuft_of_grass",props:{material:{id:"vertexColor"}},version:1,name:"Tuft of grass",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/3tyh15Fbmsx"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Tuft_of_grass.png",ply:"https://cdn.hibervr.com/3Dassets/poly/Tuft_of_grass.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1,rotation:{x:0,y:0,z:0}}},Bamboo:{id:"Bamboo",props:{material:{id:"vertexColor"}},version:1,name:"Bamboo",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/auVD_m-ugF0"},category:"vegetation",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Bamboo.png",ply:"https://cdn.hibervr.com/3Dassets/poly/PUSHILIN_bamboo_fixed_3.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:2,rotation:{x:0,y:0,z:0}}},FloatingGhost:{id:"FloatingGhost",version:1,name:"Floating Ghost",category:"gameplay",origin:{license:"",credits:"",url:""},props:{material:{id:"white"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Ghost_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Ghost.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1.5}},StaticEnemy1:{id:"StaticEnemy1",version:1,name:"Static Skull Enemy",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_Marble_001"}},category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/HumanSkull_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/HumanSkull.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{}},StaticEnemy2:{id:"StaticEnemy2",version:1,name:"Static Eye Enemy",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/3u1-D_bdKpx"},props:{material:{id:"vertexColor"}},category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/CatEye_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/CatEye.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{rotation:{x:3.141592653589793,y:0,z:0}}},MovingEnemy1:{id:"MovingEnemy1",version:1,name:"Moving Skull Enemy",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_Marble_001"}},category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/HumanSkull_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/HumanSkull.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{}},MovingEnemy2:{id:"MovingEnemy2",version:1,name:"Moving Eye Enemy",origin:{license:"CC-BY 3.0",credits:"Poly by Google",url:"https://poly.google.com/view/3u1-D_bdKpx"},props:{material:{id:"vertexColor"}},category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/CatEye_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/CatEye.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{rotation:{x:3.141592653589793,y:0,z:0}}},MovePlatform1:{id:"MovePlatform1",version:1,name:"Moving Vertical",origin:{license:"",credits:"",url:""},props:{material:{}},category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Moving-Vertical.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/DamagedCube1.ply",normalized:!0,equalize:!0,geometryType:"ConvexGeometry",alter:{}},MovePlatform2:{id:"MovePlatform2",version:1,name:"Moving Horizontal",origin:{license:"",credits:"",url:""},props:{material:{}},category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Moving-Horizontal-2.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/DamagedCube1.ply",normalized:!0,equalize:!0,geometryType:"ConvexGeometry",alter:{}},RotatingPlatform1:{id:"RotatingPlatform1",version:1,name:"Rotating Platform",origin:{license:"",credits:"",url:""},props:{material:{}},category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/RotatingLRPlatform.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/DamagedCube1.ply",normalized:!0,equalize:!0,geometryType:"ConvexGeometry",alter:{}},RotatingPlatform2:{id:"RotatingPlatform2",version:1,name:"Rotating Platform 2",origin:{license:"",credits:"",url:""},props:{material:{}},category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/RotatingPlatform2.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/DamagedCube1.ply",normalized:!0,equalize:!0,geometryType:"ConvexGeometry",alter:{}},RotatingPipe:{id:"RotatingPipe",props:{material:{id:"Metal_p_Metal_plate_003"}},version:1,name:"Rotating Pipe",origin:{license:"CC-BY 3.0",credits:"Palinus",url:"https://palinus.graphics/"},category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/RotatingPipe.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/pipe_fix6.ply",normalized:!1,uvScale:3,geometryType:"ForceConcaveGeometry",alter:{scale:2,rotation:{x:1.5707963267948966}}},BigRotatingPipe:{id:"BigRotatingPipe",props:{material:{id:"Metal_p_Metal_plate_003"}},version:1,name:"Rotating Pipe Big Slow",origin:{license:"CC-BY 3.0",credits:"Palinus",url:"https://palinus.graphics/"},category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/RotatingPipe.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/pipe_fix6.ply",normalized:!1,uvScale:3,geometryType:"ForceConcaveGeometry",alter:{scale:5,rotation:{x:1.5707963267948966}}},CrushingPillar:{id:"CrushingPillar",version:1,name:"Crushing Pillar",origin:{license:"",credits:"",url:""},props:{material:{id:"Metal_Metal_scratched_003"}},category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/MarblePillar_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/MarblePillar.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:{x:1.5,y:2,z:1.5}}},ExplodingBarrelsSpawner:{id:"ExplodingBarrelsSpawner",version:1,name:"Exploding Barrel Spawner",origin:{license:"",credits:"",url:""},category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Barrel_thumb.png",obj:"https://cdn.hibervr.com/3Dassets/artifacts/Barrel.obj",normalized:!0,alter:{scale:1},props:{material:{id:"BridgeWood"}}},EnemySpawner:{id:"EnemySpawner",version:1,name:"Moving Skull Enemy Spawner",origin:{license:"",credits:"",url:""},props:{material:{id:"Rough_Rough_Marble_001"}},category:"gameplay",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/HumanSkull_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/HumanSkull.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{}},Fire:{id:"Fire",version:1,category:"gameplay",name:"Fire",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/particle-fire.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/pyramid.obj",normalized:!0,alter:{scale:1,rotation:{x:1.5707963267948966}},props:{material:{id:"black"}}},Teleporter:{id:"Teleporter",version:1,category:"gameplay",name:"Teleporter",thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/teleporter_thumb.jpg",obj:"https://cdn.hibervr.com/3Dassets/blocks/pyramid.obj",normalized:!0,alter:{scale:1,rotation:{x:1.5707963267948966}},props:{material:{id:"black"}}},HealthPickup:{id:"HealthPickup",version:1,name:"Health Pickup",category:"gameplay",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Heart_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Heart.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},DamageBuff:{id:"DamageBuff",version:1,name:"Minor Damage Buff Pickup",category:"gameplay",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Pumpkin_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Pumpkin.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},MaxDamageBuff:{id:"MaxDamageBuff",version:1,name:"Greater Damage Buff Pickup",category:"gameplay",origin:{license:"",credits:"",url:""},props:{material:{id:"vertexColor"}},thumbnail:"https://cdn.hibervr.com/thumbs/artifacts/Pumpkin_thumb.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/Pumpkin.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1}},ToiletOpen:{id:"ToiletOpen",version:1,name:"Open Toilet",origin:{license:"",credits:"",url:""},category:"interiour",thumbnail:"https://cdn.hibervr.com/thumbnails/63/ef6755433e78a700614f47ff62f66d3e.512.png",ply:"https://cdn.hibervr.com/artifacts/63/4fb0fe2cfad3e83bf48eb2fcddbec766e32671a9f5e44773e6949e328b6cc185f1205dc1b22cfb2ae4939d631dd4a6ec611c9089d8ef2ffe06b6d0b19293cd6f/Toilet_hollow.ply",normalized:!0,alter:{scale:1},geometryType:"ConcaveGeometry",props:{material:{id:"white"}}},Sink:{id:"Sink",version:1,name:"Sink",origin:{license:"",credits:"",url:""},category:"interiour",thumbnail:"https://cdn.hibervr.com/thumbnails/63/91b2a8ade1bf19da2ab240a2e16d116c.512.png",ply:"https://cdn.hibervr.com/artifacts/63/b7805c53f3cf1bb8c5a7c9361cd4eab6.ply",normalized:!0,alter:{scale:1},geometryType:"ConcaveGeometry",props:{material:{id:"white"}}},Window1:{id:"Window1",props:{},version:1,name:"Paned Window",category:"interiour",thumbnail:"https://cdn.hibervr.com/thumbs/blocks/WindowPaned.png",ply:"https://cdn.hibervr.com/3Dassets/blocks/window_fixed_1.ply",normalized:!0,geometryType:"ConcaveGeometry",alter:{scale:1,rotation:{x:0,y:0,z:0}}},Window2:{id:"Window2",props:{},version:1,name:"Simple Window",category:"interiour",thumbnail:"https://cdn.hibervr.com/thumbs/blocks/WindowSimple.png",ply:"https://cdn.hibervr.com/3Dassets/blocks/window2_fixed_1.ply",normalized:!0,geometryType:"ForceConcaveGeometry",alter:{scale:1,rotation:{x:0,y:0,z:0}}},Cupola:{id:"Cupola",version:1,category:"basic",name:"Cupola",thumbnail:"https://cdn.hibervr.com/thumbs/blocks/Cupola.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/cupola.obj",normalized:!0,alter:{rotation:{x:-1.5707963267948966,y:0,z:0}}},HalfArch:{id:"HalfArch",version:1,category:"basic",name:"Half Arch",thumbnail:"https://cdn.hibervr.com/thumbs/blocks/HalfArch.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/halfArch.obj",normalized:!0,alter:{rotation:{x:0,y:0,z:0}}},HalfCylinder:{id:"HalfCylinder",version:1,category:"basic",name:"Half Cylinder",thumbnail:"https://cdn.hibervr.com/thumbs/blocks/HalfCylinder.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/halfCylinder.obj",normalized:!0,alter:{rotation:{x:0,y:1.5707963267948966,z:0}}},HalfDome:{id:"HalfDome",version:1,category:"basic",name:"Quarter Sphere",thumbnail:"https://cdn.hibervr.com/thumbs/blocks/QuarterSphere.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/halfDome.obj",normalized:!0,alter:{rotation:{x:0,y:0,z:0}}},HalfVault:{id:"HalfVault",version:1,category:"basic",name:"Half Vault",thumbnail:"https://cdn.hibervr.com/thumbs/blocks/HalfVault.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/halfVault.obj",normalized:!0,alter:{rotation:{x:1.5707963267948966,y:-1.5707963267948966,z:0}}},Pyramid:{id:"Pyramid",version:1,category:"basic",name:"Pyramid",thumbnail:"https://cdn.hibervr.com/thumbs/blocks/Pyramid.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/pyramid.obj",normalized:!0,geometryType:"ConvexGeometry",alter:{rotation:{x:-1.5707963267948966,y:0,z:0}}},QuarterCylinder:{id:"QuarterCylinder",version:1,category:"basic",name:"Quarter Cylinder",thumbnail:"https://cdn.hibervr.com/thumbs/blocks/QuarterCylinder.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/quarterCylinder.obj",normalized:!0,geometryType:"ConvexGeometry",alter:{rotation:{x:-1.5707963267948966,y:0,z:0}}},Roof:{id:"Roof",version:1,category:"basic",name:"Triangle",thumbnail:"https://cdn.hibervr.com/thumbs/blocks/Triangle.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/roof.obj",normalized:!0,geometryType:"ConvexGeometry",alter:{rotation:{x:-1.5707963267948966,y:0,z:0}}},Stair:{id:"Stair",version:1,category:"basic",name:"Stair",thumbnail:"https://cdn.hibervr.com/thumbs/blocks/Stair.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/stair3Step2.obj",normalized:!0,geometryType:"ConcaveGeometry",alter:{rotation:{x:0,y:-3.141592653589793,z:0}}},VaultedWall:{id:"VaultedWall",version:1,category:"basic",name:"Vaulted Wall",thumbnail:"https://cdn.hibervr.com/thumbs/blocks/Box.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/vaultedWall.obj",normalized:!0,alter:{scale:2,rotation:{x:-1.5707963267948966,y:0,z:0}}},Wedge:{id:"Wedge",version:1,category:"basic",name:"Wedge",thumbnail:"https://cdn.hibervr.com/thumbs/blocks/Wedge.png",obj:"https://cdn.hibervr.com/3Dassets/blocks/wedge2.obj",normalized:!0,geometryType:"ConvexGeometry",alter:{rotation:{x:1.5707963267948966,y:0,z:3.141592653589793}}},HalfSphere:{id:"HalfSphere",version:1,category:"basic",name:"Half Sphere",thumbnail:"https://cdn.hibervr.com/thumbs/blocks/HalfSphere.png",ply:"https://cdn.hibervr.com/3Dassets/artifacts/HalfSphere.ply",normalized:!0,geometryType:"ConvexGeometry",alter:{scale:1,rotation:{x:0,y:0,z:0}}},drone1:{version:2,listed:!1,name:"Drone",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_block_01_dark.jpg",category:"drone",gltf:"https://cdn.hibervr.com/artifacts/glb/W_drone_starter.glb",geometryType:"ConvexGeometry",props:{material:{}},ply:""},drone_starter:{version:2,listed:!1,name:"Drone Starter",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_block_01_dark.jpg",category:"drone",gltf:"https://cdn.hibervr.com/3Dassets/drones/W_droneStarter_01_LOD1.glb",geometryType:"ConvexGeometry",props:{material:{id:"W_droneStarter_01_LOD1",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},ply:""},drone_rapid_fire:{version:2,listed:!1,name:"Drone Rapid Fire",thumbnail:"https://cdn.hibervr.com/thumbs/assets/W_pepprer_01_dark.jpg",category:"drone",gltf:"https://cdn.hibervr.com/3Dassets/drones/W_dronePepprer_01_LOD1.glb",geometryType:"ConvexGeometry",props:{material:{id:"W_dronePepprer_01_LOD1",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},ply:""},drone_upgrade:{version:2,listed:!1,name:"Drone Upgrade",thumbnail:"https://cdn.hibervr.com/thumbs/assets/W_upgrade_01_dark.jpg",category:"drone",gltf:"https://cdn.hibervr.com/3Dassets/drones/W_droneUpgrade_01.glb",geometryType:"ConvexGeometry",props:{material:{id:"W_droneUpgrade_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},ply:""},drone_long_range:{version:2,listed:!1,name:"Drone Long Range",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_block_01_dark.jpg",category:"drone",gltf:"https://cdn.hibervr.com/3Dassets/drones/W_droneRanged_01.glb",geometryType:"ConvexGeometry",props:{material:{id:"W_droneRanged_01",uvType:i.AutoUVMapping.NONE,vertexColors:!1}},ply:""},drone_04:{version:2,listed:!1,name:"Drone Long Range 2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_block_01_dark.jpg",category:"drone",gltf:"https://cdn.hibervr.com/3Dassets/drones/W_drone_04.glb",geometryType:"ConvexGeometry",props:{material:{}},ply:""},drone_stand_01:{version:2,listed:!1,name:"Drone Stand",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_block_01_dark.jpg",category:"drone",gltf:"https://cdn.hibervr.com/3Dassets/drones/GPL_weaponSpawner_01.glb",geometryType:"ConvexGeometry",props:{material:{}},ply:""},drone_stand_02:{version:2,listed:!1,name:"Drone Stand 2",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_block_01_dark.jpg",category:"drone",gltf:"https://cdn.hibervr.com/3Dassets/drones/GPL_weaponSpawner_02.glb",geometryType:"ConvexGeometry",props:{material:{}},ply:""},drone_stand_03:{version:2,listed:!1,name:"Drone Stand 03",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_block_01_dark.jpg",category:"drone",gltf:"https://cdn.hibervr.com/3Dassets/drones/GPL_weaponSpawner_03.glb",geometryType:"ConvexGeometry",props:{material:{}},ply:""},drone_stand_04:{version:2,listed:!1,name:"Drone Stand 04",thumbnail:"https://cdn.hibervr.com/thumbs/assets/EN_M_block_01_dark.jpg",category:"drone",gltf:"https://cdn.hibervr.com/3Dassets/drones/GPL_weaponSpawner_04.glb",geometryType:"ConvexGeometry",props:{material:{}},ply:""}};n.default=o},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.AutoUVMapping=n.BlendingMode=n.Side=void 0;const y=a(24),_=a(26),w=a(19);var E,j,q;!function(r){r[r.FrontSide=0]="FrontSide",r[r.BackSide=1]="BackSide",r[r.DoubleSide=2]="DoubleSide"}(E=n.Side||(n.Side={})),function(r){r[r.NoBlending=0]="NoBlending",r[r.AdditiveBlending=2]="AdditiveBlending"}(j=n.BlendingMode||(n.BlendingMode={})),function(r){r[r.NONE=0]="NONE",r[r.BOX_MAPPING=1]="BOX_MAPPING"}(q=n.AutoUVMapping||(n.AutoUVMapping={}));class MaterialComponent extends y.default{constructor(){super(...arguments),this.material="plastic",this.vertexColors=!0,this.uvType=q.BOX_MAPPING,this.uvScale=1,this.color=new w.Color(1,1,1),this.colorStrength=1,this.opacity=1,this.blending=j.NoBlending,this.side=E.FrontSide}}MaterialComponent.componentName="material",o([_.Property({inspector:"Material",inspectorOptions:{hideDisplayName:!0}}),s("design:type",String)],MaterialComponent.prototype,"material",void 0),o([_.Property({inspectorOptions:{displayName:"Default Colors"}}),s("design:type",Boolean)],MaterialComponent.prototype,"vertexColors",void 0),o([_.Property({inspector:"Select",inspectorOptions:{enum:q},advanced:!0}),s("design:type",Number)],MaterialComponent.prototype,"uvType",void 0),o([_.Property({inspector:"Range",inspectorOptions:{displayName:"Material Scale",min:1,max:20,step:1}}),s("design:type",Number)],MaterialComponent.prototype,"uvScale",void 0),o([_.Property(),s("design:type","function"==typeof(i=void 0!==w.Color&&w.Color)?i:Object)],MaterialComponent.prototype,"color",void 0),o([_.Property({inspector:"Range",inspectorOptions:{min:0,max:3,step:.01}}),s("design:type",Number)],MaterialComponent.prototype,"colorStrength",void 0),o([_.Property({inspector:"Range",inspectorOptions:{min:.1,max:1,step:.1},advanced:!0}),s("design:type",Number)],MaterialComponent.prototype,"opacity",void 0),o([_.Property({inspector:"Select",inspectorOptions:{enum:j},advanced:!0}),s("design:type",Number)],MaterialComponent.prototype,"blending",void 0),o([_.Property({inspector:"Select",inspectorOptions:{enum:E},advanced:!0}),s("design:type",Number)],MaterialComponent.prototype,"side",void 0),n.default=MaterialComponent},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(11),y=a(25),_=a(19),w=a(26);class Component{constructor(){this.commandQueue=[],this.hash=0,this.enabled=!0,this.entityId=0,this.metdata=Reflect.getMetadata("ecs:props",this),this.propertyKeys=Object.keys(this.metdata||{})}get id(){return this.constructor.id}get name(){return this.constructor.componentName}get displayName(){return this.constructor.displayName}getBitSize(){return 0}getSize(){return Math.ceil(this.getBitSize()/8)}serialize(r,n=0){return 0}deserialize(r,n=0){return 0}init(){}reset(){}getMetadata(){return this.metdata}getPropertyKeys(){return this.propertyKeys}getHash(){const r=this.metdata,n=Object.keys(r||{});let a=0;for(let r=0,i=n.length;r<i;++r){const i=this[n[r]];let o=0;if(null!==i){switch(typeof i){case"object":o+=y.default(i);break;case"number":o+=100*i+.5<<0;break;case"string":o+=s.default(i);break;case"boolean":o+=i}a=(a<<5)-a+o,a&=a}}return this.hash=a,a}toJSON(r){const n=this.metdata,a=this.propertyKeys,i={id:this.id,entityId:this.entityId,enabled:this.enabled,hash:this.getHash()};for(let o=0,s=a.length;o<s;++o){const s=a[o],y=n[s],w=this[s],E=y.type;r&&!r.includes(s)||(E===_.Quaternion?i[s]={x:w.x,y:w.y,z:w.z,w:w.w}:E===_.Vector3?i[s]={x:w.x,y:w.y,z:w.z}:E===_.Vector2?i[s]={x:w.x,y:w.y}:E===_.Color?i[s]={r:w.r,g:w.g,b:w.b}:E.BYTES_PER_ELEMENT?i[s]=Array.from(w):i[s]="object"==typeof w?JSON.parse(JSON.stringify(w)):w)}return i}fromComponent(r){const n=this.metdata;if(!n)return;const a=this.propertyKeys;for(let i=0,o=a.length;i<o;++i){const o=a[i];if(void 0===this[o])continue;const{type:s}=n[o];s===Number||s===String||s===Boolean?this[o]=r[o]:s.BYTES_PER_ELEMENT?(this[o]=new s(r[o].length),this[o].set(r[o])):Array.isArray(this[o])?this[o]=JSON.parse(JSON.stringify(r[o])):this[o]&&this[o].copy(r[o])}this.hash=r.hash}fromJSON(r){const n=this.metdata;if(n&&r){for(const a of Object.keys(r)){const i=n[a];if(!i)continue;const{type:o}=i;o===Number||o===String||o===Boolean?this[a]=r[a]:o.BYTES_PER_ELEMENT?(this[a]=new o(r[a].length),this[a].set(r[a])):o===_.Color&&"number"==typeof r[a]?this[a].set(r[a]):Array.isArray(this[a])?this[a]=JSON.parse(JSON.stringify(r[a])):this[a].buffer?this[a]=r[a]:this[a]&&this[a].copy(r[a])}this.getHash()}}}Component.id=0,Component.isComponent=!0,Component.isBehaviour=!1,i([w.Property({inspector:!1}),o("design:type",Boolean)],Component.prototype,"enabled",void 0),n.default=Component},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(11),quickHash=(r,n)=>{const a=Object.keys(r);let o=0;for(let s=0,y=a.length;s<y;++s){const y=r[a[s]];let _=0;if(n){let r=!1;for(let i=0;i<n.length;i++)if(a[s]===n[i]){r=!0;break}if(r)continue}if(null!==y){switch(typeof y){case"object":_+=quickHash(y,n);break;case"number":_+=Math.round(100*y);break;case"string":_+=i.default(y);break;case"boolean":_+=y}o=(o<<5)-o+_,o&=o}}return o};n.default=quickHash},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Property=void 0,n.Property=function Property(r,n={}){return(a,i)=>{let o=Reflect.getMetadata("design:type",a,i);const s=Reflect.getMetadata("ecs:props",a)||{};"function"==typeof r?o=r:r&&(n=r),o&&"Object"===o.name&&(o=Number),Reflect.defineMetadata("ecs:props",Object.assign(Object.assign({},s),{[i]:{type:o,config:Object.assign({},n)}}),a)}}},function(r,n,a){"use strict";a.r(n);var i=a(19),o=a(18);const s=function(){function _translate(r,n){for(let a=0;a<r.vertices.length;a++)r.vertices[a].add(n);return r.__dirtyVertices=!0,this}function _middlePoint(r){r.computeBoundingBox();const n=new i.Vector3;return n.x=(r.boundingBox.max.x+r.boundingBox.min.x)/2,n.y=(r.boundingBox.max.y+r.boundingBox.min.y)/2,n.z=(r.boundingBox.max.z+r.boundingBox.min.z)/2,n}return{resizeByBaseSize:function _resizeByBaseSize(r,n){const a=s.getSize(r);let i=1/Math.max(a.x,a.y,a.z);i=o.default.getXYZ(i,!0),n&&(n=o.default.getXYZ(n),i.multiply(n)),o.default.alterGeometry(r.geometry,{scale:i}),r.geometry.needsUpdate=!0},getSize:function _getSize(r,n){return r.geometry.boundingBox||r.geometry.computeBoundingBox(),n||(n=new i.Vector3),r.geometry.boundingBox.getSize(n),n.multiply(r.scale),n},getRadius:function _getRadius(r){return r.geometry.boundingSphere||r.geometry.computeBoundingSphere(),r.geometry.boundingSphere.radius},translate:_translate,flipNormals:function _flipNormals(r){for(let n=0;n<r.faces.length;n++){const a=r.faces[n],i=a.a;a.a=a.c,a.c=i}return r},middlePoint:_middlePoint,center:function _center(r,n,a,o){const s=_middlePoint(r).negate();if(n&&(s.x=0),a&&(s.y=0),o&&(s.z=0),r.attributes){const n=new i.Matrix4;n.setPosition(s),r.attributes.position.applyMatrix4(n)}else _translate(r,s)},toScreenXY:function _toScreenXY(r,n,a){const o=r.clone(),s=new i.Matrix4;return s.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),o.applyProjection(s),{x:(o.x+1)*a.width()/2+a.offset().left,y:(1-o.y)*a.height()/2+a.offset().top}},equalize:function _equalize(r){const n=s.getSize(r),a=Math.max(n.x,n.y,n.z),i={x:1,y:1,z:1};n.x!==a&&(i.x=a/n.x),n.y!==a&&(i.y=a/n.y),n.z!==a&&(i.z=a/n.z),o.default.alterGeometry(r.geometry,{scale:i}),r.geometry.needsUpdate=!0}}}();n.default=s},function(r,n,a){"use strict";a.r(n),a.d(n,"GLTFLoader",(function(){return o}));var i=a(19),o=function(){function GLTFLoader(r){i.Loader.call(this,r),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.pluginCallbacks=[],this.register((function(r){return new GLTFMaterialsClearcoatExtension(r)})),this.register((function(r){return new GLTFTextureBasisUExtension(r)})),this.register((function(r){return new GLTFMaterialsTransmissionExtension(r)}))}function GLTFRegistry(){var r={};return{get:n=>r[n],add(n,a){r[n]=a},remove(n){delete r[n]},removeAll(){r={}}}}GLTFLoader.prototype=Object.assign(Object.create(i.Loader.prototype),{constructor:GLTFLoader,load(r,n,a,o){var s,y=this;s=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:i.LoaderUtils.extractUrlBase(r),y.manager.itemStart(r);var _onError=function(n){o?o(n):console.error(n),y.manager.itemError(r),y.manager.itemEnd(r)},_=new i.FileLoader(y.manager);_.setPath(this.path),_.setResponseType("arraybuffer"),_.setRequestHeader(this.requestHeader),"use-credentials"===y.crossOrigin&&_.setWithCredentials(!0),_.load(r,(function(a){try{y.parse(a,s,(function(a){n(a),y.manager.itemEnd(r)}),_onError)}catch(r){_onError(r)}}),a,_onError)},setDRACOLoader(r){return this.dracoLoader=r,this},setDDSLoader(r){return this.ddsLoader=r,this},setKTX2Loader(r){return this.ktx2Loader=r,this},register(r){return-1===this.pluginCallbacks.indexOf(r)&&this.pluginCallbacks.push(r),this},unregister(r){return-1!==this.pluginCallbacks.indexOf(r)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(r),1),this},parse(a,o,s,y){var _,w={},E={};if("string"==typeof a)_=a;else if(i.LoaderUtils.decodeText(new Uint8Array(a,0,4))===n){try{w[r.KHR_BINARY_GLTF]=new GLTFBinaryExtension(a)}catch(r){return void(y&&y(r))}_=w[r.KHR_BINARY_GLTF].content}else _=i.LoaderUtils.decodeText(new Uint8Array(a));var j=JSON.parse(_);if(void 0===j.asset||j.asset.version[0]<2)y&&y(Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var q=new GLTFParser(j,{path:o||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader});q.fileLoader.setRequestHeader(this.requestHeader);for(var $=0;$<this.pluginCallbacks.length;$++){var ne=this.pluginCallbacks[$](q);E[ne.name]=ne,w[ne.name]=!0}if(j.extensionsUsed)for($=0;$<j.extensionsUsed.length;++$){var ie=j.extensionsUsed[$],oe=j.extensionsRequired||[];switch(ie){case r.KHR_LIGHTS_PUNCTUAL:w[ie]=new GLTFLightsExtension(j);break;case r.KHR_MATERIALS_UNLIT:w[ie]=new GLTFMaterialsUnlitExtension;break;case r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:w[ie]=new GLTFMaterialsPbrSpecularGlossinessExtension;break;case r.KHR_DRACO_MESH_COMPRESSION:w[ie]=new GLTFDracoMeshCompressionExtension(j,this.dracoLoader);break;case r.MSFT_TEXTURE_DDS:w[ie]=new GLTFTextureDDSExtension(this.ddsLoader);break;case r.KHR_TEXTURE_TRANSFORM:w[ie]=new GLTFTextureTransformExtension;break;case r.KHR_MESH_QUANTIZATION:w[ie]=new GLTFMeshQuantizationExtension;break;default:oe.indexOf(ie)>=0&&void 0===E[ie]&&console.warn('THREE.GLTFLoader: Unknown extension "'+ie+'".')}}q.setExtensions(w),q.setPlugins(E),q.parse(s,y)}}});var r={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function GLTFTextureDDSExtension(n){if(!n)throw Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=r.MSFT_TEXTURE_DDS,this.ddsLoader=n}function GLTFLightsExtension(n){this.name=r.KHR_LIGHTS_PUNCTUAL;var a=n.extensions&&n.extensions[r.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=a.lights||[]}function GLTFMaterialsUnlitExtension(){this.name=r.KHR_MATERIALS_UNLIT}function GLTFMaterialsClearcoatExtension(n){this.parser=n,this.name=r.KHR_MATERIALS_CLEARCOAT}function GLTFMaterialsTransmissionExtension(n){this.parser=n,this.name=r.KHR_MATERIALS_TRANSMISSION}function GLTFTextureBasisUExtension(n){this.parser=n,this.name=r.KHR_TEXTURE_BASISU}GLTFLightsExtension.prototype.loadLight=function(r){var n,a=this.lightDefs[r],o=new i.Color(16777215);void 0!==a.color&&o.fromArray(a.color);var s=void 0!==a.range?a.range:0;switch(a.type){case"directional":(n=new i.DirectionalLight(o)).target.position.set(0,0,-1),n.add(n.target);break;case"point":(n=new i.PointLight(o)).distance=s;break;case"spot":(n=new i.SpotLight(o)).distance=s,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,n.angle=a.spot.outerConeAngle,n.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,n.target.position.set(0,0,-1),n.add(n.target);break;default:throw Error('THREE.GLTFLoader: Unexpected light type, "'+a.type+'".')}return n.position.set(0,0,0),n.decay=2,void 0!==a.intensity&&(n.intensity=a.intensity),n.name=a.name||"light_"+r,Promise.resolve(n)},GLTFMaterialsUnlitExtension.prototype.getMaterialType=function(){return i.MeshBasicMaterial},GLTFMaterialsUnlitExtension.prototype.extendParams=function(r,n,a){var o=[];r.color=new i.Color(1,1,1),r.opacity=1;var s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){var y=s.baseColorFactor;r.color.fromArray(y),r.opacity=y[3]}void 0!==s.baseColorTexture&&o.push(a.assignTexture(r,"map",s.baseColorTexture))}return Promise.all(o)},GLTFMaterialsClearcoatExtension.prototype.getMaterialType=function(){return i.MeshPhysicalMaterial},GLTFMaterialsClearcoatExtension.prototype.extendMaterialParams=function(r,n){var a=this.parser,o=a.json.materials[r];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();var s=[],y=o.extensions[this.name];if(void 0!==y.clearcoatFactor&&(n.clearcoat=y.clearcoatFactor),void 0!==y.clearcoatTexture&&s.push(a.assignTexture(n,"clearcoatMap",y.clearcoatTexture)),void 0!==y.clearcoatRoughnessFactor&&(n.clearcoatRoughness=y.clearcoatRoughnessFactor),void 0!==y.clearcoatRoughnessTexture&&s.push(a.assignTexture(n,"clearcoatRoughnessMap",y.clearcoatRoughnessTexture)),void 0!==y.clearcoatNormalTexture&&(s.push(a.assignTexture(n,"clearcoatNormalMap",y.clearcoatNormalTexture)),void 0!==y.clearcoatNormalTexture.scale)){var _=y.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new i.Vector2(_,_)}return Promise.all(s)},GLTFMaterialsTransmissionExtension.prototype.getMaterialType=function(){return i.MeshPhysicalMaterial},GLTFMaterialsTransmissionExtension.prototype.extendMaterialParams=function(r,n){var a=this.parser,i=a.json.materials[r];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();var o=[],s=i.extensions[this.name];return void 0!==s.transmissionFactor&&(n.transmission=s.transmissionFactor),void 0!==s.transmissionTexture&&o.push(a.assignTexture(n,"transmissionMap",s.transmissionTexture)),Promise.all(o)},GLTFTextureBasisUExtension.prototype.loadTexture=function(r){var n=this.parser,a=n.json,i=a.textures[r];if(!i.extensions||!i.extensions[this.name])return null;var o=i.extensions[this.name],s=a.images[o.source],y=n.options.ktx2Loader;if(!y)throw Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return n.loadTextureImage(r,s,y)};var n="glTF";function GLTFBinaryExtension(a){this.name=r.KHR_BINARY_GLTF,this.content=null,this.body=null;var o=new DataView(a,0,12);if(this.header={magic:i.LoaderUtils.decodeText(new Uint8Array(a.slice(0,4))),version:o.getUint32(4,!0),length:o.getUint32(8,!0)},this.header.magic!==n)throw Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw Error("THREE.GLTFLoader: Legacy binary file detected.");for(var s=new DataView(a,12),y=0;y<s.byteLength;){var _=s.getUint32(y,!0);y+=4;var w=s.getUint32(y,!0);if(y+=4,1313821514===w){var E=new Uint8Array(a,12+y,_);this.content=i.LoaderUtils.decodeText(E)}else if(5130562===w){var j=12+y;this.body=a.slice(j,j+_)}y+=_}if(null===this.content)throw Error("THREE.GLTFLoader: JSON content not found.")}function GLTFDracoMeshCompressionExtension(n,a){if(!a)throw Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=r.KHR_DRACO_MESH_COMPRESSION,this.json=n,this.dracoLoader=a,this.dracoLoader.preload()}function GLTFTextureTransformExtension(){this.name=r.KHR_TEXTURE_TRANSFORM}function GLTFMeshStandardSGMaterial(r){i.MeshStandardMaterial.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var n={specular:{value:(new i.Color).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=n,this.onBeforeCompile=function(r){for(var a in n)r.uniforms[a]=n[a];r.fragmentShader=r.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;"),r.fragmentShader=r.fragmentShader.replace("uniform float metalness;","uniform float glossiness;"),r.fragmentShader=r.fragmentShader.replace("#include <roughnessmap_pars_fragment>","#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif"),r.fragmentShader=r.fragmentShader.replace("#include <metalnessmap_pars_fragment>","#ifdef USE_GLOSSINESSMAP\n\tuniform sampler2D glossinessMap;\n#endif"),r.fragmentShader=r.fragmentShader.replace("#include <roughnessmap_fragment>","vec3 specularFactor = specular;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\ttexelSpecular = sRGBToLinear( texelSpecular );\n\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture\n\tspecularFactor *= texelSpecular.rgb;\n#endif"),r.fragmentShader=r.fragmentShader.replace("#include <metalnessmap_fragment>","float glossinessFactor = glossiness;\n#ifdef USE_GLOSSINESSMAP\n\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );\n\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture\n\tglossinessFactor *= texelGlossiness.a;\n#endif"),r.fragmentShader=r.fragmentShader.replace("#include <lights_physical_fragment>","PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 );// 0.0525 corresponds to the base mip of a 256 cubemap.\nmaterial.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\nmaterial.specularColor = specularFactor.rgb;")},Object.defineProperties(this,{specular:{get:()=>n.specular.value,set(r){n.specular.value=r}},specularMap:{get:()=>n.specularMap.value,set(r){n.specularMap.value=r}},glossiness:{get:()=>n.glossiness.value,set(r){n.glossiness.value=r}},glossinessMap:{get:()=>n.glossinessMap.value,set(r){n.glossinessMap.value=r,r?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_ROUGHNESSMAP=""):(delete this.defines.USE_ROUGHNESSMAP,delete this.defines.USE_GLOSSINESSMAP)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(r)}function GLTFMaterialsPbrSpecularGlossinessExtension(){return{name:r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:()=>GLTFMeshStandardSGMaterial,extendParams(r,n,a){var o=n.extensions[this.name];r.color=new i.Color(1,1,1),r.opacity=1;var s=[];if(Array.isArray(o.diffuseFactor)){var y=o.diffuseFactor;r.color.fromArray(y),r.opacity=y[3]}if(void 0!==o.diffuseTexture&&s.push(a.assignTexture(r,"map",o.diffuseTexture)),r.emissive=new i.Color(0,0,0),r.glossiness=void 0!==o.glossinessFactor?o.glossinessFactor:1,r.specular=new i.Color(1,1,1),Array.isArray(o.specularFactor)&&r.specular.fromArray(o.specularFactor),void 0!==o.specularGlossinessTexture){var _=o.specularGlossinessTexture;s.push(a.assignTexture(r,"glossinessMap",_)),s.push(a.assignTexture(r,"specularMap",_))}return Promise.all(s)},createMaterial(r){var n=new GLTFMeshStandardSGMaterial(r);return n.fog=!0,n.color=r.color,n.map=void 0===r.map?null:r.map,n.lightMap=null,n.lightMapIntensity=1,n.aoMap=void 0===r.aoMap?null:r.aoMap,n.aoMapIntensity=1,n.emissive=r.emissive,n.emissiveIntensity=1,n.emissiveMap=void 0===r.emissiveMap?null:r.emissiveMap,n.bumpMap=void 0===r.bumpMap?null:r.bumpMap,n.bumpScale=1,n.normalMap=void 0===r.normalMap?null:r.normalMap,n.normalMapType=i.TangentSpaceNormalMap,r.normalScale&&(n.normalScale=r.normalScale),n.displacementMap=null,n.displacementScale=1,n.displacementBias=0,n.specularMap=void 0===r.specularMap?null:r.specularMap,n.specular=r.specular,n.glossinessMap=void 0===r.glossinessMap?null:r.glossinessMap,n.glossiness=r.glossiness,n.alphaMap=null,n.envMap=void 0===r.envMap?null:r.envMap,n.envMapIntensity=1,n.refractionRatio=.98,n}}}function GLTFMeshQuantizationExtension(){this.name=r.KHR_MESH_QUANTIZATION}function GLTFCubicSplineInterpolant(r,n,a,o){i.Interpolant.call(this,r,n,a,o)}GLTFDracoMeshCompressionExtension.prototype.decodePrimitive=function(r,n){var i=this.json,o=this.dracoLoader,s=r.extensions[this.name].bufferView,y=r.extensions[this.name].attributes,w={},E={},j={};for(var q in y){var $=_[q]||q.toLowerCase();w[$]=y[q]}for(q in r.attributes)if($=_[q]||q.toLowerCase(),void 0!==y[q]){var ne=i.accessors[r.attributes[q]],ie=a[ne.componentType];j[$]=ie,E[$]=!0===ne.normalized}return n.getDependency("bufferView",s).then((function(r){return new Promise((function(n){o.decodeDracoFile(r,(function(r){for(var a in r.attributes){var i=r.attributes[a],o=E[a];void 0!==o&&(i.normalized=o)}n(r)}),w,j)}))}))},GLTFTextureTransformExtension.prototype.extendTexture=function(r,n){return r=r.clone(),void 0!==n.offset&&r.offset.fromArray(n.offset),void 0!==n.rotation&&(r.rotation=n.rotation),void 0!==n.scale&&r.repeat.fromArray(n.scale),void 0!==n.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),r.needsUpdate=!0,r},GLTFMeshStandardSGMaterial.prototype=Object.create(i.MeshStandardMaterial.prototype),GLTFMeshStandardSGMaterial.prototype.constructor=GLTFMeshStandardSGMaterial,GLTFMeshStandardSGMaterial.prototype.copy=function(r){return i.MeshStandardMaterial.prototype.copy.call(this,r),this.specularMap=r.specularMap,this.specular.copy(r.specular),this.glossinessMap=r.glossinessMap,this.glossiness=r.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},GLTFCubicSplineInterpolant.prototype=Object.create(i.Interpolant.prototype),GLTFCubicSplineInterpolant.prototype.constructor=GLTFCubicSplineInterpolant,GLTFCubicSplineInterpolant.prototype.copySampleValue_=function(r){for(var n=this.resultBuffer,a=this.sampleValues,i=this.valueSize,o=r*i*3+i,s=0;s!==i;s++)n[s]=a[o+s];return n},GLTFCubicSplineInterpolant.prototype.beforeStart_=GLTFCubicSplineInterpolant.prototype.copySampleValue_,GLTFCubicSplineInterpolant.prototype.afterEnd_=GLTFCubicSplineInterpolant.prototype.copySampleValue_,GLTFCubicSplineInterpolant.prototype.interpolate_=function(r,n,a,i){for(var o=this.resultBuffer,s=this.sampleValues,y=this.valueSize,_=2*y,w=3*y,E=i-n,j=(a-n)/E,q=j*j,$=q*j,ne=r*w,ie=ne-w,oe=-2*$+3*q,se=$-q,le=1-oe,pe=se-q+j,he=0;he!==y;he++){var me=s[ie+he+y],ge=s[ie+he+_]*E,ye=s[ne+he+y],_e=s[ne+he]*E;o[he]=le*me+pe*ge+oe*ye+se*_e}return o};var a={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},o={9728:i.NearestFilter,9729:i.LinearFilter,9984:i.NearestMipmapNearestFilter,9985:i.LinearMipmapNearestFilter,9986:i.NearestMipmapLinearFilter,9987:i.LinearMipmapLinearFilter},s={33071:i.ClampToEdgeWrapping,33648:i.MirroredRepeatWrapping,10497:i.RepeatWrapping},y={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},_={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},w={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},E={CUBICSPLINE:void 0,LINEAR:i.InterpolateLinear,STEP:i.InterpolateDiscrete},j={"image/png":i.RGBAFormat,"image/jpeg":i.RGBFormat};function resolveURL(r,n){return"string"!=typeof r||""===r?"":(/^https?:\/\//i.test(n)&&/^\//.test(r)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(r)||/^data:.*,.*$/i.test(r)||/^blob:.*$/i.test(r)?r:n+r)}function addUnknownExtensionsToUserData(r,n,a){for(var i in a.extensions)void 0===r[i]&&(n.userData.gltfExtensions=n.userData.gltfExtensions||{},n.userData.gltfExtensions[i]=a.extensions[i])}function assignExtrasToUserData(r,n){void 0!==n.extras&&("object"==typeof n.extras?Object.assign(r.userData,n.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+n.extras))}function updateMorphTargets(r,n){if(r.updateMorphTargets(),void 0!==n.weights)for(var a=0,i=n.weights.length;a<i;a++)r.morphTargetInfluences[a]=n.weights[a];if(n.extras&&Array.isArray(n.extras.targetNames)){var o=n.extras.targetNames;if(r.morphTargetInfluences.length===o.length)for(r.morphTargetDictionary={},a=0,i=o.length;a<i;a++)r.morphTargetDictionary[o[a]]=a;else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createAttributesKey(r){for(var n="",a=Object.keys(r).sort(),i=0,o=a.length;i<o;i++)n+=a[i]+":"+r[a[i]]+";";return n}function GLTFParser(r,n){this.json=r||{},this.extensions={},this.plugins={},this.options=n||{},this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},"undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new i.ImageBitmapLoader(this.options.manager):this.textureLoader=new i.TextureLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new i.FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function addPrimitiveAttributes(r,n,a){var o=n.attributes,s=[];function assignAttributeAccessor(n,i){return a.getDependency("accessor",n).then((function(n){r.setAttribute(i,n)}))}for(var y in o){var w=_[y]||y.toLowerCase();w in r.attributes||s.push(assignAttributeAccessor(o[y],w))}if(void 0!==n.indices&&!r.index){var E=a.getDependency("accessor",n.indices).then((function(n){r.setIndex(n)}));s.push(E)}return assignExtrasToUserData(r,n),function computeBounds(r,n,a){var o=n.attributes,s=new i.Box3;if(void 0!==o.POSITION){var y=(ne=a.json.accessors[o.POSITION]).min,_=ne.max;if(void 0!==y&&void 0!==_){s.set(new i.Vector3(y[0],y[1],y[2]),new i.Vector3(_[0],_[1],_[2]));var w=n.targets;if(void 0!==w){for(var E=new i.Vector3,j=new i.Vector3,q=0,$=w.length;q<$;q++){var ne,ie=w[q];void 0!==ie.POSITION&&(y=(ne=a.json.accessors[ie.POSITION]).min,_=ne.max,void 0!==y&&void 0!==_?(j.setX(Math.max(Math.abs(y[0]),Math.abs(_[0]))),j.setY(Math.max(Math.abs(y[1]),Math.abs(_[1]))),j.setZ(Math.max(Math.abs(y[2]),Math.abs(_[2]))),E.max(j)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION."))}s.expandByVector(E)}r.boundingBox=s;var oe=new i.Sphere;s.getCenter(oe.center),oe.radius=s.min.distanceTo(s.max)/2,r.boundingSphere=oe}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(r,n,a),Promise.all(s).then((function(){return void 0!==n.targets?function addMorphTargets(r,n,a){for(var i=!1,o=!1,s=0,y=n.length;s<y&&(void 0!==(E=n[s]).POSITION&&(i=!0),void 0!==E.NORMAL&&(o=!0),!i||!o);s++);if(!i&&!o)return Promise.resolve(r);var _=[],w=[];for(s=0,y=n.length;s<y;s++){var E=n[s];if(i){var j=void 0!==E.POSITION?a.getDependency("accessor",E.POSITION):r.attributes.position;_.push(j)}o&&(j=void 0!==E.NORMAL?a.getDependency("accessor",E.NORMAL):r.attributes.normal,w.push(j))}return Promise.all([Promise.all(_),Promise.all(w)]).then((function(n){var a=n[0],s=n[1];return i&&(r.morphAttributes.position=a),o&&(r.morphAttributes.normal=s),r.morphTargetsRelative=!0,r}))}(r,n.targets,a):r}))}function toTrianglesDrawMode(r,n){var a=r.getIndex();if(null===a){var o=[],s=r.getAttribute("position");if(void 0===s)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),r;for(var y=0;y<s.count;y++)o.push(y);r.setIndex(o),a=r.getIndex()}var _=a.count-2,w=[];if(n===i.TriangleFanDrawMode)for(y=1;y<=_;y++)w.push(a.getX(0)),w.push(a.getX(y)),w.push(a.getX(y+1));else for(y=0;y<_;y++)y%2==0?(w.push(a.getX(y)),w.push(a.getX(y+1)),w.push(a.getX(y+2))):(w.push(a.getX(y+2)),w.push(a.getX(y+1)),w.push(a.getX(y)));w.length/3!==_&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var E=r.clone();return E.setIndex(w),E}return GLTFParser.prototype.setExtensions=function(r){this.extensions=r},GLTFParser.prototype.setPlugins=function(r){this.plugins=r},GLTFParser.prototype.parse=function(r,n){var a=this,i=this.json,o=this.extensions;this.cache.removeAll(),this._markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(n){var s={scene:n[0][i.scene||0],scenes:n[0],animations:n[1],cameras:n[2],asset:i.asset,parser:a,userData:{}};addUnknownExtensionsToUserData(o,s,i),assignExtrasToUserData(s,i),r(s)})).catch(n)},GLTFParser.prototype._markDefs=function(){for(var n=this.json.nodes||[],a=this.json.skins||[],i=this.json.meshes||[],o=0,s=a.length;o<s;o++)for(var y=a[o].joints,_=0,w=y.length;_<w;_++)n[y[_]].isBone=!0;for(var E=0,j=n.length;E<j;E++){var q=n[E];void 0!==q.mesh&&(this._addNodeRef(this.meshCache,q.mesh),void 0!==q.skin&&(i[q.mesh].isSkinnedMesh=!0)),void 0!==q.camera&&this._addNodeRef(this.cameraCache,q.camera),q.extensions&&q.extensions[r.KHR_LIGHTS_PUNCTUAL]&&void 0!==q.extensions[r.KHR_LIGHTS_PUNCTUAL].light&&this._addNodeRef(this.lightCache,q.extensions[r.KHR_LIGHTS_PUNCTUAL].light)}},GLTFParser.prototype._addNodeRef=function(r,n){void 0!==n&&(void 0===r.refs[n]&&(r.refs[n]=r.uses[n]=0),r.refs[n]++)},GLTFParser.prototype._getNodeRef=function(r,n,a){if(r.refs[n]<=1)return a;var i=a.clone();return i.name+="_instance_"+r.uses[n]++,i},GLTFParser.prototype._invokeOne=function(r){var n=Object.values(this.plugins);n.push(this);for(var a=0;a<n.length;a++){var i=r(n[a]);if(i)return i}},GLTFParser.prototype._invokeAll=function(r){var n=Object.values(this.plugins);n.unshift(this);for(var a=[],i=0;i<n.length;i++)a.push(r(n[i]));return Promise.all(a)},GLTFParser.prototype.getDependency=function(n,a){var i=n+":"+a,o=this.cache.get(i);if(!o){switch(n){case"scene":o=this.loadScene(a);break;case"node":o=this.loadNode(a);break;case"mesh":o=this._invokeOne((function(r){return r.loadMesh&&r.loadMesh(a)}));break;case"accessor":o=this.loadAccessor(a);break;case"bufferView":o=this._invokeOne((function(r){return r.loadBufferView&&r.loadBufferView(a)}));break;case"buffer":o=this.loadBuffer(a);break;case"material":o=this._invokeOne((function(r){return r.loadMaterial&&r.loadMaterial(a)}));break;case"texture":o=this._invokeOne((function(r){return r.loadTexture&&r.loadTexture(a)}));break;case"skin":o=this.loadSkin(a);break;case"animation":o=this.loadAnimation(a);break;case"camera":o=this.loadCamera(a);break;case"light":o=this.extensions[r.KHR_LIGHTS_PUNCTUAL].loadLight(a);break;default:throw Error("Unknown type: "+n)}this.cache.add(i,o)}return o},GLTFParser.prototype.getDependencies=function(r){var n=this.cache.get(r);if(!n){var a=this,i=this.json[r+("mesh"===r?"es":"s")]||[];n=Promise.all(i.map((function(n,i){return a.getDependency(r,i)}))),this.cache.add(r,n)}return n},GLTFParser.prototype.loadBuffer=function(n){var a=this.json.buffers[n],i=this.fileLoader;if(a.type&&"arraybuffer"!==a.type)throw Error("THREE.GLTFLoader: "+a.type+" buffer type is not supported.");if(void 0===a.uri&&0===n)return Promise.resolve(this.extensions[r.KHR_BINARY_GLTF].body);var o=this.options;return new Promise((function(r,n){i.load(resolveURL(a.uri,o.path),r,void 0,(function(){n(Error('THREE.GLTFLoader: Failed to load buffer "'+a.uri+'".'))}))}))},GLTFParser.prototype.loadBufferView=function(r){var n=this.json.bufferViews[r];return this.getDependency("buffer",n.buffer).then((function(r){var a=n.byteLength||0,i=n.byteOffset||0;return r.slice(i,i+a)}))},GLTFParser.prototype.loadAccessor=function(r){var n=this,o=this.json,s=this.json.accessors[r];if(void 0===s.bufferView&&void 0===s.sparse)return Promise.resolve(null);var _=[];return void 0!==s.bufferView?_.push(this.getDependency("bufferView",s.bufferView)):_.push(null),void 0!==s.sparse&&(_.push(this.getDependency("bufferView",s.sparse.indices.bufferView)),_.push(this.getDependency("bufferView",s.sparse.values.bufferView))),Promise.all(_).then((function(r){var _,w,E=r[0],j=y[s.type],q=a[s.componentType],$=q.BYTES_PER_ELEMENT,ne=$*j,ie=s.byteOffset||0,oe=void 0!==s.bufferView?o.bufferViews[s.bufferView].byteStride:void 0,se=!0===s.normalized;if(oe&&oe!==ne){var le=Math.floor(ie/oe),pe="InterleavedBuffer:"+s.bufferView+":"+s.componentType+":"+le+":"+s.count,he=n.cache.get(pe);he||(_=new q(E,le*oe,s.count*oe/$),he=new i.InterleavedBuffer(_,oe/$),n.cache.add(pe,he)),w=new i.InterleavedBufferAttribute(he,j,ie%oe/$,se)}else _=null===E?new q(s.count*j):new q(E,ie,s.count*j),w=new i.BufferAttribute(_,j,se);if(void 0!==s.sparse){var me=y.SCALAR,ge=a[s.sparse.indices.componentType],ye=s.sparse.indices.byteOffset||0,_e=s.sparse.values.byteOffset||0,ve=new ge(r[1],ye,s.sparse.count*me),Se=new q(r[2],_e,s.sparse.count*j);null!==E&&(w=new i.BufferAttribute(w.array.slice(),w.itemSize,w.normalized));for(var we=0,Me=ve.length;we<Me;we++){var Te=ve[we];if(w.setX(Te,Se[we*j]),j>=2&&w.setY(Te,Se[we*j+1]),j>=3&&w.setZ(Te,Se[we*j+2]),j>=4&&w.setW(Te,Se[we*j+3]),j>=5)throw Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return w}))},GLTFParser.prototype.loadTexture=function(n){var a,i,o=this.json,s=this.options,y=o.textures[n],_=y.extensions||{};return(a=_[r.MSFT_TEXTURE_DDS]?o.images[_[r.MSFT_TEXTURE_DDS].source]:o.images[y.source]).uri&&(i=s.manager.getHandler(a.uri)),i||(i=_[r.MSFT_TEXTURE_DDS]?this.extensions[r.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(n,a,i)},GLTFParser.prototype.loadTextureImage=function(r,n,a){var y=this,_=this.json,w=this.options,E=_.textures[r],q=self.URL||self.webkitURL,$=n.uri,ne=!1;return void 0!==n.bufferView&&($=y.getDependency("bufferView",n.bufferView).then((function(r){ne=!0;var a=new Blob([r],{type:n.mimeType});return $=q.createObjectURL(a)}))),Promise.resolve($).then((function(r){return new Promise((function(n,o){var s=n;!0===a.isImageBitmapLoader&&(s=function(r){n(new i.CanvasTexture(r))}),a.load(resolveURL(r,w.path),s,void 0,o)}))})).then((function(a){!0===ne&&q.revokeObjectURL($),a.flipY=!1,E.name&&(a.name=E.name),n.mimeType in j&&(a.format=j[n.mimeType]);var w=(_.samplers||{})[E.sampler]||{};return a.magFilter=o[w.magFilter]||i.LinearFilter,a.minFilter=o[w.minFilter]||i.LinearMipmapLinearFilter,a.wrapS=s[w.wrapS]||i.RepeatWrapping,a.wrapT=s[w.wrapT]||i.RepeatWrapping,y.associations.set(a,{type:"textures",index:r}),a}))},GLTFParser.prototype.assignTexture=function(n,a,o){var s=this;return this.getDependency("texture",o.index).then((function(y){if(!y.isCompressedTexture)switch(a){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":y.format=i.RGBFormat}if(void 0===o.texCoord||0==o.texCoord||"aoMap"===a&&1==o.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+o.texCoord+" for texture "+a+" not yet supported."),s.extensions[r.KHR_TEXTURE_TRANSFORM]){var _=void 0!==o.extensions?o.extensions[r.KHR_TEXTURE_TRANSFORM]:void 0;if(_){var w=s.associations.get(y);y=s.extensions[r.KHR_TEXTURE_TRANSFORM].extendTexture(y,_),s.associations.set(y,w)}}n[a]=y}))},GLTFParser.prototype.assignFinalMaterial=function(r){var n=r.geometry,a=r.material,o=void 0!==n.attributes.tangent,s=void 0!==n.attributes.color,y=void 0===n.attributes.normal,_=!0===r.isSkinnedMesh,w=Object.keys(n.morphAttributes).length>0,E=w&&void 0!==n.morphAttributes.normal;if(r.isPoints){var j="PointsMaterial:"+a.uuid,q=this.cache.get(j);q||(q=new i.PointsMaterial,i.Material.prototype.copy.call(q,a),q.color.copy(a.color),q.map=a.map,q.sizeAttenuation=!1,this.cache.add(j,q)),a=q}else if(r.isLine){j="LineBasicMaterial:"+a.uuid;var $=this.cache.get(j);$||($=new i.LineBasicMaterial,i.Material.prototype.copy.call($,a),$.color.copy(a.color),this.cache.add(j,$)),a=$}if(o||s||y||_||w){j="ClonedMaterial:"+a.uuid+":",a.isGLTFSpecularGlossinessMaterial&&(j+="specular-glossiness:"),_&&(j+="skinning:"),o&&(j+="vertex-tangents:"),s&&(j+="vertex-colors:"),y&&(j+="flat-shading:"),w&&(j+="morph-targets:"),E&&(j+="morph-normals:");var ne=this.cache.get(j);ne||(ne=a.clone(),_&&(ne.skinning=!0),o&&(ne.vertexTangents=!0),s&&(ne.vertexColors=!0),y&&(ne.flatShading=!0),w&&(ne.morphTargets=!0),E&&(ne.morphNormals=!0),this.cache.add(j,ne),this.associations.set(ne,this.associations.get(a))),a=ne}a.aoMap&&void 0===n.attributes.uv2&&void 0!==n.attributes.uv&&n.setAttribute("uv2",n.attributes.uv),a.normalScale&&!o&&(a.normalScale.y=-a.normalScale.y),a.clearcoatNormalScale&&!o&&(a.clearcoatNormalScale.y=-a.clearcoatNormalScale.y),r.material=a},GLTFParser.prototype.getMaterialType=function(){return i.MeshStandardMaterial},GLTFParser.prototype.loadMaterial=function(n){var a,o=this,s=this.json,y=this.extensions,_=s.materials[n],w={},E=_.extensions||{},j=[];if(E[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var q=y[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];a=q.getMaterialType(),j.push(q.extendParams(w,_,o))}else if(E[r.KHR_MATERIALS_UNLIT]){var $=y[r.KHR_MATERIALS_UNLIT];a=$.getMaterialType(),j.push($.extendParams(w,_,o))}else{var ne=_.pbrMetallicRoughness||{};if(w.color=new i.Color(1,1,1),w.opacity=1,Array.isArray(ne.baseColorFactor)){var ie=ne.baseColorFactor;w.color.fromArray(ie),w.opacity=ie[3]}void 0!==ne.baseColorTexture&&j.push(o.assignTexture(w,"map",ne.baseColorTexture)),w.metalness=void 0!==ne.metallicFactor?ne.metallicFactor:1,w.roughness=void 0!==ne.roughnessFactor?ne.roughnessFactor:1,void 0!==ne.metallicRoughnessTexture&&(j.push(o.assignTexture(w,"metalnessMap",ne.metallicRoughnessTexture)),j.push(o.assignTexture(w,"roughnessMap",ne.metallicRoughnessTexture))),a=this._invokeOne((function(r){return r.getMaterialType&&r.getMaterialType(n)})),j.push(this._invokeAll((function(r){return r.extendMaterialParams&&r.extendMaterialParams(n,w)})))}!0===_.doubleSided&&(w.side=i.DoubleSide);var oe=_.alphaMode||"OPAQUE";return"BLEND"===oe?(w.transparent=!0,w.depthWrite=!1):(w.transparent=!1,"MASK"===oe&&(w.alphaTest=void 0!==_.alphaCutoff?_.alphaCutoff:.5)),void 0!==_.normalTexture&&a!==i.MeshBasicMaterial&&(j.push(o.assignTexture(w,"normalMap",_.normalTexture)),w.normalScale=new i.Vector2(1,1),void 0!==_.normalTexture.scale&&w.normalScale.set(_.normalTexture.scale,_.normalTexture.scale)),void 0!==_.occlusionTexture&&a!==i.MeshBasicMaterial&&(j.push(o.assignTexture(w,"aoMap",_.occlusionTexture)),void 0!==_.occlusionTexture.strength&&(w.aoMapIntensity=_.occlusionTexture.strength)),void 0!==_.emissiveFactor&&a!==i.MeshBasicMaterial&&(w.emissive=(new i.Color).fromArray(_.emissiveFactor)),void 0!==_.emissiveTexture&&a!==i.MeshBasicMaterial&&j.push(o.assignTexture(w,"emissiveMap",_.emissiveTexture)),Promise.all(j).then((function(){var s;return s=a===GLTFMeshStandardSGMaterial?y[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(w):new a(w),_.name&&(s.name=_.name),s.map&&(s.map.encoding=i.sRGBEncoding),s.emissiveMap&&(s.emissiveMap.encoding=i.sRGBEncoding),assignExtrasToUserData(s,_),o.associations.set(s,{type:"materials",index:n}),_.extensions&&addUnknownExtensionsToUserData(y,s,_),s}))},GLTFParser.prototype.loadGeometries=function(n){var a=this,o=this.extensions,s=this.primitiveCache;function createDracoPrimitive(n){return o[r.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(n,a).then((function(r){return addPrimitiveAttributes(r,n,a)}))}for(var y,_,w=[],E=0,j=n.length;E<j;E++){var q,$=n[E],ne=(void 0,(_=(y=$).extensions&&y.extensions[r.KHR_DRACO_MESH_COMPRESSION])?"draco:"+_.bufferView+":"+_.indices+":"+createAttributesKey(_.attributes):y.indices+":"+createAttributesKey(y.attributes)+":"+y.mode),ie=s[ne];ie?w.push(ie.promise):(q=$.extensions&&$.extensions[r.KHR_DRACO_MESH_COMPRESSION]?createDracoPrimitive($):addPrimitiveAttributes(new i.BufferGeometry,$,a),s[ne]={primitive:$,promise:q},w.push(q))}return Promise.all(w)},GLTFParser.prototype.loadMesh=function(r){for(var n,a=this,o=this.json.meshes[r],s=o.primitives,y=[],_=0,w=s.length;_<w;_++){var E=void 0===s[_].material?(void 0===(n=this.cache).DefaultMaterial&&(n.DefaultMaterial=new i.MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:i.FrontSide})),n.DefaultMaterial):this.getDependency("material",s[_].material);y.push(E)}return y.push(a.loadGeometries(s)),Promise.all(y).then((function(n){for(var y=n.slice(0,n.length-1),_=n[n.length-1],w=[],E=0,j=_.length;E<j;E++){var q,$=_[E],ne=s[E],ie=y[E];if(4===ne.mode||5===ne.mode||6===ne.mode||void 0===ne.mode)!0!==(q=!0===o.isSkinnedMesh?new i.SkinnedMesh($,ie):new i.Mesh($,ie)).isSkinnedMesh||q.geometry.attributes.skinWeight.normalized||q.normalizeSkinWeights(),5===ne.mode?q.geometry=toTrianglesDrawMode(q.geometry,i.TriangleStripDrawMode):6===ne.mode&&(q.geometry=toTrianglesDrawMode(q.geometry,i.TriangleFanDrawMode));else if(1===ne.mode)q=new i.LineSegments($,ie);else if(3===ne.mode)q=new i.Line($,ie);else if(2===ne.mode)q=new i.LineLoop($,ie);else{if(0!==ne.mode)throw Error("THREE.GLTFLoader: Primitive mode unsupported: "+ne.mode);q=new i.Points($,ie)}Object.keys(q.geometry.morphAttributes).length>0&&updateMorphTargets(q,o),q.name=o.name||"mesh_"+r,_.length>1&&(q.name+="_"+E),assignExtrasToUserData(q,o),a.assignFinalMaterial(q),w.push(q)}if(1===w.length)return w[0];var oe=new i.Group;for(E=0,j=w.length;E<j;E++)oe.add(w[E]);return oe}))},GLTFParser.prototype.loadCamera=function(r){var n,a=this.json.cameras[r],o=a[a.type];if(o)return"perspective"===a.type?n=new i.PerspectiveCamera(i.MathUtils.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):"orthographic"===a.type&&(n=new i.OrthographicCamera(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),a.name&&(n.name=a.name),assignExtrasToUserData(n,a),Promise.resolve(n);console.warn("THREE.GLTFLoader: Missing camera parameters.")},GLTFParser.prototype.loadSkin=function(r){var n=this.json.skins[r],a={joints:n.joints};return void 0===n.inverseBindMatrices?Promise.resolve(a):this.getDependency("accessor",n.inverseBindMatrices).then((function(r){return a.inverseBindMatrices=r,a}))},GLTFParser.prototype.loadAnimation=function(r){for(var n=this.json.animations[r],a=[],o=[],s=[],y=[],_=[],j=0,q=n.channels.length;j<q;j++){var $=n.channels[j],ne=n.samplers[$.sampler],ie=$.target,oe=void 0!==ie.node?ie.node:ie.id,se=void 0!==n.parameters?n.parameters[ne.input]:ne.input,le=void 0!==n.parameters?n.parameters[ne.output]:ne.output;a.push(this.getDependency("node",oe)),o.push(this.getDependency("accessor",se)),s.push(this.getDependency("accessor",le)),y.push(ne),_.push(ie)}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(s),Promise.all(y),Promise.all(_)]).then((function(a){for(var o=a[0],s=a[1],y=a[2],_=a[3],j=a[4],q=[],$=0,ne=o.length;$<ne;$++){var ie=o[$],oe=s[$],se=y[$],le=_[$],pe=j[$];if(void 0!==ie){var he;switch(ie.updateMatrix(),ie.matrixAutoUpdate=!0,w[pe.path]){case w.weights:he=i.NumberKeyframeTrack;break;case w.rotation:he=i.QuaternionKeyframeTrack;break;case w.position:case"scale":default:he=i.VectorKeyframeTrack}var me=ie.name?ie.name:ie.uuid,ge=void 0!==le.interpolation?E[le.interpolation]:i.InterpolateLinear,ye=[];w[pe.path]===w.weights?ie.traverse((function(r){!0===r.isMesh&&r.morphTargetInfluences&&ye.push(r.name?r.name:r.uuid)})):ye.push(me);var _e=se.array;if(se.normalized){var ve;if(_e.constructor===Int8Array)ve=1/127;else if(_e.constructor===Uint8Array)ve=1/255;else if(_e.constructor==Int16Array)ve=1/32767;else{if(_e.constructor!==Uint16Array)throw Error("THREE.GLTFLoader: Unsupported output accessor component type.");ve=1/65535}for(var Se=new Float32Array(_e.length),we=0,Me=_e.length;we<Me;we++)Se[we]=_e[we]*ve;_e=Se}for(we=0,Me=ye.length;we<Me;we++){var Te=new he(ye[we]+"."+w[pe.path],oe.array,_e,ge);"CUBICSPLINE"===le.interpolation&&(Te.createInterpolant=function InterpolantFactoryMethodGLTFCubicSpline(r){return new GLTFCubicSplineInterpolant(this.times,this.values,this.getValueSize()/3,r)},Te.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),q.push(Te)}}}var Ae=n.name?n.name:"animation_"+r;return new i.AnimationClip(Ae,void 0,q)}))},GLTFParser.prototype.loadNode=function(n){var a=this.json,o=this.extensions,s=this,y=a.nodes[n];return function(){var n=[];if(void 0!==y.mesh&&n.push(s.getDependency("mesh",y.mesh).then((function(r){var n=s._getNodeRef(s.meshCache,y.mesh,r);return void 0!==y.weights&&n.traverse((function(r){if(r.isMesh)for(var n=0,a=y.weights.length;n<a;n++)r.morphTargetInfluences[n]=y.weights[n]})),n}))),void 0!==y.camera&&n.push(s.getDependency("camera",y.camera).then((function(r){return s._getNodeRef(s.cameraCache,y.camera,r)}))),y.extensions&&y.extensions[r.KHR_LIGHTS_PUNCTUAL]&&void 0!==y.extensions[r.KHR_LIGHTS_PUNCTUAL].light){var a=y.extensions[r.KHR_LIGHTS_PUNCTUAL].light;n.push(s.getDependency("light",a).then((function(r){return s._getNodeRef(s.lightCache,a,r)})))}return Promise.all(n)}().then((function(r){var a;if((a=!0===y.isBone?new i.Bone:r.length>1?new i.Group:1===r.length?r[0]:new i.Object3D)!==r[0])for(var _=0,w=r.length;_<w;_++)a.add(r[_]);if(y.name&&(a.userData.name=y.name,a.name=i.PropertyBinding.sanitizeNodeName(y.name)),assignExtrasToUserData(a,y),y.extensions&&addUnknownExtensionsToUserData(o,a,y),void 0!==y.matrix){var E=new i.Matrix4;E.fromArray(y.matrix),a.applyMatrix4(E)}else void 0!==y.translation&&a.position.fromArray(y.translation),void 0!==y.rotation&&a.quaternion.fromArray(y.rotation),void 0!==y.scale&&a.scale.fromArray(y.scale);return s.associations.set(a,{type:"nodes",index:n}),a}))},GLTFParser.prototype.loadScene=function(){function buildNodeHierachy(r,n,a,o){var s=a.nodes[r];return o.getDependency("node",r).then((function(r){return void 0===s.skin?r:o.getDependency("skin",s.skin).then((function(r){for(var a=[],i=0,s=(n=r).joints.length;i<s;i++)a.push(o.getDependency("node",n.joints[i]));return Promise.all(a)})).then((function(a){return r.traverse((function(r){if(r.isMesh){for(var o=[],s=[],y=0,_=a.length;y<_;y++){var w=a[y];if(w){o.push(w);var E=new i.Matrix4;void 0!==n.inverseBindMatrices&&E.fromArray(n.inverseBindMatrices.array,16*y),s.push(E)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[y])}r.bind(new i.Skeleton(o,s),r.matrixWorld)}})),r}));var n})).then((function(r){n.add(r);var i=[];if(s.children)for(var y=s.children,_=0,w=y.length;_<w;_++){var E=y[_];i.push(buildNodeHierachy(E,r,a,o))}return Promise.all(i)}))}return function loadScene(r){var n=this.json,a=this.extensions,o=this.json.scenes[r],s=new i.Group;o.name&&(s.name=o.name),assignExtrasToUserData(s,o),o.extensions&&addUnknownExtensionsToUserData(a,s,o);for(var y=o.nodes||[],_=[],w=0,E=y.length;w<E;w++)_.push(buildNodeHierachy(y[w],s,n,this));return Promise.all(_).then((function(){return s}))}}(),GLTFLoader}()},function(r,n,a){"use strict";a.r(n),a.d(n,"PLYLoader",(function(){return PLYLoader}));var i=a(19),PLYLoader=function(r){i.Loader.call(this,r),this.propertyNameMapping={}};PLYLoader.prototype=Object.assign(Object.create(i.Loader.prototype),{constructor:PLYLoader,load(r,n,a,o){var s=this,y=new i.FileLoader(this.manager);y.setPath(this.path),y.setResponseType("arraybuffer"),y.setRequestHeader(this.requestHeader),y.load(r,(function(a){try{n(s.parse(a))}catch(n){o?o(n):console.error(n),s.manager.itemError(r)}}),a,o)},setPropertyNameMapping(r){this.propertyNameMapping=r},parse(r){function parseHeader(r){var n="",i=0,o=/ply([\s\S]*)end_header\r?\n/.exec(r);null!==o&&(n=o[1],i=o[0].length);for(var s,y,_,w,E,j,q={comments:[],elements:[],headerLength:i},$=n.split("\n"),ne=0;ne<$.length;ne++){var ie=$[ne];if(""!==(ie=ie.trim()))switch(y=(_=ie.split(/\s+/)).shift(),ie=_.join(" "),y){case"format":q.format=_[0],q.version=_[1];break;case"comment":q.comments.push(ie);break;case"element":void 0!==s&&q.elements.push(s),(s={}).name=_[0],s.count=parseInt(_[1]),s.properties=[];break;case"property":s.properties.push((w=_,E=a.propertyNameMapping,j=void 0,"list"===(j={type:w[0]}).type?(j.name=w[3],j.countType=w[1],j.itemType=w[2]):j.name=w[1],j.name in E&&(j.name=E[j.name]),j));break;default:console.log("unhandled",y,_)}}return void 0!==s&&q.elements.push(s),q}function parseASCIINumber(r,n){switch(n){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(r);case"float":case"double":case"float32":case"float64":return parseFloat(r)}}function parseASCIIElement(r,n){for(var a=n.split(/\s+/),i={},o=0;o<r.length;o++)if("list"===r[o].type){for(var s=[],y=parseASCIINumber(a.shift(),r[o].countType),_=0;_<y;_++)s.push(parseASCIINumber(a.shift(),r[o].itemType));i[r[o].name]=s}else i[r[o].name]=parseASCIINumber(a.shift(),r[o].type);return i}function parseASCII(r,n){var a,i={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},o="";null!==(a=/end_header\s([\s\S]*)$/.exec(r))&&(o=a[1]);for(var s=o.split("\n"),y=0,_=0,w=0;w<s.length;w++){var E=s[w];if(""!==(E=E.trim())){_>=n.elements[y].count&&(y++,_=0);var j=parseASCIIElement(n.elements[y].properties,E);handleElement(i,n.elements[y].name,j),_++}}return postProcess(i)}function postProcess(r){var n=new i.BufferGeometry;return r.indices.length>0&&n.setIndex(r.indices),n.setAttribute("position",new i.Float32BufferAttribute(r.vertices,3)),r.normals.length>0&&n.setAttribute("normal",new i.Float32BufferAttribute(r.normals,3)),r.uvs.length>0&&n.setAttribute("uv",new i.Float32BufferAttribute(r.uvs,2)),r.colors.length>0&&n.setAttribute("color",new i.Float32BufferAttribute(r.colors,3)),r.faceVertexUvs.length>0&&(n=n.toNonIndexed()).setAttribute("uv",new i.Float32BufferAttribute(r.faceVertexUvs,2)),n.computeBoundingSphere(),n}function handleElement(r,n,a){if("vertex"===n)r.vertices.push(a.x,a.y,a.z),"nx"in a&&"ny"in a&&"nz"in a&&r.normals.push(a.nx,a.ny,a.nz),"s"in a&&"t"in a&&r.uvs.push(a.s,a.t),"red"in a&&"green"in a&&"blue"in a&&r.colors.push(a.red/255,a.green/255,a.blue/255);else if("face"===n){var i=a.vertex_indices||a.vertex_index,o=a.texcoord;3===i.length?(r.indices.push(i[0],i[1],i[2]),o&&6===o.length&&(r.faceVertexUvs.push(o[0],o[1]),r.faceVertexUvs.push(o[2],o[3]),r.faceVertexUvs.push(o[4],o[5]))):4===i.length&&(r.indices.push(i[0],i[1],i[3]),r.indices.push(i[1],i[2],i[3]))}}function binaryRead(r,n,a,i){switch(a){case"int8":case"char":return[r.getInt8(n),1];case"uint8":case"uchar":return[r.getUint8(n),1];case"int16":case"short":return[r.getInt16(n,i),2];case"uint16":case"ushort":return[r.getUint16(n,i),2];case"int32":case"int":return[r.getInt32(n,i),4];case"uint32":case"uint":return[r.getUint32(n,i),4];case"float32":case"float":return[r.getFloat32(n,i),4];case"float64":case"double":return[r.getFloat64(n,i),8]}}function binaryReadElement(r,n,a,i){for(var o,s={},y=0,_=0;_<a.length;_++)if("list"===a[_].type){var w=[],E=(o=binaryRead(r,n+y,a[_].countType,i))[0];y+=o[1];for(var j=0;j<E;j++)o=binaryRead(r,n+y,a[_].itemType,i),w.push(o[0]),y+=o[1];s[a[_].name]=w}else o=binaryRead(r,n+y,a[_].type,i),s[a[_].name]=o[0],y+=o[1];return[s,y]}var n,a=this;if(r instanceof ArrayBuffer){var o=i.LoaderUtils.decodeText(new Uint8Array(r)),s=parseHeader(o);n="ascii"===s.format?parseASCII(o,s):function parseBinary(r,n){for(var a,i={indices:[],vertices:[],normals:[],uvs:[],faceVertexUvs:[],colors:[]},o="binary_little_endian"===n.format,s=new DataView(r,n.headerLength),y=0,_=0;_<n.elements.length;_++)for(var w=0;w<n.elements[_].count;w++){y+=(a=binaryReadElement(s,y,n.elements[_].properties,o))[1];var E=a[0];handleElement(i,n.elements[_].name,E)}return postProcess(i)}(r,s)}else n=parseASCII(r,parseHeader(r));return n}})},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AssetLoader=void 0;const i=a(9),o=a(31);class AssetLoader{constructor(){this.loader=new o(r=>Promise.all(r.map(this._load.bind(this))),{cacheKeyFn:this.generateKey})}_loadSync(r){return null}async load(r){return this.loader.load(r)}loadSync(r){return this._loadSync(r)}}n.AssetLoader=AssetLoader,AssetLoader.assetType=i.AssetType.NONE},function(r,n,a){"use strict";!function(n,a){var i,o=function(){function DataLoader(r,n){if("function"!=typeof r)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+r+".");this._batchLoadFn=r,this._maxBatchSize=function getValidMaxBatchSize(r){if(r&&!1===r.batch)return 1;var n=r&&r.maxBatchSize;if(void 0===n)return 1/0;if("number"!=typeof n||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}(n),this._batchScheduleFn=function getValidBatchScheduleFn(r){var n=r&&r.batchScheduleFn;if(void 0===n)return s;if("function"!=typeof n)throw new TypeError("batchScheduleFn must be a function: "+n);return n}(n),this._cacheKeyFn=function getValidCacheKeyFn(r){var n=r&&r.cacheKeyFn;if(void 0===n)return function(r){return r};if("function"!=typeof n)throw new TypeError("cacheKeyFn must be a function: "+n);return n}(n),this._cacheMap=function getValidCacheMap(r){if(r&&!1===r.cache)return null;var n=r&&r.cacheMap;if(void 0===n)return new Map;if(null!==n){var a=["get","set","delete","clear"].filter((function(r){return n&&"function"!=typeof n[r]}));if(0!==a.length)throw new TypeError("Custom cacheMap missing methods: "+a.join(", "))}return n}(n),this._batch=null}var r=DataLoader.prototype;return r.load=function load(r){if(null==r)throw new TypeError("The loader.load() function must be called with a value,but got: "+r+".");var n=function getCurrentBatch(r){var n=r._batch;if(null!==n&&!n.hasDispatched&&n.keys.length<r._maxBatchSize&&(!n.cacheHits||n.cacheHits.length<r._maxBatchSize))return n;var a={hasDispatched:!1,keys:[],callbacks:[]};return r._batch=a,r._batchScheduleFn((function(){return function dispatchBatch(r,n){if(n.hasDispatched=!0,0!==n.keys.length){var a=r._batchLoadFn(n.keys);if(!a||"function"!=typeof a.then)return failedDispatch(r,n,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+a+"."));a.then((function(r){if(!isArrayLike(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+r+".");if(r.length!==n.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+n.keys+"\n\nValues:\n"+r);resolveCacheHits(n);for(var a=0;a<n.callbacks.length;a++){var i=r[a];i instanceof Error?n.callbacks[a].reject(i):n.callbacks[a].resolve(i)}})).catch((function(a){return failedDispatch(r,n,a)}))}else resolveCacheHits(n)}(r,a)})),a}(this),a=this._cacheMap,i=this._cacheKeyFn(r);if(a){var o=a.get(i);if(o){var s=n.cacheHits||(n.cacheHits=[]);return new Promise((function(r){s.push((function(){return r(o)}))}))}}n.keys.push(r);var y=new Promise((function(r,a){n.callbacks.push({resolve:r,reject:a})}));return a&&a.set(i,y),y},r.loadMany=function loadMany(r){if(!isArrayLike(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+r+".");for(var n=[],a=0;a<r.length;a++)n.push(this.load(r[a]).catch((function(r){return r})));return Promise.all(n)},r.clear=function clear(r){var n=this._cacheMap;if(n){var a=this._cacheKeyFn(r);n.delete(a)}return this},r.clearAll=function clearAll(){var r=this._cacheMap;return r&&r.clear(),this},r.prime=function prime(r,n){var a=this._cacheMap;if(a){var i,o=this._cacheKeyFn(r);void 0===a.get(o)&&(n instanceof Error?(i=Promise.reject(n)).catch((function(){})):i=Promise.resolve(n),a.set(o,i))}return this},DataLoader}(),s="object"==typeof n&&"function"==typeof n.nextTick?function(r){i||(i=Promise.resolve()),i.then((function(){return n.nextTick(r)}))}:a||setTimeout;function failedDispatch(r,n,a){resolveCacheHits(n);for(var i=0;i<n.keys.length;i++)r.clear(n.keys[i]),n.callbacks[i].reject(a)}function resolveCacheHits(r){if(r.cacheHits)for(var n=0;n<r.cacheHits.length;n++)r.cacheHits[n]()}function isArrayLike(r){return"object"==typeof r&&null!==r&&"number"==typeof r.length&&(0===r.length||r.length>0&&{}.hasOwnProperty.call(r,r.length-1))}r.exports=o}(a(2),a(32).setImmediate)},function(r,n,a){(function(r){var i=void 0!==r&&r||"undefined"!=typeof self&&self||window,o=function(){}.apply;function Timeout(r,n){this._id=r,this._clearFn=n}n.setTimeout=function(){return new Timeout(o.call(setTimeout,i,arguments),clearTimeout)},n.setInterval=function(){return new Timeout(o.call(setInterval,i,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(r){r&&r.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(i,this._id)},n.enroll=function(r,n){clearTimeout(r._idleTimeoutId),r._idleTimeout=n},n.unenroll=function(r){clearTimeout(r._idleTimeoutId),r._idleTimeout=-1},n._unrefActive=n.active=function(r){clearTimeout(r._idleTimeoutId);var n=r._idleTimeout;n>=0&&(r._idleTimeoutId=setTimeout((function onTimeout(){r._onTimeout&&r._onTimeout()}),n))},a(33),n.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==r&&r.setImmediate||this&&this.setImmediate,n.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==r&&r.clearImmediate||this&&this.clearImmediate}).call(this,a(3))},function(r,n,a){(function(r,n){!function(r,a){"use strict";if(!r.setImmediate){var i,o=1,s={},y=!1,_=r.document,w=Object.getPrototypeOf&&Object.getPrototypeOf(r);w=w&&w.setTimeout?w:r,"[object process]"==={}.toString.call(r.process)?function installNextTickImplementation(){i=function(r){n.nextTick((function(){runIfPresent(r)}))}}():function canUsePostMessage(){if(r.postMessage&&!r.importScripts){var n=!0,a=r.onmessage;return r.onmessage=function(){n=!1},r.postMessage("","*"),r.onmessage=a,n}}()?function installPostMessageImplementation(){var n="setImmediate$"+Math.random()+"$",onGlobalMessage=function(a){a.source===r&&"string"==typeof a.data&&0===a.data.indexOf(n)&&runIfPresent(+a.data.slice(n.length))};r.addEventListener?r.addEventListener("message",onGlobalMessage,!1):r.attachEvent("onmessage",onGlobalMessage),i=function(a){r.postMessage(n+a,"*")}}():r.MessageChannel?function installMessageChannelImplementation(){var r=new MessageChannel;r.port1.onmessage=function(r){runIfPresent(r.data)},i=function(n){r.port2.postMessage(n)}}():_&&"onreadystatechange"in _.createElement("script")?function installReadyStateChangeImplementation(){var r=_.documentElement;i=function(n){var a=_.createElement("script");a.onreadystatechange=function(){runIfPresent(n),a.onreadystatechange=null,r.removeChild(a),a=null},r.appendChild(a)}}():function installSetTimeoutImplementation(){i=function(r){setTimeout(runIfPresent,0,r)}}(),w.setImmediate=function setImmediate(r){"function"!=typeof r&&(r=Function(""+r));for(var n=Array(arguments.length-1),a=0;a<n.length;a++)n[a]=arguments[a+1];var y={callback:r,args:n};return s[o]=y,i(o),o++},w.clearImmediate=clearImmediate}function clearImmediate(r){delete s[r]}function runIfPresent(r){if(y)setTimeout(runIfPresent,0,r);else{var n=s[r];if(n){y=!0;try{!function run(r){var n=r.callback,a=r.args;switch(a.length){case 0:n();break;case 1:n(a[0]);break;case 2:n(a[0],a[1]);break;case 3:n(a[0],a[1],a[2]);break;default:n.apply(undefined,a)}}(n)}finally{clearImmediate(r),y=!1}}}}}("undefined"==typeof self?void 0===r?this:r:self)}).call(this,a(3),a(2))},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCachedFileUri=void 0;const i=a(35),o=a(6);n.getCachedFileUri=r=>{if(!o.default.isNative||!r)return r||"";try{const n=new URL(r);return i[n.pathname]?"./bundled-assets"+(r=>r.replace(/\.gz$/,""))(n.pathname):r}catch(n){return r}}},function(r){r.exports=JSON.parse('{"/sound2/fx/footstep_trunk_3.mp3":true,"/sound2/fx/footstep_trunk_1.mp3":true,"/sound2/fx/footstep_trunk_4.mp3":true,"/sound2/fx/footstep_trunk_2.mp3":true,"/sound2/fx/footstep_trunk_5.mp3":true,"/sound2/fx/explosion2.mp3":true,"/sound2/fx/splat.mp3":true,"/sound2/fx/swosh1.mp3":true,"/sound2/fx/swosh2.mp3":true,"/sound2/fx/success_low.mp3":true,"/sound2/fx/portal_trip.mp3":true,"/sound2/fx/shields1.mp3":true,"/avatar/glb2/hibertina-no-emoji.gz":true,"/avatar/glb2/hibert-no-emoji.glb.gz":true,"/3Dassets/artifacts/GPL_spawnPoint_02.glb":true,"/artifacts/9/b3816300051840dd708d92eaa93e102a.ply":true,"/sound2/fx/fireBurning2.mp3":true,"/artifacts/9/608fa8d9b4e1e2d88f11b86cc9497e95.ply":true,"/sound2/fx/undissolve2.mp3":true,"/images/icons/stick.png":true,"/images/icons/shoot.png":true,"/images/icons/jump.png":true,"/artifacts/9/0faf4603421c4aaba2ca13016994db0e.ply":true,"/artifacts/9/78a7a3dbfd081ddf469220aadad3fae7.ply":true,"/artifacts/9/5fcdea76fd769d618ee9852e840a8d53.ply":true,"/sound2/fx/impact_metal.mp3":true,"/sound2/music/orange_treasure.mp3":true,"/artifacts/9/7683ddca0e974fe7983da9cb7bf540be.ply":true,"/sound2/fx/long-wispy-woosh.mp3":true,"/artifacts/9/2dff8ac4acf2fb659ac0d601bee3d5fe.ply":true,"/artifacts/9/4b47b81b234639bac736f0afa2b85b4d.ply":true,"/textures/particles/particle2_diffuse.128-dxt.ktx":true,"/sound2/fx/laser_burst.mp3":true,"/sound2/fx/pick-up.mp3":true,"/sound2/fx/victory2.mp3":true,"/textures/Metal/Metal_Plate_004_NORM.256-dxt.ktx":true,"/artifacts/9/fc4506bcb1556e60490d6acb8aa6f262.ply":true,"/artifacts/9/3831a6e733fdeaad7d33cd54451fc0d4.ply":true,"/artifacts/9/1260149b30162646b6c4f09d551fe2bf.ply":true,"/artifacts/9/16f6d8aae46f93f99f7114736fce5a49.ply":true,"/artifacts/9/5bde400c36215ca8ba027b18fc1572cf.ply":true,"/artifacts/9/f411e0f8fe9f5053373d973aaf6903da.ply":true,"/artifacts/9/d6b2752c70e6ed926bac64df20f6acc1.ply":true,"/avatar/glb2/Winter_hibertina.glb.gz":true,"/textures2/skyboxes/sandy/sandy_2048_6sided.1024.04.jpg":true,"/images/particles/cloud.png":true,"/artifacts/9/ea74c7af94eff5fb478aaa622db127a3.ply":true,"/artifacts/9/db77b51f93b51393783d7e1681967284.ply":true,"/textures2/skyboxes/sandy/sandy_2048_6sided.1024.03.jpg":true,"/artifacts/9/b358e3174bfba6c121b0c53d32370253.ply":true,"/artifacts/9/65d4577b5bf6f68c4269855387bcaade.ply":true,"/textures2/skyboxes/sandy/sandy_2048_6sided.1024.01.jpg":true,"/textures/Noise/noiseTexture.256.png":true,"/textures/Metal_p/metal_galvanised_001_NRM.256-dxt.ktx":true,"/3Dassets/baked/GPL_launchpad_01.glb":true,"/sound2/fx/join_game.mp3":true,"/textures2/skyboxes/sandy/sandy_2048_6sided.1024.05.jpg":true,"/artifacts/9/9b3d7f576694f5c411194473a4ac0b74.ply":true,"/textures/Metal_p/metal_galvanised_001_SPEC.256-dxt.ktx":true,"/artifacts/9/0225ffa1629bd775997d1e19ae6b42d9.ply":true,"/textures/fluid/lava.256.jpg":true,"/textures/particles/splash1.512.png":true,"/artifacts/9/dd14eb5a9776eca82910661f3b3486b4.ply":true,"/textures2/skyboxes/sandy/sandy_2048_6sided.1024.02.jpg":true,"/sound2/fx/BoxingBellRing.mp3":true,"/textures/Metal_p/metal_galvanised_001_COLOR.256-dxt.ktx":true,"/artifacts/9/903bb0b0887edf3ccb132cd4c58f3bda.ply":true,"/sound2/fx/button-click.mp3":true,"/textures/T_steel_01/T_steel_01_normal.512-dxt.ktx":true,"/textures/T_steel_01/T_steel_01_specular.512-dxt.ktx":true,"/textures/fluid/water.256.jpg":true,"/3Dassets/baked/EN_P_largeRock_03_2.glb":true,"/3Dassets/baked/EN_P_table_01.glb":true,"/3Dassets/baked/EN_P_largeRock_02_2.glb":true,"/textures/T_steel_01/T_steel_01_albedo.512-dxt.ktx":true,"/sound2/fx/change_weapon.mp3":true,"/3Dassets/drones/W_droneUpgrade_01.glb":true,"/3Dassets/baked/EN_M_sciFiStair_01.glb":true,"/3Dassets/baked/EN_P_beachBall_01.glb":true,"/artifacts/9/7af3e6299c78db58e3e6669037cad46f.ply":true,"/textures2/skyboxes/sandy/sandy_2048_6sided.1024.00.jpg":true,"/artifacts/9/cee1402b66ed24c7fbba36b0b3c9990d.ply":true,"/3Dassets/drones/W_dronePepprer_01_LOD1.glb":true,"/textures2/skyboxes/plasmaspheres/plasmaspheres_2048_6sided.1024.05.jpg":true,"/sound2/fx/firework_explosion_fizz.mp3":true,"/textures2/skyboxes/plasmaspheres/plasmaspheres_2048_6sided.1024.03.jpg":true,"/textures2/skyboxes/plasmaspheres/plasmaspheres_2048_6sided.1024.01.jpg":true,"/textures2/skyboxes/plasmaspheres/plasmaspheres_2048_6sided.1024.04.jpg":true,"/worlds/15751/562498390229123.1155.json":true,"/sound2/fx/Impact_Body_03.mp3":true,"/textures/fluid/green_slime.256.jpg":true,"/textures/T_grass_01/T_grass_01_normal.512-dxt.ktx":true,"/textures/T_grass_01/T_grass_01_specular.512-dxt.ktx":true,"/textures/Rough/Rough_rock_021_NRM.256-dxt.ktx":true,"/textures2/skyboxes/plasmaspheres/plasmaspheres_2048_6sided.1024.02.jpg":true,"/artifacts/9/a58eace0ea5b95a5ea45f73fcd823472.ply":true,"/3Dassets/baked/EN_P_lilypadFlower_01.glb":true,"/textures/Rough/Rough_rock_021_SPEC.256-dxt.ktx":true,"/textures/T_stoneFloor_04/T_stoneFloor_04_normal.512-dxt.ktx":true,"/artifacts/9/a98dea88005ae4bba6f164f5e1c98e64.ply":true,"/3Dassets/baked/EN_P_chair_01.glb":true,"/avatar/glb2/CH_PL_sciFi_shooterAvatar_01_small.glb.gz":true,"/3Dassets/baked/EN_P_couch_01.glb":true,"/artifacts/9/af01367a03ccd02e64f67141b0e64614.ply":true,"/textures/T_stoneFloor_04/T_stoneFloor_04_specular.512-dxt.ktx":true,"/artifacts/9/537e51a44cadfdea349ab8706727532d.ply":true,"/artifacts/9/9f749bb2cb9221b5d6cd4fad5fcd2dc9.ply":true,"/textures/T_grass_01/T_grass_01_albedo.512-dxt.ktx":true,"/artifacts/9/bad48be1540502f858b10584947a686a.ply":true,"/3Dassets/baked/GPL_weaponSpawner_01_red.glb":true,"/3Dassets/baked/GPL_weaponSpawner_01_blue.glb":true,"/textures/T_stoneFloor_04/T_stoneFloor_04_albedo.512-dxt.ktx":true,"/textures/Rough/Rough_rock_021_COLOR.256-dxt.ktx":true,"/textures2/skyboxes/noon/noon_2048_6sided.1024.04.jpg":true,"/textures/particles/particle2_diffuse.128-astc.ktx":true,"/3Dassets/drones/W_droneStarter_01_LOD1.glb":true,"/textures2/skyboxes/noon/noon_2048_6sided.1024.05.jpg":true,"/textures2/skyboxes/noon/noon_2048_6sided.1024.02.jpg":true,"/artifacts/9/0243b7c60bd84335872f0cc84d2affab.ply":true,"/textures2/skyboxes/noon/noon_2048_6sided.1024.01.jpg":true,"/avatar/glb2/CH_PL_sciFi_shooterAvatar_04_small.glb.gz":true,"/sound2/fx/jumpInBed2.mp3":true,"/textures/Wood/Wood_White_Cedar_001_NRM.256-dxt.ktx":true,"/textures/Wood/Wood_White_Cedar_001_SPEC.256-dxt.ktx":true,"/3Dassets/baked/EN_P_parasol_01.glb":true,"/sound2/music/Tobu_Louder_Now_loop.mp3":true,"/3Dassets/blocks/pyramid.obj":true,"/3Dassets/baked/EN_P_loungeChair_01.glb":true,"/textures/Wood/Wood_White_Cedar_001_COLOR.256-dxt.ktx":true,"/sound2/fx/laser_heavy.mp3":true,"/sound2/fx/laser_ice.mp3":true,"/textures2/skyboxes/noon/noon_2048_6sided.1024.03.jpg":true,"/textures/new2/snow/Snow_1024_NORMAL.256-dxt.ktx":true,"/3Dassets/baked/EN_M_sandcastleWallTurn_01_3.glb":true,"/3Dassets/baked/EN_P_bed_01.glb":true,"/3Dassets/baked/EN_M_dock_01.glb":true,"/sound2/music/last_chance.mp3":true,"/3Dassets/baked/EN_P_pottedPlant_01.glb":true,"/artifacts/9/3fa019f24bf3427e0418e85a9fecb26d.ply":true,"/textures/new2/snow/Snow_1024_COLOR.256-dxt.ktx":true,"/textures/T_planks_05/T_planks_05_normal.512-dxt.ktx":true,"/3Dassets/baked/EN_P_palmTree_02.glb":true,"/3Dassets/baked/EN_P_sciFiBox_01_2.glb":true,"/textures/Metal_p/metal_galvanised_001_NRM.256-astc.ktx":true,"/artifacts/17906/d2dedec0b3ac43dc8fe7fc59b96a59b1.ply":true,"/textures/Metal_p/metal_galvanised_001_SPEC.256-astc.ktx":true,"/3Dassets/artifacts/pipe90_6_fix1.ply":true,"/3Dassets/baked/EN_P_fruitBowl_01.glb":true,"/textures/T_planks_05/T_planks_05_specular.512-dxt.ktx":true,"/textures/T_rustyMetal_02/T_rustyMetal_02_normal.512-dxt.ktx":true,"/textures/Metal_p/metal_galvanised_001_COLOR.256-astc.ktx":true,"/artifacts/9/6ae33cfcf44febce3881c6620ce91c75.ply":true,"/textures/Metal/Metal_Plate_004_NORM.256-astc.ktx":true,"/textures2/skyboxes/plasmaspheres/plasmaspheres_2048_6sided.1024.00.jpg":true,"/3Dassets/baked/EN_M_door_01.glb":true,"/artifacts/9/2115ef48d717494138de118cdb9f7d25.ply":true,"/textures/T_rustyMetal_02/T_rustyMetal_02_specular.512-dxt.ktx":true,"/artifacts/9/ec1dcc5ee6f01178c314099dc81811e0.ply":true,"/textures/EN_P_table_01/EN_P_table_01_normal.512-dxt.ktx":true,"/textures/T_ice_01/T_ice_01_normal.512-dxt.ktx":true,"/3Dassets/baked/EN_P_crystalCluster_02_2.glb":true,"/textures/EN_P_table_01/EN_P_table_01_specular.512-dxt.ktx":true,"/3Dassets/baked/EN_P_starfish_01.glb":true,"/textures/T_ice_01/T_ice_01_specular.512-dxt.ktx":true,"/artifacts/9/b801b013312d79c62aaa318674e9dad5.ply":true,"/textures2/skyboxes/noon/noon_2048_6sided.1024.00.jpg":true,"/textures/T_rustyMetal_02/T_rustyMetal_02_albedo.512-dxt.ktx":true,"/textures/EN_P_table_01/EN_P_table_01_albedo.512-dxt.ktx":true,"/artifacts/9/cac8896f0595d97ba26aea0a132dc2ce.ply":true,"/artifacts/9/77183f1063f39e14ad7d016d92a908d1.ply":true,"/3Dassets/artifacts/EN_P_easterEgg_01.ply":true,"/3Dassets/baked/EN_M_roundedCylinder_01.glb":true,"/3Dassets/baked/EN_P_flag_01.glb":true,"/textures/Grainy/Grainy_Wood_001_NORM.256-dxt.ktx":true,"/3Dassets/baked/EN_M_roundedCube_01.glb":true,"/3Dassets/baked/EN_P_seagull_01_2.glb":true,"/artifacts/10294/fbd8737b202a38e458c257cdbe6b59c4.ply":true,"/3Dassets/artifacts/EN_P_easterBunny_01.ply":true,"/textures/T_planks_05/T_planks_05_albedo.512-dxt.ktx":true,"/sound2/music/daw2.mp3":true,"/textures/Grainy/Grainy_Wood_001_COLOR.256-dxt.ktx":true,"/artifacts/9/6b04d0053827e1d4e09bd2b77ae72281.ply":true,"/artifacts/9/e973febac01e1f19e1c09644f829f154.ply":true,"/artifacts/9/2a3f907af2ef1e14dc30517adea147aa.ply":true,"/3Dassets/baked/EN_M_dockPlanks_01.glb":true,"/artifacts/9/16537a738c57ac4547697a24c3dc1b30.ply":true,"/textures/T_ice_01/T_ice_01_albedo.512-dxt.ktx":true,"/artifacts/9/1e098dea34d64288c3c2d1cedecafac4.ply":true,"/artifacts/10294/414e49a0a8459ce14f4715625943527b.ply":true,"/3Dassets/baked/EN_P_inflatableMattress_01.glb":true,"/textures/GPL_launchpad_01/GPL_launchpad_01_normal.512-dxt.ktx":true,"/avatar/glb2/astronaut.glb.gz":true,"/textures/T_sand_03/T_sand_03_normal.512-dxt.ktx":true,"/sound2/fx/landing.mp3":true,"/avatar/glb2/Winter_hibert.glb.gz":true,"/textures/T_sand_02/T_sand_02_normal.512-dxt.ktx":true,"/artifacts/9/de9784a01b80b1e4c0c951f00802097d.ply":true,"/3Dassets/baked/EN_P_towel_01.glb":true,"/sound2/fx/rope-cracking1.mp3":true,"/textures/GPL_launchpad_01/GPL_launchpad_01_specular.512-dxt.ktx":true,"/textures/T_sand_03/T_sand_03_specular.512-dxt.ktx":true,"/textures/GPL_launchpad_01/GPL_launchpad_01_albedo.512-dxt.ktx":true,"/textures/T_sand_02/T_sand_02_specular.512-dxt.ktx":true,"/3Dassets/baked/EN_P_floorLamp_01.glb":true,"/artifacts/9/045caa78258f1e0efc9c3a06905d38b3.ply":true,"/3Dassets/blocks/gem.obj":true,"/3Dassets/baked/EN_P_latte_01.glb":true,"/3Dassets/baked/EN_P_lilypadLeaf_01.glb":true,"/artifacts/9/89c9e050b8672302226d622fc5ca17e4.ply":true,"/3Dassets/baked/EN_P_crystal_01.glb":true,"/textures/T_sand_02/T_sand_02_albedo.512-dxt.ktx":true,"/artifacts/9/e75fb21c9a5caa40c833df4362220fed.ply":true,"/textures/EN_P_couch_01/EN_P_couch_01_normal.512-dxt.ktx":true,"/sound2/music/mystic_island.mp3":true,"/artifacts/9/47d20f279f6af87bde9d68d9f848e6bd.ply":true,"/artifacts/9/2830732c7da55c152436eac5cbaba26f.ply":true,"/textures/Rough/Rough_Marble_001_NRM.256-dxt.ktx":true,"/3Dassets/artifacts/pipe_fix6.ply":true,"/thumbs/assets/GPL_C_star_01_dark.jpg":true,"/artifacts/9/270ac4f00de638abd3eda09abce871bb.ply":true,"/textures/T_sand_03/T_sand_03_albedo.512-dxt.ktx":true,"/artifacts/9/9f3f7398b220a121ea9a5aff3455583f.ply":true,"/3Dassets/baked/EN_P_largeRock_01_2.glb":true,"/textures/Metal/Metal_Plate_004_COLOR.256-dxt.ktx":true,"/textures/EN_P_couch_01/EN_P_couch_01_specular.512-dxt.ktx":true,"/3Dassets/baked/EN_P_sciFiBox_02.glb":true,"/textures/Rough/Rough_Marble_001_SPEC.256-dxt.ktx":true,"/artifacts/9/4f1a9e97abddb17a0a1825b5538ce377.ply":true,"/3Dassets/baked/EN_P_cocktail_01.glb":true,"/3Dassets/baked/EN_P_sciFiBarrel_01.glb":true,"/textures/Metal_p/Metal_Gold_Foil_002_NRM.256-dxt.ktx":true,"/artifacts/9/c214fa03a15d817dbcfabdf40025eb95.ply":true,"/sound2/fx/big_plasma.mp3":true,"/artifacts/9/56bc9ec013dd450294dc2882847cc4bf.ply":true,"/textures/EN_P_couch_01/EN_P_couch_01_albedo.512-dxt.ktx":true,"/3Dassets/baked/EN_P_fireworksTube_01.glb":true,"/textures/Metal_p/Metal_Gold_Foil_002_SPEC.256-dxt.ktx":true,"/sound2/music/love_now_loop.mp3":true,"/artifacts/9/0e3076adca52410d1d60875817036076.ply":true,"/textures/EN_P_bed_01/EN_P_bed_01_normal.512-dxt.ktx":true,"/textures/Rough/Rough_Marble_001_COLOR.256-dxt.ktx":true,"/textures/EN_P_chair_01/EN_P_chair_01_normal.512-dxt.ktx":true,"/textures/Metal_p/Metal_plate_003_NRM.256-dxt.ktx":true,"/artifacts/9/22c6608fabf2602c93ea711883516093.ply":true,"/textures/T_stoneWall_01/T_stoneWall_01_normal.512-dxt.ktx":true,"/sound2/fx/error.mp3":true,"/textures/EN_P_largeRock_02/EN_P_largeRock_02_normal.1024-dxt.ktx":true,"/textures/EN_P_bed_01/EN_P_bed_01_specular.512-dxt.ktx":true,"/textures/EN_P_bed_01/EN_P_bed_01_albedo.512-dxt.ktx":true,"/textures/Metal_p/Metal_Gold_Foil_002_COLOR.256-dxt.ktx":true,"/textures/EN_P_chair_01/EN_P_chair_01_specular.512-dxt.ktx":true,"/textures/EN_P_largeRock_02/EN_P_largeRock_02_albedo.1024-dxt.ktx":true,"/textures/Metal_p/Metal_plate_003_SPEC.256-dxt.ktx":true,"/textures/T_stoneWall_01/T_stoneWall_01_specular.512-dxt.ktx":true,"/textures/EN_P_largeRock_02/EN_P_largeRock_02_specular.1024-dxt.ktx":true,"/sound2/fx/kill-sound-2.mp3":true,"/artifacts/9/b2b34c8e5e72e446e76c9d944aeea136.ply":true,"/textures/Metal/Metal_dented_001_NRM.256-dxt.ktx":true,"/sound2/fx/swoop1.mp3":true,"/textures/EN_P_chair_01/EN_P_chair_01_albedo.512-dxt.ktx":true,"/textures/EN_M_dock_01/EN_M_dock_01_normal.512-dxt.ktx":true,"/textures/Metal/Metal_dented_001_SPEC.256-dxt.ktx":true,"/artifacts/9/a0dd6d9db4b511919a4f41b0360c1728.ply":true,"/artifacts/9/cf650df1dad9c54857ec31cc16ee9261.ply":true,"/textures/Metal_p/Metal_plate_003_COLOR.256-dxt.ktx":true,"/textures/EN_M_dock_01/EN_M_dock_01_specular.512-dxt.ktx":true,"/textures/EN_M_dock_01/EN_M_dock_01_albedo.512-dxt.ktx":true,"/3Dassets/baked/EN_P_crystalCluster_03_2.glb":true,"/artifacts/9/6adb942054da368b5863e6f1905aa76d.ply":true,"/textures/Metal/Metal_dented_001_COLOR.256-dxt.ktx":true,"/artifacts/9/0cf8851afd9976f254f984063f9ef1b5.ply":true,"/artifacts/9/0cf89c4970b1e0e7dcdacac55fb14b5a.ply":true,"/sound2/fx/respawn-rev.mp3":true,"/3Dassets/baked/EN_P_plate_01.glb":true,"/avatar/glb2/Default_hibert.glb.gz":true,"/3Dassets/baked/EN_M_houseDoorFrame_01_blue.glb":true,"/3Dassets/baked/EN_M_sandcastleWallStraight_01.glb":true,"/textures/T_bricks_01/T_bricks_01_normal.512-dxt.ktx":true,"/artifacts/9/6fb88306517803e5ff8956522986bf6a.ply":true,"/artifacts/9/1ff7fb4d6a5c1534223dae38654207c2.ply":true,"/textures/T_stoneWall_01/T_stoneWall_01_albedo.512-dxt.ktx":true,"/textures/T_bricks_01/T_bricks_01_specular.512-dxt.ktx":true,"/artifacts/9/8fd8619010f83ff92836a7528d8ff15b.ply":true,"/textures2/skyboxes/dusky_water/dusk_2048_6sided.1024.02.jpg":true,"/textures2/skyboxes/dusky_water/dusk_2048_6sided.1024.04.jpg":true,"/textures/Fabric_p/Fabric_001_NRM.256-dxt.ktx":true,"/textures/EN_M_door_01/EN_M_door_01_normal.512-dxt.ktx":true,"/3Dassets/artifacts/LugWrench.ply":true,"/textures2/skyboxes/dusky_water/dusk_2048_6sided.1024.05.jpg":true,"/textures/T_carpet_01/T_carpet_01_normal.512-dxt.ktx":true,"/textures2/skyboxes/dusky_water/dusk_2048_6sided.1024.01.jpg":true,"/sound2/music/ultraviolet.mp3":true,"/textures/Fabric_p/Fabric_001_SPEC.256-dxt.ktx":true,"/textures/EN_M_door_01/EN_M_door_01_specular.512-dxt.ktx":true,"/textures2/skyboxes/dusky_water/dusk_2048_6sided.1024.03.jpg":true,"/sound2/fx/splat2.mp3":true,"/3Dassets/baked/EN_M_sciFiFence_01.glb":true,"/textures/new2/rippled_sand/rippled_sand_1024_NORMAL.256-dxt.ktx":true,"/3Dassets/blocks/halfCylinder.obj":true,"/textures/Metal/Metal_scratched_003_NRM.256-dxt.ktx":true,"/artifacts/9/2ddeacf68b45fa49a3ca1fe129bbb1ae.ply":true,"/textures/EN_P_largeRock_03/EN_P_largeRock_03_normal.1024-dxt.ktx":true,"/textures/T_carpet_01/T_carpet_01_specular.512-dxt.ktx":true,"/textures/EN_P_parasol_01/EN_P_parasol_01_normal.512-dxt.ktx":true,"/sound2/ambient/humming.mp3":true,"/3Dassets/baked/EN_M_sandcastleGate_01.glb":true,"/textures/EN_P_largeRock_03/EN_P_largeRock_03_albedo.1024-dxt.ktx":true,"/textures/W_droneUpgrade_01/W_droneUpgrade_01_normal.256-dxt.ktx":true,"/3Dassets/baked/EN_P_reed_01.glb":true,"/textures/Fabric_p/Fabric_001_COLOR.256-dxt.ktx":true,"/textures/EN_P_largeRock_03/EN_P_largeRock_03_specular.1024-dxt.ktx":true,"/textures/EN_P_parasol_01/EN_P_parasol_01_specular.512-dxt.ktx":true,"/textures/W_droneUpgrade_01/W_droneUpgrade_01_albedo.256-dxt.ktx":true,"/textures/EN_M_door_01/EN_M_door_01_albedo.512-dxt.ktx":true,"/textures/Cardboard_p/Cardboard_002_normal.256-dxt.ktx":true,"/textures/EN_P_parasol_01/EN_P_parasol_01_albedo.512-dxt.ktx":true,"/textures/Metal/Metal_scratched_003_SPEC.256-dxt.ktx":true,"/artifacts/9/5bb466d68be92993291aa2cdeae24b83.ply":true,"/textures/W_droneUpgrade_01/W_droneUpgrade_01_specular.256-dxt.ktx":true,"/textures/T_scifiFloorTile_01/T_scifiFloorTile_01_normal.512-dxt.ktx":true,"/textures/W_droneStarter_01_LOD1/W_droneStarter_01_LOD1_normal.256-dxt.ktx":true,"/textures/Ice/Ice_001_NRM.256-dxt.ktx":true,"/artifacts/9/40067c47ca059ff9e5478decc7aa7e77.ply":true,"/textures/Wood/Wood_plank_007_NORM.256-dxt.ktx":true,"/textures/T_scifiFloorTile_01/T_scifiFloorTile_01_specular.512-dxt.ktx":true,"/textures/EN_P_pottedPlant_01/EN_P_pottedPlant_01_albedo.512-dxt.ktx":true,"/artifacts/9/96b4ec4eae1e8d42ef53ed4e216fd32a.ply":true,"/textures/W_droneStarter_01_LOD1/W_droneStarter_01_LOD1_specular.256-dxt.ktx":true,"/textures/EN_P_pottedPlant_01/EN_P_pottedPlant_01_normal.512-dxt.ktx":true,"/textures/Cardboard_p/Cardboard_002_specular.256-dxt.ktx":true,"/textures/pbr/mossy-ground1/mossy-ground1-preview.256-dxt.ktx":true,"/artifacts/9/1a2f2c03a254fc0d8889c079c5089136.ply":true,"/3Dassets/baked/W_droneWaterGun_04.glb":true,"/textures/Concrete_p/Concrete_003_NRM.256-dxt.ktx":true,"/3Dassets/artifacts/Flower.ply":true,"/textures/Ice/Ice_001_SPEC.256-dxt.ktx":true,"/textures/W_droneStarter_01_LOD1/W_droneStarter_01_LOD1_albedo.256-dxt.ktx":true,"/textures/Cardboard_p/Cardboard_002_diffuse.256-dxt.ktx":true,"/textures/EN_P_pottedPlant_01/EN_P_pottedPlant_01_specular.512-dxt.ktx":true,"/textures/pbr/mossy-ground1/mossy-ground1-albedo.256-dxt.ktx":true,"/textures/T_carpet_01/T_carpet_01_albedo.512-dxt.ktx":true,"/textures/Concrete_p/Concrete_003_SPEC.256-dxt.ktx":true,"/textures/Asphalt/Asphalt_002_NORM.256-dxt.ktx":true,"/artifacts/9/99add725058fef2a767b66a411404db0.ply":true,"/textures/Wood/Wood_plank_007_COLOR.256-dxt.ktx":true,"/textures/Ice/Ice_001_COLOR.256-dxt.ktx":true,"/textures/T_bricks_01/T_bricks_01_albedo.512-dxt.ktx":true,"/avatar/glb2/robot01_hibert.glb.gz":true,"/avatar/glb2/Diver_unisex_v2.glb.gz":true,"/artifacts/9/ccddc3846b3ae815e535d85824605df0.ply":true,"/3Dassets/baked/EN_P_seashell_01.glb":true,"/artifacts/9/40b3fdc052904099455231d35b9476a6.ply":true,"/textures/Wood/Wood_plancks_003_NRM.256-dxt.ktx":true,"/textures/new2/rippled_sand/rippled_sand_1024_COLOR.256-dxt.ktx":true,"/textures/EN_M_sciFiStair_01/EN_M_sciFiStair_01_normal.512-dxt.ktx":true,"/sound2/music/Itro_Tobu_Cloud9_loop.mp3":true,"/sound2/music/Tobu_Infectious_loop.mp3":true}')},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InjectGroup=void 0,n.InjectGroup=function InjectGroup(...r){return(n,a)=>{const i=Reflect.getMetadata("ecs:group",n)||{};Reflect.defineMetadata("ecs:group",Object.assign(Object.assign({},i),{[a]:{components:r}}),n)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(10),o=a(38);class EntityGroup extends i{constructor(){super(),this.componentMask=new o.ComponentMask,this.entities=[]}triggerEventForSystem(r,n){let a=this._events[r];if(a){a.fn&&(a=[a]);for(let r=0;r<a.length;++r){const i=a[r];if(i&&i.context===n)for(let r=0;r<this.length;r++){const n=this.entities[r];i.fn.call(i.context,n)}}}}onEntityUpdated(r,n){this.emit("entityUpdated",r)}addEntity(r){this.entities.push(r),this.emit("entityAdded",r)}hasEntity(r){return this.entities.indexOf(r)>-1}removeEntity(r){this.entities.splice(this.entities.indexOf(r),1),this.emit("entityRemoved",r)}get length(){return this.entities.length}[Symbol.iterator](){return this.entities.slice()[Symbol.iterator]()}}n.default=EntityGroup},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TempComponentMaskPool=n.ComponentMask=void 0;const i=a(39),o=i.MAX_NUM_COMPONENT_TYPES/32;class ComponentMask{constructor(){this.words=new Uint32Array(o),this.clear()}copy(r){return this.words.set(r.words,0),this}clear(){return this.words.fill(0),this}setComponentBitFromID(r){this.words[r>>5]|=1<<(31&r)}setComponentBit(r){this.setComponentBitFromID(r.id)}unsetComponentBitFromID(r){this.words[r>>5]&=~(1<<(31&r))}unsetComponentBit(r){this.unsetComponentBitFromID(r.id)}hasComponentById(r){const n=1<<(31&r);return(n&this.words[r>>5])===n}hasComponent(r){return this.hasComponentById(r.id)}hasComponents(r){for(let n=0;n<o;n++){const a=0|this.words[n],i=0|r.words[n];if((a&i)!==i)return!1}return!0}isEqual(r){for(let n=0;n<o;n++)if(this.words[n]!==r.words[n])return!1;return!0}hash(){let r=0;for(let n=0;n<i.MAX_NUM_COMPONENT_TYPES;n++){const a=1<<(31&n);r=(r<<5)-r+((a&this.words[n>>5])===a),r&=r}return r>>>0}}n.ComponentMask=ComponentMask,n.TempComponentMaskPool=class TempComponentMaskPool{constructor(){this.pool=[],this.inUse=[]}get(){let r=void 0;return r=0===this.pool.length?new ComponentMask:this.pool.pop(),r.clear(),this.inUse.push(r),r}reset(){for(let r=0;r<this.inUse.length;r++)this.pool.push(this.inUse[r]);this.inUse.length=0}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.MAX_NUM_COMPONENT_TYPES=n.ENTITY_UID_INDEX_MASK=n.MAX_NUM_ENTITIES=n.MAX_NUM_NON_NETWORKED_ENTITIES=n.ENTITY_UID_GENERATION_NUM_BITS=n.ENTITY_UID_INDEX_NUM_BITS=n.ENTITY_UID_NUM_BITS=n.ENTITY_INVALID_UID=void 0,n.ENTITY_INVALID_UID=4294967295,n.ENTITY_UID_NUM_BITS=31,n.ENTITY_UID_INDEX_NUM_BITS=23,n.ENTITY_UID_GENERATION_NUM_BITS=8,n.MAX_NUM_NON_NETWORKED_ENTITIES=1<<n.ENTITY_UID_INDEX_NUM_BITS-1,n.MAX_NUM_ENTITIES=1<<n.ENTITY_UID_INDEX_NUM_BITS,n.ENTITY_UID_INDEX_MASK=n.MAX_NUM_ENTITIES-1,n.MAX_NUM_COMPONENT_TYPES=128},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});class System{constructor(){this.enabled=!0,this.disposed=!1,this.components=0}onInit(){}updateTick(r,n){}resimulateEntities(r,n,a,i){}onDispose(){}dispose(){this.onDispose(),this.disposed=!0}updateFrame(r,n){}}System.isSystem=!0,System.order=0,n.default=System},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.interpolateTransforms=n.Transform=void 0;const w=a(42),E=a(43),j=a(8),q=a(19),$=a(44),ne=a(24),ie=a(26),oe=new q.Matrix4,se=new q.Vector3(0,0,0),le=new q.Vector3(0,1,0);class Transform{constructor(){this.position=new q.Vector3(0,0,0),this.scale=new q.Vector3(1,1,1),this.rotation=new q.Quaternion(0,0,0,1)}setIdentity(){return this.position.set(0,0,0),this.scale.set(1,1,1),this.rotation.set(0,0,0,1),this}copy(r){return this.position.copy(r.position),this.scale.copy(r.scale),this.rotation.copy(r.rotation),this}setRotationFromDirection(r,n){return n||(n=le),oe.lookAt(se,r,n),this.rotation.setFromRotationMatrix(oe),this}}function interpolateTransforms(r,n,a,i){return E.cfg.experimentalExtrapolation&&(i+=1),r.position.x=$.lerp(n.position.x,a.position.x,i),r.position.y=$.lerp(n.position.y,a.position.y,i),r.position.z=$.lerp(n.position.z,a.position.z,i),r.scale.x=$.lerp(n.scale.x,a.scale.x,i),r.scale.y=$.lerp(n.scale.y,a.scale.y,i),r.scale.z=$.lerp(n.scale.z,a.scale.z,i),r.rotation.copy(n.rotation),r.rotation.slerp(a.rotation,i),r}n.Transform=Transform,n.interpolateTransforms=interpolateTransforms;class NodeComponent extends ne.default{constructor(){super(),this.isDirty=!0,this.skipInterpolate=!1,this.entityIdentifier=0,this.parent=null,this.scale=new q.Vector3(1,1,1),this.position=new q.Vector3,this.rotation=new q.Quaternion,this.tmpTransform1=new Transform,this.tmpTransform2=new Transform,this.tmpVec=new q.Vector3,this.prevAbsoluteTransform=new Transform,this.group=1,this.isStatic=!0,this.children=[],this.object=new q.Object3D}initializeTransform(r){this.setAbsoluteTransform(r),this.getAbsoluteTransform(this.tmpTransform1),this.prevAbsoluteTransform.copy(this.tmpTransform1)}initializeTransformComps(r,n,a){this.tmpTransform2.setIdentity(),this.tmpTransform2.position.copy(r),n&&this.tmpTransform2.scale.copy(n),a&&this.tmpTransform2.rotation.copy(a),this.initializeTransform(this.tmpTransform2)}getRelativeTransform(r){return r.position.copy(this.position),r.scale.copy(this.scale),r.rotation.copy(this.rotation),r}setRelativeTransform(r){this.position.copy(r.position),this.scale.copy(r.scale),this.rotation.copy(r.rotation)}getAbsoluteTransform(r){if(this.parent){const n=j.entityManager.getEntity(this.parent);if(!n)return this.parent=null,this.setAbsoluteTransform(this.prevAbsoluteTransform),r.copy(this.prevAbsoluteTransform),r;n.node.getAbsoluteTransform(this.tmpTransform1),this.tmpVec.copy(this.position).applyQuaternion(this.tmpTransform1.rotation),r.position.copy(this.tmpVec).add(this.tmpTransform1.position),r.scale.copy(this.scale).multiply(this.tmpTransform1.scale),r.rotation.copy(this.rotation).multiply(this.tmpTransform1.rotation)}else this.getRelativeTransform(r);return r}setAbsoluteTransform(r){this.parent||this.setRelativeTransform(r)}getInterpolatedAbsoluteTransform(r,n){return this.getAbsoluteTransform(this.tmpTransform2),interpolateTransforms(r,this.prevAbsoluteTransform,this.tmpTransform2,n),r}setParent(r){this.parent=r.index}}NodeComponent.componentName="node",NodeComponent.displayName="Scale & Rotation",y([ie.Property(),_("design:type",Boolean)],NodeComponent.prototype,"skipInterpolate",void 0),y([ie.Property({inspector:!1}),_("design:type",Number)],NodeComponent.prototype,"entityIdentifier",void 0),y([ie.Property({inspector:!1}),_("design:type",Object)],NodeComponent.prototype,"parent",void 0),y([ie.Property({inspectorOptions:{pattern:w.patterns.floatPositiveNotEmpty,minValue:.2,maxValue:9999,allAxis:!0}}),_("design:type","function"==typeof(i=void 0!==q.Vector3&&q.Vector3)?i:Object)],NodeComponent.prototype,"scale",void 0),y([ie.Property({inspector:"Vector3",inspectorOptions:{pattern:w.patterns.floatPositiveNegative,allAxis:!1}}),_("design:type","function"==typeof(o=void 0!==q.Vector3&&q.Vector3)?o:Object)],NodeComponent.prototype,"position",void 0),y([ie.Property({inspector:"Vector3",inspectorOptions:{pattern:w.patterns.floatPositiveNegative,allAxis:!1}}),_("design:type","function"==typeof(s=void 0!==q.Quaternion&&q.Quaternion)?s:Object)],NodeComponent.prototype,"rotation",void 0),y([ie.Property({advanced:!0}),_("design:type",Number)],NodeComponent.prototype,"group",void 0),y([ie.Property({advanced:!0}),_("design:type",Boolean)],NodeComponent.prototype,"isStatic",void 0),n.default=NodeComponent},function(r,n,a){"use strict";a.r(n),a.d(n,"patterns",(function(){return o})),a.d(n,"checkValues",(function(){return checkValues})),a.d(n,"fancify",(function(){return fancify})),a.d(n,"defVal",(function(){return defVal})),a.d(n,"append",(function(){return append})),a.d(n,"each",(function(){return each})),a.d(n,"size",(function(){return size})),a.d(n,"quaternionToDegVector",(function(){return quaternionToDegVector})),a.d(n,"degVectorToQuaternion",(function(){return degVectorToQuaternion})),a.d(n,"now",(function(){return now})),a.d(n,"getId",(function(){return getId})),a.d(n,"stringCast",(function(){return stringCast}));var i=a(19);const o={intPositiveNotEmpty:"^\\d+$",intPositive:"^\\d*$",floatPositiveNotEmpty:"^(?=.+)(?:[1-9]\\d*|0)?(?:\\.\\d+)?$",floatPositiveNegative:"^\\s*[+-]?(\\d+|\\.\\d+|\\d+\\.\\d+|\\d+\\.)(e[+-]?\\d+)?\\s*$",stringNotEmpty:"([^\\s]*)"},checkValues=function(r,n){return n.minValue&&r<=n.minValue&&(r=n.minValue),n.maxValue&&r>=n.maxValue&&(r=n.maxValue),r&&r.trim&&(r=r.trim()),r},fancify=function(r){return(r=r.split("_").join(" ")).substr(0,1).toUpperCase()+r.substr(1)},defVal=function(r,n){return null==r||""===r?n:r},append=function(r,n){r.insertAdjacentHTML("beforeend",n)},each=function(r,n){let a;if(isNaN(r)){if(r instanceof Array){const i=r.length;for(a=0;a<i;a+=1)n(r[a],a)}else if(r){let a=0;for(const i of Object.keys(r))n(r[i],i,a),a++}}else for(a=0;a<r;a+=1)n(a)},size=function(r){return Object.keys(r).length},quaternionToDegVector=r=>{if(r instanceof i.Quaternion){const n=new i.Euler,a={};return n.setFromQuaternion(r),a.x=n.x<0?360+n.x*(180/Math.PI):n.x*(180/Math.PI),a.y=n.y<0?360+n.y*(180/Math.PI):n.y*(180/Math.PI),a.z=n.z<0?360+n.z*(180/Math.PI):n.z*(180/Math.PI),a.x=360===a.x?0:a.x,a.y=360===a.y?0:a.y,a.z=360===a.z?0:a.z,a}return r},degVectorToQuaternion=r=>{const n=new i.Euler(r.x*(Math.PI/180),r.y*(Math.PI/180),r.z*(Math.PI/180)),a=new i.Quaternion;return a.setFromEuler(n),a},now=()=>performance.now()||Date.now();let s=0;const getId=()=>now().toString(36).replace(".","")+(s++%1024).toString(36),stringCast=function(r){if(void 0===r)return"";const check=function(r){return"true"===r.toLowerCase()||"false"!==r.toLowerCase()&&(isNaN(r.replace(",","."))?r:(r=r.replace(",",".")).indexOf(".")?parseFloat(r):parseInt(r,10))};if(!isNaN(r)&&"string"!=typeof r)return r;if(""===r)return"";if(r.indexOf&&-1===r.indexOf("{"))return check(r);try{const n=JSON.parse(r);if(n&&"object"==typeof n&&null!==n)return n}catch(n){check(r)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.cfg=n.EngineConfig=n.atleast=n.SettingLevel=void 0;const i=a(13);var o;!function(r){r[r.OFF=0]="OFF",r[r.LOW=1]="LOW",r[r.HIGH=2]="HIGH"}(o=n.SettingLevel||(n.SettingLevel={})),n.atleast=function atleast(r,n){return r>=n};class EngineConfig{constructor(){this.dynamicResolution=!i.disableDynamicResolutionDontReadThis,this.particleEffects=o.HIGH,this.shooterAllowLookingAwayFromCamera=!1,this.experimentalExtrapolation=i.queryExtrapolationDontReadThis,this.anisotropicFilteringLevel=4,this.sunShadow=!1,this.sunShadowPhysicalSize=30,this.sunShadowMapResolution=512,this.cameraRecoilEnabled=!1,this.weaponHitParticlesEnabled=!1}}n.EngineConfig=EngineConfig,n.cfg=new EngineConfig},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lerp=void 0,n.lerp=(r,n,a)=>r+(n-r)*a},function(r,n,a){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.DEFAULT_GRAVITY=n.AVATAR_MODES=n.PHYSICS_ACTIVATION_STATE=n.PHYSICS_GROUPS=n.PHYSICS_FLAGS=n.PHYSICS_SHAPE=n.PHYSICS_DATA_TYPE=n.PHYSICS_TYPE=n.PHYSICS_MODE=n.PHYSICS_SCALE_INV=n.PHYSICS_SCALE=void 0,n.PHYSICS_SCALE=2,n.PHYSICS_SCALE_INV=1/n.PHYSICS_SCALE,n.PHYSICS_MODE={STATIC:0,RIGID:1,ILLUSION:2,GHOST:3,KINEMATIC:8},n.PHYSICS_TYPE={BODY:0,AVATAR:1,CONSTRAINT:2,CHARACTER:3,CHARACTER_2:4},n.PHYSICS_DATA_TYPE={TRANSFORM:0,COLLISIONS:1,GHOST_COLLISIONS:2},n.PHYSICS_SHAPE={BOX:0,CONE:1,CYLINDER:2,CAPSULE:3,SPHERE:4,COMPOUND:5,CONVEX:6,CONCAVE:7,PLANE:8,HEIGHTMAP:9},n.PHYSICS_FLAGS={CF_STATIC_OBJECT:1,CF_KINEMATIC_OBJECT:2,CF_NO_CONTACT_RESPONSE:4,CF_CUSTOM_MATERIAL_CALLBACK:8,CF_CHARACTER_OBJECT:16,CF_DISABLE_VISUALIZE_OBJECT:32,CF_DISABLE_SPU_COLLISION_PROCESSING:64},(i=n.PHYSICS_GROUPS||(n.PHYSICS_GROUPS={}))[i.DefaultFilter=1]="DefaultFilter",i[i.StaticFilter=2]="StaticFilter",i[i.KinematicFilter=4]="KinematicFilter",i[i.DebrisFilter=8]="DebrisFilter",i[i.SensorTrigger=16]="SensorTrigger",i[i.CharacterFilter=32]="CharacterFilter",i[i.MirageFilter=64]="MirageFilter",i[i.CharacterAliveFilter=128]="CharacterAliveFilter",i[i.DeadFilter=256]="DeadFilter",i[i.LocalPlayer=512]="LocalPlayer",i[i.OtherPlayer=1024]="OtherPlayer",i[i.AllFilter=-1]="AllFilter",n.PHYSICS_ACTIVATION_STATE={ACTIVE_TAG:1,ISLAND_SLEEPING:2,WANTS_DEACTIVATION:3,DISABLE_DEACTIVATION:4,DISABLE_SIMULATION:5},n.AVATAR_MODES={WALK:0,RUN:1,FLY:2},n.DEFAULT_GRAVITY=-55},function(r,n,a){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.Physicality=void 0,(i=n.Physicality||(n.Physicality={}))[i.STATIC=0]="STATIC",i[i.DYNAMIC=1]="DYNAMIC",i[i.GHOST=3]="GHOST",i[i.KINEMATIC=8]="KINEMATIC"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RigidBody=void 0;const i=a(45),o=a(46),s=a(48),y=a(25),_=a(49),w=a(59);class RigidBody extends w.default{constructor(r,n){super(r,n),this.shape=null,this.currentHash=0,this.mass=-1,this.createBody();const{node:a,rigidBody:i}=n;this.setTransform(a.position,a.rotation),this.setLinearVelocity(i.linearVelocity),this.setAngularVelocity(i.angularVelocity)}getShapeId(){const{node:r,rigidBody:n,model:a}=this.entity,i=n.geometry||a&&a.geometry||"";return s.generateShapeId(i,n.physicality,r.scale)}createRigid(){const{node:r,rigidBody:n}=this.entity,{position:a,rotation:s,scale:y}=r,{physicality:w,friction:E,restitution:j,collisionFlags:q,mass:$,ccd:ne}=n,{tmpTransform1:ie,tmpVec1:oe,tmpQuat1:se}=this.world;this.shape&&_.freeShape(this.shape),this.shape=_.default(this.world,this.getShapeId(),y),oe.setValue(a.x*i.PHYSICS_SCALE,a.y*i.PHYSICS_SCALE,a.z*i.PHYSICS_SCALE),ie.setIdentity(),ie.setOrigin(oe),se.setValue(s.x,s.y,s.z,s.w),ie.setRotation(se),oe.setValue(0,0,0),w!==o.Physicality.STATIC&&w!==o.Physicality.KINEMATIC&&this.shape.calculateLocalInertia($,oe),this.shape.setMargin(.01);const le=w!==o.Physicality.STATIC&&w!==o.Physicality.KINEMATIC?$:0;this.motionState=new Ammo.btDefaultMotionState(ie),this.rbInfo=new Ammo.btRigidBodyConstructionInfo(le,this.motionState,this.shape,oe),this.rbInfo.set_m_friction(E),this.rbInfo.set_m_restitution(j),this.rbInfo.set_m_linearSleepingThreshold(.4*i.PHYSICS_SCALE),this.rbInfo.set_m_angularSleepingThreshold(.4*i.PHYSICS_SCALE);const pe=new Ammo.btRigidBody(this.rbInfo);if(q&&pe.setCollisionFlags(pe.getCollisionFlags()|q),w===o.Physicality.KINEMATIC?(pe.setCollisionFlags(pe.getCollisionFlags()|i.PHYSICS_FLAGS.CF_KINEMATIC_OBJECT),pe.setActivationState(i.PHYSICS_ACTIVATION_STATE.DISABLE_DEACTIVATION),pe.activate(!0)):w===o.Physicality.STATIC&&pe.setCollisionFlags(pe.getCollisionFlags()|i.PHYSICS_FLAGS.CF_STATIC_OBJECT),ne){const r=Math.max(y.x,y.y,y.z);pe.setCcdMotionThreshold(.4*i.PHYSICS_SCALE),pe.setCcdSweptSphereRadius(r*i.PHYSICS_SCALE*.5)}return pe.setFriction(E),pe.setDamping(.01,.01),pe}createGhost(){const{node:r}=this.entity,{position:n,rotation:a,scale:o}=r,{tmpTransform1:s,tmpVec1:y,tmpQuat1:w}=this.world;_.freeShape(this.shape),this.shape=_.default(this.world,this.getShapeId(),o),y.setValue(n.x*i.PHYSICS_SCALE,n.y*i.PHYSICS_SCALE,n.z*i.PHYSICS_SCALE),s.setIdentity(),s.setOrigin(y),w.setValue(a.x,a.y,a.z,a.w),s.setRotation(w),y.setValue(0,0,0);const E=new Ammo.btGhostObject;return E.setWorldTransform(s),E.setCollisionShape(this.shape),E.setCollisionFlags(i.PHYSICS_FLAGS.CF_NO_CONTACT_RESPONSE),E}getDefaultGroup(){switch(this.entity.rigidBody.physicality){case o.Physicality.STATIC:return i.PHYSICS_GROUPS.StaticFilter;case o.Physicality.KINEMATIC:return i.PHYSICS_GROUPS.KinematicFilter;case o.Physicality.GHOST:return i.PHYSICS_GROUPS.SensorTrigger;case o.Physicality.DYNAMIC:default:return i.PHYSICS_GROUPS.DefaultFilter}}getDefaultMask(){switch(this.entity.rigidBody.physicality){case o.Physicality.STATIC:case o.Physicality.KINEMATIC:case o.Physicality.GHOST:return i.PHYSICS_GROUPS.DefaultFilter;case o.Physicality.DYNAMIC:default:return i.PHYSICS_GROUPS.DefaultFilter|i.PHYSICS_GROUPS.KinematicFilter|i.PHYSICS_GROUPS.StaticFilter}}add(){const r=this.entity.rigidBody,n=r.group||this.getDefaultGroup(),a=r.mask|this.getDefaultMask()|i.PHYSICS_GROUPS.LocalPlayer;if(!this.body)return void console.error("Body does not exist?");this.body instanceof Ammo.btGhostObject?this.world.world.addCollisionObject(this.body,n,a):(this.world.world.addRigidBody(this.body,n,a),this.body.isKinematicObject()&&this.body.activate(!0));const o=this.getPointer();this.world.bodyPointers.set(o,this.uid)}createBody(){const{rigidBody:r}=this.entity;r.physicality===o.Physicality.GHOST?this.body=this.createGhost():this.body=this.createRigid(),this.mass=r.mass}updateBody(){this.remove(),this.destroy(),this.createBody(),this.add()}setLinearFactor(r){const{tmpVec1:n}=this.world;!this.body||this.body instanceof Ammo.btGhostObject||(n.setValue(r.x*i.PHYSICS_SCALE,r.y*i.PHYSICS_SCALE,r.z*i.PHYSICS_SCALE),this.body.setLinearFactor(n))}setAngularFactor(r){if(!this.body||this.body instanceof Ammo.btGhostObject)return;const{tmpVec1:n}=this.world;n.setValue(r.x,r.y,r.z),this.body.setAngularFactor(n)}setDamping(r,n){!this.body||this.body instanceof Ammo.btGhostObject||this.body.setDamping(r,n)}setLinearVelocity(r){if(!this.body||this.body instanceof Ammo.btGhostObject)return;const{tmpVec1:n}=this.world;n.setValue(r.x*i.PHYSICS_SCALE,r.y*i.PHYSICS_SCALE,r.z*i.PHYSICS_SCALE),this.body.setLinearVelocity(n)}setAngularVelocity(r){if(!this.body||this.body instanceof Ammo.btGhostObject)return;const{tmpVec1:n}=this.world;n.setValue(r.x,r.y,r.z),this.body.setAngularVelocity(n)}applyCentralForce(r){if(!(this.body instanceof Ammo.btRigidBody))return;const n=this.world.tmpVec3;n.setValue(r.x,r.y,r.z),this.body.applyCentralForce(n),this.body.isActive()||this.body.activate()}applyCentralImpulse(r){if(!(this.body instanceof Ammo.btRigidBody))return;const n=this.world.tmpVec3;n.setValue(r.x,r.y,r.z),this.body.applyCentralImpulse(n)}setMass(r){if(!(this.body instanceof Ammo.btRigidBody)||this.entity.rigidBody.physicality===o.Physicality.STATIC)return;const n=this.entity.rigidBody.mass;if(this.mass===n)return;this.mass=n;const{tmpVec1:a}=this.world;this.remove(),a.setValue(0,0,0),this.shape.calculateLocalInertia(r,a),this.body.setMassProps(r,a),this.add(),this.body.activate()}getPointer(){return Ammo.getPointer(this.body)}remove(){this.body&&(this.body instanceof Ammo.btGhostObject?this.world.world.removeCollisionObject(this.body):this.world.world.removeRigidBody(this.body))}destroy(){const r=this.getPointer();this.world.bodyPointers.delete(r),this.body&&(Ammo.destroy(this.body),this.body=null),this.motionState&&(Ammo.destroy(this.motionState),this.motionState=null),this.rbInfo&&(Ammo.destroy(this.rbInfo),this.rbInfo=null),_.freeShape(this.shape)}updateProps(){const{node:r,rigidBody:n}=this.entity,a=y.default({shapeId:this.getShapeId(),scale:r.scale,physicality:n.physicality});this.currentHash!==a&&this.updateBody(),this.currentHash=a,this.setMass(n.mass),this.setTransform(r.position,r.rotation),this.setLinearVelocity(n.linearVelocity),this.setAngularVelocity(n.angularVelocity),this.setFriction(n.friction),this.resetInterpolationData(r.position,r.rotation)}setFriction(r){this.body&&this.body.setFriction(r)}resetInterpolationData(r,n){const{tmpTransform1:a,tmpVec1:o,tmpQuat1:s}=this.world;this.body&&(o.setValue(r.x*i.PHYSICS_SCALE,r.y*i.PHYSICS_SCALE,r.z*i.PHYSICS_SCALE),a.setOrigin(o),s.setValue(n.x,n.y,n.z,n.w),a.setRotation(s),o.setValue(0,0,0),this.body.setInterpolationLinearVelocity(o),this.body.setInterpolationAngularVelocity(o),this.body.setInterpolationWorldTransform(a))}extrapolate(r){const{node:n,rigidBody:a}=this.entity;this.body&&this.body.isActive()&&(n.isDirty=!0,n.position.x+=r*a.linearVelocity.x,n.position.y+=r*a.linearVelocity.y,n.position.z+=r*a.linearVelocity.z)}syncState(r){const{node:n,rigidBody:a}=this.entity,{tmpTransform3:s}=this.world;if(a.physicality!==o.Physicality.DYNAMIC||this.body instanceof Ammo.btGhostObject)return;if(!this.body||!this.body.isActive())return;n.isDirty=!0;const y=this.body.getLinearVelocity(),_=this.body.getAngularVelocity();a.linearVelocity.x=y.x()*i.PHYSICS_SCALE_INV,a.linearVelocity.y=y.y()*i.PHYSICS_SCALE_INV,a.linearVelocity.z=y.z()*i.PHYSICS_SCALE_INV,a.angularVelocity.x=_.x(),a.angularVelocity.y=_.y(),a.angularVelocity.z=_.z(),this.body.getMotionState().getWorldTransform(s);const w=s.getOrigin();n.position.x=w.x()*i.PHYSICS_SCALE_INV,n.position.y=w.y()*i.PHYSICS_SCALE_INV,n.position.z=w.z()*i.PHYSICS_SCALE_INV;const E=s.getRotation();n.rotation.x=E.x(),n.rotation.y=E.y(),n.rotation.z=E.z(),n.rotation.w=E.w()}setTransform(r,n){const{tmpTransform1:a,tmpVec1:o,tmpQuat1:s}=this.world;this.body&&(this.body instanceof Ammo.btGhostObject||this.body.getMotionState().getWorldTransform(a),o.setValue(r.x*i.PHYSICS_SCALE,r.y*i.PHYSICS_SCALE,r.z*i.PHYSICS_SCALE),a.setOrigin(o),s.setValue(n.x,n.y,n.z,n.w),a.setRotation(s),this.body instanceof Ammo.btGhostObject||this.body.getMotionState().setWorldTransform(a),this.body.setWorldTransform(a),this.body.isActive()||this.body.activate())}}n.RigidBody=RigidBody},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.generateShapeId=n.getShapeType=void 0;const i=a(45),o=a(46),s=a(25),y=a(22);n.getShapeType=(r,n,a)=>{let s=n===o.Physicality.STATIC?i.PHYSICS_SHAPE.CONCAVE:i.PHYSICS_SHAPE.CONVEX;const _=y.default[r];if(_)switch(_.geometryType){case"box":s=i.PHYSICS_SHAPE.BOX;break;case"ConvexGeometry":s=i.PHYSICS_SHAPE.CONVEX;break;case"ForceConcaveGeometry":s=n===o.Physicality.DYNAMIC?i.PHYSICS_SHAPE.CONVEX:i.PHYSICS_SHAPE.CONCAVE}return"box"===r&&(s=i.PHYSICS_SHAPE.BOX),"sphere"===r&&a.x===a.y&&a.y===a.z&&(s=i.PHYSICS_SHAPE.SPHERE),"capsule"===r&&a.x===a.z&&(s=i.PHYSICS_SHAPE.CAPSULE),"cone"===r&&a.x===a.z&&(s=i.PHYSICS_SHAPE.CONE),"cylinder"===r&&a.x===a.z&&(s=i.PHYSICS_SHAPE.CYLINDER),s},n.generateShapeId=(r,a,i)=>{const o=n.getShapeType(r,a,i);return s.default({geometry:r,type:o})}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.freeShape=n.clearCache=void 0;const i=a(19),o=a(45),s=a(50),y=a(25),_=a(51),w=a(52),E=a(53),j=a(54),q=a(55),$=a(56),ne=a(57),ie=a(58),oe=new Map;oe.set(o.PHYSICS_SHAPE.BOX,_.default),oe.set(o.PHYSICS_SHAPE.CAPSULE,w.default),oe.set(o.PHYSICS_SHAPE.CONE,j.default),oe.set(o.PHYSICS_SHAPE.CYLINDER,$.default),oe.set(o.PHYSICS_SHAPE.SPHERE,ne.default),oe.set(o.PHYSICS_SHAPE.CONCAVE,E.default),oe.set(o.PHYSICS_SHAPE.CONVEX,q.default);const se=new ie.SimpleCache;n.clearCache=function clearCache(){const r=se.getUnused();for(const n of r)se.delete(n.key),Ammo.destroy(n)},n.freeShape=function freeShape(r){r&&r.key&&se.free(r.key)},n.default=function getShape(r,n,a=new i.Vector3(1,1,1)){const{tmpVec2:_}=r;let w=null;const E=a,j=r.getShapeData(n);return w=function createShape(r,n,a){const{tmpVec1:i,tmpQuat1:_,tmpTransform1:w}=r,E=Array.isArray(n)?o.PHYSICS_SHAPE.COMPOUND:n.type,j=s.calculateShapeHash(n)+y.default(a);if(se.has(j))return se.get(j);let q=null;if(E!==o.PHYSICS_SHAPE.COMPOUND)oe.has(E)&&(q=oe.get(E)(r,n));else if(Array.isArray(n)){q=new Ammo.btCompoundShape;for(let a=0;a<n.length;++a){const s=n[a],{offset:y,rotation:E,scale:j}=s;if(!y||!E)continue;w.setIdentity(),i.setX(j.x*y.x*o.PHYSICS_SCALE),i.setY(j.y*y.y*o.PHYSICS_SCALE),i.setZ(j.z*y.z*o.PHYSICS_SCALE),w.setOrigin(i),_.setX(E.x),_.setY(E.y),_.setZ(E.z),_.setW(E.w),w.setRotation(_),i.setValue(0,0,0);const $=createShape(r,s,j);q.addChildShape(w,$)}}return se.set(j,q),q}(r,j,a),E&&(_.setValue(E.x,E.y,E.z),w.setLocalScaling(_)),w}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.calculateShapeHash=void 0;const i=a(11);n.calculateShapeHash=function calculateShapeHash(r,n=0){const a=["rotation","offset","indices","vertices","dontCentralize","uv","radialSegments","tubularSegments"],o=Object.keys(r).filter(r=>!a.includes(r)).map(n=>{const a=r[n];return"object"==typeof a?calculateShapeHash(a):"number"==typeof a?Math.round(100*a)/100:a}).concat([n]).join("-");return i.default(o)}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.type=void 0;const i=a(45);n.type=i.PHYSICS_SHAPE.BOX,n.default=function createBox(r,n){const{tmpVec1:a}=r,{scale:o}=n;return a.setValue(i.PHYSICS_SCALE*o.x*n.width/2,i.PHYSICS_SCALE*o.y*n.height/2,i.PHYSICS_SCALE*o.z*n.depth/2),new Ammo.btBoxShape(a)}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.type=void 0;const i=a(45);n.type=i.PHYSICS_SHAPE.CAPSULE,n.default=function createBox(r,n){const{radius:a,height:o}=n;return new Ammo.btCapsuleShape(i.PHYSICS_SCALE*a,i.PHYSICS_SCALE*o)}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.type=void 0;const i=a(45);n.type=i.PHYSICS_SHAPE.CONCAVE,n.default=function createConcave(r,n){const{tmpVec2:a}=r,{indices:o,vertices:s}=n,y=new Ammo.btTriangleMesh;for(let r=0;r<s.length/3;r++)a.setValue(i.PHYSICS_SCALE*s[3*r],i.PHYSICS_SCALE*s[3*r+1],i.PHYSICS_SCALE*s[3*r+2]),y.findOrAddVertex(a,!1);if(o)for(let r=0;r<o.length/3;r++){const n=o[3*r],a=o[3*r+1],i=o[3*r+2];y.addTriangleIndices(n,a,i)}else for(let r=0;r<s.length/3;r++){const n=3*r,a=3*r+1,i=3*r+2;y.addTriangleIndices(n,a,i)}return new Ammo.btBvhTriangleMeshShape(y,!0,!0)}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.type=void 0;const i=a(45);n.type=i.PHYSICS_SHAPE.CONE,n.default=function createCone(r,n){const{radius:a,height:o,scale:s}=n,y=Math.max(s.x,s.z);return new Ammo.btConeShape(i.PHYSICS_SCALE*y*a,i.PHYSICS_SCALE*s.y*o)}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.type=void 0;const i=a(45);n.type=i.PHYSICS_SHAPE.CONVEX,n.default=function createConvex(r,n){const{tmpVec1:a}=r,o=new Ammo.btConvexHullShape;for(let r=0,s=n.points.length;r<s;r++)a.setValue(n.points[3*r]*i.PHYSICS_SCALE,n.points[3*r+1]*i.PHYSICS_SCALE,n.points[3*r+2]*i.PHYSICS_SCALE),o.addPoint(a,!1);return o.recalcLocalAabb(),o}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.type=void 0;const i=a(45);n.type=i.PHYSICS_SHAPE.CYLINDER,n.default=function createCone(r,n){const{tmpVec1:a}=r,{radius:o,height:s,align:y}=n,_=Math.max(n.scale.x,n.scale.z);switch(a.setValue(i.PHYSICS_SCALE*_*o,i.PHYSICS_SCALE*n.scale.y*s/2,i.PHYSICS_SCALE*_*o),y){case"x":return new Ammo.btCylinderShapeX(a);case"z":return new Ammo.btCylinderShapeZ(a);case"y":default:return new Ammo.btCylinderShape(a)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.type=void 0;const i=a(45);n.type=i.PHYSICS_SHAPE.SPHERE,n.default=function createSphere(r,n){const{radius:a,scale:o}=n,s=Math.max(o.x,o.y,o.z);return new Ammo.btSphereShape(i.PHYSICS_SCALE*a*s)}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SimpleCache=void 0;const i=a(10);class SimpleCache extends i.EventEmitter{constructor(){super(),this.cache=new Map,this.count=new Map}set(r,n){n.key=r,this.cache.set(r,n),this.count.set(r,1)}has(r){return this.cache.has(r)}get(r){if(!this.cache.get(r))return;const n=this.count.get(r);return this.count.set(r,n+1),this.cache.get(r)}getUncounted(r){return this.cache.get(r)}freeItem(r){this.free(r.key)}delete(r){this.cache.delete(r),this.count.delete(r)}deleteItem(r){this.delete(r.key)}free(r){const n=this.count.get(r);n&&this.count.set(r,n-1)}getUnused(){const r=[];for(const[n,a]of this.count.entries())0===a&&r.push(this.cache.get(n));return r}values(){return this.cache.values()}}n.SimpleCache=SimpleCache},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=class PhysicsObject{constructor(r,n){this.entity=n,this.world=r,this.uid=n.uid}_destroy(){this.destroy(),this.uid=-1,this.entity=null,this.world=null}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PhysicsWorld=n.RayCastRes=n.Ray=void 0;const i=a(39),o=a(10),s=a(8),y=a(19),_=a(45),w=a(61),E=a(62);var j;!function(r){r[r.None=0]="None",r[r.FilterBackfaces=1]="FilterBackfaces",r[r.KeepUnflippedNormal=2]="KeepUnflippedNormal",r[r.UseSubSimplexConvexCastRaytest=4]="UseSubSimplexConvexCastRaytest",r[r.UseGjkConvexCastRaytest=8]="UseGjkConvexCastRaytest",r[r.Terminator=4294967295]="Terminator"}(j||(j={})),n.Ray=class Ray{constructor(){this.originWS=new y.Vector3(0,0,0),this.dirWS=new y.Vector3(0,0,0),this.minDistWS=0,this.maxDistWS=1e6}},n.RayCastRes=class RayCastRes{constructor(){this.hit=!1,this.distWS=-1,this.posWS=new y.Vector3(0,0,0),this.uid=0}},n.PhysicsWorld=class PhysicsWorld extends o{constructor(){super(),this.tmpTransform1=new Ammo.btTransform,this.tmpTransform2=new Ammo.btTransform,this.tmpTransform3=new Ammo.btTransform,this.tmpVec1=new Ammo.btVector3(0,0,0),this.tmpVec2=new Ammo.btVector3(0,0,0),this.tmpVec3=new Ammo.btVector3(0,0,0),this.tmpVecThree1=new y.Vector3,this.tmpVecThree2=new y.Vector3,this.tmpVecThree3=new y.Vector3,this.tmpQuat1=new Ammo.btQuaternion(0,0,0,0),this.bodies=new Map,this.bodyPointers=new Map,this.shapeDefinitions=new Map,this.collisionMap=new Map,this.vec1=new Ammo.btVector3,this.vec2=new Ammo.btVector3,this.rayCallback=new Ammo.hbrClosestRayResultCallback(this.vec1,this.vec2),this.rayCallbackAll=new Ammo.hbrAllHitsRayResultCallback(new Ammo.btVector3,new Ammo.btVector3),this.collisionEvent={length:0,contacts:[{position:new y.Vector3,normal:new y.Vector3},{position:new y.Vector3,normal:new y.Vector3},{position:new y.Vector3,normal:new y.Vector3},{position:new y.Vector3,normal:new y.Vector3}]},this.init()}init(){this.collisionConfiguration=new Ammo.btDefaultCollisionConfiguration,this.dispatcher=new Ammo.btCollisionDispatcher(this.collisionConfiguration),this.overlappingPairCache=new Ammo.btDbvtBroadphase;const r=new Ammo.btSequentialImpulseConstraintSolver;this.world=new Ammo.btDiscreteDynamicsWorld(this.dispatcher,this.overlappingPairCache,r,this.collisionConfiguration),this.world.getPairCache().setInternalGhostPairCallback(new Ammo.btGhostPairCallback),this.world.setGravity(new Ammo.btVector3(0,_.DEFAULT_GRAVITY,0)),this.world.getDispatchInfo().set_m_useContinuous(!0),this.world.getSolverInfo().set_m_splitImpulse(!1),this.world.setSynchronizeAllMotionStates(!0)}registerGeometry(r){this.shapeDefinitions.set(r.id,r)}getShapeData(r){return this.shapeDefinitions.get(r)}sphereCast(){return[]}addPhysicsObject(r){this.bodies.set(r.uid,r),r.add()}removePhysicsObject(r){r.remove(),r._destroy(),this.bodies.delete(r.uid)}triggerCollisionEvents(r){for(const n of this.collisionMap.values()){const a=s.entityManager.getEntity(n[1]),i=s.entityManager.getEntity(n[2]);a&&i&&(s.entityManager.triggerGroupEvent("collisionStay",a,i,r),s.entityManager.triggerGroupEvent("collisionStay",i,a,r))}}rayCastSaneAPI(r,n,a=-1,i=-1){w.assert(E.fuzzyEqual(r.dirWS.dot(r.dirWS),1)),n.hit=!1,n.distWS=-1,n.posWS.set(0,0,0),n.uid=0;const o=this.tmpVecThree1,s=this.tmpVecThree2,y=this.tmpVecThree3,q=this.vec1,$=this.vec2;o.copy(r.dirWS),s.copy(r.originWS).add(o.multiplyScalar(r.minDistWS)),q.setValue(s.x*_.PHYSICS_SCALE,s.y*_.PHYSICS_SCALE,s.z*_.PHYSICS_SCALE),o.copy(r.dirWS),y.copy(r.originWS).add(o.multiplyScalar(r.maxDistWS)),$.setValue(y.x*_.PHYSICS_SCALE,y.y*_.PHYSICS_SCALE,y.z*_.PHYSICS_SCALE);const ne=this.rayCallbackAll;ne.set_a_closestHitFraction(1),ne.set_m_rayFromWorld(q),ne.set_m_rayToWorld($),ne.set_m_flags(j.FilterBackfaces|j.KeepUnflippedNormal),ne.set_m_collisionFilterGroup(a),ne.set_m_collisionFilterMask(i),this.world.rayTest(q,$,ne);const ie=ne.hasHit();if(ie){n.hit=ie,n.distWS=ne.get_a_closestHitFraction()*(r.maxDistWS-r.minDistWS);const a=ne.get_m_closestHitPointWorld();n.posWS.set(a.x()*_.PHYSICS_SCALE_INV,a.y()*_.PHYSICS_SCALE_INV,a.z()*_.PHYSICS_SCALE_INV);const i=ne.get_m_closestCollisionObject();n.uid=this.bodyPointers.get(Ammo.getPointer(i))||0}return n.hit}checkCollisions(){const r=this.world.getDispatcher(),n=r.getNumManifolds(),{collisionMap:a}=this;for(const r of a.values())r[0]=!1;for(let o=0;o<n;o++){const n=r.getManifoldByIndexInternal(o),y=n.getNumContacts();if(0===y)continue;const _=this.bodyPointers.get(Ammo.getPointer(n.getBody0())),w=this.bodyPointers.get(Ammo.getPointer(n.getBody1()));if(!_||!w)continue;const E=s.entityManager.getEntity(_),j=s.entityManager.getEntity(w);if(!E||!j)continue;const q=1e5*(_&i.ENTITY_UID_INDEX_MASK)+(w&i.ENTITY_UID_INDEX_MASK),$=a.get(q);if($)$[0]=!0;else{this.collisionEvent.length=Math.min(4,y);for(let r=0;r<this.collisionEvent.length;r++){const a=n.getContactPoint(r),i=a.get_m_normalWorldOnB(),o=a.get_m_positionWorldOnB();this.collisionEvent.contacts[r].position.set(o.x(),o.y(),o.z()),this.collisionEvent.contacts[r].normal.set(i.x(),i.y(),i.z())}a.set(q,[!0,_,w]),s.entityManager.emit("collisionEnter",E,j,this.collisionEvent),s.entityManager.triggerGroupEvent("collisionEnter",E,j,this.collisionEvent),s.entityManager.triggerGroupEvent("collisionEnter",j,E,this.collisionEvent)}}for(const r of a.keys()){const n=a.get(r);if(!n)continue;if(n[0])continue;a.delete(r);const i=s.entityManager.getEntity(n[1]),o=s.entityManager.getEntity(n[2]);i&&o&&(s.entityManager.emit("collisionLeave",i,o),s.entityManager.triggerGroupEvent("collisionLeave",i,o),s.entityManager.triggerGroupEvent("collisionLeave",o,i))}}syncStates(r){this.checkCollisions();for(const n of this.bodies.values())-1!==n.uid&&n.syncState(r)}extrapolate(r){for(const n of this.bodies.values())-1!==n.uid&&n.extrapolate(r)}fixedUpdate(r){this.triggerCollisionEvents(r)}simulate(r){this.emit("preUpdate",r),this.world.stepSimulation(r,3,r),this.emit("postUpdate",r),this.syncStates(0)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.assert=void 0;const i=a(8);n.assert=function assert(r,n){if(!r)throw n=n?n+" "+Error().stack:Error().stack,i.isTouchDevice&&alert(n),Error(n)}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isDiffFuzzy=n.getChangedValuesFuzzyByKeys=n.getChangedValuesFuzzy=n.getChangedValues=n.fuzzyEqual=void 0;const i=a(63);n.fuzzyEqual=(r,n)=>{switch(typeof r){case"number":return Math.abs(r-n)<.001;default:return r===n}},n.getChangedValues=(r,a,i={})=>{for(const o of Object.keys(r))if(r[o]&&"object"==typeof r[o]){const s=n.getChangedValues(r[o],a[o]);Object.keys(s).length&&(i[o]=s)}else r[o]!==a[o]&&(i[o]=a[o]);return i},n.getChangedValuesFuzzy=(r,a,i={})=>{for(const o of Object.keys(r))if(r[o]&&"object"==typeof r[o]){const s=n.getChangedValuesFuzzy(r[o],a[o]);Object.keys(s).length&&(i[o]=s)}else n.fuzzyEqual(r[o],a[o])||(i[o]=a[o]);return i},n.getChangedValuesFuzzyByKeys=(r,a,i,o={})=>{for(const s of r)if(a[s]&&"object"==typeof a[s]){const r=n.getChangedValuesFuzzy(a[s],i[s]);Object.keys(r).length&&(o[s]=r)}else n.fuzzyEqual(a[s],i[s])||(o[s]=i[s]);return o},n.isDiffFuzzy=(r,a)=>{if(!r&&a||r&&!a)return!0;const o=i.uniq(Object.keys(r).concat(Object.keys(a)));for(const i of o)if(r[i]&&"object"==typeof r[i]){if(n.isDiffFuzzy(r[i],a[i]))return!0}else if(!n.fuzzyEqual(r[i],a[i]))return!0;return!1}},function(r,n,a){!function(r,a){var i;!function(){var o,s="Expected a function",y="__lodash_placeholder__",_=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],w="[object Arguments]",E="[object Array]",j="[object Boolean]",q="[object Date]",$="[object Error]",ne="[object Function]",ie="[object GeneratorFunction]",oe="[object Map]",se="[object Number]",le="[object Object]",pe="[object RegExp]",he="[object Set]",me="[object String]",ge="[object Symbol]",ye="[object WeakMap]",_e="[object ArrayBuffer]",ve="[object DataView]",Se="[object Float32Array]",we="[object Float64Array]",Me="[object Int8Array]",Te="[object Int16Array]",Ae="[object Int32Array]",ke="[object Uint8Array]",Re="[object Uint16Array]",Oe="[object Uint32Array]",Ne=/\b__p \+= '';/g,Fe=/\b(__p \+=) '' \+/g,je=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Be=/&(?:amp|lt|gt|quot|#39);/g,Ue=/[&<>"']/g,Ve=RegExp(Be.source),We=RegExp(Ue.source),Ye=/<%-([\s\S]+?)%>/g,Xe=/<%([\s\S]+?)%>/g,$e=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nt=/[\\^$.*+?()[\]{}|]/g,at=RegExp(nt.source),it=/^\s+/,ot=/\s/,st=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,lt=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,pt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ut=/[()=,{}\[\]\/\s]/,dt=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,gt=/^0b[01]+$/i,yt=/^\[object .+?Constructor\]$/,_t=/^0o[0-7]+$/i,vt=/^(?:0|[1-9]\d*)$/,bt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xt=/($^)/,St=/['\n\r\u2028\u2029\\]/g,Ct="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",wt="["+Ct+"]",Pt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Mt="\\d+",Tt="[a-z\\xdf-\\xf6\\xf8-\\xff]",Et="[^\\ud800-\\udfff"+Ct+Mt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",At="\\ud83c[\\udffb-\\udfff]",kt="[^\\ud800-\\udfff]",Rt="(?:\\ud83c[\\udde6-\\uddff]){2}",Ot="[\\ud800-\\udbff][\\udc00-\\udfff]",Nt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Lt="(?:"+Tt+"|"+Et+")",It="(?:"+Nt+"|"+Et+")",Dt="(?:"+Pt+"|"+At+")?",Ft="[\\ufe0e\\ufe0f]?"+Dt+"(?:\\u200d(?:"+[kt,Rt,Ot].join("|")+")[\\ufe0e\\ufe0f]?"+Dt+")*",jt="(?:"+["[\\u2700-\\u27bf]",Rt,Ot].join("|")+")"+Ft,Bt="(?:"+[kt+Pt+"?",Pt,Rt,Ot,"[\\ud800-\\udfff]"].join("|")+")",zt=/[']/g,Gt=RegExp(Pt,"g"),Ut=RegExp(At+"(?="+At+")|"+Bt+Ft,"g"),Vt=RegExp([Nt+"?"+Tt+"+(?:['](?:d|ll|m|re|s|t|ve))?(?="+[wt,Nt,"$"].join("|")+")",It+"+(?:['](?:D|LL|M|RE|S|T|VE))?(?="+[wt,Nt+Lt,"$"].join("|")+")",Nt+"?"+Lt+"+(?:['](?:d|ll|m|re|s|t|ve))?",Nt+"+(?:['](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mt,jt].join("|"),"g"),Wt=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,Ht=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qt=-1,Xt={};Xt[Se]=Xt[we]=Xt[Me]=Xt[Te]=Xt[Ae]=Xt[ke]=Xt["[object Uint8ClampedArray]"]=Xt[Re]=Xt[Oe]=!0,Xt[w]=Xt[E]=Xt[_e]=Xt[j]=Xt[ve]=Xt[q]=Xt[$]=Xt[ne]=Xt[oe]=Xt[se]=Xt[le]=Xt[pe]=Xt[he]=Xt[me]=Xt[ye]=!1;var $t={};$t[w]=$t[E]=$t[_e]=$t[ve]=$t[j]=$t[q]=$t[Se]=$t[we]=$t[Me]=$t[Te]=$t[Ae]=$t[oe]=$t[se]=$t[le]=$t[pe]=$t[he]=$t[me]=$t[ge]=$t[ke]=$t["[object Uint8ClampedArray]"]=$t[Re]=$t[Oe]=!0,$t[$]=$t[ne]=$t[ye]=!1;var Kt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Jt=parseFloat,Qt=parseInt,Zt="object"==typeof r&&r&&r.Object===Object&&r,er="object"==typeof self&&self&&self.Object===Object&&self,tr=Zt||er||Function("","return this")(),rr=n&&!n.nodeType&&n,nr=rr&&"object"==typeof a&&a&&!a.nodeType&&a,ar=nr&&nr.exports===rr,ir=ar&&Zt.process,or=function(){try{return nr&&nr.require&&nr.require("util").types||ir&&ir.binding&&ir.binding("util")}catch(r){}}(),sr=or&&or.isArrayBuffer,lr=or&&or.isDate,cr=or&&or.isMap,pr=or&&or.isRegExp,ur=or&&or.isSet,dr=or&&or.isTypedArray;function apply(r,n,a){switch(a.length){case 0:return r.call(n);case 1:return r.call(n,a[0]);case 2:return r.call(n,a[0],a[1]);case 3:return r.call(n,a[0],a[1],a[2])}return r.apply(n,a)}function arrayAggregator(r,n,a,i){for(var o=-1,s=null==r?0:r.length;++o<s;){var y=r[o];n(i,y,a(y),r)}return i}function arrayEach(r,n){for(var a=-1,i=null==r?0:r.length;++a<i&&!1!==n(r[a],a,r););return r}function arrayEachRight(r,n){for(var a=null==r?0:r.length;a--&&!1!==n(r[a],a,r););return r}function arrayEvery(r,n){for(var a=-1,i=null==r?0:r.length;++a<i;)if(!n(r[a],a,r))return!1;return!0}function arrayFilter(r,n){for(var a=-1,i=null==r?0:r.length,o=0,s=[];++a<i;){var y=r[a];n(y,a,r)&&(s[o++]=y)}return s}function arrayIncludes(r,n){return!(null==r||!r.length)&&baseIndexOf(r,n,0)>-1}function arrayIncludesWith(r,n,a){for(var i=-1,o=null==r?0:r.length;++i<o;)if(a(n,r[i]))return!0;return!1}function arrayMap(r,n){for(var a=-1,i=null==r?0:r.length,o=Array(i);++a<i;)o[a]=n(r[a],a,r);return o}function arrayPush(r,n){for(var a=-1,i=n.length,o=r.length;++a<i;)r[o+a]=n[a];return r}function arrayReduce(r,n,a,i){var o=-1,s=null==r?0:r.length;for(i&&s&&(a=r[++o]);++o<s;)a=n(a,r[o],o,r);return a}function arrayReduceRight(r,n,a,i){var o=null==r?0:r.length;for(i&&o&&(a=r[--o]);o--;)a=n(a,r[o],o,r);return a}function arraySome(r,n){for(var a=-1,i=null==r?0:r.length;++a<i;)if(n(r[a],a,r))return!0;return!1}var hr=baseProperty("length");function baseFindKey(r,n,a){var i;return a(r,(function(r,a,o){if(n(r,a,o))return i=a,!1})),i}function baseFindIndex(r,n,a,i){for(var o=r.length,s=a+(i?1:-1);i?s--:++s<o;)if(n(r[s],s,r))return s;return-1}function baseIndexOf(r,n,a){return n==n?function strictIndexOf(r,n,a){for(var i=a-1,o=r.length;++i<o;)if(r[i]===n)return i;return-1}(r,n,a):baseFindIndex(r,baseIsNaN,a)}function baseIndexOfWith(r,n,a,i){for(var o=a-1,s=r.length;++o<s;)if(i(r[o],n))return o;return-1}function baseIsNaN(r){return r!=r}function baseMean(r,n){var a=null==r?0:r.length;return a?baseSum(r,n)/a:NaN}function baseProperty(r){return function(n){return null==n?o:n[r]}}function basePropertyOf(r){return function(n){return null==r?o:r[n]}}function baseReduce(r,n,a,i,o){return o(r,(function(r,o,s){a=i?(i=!1,r):n(a,r,o,s)})),a}function baseSum(r,n){for(var a,i=-1,s=r.length;++i<s;){var y=n(r[i]);o!==y&&(a=o===a?y:a+y)}return a}function baseTimes(r,n){for(var a=-1,i=Array(r);++a<r;)i[a]=n(a);return i}function baseTrim(r){return r?r.slice(0,trimmedEndIndex(r)+1).replace(it,""):r}function baseUnary(r){return function(n){return r(n)}}function baseValues(r,n){return arrayMap(n,(function(n){return r[n]}))}function cacheHas(r,n){return r.has(n)}function charsStartIndex(r,n){for(var a=-1,i=r.length;++a<i&&baseIndexOf(n,r[a],0)>-1;);return a}function charsEndIndex(r,n){for(var a=r.length;a--&&baseIndexOf(n,r[a],0)>-1;);return a}function countHolders(r,n){for(var a=r.length,i=0;a--;)r[a]===n&&++i;return i}var fr=basePropertyOf({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),mr=basePropertyOf({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function escapeStringChar(r){return"\\"+Kt[r]}function hasUnicode(r){return Wt.test(r)}function mapToArray(r){var n=-1,a=Array(r.size);return r.forEach((function(r,i){a[++n]=[i,r]})),a}function overArg(r,n){return function(a){return r(n(a))}}function replaceHolders(r,n){for(var a=-1,i=r.length,o=0,s=[];++a<i;){var _=r[a];_!==n&&_!==y||(r[a]=y,s[o++]=a)}return s}function setToArray(r){var n=-1,a=Array(r.size);return r.forEach((function(r){a[++n]=r})),a}function setToPairs(r){var n=-1,a=Array(r.size);return r.forEach((function(r){a[++n]=[r,r]})),a}function stringSize(r){return hasUnicode(r)?function unicodeSize(r){for(var n=Ut.lastIndex=0;Ut.test(r);)++n;return n}(r):hr(r)}function stringToArray(r){return hasUnicode(r)?function unicodeToArray(r){return r.match(Ut)||[]}(r):function asciiToArray(r){return r.split("")}(r)}function trimmedEndIndex(r){for(var n=r.length;n--&&ot.test(r.charAt(n)););return n}var gr=basePropertyOf({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),yr=function runInContext(r){var n,a=(r=null==r?tr:yr.defaults(tr.Object(),r,yr.pick(tr,Yt))).Array,i=r.Date,ot=r.Error,Ct=r.Function,wt=r.Math,Pt=r.Object,Mt=r.RegExp,Tt=r.String,Et=r.TypeError,At=a.prototype,kt=Ct.prototype,Rt=Pt.prototype,Ot=r["__core-js_shared__"],Nt=kt.toString,Lt=Rt.hasOwnProperty,It=0,Dt=(n=/[^.]+$/.exec(Ot&&Ot.keys&&Ot.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ft=Rt.toString,jt=Nt.call(Pt),Bt=tr._,Ut=Mt("^"+Nt.call(Lt).replace(nt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=ar?r.Buffer:o,Kt=r.Symbol,Zt=r.Uint8Array,er=Wt?Wt.allocUnsafe:o,rr=overArg(Pt.getPrototypeOf,Pt),nr=Pt.create,ir=Rt.propertyIsEnumerable,or=At.splice,hr=Kt?Kt.isConcatSpreadable:o,_r=Kt?Kt.iterator:o,vr=Kt?Kt.toStringTag:o,br=function(){try{var r=getNative(Pt,"defineProperty");return r({},"",{}),r}catch(r){}}(),xr=r.clearTimeout!==tr.clearTimeout&&r.clearTimeout,Sr=i&&i.now!==tr.Date.now&&i.now,Cr=r.setTimeout!==tr.setTimeout&&r.setTimeout,wr=wt.ceil,Pr=wt.floor,Mr=Pt.getOwnPropertySymbols,Tr=Wt?Wt.isBuffer:o,Er=r.isFinite,Ar=At.join,kr=overArg(Pt.keys,Pt),Rr=wt.max,Or=wt.min,Nr=i.now,Lr=r.parseInt,Ir=wt.random,Dr=At.reverse,Fr=getNative(r,"DataView"),jr=getNative(r,"Map"),Br=getNative(r,"Promise"),zr=getNative(r,"Set"),Gr=getNative(r,"WeakMap"),Ur=getNative(Pt,"create"),Vr=Gr&&new Gr,Wr={},Yr=toSource(Fr),qr=toSource(jr),Xr=toSource(Br),$r=toSource(zr),Kr=toSource(Gr),Jr=Kt?Kt.prototype:o,Qr=Jr?Jr.valueOf:o,Zr=Jr?Jr.toString:o;function lodash(r){if(isObjectLike(r)&&!da(r)&&!(r instanceof LazyWrapper)){if(r instanceof LodashWrapper)return r;if(Lt.call(r,"__wrapped__"))return wrapperClone(r)}return new LodashWrapper(r)}var en=function(){function object(){}return function(r){if(!isObject(r))return{};if(nr)return nr(r);object.prototype=r;var n=new object;return object.prototype=o,n}}();function baseLodash(){}function LodashWrapper(r,n){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=o}function LazyWrapper(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Hash(r){var n=-1,a=null==r?0:r.length;for(this.clear();++n<a;){var i=r[n];this.set(i[0],i[1])}}function ListCache(r){var n=-1,a=null==r?0:r.length;for(this.clear();++n<a;){var i=r[n];this.set(i[0],i[1])}}function MapCache(r){var n=-1,a=null==r?0:r.length;for(this.clear();++n<a;){var i=r[n];this.set(i[0],i[1])}}function SetCache(r){var n=-1,a=null==r?0:r.length;for(this.__data__=new MapCache;++n<a;)this.add(r[n])}function Stack(r){var n=this.__data__=new ListCache(r);this.size=n.size}function arrayLikeKeys(r,n){var a=da(r),i=!a&&pa(r),o=!a&&!i&&fa(r),s=!a&&!i&&!o&&va(r),y=a||i||o||s,_=y?baseTimes(r.length,Tt):[],w=_.length;for(var E in r)!n&&!Lt.call(r,E)||y&&("length"==E||o&&("offset"==E||"parent"==E)||s&&("buffer"==E||"byteLength"==E||"byteOffset"==E)||isIndex(E,w))||_.push(E);return _}function arraySample(r){var n=r.length;return n?r[baseRandom(0,n-1)]:o}function arraySampleSize(r,n){return shuffleSelf(copyArray(r),baseClamp(n,0,r.length))}function arrayShuffle(r){return shuffleSelf(copyArray(r))}function assignMergeValue(r,n,a){(o!==a&&!eq(r[n],a)||o===a&&!(n in r))&&baseAssignValue(r,n,a)}function assignValue(r,n,a){var i=r[n];Lt.call(r,n)&&eq(i,a)&&(o!==a||n in r)||baseAssignValue(r,n,a)}function assocIndexOf(r,n){for(var a=r.length;a--;)if(eq(r[a][0],n))return a;return-1}function baseAggregator(r,n,a,i){return tn(r,(function(r,o,s){n(i,r,a(r),s)})),i}function baseAssign(r,n){return r&&copyObject(n,keys(n),r)}function baseAssignValue(r,n,a){"__proto__"==n&&br?br(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}function baseAt(r,n){for(var i=-1,s=n.length,y=a(s),_=null==r;++i<s;)y[i]=_?o:get(r,n[i]);return y}function baseClamp(r,n,a){return r==r&&(o!==a&&(r=r<=a?r:a),o!==n&&(r=r>=n?r:n)),r}function baseClone(r,n,a,i,s,y){var _,E=1&n,$=2&n,ye=4&n;if(a&&(_=s?a(r,i,s,y):a(r)),o!==_)return _;if(!isObject(r))return r;var Ne=da(r);if(Ne){if(_=function initCloneArray(r){var n=r.length,a=new r.constructor(n);return n&&"string"==typeof r[0]&&Lt.call(r,"index")&&(a.index=r.index,a.input=r.input),a}(r),!E)return copyArray(r,_)}else{var Fe=gn(r),je=Fe==ne||Fe==ie;if(fa(r))return cloneBuffer(r,E);if(Fe==le||Fe==w||je&&!s){if(_=$||je?{}:initCloneObject(r),!E)return $?function copySymbolsIn(r,n){return copyObject(r,mn(r),n)}(r,function baseAssignIn(r,n){return r&&copyObject(n,keysIn(n),r)}(_,r)):function copySymbols(r,n){return copyObject(r,hn(r),n)}(r,baseAssign(_,r))}else{if(!$t[Fe])return s?r:{};_=function initCloneByTag(r,n,a){var i=r.constructor;switch(n){case _e:return cloneArrayBuffer(r);case j:case q:return new i(+r);case ve:return function cloneDataView(r,n){var a=n?cloneArrayBuffer(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.byteLength)}(r,a);case Se:case we:case Me:case Te:case Ae:case ke:case"[object Uint8ClampedArray]":case Re:case Oe:return cloneTypedArray(r,a);case oe:return new i;case se:case me:return new i(r);case pe:return function cloneRegExp(r){var n=new r.constructor(r.source,ft.exec(r));return n.lastIndex=r.lastIndex,n}(r);case he:return new i;case ge:return function cloneSymbol(r){return Qr?Pt(Qr.call(r)):{}}(r)}}(r,Fe,E)}}y||(y=new Stack);var Be=y.get(r);if(Be)return Be;y.set(r,_),_a(r)?r.forEach((function(i){_.add(baseClone(i,n,a,i,r,y))})):ga(r)&&r.forEach((function(i,o){_.set(o,baseClone(i,n,a,o,r,y))}));var Ue=Ne?o:(ye?$?getAllKeysIn:getAllKeys:$?keysIn:keys)(r);return arrayEach(Ue||r,(function(i,o){Ue&&(i=r[o=i]),assignValue(_,o,baseClone(i,n,a,o,r,y))})),_}function baseConformsTo(r,n,a){var i=a.length;if(null==r)return!i;for(r=Pt(r);i--;){var s=a[i],y=n[s],_=r[s];if(o===_&&!(s in r)||!y(_))return!1}return!0}function baseDelay(r,n,a){if("function"!=typeof r)throw new Et(s);return vn((function(){r.apply(o,a)}),n)}function baseDifference(r,n,a,i){var o=-1,s=arrayIncludes,y=!0,_=r.length,w=[],E=n.length;if(!_)return w;a&&(n=arrayMap(n,baseUnary(a))),i?(s=arrayIncludesWith,y=!1):n.length>=200&&(s=cacheHas,y=!1,n=new SetCache(n));e:for(;++o<_;){var j=r[o],q=null==a?j:a(j);if(j=i||0!==j?j:0,y&&q==q){for(var $=E;$--;)if(n[$]===q)continue e;w.push(j)}else s(n,q,i)||w.push(j)}return w}lodash.templateSettings={escape:Ye,evaluate:Xe,interpolate:$e,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=en(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=en(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=function hashClear(){this.__data__=Ur?Ur(null):{},this.size=0},Hash.prototype.delete=function hashDelete(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n},Hash.prototype.get=function hashGet(r){var n=this.__data__;if(Ur){var a=n[r];return"__lodash_hash_undefined__"===a?o:a}return Lt.call(n,r)?n[r]:o},Hash.prototype.has=function hashHas(r){var n=this.__data__;return Ur?o!==n[r]:Lt.call(n,r)},Hash.prototype.set=function hashSet(r,n){var a=this.__data__;return this.size+=this.has(r)?0:1,a[r]=Ur&&o===n?"__lodash_hash_undefined__":n,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(r){var n=this.__data__,a=assocIndexOf(n,r);return!(a<0||(a==n.length-1?n.pop():or.call(n,a,1),--this.size,0))},ListCache.prototype.get=function listCacheGet(r){var n=this.__data__,a=assocIndexOf(n,r);return a<0?o:n[a][1]},ListCache.prototype.has=function listCacheHas(r){return assocIndexOf(this.__data__,r)>-1},ListCache.prototype.set=function listCacheSet(r,n){var a=this.__data__,i=assocIndexOf(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(jr||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(r){var n=getMapData(this,r).delete(r);return this.size-=n?1:0,n},MapCache.prototype.get=function mapCacheGet(r){return getMapData(this,r).get(r)},MapCache.prototype.has=function mapCacheHas(r){return getMapData(this,r).has(r)},MapCache.prototype.set=function mapCacheSet(r,n){var a=getMapData(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(r){return this.__data__.set(r,"__lodash_hash_undefined__"),this},SetCache.prototype.has=function setCacheHas(r){return this.__data__.has(r)},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(r){var n=this.__data__,a=n.delete(r);return this.size=n.size,a},Stack.prototype.get=function stackGet(r){return this.__data__.get(r)},Stack.prototype.has=function stackHas(r){return this.__data__.has(r)},Stack.prototype.set=function stackSet(r,n){var a=this.__data__;if(a instanceof ListCache){var i=a.__data__;if(!jr||i.length<199)return i.push([r,n]),this.size=++a.size,this;a=this.__data__=new MapCache(i)}return a.set(r,n),this.size=a.size,this};var tn=createBaseEach(baseForOwn),rn=createBaseEach(baseForOwnRight,!0);function baseEvery(r,n){var a=!0;return tn(r,(function(r,i,o){return a=!!n(r,i,o)})),a}function baseExtremum(r,n,a){for(var i=-1,s=r.length;++i<s;){var y=r[i],_=n(y);if(null!=_&&(o===w?_==_&&!isSymbol(_):a(_,w)))var w=_,E=y}return E}function baseFilter(r,n){var a=[];return tn(r,(function(r,i,o){n(r,i,o)&&a.push(r)})),a}function baseFlatten(r,n,a,i,o){var s=-1,y=r.length;for(a||(a=isFlattenable),o||(o=[]);++s<y;){var _=r[s];n>0&&a(_)?n>1?baseFlatten(_,n-1,a,i,o):arrayPush(o,_):i||(o[o.length]=_)}return o}var nn=createBaseFor(),an=createBaseFor(!0);function baseForOwn(r,n){return r&&nn(r,n,keys)}function baseForOwnRight(r,n){return r&&an(r,n,keys)}function baseFunctions(r,n){return arrayFilter(n,(function(n){return isFunction(r[n])}))}function baseGet(r,n){for(var a=0,i=(n=castPath(n,r)).length;null!=r&&a<i;)r=r[toKey(n[a++])];return a&&a==i?r:o}function baseGetAllKeys(r,n,a){var i=n(r);return da(r)?i:arrayPush(i,a(r))}function baseGetTag(r){return null==r?o===r?"[object Undefined]":"[object Null]":vr&&vr in Pt(r)?function getRawTag(r){var n=Lt.call(r,vr),a=r[vr];try{r[vr]=o;var i=!0}catch(r){}var s=Ft.call(r);return i&&(n?r[vr]=a:delete r[vr]),s}(r):function objectToString(r){return Ft.call(r)}(r)}function baseGt(r,n){return r>n}function baseHas(r,n){return null!=r&&Lt.call(r,n)}function baseHasIn(r,n){return null!=r&&n in Pt(r)}function baseIntersection(r,n,i){for(var s=i?arrayIncludesWith:arrayIncludes,y=r[0].length,_=r.length,w=_,E=a(_),j=1/0,q=[];w--;){var $=r[w];w&&n&&($=arrayMap($,baseUnary(n))),j=Or($.length,j),E[w]=!i&&(n||y>=120&&$.length>=120)?new SetCache(w&&$):o}$=r[0];var ne=-1,ie=E[0];e:for(;++ne<y&&q.length<j;){var oe=$[ne],se=n?n(oe):oe;if(oe=i||0!==oe?oe:0,!(ie?cacheHas(ie,se):s(q,se,i))){for(w=_;--w;){var le=E[w];if(!(le?cacheHas(le,se):s(r[w],se,i)))continue e}ie&&ie.push(se),q.push(oe)}}return q}function baseInvoke(r,n,a){var i=null==(r=parent(r,n=castPath(n,r)))?r:r[toKey(last(n))];return null==i?o:apply(i,r,a)}function baseIsArguments(r){return isObjectLike(r)&&baseGetTag(r)==w}function baseIsEqual(r,n,a,i,s){return r===n||(null==r||null==n||!isObjectLike(r)&&!isObjectLike(n)?r!=r&&n!=n:function baseIsEqualDeep(r,n,a,i,s,y){var _=da(r),ne=da(n),ie=_?E:gn(r),ye=ne?E:gn(n),Se=(ie=ie==w?le:ie)==le,we=(ye=ye==w?le:ye)==le,Me=ie==ye;if(Me&&fa(r)){if(!fa(n))return!1;_=!0,Se=!1}if(Me&&!Se)return y||(y=new Stack),_||va(r)?equalArrays(r,n,a,i,s,y):function equalByTag(r,n,a,i,o,s,y){switch(a){case ve:if(r.byteLength!=n.byteLength||r.byteOffset!=n.byteOffset)return!1;r=r.buffer,n=n.buffer;case _e:return!(r.byteLength!=n.byteLength||!s(new Zt(r),new Zt(n)));case j:case q:case se:return eq(+r,+n);case $:return r.name==n.name&&r.message==n.message;case pe:case me:return r==n+"";case oe:var _=mapToArray;case he:var w=1&i;if(_||(_=setToArray),r.size!=n.size&&!w)return!1;var E=y.get(r);if(E)return E==n;i|=2,y.set(r,n);var ne=equalArrays(_(r),_(n),i,o,s,y);return y.delete(r),ne;case ge:if(Qr)return Qr.call(r)==Qr.call(n)}return!1}(r,n,ie,a,i,s,y);if(!(1&a)){var Te=Se&&Lt.call(r,"__wrapped__"),Ae=we&&Lt.call(n,"__wrapped__");if(Te||Ae){var ke=Te?r.value():r,Re=Ae?n.value():n;return y||(y=new Stack),s(ke,Re,a,i,y)}}return!!Me&&(y||(y=new Stack),function equalObjects(r,n,a,i,s,y){var _=1&a,w=getAllKeys(r),E=w.length;if(E!=getAllKeys(n).length&&!_)return!1;for(var j=E;j--;){var q=w[j];if(!(_?q in n:Lt.call(n,q)))return!1}var $=y.get(r),ne=y.get(n);if($&&ne)return $==n&&ne==r;var ie=!0;y.set(r,n),y.set(n,r);for(var oe=_;++j<E;){var se=r[q=w[j]],le=n[q];if(i)var pe=_?i(le,se,q,n,r,y):i(se,le,q,r,n,y);if(!(o===pe?se===le||s(se,le,a,i,y):pe)){ie=!1;break}oe||(oe="constructor"==q)}if(ie&&!oe){var he=r.constructor,me=n.constructor;he==me||!("constructor"in r)||!("constructor"in n)||"function"==typeof he&&he instanceof he&&"function"==typeof me&&me instanceof me||(ie=!1)}return y.delete(r),y.delete(n),ie}(r,n,a,i,s,y))}(r,n,a,i,baseIsEqual,s))}function baseIsMatch(r,n,a,i){var s=a.length,y=s,_=!i;if(null==r)return!y;for(r=Pt(r);s--;){var w=a[s];if(_&&w[2]?w[1]!==r[w[0]]:!(w[0]in r))return!1}for(;++s<y;){var E=(w=a[s])[0],j=r[E],q=w[1];if(_&&w[2]){if(o===j&&!(E in r))return!1}else{var $=new Stack;if(i)var ne=i(j,q,E,r,n,$);if(!(o===ne?baseIsEqual(q,j,3,i,$):ne))return!1}}return!0}function baseIsNative(r){return!(!isObject(r)||function isMasked(r){return!!Dt&&Dt in r}(r))&&(isFunction(r)?Ut:yt).test(toSource(r))}function baseIteratee(r){return"function"==typeof r?r:null==r?identity:"object"==typeof r?da(r)?baseMatchesProperty(r[0],r[1]):baseMatches(r):property(r)}function baseKeys(r){if(!isPrototype(r))return kr(r);var n=[];for(var a in Pt(r))Lt.call(r,a)&&"constructor"!=a&&n.push(a);return n}function baseLt(r,n){return r<n}function baseMap(r,n){var i=-1,o=isArrayLike(r)?a(r.length):[];return tn(r,(function(r,a,s){o[++i]=n(r,a,s)})),o}function baseMatches(r){var n=getMatchData(r);return 1==n.length&&n[0][2]?matchesStrictComparable(n[0][0],n[0][1]):function(a){return a===r||baseIsMatch(a,r,n)}}function baseMatchesProperty(r,n){return isKey(r)&&isStrictComparable(n)?matchesStrictComparable(toKey(r),n):function(a){var i=get(a,r);return o===i&&i===n?hasIn(a,r):baseIsEqual(n,i,3)}}function baseMerge(r,n,a,i,s){r!==n&&nn(n,(function(y,_){if(s||(s=new Stack),isObject(y))!function baseMergeDeep(r,n,a,i,s,y,_){var w=safeGet(r,a),E=safeGet(n,a),j=_.get(E);if(j)assignMergeValue(r,a,j);else{var q=y?y(w,E,a+"",r,n,_):o,$=o===q;if($){var ne=da(E),ie=!ne&&fa(E),oe=!ne&&!ie&&va(E);q=E,ne||ie||oe?da(w)?q=w:isArrayLikeObject(w)?q=copyArray(w):ie?($=!1,q=cloneBuffer(E,!0)):oe?($=!1,q=cloneTypedArray(E,!0)):q=[]:isPlainObject(E)||pa(E)?(q=w,pa(w)?q=toPlainObject(w):isObject(w)&&!isFunction(w)||(q=initCloneObject(E))):$=!1}$&&(_.set(E,q),s(q,E,i,y,_),_.delete(E)),assignMergeValue(r,a,q)}}(r,n,_,a,baseMerge,i,s);else{var w=i?i(safeGet(r,_),y,_+"",r,n,s):o;o===w&&(w=y),assignMergeValue(r,_,w)}}),keysIn)}function baseNth(r,n){var a=r.length;if(a)return isIndex(n+=n<0?a:0,a)?r[n]:o}function baseOrderBy(r,n,a){n=n.length?arrayMap(n,(function(r){return da(r)?function(n){return baseGet(n,1===r.length?r[0]:r)}:r})):[identity];var i=-1;return n=arrayMap(n,baseUnary(getIteratee())),function baseSortBy(r,n){var a=r.length;for(r.sort(n);a--;)r[a]=r[a].value;return r}(baseMap(r,(function(r,a,o){return{criteria:arrayMap(n,(function(n){return n(r)})),index:++i,value:r}})),(function(r,n){return function compareMultiple(r,n,a){for(var i=-1,o=r.criteria,s=n.criteria,y=o.length,_=a.length;++i<y;){var w=compareAscending(o[i],s[i]);if(w)return i>=_?w:w*("desc"==a[i]?-1:1)}return r.index-n.index}(r,n,a)}))}function basePickBy(r,n,a){for(var i=-1,o=n.length,s={};++i<o;){var y=n[i],_=baseGet(r,y);a(_,y)&&baseSet(s,castPath(y,r),_)}return s}function basePullAll(r,n,a,i){var o=i?baseIndexOfWith:baseIndexOf,s=-1,y=n.length,_=r;for(r===n&&(n=copyArray(n)),a&&(_=arrayMap(r,baseUnary(a)));++s<y;)for(var w=0,E=n[s],j=a?a(E):E;(w=o(_,j,w,i))>-1;)_!==r&&or.call(_,w,1),or.call(r,w,1);return r}function basePullAt(r,n){for(var a=r?n.length:0,i=a-1;a--;){var o=n[a];if(a==i||o!==s){var s=o;isIndex(o)?or.call(r,o,1):baseUnset(r,o)}}return r}function baseRandom(r,n){return r+Pr(Ir()*(n-r+1))}function baseRepeat(r,n){var a="";if(!r||n<1||n>9007199254740991)return a;do{n%2&&(a+=r),(n=Pr(n/2))&&(r+=r)}while(n);return a}function baseRest(r,n){return bn(overRest(r,n,identity),r+"")}function baseSample(r){return arraySample(values(r))}function baseSampleSize(r,n){var a=values(r);return shuffleSelf(a,baseClamp(n,0,a.length))}function baseSet(r,n,a,i){if(!isObject(r))return r;for(var s=-1,y=(n=castPath(n,r)).length,_=y-1,w=r;null!=w&&++s<y;){var E=toKey(n[s]),j=a;if("__proto__"===E||"constructor"===E||"prototype"===E)return r;if(s!=_){var q=w[E];o===(j=i?i(q,E,w):o)&&(j=isObject(q)?q:isIndex(n[s+1])?[]:{})}assignValue(w,E,j),w=w[E]}return r}var sn=Vr?function(r,n){return Vr.set(r,n),r}:identity,ln=br?function(r,n){return br(r,"toString",{configurable:!0,enumerable:!1,value:constant(n),writable:!0})}:identity;function baseShuffle(r){return shuffleSelf(values(r))}function baseSlice(r,n,i){var o=-1,s=r.length;n<0&&(n=-n>s?0:s+n),(i=i>s?s:i)<0&&(i+=s),s=n>i?0:i-n>>>0,n>>>=0;for(var y=a(s);++o<s;)y[o]=r[o+n];return y}function baseSome(r,n){var a;return tn(r,(function(r,i,o){return!(a=n(r,i,o))})),!!a}function baseSortedIndex(r,n,a){var i=0,o=null==r?i:r.length;if("number"==typeof n&&n==n&&o<=2147483647){for(;i<o;){var s=i+o>>>1,y=r[s];null!==y&&!isSymbol(y)&&(a?y<=n:y<n)?i=s+1:o=s}return o}return baseSortedIndexBy(r,n,identity,a)}function baseSortedIndexBy(r,n,a,i){var s=0,y=null==r?0:r.length;if(0===y)return 0;for(var _=(n=a(n))!=n,w=null===n,E=isSymbol(n),j=o===n;s<y;){var q=Pr((s+y)/2),$=a(r[q]),ne=o!==$,ie=null===$,oe=$==$,se=isSymbol($);if(_)var le=i||oe;else le=j?oe&&(i||ne):w?oe&&ne&&(i||!ie):E?oe&&ne&&!ie&&(i||!se):!ie&&!se&&(i?$<=n:$<n);le?s=q+1:y=q}return Or(y,4294967294)}function baseSortedUniq(r,n){for(var a=-1,i=r.length,o=0,s=[];++a<i;){var y=r[a],_=n?n(y):y;if(!a||!eq(_,w)){var w=_;s[o++]=0===y?0:y}}return s}function baseToNumber(r){return"number"==typeof r?r:isSymbol(r)?NaN:+r}function baseToString(r){if("string"==typeof r)return r;if(da(r))return arrayMap(r,baseToString)+"";if(isSymbol(r))return Zr?Zr.call(r):"";var n=r+"";return"0"==n&&1/r==-1/0?"-0":n}function baseUniq(r,n,a){var i=-1,o=arrayIncludes,s=r.length,y=!0,_=[],w=_;if(a)y=!1,o=arrayIncludesWith;else if(s>=200){var E=n?null:un(r);if(E)return setToArray(E);y=!1,o=cacheHas,w=new SetCache}else w=n?[]:_;e:for(;++i<s;){var j=r[i],q=n?n(j):j;if(j=a||0!==j?j:0,y&&q==q){for(var $=w.length;$--;)if(w[$]===q)continue e;n&&w.push(q),_.push(j)}else o(w,q,a)||(w!==_&&w.push(q),_.push(j))}return _}function baseUnset(r,n){return null==(r=parent(r,n=castPath(n,r)))||delete r[toKey(last(n))]}function baseUpdate(r,n,a,i){return baseSet(r,n,a(baseGet(r,n)),i)}function baseWhile(r,n,a,i){for(var o=r.length,s=i?o:-1;(i?s--:++s<o)&&n(r[s],s,r););return a?baseSlice(r,i?0:s,i?s+1:o):baseSlice(r,i?s+1:0,i?o:s)}function baseWrapperValue(r,n){var a=r;return a instanceof LazyWrapper&&(a=a.value()),arrayReduce(n,(function(r,n){return n.func.apply(n.thisArg,arrayPush([r],n.args))}),a)}function baseXor(r,n,i){var o=r.length;if(o<2)return o?baseUniq(r[0]):[];for(var s=-1,y=a(o);++s<o;)for(var _=r[s],w=-1;++w<o;)w!=s&&(y[s]=baseDifference(y[s]||_,r[w],n,i));return baseUniq(baseFlatten(y,1),n,i)}function baseZipObject(r,n,a){for(var i=-1,s=r.length,y=n.length,_={};++i<s;){var w=i<y?n[i]:o;a(_,r[i],w)}return _}function castArrayLikeObject(r){return isArrayLikeObject(r)?r:[]}function castFunction(r){return"function"==typeof r?r:identity}function castPath(r,n){return da(r)?r:isKey(r,n)?[r]:xn(toString(r))}var cn=baseRest;function castSlice(r,n,a){var i=r.length;return a=o===a?i:a,!n&&a>=i?r:baseSlice(r,n,a)}var pn=xr||function(r){return tr.clearTimeout(r)};function cloneBuffer(r,n){if(n)return r.slice();var a=r.length,i=er?er(a):new r.constructor(a);return r.copy(i),i}function cloneArrayBuffer(r){var n=new r.constructor(r.byteLength);return new Zt(n).set(new Zt(r)),n}function cloneTypedArray(r,n){var a=n?cloneArrayBuffer(r.buffer):r.buffer;return new r.constructor(a,r.byteOffset,r.length)}function compareAscending(r,n){if(r!==n){var a=o!==r,i=null===r,s=r==r,y=isSymbol(r),_=o!==n,w=null===n,E=n==n,j=isSymbol(n);if(!w&&!j&&!y&&r>n||y&&_&&E&&!w&&!j||i&&_&&E||!a&&E||!s)return 1;if(!i&&!y&&!j&&r<n||j&&a&&s&&!i&&!y||w&&a&&s||!_&&s||!E)return-1}return 0}function composeArgs(r,n,i,o){for(var s=-1,y=r.length,_=i.length,w=-1,E=n.length,j=Rr(y-_,0),q=a(E+j),$=!o;++w<E;)q[w]=n[w];for(;++s<_;)($||s<y)&&(q[i[s]]=r[s]);for(;j--;)q[w++]=r[s++];return q}function composeArgsRight(r,n,i,o){for(var s=-1,y=r.length,_=-1,w=i.length,E=-1,j=n.length,q=Rr(y-w,0),$=a(q+j),ne=!o;++s<q;)$[s]=r[s];for(var ie=s;++E<j;)$[ie+E]=n[E];for(;++_<w;)(ne||s<y)&&($[ie+i[_]]=r[s++]);return $}function copyArray(r,n){var i=-1,o=r.length;for(n||(n=a(o));++i<o;)n[i]=r[i];return n}function copyObject(r,n,a,i){var s=!a;a||(a={});for(var y=-1,_=n.length;++y<_;){var w=n[y],E=i?i(a[w],r[w],w,a,r):o;o===E&&(E=r[w]),s?baseAssignValue(a,w,E):assignValue(a,w,E)}return a}function createAggregator(r,n){return function(a,i){var o=da(a)?arrayAggregator:baseAggregator,s=n?n():{};return o(a,r,getIteratee(i,2),s)}}function createAssigner(r){return baseRest((function(n,a){var i=-1,s=a.length,y=s>1?a[s-1]:o,_=s>2?a[2]:o;for(y=r.length>3&&"function"==typeof y?(s--,y):o,_&&isIterateeCall(a[0],a[1],_)&&(y=s<3?o:y,s=1),n=Pt(n);++i<s;){var w=a[i];w&&r(n,w,i,y)}return n}))}function createBaseEach(r,n){return function(a,i){if(null==a)return a;if(!isArrayLike(a))return r(a,i);for(var o=a.length,s=n?o:-1,y=Pt(a);(n?s--:++s<o)&&!1!==i(y[s],s,y););return a}}function createBaseFor(r){return function(n,a,i){for(var o=-1,s=Pt(n),y=i(n),_=y.length;_--;){var w=y[r?_:++o];if(!1===a(s[w],w,s))break}return n}}function createCaseFirst(r){return function(n){var a=hasUnicode(n=toString(n))?stringToArray(n):o,i=a?a[0]:n.charAt(0),s=a?castSlice(a,1).join(""):n.slice(1);return i[r]()+s}}function createCompounder(r){return function(n){return arrayReduce(words(deburr(n).replace(zt,"")),r,"")}}function createCtor(r){return function(){var n=arguments;switch(n.length){case 0:return new r;case 1:return new r(n[0]);case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[1],n[2]);case 4:return new r(n[0],n[1],n[2],n[3]);case 5:return new r(n[0],n[1],n[2],n[3],n[4]);case 6:return new r(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new r(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var a=en(r.prototype),i=r.apply(a,n);return isObject(i)?i:a}}function createFind(r){return function(n,a,i){var s=Pt(n);if(!isArrayLike(n)){var y=getIteratee(a,3);n=keys(n),a=function(r){return y(s[r],r,s)}}var _=r(n,a,i);return _>-1?s[y?n[_]:_]:o}}function createFlow(r){return flatRest((function(n){var a=n.length,i=a,y=LodashWrapper.prototype.thru;for(r&&n.reverse();i--;){var _=n[i];if("function"!=typeof _)throw new Et(s);if(y&&!w&&"wrapper"==getFuncName(_))var w=new LodashWrapper([],!0)}for(i=w?i:a;++i<a;){var E=getFuncName(_=n[i]),j="wrapper"==E?dn(_):o;w=j&&isLaziable(j[0])&&424==j[1]&&!j[4].length&&1==j[9]?w[getFuncName(j[0])].apply(w,j[3]):1==_.length&&isLaziable(_)?w[E]():w.thru(_)}return function(){var r=arguments,i=r[0];if(w&&1==r.length&&da(i))return w.plant(i).value();for(var o=0,s=a?n[o].apply(this,r):i;++o<a;)s=n[o].call(this,s);return s}}))}function createHybrid(r,n,i,s,y,_,w,E,j,q){var $=128&n,ne=1&n,ie=2&n,oe=24&n,se=512&n,le=ie?o:createCtor(r);return function wrapper(){for(var o=arguments.length,pe=a(o),he=o;he--;)pe[he]=arguments[he];if(oe)var me=getHolder(wrapper),ge=countHolders(pe,me);if(s&&(pe=composeArgs(pe,s,y,oe)),_&&(pe=composeArgsRight(pe,_,w,oe)),o-=ge,oe&&o<q){var ye=replaceHolders(pe,me);return createRecurry(r,n,createHybrid,wrapper.placeholder,i,pe,ye,E,j,q-o)}var _e=ne?i:this,ve=ie?_e[r]:r;return o=pe.length,E?pe=reorder(pe,E):se&&o>1&&pe.reverse(),$&&j<o&&(pe.length=j),this&&this!==tr&&this instanceof wrapper&&(ve=le||createCtor(ve)),ve.apply(_e,pe)}}function createInverter(r,n){return function(a,i){return function baseInverter(r,n,a,i){return baseForOwn(r,(function(r,o,s){n(i,a(r),o,s)})),i}(a,r,n(i),{})}}function createMathOperation(r,n){return function(a,i){var s;if(o===a&&o===i)return n;if(o!==a&&(s=a),o!==i){if(o===s)return i;"string"==typeof a||"string"==typeof i?(a=baseToString(a),i=baseToString(i)):(a=baseToNumber(a),i=baseToNumber(i)),s=r(a,i)}return s}}function createOver(r){return flatRest((function(n){return n=arrayMap(n,baseUnary(getIteratee())),baseRest((function(a){var i=this;return r(n,(function(r){return apply(r,i,a)}))}))}))}function createPadding(r,n){var a=(n=o===n?" ":baseToString(n)).length;if(a<2)return a?baseRepeat(n,r):n;var i=baseRepeat(n,wr(r/stringSize(n)));return hasUnicode(n)?castSlice(stringToArray(i),0,r).join(""):i.slice(0,r)}function createRange(r){return function(n,i,s){return s&&"number"!=typeof s&&isIterateeCall(n,i,s)&&(i=s=o),n=toFinite(n),o===i?(i=n,n=0):i=toFinite(i),function baseRange(r,n,i,o){for(var s=-1,y=Rr(wr((n-r)/(i||1)),0),_=a(y);y--;)_[o?y:++s]=r,r+=i;return _}(n,i,s=o===s?n<i?1:-1:toFinite(s),r)}}function createRelationalOperation(r){return function(n,a){return"string"==typeof n&&"string"==typeof a||(n=toNumber(n),a=toNumber(a)),r(n,a)}}function createRecurry(r,n,a,i,s,y,_,w,E,j){var q=8&n;n|=q?32:64,4&(n&=~(q?64:32))||(n&=-4);var $=[r,n,s,q?y:o,q?_:o,q?o:y,q?o:_,w,E,j],ne=a.apply(o,$);return isLaziable(r)&&_n(ne,$),ne.placeholder=i,setWrapToString(ne,r,n)}function createRound(r){var n=wt[r];return function(r,a){if(r=toNumber(r),(a=null==a?0:Or(toInteger(a),292))&&Er(r)){var i=(toString(r)+"e").split("e");return+((i=(toString(n(i[0]+"e"+(+i[1]+a)))+"e").split("e"))[0]+"e"+(+i[1]-a))}return n(r)}}var un=zr&&1/setToArray(new zr([,-0]))[1]==1/0?function(r){return new zr(r)}:noop;function createToPairs(r){return function(n){var a=gn(n);return a==oe?mapToArray(n):a==he?setToPairs(n):function baseToPairs(r,n){return arrayMap(n,(function(n){return[n,r[n]]}))}(n,r(n))}}function createWrap(r,n,i,_,w,E,j,q){var $=2&n;if(!$&&"function"!=typeof r)throw new Et(s);var ne=_?_.length:0;if(ne||(n&=-97,_=w=o),j=o===j?j:Rr(toInteger(j),0),q=o===q?q:toInteger(q),ne-=w?w.length:0,64&n){var ie=_,oe=w;_=w=o}var se=$?o:dn(r),le=[r,n,i,_,w,ie,oe,E,j,q];if(se&&function mergeData(r,n){var a=r[1],i=n[1],o=a|i,s=o<131,_=128==i&&8==a||128==i&&256==a&&r[7].length<=n[8]||384==i&&n[7].length<=n[8]&&8==a;if(!s&&!_)return r;1&i&&(r[2]=n[2],o|=1&a?0:4);var w=n[3];if(w){var E=r[3];r[3]=E?composeArgs(E,w,n[4]):w,r[4]=E?replaceHolders(r[3],y):n[4]}(w=n[5])&&(E=r[5],r[5]=E?composeArgsRight(E,w,n[6]):w,r[6]=E?replaceHolders(r[5],y):n[6]),(w=n[7])&&(r[7]=w),128&i&&(r[8]=null==r[8]?n[8]:Or(r[8],n[8])),null==r[9]&&(r[9]=n[9]),r[0]=n[0],r[1]=o}(le,se),r=le[0],n=le[1],i=le[2],_=le[3],w=le[4],!(q=le[9]=o===le[9]?$?0:r.length:Rr(le[9]-ne,0))&&24&n&&(n&=-25),n&&1!=n)pe=8==n||16==n?function createCurry(r,n,i){var o=createCtor(r);return function wrapper(){for(var s=arguments.length,y=a(s),_=s,w=getHolder(wrapper);_--;)y[_]=arguments[_];var E=s<3&&y[0]!==w&&y[s-1]!==w?[]:replaceHolders(y,w);return(s-=E.length)<i?createRecurry(r,n,createHybrid,wrapper.placeholder,undefined,y,E,undefined,undefined,i-s):apply(this&&this!==tr&&this instanceof wrapper?o:r,this,y)}}(r,n,q):32!=n&&33!=n||w.length?createHybrid.apply(o,le):function createPartial(r,n,i,o){var s=1&n,y=createCtor(r);return function wrapper(){for(var n=-1,_=arguments.length,w=-1,E=o.length,j=a(E+_),q=this&&this!==tr&&this instanceof wrapper?y:r;++w<E;)j[w]=o[w];for(;_--;)j[w++]=arguments[++n];return apply(q,s?i:this,j)}}(r,n,i,_);else var pe=function createBind(r,n,a){var i=1&n,o=createCtor(r);return function wrapper(){return(this&&this!==tr&&this instanceof wrapper?o:r).apply(i?a:this,arguments)}}(r,n,i);return setWrapToString((se?sn:_n)(pe,le),r,n)}function customDefaultsAssignIn(r,n,a,i){return o===r||eq(r,Rt[a])&&!Lt.call(i,a)?n:r}function customDefaultsMerge(r,n,a,i,s,y){return isObject(r)&&isObject(n)&&(y.set(n,r),baseMerge(r,n,o,customDefaultsMerge,y),y.delete(n)),r}function customOmitClone(r){return isPlainObject(r)?o:r}function equalArrays(r,n,a,i,s,y){var _=1&a,w=r.length,E=n.length;if(w!=E&&!(_&&E>w))return!1;var j=y.get(r),q=y.get(n);if(j&&q)return j==n&&q==r;var $=-1,ne=!0,ie=2&a?new SetCache:o;for(y.set(r,n),y.set(n,r);++$<w;){var oe=r[$],se=n[$];if(i)var le=_?i(se,oe,$,n,r,y):i(oe,se,$,r,n,y);if(o!==le){if(le)continue;ne=!1;break}if(ie){if(!arraySome(n,(function(r,n){if(!cacheHas(ie,n)&&(oe===r||s(oe,r,a,i,y)))return ie.push(n)}))){ne=!1;break}}else if(oe!==se&&!s(oe,se,a,i,y)){ne=!1;break}}return y.delete(r),y.delete(n),ne}function flatRest(r){return bn(overRest(r,o,flatten),r+"")}function getAllKeys(r){return baseGetAllKeys(r,keys,hn)}function getAllKeysIn(r){return baseGetAllKeys(r,keysIn,mn)}var dn=Vr?function(r){return Vr.get(r)}:noop;function getFuncName(r){for(var n=r.name+"",a=Wr[n],i=Lt.call(Wr,n)?a.length:0;i--;){var o=a[i],s=o.func;if(null==s||s==r)return o.name}return n}function getHolder(r){return(Lt.call(lodash,"placeholder")?lodash:r).placeholder}function getIteratee(){var r=lodash.iteratee||iteratee;return r=r===iteratee?baseIteratee:r,arguments.length?r(arguments[0],arguments[1]):r}function getMapData(r,n){var a=r.__data__;return function isKeyable(r){var n=typeof r;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r}(n)?a["string"==typeof n?"string":"hash"]:a.map}function getMatchData(r){for(var n=keys(r),a=n.length;a--;){var i=n[a],o=r[i];n[a]=[i,o,isStrictComparable(o)]}return n}function getNative(r,n){var a=function getValue(r,n){return null==r?undefined:r[n]}(r,n);return baseIsNative(a)?a:o}var hn=Mr?function(r){return null==r?[]:(r=Pt(r),arrayFilter(Mr(r),(function(n){return ir.call(r,n)})))}:stubArray,mn=Mr?function(r){for(var n=[];r;)arrayPush(n,hn(r)),r=rr(r);return n}:stubArray,gn=baseGetTag;function hasPath(r,n,a){for(var i=-1,o=(n=castPath(n,r)).length,s=!1;++i<o;){var y=toKey(n[i]);if(!(s=null!=r&&a(r,y)))break;r=r[y]}return s||++i!=o?s:!!(o=null==r?0:r.length)&&isLength(o)&&isIndex(y,o)&&(da(r)||pa(r))}function initCloneObject(r){return"function"!=typeof r.constructor||isPrototype(r)?{}:en(rr(r))}function isFlattenable(r){return da(r)||pa(r)||!!(hr&&r&&r[hr])}function isIndex(r,n){var a=typeof r;return!!(n=null==n?9007199254740991:n)&&("number"==a||"symbol"!=a&&vt.test(r))&&r>-1&&r%1==0&&r<n}function isIterateeCall(r,n,a){if(!isObject(a))return!1;var i=typeof n;return!!("number"==i?isArrayLike(a)&&isIndex(n,a.length):"string"==i&&n in a)&&eq(a[n],r)}function isKey(r,n){if(da(r))return!1;var a=typeof r;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=r&&!isSymbol(r))||tt.test(r)||!et.test(r)||null!=n&&r in Pt(n)}function isLaziable(r){var n=getFuncName(r),a=lodash[n];if("function"!=typeof a||!(n in LazyWrapper.prototype))return!1;if(r===a)return!0;var i=dn(a);return!!i&&r===i[0]}(Fr&&gn(new Fr(new ArrayBuffer(1)))!=ve||jr&&gn(new jr)!=oe||Br&&"[object Promise]"!=gn(Br.resolve())||zr&&gn(new zr)!=he||Gr&&gn(new Gr)!=ye)&&(gn=function(r){var n=baseGetTag(r),a=n==le?r.constructor:o,i=a?toSource(a):"";if(i)switch(i){case Yr:return ve;case qr:return oe;case Xr:return"[object Promise]";case $r:return he;case Kr:return ye}return n});var yn=Ot?isFunction:stubFalse;function isPrototype(r){var n=r&&r.constructor;return r===("function"==typeof n&&n.prototype||Rt)}function isStrictComparable(r){return r==r&&!isObject(r)}function matchesStrictComparable(r,n){return function(a){return null!=a&&a[r]===n&&(o!==n||r in Pt(a))}}function overRest(r,n,i){return n=Rr(o===n?r.length-1:n,0),function(){for(var o=arguments,s=-1,y=Rr(o.length-n,0),_=a(y);++s<y;)_[s]=o[n+s];s=-1;for(var w=a(n+1);++s<n;)w[s]=o[s];return w[n]=i(_),apply(r,this,w)}}function parent(r,n){return n.length<2?r:baseGet(r,baseSlice(n,0,-1))}function reorder(r,n){for(var a=r.length,i=Or(n.length,a),s=copyArray(r);i--;){var y=n[i];r[i]=isIndex(y,a)?s[y]:o}return r}function safeGet(r,n){if(("constructor"!==n||"function"!=typeof r[n])&&"__proto__"!=n)return r[n]}var _n=shortOut(sn),vn=Cr||function(r,n){return tr.setTimeout(r,n)},bn=shortOut(ln);function setWrapToString(r,n,a){var i=n+"";return bn(r,function insertWrapDetails(r,n){var a=n.length;if(!a)return r;var i=a-1;return n[i]=(a>1?"& ":"")+n[i],n=n.join(a>2?", ":" "),r.replace(st,"{\n/* [wrapped with "+n+"] */\n")}(i,function updateWrapDetails(r,n){return arrayEach(_,(function(a){var i="_."+a[0];n&a[1]&&!arrayIncludes(r,i)&&r.push(i)})),r.sort()}(function getWrapDetails(r){var n=r.match(lt);return n?n[1].split(ct):[]}(i),a)))}function shortOut(r){var n=0,a=0;return function(){var i=Nr(),s=16-(i-a);if(a=i,s>0){if(++n>=800)return arguments[0]}else n=0;return r.apply(o,arguments)}}function shuffleSelf(r,n){var a=-1,i=r.length,s=i-1;for(n=o===n?i:n;++a<n;){var y=baseRandom(a,s),_=r[y];r[y]=r[a],r[a]=_}return r.length=n,r}var xn=function memoizeCapped(r){var n=memoize(r,(function(r){return 500===a.size&&a.clear(),r})),a=n.cache;return n}((function(r){var n=[];return 46===r.charCodeAt(0)&&n.push(""),r.replace(rt,(function(r,a,i,o){n.push(i?o.replace(dt,"$1"):a||r)})),n}));function toKey(r){if("string"==typeof r||isSymbol(r))return r;var n=r+"";return"0"==n&&1/r==-1/0?"-0":n}function toSource(r){if(null!=r){try{return Nt.call(r)}catch(r){}try{return r+""}catch(r){}}return""}function wrapperClone(r){if(r instanceof LazyWrapper)return r.clone();var n=new LodashWrapper(r.__wrapped__,r.__chain__);return n.__actions__=copyArray(r.__actions__),n.__index__=r.__index__,n.__values__=r.__values__,n}var Sn=baseRest((function(r,n){return isArrayLikeObject(r)?baseDifference(r,baseFlatten(n,1,isArrayLikeObject,!0)):[]})),Cn=baseRest((function(r,n){var a=last(n);return isArrayLikeObject(a)&&(a=o),isArrayLikeObject(r)?baseDifference(r,baseFlatten(n,1,isArrayLikeObject,!0),getIteratee(a,2)):[]})),wn=baseRest((function(r,n){var a=last(n);return isArrayLikeObject(a)&&(a=o),isArrayLikeObject(r)?baseDifference(r,baseFlatten(n,1,isArrayLikeObject,!0),o,a):[]}));function findIndex(r,n,a){var i=null==r?0:r.length;if(!i)return-1;var o=null==a?0:toInteger(a);return o<0&&(o=Rr(i+o,0)),baseFindIndex(r,getIteratee(n,3),o)}function findLastIndex(r,n,a){var i=null==r?0:r.length;if(!i)return-1;var s=i-1;return o!==a&&(s=toInteger(a),s=a<0?Rr(i+s,0):Or(s,i-1)),baseFindIndex(r,getIteratee(n,3),s,!0)}function flatten(r){return null!=r&&r.length?baseFlatten(r,1):[]}function head(r){return r&&r.length?r[0]:o}var Pn=baseRest((function(r){var n=arrayMap(r,castArrayLikeObject);return n.length&&n[0]===r[0]?baseIntersection(n):[]})),Mn=baseRest((function(r){var n=last(r),a=arrayMap(r,castArrayLikeObject);return n===last(a)?n=o:a.pop(),a.length&&a[0]===r[0]?baseIntersection(a,getIteratee(n,2)):[]})),Tn=baseRest((function(r){var n=last(r),a=arrayMap(r,castArrayLikeObject);return(n="function"==typeof n?n:o)&&a.pop(),a.length&&a[0]===r[0]?baseIntersection(a,o,n):[]}));function last(r){var n=null==r?0:r.length;return n?r[n-1]:o}var En=baseRest(pullAll);function pullAll(r,n){return r&&r.length&&n&&n.length?basePullAll(r,n):r}var An=flatRest((function(r,n){var a=null==r?0:r.length,i=baseAt(r,n);return basePullAt(r,arrayMap(n,(function(r){return isIndex(r,a)?+r:r})).sort(compareAscending)),i}));function reverse(r){return null==r?r:Dr.call(r)}var kn=baseRest((function(r){return baseUniq(baseFlatten(r,1,isArrayLikeObject,!0))})),Rn=baseRest((function(r){var n=last(r);return isArrayLikeObject(n)&&(n=o),baseUniq(baseFlatten(r,1,isArrayLikeObject,!0),getIteratee(n,2))})),On=baseRest((function(r){var n=last(r);return n="function"==typeof n?n:o,baseUniq(baseFlatten(r,1,isArrayLikeObject,!0),o,n)}));function unzip(r){if(!r||!r.length)return[];var n=0;return r=arrayFilter(r,(function(r){if(isArrayLikeObject(r))return n=Rr(r.length,n),!0})),baseTimes(n,(function(n){return arrayMap(r,baseProperty(n))}))}function unzipWith(r,n){if(!r||!r.length)return[];var a=unzip(r);return null==n?a:arrayMap(a,(function(r){return apply(n,o,r)}))}var Nn=baseRest((function(r,n){return isArrayLikeObject(r)?baseDifference(r,n):[]})),Ln=baseRest((function(r){return baseXor(arrayFilter(r,isArrayLikeObject))})),In=baseRest((function(r){var n=last(r);return isArrayLikeObject(n)&&(n=o),baseXor(arrayFilter(r,isArrayLikeObject),getIteratee(n,2))})),Dn=baseRest((function(r){var n=last(r);return n="function"==typeof n?n:o,baseXor(arrayFilter(r,isArrayLikeObject),o,n)})),Fn=baseRest(unzip),jn=baseRest((function(r){var n=r.length,a=n>1?r[n-1]:o;return a="function"==typeof a?(r.pop(),a):o,unzipWith(r,a)}));function chain(r){var n=lodash(r);return n.__chain__=!0,n}function thru(r,n){return n(r)}var Bn=flatRest((function(r){var n=r.length,a=n?r[0]:0,i=this.__wrapped__,interceptor=function(n){return baseAt(n,r)};return!(n>1||this.__actions__.length)&&i instanceof LazyWrapper&&isIndex(a)?((i=i.slice(a,+a+(n?1:0))).__actions__.push({func:thru,args:[interceptor],thisArg:o}),new LodashWrapper(i,this.__chain__).thru((function(r){return n&&!r.length&&r.push(o),r}))):this.thru(interceptor)})),zn=createAggregator((function(r,n,a){Lt.call(r,a)?++r[a]:baseAssignValue(r,a,1)})),Gn=createFind(findIndex),Un=createFind(findLastIndex);function forEach(r,n){return(da(r)?arrayEach:tn)(r,getIteratee(n,3))}function forEachRight(r,n){return(da(r)?arrayEachRight:rn)(r,getIteratee(n,3))}var Vn=createAggregator((function(r,n,a){Lt.call(r,a)?r[a].push(n):baseAssignValue(r,a,[n])})),Wn=baseRest((function(r,n,i){var o=-1,s="function"==typeof n,y=isArrayLike(r)?a(r.length):[];return tn(r,(function(r){y[++o]=s?apply(n,r,i):baseInvoke(r,n,i)})),y})),Hn=createAggregator((function(r,n,a){baseAssignValue(r,a,n)}));function map(r,n){return(da(r)?arrayMap:baseMap)(r,getIteratee(n,3))}var Yn=createAggregator((function(r,n,a){r[a?0:1].push(n)}),(function(){return[[],[]]})),qn=baseRest((function(r,n){if(null==r)return[];var a=n.length;return a>1&&isIterateeCall(r,n[0],n[1])?n=[]:a>2&&isIterateeCall(n[0],n[1],n[2])&&(n=[n[0]]),baseOrderBy(r,baseFlatten(n,1),[])})),Xn=Sr||function(){return tr.Date.now()};function ary(r,n,a){return n=a?o:n,createWrap(r,128,o,o,o,o,n=r&&null==n?r.length:n)}function before(r,n){var a;if("function"!=typeof n)throw new Et(s);return r=toInteger(r),function(){return--r>0&&(a=n.apply(this,arguments)),r<=1&&(n=o),a}}var $n=baseRest((function(r,n,a){var i=1;if(a.length){var o=replaceHolders(a,getHolder($n));i|=32}return createWrap(r,i,n,a,o)})),Kn=baseRest((function(r,n,a){var i=3;if(a.length){var o=replaceHolders(a,getHolder(Kn));i|=32}return createWrap(n,i,r,a,o)}));function debounce(r,n,a){var i,y,_,w,E,j,q=0,$=!1,ne=!1,ie=!0;if("function"!=typeof r)throw new Et(s);function invokeFunc(n){var a=i,s=y;return i=y=o,q=n,w=r.apply(s,a)}function leadingEdge(r){return q=r,E=vn(timerExpired,n),$?invokeFunc(r):w}function shouldInvoke(r){var a=r-j;return o===j||a>=n||a<0||ne&&r-q>=_}function timerExpired(){var r=Xn();if(shouldInvoke(r))return trailingEdge(r);E=vn(timerExpired,function remainingWait(r){var a=n-(r-j);return ne?Or(a,_-(r-q)):a}(r))}function trailingEdge(r){return E=o,ie&&i?invokeFunc(r):(i=y=o,w)}function debounced(){var r=Xn(),a=shouldInvoke(r);if(i=arguments,y=this,j=r,a){if(o===E)return leadingEdge(j);if(ne)return pn(E),E=vn(timerExpired,n),invokeFunc(j)}return o===E&&(E=vn(timerExpired,n)),w}return n=toNumber(n)||0,isObject(a)&&($=!!a.leading,_=(ne="maxWait"in a)?Rr(toNumber(a.maxWait)||0,n):_,ie="trailing"in a?!!a.trailing:ie),debounced.cancel=function cancel(){o!==E&&pn(E),q=0,i=j=y=E=o},debounced.flush=function flush(){return o===E?w:trailingEdge(Xn())},debounced}var Jn=baseRest((function(r,n){return baseDelay(r,1,n)})),Qn=baseRest((function(r,n,a){return baseDelay(r,toNumber(n)||0,a)}));function memoize(r,n){if("function"!=typeof r||null!=n&&"function"!=typeof n)throw new Et(s);var memoized=function(){var a=arguments,i=n?n.apply(this,a):a[0],o=memoized.cache;if(o.has(i))return o.get(i);var s=r.apply(this,a);return memoized.cache=o.set(i,s)||o,s};return memoized.cache=new(memoize.Cache||MapCache),memoized}function negate(r){if("function"!=typeof r)throw new Et(s);return function(){var n=arguments;switch(n.length){case 0:return!r.call(this);case 1:return!r.call(this,n[0]);case 2:return!r.call(this,n[0],n[1]);case 3:return!r.call(this,n[0],n[1],n[2])}return!r.apply(this,n)}}memoize.Cache=MapCache;var Zn=cn((function(r,n){var a=(n=1==n.length&&da(n[0])?arrayMap(n[0],baseUnary(getIteratee())):arrayMap(baseFlatten(n,1),baseUnary(getIteratee()))).length;return baseRest((function(i){for(var o=-1,s=Or(i.length,a);++o<s;)i[o]=n[o].call(this,i[o]);return apply(r,this,i)}))})),ta=baseRest((function(r,n){return createWrap(r,32,o,n,replaceHolders(n,getHolder(ta)))})),na=baseRest((function(r,n){return createWrap(r,64,o,n,replaceHolders(n,getHolder(na)))})),ia=flatRest((function(r,n){return createWrap(r,256,o,o,o,n)}));function eq(r,n){return r===n||r!=r&&n!=n}var sa=createRelationalOperation(baseGt),la=createRelationalOperation((function(r,n){return r>=n})),pa=baseIsArguments(function(){return arguments}())?baseIsArguments:function(r){return isObjectLike(r)&&Lt.call(r,"callee")&&!ir.call(r,"callee")},da=a.isArray,ha=sr?baseUnary(sr):function baseIsArrayBuffer(r){return isObjectLike(r)&&baseGetTag(r)==_e};function isArrayLike(r){return null!=r&&isLength(r.length)&&!isFunction(r)}function isArrayLikeObject(r){return isObjectLike(r)&&isArrayLike(r)}var fa=Tr||stubFalse,ma=lr?baseUnary(lr):function baseIsDate(r){return isObjectLike(r)&&baseGetTag(r)==q};function isError(r){if(!isObjectLike(r))return!1;var n=baseGetTag(r);return n==$||"[object DOMException]"==n||"string"==typeof r.message&&"string"==typeof r.name&&!isPlainObject(r)}function isFunction(r){if(!isObject(r))return!1;var n=baseGetTag(r);return n==ne||n==ie||"[object AsyncFunction]"==n||"[object Proxy]"==n}function isInteger(r){return"number"==typeof r&&r==toInteger(r)}function isLength(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=9007199254740991}function isObject(r){var n=typeof r;return null!=r&&("object"==n||"function"==n)}function isObjectLike(r){return null!=r&&"object"==typeof r}var ga=cr?baseUnary(cr):function baseIsMap(r){return isObjectLike(r)&&gn(r)==oe};function isNumber(r){return"number"==typeof r||isObjectLike(r)&&baseGetTag(r)==se}function isPlainObject(r){if(!isObjectLike(r)||baseGetTag(r)!=le)return!1;var n=rr(r);if(null===n)return!0;var a=Lt.call(n,"constructor")&&n.constructor;return"function"==typeof a&&a instanceof a&&Nt.call(a)==jt}var ya=pr?baseUnary(pr):function baseIsRegExp(r){return isObjectLike(r)&&baseGetTag(r)==pe},_a=ur?baseUnary(ur):function baseIsSet(r){return isObjectLike(r)&&gn(r)==he};function isString(r){return"string"==typeof r||!da(r)&&isObjectLike(r)&&baseGetTag(r)==me}function isSymbol(r){return"symbol"==typeof r||isObjectLike(r)&&baseGetTag(r)==ge}var va=dr?baseUnary(dr):function baseIsTypedArray(r){return isObjectLike(r)&&isLength(r.length)&&!!Xt[baseGetTag(r)]},wa=createRelationalOperation(baseLt),Pa=createRelationalOperation((function(r,n){return r<=n}));function toArray(r){if(!r)return[];if(isArrayLike(r))return isString(r)?stringToArray(r):copyArray(r);if(_r&&r[_r])return function iteratorToArray(r){for(var n,a=[];!(n=r.next()).done;)a.push(n.value);return a}(r[_r]());var n=gn(r);return(n==oe?mapToArray:n==he?setToArray:values)(r)}function toFinite(r){return r?1/0===(r=toNumber(r))||-1/0===r?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0}function toInteger(r){var n=toFinite(r),a=n%1;return n==n?a?n-a:n:0}function toLength(r){return r?baseClamp(toInteger(r),0,4294967295):0}function toNumber(r){if("number"==typeof r)return r;if(isSymbol(r))return NaN;if(isObject(r)){var n="function"==typeof r.valueOf?r.valueOf():r;r=isObject(n)?n+"":n}if("string"!=typeof r)return 0===r?r:+r;r=baseTrim(r);var a=gt.test(r);return a||_t.test(r)?Qt(r.slice(2),a?2:8):mt.test(r)?NaN:+r}function toPlainObject(r){return copyObject(r,keysIn(r))}function toString(r){return null==r?"":baseToString(r)}var Aa=createAssigner((function(r,n){if(isPrototype(n)||isArrayLike(n))copyObject(n,keys(n),r);else for(var a in n)Lt.call(n,a)&&assignValue(r,a,n[a])})),Oa=createAssigner((function(r,n){copyObject(n,keysIn(n),r)})),Na=createAssigner((function(r,n,a,i){copyObject(n,keysIn(n),r,i)})),Ia=createAssigner((function(r,n,a,i){copyObject(n,keys(n),r,i)})),Ba=flatRest(baseAt),za=baseRest((function(r,n){r=Pt(r);var a=-1,i=n.length,s=i>2?n[2]:o;for(s&&isIterateeCall(n[0],n[1],s)&&(i=1);++a<i;)for(var y=n[a],_=keysIn(y),w=-1,E=_.length;++w<E;){var j=_[w],q=r[j];(o===q||eq(q,Rt[j])&&!Lt.call(r,j))&&(r[j]=y[j])}return r})),Ua=baseRest((function(r){return r.push(o,customDefaultsMerge),apply(Ka,o,r)}));function get(r,n,a){var i=null==r?o:baseGet(r,n);return o===i?a:i}function hasIn(r,n){return null!=r&&hasPath(r,n,baseHasIn)}var Wa=createInverter((function(r,n,a){null!=n&&"function"!=typeof n.toString&&(n=Ft.call(n)),r[n]=a}),constant(identity)),Ya=createInverter((function(r,n,a){null!=n&&"function"!=typeof n.toString&&(n=Ft.call(n)),Lt.call(r,n)?r[n].push(a):r[n]=[a]}),getIteratee),qa=baseRest(baseInvoke);function keys(r){return isArrayLike(r)?arrayLikeKeys(r):baseKeys(r)}function keysIn(r){return isArrayLike(r)?arrayLikeKeys(r,!0):function baseKeysIn(r){if(!isObject(r))return function nativeKeysIn(r){var n=[];if(null!=r)for(var a in Pt(r))n.push(a);return n}(r);var n=isPrototype(r),a=[];for(var i in r)("constructor"!=i||!n&&Lt.call(r,i))&&a.push(i);return a}(r)}var $a=createAssigner((function(r,n,a){baseMerge(r,n,a)})),Ka=createAssigner((function(r,n,a,i){baseMerge(r,n,a,i)})),Ja=flatRest((function(r,n){var a={};if(null==r)return a;var i=!1;n=arrayMap(n,(function(n){return n=castPath(n,r),i||(i=n.length>1),n})),copyObject(r,getAllKeysIn(r),a),i&&(a=baseClone(a,7,customOmitClone));for(var o=n.length;o--;)baseUnset(a,n[o]);return a})),Qa=flatRest((function(r,n){return null==r?{}:function basePick(r,n){return basePickBy(r,n,(function(n,a){return hasIn(r,a)}))}(r,n)}));function pickBy(r,n){if(null==r)return{};var a=arrayMap(getAllKeysIn(r),(function(r){return[r]}));return n=getIteratee(n),basePickBy(r,a,(function(r,a){return n(r,a[0])}))}var Za=createToPairs(keys),ti=createToPairs(keysIn);function values(r){return null==r?[]:baseValues(r,keys(r))}var ni=createCompounder((function(r,n,a){return n=n.toLowerCase(),r+(a?capitalize(n):n)}));function capitalize(r){return wi(toString(r).toLowerCase())}function deburr(r){return(r=toString(r))&&r.replace(bt,fr).replace(Gt,"")}var ii=createCompounder((function(r,n,a){return r+(a?"-":"")+n.toLowerCase()})),oi=createCompounder((function(r,n,a){return r+(a?" ":"")+n.toLowerCase()})),pi=createCaseFirst("toLowerCase"),ui=createCompounder((function(r,n,a){return r+(a?"_":"")+n.toLowerCase()})),_i=createCompounder((function(r,n,a){return r+(a?" ":"")+wi(n)})),vi=createCompounder((function(r,n,a){return r+(a?" ":"")+n.toUpperCase()})),wi=createCaseFirst("toUpperCase");function words(r,n,a){return r=toString(r),o===(n=a?o:n)?function hasUnicodeWord(r){return Ht.test(r)}(r)?function unicodeWords(r){return r.match(Vt)||[]}(r):function asciiWords(r){return r.match(pt)||[]}(r):r.match(n)||[]}var Ti=baseRest((function(r,n){try{return apply(r,o,n)}catch(r){return isError(r)?r:new ot(r)}})),Li=flatRest((function(r,n){return arrayEach(n,(function(n){n=toKey(n),baseAssignValue(r,n,$n(r[n],r))})),r}));function constant(r){return function(){return r}}var Bi=createFlow(),Wi=createFlow(!0);function identity(r){return r}function iteratee(r){return baseIteratee("function"==typeof r?r:baseClone(r,1))}var Yi=baseRest((function(r,n){return function(a){return baseInvoke(a,r,n)}})),qi=baseRest((function(r,n){return function(a){return baseInvoke(r,a,n)}}));function mixin(r,n,a){var i=keys(n),o=baseFunctions(n,i);null!=a||isObject(n)&&(o.length||!i.length)||(a=n,n=r,r=this,o=baseFunctions(n,keys(n)));var s=!(isObject(a)&&"chain"in a&&!a.chain),y=isFunction(r);return arrayEach(o,(function(a){var i=n[a];r[a]=i,y&&(r.prototype[a]=function(){var n=this.__chain__;if(s||n){var a=r(this.__wrapped__),o=a.__actions__=copyArray(this.__actions__);return o.push({func:i,args:arguments,thisArg:r}),a.__chain__=n,a}return i.apply(r,arrayPush([this.value()],arguments))})})),r}function noop(){}var Zi=createOver(arrayMap),eo=createOver(arrayEvery),to=createOver(arraySome);function property(r){return isKey(r)?baseProperty(toKey(r)):function basePropertyDeep(r){return function(n){return baseGet(n,r)}}(r)}var ro=createRange(),no=createRange(!0);function stubArray(){return[]}function stubFalse(){return!1}var ao,io=createMathOperation((function(r,n){return r+n}),0),oo=createRound("ceil"),so=createMathOperation((function(r,n){return r/n}),1),lo=createRound("floor"),co=createMathOperation((function(r,n){return r*n}),1),po=createRound("round"),uo=createMathOperation((function(r,n){return r-n}),0);return lodash.after=function after(r,n){if("function"!=typeof n)throw new Et(s);return r=toInteger(r),function(){if(--r<1)return n.apply(this,arguments)}},lodash.ary=ary,lodash.assign=Aa,lodash.assignIn=Oa,lodash.assignInWith=Na,lodash.assignWith=Ia,lodash.at=Ba,lodash.before=before,lodash.bind=$n,lodash.bindAll=Li,lodash.bindKey=Kn,lodash.castArray=function castArray(){if(!arguments.length)return[];var r=arguments[0];return da(r)?r:[r]},lodash.chain=chain,lodash.chunk=function chunk(r,n,i){n=(i?isIterateeCall(r,n,i):o===n)?1:Rr(toInteger(n),0);var s=null==r?0:r.length;if(!s||n<1)return[];for(var y=0,_=0,w=a(wr(s/n));y<s;)w[_++]=baseSlice(r,y,y+=n);return w},lodash.compact=function compact(r){for(var n=-1,a=null==r?0:r.length,i=0,o=[];++n<a;){var s=r[n];s&&(o[i++]=s)}return o},lodash.concat=function concat(){var r=arguments.length;if(!r)return[];for(var n=a(r-1),i=arguments[0],o=r;o--;)n[o-1]=arguments[o];return arrayPush(da(i)?copyArray(i):[i],baseFlatten(n,1))},lodash.cond=function cond(r){var n=null==r?0:r.length,a=getIteratee();return r=n?arrayMap(r,(function(r){if("function"!=typeof r[1])throw new Et(s);return[a(r[0]),r[1]]})):[],baseRest((function(a){for(var i=-1;++i<n;){var o=r[i];if(apply(o[0],this,a))return apply(o[1],this,a)}}))},lodash.conforms=function conforms(r){return function baseConforms(r){var n=keys(r);return function(a){return baseConformsTo(a,r,n)}}(baseClone(r,1))},lodash.constant=constant,lodash.countBy=zn,lodash.create=function create(r,n){var a=en(r);return null==n?a:baseAssign(a,n)},lodash.curry=function curry(r,n,a){var i=createWrap(r,8,o,o,o,o,o,n=a?o:n);return i.placeholder=curry.placeholder,i},lodash.curryRight=function curryRight(r,n,a){var i=createWrap(r,16,o,o,o,o,o,n=a?o:n);return i.placeholder=curryRight.placeholder,i},lodash.debounce=debounce,lodash.defaults=za,lodash.defaultsDeep=Ua,lodash.defer=Jn,lodash.delay=Qn,lodash.difference=Sn,lodash.differenceBy=Cn,lodash.differenceWith=wn,lodash.drop=function drop(r,n,a){var i=null==r?0:r.length;return i?baseSlice(r,(n=a||o===n?1:toInteger(n))<0?0:n,i):[]},lodash.dropRight=function dropRight(r,n,a){var i=null==r?0:r.length;return i?baseSlice(r,0,(n=i-(n=a||o===n?1:toInteger(n)))<0?0:n):[]},lodash.dropRightWhile=function dropRightWhile(r,n){return r&&r.length?baseWhile(r,getIteratee(n,3),!0,!0):[]},lodash.dropWhile=function dropWhile(r,n){return r&&r.length?baseWhile(r,getIteratee(n,3),!0):[]},lodash.fill=function fill(r,n,a,i){var o=null==r?0:r.length;return o?(a&&"number"!=typeof a&&isIterateeCall(r,n,a)&&(a=0,i=o),function baseFill(r,n,a,i){var o=r.length;for((a=toInteger(a))<0&&(a=-a>o?0:o+a),(i=undefined===i||i>o?o:toInteger(i))<0&&(i+=o),i=a>i?0:toLength(i);a<i;)r[a++]=n;return r}(r,n,a,i)):[]},lodash.filter=function filter(r,n){return(da(r)?arrayFilter:baseFilter)(r,getIteratee(n,3))},lodash.flatMap=function flatMap(r,n){return baseFlatten(map(r,n),1)},lodash.flatMapDeep=function flatMapDeep(r,n){return baseFlatten(map(r,n),1/0)},lodash.flatMapDepth=function flatMapDepth(r,n,a){return a=o===a?1:toInteger(a),baseFlatten(map(r,n),a)},lodash.flatten=flatten,lodash.flattenDeep=function flattenDeep(r){return null!=r&&r.length?baseFlatten(r,1/0):[]},lodash.flattenDepth=function flattenDepth(r,n){return null!=r&&r.length?baseFlatten(r,n=o===n?1:toInteger(n)):[]},lodash.flip=function flip(r){return createWrap(r,512)},lodash.flow=Bi,lodash.flowRight=Wi,lodash.fromPairs=function fromPairs(r){for(var n=-1,a=null==r?0:r.length,i={};++n<a;){var o=r[n];i[o[0]]=o[1]}return i},lodash.functions=function functions(r){return null==r?[]:baseFunctions(r,keys(r))},lodash.functionsIn=function functionsIn(r){return null==r?[]:baseFunctions(r,keysIn(r))},lodash.groupBy=Vn,lodash.initial=function initial(r){return null!=r&&r.length?baseSlice(r,0,-1):[]},lodash.intersection=Pn,lodash.intersectionBy=Mn,lodash.intersectionWith=Tn,lodash.invert=Wa,lodash.invertBy=Ya,lodash.invokeMap=Wn,lodash.iteratee=iteratee,lodash.keyBy=Hn,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=function mapKeys(r,n){var a={};return n=getIteratee(n,3),baseForOwn(r,(function(r,i,o){baseAssignValue(a,n(r,i,o),r)})),a},lodash.mapValues=function mapValues(r,n){var a={};return n=getIteratee(n,3),baseForOwn(r,(function(r,i,o){baseAssignValue(a,i,n(r,i,o))})),a},lodash.matches=function matches(r){return baseMatches(baseClone(r,1))},lodash.matchesProperty=function matchesProperty(r,n){return baseMatchesProperty(r,baseClone(n,1))},lodash.memoize=memoize,lodash.merge=$a,lodash.mergeWith=Ka,lodash.method=Yi,lodash.methodOf=qi,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=function nthArg(r){return r=toInteger(r),baseRest((function(n){return baseNth(n,r)}))},lodash.omit=Ja,lodash.omitBy=function omitBy(r,n){return pickBy(r,negate(getIteratee(n)))},lodash.once=function once(r){return before(2,r)},lodash.orderBy=function orderBy(r,n,a,i){return null==r?[]:(da(n)||(n=null==n?[]:[n]),da(a=i?o:a)||(a=null==a?[]:[a]),baseOrderBy(r,n,a))},lodash.over=Zi,lodash.overArgs=Zn,lodash.overEvery=eo,lodash.overSome=to,lodash.partial=ta,lodash.partialRight=na,lodash.partition=Yn,lodash.pick=Qa,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=function propertyOf(r){return function(n){return null==r?o:baseGet(r,n)}},lodash.pull=En,lodash.pullAll=pullAll,lodash.pullAllBy=function pullAllBy(r,n,a){return r&&r.length&&n&&n.length?basePullAll(r,n,getIteratee(a,2)):r},lodash.pullAllWith=function pullAllWith(r,n,a){return r&&r.length&&n&&n.length?basePullAll(r,n,o,a):r},lodash.pullAt=An,lodash.range=ro,lodash.rangeRight=no,lodash.rearg=ia,lodash.reject=function reject(r,n){return(da(r)?arrayFilter:baseFilter)(r,negate(getIteratee(n,3)))},lodash.remove=function remove(r,n){var a=[];if(!r||!r.length)return a;var i=-1,o=[],s=r.length;for(n=getIteratee(n,3);++i<s;){var y=r[i];n(y,i,r)&&(a.push(y),o.push(i))}return basePullAt(r,o),a},lodash.rest=function rest(r,n){if("function"!=typeof r)throw new Et(s);return baseRest(r,n=o===n?n:toInteger(n))},lodash.reverse=reverse,lodash.sampleSize=function sampleSize(r,n,a){return n=(a?isIterateeCall(r,n,a):o===n)?1:toInteger(n),(da(r)?arraySampleSize:baseSampleSize)(r,n)},lodash.set=function set(r,n,a){return null==r?r:baseSet(r,n,a)},lodash.setWith=function setWith(r,n,a,i){return i="function"==typeof i?i:o,null==r?r:baseSet(r,n,a,i)},lodash.shuffle=function shuffle(r){return(da(r)?arrayShuffle:baseShuffle)(r)},lodash.slice=function slice(r,n,a){var i=null==r?0:r.length;return i?(a&&"number"!=typeof a&&isIterateeCall(r,n,a)?(n=0,a=i):(n=null==n?0:toInteger(n),a=o===a?i:toInteger(a)),baseSlice(r,n,a)):[]},lodash.sortBy=qn,lodash.sortedUniq=function sortedUniq(r){return r&&r.length?baseSortedUniq(r):[]},lodash.sortedUniqBy=function sortedUniqBy(r,n){return r&&r.length?baseSortedUniq(r,getIteratee(n,2)):[]},lodash.split=function split(r,n,a){return a&&"number"!=typeof a&&isIterateeCall(r,n,a)&&(n=a=o),(a=o===a?4294967295:a>>>0)?(r=toString(r))&&("string"==typeof n||null!=n&&!ya(n))&&!(n=baseToString(n))&&hasUnicode(r)?castSlice(stringToArray(r),0,a):r.split(n,a):[]},lodash.spread=function spread(r,n){if("function"!=typeof r)throw new Et(s);return n=null==n?0:Rr(toInteger(n),0),baseRest((function(a){var i=a[n],o=castSlice(a,0,n);return i&&arrayPush(o,i),apply(r,this,o)}))},lodash.tail=function tail(r){var n=null==r?0:r.length;return n?baseSlice(r,1,n):[]},lodash.take=function take(r,n,a){return r&&r.length?baseSlice(r,0,(n=a||o===n?1:toInteger(n))<0?0:n):[]},lodash.takeRight=function takeRight(r,n,a){var i=null==r?0:r.length;return i?baseSlice(r,(n=i-(n=a||o===n?1:toInteger(n)))<0?0:n,i):[]},lodash.takeRightWhile=function takeRightWhile(r,n){return r&&r.length?baseWhile(r,getIteratee(n,3),!1,!0):[]},lodash.takeWhile=function takeWhile(r,n){return r&&r.length?baseWhile(r,getIteratee(n,3)):[]},lodash.tap=function tap(r,n){return n(r),r},lodash.throttle=function throttle(r,n,a){var i=!0,o=!0;if("function"!=typeof r)throw new Et(s);return isObject(a)&&(i="leading"in a?!!a.leading:i,o="trailing"in a?!!a.trailing:o),debounce(r,n,{leading:i,maxWait:n,trailing:o})},lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=Za,lodash.toPairsIn=ti,lodash.toPath=function toPath(r){return da(r)?arrayMap(r,toKey):isSymbol(r)?[r]:copyArray(xn(toString(r)))},lodash.toPlainObject=toPlainObject,lodash.transform=function transform(r,n,a){var i=da(r),o=i||fa(r)||va(r);if(n=getIteratee(n,4),null==a){var s=r&&r.constructor;a=o?i?new s:[]:isObject(r)&&isFunction(s)?en(rr(r)):{}}return(o?arrayEach:baseForOwn)(r,(function(r,i,o){return n(a,r,i,o)})),a},lodash.unary=function unary(r){return ary(r,1)},lodash.union=kn,lodash.unionBy=Rn,lodash.unionWith=On,lodash.uniq=function uniq(r){return r&&r.length?baseUniq(r):[]},lodash.uniqBy=function uniqBy(r,n){return r&&r.length?baseUniq(r,getIteratee(n,2)):[]},lodash.uniqWith=function uniqWith(r,n){return n="function"==typeof n?n:o,r&&r.length?baseUniq(r,o,n):[]},lodash.unset=function unset(r,n){return null==r||baseUnset(r,n)},lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=function update(r,n,a){return null==r?r:baseUpdate(r,n,castFunction(a))},lodash.updateWith=function updateWith(r,n,a,i){return i="function"==typeof i?i:o,null==r?r:baseUpdate(r,n,castFunction(a),i)},lodash.values=values,lodash.valuesIn=function valuesIn(r){return null==r?[]:baseValues(r,keysIn(r))},lodash.without=Nn,lodash.words=words,lodash.wrap=function wrap(r,n){return ta(castFunction(n),r)},lodash.xor=Ln,lodash.xorBy=In,lodash.xorWith=Dn,lodash.zip=Fn,lodash.zipObject=function zipObject(r,n){return baseZipObject(r||[],n||[],assignValue)},lodash.zipObjectDeep=function zipObjectDeep(r,n){return baseZipObject(r||[],n||[],baseSet)},lodash.zipWith=jn,lodash.entries=Za,lodash.entriesIn=ti,lodash.extend=Oa,lodash.extendWith=Na,mixin(lodash,lodash),lodash.add=io,lodash.attempt=Ti,lodash.camelCase=ni,lodash.capitalize=capitalize,lodash.ceil=oo,lodash.clamp=function clamp(r,n,a){return o===a&&(a=n,n=o),o!==a&&(a=(a=toNumber(a))==a?a:0),o!==n&&(n=(n=toNumber(n))==n?n:0),baseClamp(toNumber(r),n,a)},lodash.clone=function clone(r){return baseClone(r,4)},lodash.cloneDeep=function cloneDeep(r){return baseClone(r,5)},lodash.cloneDeepWith=function cloneDeepWith(r,n){return baseClone(r,5,n="function"==typeof n?n:o)},lodash.cloneWith=function cloneWith(r,n){return baseClone(r,4,n="function"==typeof n?n:o)},lodash.conformsTo=function conformsTo(r,n){return null==n||baseConformsTo(r,n,keys(n))},lodash.deburr=deburr,lodash.defaultTo=function defaultTo(r,n){return null==r||r!=r?n:r},lodash.divide=so,lodash.endsWith=function endsWith(r,n,a){r=toString(r),n=baseToString(n);var i=r.length,s=a=o===a?i:baseClamp(toInteger(a),0,i);return(a-=n.length)>=0&&r.slice(a,s)==n},lodash.eq=eq,lodash.escape=function escape(r){return(r=toString(r))&&We.test(r)?r.replace(Ue,mr):r},lodash.escapeRegExp=function escapeRegExp(r){return(r=toString(r))&&at.test(r)?r.replace(nt,"\\$&"):r},lodash.every=function every(r,n,a){var i=da(r)?arrayEvery:baseEvery;return a&&isIterateeCall(r,n,a)&&(n=o),i(r,getIteratee(n,3))},lodash.find=Gn,lodash.findIndex=findIndex,lodash.findKey=function findKey(r,n){return baseFindKey(r,getIteratee(n,3),baseForOwn)},lodash.findLast=Un,lodash.findLastIndex=findLastIndex,lodash.findLastKey=function findLastKey(r,n){return baseFindKey(r,getIteratee(n,3),baseForOwnRight)},lodash.floor=lo,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=function forIn(r,n){return null==r?r:nn(r,getIteratee(n,3),keysIn)},lodash.forInRight=function forInRight(r,n){return null==r?r:an(r,getIteratee(n,3),keysIn)},lodash.forOwn=function forOwn(r,n){return r&&baseForOwn(r,getIteratee(n,3))},lodash.forOwnRight=function forOwnRight(r,n){return r&&baseForOwnRight(r,getIteratee(n,3))},lodash.get=get,lodash.gt=sa,lodash.gte=la,lodash.has=function has(r,n){return null!=r&&hasPath(r,n,baseHas)},lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=function includes(r,n,a,i){r=isArrayLike(r)?r:values(r),a=a&&!i?toInteger(a):0;var o=r.length;return a<0&&(a=Rr(o+a,0)),isString(r)?a<=o&&r.indexOf(n,a)>-1:!!o&&baseIndexOf(r,n,a)>-1},lodash.indexOf=function indexOf(r,n,a){var i=null==r?0:r.length;if(!i)return-1;var o=null==a?0:toInteger(a);return o<0&&(o=Rr(i+o,0)),baseIndexOf(r,n,o)},lodash.inRange=function inRange(r,n,a){return n=toFinite(n),o===a?(a=n,n=0):a=toFinite(a),function baseInRange(r,n,a){return r>=Or(n,a)&&r<Rr(n,a)}(r=toNumber(r),n,a)},lodash.invoke=qa,lodash.isArguments=pa,lodash.isArray=da,lodash.isArrayBuffer=ha,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=function isBoolean(r){return!0===r||!1===r||isObjectLike(r)&&baseGetTag(r)==j},lodash.isBuffer=fa,lodash.isDate=ma,lodash.isElement=function isElement(r){return isObjectLike(r)&&1===r.nodeType&&!isPlainObject(r)},lodash.isEmpty=function isEmpty(r){if(null==r)return!0;if(isArrayLike(r)&&(da(r)||"string"==typeof r||"function"==typeof r.splice||fa(r)||va(r)||pa(r)))return!r.length;var n=gn(r);if(n==oe||n==he)return!r.size;if(isPrototype(r))return!baseKeys(r).length;for(var a in r)if(Lt.call(r,a))return!1;return!0},lodash.isEqual=function isEqual(r,n){return baseIsEqual(r,n)},lodash.isEqualWith=function isEqualWith(r,n,a){var i=(a="function"==typeof a?a:o)?a(r,n):o;return o===i?baseIsEqual(r,n,o,a):!!i},lodash.isError=isError,lodash.isFinite=function isFinite(r){return"number"==typeof r&&Er(r)},lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=ga,lodash.isMatch=function isMatch(r,n){return r===n||baseIsMatch(r,n,getMatchData(n))},lodash.isMatchWith=function isMatchWith(r,n,a){return a="function"==typeof a?a:o,baseIsMatch(r,n,getMatchData(n),a)},lodash.isNaN=function isNaN(r){return isNumber(r)&&r!=+r},lodash.isNative=function isNative(r){if(yn(r))throw new ot("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return baseIsNative(r)},lodash.isNil=function isNil(r){return null==r},lodash.isNull=function isNull(r){return null===r},lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=ya,lodash.isSafeInteger=function isSafeInteger(r){return isInteger(r)&&r>=-9007199254740991&&r<=9007199254740991},lodash.isSet=_a,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=va,lodash.isUndefined=function isUndefined(r){return o===r},lodash.isWeakMap=function isWeakMap(r){return isObjectLike(r)&&gn(r)==ye},lodash.isWeakSet=function isWeakSet(r){return isObjectLike(r)&&"[object WeakSet]"==baseGetTag(r)},lodash.join=function join(r,n){return null==r?"":Ar.call(r,n)},lodash.kebabCase=ii,lodash.last=last,lodash.lastIndexOf=function lastIndexOf(r,n,a){var i=null==r?0:r.length;if(!i)return-1;var s=i;return o!==a&&(s=(s=toInteger(a))<0?Rr(i+s,0):Or(s,i-1)),n==n?function strictLastIndexOf(r,n,a){for(var i=a+1;i--;)if(r[i]===n)return i;return i}(r,n,s):baseFindIndex(r,baseIsNaN,s,!0)},lodash.lowerCase=oi,lodash.lowerFirst=pi,lodash.lt=wa,lodash.lte=Pa,lodash.max=function max(r){return r&&r.length?baseExtremum(r,identity,baseGt):o},lodash.maxBy=function maxBy(r,n){return r&&r.length?baseExtremum(r,getIteratee(n,2),baseGt):o},lodash.mean=function mean(r){return baseMean(r,identity)},lodash.meanBy=function meanBy(r,n){return baseMean(r,getIteratee(n,2))},lodash.min=function min(r){return r&&r.length?baseExtremum(r,identity,baseLt):o},lodash.minBy=function minBy(r,n){return r&&r.length?baseExtremum(r,getIteratee(n,2),baseLt):o},lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=function stubObject(){return{}},lodash.stubString=function stubString(){return""},lodash.stubTrue=function stubTrue(){return!0},lodash.multiply=co,lodash.nth=function nth(r,n){return r&&r.length?baseNth(r,toInteger(n)):o},lodash.noConflict=function noConflict(){return tr._===this&&(tr._=Bt),this},lodash.noop=noop,lodash.now=Xn,lodash.pad=function pad(r,n,a){r=toString(r);var i=(n=toInteger(n))?stringSize(r):0;if(!n||i>=n)return r;var o=(n-i)/2;return createPadding(Pr(o),a)+r+createPadding(wr(o),a)},lodash.padEnd=function padEnd(r,n,a){r=toString(r);var i=(n=toInteger(n))?stringSize(r):0;return n&&i<n?r+createPadding(n-i,a):r},lodash.padStart=function padStart(r,n,a){r=toString(r);var i=(n=toInteger(n))?stringSize(r):0;return n&&i<n?createPadding(n-i,a)+r:r},lodash.parseInt=function parseInt(r,n,a){return a||null==n?n=0:n&&(n=+n),Lr(toString(r).replace(it,""),n||0)},lodash.random=function random(r,n,a){if(a&&"boolean"!=typeof a&&isIterateeCall(r,n,a)&&(n=a=o),o===a&&("boolean"==typeof n?(a=n,n=o):"boolean"==typeof r&&(a=r,r=o)),o===r&&o===n?(r=0,n=1):(r=toFinite(r),o===n?(n=r,r=0):n=toFinite(n)),r>n){var i=r;r=n,n=i}if(a||r%1||n%1){var s=Ir();return Or(r+s*(n-r+Jt("1e-"+((s+"").length-1))),n)}return baseRandom(r,n)},lodash.reduce=function reduce(r,n,a){var i=da(r)?arrayReduce:baseReduce,o=arguments.length<3;return i(r,getIteratee(n,4),a,o,tn)},lodash.reduceRight=function reduceRight(r,n,a){var i=da(r)?arrayReduceRight:baseReduce,o=arguments.length<3;return i(r,getIteratee(n,4),a,o,rn)},lodash.repeat=function repeat(r,n,a){return n=(a?isIterateeCall(r,n,a):o===n)?1:toInteger(n),baseRepeat(toString(r),n)},lodash.replace=function replace(){var r=arguments,n=toString(r[0]);return r.length<3?n:n.replace(r[1],r[2])},lodash.result=function result(r,n,a){var i=-1,s=(n=castPath(n,r)).length;for(s||(s=1,r=o);++i<s;){var y=null==r?o:r[toKey(n[i])];o===y&&(i=s,y=a),r=isFunction(y)?y.call(r):y}return r},lodash.round=po,lodash.runInContext=runInContext,lodash.sample=function sample(r){return(da(r)?arraySample:baseSample)(r)},lodash.size=function size(r){if(null==r)return 0;if(isArrayLike(r))return isString(r)?stringSize(r):r.length;var n=gn(r);return n==oe||n==he?r.size:baseKeys(r).length},lodash.snakeCase=ui,lodash.some=function some(r,n,a){var i=da(r)?arraySome:baseSome;return a&&isIterateeCall(r,n,a)&&(n=o),i(r,getIteratee(n,3))},lodash.sortedIndex=function sortedIndex(r,n){return baseSortedIndex(r,n)},lodash.sortedIndexBy=function sortedIndexBy(r,n,a){return baseSortedIndexBy(r,n,getIteratee(a,2))},lodash.sortedIndexOf=function sortedIndexOf(r,n){var a=null==r?0:r.length;if(a){var i=baseSortedIndex(r,n);if(i<a&&eq(r[i],n))return i}return-1},lodash.sortedLastIndex=function sortedLastIndex(r,n){return baseSortedIndex(r,n,!0)},lodash.sortedLastIndexBy=function sortedLastIndexBy(r,n,a){return baseSortedIndexBy(r,n,getIteratee(a,2),!0)},lodash.sortedLastIndexOf=function sortedLastIndexOf(r,n){if(null!=r&&r.length){var a=baseSortedIndex(r,n,!0)-1;if(eq(r[a],n))return a}return-1},lodash.startCase=_i,lodash.startsWith=function startsWith(r,n,a){return r=toString(r),a=null==a?0:baseClamp(toInteger(a),0,r.length),n=baseToString(n),r.slice(a,a+n.length)==n},lodash.subtract=uo,lodash.sum=function sum(r){return r&&r.length?baseSum(r,identity):0},lodash.sumBy=function sumBy(r,n){return r&&r.length?baseSum(r,getIteratee(n,2)):0},lodash.template=function template(r,n,a){var i=lodash.templateSettings;a&&isIterateeCall(r,n,a)&&(n=o),r=toString(r),n=Na({},n,i,customDefaultsAssignIn);var s,y,_=Na({},n.imports,i.imports,customDefaultsAssignIn),w=keys(_),E=baseValues(_,w),j=0,q=n.interpolate||xt,$="__p += '",ne=Mt((n.escape||xt).source+"|"+q.source+"|"+(q===$e?ht:xt).source+"|"+(n.evaluate||xt).source+"|$","g"),ie="//# sourceURL="+(Lt.call(n,"sourceURL")?(n.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qt+"]")+"\n";r.replace(ne,(function(n,a,i,o,_,w){return i||(i=o),$+=r.slice(j,w).replace(St,escapeStringChar),a&&(s=!0,$+="' +\n__e("+a+") +\n'"),_&&(y=!0,$+="';\n"+_+";\n__p += '"),i&&($+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),j=w+n.length,n})),$+="';\n";var oe=Lt.call(n,"variable")&&n.variable;if(oe){if(ut.test(oe))throw new ot("Invalid `variable` option passed into `_.template`")}else $="with (obj) {\n"+$+"\n}\n";$=(y?$.replace(Ne,""):$).replace(Fe,"$1").replace(je,"$1;"),$="function("+(oe||"obj")+") {\n"+(oe?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(y?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+$+"return __p\n}";var se=Ti((function(){return Ct(w,ie+"return "+$).apply(o,E)}));if(se.source=$,isError(se))throw se;return se},lodash.times=function times(r,n){if((r=toInteger(r))<1||r>9007199254740991)return[];var a=4294967295,i=Or(r,4294967295);r-=4294967295;for(var o=baseTimes(i,n=getIteratee(n));++a<r;)n(a);return o},lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=function toLower(r){return toString(r).toLowerCase()},lodash.toNumber=toNumber,lodash.toSafeInteger=function toSafeInteger(r){return r?baseClamp(toInteger(r),-9007199254740991,9007199254740991):0===r?r:0},lodash.toString=toString,lodash.toUpper=function toUpper(r){return toString(r).toUpperCase()},lodash.trim=function trim(r,n,a){if((r=toString(r))&&(a||o===n))return baseTrim(r);if(!r||!(n=baseToString(n)))return r;var i=stringToArray(r),s=stringToArray(n);return castSlice(i,charsStartIndex(i,s),charsEndIndex(i,s)+1).join("")},lodash.trimEnd=function trimEnd(r,n,a){if((r=toString(r))&&(a||o===n))return r.slice(0,trimmedEndIndex(r)+1);if(!r||!(n=baseToString(n)))return r;var i=stringToArray(r);return castSlice(i,0,charsEndIndex(i,stringToArray(n))+1).join("")},lodash.trimStart=function trimStart(r,n,a){if((r=toString(r))&&(a||o===n))return r.replace(it,"");if(!r||!(n=baseToString(n)))return r;var i=stringToArray(r);return castSlice(i,charsStartIndex(i,stringToArray(n))).join("")},lodash.truncate=function truncate(r,n){var a=30,i="...";if(isObject(n)){var s="separator"in n?n.separator:s;a="length"in n?toInteger(n.length):a,i="omission"in n?baseToString(n.omission):i}var y=(r=toString(r)).length;if(hasUnicode(r)){var _=stringToArray(r);y=_.length}if(a>=y)return r;var w=a-stringSize(i);if(w<1)return i;var E=_?castSlice(_,0,w).join(""):r.slice(0,w);if(o===s)return E+i;if(_&&(w+=E.length-w),ya(s)){if(r.slice(w).search(s)){var j,q=E;for(s.global||(s=Mt(s.source,toString(ft.exec(s))+"g")),s.lastIndex=0;j=s.exec(q);)var $=j.index;E=E.slice(0,o===$?w:$)}}else if(r.indexOf(baseToString(s),w)!=w){var ne=E.lastIndexOf(s);ne>-1&&(E=E.slice(0,ne))}return E+i},lodash.unescape=function unescape(r){return(r=toString(r))&&Ve.test(r)?r.replace(Be,gr):r},lodash.uniqueId=function uniqueId(r){var n=++It;return toString(r)+n},lodash.upperCase=vi,lodash.upperFirst=wi,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,(ao={},baseForOwn(lodash,(function(r,n){Lt.call(lodash.prototype,n)||(ao[n]=r)})),ao),{chain:!1}),lodash.VERSION="4.17.21",arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(r){lodash[r].placeholder=lodash})),arrayEach(["drop","take"],(function(r,n){LazyWrapper.prototype[r]=function(a){a=o===a?1:Rr(toInteger(a),0);var i=this.__filtered__&&!n?new LazyWrapper(this):this.clone();return i.__filtered__?i.__takeCount__=Or(a,i.__takeCount__):i.__views__.push({size:Or(a,4294967295),type:r+(i.__dir__<0?"Right":"")}),i},LazyWrapper.prototype[r+"Right"]=function(n){return this.reverse()[r](n).reverse()}})),arrayEach(["filter","map","takeWhile"],(function(r,n){var a=n+1,i=1==a||3==a;LazyWrapper.prototype[r]=function(r){var n=this.clone();return n.__iteratees__.push({iteratee:getIteratee(r,3),type:a}),n.__filtered__=n.__filtered__||i,n}})),arrayEach(["head","last"],(function(r,n){var a="take"+(n?"Right":"");LazyWrapper.prototype[r]=function(){return this[a](1).value()[0]}})),arrayEach(["initial","tail"],(function(r,n){var a="drop"+(n?"":"Right");LazyWrapper.prototype[r]=function(){return this.__filtered__?new LazyWrapper(this):this[a](1)}})),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(r){return this.filter(r).head()},LazyWrapper.prototype.findLast=function(r){return this.reverse().find(r)},LazyWrapper.prototype.invokeMap=baseRest((function(r,n){return"function"==typeof r?new LazyWrapper(this):this.map((function(a){return baseInvoke(a,r,n)}))})),LazyWrapper.prototype.reject=function(r){return this.filter(negate(getIteratee(r)))},LazyWrapper.prototype.slice=function(r,n){r=toInteger(r);var a=this;return a.__filtered__&&(r>0||n<0)?new LazyWrapper(a):(r<0?a=a.takeRight(-r):r&&(a=a.drop(r)),o!==n&&(a=(n=toInteger(n))<0?a.dropRight(-n):a.take(n-r)),a)},LazyWrapper.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(4294967295)},baseForOwn(LazyWrapper.prototype,(function(r,n){var a=/^(?:filter|find|map|reject)|While$/.test(n),i=/^(?:head|last)$/.test(n),s=lodash[i?"take"+("last"==n?"Right":""):n],y=i||/^find/.test(n);s&&(lodash.prototype[n]=function(){var n=this.__wrapped__,_=i?[1]:arguments,w=n instanceof LazyWrapper,E=_[0],j=w||da(n),interceptor=function(r){var n=s.apply(lodash,arrayPush([r],_));return i&&q?n[0]:n};j&&a&&"function"==typeof E&&1!=E.length&&(w=j=!1);var q=this.__chain__,$=!!this.__actions__.length,ne=y&&!q,ie=w&&!$;if(!y&&j){n=ie?n:new LazyWrapper(this);var oe=r.apply(n,_);return oe.__actions__.push({func:thru,args:[interceptor],thisArg:o}),new LodashWrapper(oe,q)}return ne&&ie?r.apply(this,_):(oe=this.thru(interceptor),ne?i?oe.value()[0]:oe.value():oe)})})),arrayEach(["pop","push","shift","sort","splice","unshift"],(function(r){var n=At[r],a=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",i=/^(?:pop|shift)$/.test(r);lodash.prototype[r]=function(){var r=arguments;if(i&&!this.__chain__){var o=this.value();return n.apply(da(o)?o:[],r)}return this[a]((function(a){return n.apply(da(a)?a:[],r)}))}})),baseForOwn(LazyWrapper.prototype,(function(r,n){var a=lodash[n];if(a){var i=a.name+"";Lt.call(Wr,i)||(Wr[i]=[]),Wr[i].push({name:n,func:a})}})),Wr[createHybrid(o,2).name]=[{name:"wrapper",func:o}],LazyWrapper.prototype.clone=function lazyClone(){var r=new LazyWrapper(this.__wrapped__);return r.__actions__=copyArray(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=copyArray(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=copyArray(this.__views__),r},LazyWrapper.prototype.reverse=function lazyReverse(){if(this.__filtered__){var r=new LazyWrapper(this);r.__dir__=-1,r.__filtered__=!0}else(r=this.clone()).__dir__*=-1;return r},LazyWrapper.prototype.value=function lazyValue(){var r=this.__wrapped__.value(),n=this.__dir__,a=da(r),i=n<0,o=a?r.length:0,s=function getView(r,n,a){for(var i=-1,o=a.length;++i<o;){var s=a[i],y=s.size;switch(s.type){case"drop":r+=y;break;case"dropRight":n-=y;break;case"take":n=Or(n,r+y);break;case"takeRight":r=Rr(r,n-y)}}return{start:r,end:n}}(0,o,this.__views__),y=s.start,_=s.end,w=_-y,E=i?_:y-1,j=this.__iteratees__,q=j.length,$=0,ne=Or(w,this.__takeCount__);if(!a||!i&&o==w&&ne==w)return baseWrapperValue(r,this.__actions__);var ie=[];e:for(;w--&&$<ne;){for(var oe=-1,se=r[E+=n];++oe<q;){var le=j[oe],pe=le.iteratee,he=le.type,me=pe(se);if(2==he)se=me;else if(!me){if(1==he)continue e;break e}}ie[$++]=se}return ie},lodash.prototype.at=Bn,lodash.prototype.chain=function wrapperChain(){return chain(this)},lodash.prototype.commit=function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)},lodash.prototype.next=function wrapperNext(){o===this.__values__&&(this.__values__=toArray(this.value()));var r=this.__index__>=this.__values__.length;return{done:r,value:r?o:this.__values__[this.__index__++]}},lodash.prototype.plant=function wrapperPlant(r){for(var n,a=this;a instanceof baseLodash;){var i=wrapperClone(a);i.__index__=0,i.__values__=o,n?s.__wrapped__=i:n=i;var s=i;a=a.__wrapped__}return s.__wrapped__=r,n},lodash.prototype.reverse=function wrapperReverse(){var r=this.__wrapped__;if(r instanceof LazyWrapper){var n=r;return this.__actions__.length&&(n=new LazyWrapper(this)),(n=n.reverse()).__actions__.push({func:thru,args:[reverse],thisArg:o}),new LodashWrapper(n,this.__chain__)}return this.thru(reverse)},lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)},lodash.prototype.first=lodash.prototype.head,_r&&(lodash.prototype[_r]=function wrapperToIterator(){return this}),lodash}();tr._=yr,o===(i=yr)||(a.exports=i)}()}(a(3),a(64)(r))},function(r,n){r.exports=function(r){return r.webpackPolyfill||(r.deprecate=function(){},r.paths=[],r.children||(r.children=[]),Object.defineProperty(r,"loaded",{enumerable:!0,get:()=>r.l}),Object.defineProperty(r,"id",{enumerable:!0,get:()=>r.i}),r.webpackPolyfill=1),r}},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const w=a(42),E=a(66),j=a(19),q=a(24),$=a(26),ne=a(45),ie=a(46);class RigidBodyComponent extends q.default{constructor(){super(...arguments),this.object=null,this.ignoreOldState=!1,this.collidedEntities=[],this.physicality=ie.Physicality.STATIC,this.geometry="",this.mass=10,this.restitution=.5,this.friction=1,this.group=0,this.mask=ne.PHYSICS_GROUPS.CharacterFilter|ne.PHYSICS_GROUPS.LocalPlayer,this.ccd=!0,this.collisionFlags=0,this.activationState=ne.PHYSICS_ACTIVATION_STATE.ACTIVE_TAG,this.linearVelocity=new j.Vector3,this.angularVelocity=new j.Vector3}applyCentralImpulse(r){this.object?this.object.applyCentralImpulse(r):this.commandQueue.push(["applyCentralImpulse",r])}}RigidBodyComponent.componentName="rigidBody",RigidBodyComponent.displayName=E.default.rigidbodyDisplayName,RigidBodyComponent.isBehaviour=!0,y([$.Property({inspector:!1}),_("design:type","function"==typeof(i=void 0!==ie.Physicality&&ie.Physicality)?i:Object)],RigidBodyComponent.prototype,"physicality",void 0),y([$.Property({inspector:"Geometry",advanced:!0,inspectorOptions:{displayName:E.default.collider,clearButton:!0}}),_("design:type",String)],RigidBodyComponent.prototype,"geometry",void 0),y([$.Property({inspectorOptions:{pattern:w.patterns.floatPositiveNotEmpty,minValue:.1}}),_("design:type",Number)],RigidBodyComponent.prototype,"mass",void 0),y([$.Property({inspectorOptions:{displayName:"Bounciness",pattern:w.patterns.floatPositiveNotEmpty,minValue:.01}}),_("design:type",Number)],RigidBodyComponent.prototype,"restitution",void 0),y([$.Property({advanced:!0,inspector:"Range",inspectorOptions:{max:1,min:0,step:.01}}),_("design:type",Number)],RigidBodyComponent.prototype,"friction",void 0),y([$.Property({inspector:!1,advanced:!0,inspectorOptions:{pattern:w.patterns.intPositiveNotEmpty,minValue:0}}),_("design:type",Number)],RigidBodyComponent.prototype,"group",void 0),y([$.Property({inspector:!1,advanced:!0,inspectorOptions:{pattern:w.patterns.intPositiveNotEmpty,minValue:0}}),_("design:type",Number)],RigidBodyComponent.prototype,"mask",void 0),y([$.Property({advanced:!0,inspectorOptions:{displayName:"Continues Collision Detection"}}),_("design:type",Boolean)],RigidBodyComponent.prototype,"ccd",void 0),y([$.Property({inspector:!1,advanced:!0}),_("design:type",Number)],RigidBodyComponent.prototype,"collisionFlags",void 0),y([$.Property({inspector:!1,advanced:!0}),_("design:type",Number)],RigidBodyComponent.prototype,"activationState",void 0),y([$.Property({advanced:!0}),_("design:type","function"==typeof(o=void 0!==j.Vector3&&j.Vector3)?o:Object)],RigidBodyComponent.prototype,"linearVelocity",void 0),y([$.Property({advanced:!0}),_("design:type","function"==typeof(s=void 0!==j.Vector3&&j.Vector3)?s:Object)],RigidBodyComponent.prototype,"angularVelocity",void 0),n.default=RigidBodyComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i={dancing:"Dancing",victory:"Victory!",goodWork:"Good work!",awesome:"Awesome!",clickHere:"Click here",blocks:"Blocks",searchBlock:"Search block",seeWhoCreatedStuff:"See who created stuff for this game",turnSoundOnAndOff:"Turn sound on and off",settings:"Settings",settingsTooltip:"Graphical settings and stuff",resolution:"Resolution",ambientOcclusion:"Ambient occlusion",reflections:"Reflections",low:"Low",medium:"Medium",high:"High",textureResolution:"Texture Resolution",antiAliasing:"Anti Aliasing",shading:"Shading",flat:"Flat",simple:"Simple",advance:"Advance",volumeMusic:"Volume Music",music:"Music",model:"Model",volumeFX:"Volume sound FX",swapView:"Swap view",swapBetweenFirst:"Swap between first-person and third-person camera views",exitGame:"Exit game",credits:"Credits",restart:"Restart",respawn:"Respawn",artifact:"Artifact",material:"Material",sound:"Sound",by:"by",exit:"Exit",exitCreativeMode:"Exit Creative Mode",new:"New",startOverFromScratch:"Start over from scratch",snapshot:"Snapshot",takeSnapshot:"Take Snapshot",publish:"Publish",publishChanges:"Publish changes",publishWork:"Publish your amazing work",help:"Help",environment:"Environment",environmentSettings:"Environment settings",searchEnvironment:"Search Environment",changeTheEnvironment:"Change the environment",savingScore:"Saving score...",failedToSaveScore:"Failed to save score.",mute:"Mute",findTheGoal:"Find the goal",findAllGems:"Find all gems",create:"Create",preview:"Preview",start:"Start",clickToStart:"Click to Start",touchToStarh:"Tap to Start",clickToContinue:"Click to continue",pressEscToExit:"Press Esc to exit",undo:"Undo",redo:"Redo",play:"Play",stop:"Stop",tools:"Tools",searchAsset:"Search asset",removeAll:"Remove all",clear:"Clear",playThroughToSave:"Finish the game to publish",playThroughToSavePublished:"Finish the game to publish changes",nameOfGame:"Name of game",description:"Description",easy:"easy",hard:"hard",insane:"insane",difficulty:"difficulty",youNeedAtLeastOneFinishLine:"You need at least one Goal to publish!",youNeedAtLeastOneSpawnPoint:"You need at least one spawn point to publish!",startOverConfirmation:"Are you sure you want to start over?",copy:"Copy",copyLink:"Copy link",startOver:"Start over",saving:"Saving",allChangesSaved:"All changes saved",suspended:"You have been suspended",save:"Save",muteSound:"Mute",noSoundSelected:"Turn off the sound<br>Enjoy the silence",justNumber:"Just {{number}} of this",justSnapshots:"Just {{number}} snapshots",budgetIsOver:"Oops! You reached the budget limit",more:"More",shortcut:"Shortcut",takePhoto:"Take photo",thumbnails:"Thumbnails",thisToolIsDisbaled:"This tool is disabled",yourInFreeMode:"You're in Advanced Create Mode",yourInGridMode:"You're in Create Mode",worksInGridMode:"Works in Create Mode.",openInNewWindow:"Open in new window",continueCreating:"Continue creating",close:"Close",sky:"Sky",fullscreen:"Fullscreen",toggleFullscreen:"Toggle Fullscreen",exitPreview:"Exit Preview",menu:"Menu",chameleonInfo:"This is a chameleon, it gets the same material and properties as the object its being placed on. Chameleons only works in Create Mode.",addBehaviour:"Add Behavior",rigidbodyDisplayName:"Mass & Bounce",traitsDisplayName:"Physicality",twicePerSec:"Twice per sec",fourTimesPerSec:"Four times per sec",eightTimesPerSec:"Eight times per sec",onceEvery1Sec:"Once per second",onceEvery2Sec:"Once every 2 sec",onceEvery4Sec:"Once every 4 sec",onceEvery8Sec:"Once every 8 sec",onceEvery16Sec:"Once every 16 sec",onceEvery32Sec:"Once every 32 sec",onceEvery64Sec:"Once every 64 sec",syncToMusic:"Sync to music",collider:"Collider",dropFileHere:"Drop <i>{{extensions}}</i> here",recomendedText:"More games to play",ok:"Ok",cancel:"Cancel",comments:"Comments",enable:"Enable",disable:"Disable",multipleFilesDropped:"Multiple files dropped",projectNameTooShort:"Title must be at least 4 characters long",helpDocument:'\n  <div id="desktop-help" class="hide-on-mobile">\n    <div id="gridMode-help" class="hide-in-free-mode">\n\n      <a target="_blank" href="https://www.youtube.com/watch?v=ifmRB8gTFRU">\n        <img style="width: 100%; max-width: 300px; margin-bottom: 1rem;" src="https://img.youtube.com/vi/ifmRB8gTFRU/0.jpg" alt="Getting started">\n      </a>\n\n      <ul>\n        <li>H = Help</li>\n      </ul>\n\n      <ul>\n        <li>W,A,S,D = Move</li>\n        <li>Space = Jump/Fly Up</li>\n        <li>Space (Double Tap) = Start/Stop Flying</li>\n        <li>C (While Flying) = Fly Down</li>\n        <li>Esc = Exit Pointerlock/Close Dialogues</li>\n      </ul>\n\n      <ul>\n        <li>N = Environment</li>\n        <li>M = Music/Sound</li>\n        <li>X = More Settings</li>\n        <li>E = Browse Objects</li>\n      </ul>\n\n      <ul>\n        <li>Enter = Preview</li>\n        <li>Shift + Enter = Play From Start</li>\n      </ul>\n    </div>\n    <div id="freeMode-help" class="hide-in-grid-mode">\n\n      <a target="_blank" href="https://youtu.be/ornNptdMz9Y">\n        <img style="width: 100%; max-width: 300px; margin-bottom: 1rem;" src="https://img.youtube.com/vi/ornNptdMz9Y/hqdefault.jpg" alt="Getting started">\n      </a>\n\n      <ul>\n        <li>H = Help</li>\n      </ul>\n      \n      <ul>\n        <li>W,A,S,D = Move</li>\n        <li>Space = Jump/Fly Up</li>\n        <li>Space (Double Tap) = Start/Stop Flying</li>\n        <li>C (While Flying) = Fly Down</li>\n        <li>Esc = Exit Pointerlock/Close Dialogues</li>\n      </ul>\n\n      <ul>\n        <li>N = Environment</li>\n        <li>M = Music/Sound</li>\n        <li>X = More Settings</li>\n        <li>E = Browse Objects</li>\n      </ul>\n\n      <ul>\n        <li>Double Click on Object = Show Object Menu</li>\n        <li>Shift + Click = Multiselect Objects</li>\n        <li>CtrlCmd + G = Group</li>\n        <li>Shift + CtrlCmd + G = Ungroup</li>\n        <li>AltOption + Drag LFM = Clone Object</li>\n        <li>CtrlCmd + C or Press Scrollwheel = Copy Object</li>\n        <li>CtrlCmd + V = Paste Object</li>\n        <li>R/T/Y + Mouse Click = Rotate Objects</li>\n        <li>AltOption +     = Scale in one axis</li>\n        <li>Shift + AltOption +  = Scale in all axes</li>\n      </ul>\n\n      <ul>\n        <li>Enter = Preview</li>\n        <li>Shift + Enter = Play From Start</li>\n      </ul>\n\n    </div>\n  </div>\n  <div id="mobile-help" class="hide-on-desktop">\n\n    <a target="_blank" href="https://www.youtube.com/watch?v=ifmRB8gTFRU">\n      <img style="width: 100%; max-width: 300px; margin-bottom: 1rem;" src="https://img.youtube.com/vi/ifmRB8gTFRU/0.jpg" alt="Getting started">\n    </a>\n\n    <ul>\n      <li>Tap = Build object</li>\n      <li>Longpress = Delete object</li>\n      <li>Blocks button = Open object browser</li>\n      <li>(Tap slot, then tap object in object browser to swap)</li>\n    </ul>\n\n    <ul>\n      <li>Doubletap Feather = Stop flying</li>\n      <li>Doubletap Boot = Start flying</li>\n      <li>Tap Boot = Jump</li>  \n    </ul>\n    \n    <ul>\n      <li>Sound = Change music or ambient sound</li>\n      <li>Environment = Change environment</li>\n    </ul>\n    \n    <ul>\n      <li>Play = Try game from start</li>\n      <li>Longpress Play = Preview from current position</li>\n    </ul>\n  </div>\n  '};window.PHRASES&&Object.assign(i,window.PHRASES),n.default=i},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getBenchmarkResult=n.finishBenchmark=n.startBenchmark=void 0;const i=a(13),o=new Map;n.startBenchmark=r=>{i.isDebugMode&&o.set(r,performance.now())},n.finishBenchmark=r=>{if(!i.isDebugMode)return;const n=o.get(r);if(!n)return;const a=performance.now()-n;console.log(`Benchmark ${r} took: ${a}`)},n.getBenchmarkResult=r=>{if(!i.isDebugMode)return 0;const n=o.get(r);return n?performance.now()-n:0}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.removeListenersByContext=void 0,n.removeListenersByContext=(r,n)=>{const a=r.eventNames();for(let i=0;i<a.length;++i){const o=a[i];let s=r._events[o];if(!s)return;s.fn&&(s=[s]);const y=[];for(let r=0;r<s.length;++r){const a=s[r];a&&a.context!==n&&y.push(a)}r._events[o]=y}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.error=n.warn=n.log=void 0;const i=a(8);n.log=(...r)=>{i.debugMenuDisplayed&&console.log(...r)},n.warn=(...r)=>{i.debugMenuDisplayed&&console.warn(...r)},n.error=(...r)=>{console.error(...r)}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PerformanceMeasurer=void 0;class PerformanceMeasurer{constructor(r="ms"){this.numWarmupSamples=0,this.numSamples=0,this.sampleStarted=!1,this.startTime=0,this.sampleAvgMs=0,this.sampleStdMs=0,this.sampleMinMs=0,this.sampleMaxMs=0,this.nextSampleIndex=0,this.samplesMs=new Float32Array(PerformanceMeasurer.MAX_NUM_SAMPLES),this.unit=r}reset(){this.numWarmupSamples=0,this.numSamples=0,this.samplesMs.fill(0),this.nextSampleIndex=0}startSample(){this.numWarmupSamples<PerformanceMeasurer.NUM_WARMUP_SAMPLES?this.numWarmupSamples+=1:(this.sampleStarted=!0,this.startTime=performance.now())}endSample(){if(!this.sampleStarted)return;this.sampleStarted=!1;const r=performance.now()-this.startTime;return this.addSample(r),r}addSample(r){this.numSamples===PerformanceMeasurer.MAX_NUM_SAMPLES&&(this.numSamples-=1),this.numSamples+=1,this.samplesMs[this.nextSampleIndex]=r,this.nextSampleIndex=(this.nextSampleIndex+1)%PerformanceMeasurer.MAX_NUM_SAMPLES}calculateStats(){if(0===this.numSamples)return;this.sampleMinMs=Number.MAX_VALUE,this.sampleMaxMs=5e-324;let r=0;for(let n=0;n<this.numSamples;n++){const a=this.samplesMs[n];r+=a,this.sampleMinMs=Math.min(this.sampleMinMs,a),this.sampleMaxMs=Math.max(this.sampleMaxMs,a)}this.sampleAvgMs=r/this.numSamples;let n=0;for(let r=0;r<this.numSamples;r++){const a=this.samplesMs[r]-this.sampleAvgMs;n+=a*a}const a=n/this.numSamples;this.sampleStdMs=Math.sqrt(a)}getAvgMs(){return this.sampleAvgMs}getStdMs(){return this.sampleStdMs}getMinMs(){return this.sampleMinMs}getMaxMs(){return this.sampleMaxMs}statsString(){return 0===this.numSamples?"no samples":"Avg: "+this.sampleAvgMs.toFixed(2)+" "+this.unit+", Std: "+this.sampleStdMs.toFixed(2)+" "+this.unit+", Min: "+this.sampleMinMs.toFixed(2)+" "+this.unit+", Max: "+this.sampleMaxMs.toFixed(2)+" "+this.unit}shorterStatsString(){return 0===this.numSamples?"no samples":"Avg: "+this.sampleAvgMs.toFixed(2)+" "+this.unit+", Max: "+this.sampleMaxMs.toFixed(2)+" "+this.unit}}n.PerformanceMeasurer=PerformanceMeasurer,PerformanceMeasurer.NUM_WARMUP_SAMPLES=10,PerformanceMeasurer.MAX_NUM_SAMPLES=256},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentManager=void 0,n.ComponentManager=class ComponentManager{constructor(){this.nextComponentId=1,this.components=[],this.components.push(null)}tryGetComponentArray(r){return this.components.length<r?null:this.components[r]}getComponentArray(r){return this.tryGetComponentArray(r)}updateWithNextEntityIndex(r){for(let n=0,a=this.components.length;n<a;n++){const a=this.components[n];if(a){const n=r-a.length;for(let r=0;r<n;r++)a.push(null)}}}registerComponentType(r,n){const a=this.nextComponentId;return this.nextComponentId+=1,r.id=a,this.components.push([]),this.updateWithNextEntityIndex(n),a}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(39),o=a(38);n.default=class Entity{constructor(r){this.compMask=new o.ComponentMask,this.componentIds=[],this.isFree=!0,this.uid=r}get generation(){return this.uid>>i.ENTITY_UID_INDEX_NUM_BITS}get index(){return this.uid&i.ENTITY_UID_INDEX_MASK}incrementGeneration(){let r=this.generation;r+=1,r&=i.ENTITY_UID_GENERATION_NUM_BITS-1;const n=r<<i.ENTITY_UID_INDEX_NUM_BITS;this.uid=this.index|n}isNetworked(){return this.index>=i.MAX_NUM_NON_NETWORKED_ENTITIES}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.EntityPool=void 0;const i=a(72);n.EntityPool=class EntityPool{constructor(r,n){this.allEntities=[],this.availability=[],this.freeEntities=[],this.startIndex=r,this.endIndexExcl=r+n,this.nextUnallocatedIndex=r}allocate(){if(this.freeEntities.length>0){const r=this.freeEntities.pop(),n=r.index-this.startIndex;return this.availability[n]=!1,r}const r=new i.default(this.nextUnallocatedIndex);return this.nextUnallocatedIndex+=1,this.allEntities.push(r),this.availability.push(!1),r}allocateSpecificIndex(r){const n=r-this.startIndex;for(;this.nextUnallocatedIndex<=n;){const r=new i.default(this.nextUnallocatedIndex);this.nextUnallocatedIndex+=1,this.allEntities.push(r),this.availability.push(!0),this.freeEntities.push(r)}if(!this.availability[n])return null;let a=-1;for(let n=this.freeEntities.length-1;n>=0;n--)if(this.freeEntities[n].index==r){a=n;break}const o=this.freeEntities[a];return this.freeEntities.splice(a,1),this.availability[n]=!1,o}free(r){r.index;const n=r.index-this.startIndex;this.availability[n]=!0,this.freeEntities.push(r)}getByIndex(r){const n=r-this.startIndex;return this.allEntities[n]}entityStartIndex(){return this.startIndex}entityEndIndexExclusive(){return this.startIndex+this.totalNumEntities()}totalNumEntities(){return this.allEntities.length}getNextUnallocatedIndex(){return this.nextUnallocatedIndex}}},function(r,n,a){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.DiffStateType=void 0,(i=n.DiffStateType||(n.DiffStateType={}))[i.ADD=0]="ADD",i[i.REMOVE=1]="REMOVE",i[i.UPDATE=2]="UPDATE"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=class ObjectPool{constructor(r,n=1,a={}){this.factory=r,this.size=n,this.config=a,this.freeObjects=[],this.allObjects=[];for(let a=0;a<n;a++){const n=r();this.freeObjects.push(n),this.allObjects.push(n)}}getByIndex(r){return this.allObjects[r]}allocateIndex(r){r>=this.size&&this.expand(Math.max(r-this.size+1,Math.round(.2*this.size)+1));const n=this.allObjects[r],a=this.freeObjects.indexOf(n);return a>-1?(this.freeObjects.splice(a,1),n):this.allocate(r)}allocate(r){return r&&this.size<r&&this.expand(r-this.size),this.freeObjects.length<=0&&(this.config.expandFunc?this.expand(this.config.expandFunc()):this.expand(Math.round(.2*this.size)+1)),this.freeObjects.pop()}free(r){this.freeObjects.push(r)}expand(r){const{factory:n}=this,a=this.allObjects.length;this.allObjects.length=a+r;const i=this.freeObjects.length;this.freeObjects.length=i+r;for(let o=0;o<r;o++){const r=n();this.allObjects[a+o]=r,this.freeObjects[i+o]=r}this.size+=r}get totalSize(){return this.size}get totalFree(){return this.freeObjects.length}get totalUsed(){return this.size-this.freeObjects.length}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=class SystemManager{constructor(){this.systemConstructors=new Map,this.systems=new Map,this.systemCounter=0,this.systemsList=[]}getSystemInstance(r){return this.systems.get(r)}registerSystem(r){this.systems.set(r.constructor.name,r),this.systemsList=Array.from(this.systems).map(r=>r[1]).sort((r,n)=>r.constructor.order<n.constructor.order?-1:r.constructor.order>n.constructor.order?1:0)}removeSystem(r){this.systems.has(r)||console.error(`System with id ${r} does not exist`);const n=this.systems.get(r);if(!n)return;const a=this.systemsList.indexOf(n);return a>-1&&this.systemsList.splice(a,1),this.systems.delete(r)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GameKitManager=void 0;const i=a(6),o=a(78),s=a(8),y=a(18),_=a(79),w=a(135),E=a(13),j=a(20),q=a(133),$=a(136),ne=a(137),ie=a(138);n.GameKitManager=class GameKitManager{constructor(){this.currentGamekit=null,this.gamekits=new Map,this.gamekitsLoading=new Map,this.tempSceneLoaded=!1}registerGameKit(r){const n=r.name.toLowerCase(),a=this.gamekits.get(n);if(this.gamekits.set(n,r),console.log("Registered Gamekit:",n),this.currentGamekit&&this.currentGamekit.name===n&&r!==a){const n=s.entityManager.getSystemsRecursive(this.currentGamekit.getSystems()),a=s.entityManager.getSystemsRecursive(r.systems()),[i,o,y]=$.getArrayDiff(n,a);s.entityManager.unregisterSystems(y),s.entityManager.reloadSystems(o),s.entityManager.registerSystems(i)}}async loadSceneData(){var r;const n=window.INIT_DATA,a=window.GAMEKIT||y.default.request("gk")||"snap",i=!n.dataUrl&&"platformer"===a.toLowerCase();s.entityManager.getOrCreateSingleton(q.default),s.entityManager.updateSingleton(q.default,{projectId:i?"try":n.id,projectName:n.title,projectDescription:n.description,projectDifficulty:n.difficulty,isPublished:n.isPublished,projectVersion:n.engineVersion,projectType:o.EditMode[n.projectType]||o.EditMode.GRID_MODE,gamekit:E.targetGameKit||(null===(r=n.gameKit)||void 0===r?void 0:r.toLowerCase())||"platformer",isEditMode:"snap"===a});let j="https://cdn.hibervr.com/worlds/347/585120856449166.12.json";switch(E.loadShooterMap){case"0":j="https://cdn.hibervr.com/worlds/63/551309782319233.43.json";break;case"1":j="https://cdn.hibervr.com/worlds/311/534135870300288.86.json";break;case"2":j="https://cdn.hibervr.com/worlds/311/529380973043841.0.json";break;case"3":j="https://cdn.hibervr.com/worlds/311/532840818212992.1126.json";break;case"4":j="https://cdn.hibervr.com/worlds/311/545554486059136.24.json";break;case"5":j="https://cdn.hibervr.com/worlds/59/547714018500736.527.json";break;case"6":j="https://cdn.hibervr.com/worlds/138/548383613665414.82.json";break;case"7":j="https://cdn.hibervr.com/worlds/311/550408705261696.2232.json";break;case"8":j="https://cdn.hibervr.com/worlds/311/552646911164544.1419.json";break;case"9":j="https://cdn.hibervr.com/worlds/311/554037898535040.1158.json"}"snap"===a&&(j="https://cdn.hibervr.com/worlds/default6.world"),n.dataUrl&&(j=n.dataUrl),E.forceLoadWorld&&(j=E.forceLoadWorld);const $=j.substr(j.lastIndexOf(".")+1);if(n.engineVersion="world"===$?1:2,"OLD_STUDIO"===n.projectType&&(n.projectType="FREE_MODE"),1===E.forceMode&&(n.projectType="FREE_MODE"),"try"===n.id&&"snap"===a){const r=ie.loadLocalGameData("localSave",null),a=ie.loadLocalGameData("localSaveType",null),i=ie.loadLocalGameData("localSaveTargetGamekit","platformer"),o=""!=y.default.request("forceMode"),s=(E.targetGameKit||"platformer")===i,_=!o||a==E.forceMode;if(r&&_&&s)return r;const w=j.substr(j.lastIndexOf(".")+1);n.engineVersion="json"===w?2:1}if("https://cdn.hibervr.com/worlds/default6.world"===j||""===j)return null;let ne=null;return ne=2===n.engineVersion?await s.assetManager.getLoader(w.ProjectLoader).load({name:"",url:j}):await s.assetManager.getLoader(_.LegacyProjectLoader).load({name:"",url:j}),ne}async loadScene(){var r;if(this.tempSceneLoaded)return;this.tempSceneLoaded=!0;const n=await this.loadSceneData();if(n)if(n.data)for(const r of n.data){const n=s.entityManager.createWithIndex(r.id);s.entityManager.unserializeEntity(r.components,n)}else ne.loadWorldState(s.entityManager,n);const a=window.INIT_DATA,i=window.GAMEKIT||y.default.request("gk")||"snap",_=!a.dataUrl&&"platformer"===i.toLowerCase(),w=s.entityManager.getOrCreateSingleton(q.default);s.entityManager.updateSingleton(q.default,{projectId:_?"try":a.id,projectName:a.title,projectDescription:a.description,projectDifficulty:a.difficulty,isPublished:a.isPublished,projectVersion:a.engineVersion,projectType:o.EditMode[a.projectType]||o.EditMode.GRID_MODE,gamekit:E.targetGameKit||(null===(r=a.gameKit)||void 0===r?void 0:r.toLowerCase())||"platformer"}),w.isEditMode="snap"===i,s.entityManager.emit("projectLoaded",n)}async setGamekit(r){if(this.currentGamekit){this.currentGamekit.dispose();const r=this.currentGamekit.getSystems();s.entityManager.unregisterSystems(r)}this.loadSceneData();const n=await this.loadGameKit(r),a=n.systems();this.currentGamekit=new n,await s.entityManager.getSystem(j.default).waitForPhysics(),await this.currentGamekit.preInit(),s.entityManager.registerSystems(a),await this.currentGamekit.init()}loadGameKit(r){if(this.gamekitsLoading.has(r))return this.gamekitsLoading.get(r);const n=document.createElement("script"),a=i.default.isNative?`js/${r}.js`:`${i.default.baseCdnUrl}/js/${r}.js`;n.src=a;const o=new Promise((a,i)=>{n.onload=()=>{this.gamekits.has(r)?a(this.gamekits.get(r)):i(Error("Gamekit not loaded?!"))},n.onerror=()=>{console.log(Error("Error when loading gamekit: "+r)),this.gamekitsLoading.delete(r),console.error("Error when loading gamekit: "+r),i(Error("Error when loading gamekit: "+r))},document.body.appendChild(n)});return this.gamekitsLoading.set(r,o),o}}},function(r,n,a){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.EditMode=void 0,(i=n.EditMode||(n.EditMode={}))[i.GRID_MODE=0]="GRID_MODE",i[i.FREE_MODE=1]="FREE_MODE"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LegacyProjectLoader=void 0;const i=a(30),o=a(9),s=a(80),y=a(81),_=a(82),w=a(83),E=a(19),j=a(34),q={particleEffect:"legacyParticleEffect",volumeTrigger:"legacyVolumeTrigger",resurection:"spawn"},$={yoyo:y.ProgressMode.YOYO,once:y.ProgressMode.ONCE,restart:y.ProgressMode.RESTART},ne={normal:_.SpeedMode.Normal,bpm:_.SpeedMode.SyncToMusic},ie={inOut:s.Easing.IN_OUT_QUAD,linear:s.Easing.LINEAR};class LegacyProjectLoader extends i.AssetLoader{generateKey(r){return r.name}transformComponentName(r){return q[r]||r}transformComponent(r){return"resurection"===r.type&&(r.data={respawnTime:r.data.respawnTime,maxQuantity:1,spawnWaves:!1}),!r.data||"move"!==r.type&&"rotate"!==r.type||(r.data.mode=$[r.data.mode],r.data.speedMode=ne[r.data.speedMode],r.data.easing=ie[r.data.easing]),r.type=this.transformComponentName(r.type),r}transformFix(r){const n={geometry:"box",rotation:new E.Quaternion,scale:new E.Vector3(1,1,1)};switch(r){case"Teleporter":return n.geometry="sphere",n.scale.multiplyScalar(1.8),n;case"Box":case"DeathVolume":return n.geometry="box",n;case"Cone":return n.geometry="cone",n;case"Wall":return n.geometry="box",n.scale.y=50,n;case"Wall2":return n.geometry="box",n.scale.set(.25,3,5),n;case"Floor":return n.geometry="box",n.scale.set(5,.25,5),n;case"Sphere":return n.geometry="sphere",n;case"Cylinder":return n.geometry="cylinder",n.scale.set(1,1,1),n;case"Capsule":return n.geometry="capsule",n;case"Snowman":return n.geometry="Snowman",n.rotation.setFromEuler(new E.Euler(0,Math.PI,0)),n.scale.set(4,4,4),n;case"RollingEnemy":return n.geometry="sphere",n;case"Pyramid":return n.geometry="Pyramid",n;default:return n.geometry=r,n.scale.set(1,1,1),n}}getMaterialInfo(r){return{id:this.getMaterialId(r),color:this.getMaterialColor(r)}}getMaterialId(r){switch(r){case"water":return"transparent";case"yellow_plastic":case"green_plastic":case"red_plastic":case"orange_plastic":case"blue_plastic":case"black_plastic":return"plastic";case"gray":case"orange":case"cyan":case"green":case"red":case"white":case"blue":case"pink":case"purple":return"purple";default:return r}}getMaterialColor(r){const n=new E.Color;switch(r){case"water":n.setHex(21871);break;case"yellow_plastic":n.setHex(10066176);break;case"green_plastic":n.setHex(44555);break;case"red_plastic":n.setHex(10027008);break;case"orange_plastic":n.setHex(16749056);break;case"blue_plastic":n.setHex(215168);break;case"orange":n.setHex(16749056);break;case"gray":n.setHex(6184542);break;case"goal":case"green":n.setHex(44555);break;case"pink":n.setHex(13238395);break;case"cyan":n.setHex(42184);break;case"blue":n.setHex(215168);break;case"red":n.setHex(16711680);break;case"black":case"black_plastic":n.setHex(0);break;case"yellow":n.setHex(16776960);break;case"brown":n.setHex(10967336)}return n}legacyComponentConverter(r){r.move&&(r.move.moveOffset={x:r.move.moveOffset.x/25,y:r.move.moveOffset.y/25,z:r.move.moveOffset.z/25}),r.airfloat&&(r.airfloat.distance/=25,r.airfloat.maxSpeed*=2,r.airfloat.minDistance=0,r.airfloat.randomSpeed*=2,r.airfloat.speed*=5),r.projectileTrap&&(r.projectileTrap.projectileDistanceFromPlayer/=25,r.projectileTrap.projectileSpeed/=25),r.shooter&&(r.shooter.interval/=1e3,r.shooter.far/=25)}async _load(r){const n=await w.default.loadProjectFromDataUrl(j.getCachedFileUri(r.url));if(!n)return null;const a=[],i=new Map;let o=10;for(const{id:r}of n.modules)i.set(r,o++);let s=10;for(const{type:r,material:o,properties:y,transform:_,components:w,editor:j}of n.modules){const n=this.transformFix(r),q=n.geometry,$=(new E.Vector3).copy(y.size).multiply(n.scale),ne=(new E.Quaternion).setFromEuler((new E.Euler).setFromVector3(_.rotation)).multiply(n.rotation),ie=this.getMaterialInfo(o.id.split(" ").join("_")),oe={node:{position:_.position,rotation:ne,scale:$},model:{geometry:q},material:{material:ie.id,uvScale:y.materialScale,color:ie.color,blending:"transparent"===ie.id?E.AdditiveBlending:E.NoBlending},rigidBody:{},traits:{physicality:y.physicality},octree:{}};if("Portal"===r&&(oe.model.geometry="Goal",oe.finishLine={}),"SpawnPoint"===r&&(oe.invisible={}),"SpawnPoint"===r&&(oe.spawnPoint={}),"Gem"===r&&(oe.material.color=new E.Color(16776960)),o.lightIntensity>0){oe.material.material="white",oe.material.colorStrength=3;let r=o.lightIntensity;o.lightDistance&&(r=(r+o.lightDistance/4)/2),oe.light={color:ie.color,strength:r}}const se=JSON.parse(w||"[]");for(const r of se){const n=this.transformComponent(r);oe[n.type]=n.data}if(this.legacyComponentConverter(oe),oe.legacyVolumeTrigger){let r=!1;for(let n=0;n<oe.legacyVolumeTrigger.targets.length;n++){const a=oe.legacyVolumeTrigger.targets[n];if(!a.offState&&!a.onState){r=!0;break}a.entity=i.get(a.entity)}r&&delete oe.legacyVolumeTrigger}if(oe.allGemsCollectedTrigger){let r=!1;for(let n=0;n<oe.allGemsCollectedTrigger.targets.length;n++){const a=oe.allGemsCollectedTrigger.targets[n];if(!a.offState&&!a.onState){r=!0;break}a.entity=i.get(a.entity)}r&&delete oe.allGemsCollectedTrigger}"gem"===j.tags&&(oe.legacyGem={}),a.push({id:s++,components:oe})}const{ambientLightStrength:y,directionalLightStrength:_,fog:q,lightColor:$,particles:ne,skyColor:ie,skybox:oe,soundPath:se}=n.environment,[le]=se.split(":"),pe=oe?"#FFFFFF":ie;return a.push({id:s++,components:{node:{scale:{x:999999,y:999999,z:999999}},environment:{skybox:oe,skyColor:new E.Color(pe),ambientLightColor:new E.Color($),ambientLightIntensity:1*y,sunColor:new E.Color($),sunIntensity:1*_,fogIntensity:Math.pow(q,1/5.8),skyboxFogIntensity:260*q,fogColor:new E.Color(ie),ambientSound:le,particlePreset:ne}}}),{data:a,credits:n.credits,gamekit:"platformer",name:"[UN_NAMED]"}}}n.LegacyProjectLoader=LegacyProjectLoader,LegacyProjectLoader.assetType=o.AssetType.PROJECT},function(r,n,a){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.Easing=void 0,(i=n.Easing||(n.Easing={}))[i.LINEAR=0]="LINEAR",i[i.IN_OUT_QUAD=1]="IN_OUT_QUAD",i[i.IN_OUT_CUBIC=2]="IN_OUT_CUBIC",i[i.IN_OUT_QUART=3]="IN_OUT_QUART",i[i.IN_OUT_SINE=4]="IN_OUT_SINE",i[i.IN_OUT_EXPO=5]="IN_OUT_EXPO",i[i.IN_OUT_BOUNCE=6]="IN_OUT_BOUNCE",i[i.EASE_IN_QUAD=7]="EASE_IN_QUAD",i[i.EASE_OUT_QUAD=8]="EASE_OUT_QUAD",i[i.IN_OUT_CIRCLE=9]="IN_OUT_CIRCLE",i[i.IN_OUT_ELASTIC=10]="IN_OUT_ELASTIC",i[i.SPIKE=11]="SPIKE",i[i.FLICKER=12]="FLICKER"},function(r,n,a){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.ProgressMode=void 0,(i=n.ProgressMode||(n.ProgressMode={}))[i.YOYO=0]="YOYO",i[i.RESTART=1]="RESTART",i[i.ONCE=2]="ONCE"},function(r,n,a){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.SpeedMode=void 0,(i=n.SpeedMode||(n.SpeedMode={}))[i.Normal=0]="Normal",i[i.SyncToMusic=1]="SyncToMusic"},function(r,n,a){"use strict";a.r(n);var i=a(6),o=a(84),s=a(124),y=a(18),_=a(125);const w=function(){let r=null;const{studioUrl:n}=i.default;function _fetch(r,n,a,i){const o=new Headers;return!i&&Object(_.getLoginToken)()&&o.append("Authorization","Bearer "+Object(_.getLoginToken)()),!i&&Object(_.getRID)()&&o.append("trck",Object(_.getRID)()),a&&o.append("Content-Type",a),fetch(r,Object.assign({method:"get",headers:o},n)).catch(r=>{throw r})}return{fetch:_fetch,getCookie:function _getCookie(r){const n=("; "+document.cookie).split(`; ${r}=`);return 2===n.length?n.pop().split(";").shift():null},postScore:function _postScore(r,a,i,o){const s=Date.now(),_=y.default.xfnv1a(`${r}_${a}_${i}_${s}`);return _fetch(`${n}/api/project/${r}/score`,{method:"POST",body:JSON.stringify({id:r,score:a,type:i,hash:_(),data:o,time:s,platform:y.default.isMobile()?1:0})},"application/json").then(r=>r.json())},removeThumbnail:function _removeThumbnail(r){return _fetch(`${n}/api/project/thumbnails/${r}`,{method:"DELETE"}).then(r=>r.json())},uploadThumbnail:function _uploadThumbnail(r){const{id:a}=_g.projectManager;return _fetch(`${n}/api/project/${a}/images`,{method:"POST",body:r},"image/jpeg").then(r=>r.json())},loadProjectFromDataUrl:function _loadProjectFromDataUrl(n,a){r||(r=o.Root.fromJSON(s));const i=r.lookupType("hiber.World");return _fetch(n,null,null,!0).then(r=>r.arrayBuffer()).then(r=>{const n=new Uint8Array(r);return i.decode(n)}).catch(r=>(console.error(r),null))}}}();n.default=w},function(r,n,a){"use strict";r.exports=a(85)},function(r,n,a){"use strict";var i=r.exports=a(86);i.build="light",i.load=function load(r,n,a){return"function"==typeof n?(a=n,n=new i.Root):n||(n=new i.Root),n.load(r,a)},i.loadSync=function loadSync(r,n){return n||(n=new i.Root),n.loadSync(r)},i.encoder=a(103),i.decoder=a(119),i.verifier=a(120),i.converter=a(121),i.ReflectionObject=a(105),i.Namespace=a(111),i.Root=a(123),i.Enum=a(104),i.Type=a(110),i.Field=a(112),i.OneOf=a(114),i.MapField=a(115),i.Service=a(116),i.Method=a(117),i.Message=a(118),i.wrappers=a(122),i.types=a(113),i.util=a(106),i.ReflectionObject._configure(i.Root),i.Namespace._configure(i.Type,i.Service,i.Enum),i.Root._configure(i.Type),i.Field._configure(i.Type)},function(r,n,a){"use strict";var i=n;function configure(){i.util._configure(),i.Writer._configure(i.BufferWriter),i.Reader._configure(i.BufferReader)}i.build="minimal",i.Writer=a(87),i.BufferWriter=a(97),i.Reader=a(98),i.BufferReader=a(99),i.util=a(88),i.rpc=a(100),i.roots=a(102),i.configure=configure,configure()},function(r,n,a){"use strict";r.exports=Writer;var i,o=a(88),s=o.LongBits,y=o.base64,_=o.utf8;function Op(r,n,a){this.fn=r,this.len=n,this.next=void 0,this.val=a}function noop(){}function State(r){this.head=r.head,this.tail=r.tail,this.len=r.len,this.next=r.states}function Writer(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}var w=function create(){return o.Buffer?function create_buffer_setup(){return(Writer.create=function create_buffer(){return new i})()}:function create_array(){return new Writer}};function writeByte(r,n,a){n[a]=255&r}function VarintOp(r,n){this.len=r,this.next=void 0,this.val=n}function writeVarint64(r,n,a){for(;r.hi;)n[a++]=127&r.lo|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)n[a++]=127&r.lo|128,r.lo=r.lo>>>7;n[a++]=r.lo}function writeFixed32(r,n,a){n[a]=255&r,n[a+1]=r>>>8&255,n[a+2]=r>>>16&255,n[a+3]=r>>>24}Writer.create=w(),Writer.alloc=function alloc(r){return new o.Array(r)},o.Array!==Array&&(Writer.alloc=o.pool(Writer.alloc,o.Array.prototype.subarray)),Writer.prototype._push=function push(r,n,a){return this.tail=this.tail.next=new Op(r,n,a),this.len+=n,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=function writeVarint32(r,n,a){for(;r>127;)n[a++]=127&r|128,r>>>=7;n[a]=r},Writer.prototype.uint32=function write_uint32(r){return this.len+=(this.tail=this.tail.next=new VarintOp((r>>>=0)<128?1:r<16384?2:r<2097152?3:r<268435456?4:5,r)).len,this},Writer.prototype.int32=function write_int32(r){return r<0?this._push(writeVarint64,10,s.fromNumber(r)):this.uint32(r)},Writer.prototype.sint32=function write_sint32(r){return this.uint32((r<<1^r>>31)>>>0)},Writer.prototype.uint64=function write_uint64(r){var n=s.from(r);return this._push(writeVarint64,n.length(),n)},Writer.prototype.int64=Writer.prototype.uint64,Writer.prototype.sint64=function write_sint64(r){var n=s.from(r).zzEncode();return this._push(writeVarint64,n.length(),n)},Writer.prototype.bool=function write_bool(r){return this._push(writeByte,1,r?1:0)},Writer.prototype.fixed32=function write_fixed32(r){return this._push(writeFixed32,4,r>>>0)},Writer.prototype.sfixed32=Writer.prototype.fixed32,Writer.prototype.fixed64=function write_fixed64(r){var n=s.from(r);return this._push(writeFixed32,4,n.lo)._push(writeFixed32,4,n.hi)},Writer.prototype.sfixed64=Writer.prototype.fixed64,Writer.prototype.float=function write_float(r){return this._push(o.float.writeFloatLE,4,r)},Writer.prototype.double=function write_double(r){return this._push(o.float.writeDoubleLE,8,r)};var E=o.Array.prototype.set?function writeBytes_set(r,n,a){n.set(r,a)}:function writeBytes_for(r,n,a){for(var i=0;i<r.length;++i)n[a+i]=r[i]};Writer.prototype.bytes=function write_bytes(r){var n=r.length>>>0;if(!n)return this._push(writeByte,1,0);if(o.isString(r)){var a=Writer.alloc(n=y.length(r));y.decode(r,a,0),r=a}return this.uint32(n)._push(E,n,r)},Writer.prototype.string=function write_string(r){var n=_.length(r);return n?this.uint32(n)._push(_.write,n,r):this._push(writeByte,1,0)},Writer.prototype.fork=function fork(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer.prototype.reset=function reset(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer.prototype.ldelim=function ldelim(){var r=this.head,n=this.tail,a=this.len;return this.reset().uint32(a),a&&(this.tail.next=r.next,this.tail=n,this.len+=a),this},Writer.prototype.finish=function finish(){for(var r=this.head.next,n=this.constructor.alloc(this.len),a=0;r;)r.fn(r.val,n,a),a+=r.len,r=r.next;return n},Writer._configure=function(r){i=r,Writer.create=w(),i._configure()}},function(r,n,a){"use strict";(function(r){var i=n;function merge(r,n,a){for(var i=Object.keys(n),o=0;o<i.length;++o)void 0!==r[i[o]]&&a||(r[i[o]]=n[i[o]]);return r}function newError(r){function CustomError(r,n){if(!(this instanceof CustomError))return new CustomError(r,n);Object.defineProperty(this,"message",{get:()=>r}),Error.captureStackTrace?Error.captureStackTrace(this,CustomError):Object.defineProperty(this,"stack",{value:Error().stack||""}),n&&merge(this,n)}return(CustomError.prototype=Object.create(Error.prototype)).constructor=CustomError,Object.defineProperty(CustomError.prototype,"name",{get:()=>r}),CustomError.prototype.toString=function toString(){return this.name+": "+this.message},CustomError}i.asPromise=a(89),i.base64=a(90),i.EventEmitter=a(91),i.float=a(92),i.inquire=a(93),i.utf8=a(94),i.pool=a(95),i.LongBits=a(96),i.isNode=!!(void 0!==r&&r&&r.process&&r.process.versions&&r.process.versions.node),i.global=i.isNode&&r||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function isInteger(r){return"number"==typeof r&&isFinite(r)&&Math.floor(r)===r},i.isString=function isString(r){return"string"==typeof r||r instanceof String},i.isObject=function isObject(r){return r&&"object"==typeof r},i.isset=i.isSet=function isSet(r,n){var a=r[n];return!(null==a||!r.hasOwnProperty(n))&&("object"!=typeof a||(Array.isArray(a)?a.length:Object.keys(a).length)>0)},i.Buffer=function(){try{var r=i.inquire("buffer").Buffer;return r.prototype.utf8Write?r:null}catch(r){return null}}(),i._Buffer_from=null,i._Buffer_allocUnsafe=null,i.newBuffer=function newBuffer(r){return"number"==typeof r?i.Buffer?i._Buffer_allocUnsafe(r):new i.Array(r):i.Buffer?i._Buffer_from(r):"undefined"==typeof Uint8Array?r:new Uint8Array(r)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function longToHash(r){return r?i.LongBits.from(r).toHash():i.LongBits.zeroHash},i.longFromHash=function longFromHash(r,n){var a=i.LongBits.fromHash(r);return i.Long?i.Long.fromBits(a.lo,a.hi,n):a.toNumber(!!n)},i.merge=merge,i.lcFirst=function lcFirst(r){return r.charAt(0).toLowerCase()+r.substring(1)},i.newError=newError,i.ProtocolError=newError("ProtocolError"),i.oneOfGetter=function getOneOf(r){for(var n={},a=0;a<r.length;++a)n[r[a]]=1;return function(){for(var r=Object.keys(this),a=r.length-1;a>-1;--a)if(1===n[r[a]]&&void 0!==this[r[a]]&&null!==this[r[a]])return r[a]}},i.oneOfSetter=function setOneOf(r){return function(n){for(var a=0;a<r.length;++a)r[a]!==n&&delete this[r[a]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i._configure=function(){var r=i.Buffer;r?(i._Buffer_from=r.from!==Uint8Array.from&&r.from||function Buffer_from(n,a){return new r(n,a)},i._Buffer_allocUnsafe=r.allocUnsafe||function Buffer_allocUnsafe(n){return new r(n)}):i._Buffer_from=i._Buffer_allocUnsafe=null}}).call(this,a(3))},function(r,n,a){"use strict";r.exports=function asPromise(r,n){for(var a=Array(arguments.length-1),i=0,o=2,s=!0;o<arguments.length;)a[i++]=arguments[o++];return new Promise((function executor(o,y){a[i]=function callback(r){if(s)if(s=!1,r)y(r);else{for(var n=Array(arguments.length-1),a=0;a<n.length;)n[a++]=arguments[a];o.apply(null,n)}};try{r.apply(n||null,a)}catch(r){s&&(s=!1,y(r))}}))}},function(r,n,a){"use strict";var i=n;i.length=function length(r){var n=r.length;if(!n)return 0;for(var a=0;--n%4>1&&"="===r.charAt(n);)++a;return Math.ceil(3*r.length)/4-a};for(var o=Array(64),s=Array(123),y=0;y<64;)s[o[y]=y<26?y+65:y<52?y+71:y<62?y-4:y-59|43]=y++;i.encode=function encode(r,n,a){for(var i,s=null,y=[],_=0,w=0;n<a;){var E=r[n++];switch(w){case 0:y[_++]=o[E>>2],i=(3&E)<<4,w=1;break;case 1:y[_++]=o[i|E>>4],i=(15&E)<<2,w=2;break;case 2:y[_++]=o[i|E>>6],y[_++]=o[63&E],w=0}_>8191&&((s||(s=[])).push(String.fromCharCode.apply(String,y)),_=0)}return w&&(y[_++]=o[i],y[_++]=61,1===w&&(y[_++]=61)),s?(_&&s.push(String.fromCharCode.apply(String,y.slice(0,_))),s.join("")):String.fromCharCode.apply(String,y.slice(0,_))},i.decode=function decode(r,n,a){for(var i,o=a,y=0,_=0;_<r.length;){var w=r.charCodeAt(_++);if(61===w&&y>1)break;if(void 0===(w=s[w]))throw Error("invalid encoding");switch(y){case 0:i=w,y=1;break;case 1:n[a++]=i<<2|(48&w)>>4,i=w,y=2;break;case 2:n[a++]=(15&i)<<4|(60&w)>>2,i=w,y=3;break;case 3:n[a++]=(3&i)<<6|w,y=0}}if(1===y)throw Error("invalid encoding");return a-o},i.test=function test(r){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(r)}},function(r,n,a){"use strict";function EventEmitter(){this._listeners={}}r.exports=EventEmitter,EventEmitter.prototype.on=function on(r,n,a){return(this._listeners[r]||(this._listeners[r]=[])).push({fn:n,ctx:a||this}),this},EventEmitter.prototype.off=function off(r,n){if(void 0===r)this._listeners={};else if(void 0===n)this._listeners[r]=[];else for(var a=this._listeners[r],i=0;i<a.length;)a[i].fn===n?a.splice(i,1):++i;return this},EventEmitter.prototype.emit=function emit(r){var n=this._listeners[r];if(n){for(var a=[],i=1;i<arguments.length;)a.push(arguments[i++]);for(i=0;i<n.length;)n[i].fn.apply(n[i++].ctx,a)}return this}},function(r,n,a){"use strict";function factory(r){return"undefined"!=typeof Float32Array?function(){var n=new Float32Array([-0]),a=new Uint8Array(n.buffer),i=128===a[3];function writeFloat_f32_cpy(r,i,o){n[0]=r,i[o]=a[0],i[o+1]=a[1],i[o+2]=a[2],i[o+3]=a[3]}function writeFloat_f32_rev(r,i,o){n[0]=r,i[o]=a[3],i[o+1]=a[2],i[o+2]=a[1],i[o+3]=a[0]}function readFloat_f32_cpy(r,i){return a[0]=r[i],a[1]=r[i+1],a[2]=r[i+2],a[3]=r[i+3],n[0]}function readFloat_f32_rev(r,i){return a[3]=r[i],a[2]=r[i+1],a[1]=r[i+2],a[0]=r[i+3],n[0]}r.writeFloatLE=i?writeFloat_f32_cpy:writeFloat_f32_rev,r.writeFloatBE=i?writeFloat_f32_rev:writeFloat_f32_cpy,r.readFloatLE=i?readFloat_f32_cpy:readFloat_f32_rev,r.readFloatBE=i?readFloat_f32_rev:readFloat_f32_cpy}():function(){function writeFloat_ieee754(r,n,a,i){var o=n<0?1:0;if(o&&(n=-n),0===n)r(1/n>0?0:2147483648,a,i);else if(isNaN(n))r(2143289344,a,i);else if(n>34028234663852886e22)r((o<<31|2139095040)>>>0,a,i);else if(n<11754943508222875e-54)r((o<<31|Math.round(n/1401298464324817e-60))>>>0,a,i);else{var s=Math.floor(Math.log(n)/Math.LN2);r((o<<31|s+127<<23|8388607&Math.round(n*Math.pow(2,-s)*8388608))>>>0,a,i)}}function readFloat_ieee754(r,n,a){var i=r(n,a),o=2*(i>>31)+1,s=i>>>23&255,y=8388607&i;return 255===s?y?NaN:o*(1/0):0===s?1401298464324817e-60*o*y:o*Math.pow(2,s-150)*(y+8388608)}r.writeFloatLE=writeFloat_ieee754.bind(null,writeUintLE),r.writeFloatBE=writeFloat_ieee754.bind(null,writeUintBE),r.readFloatLE=readFloat_ieee754.bind(null,readUintLE),r.readFloatBE=readFloat_ieee754.bind(null,readUintBE)}(),"undefined"!=typeof Float64Array?function(){var n=new Float64Array([-0]),a=new Uint8Array(n.buffer),i=128===a[7];function writeDouble_f64_cpy(r,i,o){n[0]=r,i[o]=a[0],i[o+1]=a[1],i[o+2]=a[2],i[o+3]=a[3],i[o+4]=a[4],i[o+5]=a[5],i[o+6]=a[6],i[o+7]=a[7]}function writeDouble_f64_rev(r,i,o){n[0]=r,i[o]=a[7],i[o+1]=a[6],i[o+2]=a[5],i[o+3]=a[4],i[o+4]=a[3],i[o+5]=a[2],i[o+6]=a[1],i[o+7]=a[0]}function readDouble_f64_cpy(r,i){return a[0]=r[i],a[1]=r[i+1],a[2]=r[i+2],a[3]=r[i+3],a[4]=r[i+4],a[5]=r[i+5],a[6]=r[i+6],a[7]=r[i+7],n[0]}function readDouble_f64_rev(r,i){return a[7]=r[i],a[6]=r[i+1],a[5]=r[i+2],a[4]=r[i+3],a[3]=r[i+4],a[2]=r[i+5],a[1]=r[i+6],a[0]=r[i+7],n[0]}r.writeDoubleLE=i?writeDouble_f64_cpy:writeDouble_f64_rev,r.writeDoubleBE=i?writeDouble_f64_rev:writeDouble_f64_cpy,r.readDoubleLE=i?readDouble_f64_cpy:readDouble_f64_rev,r.readDoubleBE=i?readDouble_f64_rev:readDouble_f64_cpy}():function(){function writeDouble_ieee754(r,n,a,i,o,s){var y=i<0?1:0;if(y&&(i=-i),0===i)r(0,o,s+n),r(1/i>0?0:2147483648,o,s+a);else if(isNaN(i))r(0,o,s+n),r(2146959360,o,s+a);else if(i>17976931348623157e292)r(0,o,s+n),r((y<<31|2146435072)>>>0,o,s+a);else{var _;if(i<22250738585072014e-324)r((_=i/5e-324)>>>0,o,s+n),r((y<<31|_/4294967296)>>>0,o,s+a);else{var w=Math.floor(Math.log(i)/Math.LN2);1024===w&&(w=1023),r(4503599627370496*(_=i*Math.pow(2,-w))>>>0,o,s+n),r((y<<31|w+1023<<20|1048576*_&1048575)>>>0,o,s+a)}}}function readDouble_ieee754(r,n,a,i,o){var s=r(i,o+n),y=r(i,o+a),_=2*(y>>31)+1,w=y>>>20&2047,E=4294967296*(1048575&y)+s;return 2047===w?E?NaN:_*(1/0):0===w?5e-324*_*E:_*Math.pow(2,w-1075)*(E+4503599627370496)}r.writeDoubleLE=writeDouble_ieee754.bind(null,writeUintLE,0,4),r.writeDoubleBE=writeDouble_ieee754.bind(null,writeUintBE,4,0),r.readDoubleLE=readDouble_ieee754.bind(null,readUintLE,0,4),r.readDoubleBE=readDouble_ieee754.bind(null,readUintBE,4,0)}(),r}function writeUintLE(r,n,a){n[a]=255&r,n[a+1]=r>>>8&255,n[a+2]=r>>>16&255,n[a+3]=r>>>24}function writeUintBE(r,n,a){n[a]=r>>>24,n[a+1]=r>>>16&255,n[a+2]=r>>>8&255,n[a+3]=255&r}function readUintLE(r,n){return(r[n]|r[n+1]<<8|r[n+2]<<16|r[n+3]<<24)>>>0}function readUintBE(r,n){return(r[n]<<24|r[n+1]<<16|r[n+2]<<8|r[n+3])>>>0}r.exports=factory(factory)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("require")(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(r){}return null}module.exports=inquire},function(r,n,a){"use strict";var i=n;i.length=function utf8_length(r){for(var n=0,a=0,i=0;i<r.length;++i)(a=r.charCodeAt(i))<128?n+=1:a<2048?n+=2:55296==(64512&a)&&56320==(64512&r.charCodeAt(i+1))?(++i,n+=4):n+=3;return n},i.read=function utf8_read(r,n,a){if(a-n<1)return"";for(var i,o=null,s=[],y=0;n<a;)(i=r[n++])<128?s[y++]=i:i>191&&i<224?s[y++]=(31&i)<<6|63&r[n++]:i>239&&i<365?(i=((7&i)<<18|(63&r[n++])<<12|(63&r[n++])<<6|63&r[n++])-65536,s[y++]=55296+(i>>10),s[y++]=56320+(1023&i)):s[y++]=(15&i)<<12|(63&r[n++])<<6|63&r[n++],y>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),y=0);return o?(y&&o.push(String.fromCharCode.apply(String,s.slice(0,y))),o.join("")):String.fromCharCode.apply(String,s.slice(0,y))},i.write=function utf8_write(r,n,a){for(var i,o,s=a,y=0;y<r.length;++y)(i=r.charCodeAt(y))<128?n[a++]=i:i<2048?(n[a++]=i>>6|192,n[a++]=63&i|128):55296==(64512&i)&&56320==(64512&(o=r.charCodeAt(y+1)))?(i=65536+((1023&i)<<10)+(1023&o),++y,n[a++]=i>>18|240,n[a++]=i>>12&63|128,n[a++]=i>>6&63|128,n[a++]=63&i|128):(n[a++]=i>>12|224,n[a++]=i>>6&63|128,n[a++]=63&i|128);return a-s}},function(r,n,a){"use strict";r.exports=function pool(r,n,a){var i=a||8192,o=i>>>1,s=null,y=i;return function pool_alloc(a){if(a<1||a>o)return r(a);y+a>i&&(s=r(i),y=0);var _=n.call(s,y,y+=a);return 7&y&&(y=1+(7|y)),_}}},function(r,n,a){"use strict";r.exports=LongBits;var i=a(88);function LongBits(r,n){this.lo=r>>>0,this.hi=n>>>0}var o=LongBits.zero=new LongBits(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=LongBits.zeroHash="\0\0\0\0\0\0\0\0";LongBits.fromNumber=function fromNumber(r){if(0===r)return o;var n=r<0;n&&(r=-r);var a=r>>>0,i=(r-a)/4294967296>>>0;return n&&(i=~i>>>0,a=~a>>>0,++a>4294967295&&(a=0,++i>4294967295&&(i=0))),new LongBits(a,i)},LongBits.from=function from(r){if("number"==typeof r)return LongBits.fromNumber(r);if(i.isString(r)){if(!i.Long)return LongBits.fromNumber(parseInt(r,10));r=i.Long.fromString(r)}return r.low||r.high?new LongBits(r.low>>>0,r.high>>>0):o},LongBits.prototype.toNumber=function toNumber(r){if(!r&&this.hi>>>31){var n=1+~this.lo>>>0,a=~this.hi>>>0;return n||(a=a+1>>>0),-(n+4294967296*a)}return this.lo+4294967296*this.hi},LongBits.prototype.toLong=function toLong(r){return i.Long?new i.Long(0|this.lo,0|this.hi,!!r):{low:0|this.lo,high:0|this.hi,unsigned:!!r}};var y="".charCodeAt;LongBits.fromHash=function fromHash(r){return r===s?o:new LongBits((y.call(r,0)|y.call(r,1)<<8|y.call(r,2)<<16|y.call(r,3)<<24)>>>0,(y.call(r,4)|y.call(r,5)<<8|y.call(r,6)<<16|y.call(r,7)<<24)>>>0)},LongBits.prototype.toHash=function toHash(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},LongBits.prototype.zzEncode=function zzEncode(){var r=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^r)>>>0,this.lo=(this.lo<<1^r)>>>0,this},LongBits.prototype.zzDecode=function zzDecode(){var r=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^r)>>>0,this.hi=(this.hi>>>1^r)>>>0,this},LongBits.prototype.length=function length(){var r=this.lo,n=(this.lo>>>28|this.hi<<4)>>>0,a=this.hi>>>24;return 0===a?0===n?r<16384?r<128?1:2:r<2097152?3:4:n<16384?n<128?5:6:n<2097152?7:8:a<128?9:10}},function(r,n,a){"use strict";r.exports=BufferWriter;var i=a(87);(BufferWriter.prototype=Object.create(i.prototype)).constructor=BufferWriter;var o=a(88);function BufferWriter(){i.call(this)}function writeStringBuffer(r,n,a){r.length<40?o.utf8.write(r,n,a):n.utf8Write?n.utf8Write(r,a):n.write(r,a)}BufferWriter._configure=function(){BufferWriter.alloc=o._Buffer_allocUnsafe,BufferWriter.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function writeBytesBuffer_set(r,n,a){n.set(r,a)}:function writeBytesBuffer_copy(r,n,a){if(r.copy)r.copy(n,a,0,r.length);else for(var i=0;i<r.length;)n[a++]=r[i++]}},BufferWriter.prototype.bytes=function write_bytes_buffer(r){o.isString(r)&&(r=o._Buffer_from(r,"base64"));var n=r.length>>>0;return this.uint32(n),n&&this._push(BufferWriter.writeBytesBuffer,n,r),this},BufferWriter.prototype.string=function write_string_buffer(r){var n=o.Buffer.byteLength(r);return this.uint32(n),n&&this._push(writeStringBuffer,n,r),this},BufferWriter._configure()},function(r,n,a){"use strict";r.exports=Reader;var i,o=a(88),s=o.LongBits,y=o.utf8;function indexOutOfRange(r,n){return RangeError("index out of range: "+r.pos+" + "+(n||1)+" > "+r.len)}function Reader(r){this.buf=r,this.pos=0,this.len=r.length}var _="undefined"!=typeof Uint8Array?function create_typed_array(r){if(r instanceof Uint8Array||Array.isArray(r))return new Reader(r);throw Error("illegal buffer")}:function create_array(r){if(Array.isArray(r))return new Reader(r);throw Error("illegal buffer")},w=function create(){return o.Buffer?function create_buffer_setup(r){return(Reader.create=function create_buffer(r){return o.Buffer.isBuffer(r)?new i(r):_(r)})(r)}:_};function readLongVarint(){var r=new s(0,0),n=0;if(!(this.len-this.pos>4)){for(;n<3;++n){if(this.pos>=this.len)throw indexOutOfRange(this);if(r.lo=(r.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return r}return r.lo=(r.lo|(127&this.buf[this.pos++])<<7*n)>>>0,r}for(;n<4;++n)if(r.lo=(r.lo|(127&this.buf[this.pos])<<7*n)>>>0,this.buf[this.pos++]<128)return r;if(r.lo=(r.lo|(127&this.buf[this.pos])<<28)>>>0,r.hi=(r.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return r;if(n=0,this.len-this.pos>4){for(;n<5;++n)if(r.hi=(r.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return r}else for(;n<5;++n){if(this.pos>=this.len)throw indexOutOfRange(this);if(r.hi=(r.hi|(127&this.buf[this.pos])<<7*n+3)>>>0,this.buf[this.pos++]<128)return r}throw Error("invalid varint encoding")}function readFixed32_end(r,n){return(r[n-4]|r[n-3]<<8|r[n-2]<<16|r[n-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new s(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader.create=w(),Reader.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,Reader.prototype.uint32=function read_uint32_setup(){var r=4294967295;return function read_uint32(){if(r=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return r;if(r=(r|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return r;if(r=(r|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return r;if(r=(r|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return r;if(r=(r|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return r;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return r}}(),Reader.prototype.int32=function read_int32(){return 0|this.uint32()},Reader.prototype.sint32=function read_sint32(){var r=this.uint32();return r>>>1^-(1&r)|0},Reader.prototype.bool=function read_bool(){return 0!==this.uint32()},Reader.prototype.fixed32=function read_fixed32(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.sfixed32=function read_sfixed32(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.float=function read_float(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var r=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,r},Reader.prototype.double=function read_double(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var r=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,r},Reader.prototype.bytes=function read_bytes(){var r=this.uint32(),n=this.pos,a=this.pos+r;if(a>this.len)throw indexOutOfRange(this,r);return this.pos+=r,Array.isArray(this.buf)?this.buf.slice(n,a):n===a?new this.buf.constructor(0):this._slice.call(this.buf,n,a)},Reader.prototype.string=function read_string(){var r=this.bytes();return y.read(r,0,r.length)},Reader.prototype.skip=function skip(r){if("number"==typeof r){if(this.pos+r>this.len)throw indexOutOfRange(this,r);this.pos+=r}else do{if(this.pos>=this.len)throw indexOutOfRange(this)}while(128&this.buf[this.pos++]);return this},Reader.prototype.skipType=function(r){switch(r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(r=7&this.uint32());)this.skipType(r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+r+" at offset "+this.pos)}return this},Reader._configure=function(r){i=r,Reader.create=w(),i._configure();var n=o.Long?"toLong":"toNumber";o.merge(Reader.prototype,{int64:function read_int64(){return readLongVarint.call(this)[n](!1)},uint64:function read_uint64(){return readLongVarint.call(this)[n](!0)},sint64:function read_sint64(){return readLongVarint.call(this).zzDecode()[n](!1)},fixed64:function read_fixed64(){return readFixed64.call(this)[n](!0)},sfixed64:function read_sfixed64(){return readFixed64.call(this)[n](!1)}})}},function(r,n,a){"use strict";r.exports=BufferReader;var i=a(98);(BufferReader.prototype=Object.create(i.prototype)).constructor=BufferReader;var o=a(88);function BufferReader(r){i.call(this,r)}BufferReader._configure=function(){o.Buffer&&(BufferReader.prototype._slice=o.Buffer.prototype.slice)},BufferReader.prototype.string=function read_string_buffer(){var r=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+r,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+r,this.len))},BufferReader._configure()},function(r,n,a){"use strict";n.Service=a(101)},function(r,n,a){"use strict";r.exports=Service;var i=a(88);function Service(r,n,a){if("function"!=typeof r)throw TypeError("rpcImpl must be a function");i.EventEmitter.call(this),this.rpcImpl=r,this.requestDelimited=!!n,this.responseDelimited=!!a}(Service.prototype=Object.create(i.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function rpcCall(r,n,a,o,s){if(!o)throw TypeError("request must be specified");var y=this;if(!s)return i.asPromise(rpcCall,y,r,n,a,o);if(y.rpcImpl)try{return y.rpcImpl(r,n[y.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function rpcCallback(n,i){if(n)return y.emit("error",n,r),s(n);if(null!==i){if(!(i instanceof a))try{i=a[y.responseDelimited?"decodeDelimited":"decode"](i)}catch(n){return y.emit("error",n,r),s(n)}return y.emit("data",i,r),s(null,i)}y.end(!0)}))}catch(n){return y.emit("error",n,r),void setTimeout((function(){s(n)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},Service.prototype.end=function end(r){return this.rpcImpl&&(r||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(r,n,a){"use strict";r.exports={}},function(r,n,a){"use strict";r.exports=function encoder(r){for(var n,a=s.codegen(["m","w"],r.name+"$encode")("if(!w)")("w=Writer.create()"),y=r.fieldsArray.slice().sort(s.compareFieldsById),_=0;_<y.length;++_){var w=y[_].resolve(),E=r._fieldsArray.indexOf(w),j=w.resolvedType instanceof i?"int32":w.type,q=o.basic[j];n="m"+s.safeProp(w.name),w.map?(a("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",n,w.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",n)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(w.id<<3|2)>>>0,8|o.mapKey[w.keyType],w.keyType),void 0===q?a("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",E,n):a(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|q,j,n),a("}")("}")):w.repeated?(a("if(%s!=null&&%s.length){",n,n),w.packed&&void 0!==o.packed[j]?a("w.uint32(%i).fork()",(w.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",n)("w.%s(%s[i])",j,n)("w.ldelim()"):(a("for(var i=0;i<%s.length;++i)",n),void 0===q?genTypePartial(a,w,E,n+"[i]"):a("w.uint32(%i).%s(%s[i])",(w.id<<3|q)>>>0,j,n)),a("}")):(w.optional&&a("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",n,w.name),void 0===q?genTypePartial(a,w,E,n):a("w.uint32(%i).%s(%s)",(w.id<<3|q)>>>0,j,n))}return a("return w")};var i=a(104),o=a(113),s=a(106);function genTypePartial(r,n,a,i){return n.resolvedType.group?r("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",a,i,(n.id<<3|3)>>>0,(n.id<<3|4)>>>0):r("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",a,i,(n.id<<3|2)>>>0)}},function(r,n,a){"use strict";r.exports=Enum;var i=a(105);((Enum.prototype=Object.create(i.prototype)).constructor=Enum).className="Enum";var o=a(111),s=a(106);function Enum(r,n,a,o,s){if(i.call(this,r,a),n&&"object"!=typeof n)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=s||{},this.reserved=void 0,n)for(var y=Object.keys(n),_=0;_<y.length;++_)"number"==typeof n[y[_]]&&(this.valuesById[this.values[y[_]]=n[y[_]]]=y[_])}Enum.fromJSON=function fromJSON(r,n){var a=new Enum(r,n.values,n.options,n.comment,n.comments);return a.reserved=n.reserved,a},Enum.prototype.toJSON=function toJSON(r){var n=!!r&&!!r.keepComments;return s.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",n?this.comment:void 0,"comments",n?this.comments:void 0])},Enum.prototype.add=function add(r,n,a){if(!s.isString(r))throw TypeError("name must be a string");if(!s.isInteger(n))throw TypeError("id must be an integer");if(void 0!==this.values[r])throw Error("duplicate name '"+r+"' in "+this);if(this.isReservedId(n))throw Error("id "+n+" is reserved in "+this);if(this.isReservedName(r))throw Error("name '"+r+"' is reserved in "+this);if(void 0!==this.valuesById[n]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+n+" in "+this);this.values[r]=n}else this.valuesById[this.values[r]=n]=r;return this.comments[r]=a||null,this},Enum.prototype.remove=function remove(r){if(!s.isString(r))throw TypeError("name must be a string");var n=this.values[r];if(null==n)throw Error("name '"+r+"' does not exist in "+this);return delete this.valuesById[n],delete this.values[r],delete this.comments[r],this},Enum.prototype.isReservedId=function isReservedId(r){return o.isReservedId(this.reserved,r)},Enum.prototype.isReservedName=function isReservedName(r){return o.isReservedName(this.reserved,r)}},function(r,n,a){"use strict";r.exports=ReflectionObject,ReflectionObject.className="ReflectionObject";var i,o=a(106);function ReflectionObject(r,n){if(!o.isString(r))throw TypeError("name must be a string");if(n&&!o.isObject(n))throw TypeError("options must be an object");this.options=n,this.parsedOptions=null,this.name=r,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(ReflectionObject.prototype,{root:{get(){for(var r=this;null!==r.parent;)r=r.parent;return r}},fullName:{get(){for(var r=[this.name],n=this.parent;n;)r.unshift(n.name),n=n.parent;return r.join(".")}}}),ReflectionObject.prototype.toJSON=function toJSON(){throw Error()},ReflectionObject.prototype.onAdd=function onAdd(r){this.parent&&this.parent!==r&&this.parent.remove(this),this.parent=r,this.resolved=!1;var n=r.root;n instanceof i&&n._handleAdd(this)},ReflectionObject.prototype.onRemove=function onRemove(r){var n=r.root;n instanceof i&&n._handleRemove(this),this.parent=null,this.resolved=!1},ReflectionObject.prototype.resolve=function resolve(){return this.resolved||this.root instanceof i&&(this.resolved=!0),this},ReflectionObject.prototype.getOption=function getOption(r){if(this.options)return this.options[r]},ReflectionObject.prototype.setOption=function setOption(r,n,a){return a&&this.options&&void 0!==this.options[r]||((this.options||(this.options={}))[r]=n),this},ReflectionObject.prototype.setParsedOption=function setParsedOption(r,n,a){this.parsedOptions||(this.parsedOptions=[]);var i=this.parsedOptions;if(a){var s=i.find((function(n){return{}.hasOwnProperty.call(n,r)}));if(s){var y=s[r];o.setProperty(y,a,n)}else(s={})[r]=o.setProperty({},a,n),i.push(s)}else{var _={};_[r]=n,i.push(_)}return this},ReflectionObject.prototype.setOptions=function setOptions(r,n){if(r)for(var a=Object.keys(r),i=0;i<a.length;++i)this.setOption(a[i],r[a[i]],n);return this},ReflectionObject.prototype.toString=function toString(){var r=this.constructor.className,n=this.fullName;return n.length?r+" "+n:r},ReflectionObject._configure=function(r){i=r}},function(r,n,a){"use strict";var i,o,s=r.exports=a(88),y=a(102);s.codegen=a(107),s.fetch=a(108),s.path=a(109),s.fs=s.inquire("fs"),s.toArray=function toArray(r){if(r){for(var n=Object.keys(r),a=Array(n.length),i=0;i<n.length;)a[i]=r[n[i++]];return a}return[]},s.toObject=function toObject(r){for(var n={},a=0;a<r.length;){var i=r[a++],o=r[a++];void 0!==o&&(n[i]=o)}return n};var _=/\\/g,w=/"/g;s.isReserved=function isReserved(r){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(r)},s.safeProp=function safeProp(r){return!/^[$\w_]+$/.test(r)||s.isReserved(r)?'["'+r.replace(_,"\\\\").replace(w,'\\"')+'"]':"."+r},s.ucFirst=function ucFirst(r){return r.charAt(0).toUpperCase()+r.substring(1)};var E=/_([a-z])/g;s.camelCase=function camelCase(r){return r.substring(0,1)+r.substring(1).replace(E,(function(r,n){return n.toUpperCase()}))},s.compareFieldsById=function compareFieldsById(r,n){return r.id-n.id},s.decorateType=function decorateType(r,n){if(r.$type)return n&&r.$type.name!==n&&(s.decorateRoot.remove(r.$type),r.$type.name=n,s.decorateRoot.add(r.$type)),r.$type;i||(i=a(110));var o=new i(n||r.name);return s.decorateRoot.add(o),o.ctor=r,Object.defineProperty(r,"$type",{value:o,enumerable:!1}),Object.defineProperty(r.prototype,"$type",{value:o,enumerable:!1}),o};var j=0;s.decorateEnum=function decorateEnum(r){if(r.$type)return r.$type;o||(o=a(104));var n=new o("Enum"+j++,r);return s.decorateRoot.add(n),Object.defineProperty(r,"$type",{value:n,enumerable:!1}),n},s.setProperty=function setProperty(r,n,a){if("object"!=typeof r)throw TypeError("dst must be an object");if(!n)throw TypeError("path must be specified");return function setProp(r,n,a){var i=n.shift();if(n.length>0)r[i]=setProp(r[i]||{},n,a);else{var o=r[i];o&&(a=[].concat(o).concat(a)),r[i]=a}return r}(r,n=n.split("."),a)},Object.defineProperty(s,"decorateRoot",{get:()=>y.decorated||(y.decorated=new(a(123)))})},function(r,n,a){"use strict";function codegen(r,n){"string"==typeof r&&(n=r,r=void 0);var a=[];function Codegen(r){if("string"!=typeof r){var n=toString();if(codegen.verbose&&console.log("codegen: "+n),n="return "+n,r){for(var i=Object.keys(r),o=Array(i.length+1),s=Array(i.length),y=0;y<i.length;)o[y]=i[y],s[y]=r[i[y++]];return o[y]=n,Function.apply(null,o).apply(null,s)}return Function(n)()}for(var _=Array(arguments.length-1),w=0;w<_.length;)_[w]=arguments[++w];if(w=0,r=r.replace(/%([%dfijs])/g,(function replace(r,n){var a=_[w++];switch(n){case"d":case"f":return+a+"";case"i":return Math.floor(a)+"";case"j":return JSON.stringify(a);case"s":return a+""}return"%"})),w!==_.length)throw Error("parameter count mismatch");return a.push(r),Codegen}function toString(i){return"function "+(i||n||"")+"("+(r&&r.join(",")||"")+"){\n  "+a.join("\n  ")+"\n}"}return Codegen.toString=toString,Codegen}r.exports=codegen,codegen.verbose=!1},function(r,n,a){"use strict";r.exports=fetch;var i=a(89),o=a(93)("fs");function fetch(r,n,a){return"function"==typeof n?(a=n,n={}):n||(n={}),a?!n.xhr&&o&&o.readFile?o.readFile(r,(function fetchReadFileCallback(i,o){return i&&"undefined"!=typeof XMLHttpRequest?fetch.xhr(r,n,a):i?a(i):a(null,n.binary?o:o.toString("utf8"))})):fetch.xhr(r,n,a):i(fetch,this,r,n)}fetch.xhr=function fetch_xhr(r,n,a){var i=new XMLHttpRequest;i.onreadystatechange=function fetchOnReadyStateChange(){if(4===i.readyState){if(0!==i.status&&200!==i.status)return a(Error("status "+i.status));if(n.binary){var r=i.response;if(!r){r=[];for(var o=0;o<i.responseText.length;++o)r.push(255&i.responseText.charCodeAt(o))}return a(null,"undefined"!=typeof Uint8Array?new Uint8Array(r):r)}return a(null,i.responseText)}},n.binary&&("overrideMimeType"in i&&i.overrideMimeType("text/plain; charset=x-user-defined"),i.responseType="arraybuffer"),i.open("GET",r),i.send()}},function(r,n,a){"use strict";var i=n,o=i.isAbsolute=function isAbsolute(r){return/^(?:\/|\w+:)/.test(r)},s=i.normalize=function normalize(r){var n=(r=r.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),a=o(r),i="";a&&(i=n.shift()+"/");for(var s=0;s<n.length;)".."===n[s]?s>0&&".."!==n[s-1]?n.splice(--s,2):a?n.splice(s,1):++s:"."===n[s]?n.splice(s,1):++s;return i+n.join("/")};i.resolve=function resolve(r,n,a){return a||(n=s(n)),o(n)?n:(a||(r=s(r)),(r=r.replace(/(?:\/|^)[^/]+$/,"")).length?s(r+"/"+n):n)}},function(r,n,a){"use strict";r.exports=Type;var i=a(111);((Type.prototype=Object.create(i.prototype)).constructor=Type).className="Type";var o=a(104),s=a(114),y=a(112),_=a(115),w=a(116),E=a(118),j=a(98),q=a(87),$=a(106),ne=a(103),ie=a(119),oe=a(120),se=a(121),le=a(122);function Type(r,n){i.call(this,r,n),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function clearCache(r){return r._fieldsById=r._fieldsArray=r._oneofsArray=null,delete r.encode,delete r.decode,delete r.verify,r}Object.defineProperties(Type.prototype,{fieldsById:{get(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var r=Object.keys(this.fields),n=0;n<r.length;++n){var a=this.fields[r[n]],i=a.id;if(this._fieldsById[i])throw Error("duplicate id "+i+" in "+this);this._fieldsById[i]=a}return this._fieldsById}},fieldsArray:{get(){return this._fieldsArray||(this._fieldsArray=$.toArray(this.fields))}},oneofsArray:{get(){return this._oneofsArray||(this._oneofsArray=$.toArray(this.oneofs))}},ctor:{get(){return this._ctor||(this.ctor=Type.generateConstructor(this)())},set(r){var n=r.prototype;n instanceof E||((r.prototype=new E).constructor=r,$.merge(r.prototype,n)),r.$type=r.prototype.$type=this,$.merge(r,E,!0),this._ctor=r;for(var a=0;a<this.fieldsArray.length;++a)this._fieldsArray[a].resolve();var i={};for(a=0;a<this.oneofsArray.length;++a)i[this._oneofsArray[a].resolve().name]={get:$.oneOfGetter(this._oneofsArray[a].oneof),set:$.oneOfSetter(this._oneofsArray[a].oneof)};a&&Object.defineProperties(r.prototype,i)}}}),Type.generateConstructor=function generateConstructor(r){for(var n,a=$.codegen(["p"],r.name),i=0;i<r.fieldsArray.length;++i)(n=r._fieldsArray[i]).map?a("this%s={}",$.safeProp(n.name)):n.repeated&&a("this%s=[]",$.safeProp(n.name));return a("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},Type.fromJSON=function fromJSON(r,n){var a=new Type(r,n.options);a.extensions=n.extensions,a.reserved=n.reserved;for(var E=Object.keys(n.fields),j=0;j<E.length;++j)a.add((void 0!==n.fields[E[j]].keyType?_.fromJSON:y.fromJSON)(E[j],n.fields[E[j]]));if(n.oneofs)for(E=Object.keys(n.oneofs),j=0;j<E.length;++j)a.add(s.fromJSON(E[j],n.oneofs[E[j]]));if(n.nested)for(E=Object.keys(n.nested),j=0;j<E.length;++j){var q=n.nested[E[j]];a.add((void 0!==q.id?y.fromJSON:void 0!==q.fields?Type.fromJSON:void 0!==q.values?o.fromJSON:void 0!==q.methods?w.fromJSON:i.fromJSON)(E[j],q))}return n.extensions&&n.extensions.length&&(a.extensions=n.extensions),n.reserved&&n.reserved.length&&(a.reserved=n.reserved),n.group&&(a.group=!0),n.comment&&(a.comment=n.comment),a},Type.prototype.toJSON=function toJSON(r){var n=i.prototype.toJSON.call(this,r),a=!!r&&!!r.keepComments;return $.toObject(["options",n&&n.options||void 0,"oneofs",i.arrayToJSON(this.oneofsArray,r),"fields",i.arrayToJSON(this.fieldsArray.filter((function(r){return!r.declaringField})),r)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",n&&n.nested||void 0,"comment",a?this.comment:void 0])},Type.prototype.resolveAll=function resolveAll(){for(var r=this.fieldsArray,n=0;n<r.length;)r[n++].resolve();var a=this.oneofsArray;for(n=0;n<a.length;)a[n++].resolve();return i.prototype.resolveAll.call(this)},Type.prototype.get=function get(r){return this.fields[r]||this.oneofs&&this.oneofs[r]||this.nested&&this.nested[r]||null},Type.prototype.add=function add(r){if(this.get(r.name))throw Error("duplicate name '"+r.name+"' in "+this);if(r instanceof y&&void 0===r.extend){if(this._fieldsById?this._fieldsById[r.id]:this.fieldsById[r.id])throw Error("duplicate id "+r.id+" in "+this);if(this.isReservedId(r.id))throw Error("id "+r.id+" is reserved in "+this);if(this.isReservedName(r.name))throw Error("name '"+r.name+"' is reserved in "+this);return r.parent&&r.parent.remove(r),this.fields[r.name]=r,r.message=this,r.onAdd(this),clearCache(this)}return r instanceof s?(this.oneofs||(this.oneofs={}),this.oneofs[r.name]=r,r.onAdd(this),clearCache(this)):i.prototype.add.call(this,r)},Type.prototype.remove=function remove(r){if(r instanceof y&&void 0===r.extend){if(!this.fields||this.fields[r.name]!==r)throw Error(r+" is not a member of "+this);return delete this.fields[r.name],r.parent=null,r.onRemove(this),clearCache(this)}if(r instanceof s){if(!this.oneofs||this.oneofs[r.name]!==r)throw Error(r+" is not a member of "+this);return delete this.oneofs[r.name],r.parent=null,r.onRemove(this),clearCache(this)}return i.prototype.remove.call(this,r)},Type.prototype.isReservedId=function isReservedId(r){return i.isReservedId(this.reserved,r)},Type.prototype.isReservedName=function isReservedName(r){return i.isReservedName(this.reserved,r)},Type.prototype.create=function create(r){return new this.ctor(r)},Type.prototype.setup=function setup(){for(var r=this.fullName,n=[],a=0;a<this.fieldsArray.length;++a)n.push(this._fieldsArray[a].resolve().resolvedType);this.encode=ne(this)({Writer:q,types:n,util:$}),this.decode=ie(this)({Reader:j,types:n,util:$}),this.verify=oe(this)({types:n,util:$}),this.fromObject=se.fromObject(this)({types:n,util:$}),this.toObject=se.toObject(this)({types:n,util:$});var i=le[r];if(i){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=i.fromObject.bind(o),o.toObject=this.toObject,this.toObject=i.toObject.bind(o)}return this},Type.prototype.encode=function encode_setup(r,n){return this.setup().encode(r,n)},Type.prototype.encodeDelimited=function encodeDelimited(r,n){return this.encode(r,n&&n.len?n.fork():n).ldelim()},Type.prototype.decode=function decode_setup(r,n){return this.setup().decode(r,n)},Type.prototype.decodeDelimited=function decodeDelimited(r){return r instanceof j||(r=j.create(r)),this.decode(r,r.uint32())},Type.prototype.verify=function verify_setup(r){return this.setup().verify(r)},Type.prototype.fromObject=function fromObject(r){return this.setup().fromObject(r)},Type.prototype.toObject=function toObject(r,n){return this.setup().toObject(r,n)},Type.d=function decorateType(r){return function typeDecorator(n){$.decorateType(n,r)}}},function(r,n,a){"use strict";r.exports=Namespace;var i=a(105);((Namespace.prototype=Object.create(i.prototype)).constructor=Namespace).className="Namespace";var o,s,y,_=a(112),w=a(106);function arrayToJSON(r,n){if(r&&r.length){for(var a={},i=0;i<r.length;++i)a[r[i].name]=r[i].toJSON(n);return a}}function Namespace(r,n){i.call(this,r,n),this.nested=void 0,this._nestedArray=null}function clearCache(r){return r._nestedArray=null,r}Namespace.fromJSON=function fromJSON(r,n){return new Namespace(r,n.options).addJSON(n.nested)},Namespace.arrayToJSON=arrayToJSON,Namespace.isReservedId=function isReservedId(r,n){if(r)for(var a=0;a<r.length;++a)if("string"!=typeof r[a]&&r[a][0]<=n&&r[a][1]>n)return!0;return!1},Namespace.isReservedName=function isReservedName(r,n){if(r)for(var a=0;a<r.length;++a)if(r[a]===n)return!0;return!1},Object.defineProperty(Namespace.prototype,"nestedArray",{get(){return this._nestedArray||(this._nestedArray=w.toArray(this.nested))}}),Namespace.prototype.toJSON=function toJSON(r){return w.toObject(["options",this.options,"nested",arrayToJSON(this.nestedArray,r)])},Namespace.prototype.addJSON=function addJSON(r){if(r)for(var n,a=Object.keys(r),i=0;i<a.length;++i)n=r[a[i]],this.add((void 0!==n.fields?o.fromJSON:void 0!==n.values?y.fromJSON:void 0!==n.methods?s.fromJSON:void 0!==n.id?_.fromJSON:Namespace.fromJSON)(a[i],n));return this},Namespace.prototype.get=function get(r){return this.nested&&this.nested[r]||null},Namespace.prototype.getEnum=function getEnum(r){if(this.nested&&this.nested[r]instanceof y)return this.nested[r].values;throw Error("no such enum: "+r)},Namespace.prototype.add=function add(r){if(!(r instanceof _&&void 0!==r.extend||r instanceof o||r instanceof y||r instanceof s||r instanceof Namespace))throw TypeError("object must be a valid nested object");if(this.nested){var n=this.get(r.name);if(n){if(!(n instanceof Namespace&&r instanceof Namespace)||n instanceof o||n instanceof s)throw Error("duplicate name '"+r.name+"' in "+this);for(var a=n.nestedArray,i=0;i<a.length;++i)r.add(a[i]);this.remove(n),this.nested||(this.nested={}),r.setOptions(n.options,!0)}}else this.nested={};return this.nested[r.name]=r,r.onAdd(this),clearCache(this)},Namespace.prototype.remove=function remove(r){if(!(r instanceof i))throw TypeError("object must be a ReflectionObject");if(r.parent!==this)throw Error(r+" is not a member of "+this);return delete this.nested[r.name],Object.keys(this.nested).length||(this.nested=void 0),r.onRemove(this),clearCache(this)},Namespace.prototype.define=function define(r,n){if(w.isString(r))r=r.split(".");else if(!Array.isArray(r))throw TypeError("illegal path");if(r&&r.length&&""===r[0])throw Error("path must be relative");for(var a=this;r.length>0;){var i=r.shift();if(a.nested&&a.nested[i]){if(!((a=a.nested[i])instanceof Namespace))throw Error("path conflicts with non-namespace objects")}else a.add(a=new Namespace(i))}return n&&a.addJSON(n),a},Namespace.prototype.resolveAll=function resolveAll(){for(var r=this.nestedArray,n=0;n<r.length;)r[n]instanceof Namespace?r[n++].resolveAll():r[n++].resolve();return this.resolve()},Namespace.prototype.lookup=function lookup(r,n,a){if("boolean"==typeof n?(a=n,n=void 0):n&&!Array.isArray(n)&&(n=[n]),w.isString(r)&&r.length){if("."===r)return this.root;r=r.split(".")}else if(!r.length)return this;if(""===r[0])return this.root.lookup(r.slice(1),n);var i=this.get(r[0]);if(i){if(1===r.length){if(!n||n.indexOf(i.constructor)>-1)return i}else if(i instanceof Namespace&&(i=i.lookup(r.slice(1),n,!0)))return i}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof Namespace&&(i=this._nestedArray[o].lookup(r,n,!0)))return i;return null===this.parent||a?null:this.parent.lookup(r,n)},Namespace.prototype.lookupType=function lookupType(r){var n=this.lookup(r,[o]);if(!n)throw Error("no such type: "+r);return n},Namespace.prototype.lookupEnum=function lookupEnum(r){var n=this.lookup(r,[y]);if(!n)throw Error("no such Enum '"+r+"' in "+this);return n},Namespace.prototype.lookupTypeOrEnum=function lookupTypeOrEnum(r){var n=this.lookup(r,[o,y]);if(!n)throw Error("no such Type or Enum '"+r+"' in "+this);return n},Namespace.prototype.lookupService=function lookupService(r){var n=this.lookup(r,[s]);if(!n)throw Error("no such Service '"+r+"' in "+this);return n},Namespace._configure=function(r,n,a){o=r,s=n,y=a}},function(r,n,a){"use strict";r.exports=Field;var i=a(105);((Field.prototype=Object.create(i.prototype)).constructor=Field).className="Field";var o,s=a(104),y=a(113),_=a(106),w=/^required|optional|repeated$/;function Field(r,n,a,o,s,E,j){if(_.isObject(o)?(j=s,E=o,o=s=void 0):_.isObject(s)&&(j=E,E=s,s=void 0),i.call(this,r,E),!_.isInteger(n)||n<0)throw TypeError("id must be a non-negative integer");if(!_.isString(a))throw TypeError("type must be a string");if(void 0!==o&&!w.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==s&&!_.isString(s))throw TypeError("extend must be a string");this.rule=o&&"optional"!==o?o:void 0,this.type=a,this.id=n,this.extend=s||void 0,this.required="required"===o,this.optional=!this.required,this.repeated="repeated"===o,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!_.Long&&void 0!==y.long[a],this.bytes="bytes"===a,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=j}Field.fromJSON=function fromJSON(r,n){return new Field(r,n.id,n.type,n.rule,n.extend,n.options,n.comment)},Object.defineProperty(Field.prototype,"packed",{get(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),Field.prototype.setOption=function setOption(r,n,a){return"packed"===r&&(this._packed=null),i.prototype.setOption.call(this,r,n,a)},Field.prototype.toJSON=function toJSON(r){var n=!!r&&!!r.keepComments;return _.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",n?this.comment:void 0])},Field.prototype.resolve=function resolve(){if(this.resolved)return this;if(void 0===(this.typeDefault=y.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof o?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof s&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof s)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=_.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var r;_.base64.test(this.typeDefault)?_.base64.decode(this.typeDefault,r=_.newBuffer(_.base64.length(this.typeDefault)),0):_.utf8.write(this.typeDefault,r=_.newBuffer(_.utf8.length(this.typeDefault)),0),this.typeDefault=r}return this.map?this.defaultValue=_.emptyObject:this.repeated?this.defaultValue=_.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof o&&(this.parent.ctor.prototype[this.name]=this.defaultValue),i.prototype.resolve.call(this)},Field.d=function decorateField(r,n,a,i){return"function"==typeof n?n=_.decorateType(n).name:n&&"object"==typeof n&&(n=_.decorateEnum(n).name),function fieldDecorator(o,s){_.decorateType(o.constructor).add(new Field(s,r,n,a,{default:i}))}},Field._configure=function configure(r){o=r}},function(r,n,a){"use strict";var i=n,o=a(106),s=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function bake(r,n){var a=0,i={};for(n|=0;a<r.length;)i[s[a+n]]=r[a++];return i}i.basic=bake([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),i.defaults=bake([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),i.long=bake([0,0,0,1,1],7),i.mapKey=bake([0,0,0,5,5,0,0,0,1,1,0,2],2),i.packed=bake([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(r,n,a){"use strict";r.exports=OneOf;var i=a(105);((OneOf.prototype=Object.create(i.prototype)).constructor=OneOf).className="OneOf";var o=a(112),s=a(106);function OneOf(r,n,a,o){if(Array.isArray(n)||(a=n,n=void 0),i.call(this,r,a),void 0!==n&&!Array.isArray(n))throw TypeError("fieldNames must be an Array");this.oneof=n||[],this.fieldsArray=[],this.comment=o}function addFieldsToParent(r){if(r.parent)for(var n=0;n<r.fieldsArray.length;++n)r.fieldsArray[n].parent||r.parent.add(r.fieldsArray[n])}OneOf.fromJSON=function fromJSON(r,n){return new OneOf(r,n.oneof,n.options,n.comment)},OneOf.prototype.toJSON=function toJSON(r){var n=!!r&&!!r.keepComments;return s.toObject(["options",this.options,"oneof",this.oneof,"comment",n?this.comment:void 0])},OneOf.prototype.add=function add(r){if(!(r instanceof o))throw TypeError("field must be a Field");return r.parent&&r.parent!==this.parent&&r.parent.remove(r),this.oneof.push(r.name),this.fieldsArray.push(r),r.partOf=this,addFieldsToParent(this),this},OneOf.prototype.remove=function remove(r){if(!(r instanceof o))throw TypeError("field must be a Field");var n=this.fieldsArray.indexOf(r);if(n<0)throw Error(r+" is not a member of "+this);return this.fieldsArray.splice(n,1),(n=this.oneof.indexOf(r.name))>-1&&this.oneof.splice(n,1),r.partOf=null,this},OneOf.prototype.onAdd=function onAdd(r){i.prototype.onAdd.call(this,r);for(var n=0;n<this.oneof.length;++n){var a=r.get(this.oneof[n]);a&&!a.partOf&&(a.partOf=this,this.fieldsArray.push(a))}addFieldsToParent(this)},OneOf.prototype.onRemove=function onRemove(r){for(var n,a=0;a<this.fieldsArray.length;++a)(n=this.fieldsArray[a]).parent&&n.parent.remove(n);i.prototype.onRemove.call(this,r)},OneOf.d=function decorateOneOf(){for(var r=Array(arguments.length),n=0;n<arguments.length;)r[n]=arguments[n++];return function oneOfDecorator(n,a){s.decorateType(n.constructor).add(new OneOf(a,r)),Object.defineProperty(n,a,{get:s.oneOfGetter(r),set:s.oneOfSetter(r)})}}},function(r,n,a){"use strict";r.exports=MapField;var i=a(112);((MapField.prototype=Object.create(i.prototype)).constructor=MapField).className="MapField";var o=a(113),s=a(106);function MapField(r,n,a,o,y,_){if(i.call(this,r,n,o,void 0,void 0,y,_),!s.isString(a))throw TypeError("keyType must be a string");this.keyType=a,this.resolvedKeyType=null,this.map=!0}MapField.fromJSON=function fromJSON(r,n){return new MapField(r,n.id,n.keyType,n.type,n.options,n.comment)},MapField.prototype.toJSON=function toJSON(r){var n=!!r&&!!r.keepComments;return s.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",n?this.comment:void 0])},MapField.prototype.resolve=function resolve(){if(this.resolved)return this;if(void 0===o.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return i.prototype.resolve.call(this)},MapField.d=function decorateMapField(r,n,a){return"function"==typeof a?a=s.decorateType(a).name:a&&"object"==typeof a&&(a=s.decorateEnum(a).name),function mapFieldDecorator(i,o){s.decorateType(i.constructor).add(new MapField(o,r,n,a))}}},function(r,n,a){"use strict";r.exports=Service;var i=a(111);((Service.prototype=Object.create(i.prototype)).constructor=Service).className="Service";var o=a(117),s=a(106),y=a(100);function Service(r,n){i.call(this,r,n),this.methods={},this._methodsArray=null}function clearCache(r){return r._methodsArray=null,r}Service.fromJSON=function fromJSON(r,n){var a=new Service(r,n.options);if(n.methods)for(var i=Object.keys(n.methods),s=0;s<i.length;++s)a.add(o.fromJSON(i[s],n.methods[i[s]]));return n.nested&&a.addJSON(n.nested),a.comment=n.comment,a},Service.prototype.toJSON=function toJSON(r){var n=i.prototype.toJSON.call(this,r),a=!!r&&!!r.keepComments;return s.toObject(["options",n&&n.options||void 0,"methods",i.arrayToJSON(this.methodsArray,r)||{},"nested",n&&n.nested||void 0,"comment",a?this.comment:void 0])},Object.defineProperty(Service.prototype,"methodsArray",{get(){return this._methodsArray||(this._methodsArray=s.toArray(this.methods))}}),Service.prototype.get=function get(r){return this.methods[r]||i.prototype.get.call(this,r)},Service.prototype.resolveAll=function resolveAll(){for(var r=this.methodsArray,n=0;n<r.length;++n)r[n].resolve();return i.prototype.resolve.call(this)},Service.prototype.add=function add(r){if(this.get(r.name))throw Error("duplicate name '"+r.name+"' in "+this);return r instanceof o?(this.methods[r.name]=r,r.parent=this,clearCache(this)):i.prototype.add.call(this,r)},Service.prototype.remove=function remove(r){if(r instanceof o){if(this.methods[r.name]!==r)throw Error(r+" is not a member of "+this);return delete this.methods[r.name],r.parent=null,clearCache(this)}return i.prototype.remove.call(this,r)},Service.prototype.create=function create(r,n,a){for(var i,o=new y.Service(r,n,a),_=0;_<this.methodsArray.length;++_){var w=s.lcFirst((i=this._methodsArray[_]).resolve().name).replace(/[^$\w_]/g,"");o[w]=s.codegen(["r","c"],s.isReserved(w)?w+"_":w)("return this.rpcCall(m,q,s,r,c)")({m:i,q:i.resolvedRequestType.ctor,s:i.resolvedResponseType.ctor})}return o}},function(r,n,a){"use strict";r.exports=Method;var i=a(105);((Method.prototype=Object.create(i.prototype)).constructor=Method).className="Method";var o=a(106);function Method(r,n,a,s,y,_,w,E){if(o.isObject(y)?(w=y,y=_=void 0):o.isObject(_)&&(w=_,_=void 0),void 0!==n&&!o.isString(n))throw TypeError("type must be a string");if(!o.isString(a))throw TypeError("requestType must be a string");if(!o.isString(s))throw TypeError("responseType must be a string");i.call(this,r,w),this.type=n||"rpc",this.requestType=a,this.requestStream=!!y||void 0,this.responseType=s,this.responseStream=!!_||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=E}Method.fromJSON=function fromJSON(r,n){return new Method(r,n.type,n.requestType,n.responseType,n.requestStream,n.responseStream,n.options,n.comment)},Method.prototype.toJSON=function toJSON(r){var n=!!r&&!!r.keepComments;return o.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",n?this.comment:void 0])},Method.prototype.resolve=function resolve(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),i.prototype.resolve.call(this))}},function(r,n,a){"use strict";r.exports=Message;var i=a(88);function Message(r){if(r)for(var n=Object.keys(r),a=0;a<n.length;++a)this[n[a]]=r[n[a]]}Message.create=function create(r){return this.$type.create(r)},Message.encode=function encode(r,n){return this.$type.encode(r,n)},Message.encodeDelimited=function encodeDelimited(r,n){return this.$type.encodeDelimited(r,n)},Message.decode=function decode(r){return this.$type.decode(r)},Message.decodeDelimited=function decodeDelimited(r){return this.$type.decodeDelimited(r)},Message.verify=function verify(r){return this.$type.verify(r)},Message.fromObject=function fromObject(r){return this.$type.fromObject(r)},Message.toObject=function toObject(r,n){return this.$type.toObject(r,n)},Message.prototype.toJSON=function toJSON(){return this.$type.toObject(this,i.toJSONOptions)}},function(r,n,a){"use strict";r.exports=function decoder(r){var n=s.codegen(["r","l"],r.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(r.fieldsArray.filter((function(r){return r.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");r.group&&n("if((t&7)===4)")("break"),n("switch(t>>>3){");for(var a=0;a<r.fieldsArray.length;++a){var y=r._fieldsArray[a].resolve(),_=y.resolvedType instanceof i?"int32":y.type,w="m"+s.safeProp(y.name);n("case %i:",y.id),y.map?(n("if(%s===util.emptyObject)",w)("%s={}",w)("var c2 = r.uint32()+r.pos"),void 0!==o.defaults[y.keyType]?n("k=%j",o.defaults[y.keyType]):n("k=null"),void 0!==o.defaults[_]?n("value=%j",o.defaults[_]):n("value=null"),n("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",y.keyType)("case 2:"),void 0===o.basic[_]?n("value=types[%i].decode(r,r.uint32())",a):n("value=r.%s()",_),n("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==o.long[y.keyType]?n('%s[typeof k==="object"?util.longToHash(k):k]=value',w):n("%s[k]=value",w)):y.repeated?(n("if(!(%s&&%s.length))",w,w)("%s=[]",w),void 0!==o.packed[_]&&n("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",w,_)("}else"),void 0===o.basic[_]?n(y.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",w,a):n("%s.push(r.%s())",w,_)):void 0===o.basic[_]?n(y.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",w,a):n("%s=r.%s()",w,_),n("break")}for(n("default:")("r.skipType(t&7)")("break")("}")("}"),a=0;a<r._fieldsArray.length;++a){var E=r._fieldsArray[a];E.required&&n("if(!m.hasOwnProperty(%j))",E.name)("throw util.ProtocolError(%j,{instance:m})",missing(E))}return n("return m")};var i=a(104),o=a(113),s=a(106);function missing(r){return"missing required '"+r.name+"'"}},function(r,n,a){"use strict";r.exports=function verifier(r){var n=o.codegen(["m"],r.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),a={};r.oneofsArray.length&&n("var p={}");for(var i=0;i<r.fieldsArray.length;++i){var s=r._fieldsArray[i].resolve(),y="m"+o.safeProp(s.name);if(s.optional&&n("if(%s!=null&&m.hasOwnProperty(%j)){",y,s.name),s.map)n("if(!util.isObject(%s))",y)("return%j",invalid(s,"object"))("var k=Object.keys(%s)",y)("for(var i=0;i<k.length;++i){"),genVerifyKey(n,s,"k[i]"),genVerifyValue(n,s,i,y+"[k[i]]")("}");else if(s.repeated)n("if(!Array.isArray(%s))",y)("return%j",invalid(s,"array"))("for(var i=0;i<%s.length;++i){",y),genVerifyValue(n,s,i,y+"[i]")("}");else{if(s.partOf){var _=o.safeProp(s.partOf.name);1===a[s.partOf.name]&&n("if(p%s===1)",_)("return%j",s.partOf.name+": multiple values"),a[s.partOf.name]=1,n("p%s=1",_)}genVerifyValue(n,s,i,y)}s.optional&&n("}")}return n("return null")};var i=a(104),o=a(106);function invalid(r,n){return r.name+": "+n+(r.repeated&&"array"!==n?"[]":r.map&&"object"!==n?"{k:"+r.keyType+"}":"")+" expected"}function genVerifyValue(r,n,a,o){if(n.resolvedType)if(n.resolvedType instanceof i){r("switch(%s){",o)("default:")("return%j",invalid(n,"enum value"));for(var s=Object.keys(n.resolvedType.values),y=0;y<s.length;++y)r("case %i:",n.resolvedType.values[s[y]]);r("break")("}")}else r("{")("var e=types[%i].verify(%s);",a,o)("if(e)")("return%j+e",n.name+".")("}");else switch(n.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":r("if(!util.isInteger(%s))",o)("return%j",invalid(n,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":r("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",invalid(n,"integer|Long"));break;case"float":case"double":r('if(typeof %s!=="number")',o)("return%j",invalid(n,"number"));break;case"bool":r('if(typeof %s!=="boolean")',o)("return%j",invalid(n,"boolean"));break;case"string":r("if(!util.isString(%s))",o)("return%j",invalid(n,"string"));break;case"bytes":r('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",invalid(n,"buffer"))}return r}function genVerifyKey(r,n,a){switch(n.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":r("if(!util.key32Re.test(%s))",a)("return%j",invalid(n,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":r("if(!util.key64Re.test(%s))",a)("return%j",invalid(n,"integer|Long key"));break;case"bool":r("if(!util.key2Re.test(%s))",a)("return%j",invalid(n,"boolean key"))}return r}},function(r,n,a){"use strict";var i=n,o=a(104),s=a(106);function genValuePartial_fromObject(r,n,a,i){if(n.resolvedType)if(n.resolvedType instanceof o){r("switch(d%s){",i);for(var s=n.resolvedType.values,y=Object.keys(s),_=0;_<y.length;++_)n.repeated&&s[y[_]]===n.typeDefault&&r("default:"),r("case%j:",y[_])("case %i:",s[y[_]])("m%s=%j",i,s[y[_]])("break");r("}")}else r('if(typeof d%s!=="object")',i)("throw TypeError(%j)",n.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,a,i);else{var w=!1;switch(n.type){case"double":case"float":r("m%s=Number(d%s)",i,i);break;case"uint32":case"fixed32":r("m%s=d%s>>>0",i,i);break;case"int32":case"sint32":case"sfixed32":r("m%s=d%s|0",i,i);break;case"uint64":w=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":r("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,w)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,w?"true":"");break;case"bytes":r('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length)",i)("m%s=d%s",i,i);break;case"string":r("m%s=String(d%s)",i,i);break;case"bool":r("m%s=Boolean(d%s)",i,i)}}return r}function genValuePartial_toObject(r,n,a,i){if(n.resolvedType)n.resolvedType instanceof o?r("d%s=o.enums===String?types[%i].values[m%s]:m%s",i,a,i,i):r("d%s=types[%i].toObject(m%s,o)",i,a,i);else{var s=!1;switch(n.type){case"double":case"float":r("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case"uint64":s=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":r('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,s?"true":"",i);break;case"bytes":r("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:r("d%s=m%s",i,i)}}return r}i.fromObject=function fromObject(r){var n=r.fieldsArray,a=s.codegen(["d"],r.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!n.length)return a("return new this.ctor");a("var m=new this.ctor");for(var i=0;i<n.length;++i){var y=n[i].resolve(),_=s.safeProp(y.name);y.map?(a("if(d%s){",_)('if(typeof d%s!=="object")',_)("throw TypeError(%j)",y.fullName+": object expected")("m%s={}",_)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",_),genValuePartial_fromObject(a,y,i,_+"[ks[i]]")("}")("}")):y.repeated?(a("if(d%s){",_)("if(!Array.isArray(d%s))",_)("throw TypeError(%j)",y.fullName+": array expected")("m%s=[]",_)("for(var i=0;i<d%s.length;++i){",_),genValuePartial_fromObject(a,y,i,_+"[i]")("}")("}")):(y.resolvedType instanceof o||a("if(d%s!=null){",_),genValuePartial_fromObject(a,y,i,_),y.resolvedType instanceof o||a("}"))}return a("return m")},i.toObject=function toObject(r){var n=r.fieldsArray.slice().sort(s.compareFieldsById);if(!n.length)return s.codegen()("return {}");for(var a=s.codegen(["m","o"],r.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],y=[],_=[],w=0;w<n.length;++w)n[w].partOf||(n[w].resolve().repeated?i:n[w].map?y:_).push(n[w]);if(i.length){for(a("if(o.arrays||o.defaults){"),w=0;w<i.length;++w)a("d%s=[]",s.safeProp(i[w].name));a("}")}if(y.length){for(a("if(o.objects||o.defaults){"),w=0;w<y.length;++w)a("d%s={}",s.safeProp(y[w].name));a("}")}if(_.length){for(a("if(o.defaults){"),w=0;w<_.length;++w){var E=_[w],j=s.safeProp(E.name);if(E.resolvedType instanceof o)a("d%s=o.enums===String?%j:%j",j,E.resolvedType.valuesById[E.typeDefault],E.typeDefault);else if(E.long)a("if(util.Long){")("var n=new util.Long(%i,%i,%j)",E.typeDefault.low,E.typeDefault.high,E.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",j)("}else")("d%s=o.longs===String?%j:%i",j,E.typeDefault.toString(),E.typeDefault.toNumber());else if(E.bytes){var q="["+[].slice.call(E.typeDefault).join(",")+"]";a("if(o.bytes===String)d%s=%j",j,String.fromCharCode.apply(String,E.typeDefault))("else{")("d%s=%s",j,q)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",j,j)("}")}else a("d%s=%j",j,E.typeDefault)}a("}")}var $=!1;for(w=0;w<n.length;++w){E=n[w];var ne=r._fieldsArray.indexOf(E);j=s.safeProp(E.name),E.map?($||($=!0,a("var ks2")),a("if(m%s&&(ks2=Object.keys(m%s)).length){",j,j)("d%s={}",j)("for(var j=0;j<ks2.length;++j){"),genValuePartial_toObject(a,E,ne,j+"[ks2[j]]")("}")):E.repeated?(a("if(m%s&&m%s.length){",j,j)("d%s=[]",j)("for(var j=0;j<m%s.length;++j){",j),genValuePartial_toObject(a,E,ne,j+"[j]")("}")):(a("if(m%s!=null&&m.hasOwnProperty(%j)){",j,E.name),genValuePartial_toObject(a,E,ne,j),E.partOf&&a("if(o.oneofs)")("d%s=%j",s.safeProp(E.partOf.name),E.name)),a("}")}return a("return d")}},function(r,n,a){"use strict";var i=n,o=a(118);i[".google.protobuf.Any"]={fromObject(r){if(r&&r["@type"]){var n=r["@type"].substring(r["@type"].lastIndexOf("/")+1),a=this.lookup(n);if(a){var i="."===r["@type"].charAt(0)?r["@type"].substr(1):r["@type"];return-1===i.indexOf("/")&&(i="/"+i),this.create({type_url:i,value:a.encode(a.fromObject(r)).finish()})}}return this.fromObject(r)},toObject(r,n){var a="",i="";if(n&&n.json&&r.type_url&&r.value){i=r.type_url.substring(r.type_url.lastIndexOf("/")+1),a=r.type_url.substring(0,r.type_url.lastIndexOf("/")+1);var s=this.lookup(i);s&&(r=s.decode(r.value))}if(!(r instanceof this.ctor)&&r instanceof o){var y=r.$type.toObject(r,n);return""===a&&(a="type.googleapis.com/"),i=a+("."===r.$type.fullName[0]?r.$type.fullName.substr(1):r.$type.fullName),y["@type"]=i,y}return this.toObject(r,n)}}},function(r,n,a){"use strict";r.exports=Root;var i=a(111);((Root.prototype=Object.create(i.prototype)).constructor=Root).className="Root";var o,s,y,_=a(112),w=a(104),E=a(114),j=a(106);function Root(r){i.call(this,"",r),this.deferred=[],this.files=[]}function SYNC(){}Root.fromJSON=function fromJSON(r,n){return n||(n=new Root),r.options&&n.setOptions(r.options),n.addJSON(r.nested)},Root.prototype.resolvePath=j.path.resolve,Root.prototype.fetch=j.fetch,Root.prototype.load=function load(r,n,a){"function"==typeof n&&(a=n,n=void 0);var i=this;if(!a)return j.asPromise(load,i,r,n);var o=a===SYNC;function finish(r,n){if(a){var i=a;if(a=null,o)throw r;i(r,n)}}function getBundledFileName(r){var n=r.lastIndexOf("google/protobuf/");if(n>-1){var a=r.substring(n);if(a in y)return a}return null}function process(r,a){try{if(j.isString(a)&&"{"===a.charAt(0)&&(a=JSON.parse(a)),j.isString(a)){s.filename=r;var y,w=s(a,i,n),E=0;if(w.imports)for(;E<w.imports.length;++E)(y=getBundledFileName(w.imports[E])||i.resolvePath(r,w.imports[E]))&&fetch(y);if(w.weakImports)for(E=0;E<w.weakImports.length;++E)(y=getBundledFileName(w.weakImports[E])||i.resolvePath(r,w.weakImports[E]))&&fetch(y,!0)}else i.setOptions(a.options).addJSON(a.nested)}catch(r){finish(r)}o||_||finish(null,i)}function fetch(r,n){if(!(i.files.indexOf(r)>-1))if(i.files.push(r),r in y)o?process(r,y[r]):(++_,setTimeout((function(){--_,process(r,y[r])})));else if(o){var s;try{s=j.fs.readFileSync(r).toString("utf8")}catch(r){return void(n||finish(r))}process(r,s)}else++_,i.fetch(r,(function(o,s){--_,a&&(o?n?_||finish(null,i):finish(o):process(r,s))}))}var _=0;j.isString(r)&&(r=[r]);for(var w,E=0;E<r.length;++E)(w=i.resolvePath("",r[E]))&&fetch(w);if(o)return i;_||finish(null,i)},Root.prototype.loadSync=function loadSync(r,n){if(!j.isNode)throw Error("not supported");return this.load(r,n,SYNC)},Root.prototype.resolveAll=function resolveAll(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(r){return"'extend "+r.extend+"' in "+r.parent.fullName})).join(", "));return i.prototype.resolveAll.call(this)};var q=/^[A-Z]/;function tryHandleExtension(r,n){var a=n.parent.lookup(n.extend);if(a){var i=new _(n.fullName,n.id,n.type,n.rule,void 0,n.options);return i.declaringField=n,n.extensionField=i,a.add(i),!0}return!1}Root.prototype._handleAdd=function _handleAdd(r){if(r instanceof _)void 0===r.extend||r.extensionField||tryHandleExtension(0,r)||this.deferred.push(r);else if(r instanceof w)q.test(r.name)&&(r.parent[r.name]=r.values);else if(!(r instanceof E)){if(r instanceof o)for(var n=0;n<this.deferred.length;)tryHandleExtension(0,this.deferred[n])?this.deferred.splice(n,1):++n;for(var a=0;a<r.nestedArray.length;++a)this._handleAdd(r._nestedArray[a]);q.test(r.name)&&(r.parent[r.name]=r)}},Root.prototype._handleRemove=function _handleRemove(r){if(r instanceof _){if(void 0!==r.extend)if(r.extensionField)r.extensionField.parent.remove(r.extensionField),r.extensionField=null;else{var n=this.deferred.indexOf(r);n>-1&&this.deferred.splice(n,1)}}else if(r instanceof w)q.test(r.name)&&delete r.parent[r.name];else if(r instanceof i){for(var a=0;a<r.nestedArray.length;++a)this._handleRemove(r._nestedArray[a]);q.test(r.name)&&delete r.parent[r.name]}},Root._configure=function(r,n,a){o=r,s=n,y=a}},function(r){r.exports=JSON.parse('{"nested":{"hiber":{"nested":{"CreateWorldRequest":{"fields":{"id":{"type":"uint32","id":1,"options":{}},"name":{"type":"string","id":2,"options":{}},"description":{"type":"string","id":3,"options":{}},"visibility":{"type":"uint32","id":4,"options":{}},"world":{"type":"World","id":5,"options":{}}}},"World":{"fields":{"id":{"type":"string","id":1,"options":{}},"name":{"type":"string","id":2,"options":{}},"description":{"type":"string","id":3,"options":{}},"environment":{"type":"Environment","id":4,"options":{}},"modules":{"rule":"repeated","type":"Module","id":5,"options":{}},"credits":{"type":"Credits","id":6,"options":{}}}},"CreditItem":{"fields":{"credits":{"type":"string","id":1,"options":{}},"name":{"type":"string","id":2,"options":{}},"url":{"type":"string","id":3,"options":{}},"license":{"type":"string","id":4,"options":{}}}},"Credits":{"fields":{"artifact":{"rule":"repeated","type":"CreditItem","id":1,"options":{}},"material":{"rule":"repeated","type":"CreditItem","id":2,"options":{}},"sound":{"rule":"repeated","type":"CreditItem","id":3,"options":{}}}},"Environment":{"fields":{"soundPath":{"type":"string","id":1,"options":{}},"particles":{"type":"string","id":2,"options":{}},"skybox":{"type":"string","id":3,"options":{}},"skyColor":{"type":"string","id":4,"options":{}},"lightColor":{"type":"string","id":5,"options":{}},"environmentPreset":{"type":"string","id":6,"options":{}},"ambientLightStrength":{"type":"float","id":7,"options":{}},"fog":{"type":"float","id":8,"options":{}},"directionalLightStrength":{"type":"float","id":9,"options":{}},"sunPosition":{"type":"Vector3","id":10,"options":{}}}},"Module":{"fields":{"id":{"type":"string","id":1,"options":{}},"type":{"type":"string","id":2,"options":{}},"material":{"type":"Material","id":3,"options":{}},"editor":{"type":"EditorProps","id":4,"options":{}},"properties":{"type":"ModuleProps","id":5,"options":{}},"transform":{"type":"Transform","id":6,"options":{}},"children":{"rule":"repeated","type":"Module","id":7,"options":{}},"behaviours":{"rule":"repeated","type":"Behaviour","id":8,"options":{}},"attachments":{"rule":"repeated","type":"Attachment","id":9,"options":{}},"components":{"type":"string","id":10,"options":{}}}},"Material":{"fields":{"id":{"type":"string","id":1,"options":{}},"baseMaterial":{"type":"string","id":2,"options":{}},"color":{"type":"string","id":3,"options":{}},"repeats":{"type":"uint32","id":4,"options":{}},"shininess":{"type":"uint32","id":5,"options":{}},"lightDistance":{"type":"uint32","id":6,"options":{}},"lightIntensity":{"type":"uint32","id":7,"options":{}}}},"Behaviour":{"fields":{"name":{"type":"string","id":1,"options":{}},"index":{"type":"uint32","id":2,"options":{}},"settings":{"type":"BehaviourSettings","id":3,"options":{}}}},"BehaviourSettings":{"fields":{"duration":{"type":"uint32","id":1,"options":{}},"endValue":{"type":"uint32","id":2,"options":{}},"repeat":{"type":"int32","id":3,"options":{}},"yoyo":{"type":"bool","id":4,"options":{}}}},"Attachment":{"fields":{"type":{"type":"string","id":1,"options":{}},"intensity":{"type":"uint32","id":2,"options":{}},"distanceMultiplier":{"type":"uint32","id":3,"options":{}},"color":{"type":"string","id":4,"options":{}}}},"Transform":{"fields":{"position":{"type":"Vector3","id":1,"options":{}},"scale":{"type":"Vector3","id":2,"options":{}},"rotation":{"type":"Vector3","id":3,"options":{}}}},"EditorProps":{"fields":{"name":{"type":"string","id":1,"options":{}},"locked":{"type":"uint32","id":2,"options":{}},"tags":{"type":"string","id":3,"options":{}},"placementOrder":{"type":"uint32","id":4,"options":{"default":0}}}},"ModuleProps":{"fields":{"physicality":{"type":"uint32","id":1,"options":{}},"friction":{"type":"float","id":2,"options":{}},"restitution":{"type":"float","id":3,"options":{}},"mass":{"type":"float","id":4,"options":{}},"size":{"type":"Vector3","id":5,"options":{}},"link":{"type":"string","id":6,"options":{}},"light":{"type":"uint32","id":7,"options":{}},"materialScale":{"type":"float","id":8,"options":{"default":1}},"motifId":{"type":"uint32","id":9,"options":{}}}},"Vector4":{"fields":{"x":{"type":"float","id":1,"options":{}},"y":{"type":"float","id":2,"options":{}},"z":{"type":"float","id":3,"options":{}},"w":{"type":"float","id":4,"options":{}}}},"Vector3":{"fields":{"x":{"type":"float","id":1,"options":{}},"y":{"type":"float","id":2,"options":{}},"z":{"type":"float","id":3,"options":{}}}},"Color":{"fields":{"r":{"type":"float","id":1,"options":{}},"g":{"type":"float","id":2,"options":{}},"b":{"type":"float","id":3,"options":{}}}}}}}}')},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.reportContent=n.saveChatMessage=n.createBasicProject=n.signUpUser=n.setAuth=n.signInUser=n.isSignedIn=n.fetchRecommendedProjects=n.postScore=n.removeThumbnail=n.replaceThumbnail=n.saveThumbnail=n.saveProject=n.compressData=n.request=n.requestXML=n.getUserID=n.getRID=n.getLoginToken=n.getCookie=n.setCookie=void 0;const i=a(6),o=a(8),s=a(18),y=a(126),_=a(133),w=a(67),{studioUrl:E}=i.default;n.setCookie=function setCookie(r,n){const a=new Date;a.setTime(a.getTime()+31536e6),document.cookie=`${r}=${n}; expires=${a.toUTCString()}; path=/`},n.getCookie=r=>{const n=("; "+document.cookie).split(`; ${r}=`);return 2===n.length&&n.pop().split(";").shift()||null},n.getLoginToken=()=>window.AUTH_TOKEN||n.getCookie("token"),n.getRID=()=>window.RID||n.getCookie("rid"),n.getUserID=()=>window.USER_ID||n.getCookie("userId"),n.requestXML=async(r,a,i,o)=>{const s=new XMLHttpRequest;s.open("GET",r),s.withCredentials=!0,s.setRequestHeader("Content-Type",i||"text/plain"),!o&&n.getLoginToken()&&s.setRequestHeader("Authorization","Bearer "+n.getLoginToken()),s.send(a)},n.request=async(r,a,i,o)=>{const s=new Headers;!o&&n.getLoginToken()&&s.append("Authorization","Bearer "+n.getLoginToken());const y=n.getRID();!o&&y&&s.append("trck",y),i&&s.append("Content-Type",i);let _=0;if(null==a?void 0:a.timeout){const r=new AbortController;_=setTimeout(()=>r.abort(),null==a?void 0:a.timeout),a.signal=r.signal}return fetch(r,Object.assign({method:"get",headers:s},a)).then(r=>(_&&clearTimeout(_),r))},n.compressData=r=>{const n=new TextEncoder,a="object"==typeof r?JSON.stringify(r):r,i=n.encode(a);return y.compress(i)},n.saveProject=async(r,a,i=!1,o=0)=>{console.log("Saving project..."),w.startBenchmark("serializeProject");const s=(new TextEncoder).encode(JSON.stringify({doPublish:i,gamekit:o,data:a})),_=y.compress(s);w.finishBenchmark("serializeProject");const j=await n.request(`${E}/api/project/save/${r}`,{method:"PUT",body:_,timeout:1e4},"application/octet-stream"),q=await j.json();return console.log("Saved project!"),q},n.saveThumbnail=async r=>{const a=o.entityManager.getOrCreateSingleton(_.default);o.entityManager.updateSingleton(_.default,{thumbnailCount:a.thumbnailCount+1});const i=await n.request(`${E}/api/project/${a.projectId}/images`,{method:"POST",body:r},"image/jpeg");return await i.json()},n.replaceThumbnail=async r=>{const a=o.entityManager.getOrCreateSingleton(_.default),i=await n.request(`${E}/api/project/${a.projectId}/images/replace_thumbnail`,{method:"POST",body:r},"image/jpeg");return await i.json()},n.removeThumbnail=async r=>(await n.request(`${E}/api/project/thumbnails/${r}`,{method:"DELETE"})).json(),n.postScore=async(r,a,i,o)=>{const y=Date.now(),_=s.default.xfnv1a(`${r}_${a}_${i}_${y}`),w=await n.request(`${E}/api/project/${r}/score`,{method:"POST",body:JSON.stringify({id:r,score:a,type:i,hash:_(),data:o,time:y,platform:s.default.isMobile()?1:0})},"application/json");return await w.json()},n.fetchRecommendedProjects=async r=>{const a=`\n  {\n    getRecommendations(projectId: ${o.entityManager.getOrCreateSingleton(_.default).projectId}, payload: {first: ${r}}) {\n      edges {\n        node {\n          id\n          title\n          description\n          views\n          totalViews\n          tags\n          playUrl\n          author {\n            id\n            username\n          }\n          thumbnail {\n            id\n            medium {\n              width\n              height\n              url\n            }\n          }\n        }\n      }\n    }\n  }\n  `,i=await n.request(E+"/api/gql",{method:"POST",body:JSON.stringify({query:a})},"application/json"),s=await i.json();return s.data&&s.data.getRecommendations.edges.map(({node:r})=>({project:r}))},n.isSignedIn=()=>!!n.getLoginToken(),n.signInUser=r=>{return fetch(E+"/api/gql",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({query:(n=r.username,a=r.password,`\nmutation loginUser {\n  loginUser(login: { username: "${n}", password: "${a}" }) {\n    token\n    user {\n      id\n      username\n      facebookId\n      totalPublishedGames\n      session {\n        id\n      }\n      avatar {\n        appearance {\n          name\n        }\n      }\n      suspension {\n        id\n      }\n      \n    }\n  }\n}\n`)})}).then(r=>{if(200!==r.status)throw Error(r.status.toString());return r.json()}).catch(r=>{console.error(r)});var n,a},n.setAuth=async({token:r,userId:n})=>{await fetch(i.default.appUrl+"/setLoginCookie",{method:"POST",body:`${r};${n}`,headers:{"Content-Type":"text/plain"},credentials:"include"})},n.signUpUser=r=>fetch(E+"/api/gql",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST",body:JSON.stringify({query:"\n  mutation createUser($username: String!, $password: String!, $birthdate: Date!) {\n    createUser(payload: { username: $username, password: $password, birthdate: $birthdate }) {\n      token\n      user {\n        id\n        username\n      }\n    }\n  }\n",variables:r})}).then(r=>{if(200!==r.status)throw Error(r.status.toString());return r.json()}).catch(r=>{console.error(r)});const getCreateBasicProjectMutation=(r,n)=>`\n  mutation CreateProject {\n    createProject(payload: { title: "${r}", isSnapMode: ${n}, description: "" }) {\n      id\n      title\n      description\n      isOwner\n      isPublished\n      disableComments\n      canEdit\n      dataUrl (public: true)\n      viewUrl\n      difficulty\n      engineVersion\n      projectType\n    }\n  }\n`;n.createBasicProject=async(r,a)=>{const i=await n.request(E+"/api/gql",{method:"POST",body:JSON.stringify({query:getCreateBasicProjectMutation(r,a)})},"application/json");if(200!==i.status)throw Error(i.status.toString());return i.json()};const getSaveChatMessageMutation=(r,n,a,i)=>`\n  mutation {\n    createMessage(payload: {text:"${r}", roomId: "${n}", projectId: ${a}, projectGameKit: ${i}}) {\n      moderatorVersion\n      confidence\n      result\n      recommendation\n      resultDesc\n      recommendationDesc\n    }\n  }\n`;n.saveChatMessage=async(r,a,i,o)=>{const s=await n.request(E+"/api/gql",{method:"POST",body:JSON.stringify({query:getSaveChatMessageMutation(r,a,i,o)})},"application/json");if(200!==s.status)throw Error(s.status.toString());return(await s.json()).data.createMessage};const getReportContentMutation=(r,n,a,i,o)=>`\n  mutation {\n    reportContent(\n      payload: {\n        id: ${r}\n        contentType: ${n}\n        reason: ${a}\n        reasonText: "${i}"\n        rootContentId: ${r}\n        reportedUser: ${r}\n        projectId: ${o}\n      }\n    ) {\n      id\n    }\n  }\n`;n.reportContent=async(r,a,i,o,s)=>{const y=await n.request(E+"/api/gql",{method:"POST",body:JSON.stringify({query:getReportContentMutation(r,a,i,o,s)})},"application/json");if(200!==y.status)throw Error(y.status.toString());return y.json()}},function(r,n,a){"use strict";!function(r,i){function isNode(){return"object"==typeof r&&"object"==typeof r.versions&&void 0!==r.versions.node}function isUint8Array(r){return r instanceof Uint8Array&&(!isNode()||!i.isBuffer(r))}function isArrayBuffer(r){return r instanceof ArrayBuffer}function isBuffer(r){return!!isNode()&&i.isBuffer(r)}var o=a(131).SnappyDecompressor,s=a(132).SnappyCompressor,y="Argument compressed must be type of ArrayBuffer, Buffer, or Uint8Array";n.uncompress=function uncompress(r){if(!isUint8Array(r)&&!isArrayBuffer(r)&&!isBuffer(r))throw new TypeError(y);var n=!1,a=!1;isUint8Array(r)?n=!0:isArrayBuffer(r)&&(a=!0,r=new Uint8Array(r));var s,_,w=new o(r),E=w.readUncompressedLength();if(-1===E)throw Error("Invalid Snappy bitstream");if(n){if(s=new Uint8Array(E),!w.uncompressToBuffer(s))throw Error("Invalid Snappy bitstream")}else if(a){if(s=new ArrayBuffer(E),_=new Uint8Array(s),!w.uncompressToBuffer(_))throw Error("Invalid Snappy bitstream")}else if(s=i.alloc(E),!w.uncompressToBuffer(s))throw Error("Invalid Snappy bitstream");return s},n.compress=function compress(r){if(!isUint8Array(r)&&!isArrayBuffer(r)&&!isBuffer(r))throw new TypeError(y);var n=!1,a=!1;isUint8Array(r)?n=!0:isArrayBuffer(r)&&(a=!0,r=new Uint8Array(r));var o,_,w,E=new s(r),j=E.maxCompressedLength();return n?(o=new Uint8Array(j),w=E.compressToBuffer(o)):a?(o=new ArrayBuffer(j),_=new Uint8Array(o),w=E.compressToBuffer(_)):(o=i.alloc(j),w=E.compressToBuffer(o)),o.slice(0,w)}}(a(2),a(127).Buffer)},function(r,n,a){"use strict";!function(r){var i=a(128),o=a(129),s=a(130);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(r,n){if(kMaxLength()<n)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(n)).__proto__=Buffer.prototype:(null===r&&(r=new Buffer(n)),r.length=n),r}function Buffer(r,n,a){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(r,n,a);if("number"==typeof r){if("string"==typeof n)throw Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,r)}return from(this,r,n,a)}function from(r,n,a,i){if("number"==typeof n)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer?function fromArrayBuffer(r,n,a,i){if(n.byteLength,a<0||n.byteLength<a)throw new RangeError("'offset' is out of bounds");if(n.byteLength<a+(i||0))throw new RangeError("'length' is out of bounds");return n=void 0===a&&void 0===i?new Uint8Array(n):void 0===i?new Uint8Array(n,a):new Uint8Array(n,a,i),Buffer.TYPED_ARRAY_SUPPORT?(r=n).__proto__=Buffer.prototype:r=fromArrayLike(r,n),r}(r,n,a,i):"string"==typeof n?function fromString(r,n,a){if("string"==typeof a&&""!==a||(a="utf8"),!Buffer.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');var i=0|byteLength(n,a),o=(r=createBuffer(r,i)).write(n,a);return o!==i&&(r=r.slice(0,o)),r}(r,n,a):function fromObject(r,n){if(Buffer.isBuffer(n)){var a=0|checked(n.length);return 0===(r=createBuffer(r,a)).length||n.copy(r,0,0,a),r}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||function isnan(r){return r!=r}(n.length)?createBuffer(r,0):fromArrayLike(r,n);if("Buffer"===n.type&&s(n.data))return fromArrayLike(r,n.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(r,n)}function assertSize(r){if("number"!=typeof r)throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(r,n){if(assertSize(n),r=createBuffer(r,n<0?0:0|checked(n)),!Buffer.TYPED_ARRAY_SUPPORT)for(var a=0;a<n;++a)r[a]=0;return r}function fromArrayLike(r,n){var a=n.length<0?0:0|checked(n.length);r=createBuffer(r,a);for(var i=0;i<a;i+=1)r[i]=255&n[i];return r}function checked(r){if(r>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|r}function byteLength(r,n){if(Buffer.isBuffer(r))return r.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;"string"!=typeof r&&(r=""+r);var a=r.length;if(0===a)return 0;for(var i=!1;;)switch(n){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":case void 0:return utf8ToBytes(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*a;case"hex":return a>>>1;case"base64":return base64ToBytes(r).length;default:if(i)return utf8ToBytes(r).length;n=(""+n).toLowerCase(),i=!0}}function slowToString(r,n,a){var i=!1;if((void 0===n||n<0)&&(n=0),n>this.length)return"";if((void 0===a||a>this.length)&&(a=this.length),a<=0)return"";if((a>>>=0)<=(n>>>=0))return"";for(r||(r="utf8");;)switch(r){case"hex":return hexSlice(this,n,a);case"utf8":case"utf-8":return utf8Slice(this,n,a);case"ascii":return asciiSlice(this,n,a);case"latin1":case"binary":return latin1Slice(this,n,a);case"base64":return base64Slice(this,n,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,n,a);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),i=!0}}function swap(r,n,a){var i=r[n];r[n]=r[a],r[a]=i}function bidirectionalIndexOf(r,n,a,i,o){if(0===r.length)return-1;if("string"==typeof a?(i=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),isNaN(a=+a)&&(a=o?0:r.length-1),a<0&&(a=r.length+a),a>=r.length){if(o)return-1;a=r.length-1}else if(a<0){if(!o)return-1;a=0}if("string"==typeof n&&(n=Buffer.from(n,i)),Buffer.isBuffer(n))return 0===n.length?-1:arrayIndexOf(r,n,a,i,o);if("number"==typeof n)return n&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(r,n,a):Uint8Array.prototype.lastIndexOf.call(r,n,a):arrayIndexOf(r,[n],a,i,o);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(r,n,a,i,o){var s,y=1,_=r.length,w=n.length;if(void 0!==i&&("ucs2"===(i=(i+"").toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(r.length<2||n.length<2)return-1;y=2,_/=2,w/=2,a/=2}function read(r,n){return 1===y?r[n]:r.readUInt16BE(n*y)}if(o){var E=-1;for(s=a;s<_;s++)if(read(r,s)===read(n,-1===E?0:s-E)){if(-1===E&&(E=s),s-E+1===w)return E*y}else-1!==E&&(s-=s-E),E=-1}else for(a+w>_&&(a=_-w),s=a;s>=0;s--){for(var j=!0,q=0;q<w;q++)if(read(r,s+q)!==read(n,q)){j=!1;break}if(j)return s}return-1}function hexWrite(r,n,a,i){a=+a||0;var o=r.length-a;i?(i=+i)>o&&(i=o):i=o;var s=n.length;if(s%2!=0)throw new TypeError("Invalid hex string");i>s/2&&(i=s/2);for(var y=0;y<i;++y){var _=parseInt(n.substr(2*y,2),16);if(isNaN(_))return y;r[a+y]=_}return y}function utf8Write(r,n,a,i){return blitBuffer(utf8ToBytes(n,r.length-a),r,a,i)}function asciiWrite(r,n,a,i){return blitBuffer(function asciiToBytes(r){for(var n=[],a=0;a<r.length;++a)n.push(255&r.charCodeAt(a));return n}(n),r,a,i)}function latin1Write(r,n,a,i){return asciiWrite(r,n,a,i)}function base64Write(r,n,a,i){return blitBuffer(base64ToBytes(n),r,a,i)}function ucs2Write(r,n,a,i){return blitBuffer(function utf16leToBytes(r,n){for(var a,i,o,s=[],y=0;y<r.length&&!((n-=2)<0);++y)i=(a=r.charCodeAt(y))>>8,o=a%256,s.push(o),s.push(i);return s}(n,r.length-a),r,a,i)}function base64Slice(r,n,a){return 0===n&&a===r.length?i.fromByteArray(r):i.fromByteArray(r.slice(n,a))}function utf8Slice(r,n,a){a=Math.min(r.length,a);for(var i=[],o=n;o<a;){var s,y,_,w,E=r[o],j=null,q=E>239?4:E>223?3:E>191?2:1;if(o+q<=a)switch(q){case 1:E<128&&(j=E);break;case 2:128==(192&(s=r[o+1]))&&(w=(31&E)<<6|63&s)>127&&(j=w);break;case 3:s=r[o+1],y=r[o+2],128==(192&s)&&128==(192&y)&&(w=(15&E)<<12|(63&s)<<6|63&y)>2047&&(w<55296||w>57343)&&(j=w);break;case 4:s=r[o+1],y=r[o+2],_=r[o+3],128==(192&s)&&128==(192&y)&&128==(192&_)&&(w=(15&E)<<18|(63&s)<<12|(63&y)<<6|63&_)>65535&&w<1114112&&(j=w)}null===j?(j=65533,q=1):j>65535&&(j-=65536,i.push(j>>>10&1023|55296),j=56320|1023&j),i.push(j),o+=q}return function decodeCodePointsArray(r){var n=r.length;if(n<=4096)return String.fromCharCode.apply(String,r);for(var a="",i=0;i<n;)a+=String.fromCharCode.apply(String,r.slice(i,i+=4096));return a}(i)}function asciiSlice(r,n,a){var i="";a=Math.min(r.length,a);for(var o=n;o<a;++o)i+=String.fromCharCode(127&r[o]);return i}function latin1Slice(r,n,a){var i="";a=Math.min(r.length,a);for(var o=n;o<a;++o)i+=String.fromCharCode(r[o]);return i}function hexSlice(r,n,a){var i,o=r.length;(!n||n<0)&&(n=0),(!a||a<0||a>o)&&(a=o);for(var s="",y=n;y<a;++y)s+=(i=r[y])<16?"0"+i.toString(16):i.toString(16);return s}function utf16leSlice(r,n,a){for(var i=r.slice(n,a),o="",s=0;s<i.length;s+=2)o+=String.fromCharCode(i[s]+256*i[s+1]);return o}function checkOffset(r,n,a){if(r%1!=0||r<0)throw new RangeError("offset is not uint");if(r+n>a)throw new RangeError("Trying to access beyond buffer length")}function checkInt(r,n,a,i,o,s){if(!Buffer.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<s)throw new RangeError('"value" argument is out of bounds');if(a+i>r.length)throw new RangeError("Index out of range")}function objectWriteUInt16(r,n,a,i){n<0&&(n=65535+n+1);for(var o=0,s=Math.min(r.length-a,2);o<s;++o)r[a+o]=(n&255<<8*(i?o:1-o))>>>8*(i?o:1-o)}function objectWriteUInt32(r,n,a,i){n<0&&(n=4294967295+n+1);for(var o=0,s=Math.min(r.length-a,4);o<s;++o)r[a+o]=n>>>8*(i?o:3-o)&255}function checkIEEE754(r,n,a,i,o,s){if(a+i>r.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function writeFloat(r,n,a,i,s){return s||checkIEEE754(r,0,a,4),o.write(r,n,a,i,23,4),a+4}function writeDouble(r,n,a,i,s){return s||checkIEEE754(r,0,a,8),o.write(r,n,a,i,52,8),a+8}n.Buffer=Buffer,n.SlowBuffer=function SlowBuffer(r){return+r!=r&&(r=0),Buffer.alloc(+r)},n.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var r=new Uint8Array(1);return r.__proto__={__proto__:Uint8Array.prototype,foo:()=>42},42===r.foo()&&"function"==typeof r.subarray&&0===r.subarray(1,1).byteLength}catch(r){return!1}}(),n.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(r){return r.__proto__=Buffer.prototype,r},Buffer.from=function(r,n,a){return from(null,r,n,a)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(r,n,a){return function alloc(r,n,a,i){return assertSize(n),n<=0?createBuffer(r,n):void 0!==a?"string"==typeof i?createBuffer(r,n).fill(a,i):createBuffer(r,n).fill(a):createBuffer(r,n)}(null,r,n,a)},Buffer.allocUnsafe=function(r){return allocUnsafe(null,r)},Buffer.allocUnsafeSlow=function(r){return allocUnsafe(null,r)},Buffer.isBuffer=function isBuffer(r){return!(null==r||!r._isBuffer)},Buffer.compare=function compare(r,n){if(!Buffer.isBuffer(r)||!Buffer.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(r===n)return 0;for(var a=r.length,i=n.length,o=0,s=Math.min(a,i);o<s;++o)if(r[o]!==n[o]){a=r[o],i=n[o];break}return a<i?-1:i<a?1:0},Buffer.isEncoding=function isEncoding(r){switch((r+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(r,n){if(!s(r))throw new TypeError('"list" argument must be an Array of Buffers');if(0===r.length)return Buffer.alloc(0);var a;if(void 0===n)for(n=0,a=0;a<r.length;++a)n+=r[a].length;var i=Buffer.allocUnsafe(n),o=0;for(a=0;a<r.length;++a){var y=r[a];if(!Buffer.isBuffer(y))throw new TypeError('"list" argument must be an Array of Buffers');y.copy(i,o),o+=y.length}return i},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var r=this.length;if(r%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<r;n+=2)swap(this,n,n+1);return this},Buffer.prototype.swap32=function swap32(){var r=this.length;if(r%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<r;n+=4)swap(this,n,n+3),swap(this,n+1,n+2);return this},Buffer.prototype.swap64=function swap64(){var r=this.length;if(r%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<r;n+=8)swap(this,n,n+7),swap(this,n+1,n+6),swap(this,n+2,n+5),swap(this,n+3,n+4);return this},Buffer.prototype.toString=function toString(){var r=0|this.length;return 0===r?"":0===arguments.length?utf8Slice(this,0,r):slowToString.apply(this,arguments)},Buffer.prototype.equals=function equals(r){if(!Buffer.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r||0===Buffer.compare(this,r)},Buffer.prototype.inspect=function inspect(){var r="",a=n.INSPECT_MAX_BYTES;return this.length>0&&(r=this.toString("hex",0,a).match(/.{2}/g).join(" "),this.length>a&&(r+=" ... ")),"<Buffer "+r+">"},Buffer.prototype.compare=function compare(r,n,a,i,o){if(!Buffer.isBuffer(r))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===a&&(a=r?r.length:0),void 0===i&&(i=0),void 0===o&&(o=this.length),n<0||a>r.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&n>=a)return 0;if(i>=o)return-1;if(n>=a)return 1;if(this===r)return 0;for(var s=(o>>>=0)-(i>>>=0),y=(a>>>=0)-(n>>>=0),_=Math.min(s,y),w=this.slice(i,o),E=r.slice(n,a),j=0;j<_;++j)if(w[j]!==E[j]){s=w[j],y=E[j];break}return s<y?-1:y<s?1:0},Buffer.prototype.includes=function includes(r,n,a){return-1!==this.indexOf(r,n,a)},Buffer.prototype.indexOf=function indexOf(r,n,a){return bidirectionalIndexOf(this,r,n,a,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(r,n,a){return bidirectionalIndexOf(this,r,n,a,!1)},Buffer.prototype.write=function write(r,n,a,i){if(void 0===n)i="utf8",a=this.length,n=0;else if(void 0===a&&"string"==typeof n)i=n,a=this.length,n=0;else{if(!isFinite(n))throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(a)?(a|=0,void 0===i&&(i="utf8")):(i=a,a=void 0)}var o=this.length-n;if((void 0===a||a>o)&&(a=o),r.length>0&&(a<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var s=!1;;)switch(i){case"hex":return hexWrite(this,r,n,a);case"utf8":case"utf-8":return utf8Write(this,r,n,a);case"ascii":return asciiWrite(this,r,n,a);case"latin1":case"binary":return latin1Write(this,r,n,a);case"base64":return base64Write(this,r,n,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,r,n,a);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:[].slice.call(this._arr||this,0)}},Buffer.prototype.slice=function slice(r,n){var a,i=this.length;if((r=~~r)<0?(r+=i)<0&&(r=0):r>i&&(r=i),(n=void 0===n?i:~~n)<0?(n+=i)<0&&(n=0):n>i&&(n=i),n<r&&(n=r),Buffer.TYPED_ARRAY_SUPPORT)(a=this.subarray(r,n)).__proto__=Buffer.prototype;else{var o=n-r;a=new Buffer(o,void 0);for(var s=0;s<o;++s)a[s]=this[s+r]}return a},Buffer.prototype.readUIntLE=function readUIntLE(r,n,a){r|=0,n|=0,a||checkOffset(r,n,this.length);for(var i=this[r],o=1,s=0;++s<n&&(o*=256);)i+=this[r+s]*o;return i},Buffer.prototype.readUIntBE=function readUIntBE(r,n,a){r|=0,n|=0,a||checkOffset(r,n,this.length);for(var i=this[r+--n],o=1;n>0&&(o*=256);)i+=this[r+--n]*o;return i},Buffer.prototype.readUInt8=function readUInt8(r,n){return n||checkOffset(r,1,this.length),this[r]},Buffer.prototype.readUInt16LE=function readUInt16LE(r,n){return n||checkOffset(r,2,this.length),this[r]|this[r+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(r,n){return n||checkOffset(r,2,this.length),this[r]<<8|this[r+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(r,n){return n||checkOffset(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+16777216*this[r+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(r,n){return n||checkOffset(r,4,this.length),16777216*this[r]+(this[r+1]<<16|this[r+2]<<8|this[r+3])},Buffer.prototype.readIntLE=function readIntLE(r,n,a){r|=0,n|=0,a||checkOffset(r,n,this.length);for(var i=this[r],o=1,s=0;++s<n&&(o*=256);)i+=this[r+s]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*n)),i},Buffer.prototype.readIntBE=function readIntBE(r,n,a){r|=0,n|=0,a||checkOffset(r,n,this.length);for(var i=n,o=1,s=this[r+--i];i>0&&(o*=256);)s+=this[r+--i]*o;return s>=(o*=128)&&(s-=Math.pow(2,8*n)),s},Buffer.prototype.readInt8=function readInt8(r,n){return n||checkOffset(r,1,this.length),128&this[r]?-1*(255-this[r]+1):this[r]},Buffer.prototype.readInt16LE=function readInt16LE(r,n){n||checkOffset(r,2,this.length);var a=this[r]|this[r+1]<<8;return 32768&a?4294901760|a:a},Buffer.prototype.readInt16BE=function readInt16BE(r,n){n||checkOffset(r,2,this.length);var a=this[r+1]|this[r]<<8;return 32768&a?4294901760|a:a},Buffer.prototype.readInt32LE=function readInt32LE(r,n){return n||checkOffset(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(r,n){return n||checkOffset(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},Buffer.prototype.readFloatLE=function readFloatLE(r,n){return n||checkOffset(r,4,this.length),o.read(this,r,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(r,n){return n||checkOffset(r,4,this.length),o.read(this,r,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(r,n){return n||checkOffset(r,8,this.length),o.read(this,r,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(r,n){return n||checkOffset(r,8,this.length),o.read(this,r,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(r,n,a,i){r=+r,n|=0,a|=0,i||checkInt(this,r,n,a,Math.pow(2,8*a)-1,0);var o=1,s=0;for(this[n]=255&r;++s<a&&(o*=256);)this[n+s]=r/o&255;return n+a},Buffer.prototype.writeUIntBE=function writeUIntBE(r,n,a,i){r=+r,n|=0,a|=0,i||checkInt(this,r,n,a,Math.pow(2,8*a)-1,0);var o=a-1,s=1;for(this[n+o]=255&r;--o>=0&&(s*=256);)this[n+o]=r/s&255;return n+a},Buffer.prototype.writeUInt8=function writeUInt8(r,n,a){return r=+r,n|=0,a||checkInt(this,r,n,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),this[n]=255&r,n+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(r,n,a){return r=+r,n|=0,a||checkInt(this,r,n,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=255&r,this[n+1]=r>>>8):objectWriteUInt16(this,r,n,!0),n+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(r,n,a){return r=+r,n|=0,a||checkInt(this,r,n,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=r>>>8,this[n+1]=255&r):objectWriteUInt16(this,r,n,!1),n+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(r,n,a){return r=+r,n|=0,a||checkInt(this,r,n,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[n+3]=r>>>24,this[n+2]=r>>>16,this[n+1]=r>>>8,this[n]=255&r):objectWriteUInt32(this,r,n,!0),n+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(r,n,a){return r=+r,n|=0,a||checkInt(this,r,n,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=r>>>24,this[n+1]=r>>>16,this[n+2]=r>>>8,this[n+3]=255&r):objectWriteUInt32(this,r,n,!1),n+4},Buffer.prototype.writeIntLE=function writeIntLE(r,n,a,i){if(r=+r,n|=0,!i){var o=Math.pow(2,8*a-1);checkInt(this,r,n,a,o-1,-o)}var s=0,y=1,_=0;for(this[n]=255&r;++s<a&&(y*=256);)r<0&&0===_&&0!==this[n+s-1]&&(_=1),this[n+s]=(r/y>>0)-_&255;return n+a},Buffer.prototype.writeIntBE=function writeIntBE(r,n,a,i){if(r=+r,n|=0,!i){var o=Math.pow(2,8*a-1);checkInt(this,r,n,a,o-1,-o)}var s=a-1,y=1,_=0;for(this[n+s]=255&r;--s>=0&&(y*=256);)r<0&&0===_&&0!==this[n+s+1]&&(_=1),this[n+s]=(r/y>>0)-_&255;return n+a},Buffer.prototype.writeInt8=function writeInt8(r,n,a){return r=+r,n|=0,a||checkInt(this,r,n,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(r=Math.floor(r)),r<0&&(r=255+r+1),this[n]=255&r,n+1},Buffer.prototype.writeInt16LE=function writeInt16LE(r,n,a){return r=+r,n|=0,a||checkInt(this,r,n,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=255&r,this[n+1]=r>>>8):objectWriteUInt16(this,r,n,!0),n+2},Buffer.prototype.writeInt16BE=function writeInt16BE(r,n,a){return r=+r,n|=0,a||checkInt(this,r,n,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=r>>>8,this[n+1]=255&r):objectWriteUInt16(this,r,n,!1),n+2},Buffer.prototype.writeInt32LE=function writeInt32LE(r,n,a){return r=+r,n|=0,a||checkInt(this,r,n,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=255&r,this[n+1]=r>>>8,this[n+2]=r>>>16,this[n+3]=r>>>24):objectWriteUInt32(this,r,n,!0),n+4},Buffer.prototype.writeInt32BE=function writeInt32BE(r,n,a){return r=+r,n|=0,a||checkInt(this,r,n,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),Buffer.TYPED_ARRAY_SUPPORT?(this[n]=r>>>24,this[n+1]=r>>>16,this[n+2]=r>>>8,this[n+3]=255&r):objectWriteUInt32(this,r,n,!1),n+4},Buffer.prototype.writeFloatLE=function writeFloatLE(r,n,a){return writeFloat(this,r,n,!0,a)},Buffer.prototype.writeFloatBE=function writeFloatBE(r,n,a){return writeFloat(this,r,n,!1,a)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(r,n,a){return writeDouble(this,r,n,!0,a)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(r,n,a){return writeDouble(this,r,n,!1,a)},Buffer.prototype.copy=function copy(r,n,a,i){if(a||(a=0),i||0===i||(i=this.length),n>=r.length&&(n=r.length),n||(n=0),i>0&&i<a&&(i=a),i===a)return 0;if(0===r.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),r.length-n<i-a&&(i=r.length-n+a);var o,s=i-a;if(this===r&&a<n&&n<i)for(o=s-1;o>=0;--o)r[o+n]=this[o+a];else if(s<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(o=0;o<s;++o)r[o+n]=this[o+a];else Uint8Array.prototype.set.call(r,this.subarray(a,a+s),n);return s},Buffer.prototype.fill=function fill(r,n,a,i){if("string"==typeof r){if("string"==typeof n?(i=n,n=0,a=this.length):"string"==typeof a&&(i=a,a=this.length),1===r.length){var o=r.charCodeAt(0);o<256&&(r=o)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!Buffer.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof r&&(r&=255);if(n<0||this.length<n||this.length<a)throw new RangeError("Out of range index");if(a<=n)return this;var s;if(n>>>=0,a=void 0===a?this.length:a>>>0,r||(r=0),"number"==typeof r)for(s=n;s<a;++s)this[s]=r;else{var y=Buffer.isBuffer(r)?r:utf8ToBytes(new Buffer(r,i).toString()),_=y.length;for(s=0;s<a-n;++s)this[s+n]=y[s%_]}return this};var y=/[^+\/0-9A-Za-z-_]/g;function utf8ToBytes(r,n){var a;n=n||1/0;for(var i=r.length,o=null,s=[],y=0;y<i;++y){if((a=r.charCodeAt(y))>55295&&a<57344){if(!o){if(a>56319){(n-=3)>-1&&s.push(239,191,189);continue}if(y+1===i){(n-=3)>-1&&s.push(239,191,189);continue}o=a;continue}if(a<56320){(n-=3)>-1&&s.push(239,191,189),o=a;continue}a=65536+(o-55296<<10|a-56320)}else o&&(n-=3)>-1&&s.push(239,191,189);if(o=null,a<128){if((n-=1)<0)break;s.push(a)}else if(a<2048){if((n-=2)<0)break;s.push(a>>6|192,63&a|128)}else if(a<65536){if((n-=3)<0)break;s.push(a>>12|224,a>>6&63|128,63&a|128)}else{if(!(a<1114112))throw Error("Invalid code point");if((n-=4)<0)break;s.push(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}}return s}function base64ToBytes(r){return i.toByteArray(function base64clean(r){if((r=function stringtrim(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}(r).replace(y,"")).length<2)return"";for(;r.length%4!=0;)r+="=";return r}(r))}function blitBuffer(r,n,a,i){for(var o=0;o<i&&!(o+a>=n.length||o>=r.length);++o)n[o+a]=r[o];return o}}(a(3))},function(r,n,a){"use strict";n.byteLength=function byteLength(r){var n=getLens(r),a=n[0],i=n[1];return 3*(a+i)/4-i},n.toByteArray=function toByteArray(r){var n,a,i=getLens(r),y=i[0],_=i[1],w=new s(function _byteLength(r,n,a){return 3*(n+a)/4-a}(0,y,_)),E=0,j=_>0?y-4:y;for(a=0;a<j;a+=4)n=o[r.charCodeAt(a)]<<18|o[r.charCodeAt(a+1)]<<12|o[r.charCodeAt(a+2)]<<6|o[r.charCodeAt(a+3)],w[E++]=n>>16&255,w[E++]=n>>8&255,w[E++]=255&n;return 2===_&&(n=o[r.charCodeAt(a)]<<2|o[r.charCodeAt(a+1)]>>4,w[E++]=255&n),1===_&&(n=o[r.charCodeAt(a)]<<10|o[r.charCodeAt(a+1)]<<4|o[r.charCodeAt(a+2)]>>2,w[E++]=n>>8&255,w[E++]=255&n),w},n.fromByteArray=function fromByteArray(r){for(var n,a=r.length,o=a%3,s=[],y=0,_=a-o;y<_;y+=16383)s.push(encodeChunk(r,y,y+16383>_?_:y+16383));return 1===o?(n=r[a-1],s.push(i[n>>2]+i[n<<4&63]+"==")):2===o&&(n=(r[a-2]<<8)+r[a-1],s.push(i[n>>10]+i[n>>4&63]+i[n<<2&63]+"=")),s.join("")};for(var i=[],o=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0;_<64;++_)i[_]=y[_],o[y.charCodeAt(_)]=_;function getLens(r){var n=r.length;if(n%4>0)throw Error("Invalid string. Length must be a multiple of 4");var a=r.indexOf("=");return-1===a&&(a=n),[a,a===n?0:4-a%4]}function encodeChunk(r,n,a){for(var o,s,y=[],_=n;_<a;_+=3)o=(r[_]<<16&16711680)+(r[_+1]<<8&65280)+(255&r[_+2]),y.push(i[(s=o)>>18&63]+i[s>>12&63]+i[s>>6&63]+i[63&s]);return y.join("")}o[45]=62,o[95]=63},function(r,n){n.read=function(r,n,a,i,o){var s,y,_=8*o-i-1,w=(1<<_)-1,E=w>>1,j=-7,q=a?o-1:0,$=a?-1:1,ne=r[n+q];for(q+=$,s=ne&(1<<-j)-1,ne>>=-j,j+=_;j>0;s=256*s+r[n+q],q+=$,j-=8);for(y=s&(1<<-j)-1,s>>=-j,j+=i;j>0;y=256*y+r[n+q],q+=$,j-=8);if(0===s)s=1-E;else{if(s===w)return y?NaN:1/0*(ne?-1:1);y+=Math.pow(2,i),s-=E}return(ne?-1:1)*y*Math.pow(2,s-i)},n.write=function(r,n,a,i,o,s){var y,_,w,E=8*s-o-1,j=(1<<E)-1,q=j>>1,$=23===o?5.960464477539062e-8:0,ne=i?0:s-1,ie=i?1:-1,oe=n<0||0===n&&1/n<0?1:0;for(isNaN(n=Math.abs(n))||n===1/0?(_=isNaN(n)?1:0,y=j):(n*(w=Math.pow(2,-(y=Math.floor(Math.log(n)/Math.LN2))))<1&&(y--,w*=2),(n+=y+q>=1?$/w:$*Math.pow(2,1-q))*w>=2&&(y++,w/=2),y+q>=j?(_=0,y=j):y+q>=1?(_=(n*w-1)*Math.pow(2,o),y+=q):(_=n*Math.pow(2,q-1)*Math.pow(2,o),y=0));o>=8;r[a+ne]=255&_,ne+=ie,_/=256,o-=8);for(y=y<<o|_,E+=o;E>0;r[a+ne]=255&y,ne+=ie,y/=256,E-=8);r[a+ne-ie]|=128*oe}},function(r,n){var a={}.toString;r.exports=Array.isArray||function(r){return"[object Array]"==a.call(r)}},function(r,n,a){"use strict";var i=[0,255,65535,16777215,4294967295];function copyBytes(r,n,a,i,o){var s;for(s=0;s<o;s++)a[i+s]=r[n+s]}function selfCopyBytes(r,n,a,i){var o;for(o=0;o<i;o++)r[n+o]=r[n-a+o]}function SnappyDecompressor(r){this.array=r,this.pos=0}SnappyDecompressor.prototype.readUncompressedLength=function(){for(var r,n,a=0,i=0;i<32&&this.pos<this.array.length;){if(r=this.array[this.pos],this.pos+=1,(n=127&r)<<i>>>i!==n)return-1;if(a|=n<<i,r<128)return a;i+=7}return-1},SnappyDecompressor.prototype.uncompressToBuffer=function(r){for(var n,a,o,s,y=this.array,_=y.length,w=this.pos,E=0;w<y.length;)if(n=y[w],w+=1,0==(3&n)){if((a=1+(n>>>2))>60){if(w+3>=_)return!1;o=a-60,a=1+((a=y[w]+(y[w+1]<<8)+(y[w+2]<<16)+(y[w+3]<<24))&i[o]),w+=o}if(w+a>_)return!1;copyBytes(y,w,r,E,a),w+=a,E+=a}else{switch(3&n){case 1:a=4+(n>>>2&7),s=y[w]+(n>>>5<<8),w+=1;break;case 2:if(w+1>=_)return!1;a=1+(n>>>2),s=y[w]+(y[w+1]<<8),w+=2;break;case 3:if(w+3>=_)return!1;a=1+(n>>>2),s=y[w]+(y[w+1]<<8)+(y[w+2]<<16)+(y[w+3]<<24),w+=4}if(0===s||s>E)return!1;selfCopyBytes(r,E,s,a),E+=a}return!0},n.SnappyDecompressor=SnappyDecompressor},function(r,n,a){"use strict";var i=Array(15);function hashFunc(r,n){return 506832829*r>>>n}function load32(r,n){return r[n]+(r[n+1]<<8)+(r[n+2]<<16)+(r[n+3]<<24)}function equals32(r,n,a){return r[n]===r[a]&&r[n+1]===r[a+1]&&r[n+2]===r[a+2]&&r[n+3]===r[a+3]}function emitLiteral(r,n,a,i,o){return a<=60?(i[o]=a-1<<2,o+=1):a<256?(i[o]=240,i[o+1]=a-1,o+=2):(i[o]=244,i[o+1]=a-1&255,i[o+2]=a-1>>>8,o+=3),function copyBytes(r,n,a,i,o){var s;for(s=0;s<o;s++)a[i+s]=r[n+s]}(r,n,i,o,a),o+a}function emitCopyLessThan64(r,n,a,i){return i<12&&a<2048?(r[n]=1+(i-4<<2)+(a>>>8<<5),r[n+1]=255&a,n+2):(r[n]=2+(i-1<<2),r[n+1]=255&a,r[n+2]=a>>>8,n+3)}function emitCopy(r,n,a,i){for(;i>=68;)n=emitCopyLessThan64(r,n,a,64),i-=64;return i>64&&(n=emitCopyLessThan64(r,n,a,60),i-=60),emitCopyLessThan64(r,n,a,i)}function compressFragment(r,n,a,o,s){for(var y=1;1<<y<=a&&y<=14;)y+=1;var _=32-(y-=1);void 0===i[y]&&(i[y]=new Uint16Array(1<<y));var w,E=i[y];for(w=0;w<E.length;w++)E[w]=0;var j,q,$,ne,ie,oe,se,le,pe,he,me=n+a,ge=n,ye=n,_e=!0;if(a>=15)for(j=me-15,$=hashFunc(load32(r,n+=1),_);_e;){oe=32,ne=n;do{if(q=$,se=oe>>>5,oe+=1,ne=(n=ne)+se,n>j){_e=!1;break}$=hashFunc(load32(r,ne),_),ie=ge+E[q],E[q]=n-ge}while(!equals32(r,n,ie));if(!_e)break;s=emitLiteral(r,ye,n-ye,o,s);do{for(le=n,pe=4;n+pe<me&&r[n+pe]===r[ie+pe];)pe+=1;if(n+=pe,s=emitCopy(o,s,le-ie,pe),ye=n,n>=j){_e=!1;break}E[hashFunc(load32(r,n-1),_)]=n-1-ge,ie=ge+E[he=hashFunc(load32(r,n),_)],E[he]=n-ge}while(equals32(r,n,ie));if(!_e)break;$=hashFunc(load32(r,n+=1),_)}return ye<me&&(s=emitLiteral(r,ye,me-ye,o,s)),s}function SnappyCompressor(r){this.array=r}SnappyCompressor.prototype.maxCompressedLength=function(){var r=this.array.length;return 32+r+Math.floor(r/6)},SnappyCompressor.prototype.compressToBuffer=function(r){var n,a=this.array,i=a.length,o=0,s=0;for(s=function putVarint(r,n,a){do{n[a]=127&r,(r>>>=7)>0&&(n[a]+=128),a+=1}while(r>0);return a}(i,r,s);o<i;)s=compressFragment(a,o,n=Math.min(i-o,65536),r,s),o+=n;return s},n.SnappyCompressor=SnappyCompressor},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(24),_=a(26),w=a(78),E=a(134);class ProjectInfoComponent extends y.default{constructor(){super(...arguments),this.isEditMode=!1,this.projectId="0",this.projectVersion="0.0.1",this.projectType=w.EditMode.GRID_MODE,this.projectName="",this.projectDescription="",this.projectDifficulty=0,this.gamekit="platformer",this.currentId=0,this.tryMode=!1,this.projectDisableComments=!1,this.thumbnailCount=0,this.isPublished=!1,this.isPlayedThrough=!1}get isTryMode(){return"try"===this.projectId}get encodedProjectId(){return E.Base64Helper.fromNumber(+this.projectId)}}ProjectInfoComponent.componentName="projectInfo",o([_.Property(),s("design:type",String)],ProjectInfoComponent.prototype,"projectId",void 0),o([_.Property(),s("design:type",String)],ProjectInfoComponent.prototype,"projectVersion",void 0),o([_.Property(),s("design:type","function"==typeof(i=void 0!==w.EditMode&&w.EditMode)?i:Object)],ProjectInfoComponent.prototype,"projectType",void 0),o([_.Property(),s("design:type",String)],ProjectInfoComponent.prototype,"projectName",void 0),o([_.Property(),s("design:type",String)],ProjectInfoComponent.prototype,"projectDescription",void 0),o([_.Property(),s("design:type",Number)],ProjectInfoComponent.prototype,"projectDifficulty",void 0),o([_.Property(),s("design:type",String)],ProjectInfoComponent.prototype,"gamekit",void 0),o([_.Property(),s("design:type",Number)],ProjectInfoComponent.prototype,"currentId",void 0),o([_.Property(),s("design:type",Boolean)],ProjectInfoComponent.prototype,"tryMode",void 0),o([_.Property(),s("design:type",Boolean)],ProjectInfoComponent.prototype,"projectDisableComments",void 0),o([_.Property(),s("design:type",Number)],ProjectInfoComponent.prototype,"thumbnailCount",void 0),o([_.Property(),s("design:type",Boolean)],ProjectInfoComponent.prototype,"isPublished",void 0),o([_.Property(),s("design:type",Boolean)],ProjectInfoComponent.prototype,"isPlayedThrough",void 0),n.default=ProjectInfoComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Base64Helper=void 0,n.Base64Helper={_Rixits:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_",fromNumber(r){if(isNaN(+r)||null===r||r===1/0)throw"The input is not valid";if(r<0)throw"Can't represent negative numbers now";let n,a=Math.floor(r),i="";for(;n=a%64,i=this._Rixits.charAt(n)+i,a=Math.floor(a/64),0!==a;);return i},toNumber(r){let n=0;const a=r.split("");for(let r=0;r<a.length;r++)n=64*n+this._Rixits.indexOf(a[r]);return n}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ProjectLoader=void 0;const i=a(30),o=a(9),s=a(125),y=a(19),_=a(34);class ProjectLoader extends i.AssetLoader{constructor(){super(...arguments),this.tmpVec1=new y.Vector3,this.tmpQuat1=new y.Quaternion}generateKey(r){return r.name}async _load(r){const n=await s.request(_.getCachedFileUri(r.url),{},null,!0);return await n.json()}}n.ProjectLoader=ProjectLoader,ProjectLoader.assetType=o.AssetType.PROJECT},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getArrayDiff=void 0,n.getArrayDiff=(r,n)=>{const a=[],i=[],o=[];for(let a=0;a<r.length;a++){const s=r[a];let y=!1;for(let r=0;r<n.length;r++){const a=n[r];if(s===a){y=!0;break}if(s.name===a.name&&s!==a){y=!0,i.push(a);break}}y||o.push(s)}for(let i=0;i<n.length;i++){const o=n[i];let s=!1;for(let n=0;n<r.length;n++){const a=r[n];if(o===a||a.name===o.name){s=!0;break}}s||a.push(o)}return[a,i,o]}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadWorldState=void 0;const i=a(41);n.loadWorldState=(r,n)=>{for(const[a,i]of Object.entries(n.singletons))r.getOrCreateSingleton(a,i);for(let a=0;a<n.entities.length;++a){const o=n.entities[a];if(!o.componentIds.length)continue;const s=r.tryCreateWithIndex(o.id);let y=!1;for(let a=0;a<o.componentIds.length;++a){const _=r.componentLookupByName.get(n.componentMap[o.componentIds[a]]);if(!_)continue;const w=r.componentLookup.get(_);w===i.default&&(Number.isFinite(o.components[a].rotation.x)||(o.components[a].rotation={x:0,y:0,z:0,w:1})),r.addComponentBegin(s,w).fromJSON(o.components[a]),y=!0}y&&r.addComponentFinalize()}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.loadLocalGameData=n.saveLocalGameData=void 0;const i=a(8),o=a(133),s=JSON.parse(localStorage.getItem("world")||"{}")||{};n.saveLocalGameData=(r,n)=>{const a=i.entityManager.getOrCreateSingleton(o.default);s[a.projectId.toString()]||(s[a.projectId.toString()]={}),s[a.projectId.toString()][r]=n,localStorage.setItem("world",JSON.stringify(s))},n.loadLocalGameData=(r,n)=>{const a=i.entityManager.getOrCreateSingleton(o.default);return s[a.projectId.toString()]?s[a.projectId.toString()][r]||n||null:n}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SNAP_DEFAULT_SLOTS_PRESETS=n.SNAP_DEFAULT_SHOOTER_SLOTS_PRESETS=n.PLAYGROUND_SLOTS_PRESETS=n.CTRL_ALT=n.CTRL_CMD=n.CATEGORIES=n.SNAP_SHORTCUTS=n.SNAP_MAX_BUDGET_SCORE=n.SNAP_SVG_ICON_PATH=n.SNAP_HIGHLIGHT_COLOR=n.SNAP_SCALE_K=n.SNAP_SHOW_HIGHLIGHT=n.SNAP_TRANSPARENT_OBJECTS=n.SNAP_SHOW_ORIGIN=n.SNAP_SPACE_COLOR=n.SNAP_PREVIEW_COLOR=n.SNAP_FIXED_ENVIRONMENT=n.SNAP_FALLBACK_MATERIAL=n.SNAP_FALLBACK_PRESET=n.SNAP_START_PRESET=n.SNAP_CAMERA_OFFSET_MIN=n.SNAP_CAMERA_OFFSET=n.SNAP_GRID_SIZE=n.SNAP_ALWAYS_INSERT_PREVIEWS=n.SNAP_PREVIEW_AS_HITAREA=n.SNAP_TRACE_COUNTER=n.SNAP_RESELECT_ENTITY=n.SNAP_SHOW_PREVIEW_CP=n.SNAP_SHOW_ORIGIN_CP=n.SNAP_SHOW_GRID_CELLS=n.DEFAULT_VOLUME=void 0;const i=a(6),o=a(18),s=a(13);n.DEFAULT_VOLUME=.5,n.SNAP_SHOW_GRID_CELLS=!1,n.SNAP_SHOW_ORIGIN_CP=!1,n.SNAP_SHOW_PREVIEW_CP=!1,n.SNAP_RESELECT_ENTITY=!0,n.SNAP_TRACE_COUNTER=!1,n.SNAP_PREVIEW_AS_HITAREA=!0,n.SNAP_ALWAYS_INSERT_PREVIEWS=!1,n.SNAP_GRID_SIZE=2,n.SNAP_CAMERA_OFFSET=5,n.SNAP_CAMERA_OFFSET_MIN=6,n.SNAP_START_PRESET="SpawnPointPresets",n.SNAP_FALLBACK_PRESET="basicBlockPresets",n.SNAP_FALLBACK_MATERIAL="T_stoneFloor_04",n.SNAP_FIXED_ENVIRONMENT=-1,n.SNAP_PREVIEW_COLOR={r:1,g:1,b:1},n.SNAP_SPACE_COLOR={r:0,g:0,b:1},n.SNAP_SHOW_ORIGIN=!1,n.SNAP_TRANSPARENT_OBJECTS=!1,n.SNAP_SHOW_HIGHLIGHT=!0,n.SNAP_SCALE_K=1,n.SNAP_HIGHLIGHT_COLOR={r:0,g:1,b:1},n.SNAP_SVG_ICON_PATH=i.default.baseCdnUrl+"/icons/svg/",n.SNAP_MAX_BUDGET_SCORE=s.isExpertMode?1e3:100,n.SNAP_SHORTCUTS={togglePlay:["ENTER"],toggleMore:["X"],toggleBlocks:["E"],toggleEnvironment:["N"],toggleMusic:["M"],takeSnapshot:["ALT","C"],toggleHelp:["H"],import3DPanel:["I"],prefabPanel:["P"],toggleMode:["V"]},n.CATEGORIES=["basic","animals","construction","food","gameplay","hazard","props","interiour","lights","rocky","vegetation","seasonal"],n.CTRL_CMD=o.default.isMac()?"COMMAND":"CTRL",n.CTRL_ALT=o.default.isMac()?"ALT":"CTRL",n.PLAYGROUND_SLOTS_PRESETS=[["1580812614060","woodBlockPresets","stoneWallPresets","473951199789188","429529479135372Preset","invisibleLight","438692157915268Presets","RandomBurgerPresets","1587468745059","432941099942035Preset"]],n.SNAP_DEFAULT_SHOOTER_SLOTS_PRESETS=[["1585810391961","1585667895334","1585667895336","1585663286717","1585647527347","1587468745059","1585732200271","1585734301202","launchPadPreset","ShooterSpawnPointPresets"]],n.SNAP_DEFAULT_SLOTS_PRESETS=[["nonSlipBlockPresets","BoulderPreset","iceBlockPresets","lavaBlockPresets","crushingPillarPresets","lugWrenchPresets","woodBlockPresets","432951399637159Preset","CheckpointPresets","GoalPresets"],["grassBlockPresets","brickBlockPresets","iceBlockPresets","lavaBlockPresets","436395526529156Preset","inAndOutPlattformPresets","SpinningCogPresets","SpinningBoxesPreset","CheckpointPresets","GoalPresets"]]},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InputChannel=void 0;const i=a(8),o=a(141),s=a(142);var y;!function(r){r[r.NONE=0]="NONE",r[r.DEFAULT=1]="DEFAULT",r[r.POINTER_LOCK=2]="POINTER_LOCK",r[r.EDIT_MODE=4]="EDIT_MODE",r[r.PLAY_MODE=8]="PLAY_MODE",r[r.INPUT=16]="INPUT",r[r.PANEL=32]="PANEL",r[r.MODAL=64]="MODAL",r[r.INSPECTOR=128]="INSPECTOR"}(y=n.InputChannel||(n.InputChannel={})),n.default=class InputManager{constructor(){this.usePointerLock=!0,this.enabledSets=y.NONE,this.lastSet=0,this.actions=new Map,this.actionMap=new Map,this.keyMaps={},this.activeKeyMap=new Map,this.pointerLockEnabled=!0,this.pointerLockHelper=new s.default,this.registerInputMethod(new o.default),this.pointerLockEnabled=!0,this.pointerLockHelper=new s.default,this.tryEnterPointerLock=()=>{this.usePointerLock&&this.pointerLockHelper.tryEnterPointerLock()},i.container&&i.container.addEventListener("mousedown",this.tryEnterPointerLock),this.pointerLockHelper.on("pointerlockchange",r=>{if(this.pointerLockEnabled=r,!this.pointerLockEnabled)return i.entityManager.emit("exitPointerLock"),this.resetAll(),void this.disableChannel(y.POINTER_LOCK);i.entityManager.emit("enterPointerLock"),this.enableChannel(y.POINTER_LOCK)}),window.addEventListener("text_input_element_focus",()=>{this.enabledSets!==y.INPUT&&this.switchSet(y.INPUT)}),window.addEventListener("text_input_element_blur",()=>{this.enabledSets=this.lastSet}),window.addEventListener("browser-pannel-show",()=>{this.enableChannel(y.PANEL)}),window.addEventListener("browser-pannel-hide",()=>{this.disableChannel(y.PANEL)})}get isPointerLockEnabled(){return this.pointerLockEnabled}enablePointerLock(){this.pointerLockEnabled=!0,this.tryEnterPointerLock()}disablePointerLock(){this.pointerLockEnabled=!1,this.pointerLockHelper.tryExitPointerLock()}switchSet(r){this.lastSet=this.enabledSets,this.enabledSets=r}enableChannel(r){this.enabledSets|=r}disableChannel(r){this.enabledSets&=~r}isChannelEnabled(r){return(this.enabledSets&r)==r}hasSet(r){return(this.enabledSets&r)===r}removeAllListenersWithContext(r){for(const[n,a]of this.actions)a.context===r&&this.actions.delete(n);for(const[n,a]of this.actionMap)for(const i of a)i.context===r&&this.actionMap.set(n,a.filter(n=>n.context!==r))}getKeyNumber(r){return this.keyMaps[r]&&this.keyMaps[r].id}isKeyDown(r){return!!this.isKeyIdDown(this.getKeyNumber(r))}isKeyIdDown(r){return this.activeKeyMap.get(r)}isAction(r){const n=this.actions.get(r);return!!n&&this.checkActionRequirement(n)}checkActionRequirement(r){if(0==(this.enabledSets&r.set)||0!=(this.enabledSets&r.setMask))return!1;for(const n of r.keyNumbers){for(const r of n)if(!this.isKeyIdDown(r))return!1;return!0}return!0}handleKeyDown(r,n){const a=this.actionMap.get(r);if(this.activeKeyMap.set(r,!0),a)for(const r of a)r.preventRepeat&&r.preventedRepeat||0==(this.enabledSets&r.set)||0!=(this.enabledSets&r.setMask)||this.checkActionRequirement(r)&&(r.preventDefault&&n.preventDefault&&n.preventDefault(),r.preventRepeat&&(r.preventedRepeat=!0),r.activeListener&&r.activeListener.call(r.context,n))}handleKeyUp(r,n){this.activeKeyMap.set(r,!1);const a=this.actionMap.get(r);if(a)for(const r of a)r.releaseListener&&(r.set&&0!=(this.enabledSets&r.set)||r.setMask&&0==(this.enabledSets&r.setMask))&&r.releaseListener.call(r.context,n),(r.preventRepeat&&r.preventedRepeat||0===(r.set&&this.enabledSets&r.set)||0!==(r.setMask&&this.enabledSets&r.setMask))&&(r.preventedRepeat=!1)}handleMove(r,n){this.activeKeyMap.set(r,!0);const a=this.actionMap.get(r);if(this.activeKeyMap.set(r,!0),a)for(const r of a)0!=(this.enabledSets&r.set)&&0==(this.enabledSets&r.setMask)&&this.checkActionRequirement(r)&&r.activeListener&&r.activeListener.call(r.context,n)}handleScroll(r,n){this.activeKeyMap.set(r,!0);const a=this.actionMap.get(r);if(this.activeKeyMap.set(r,!0),a)for(const r of a)0!=(this.enabledSets&r.set)&&0==(this.enabledSets&r.setMask)&&this.checkActionRequirement(r)&&r.activeListener&&r.activeListener.call(r.context,n)}resetAll(){for(const r of Object.values(this.keyMaps))this.handleKeyUp(r.id)}registerInputMethod(r){this.keyMaps=Object.assign(Object.assign({},this.keyMaps),r.getKeyMap()),r.on("keyDown",this.handleKeyDown,this),r.on("keyUp",this.handleKeyUp,this),r.on("move",this.handleMove,this),r.on("scroll",this.handleScroll,this),r.on("reset",this.resetAll,this)}unregisterAction(r){this.actions.get(r)||console.warn("Action doesnt exists"),console.error("NOT IMPLEMENTED")}registerAction(r,n,a,i,o,s,y){let _=null;if(_="string"==typeof r?{name:r,defaultKeys:n,keys:n,keyNumbers:[],activeListener:a,releaseListener:null,context:i,preventRepeat:!0,preventedRepeat:!1,set:s||1,setMask:y||0}:Object.assign({name:"[NoName]",defaultKeys:{},keys:{},keyNumbers:[],activeListener:null,releaseListener:null,context:null,preventRepeat:!0,preventedRepeat:!1,set:1,setMask:0},r),this.actions.get(_.name))console.warn(`Action ${_.name} already exists`);else{this.actions.set(_.name,_);for(const r of Object.keys(_.defaultKeys)){const n=_.defaultKeys[r].map(r=>this.getKeyNumber(r));_.keyNumbers.push(n);for(const r of n){let n=this.actionMap.get(r);n||(n=[],this.actionMap.set(r,n)),n.push(_)}}}}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(10),o=a(19),s=a(8),y={MOUSEMOVE:{id:1},SCROLL:{id:2},0:{id:48,preventDefault:!1},1:{id:49,preventDefault:!1},2:{id:50,preventDefault:!1},3:{id:51,preventDefault:!1},4:{id:52,preventDefault:!1},5:{id:53,preventDefault:!1},6:{id:54,preventDefault:!1},7:{id:55,preventDefault:!1},8:{id:56,preventDefault:!1},9:{id:57,preventDefault:!1},BACKSPACE:{id:8,preventDefault:!1},TAB:{id:9,preventDefault:!1},ENTER:{id:13,preventDefault:!1},SHIFT:{id:16,preventDefault:!1},CTRL:{id:17,preventDefault:!0},ALT:{id:18,preventDefault:!0},PAUSEBREAK:{id:19,preventDefault:!1},CAPSLOCK:{id:20,preventDefault:!1},ESC:{id:27,preventDefault:!1},SPACE:{id:32,preventDefault:!1},PAGEUP:{id:33,preventDefault:!1},PAGEDOWN:{id:34,preventDefault:!1},END:{id:35,preventDefault:!1},HOME:{id:36,preventDefault:!1},LEFTARROW:{id:37,preventDefault:!1},UPARROW:{id:38,preventDefault:!1},RIGHTARROW:{id:39,preventDefault:!1},DOWNARROW:{id:40,preventDefault:!1},INSERT:{id:45,preventDefault:!1},DELETE:{id:46,preventDefault:!1},A:{id:65,preventDefault:!1},B:{id:66,preventDefault:!1},C:{id:67,preventDefault:!1},D:{id:68,preventDefault:!1},E:{id:69,preventDefault:!1},F:{id:70,preventDefault:!1},G:{id:71,preventDefault:!1},H:{id:72,preventDefault:!1},I:{id:73,preventDefault:!1},J:{id:74,preventDefault:!1},K:{id:75,preventDefault:!1},L:{id:76,preventDefault:!1},M:{id:77,preventDefault:!1},N:{id:78,preventDefault:!1},O:{id:79,preventDefault:!1},P:{id:80,preventDefault:!1},Q:{id:81,preventDefault:!1},R:{id:82,preventDefault:!1},S:{id:83,preventDefault:!1},T:{id:84,preventDefault:!1},U:{id:85,preventDefault:!1},V:{id:86,preventDefault:!1},W:{id:87,preventDefault:!1},X:{id:88,preventDefault:!1},Y:{id:89,preventDefault:!1},Z:{id:90,preventDefault:!1},LEFTWINDOWKEY:{id:91,preventDefault:!1},COMMAND:{id:91,preventDefault:!0},RIGHTWINDOWKEY:{id:92,preventDefault:!1},SELECTKEY:{id:93,preventDefault:!1},NUMPAD0:{id:96,preventDefault:!1},NUMPAD1:{id:97,preventDefault:!1},NUMPAD2:{id:98,preventDefault:!1},NUMPAD3:{id:99,preventDefault:!1},NUMPAD4:{id:100,preventDefault:!1},NUMPAD5:{id:101,preventDefault:!1},NUMPAD6:{id:102,preventDefault:!1},NUMPAD7:{id:103,preventDefault:!1},NUMPAD8:{id:104,preventDefault:!1},NUMPAD9:{id:105,preventDefault:!1},MULTIPLY:{id:106,preventDefault:!1},ADD:{id:107,preventDefault:!1},SUBTRACT:{id:109,preventDefault:!1},DECIMALPOINT:{id:110,preventDefault:!1},DIVIDE:{id:111,preventDefault:!1},F1:{id:112,preventDefault:!1},F2:{id:113,preventDefault:!1},F3:{id:114,preventDefault:!1},F4:{id:115,preventDefault:!1},F5:{id:116,preventDefault:!1},F6:{id:117,preventDefault:!1},F7:{id:118,preventDefault:!1},F8:{id:119,preventDefault:!1},F9:{id:120,preventDefault:!1},F10:{id:121,preventDefault:!1},F11:{id:122,preventDefault:!1},F12:{id:123,preventDefault:!1},NUMLOCK:{id:144,preventDefault:!1},SCROLLLOCK:{id:145,preventDefault:!1},SEMICOLON:{id:186,preventDefault:!1},EQUALSIGN:{id:187,preventDefault:!1},COMMA:{id:188,preventDefault:!1},DASH:{id:189,preventDefault:!1},PERIOD:{id:190,preventDefault:!1},FORWARDSLASH:{id:191,preventDefault:!1},GRAVEACCENT:{id:192,preventDefault:!1},OPENBRACKET:{id:219,preventDefault:!1},BACKSLASH:{id:220,preventDefault:!1},CLOSEBRACKET:{id:221,preventDefault:!1},SINGLEQUOTE:{id:222,preventDefault:!1},MOUSE_0:{id:100,preventDefault:!1},MOUSE_1:{id:101,preventDefault:!1},MOUSE_2:{id:102,preventDefault:!1},TOUCH:{id:300,preventDefault:!1},TOUCH_MOVE:{id:301,preventDefault:!1},CTRLCMD_MODIFIER:{id:302,preventDefault:!0}},_={};Object.keys(y).forEach(r=>{const n=y[r];_[n.id]=n}),n.default=class KBMInput extends i{constructor(){super();const r=new o.Vector2,n=new o.Vector2;let a=0;window.addEventListener("keydown",r=>{const n=_[r.keyCode];n&&n.preventDefault&&r.preventDefault(),r.keyCode===y.COMMAND.id&&this.emit("keyDown",302,r),r.keyCode===y.CTRL.id&&this.emit("keyDown",302,r),this.emit("keyDown",r.keyCode,r)}),window.addEventListener("keyup",r=>{r.keyCode!==y.COMMAND.id?(r.keyCode===y.COMMAND.id&&this.emit("keyUp",302,r),r.keyCode===y.CTRL.id&&this.emit("keyUp",302,r),this.emit("keyUp",r.keyCode,r)):this.emit("reset")}),document.addEventListener("mousemove",i=>{r.x=i.movementX||i.mozMovementX||i.webkitMovementX||0,r.y=i.movementY||i.mozMovementY||i.webkitMovementY||0;const o=r.x*r.x+r.y*r.y,s=document.documentElement.clientHeight/3,y=o-a;a=o,y>s*s&&(r.copy(n),a=0),this.emit("move",1,r),n.copy(r)}),window.addEventListener("mousedown",r=>{this.emit("keyDown",100+r.button,r)}),window.addEventListener("mouseup",r=>{this.emit("keyUp",100+r.button,r)}),window.addEventListener("blur",()=>{this.emit("reset")}),window.addEventListener("mousewheel",r=>{const n=r.deltaY;this.emit("scroll",2,n)},{passive:!0}),window.addEventListener("DOMMouseScroll",r=>{const n=100*r.detail/3;this.emit("scroll",2,n)},{passive:!0}),s.canvas.addEventListener("touchstart",r=>{this.emit("keyDown",300,r)},{passive:!0}),s.canvas.addEventListener("touchmove",r=>{this.emit("move",301,r)},{passive:!0}),s.canvas.addEventListener("touchend",r=>{this.emit("keyUp",300,r)},{passive:!0})}getKeyMap(){return y}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(10),o=a(8);n.default=class PointerLockHelper extends i{constructor(){super(),this.isPointerLocked=!1,this.handlePointerLockChange=r=>{this.isPointerLocked=this.isPointerLockCheck(),this.emit("pointerlockchange",this.isPointerLocked)},document.addEventListener("pointerlockchange",this.handlePointerLockChange,!1)}isPointerLockCheck(){return document.pointerLockElement===o.container||document.mozPointerLockElement===o.container||document.webkitPointerLockElement===o.container}tryEnterPointerLock(){if(this.isPointerLocked)return;const r=o.container;r&&r.requestPointerLock&&(r.requestPointerLock=r.requestPointerLock||document.mozRequestPointerLock||document.webkitRequestPointerLock,r.requestPointerLock())}tryExitPointerLock(){this.isPointerLocked&&document.exitPointerLock()}dispose(){document.removeEventListener("pointerlockchange",this.handlePointerLockChange,!1)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InputParserSettings=void 0;const i=a(19),o=a(140),s=a(144),y=a(19);n.InputParserSettings=class InputParserSettings{constructor(){this.camInvertY=!1,this.camInvertX=!1,this.camKeyboardScale=50,this.camTouchScale=8}},n.default=class InputParser{constructor(r,n,a){this.mouseDeltaSinceLastUpdate=new i.Vector2(0,0),this.settings=r,this.inputManager=n,n.registerAction({name:"MOUSE_DELTA"+a,activeListener:this.mouseCallback,defaultKeys:{kbm:["MOUSEMOVE"]},set:o.InputChannel.POINTER_LOCK,context:this,preventRepeat:!1})}updateInputSnapshot(r,n,a){if(r.wasTouchInput=!1,r.prevCameraDirWS.copy(a),r.movementIS.set(0,0),this.inputManager.isChannelEnabled(o.InputChannel.POINTER_LOCK)){const n=this.inputManager.isKeyDown("W")?1:0,a=this.inputManager.isKeyDown("S")?1:0,i=this.inputManager.isKeyDown("D")?1:0,o=this.inputManager.isKeyDown("A")?1:0;r.movementIS.y=n-a,r.movementIS.x=i-o}const i=new y.Vector2;s.TouchInputProxy.calcMoveIS(i),i.length()>.1&&(r.movementIS=i,r.wasTouchInput=!0),r.movementIS.lengthSq()>=1&&r.movementIS.normalize(),r.cameraIS.set(0,0);const _=this.inputManager.isKeyDown("CTRLCMD_MODIFIER")||this.inputManager.isKeyDown("ALT");if(this.inputManager.isChannelEnabled(o.InputChannel.POINTER_LOCK)&&!_){const n=this.inputManager.isKeyDown("UPARROW")?1:0,a=this.inputManager.isKeyDown("DOWNARROW")?1:0;r.cameraIS.y=(n-a)*this.settings.camKeyboardScale;const i=this.inputManager.isKeyDown("RIGHTARROW")?1:0,o=this.inputManager.isKeyDown("LEFTARROW")?1:0;r.cameraIS.x=(i-o)*this.settings.camKeyboardScale}this.mouseDeltaSinceLastUpdate.length()>0&&r.cameraIS.copy(this.mouseDeltaSinceLastUpdate),this.mouseDeltaSinceLastUpdate.set(0,0),this.settings.camInvertX&&(r.cameraIS.x=-r.cameraIS.x),this.settings.camInvertY&&(r.cameraIS.y=-r.cameraIS.y),n.length()>0&&(r.cameraIS.copy(n),r.cameraIS.multiplyScalar(this.settings.camTouchScale),r.action2.isPressed()&&r.cameraIS.multiplyScalar(.5),r.wasTouchInput=!0),n.set(0,0),r.action1.updateState(s.TouchInputProxy.JumpButton||this.inputManager.isKeyDown("SPACE")),r.action2.updateState(s.TouchInputProxy.ShootButton||this.inputManager.isKeyDown("MOUSE_0")),r.emoteAction1.updateState(s.TouchInputProxy.EmoteButton||this.inputManager.isKeyDown("1"));const w=!_&&this.inputManager.isKeyDown("C");r.action3.updateState(w),r.modifier1.updateState(this.inputManager.isKeyDown("SHIFT")),r.touchAimSurface.updateState(s.TouchInputProxy.TouchAimSurface),(s.TouchInputProxy.JumpButton||s.TouchInputProxy.ShootButton||s.TouchInputProxy.EmoteButton||s.TouchInputProxy.TouchAimSurface)&&(r.wasTouchInput=!0)}getSettings(){return this.settings}setSettings(r){this.settings=r}mouseCallback(r){this.mouseDeltaSinceLastUpdate.x+=r.x,this.mouseDeltaSinceLastUpdate.y-=r.y}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TouchInputProxy=void 0;const i=a(19);class TouchInputProxy{static calcMoveIS(r){const n=this.tmpVec;n.copy(this.MoveEnd).sub(this.MoveBegin).multiplyScalar(.01),n.length()>1&&n.normalize(),r.x=n.x,r.y=-n.y}}n.TouchInputProxy=TouchInputProxy,TouchInputProxy.MoveBegin=new i.Vector2,TouchInputProxy.MoveEnd=new i.Vector2,TouchInputProxy.CameraSinceLastTickIS=new i.Vector2,TouchInputProxy.CameraSinceLastFrameIS=new i.Vector2,TouchInputProxy.TouchAimSurface=!1,TouchInputProxy.JumpButton=!1,TouchInputProxy.EmoteButton=!1,TouchInputProxy.ShootButton=!1,TouchInputProxy.tmpVec=new i.Vector2},function(r,n,a){"use strict";a.r(n);const i=function(){let r,n,a,o,s,y="",_="",w="";const E=["icon-arrows","icon-open-hand","icon-grabbing-hand","icon-RotateZ","icon-RotateY","icon-RotateX","icon-scaleXYZ","icon-free-mode-cursor","icon-gun-pointer","icon-crosshair","icon-aim3","icon-grid-mode-cursor","icon-pain-tool-cursor"];let j=!1;function _insertMarkup(){s.insertAdjacentHTML("beforeend",'<div id="overlay_crosshair_container" class="crosshair">  \n        <div class="overlay_crosshair container transparent centered">\n          <div class="container-inner">\n            <div class="msgCode">\n              <i class="crosshair-center icon-open-hand"></i>\n              <i class="subset-icon"></i>\n            </div>\n          </div>\n        </div>\n      </div>'),o=document.body.querySelector("#overlay_crosshair_container"),r=document.body.querySelector(".overlay_crosshair"),n=r.querySelector("i.crosshair-center"),a=r.querySelector("i.subset-icon")}function _update(){n.className="crosshair-center "+E[_],a.className="subset-icon "+w}return{superHide:function _superHide(){j=!0,r&&(r.style.opacity=0)},superShow:function _superShow(){r&&(r.style.opacity=1),j=!1},setup:function _setup(r){s=r,_insertMarkup()},show:function _show(){s&&!o&&_insertMarkup(),r&&(i.active=!0,r.classList.remove("hiddenCross","hidden")),_=i.map[y],j&&(r.style.opacity=0),_update()},hide:function _hide(){o&&(i.active=!1,o.parentNode.removeChild(o),o=null)},active:!1,icons:E,update:_update,setIcon:function _setIcon(r){y!==r&&(y=r,_=i.map[r]?i.map[y]:i.map.pointer,_update())},setSubsetIcon:function _setSubsetIcon(r){w=r,_update()},map:{pointer:7,pointerGrid:11,paintTool:12,open:1,grab:2,roll:3,yaw:4,pitch:5,scaleXYZ:6,aim1:8,aim2:9,aim3:10}}}();n.default=i},function(r,n,a){"use strict";a.r(n),a.d(n,"addMaterialsFromTextures",(function(){return addMaterialsFromTextures}));var i=a(147),o=a.n(i),s=a(1374),y=a(18);const getMaterialData=function(r,n){n=y.default.defVal(n,256);const a=s.default[r];if(!s.default[r])return!1;const i={key:r,listed:!0,version:2,name:a.name,legacy:y.default.defVal(a.legacy,!1),category:y.default.defVal(a.category,"Misc"),title:a.name,type:a.type||"Physical",tags:a.tags,props:a.props,ui:["material","physicality"]};return a.origin&&(i.origin=a.origin),i.props.repeats=y.default.defVal(a.repeats,{x:1,y:1}),i},addMaterialsFromTextures=function(){const r=Object.keys(s.default);for(let n=0;n<r.length;n++){const a=r[n];o.a[a]=getMaterialData(a,512)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(148),o=a(149),s={basic:{listed:!1,name:"Basic",type:"Basic",bgColor:"#ffffff",props:{shininess:0,color:"#ffffff"}},basic_visible:{listed:!1,name:"Basic",type:"shader",bgColor:"#ffffff",props:{shininess:0,color:"#ffffff",depthTest:!1,depthWrite:!1,fragmentShader:i.default,vertexShader:o.default}},lamber:{listed:!1,name:"Matt",type:"Lamber",bgColor:"#ffffff",props:{shininess:0,color:"#ffffff"}},plastic:{listed:!1,name:"Plasic",type:"Phong",bgColor:"#ffffff",props:{shininess:115,color:"#ffffff"}},transparent03:{listed:!1,name:"Plasic",type:"Phong",bgColor:"#ffffff",props:{shininess:300,color:"#ffffff",opacity:.3,transparent:!0}},transparent05:{listed:!1,name:"Plasic",type:"Phong",bgColor:"#ffffff",props:{shininess:300,color:"#ffffff",opacity:.3,transparent:!0}},transparent0:{listed:!1,name:"Plasic",type:"Basic",bgColor:"#ffffff",props:{color:"#ffffff",opacity:0,transparent:!0}},transparent:{listed:!1,name:"Plasic",type:"Phong",bgColor:"#ffffff",props:{shininess:300,color:"#ffffff",opacity:1,transparent:!0}},Grass_Planar:{folderName:"none",name:"Grass (p)",category:"Special",textureScale:100,map:"pbr_grass1_grass1",normalMap:"pbr_grass1_grass1",type:"TriPlanar",listed:!1,props:{repeats:1,shininess:1}},RedVelvet_Planar:{folderName:"none",name:"Red Velvet (p)",category:"Special",textureScale:100,mapPath:"/RedVelvet/Velvet_S.jpg",normalMapPath:"/RedVelvet/Velvet_N.jpg",color:"#ffffff",type:"TriPlanar",listed:!1,props:{repeats:1,shininess:5}},painted_wood_floor_p:{folderName:"none",name:"Wood floor (p)",category:"Special",textureScale:80,mapPath:"/painted_wood_floor/d.jpg",type:"TriPlanar",listed:!1,props:{repeats:1,shininess:1}},vertexColor:{folderName:"none",mapPath:"https://cdn.hibervr.com/textures/vertex_noise/brightBlur3.jpg",name:"Default colors",extraClasses:"",category:"Special",type:"Phong",listed:!0,vertex:!0,props:{repeats:1,shininess:1}},water:{listed:!0,folderName:"none",name:"Water",category:"Animated",type:"Water",tags:"water,animated",props:{repeats:1,color:"#69A9CE"}},translucent:{listed:!0,folderName:"none",name:"Translucent",category:"Animated",type:"Translucent",tags:"translucent",props:{repeats:1,color:"#FF4500"}},red:{listed:!0,name:"Red",type:"Phong",extraClasses:"halfThumbSize",basicColor:!0,category:"Solid",bgColor:"#990000",props:{shininess:50,color:"#990000",light_color:"#fc2a31",light_intensity:0,light_distance:50}},red_plastic:{listed:!0,name:"Red Plastic",type:"Phong",extraClasses:"halfThumbSize",basicColor:!1,category:"Plastic",bgColor:"#990000",props:{shininess:300,color:"#990000"}},brown:{listed:!0,name:"Brown",type:"Phong",extraClasses:"halfThumbSize",basicColor:!0,category:"Solid",bgColor:"#a75928",props:{color:"#a75928",light_color:"#fffeb4",shininess:50,light_intensity:0,light_distance:50}},orange:{listed:!0,name:"Orange",type:"Phong",extraClasses:"halfThumbSize",basicColor:!0,category:"Solid",bgColor:"#ff9200",props:{color:"#ff9200",light_color:"#fffd4b",shininess:0,light_intensity:0,light_distance:50}},orange_plastic:{listed:!0,name:"Orange Plastic",type:"Phong",extraClasses:"halfThumbSize",basicColor:!1,category:"Plastic",bgColor:"#ff9200",props:{color:"#ff9200",shininess:300}},yellow:{listed:!0,name:"Yellow",type:"Phong",extraClasses:"halfThumbSize",basicColor:!0,category:"Solid",bgColor:"#ffff0a",props:{color:"#ffff0a",light_color:"#ffff00",shininess:50,light_intensity:0,light_distance:50}},yellow_plastic:{listed:!0,name:"Yellow Plastic",type:"Phong",extraClasses:"halfThumbSize",basicColor:!1,category:"Plastic",bgColor:"#ffff0a",props:{color:"#ffff0a",shininess:300}},green:{listed:!0,name:"Green",type:"Phong",extraClasses:"halfThumbSize",basicColor:!0,category:"Solid",bgColor:"#00ae0b",props:{color:"#00ae0b",light_color:"#4ffd64",shininess:50,light_intensity:0,light_distance:50}},green_plastic:{listed:!0,name:"Green Plastic",type:"Phong",extraClasses:"halfThumbSize",basicColor:!1,category:"Plastic",bgColor:"#00ae0b",props:{color:"#00ae0b",shininess:300}},cyan:{listed:!0,name:"Cyan",type:"Phong",extraClasses:"halfThumbSize",basicColor:!0,category:"Solid",bgColor:"#00a4c8",props:{color:"#00a4c8",light_color:"#57fffe",shininess:50,light_intensity:0,light_distance:50}},blue:{listed:!0,name:"Blue",type:"basic",extraClasses:"halfThumbSize",basicColor:!0,category:"Solid",bgColor:"#034880",props:{color:"#034880",light_color:"#5cfffe",shininess:50,light_intensity:0,light_distance:50}},blue_plastic:{listed:!0,name:"Blue Plastic",type:"Phong",extraClasses:"halfThumbSize",basicColor:!1,category:"Plastic",bgColor:"#034880",props:{color:"#034880",shininess:300}},purple:{listed:!0,name:"Purple",type:"Phong",extraClasses:"halfThumbSize",basicColor:!0,category:"Solid",bgColor:"#6100a5",props:{color:"#6100a5",light_color:"#fd48fc",shininess:50,light_intensity:0,light_distance:50}},pink:{listed:!0,name:"Pink",type:"Phong",extraClasses:"halfThumbSize",basicColor:!0,category:"Solid",bgColor:"#ca007b",props:{color:"#ca007b",light_color:"#ff7ffe",shininess:50,light_intensity:0,light_distance:50}},white:{listed:!0,name:"White",type:"Basic",extraClasses:"halfThumbSize",basicColor:!0,category:"Solid",bgColor:"#FFFFFF",props:{color:"#FFFFFF",light_color:"#FFFFFF",shininess:50,light_intensity:0,light_distance:50}},gray:{listed:!0,name:"Gray",type:"Phong",extraClasses:"halfThumbSize",basicColor:!0,category:"Solid",bgColor:"#5e5e5e",props:{color:"#5e5e5e",light_color:"#b7b7b7",shininess:50,light_intensity:0,light_distance:50}},black:{listed:!0,name:"Black",type:"Phong",extraClasses:"halfThumbSize",basicColor:!0,category:"Solid",bgColor:"#000000",props:{color:"#000000",light_color:"#707070",shininess:50,light_intensity:0,light_distance:50}},black_plastic:{listed:!0,name:"Black Plastic",type:"Phong",extraClasses:"halfThumbSize",basicColor:!1,category:"Plastic",bgColor:"#000000",props:{color:"#000000",shininess:300}},goal:{listed:!1,name:"Goal",type:"Basic",basicColor:!0,category:"Solid",bgColor:"#00ff00",props:{color:"#00ff00"}},gem:{listed:!1,name:"Gem",type:"Basic",basicColor:!0,category:"Solid",bgColor:"#ffff0a",props:{color:"#ffff0a"}},greenPlastic:{listed:!1,name:"Green Plasic",type:"Phong",bgColor:"#009900",props:{shininess:300,color:"#009900"}},bluePlastic:{listed:!1,name:"Blue Plasic",type:"Phong",bgColor:"#000099",props:{shininess:300,color:"#000099"}},yellowPlastic:{listed:!1,name:"Yellow Plasic",type:"Phong",bgColor:"#999900",props:{shininess:300,color:"#999900"}},purplePlastic:{listed:!1,name:"Purple Plasic",type:"Phong",bgColor:"#990099",props:{shininess:300,color:"#990099"}},greenGlow:{name:"Green Glow",listed:!1,type:"Basic",bgColor:"#00ff00",props:{opacity:1,color:"#00ff00",light_intensity:4,light_distance:.5}},redTransparent:{name:"Red Transparent",listed:!1,type:"Basic",bgColor:"#00ff00",props:{opacity:.4,color:"#ff0000"}},greenTransparent:{name:"Green Transparent",listed:!1,type:"Basic",bgColor:"#00ff00",props:{opacity:.4,color:"#00ff00"}},blueTransparent:{name:"Blue Transparent",listed:!1,type:"Basic",bgColor:"#0000ff",props:{opacity:.4,color:"#0000ff"}},whiteGlow:{name:"White Glow",listed:!1,type:"Basic",bgColor:"#ffffff",props:{opacity:1,color:"#ffffff",light_intensity:4,light_distance:70}},redGlow:{name:"Red Glow",listed:!1,type:"Basic",bgColor:"#ff0000",props:{opacity:1,color:"#ff0000",light_intensity:4,light_distance:50}},blueGlow:{name:"Blue Glow",listed:!1,type:"Basic",bgColor:"#0000ff",props:{opacity:1,color:"#0000ff",light_intensity:4,light_distance:50}},painted_wood_floor:{listed:!1,folderName:"none",name:"Painted wood floor",mapPath:"/painted_wood_floor/d.jpg",normalMapPath:"/painted_wood_floor/n.jpg",type:"Phong",tags:"floor,indoors",props:{repeats:1,shininess:10}},Basic:{type:"basic",listed:!1,folderName:"none",name:"Basic",mapPath:"/Basic/Basic.png",props:{repeats:2}},Hole:{listed:!1,folderName:"LuandaRust",name:"Holed Rust",type:"Phong",tags:"outdoors,rust,dirt,ground,",props:{repeats:1,shininess:2,alphaMap:"kaleidoscope.png"},mapPath:"/LuandaRust/d.jpg",normalMapPath:"/LuandaRust/n.jpg"},Spotlight:{folderName:"none",name:"Spotlight",type:"Basic",listed:!1,props:{shininess:10,color:"#72bbff",light_intensity:4,light_distance:1200}},Group:{folderName:"none",name:"Group",color:"#ffffff",type:"Basic",listed:!1,props:{opacity:1,color:"#ffffff"}},Thumb:{folderName:"none",name:"Thumb",color:"#ffffff",type:"Lambert",listed:!1,props:{color:"#dddddd"}},ThingPreview:{folderName:"none",name:"ThingPreview",color:"#ffffff",type:"Lambert",listed:!1,props:{opacity:.4,color:"#ffffff"}}};n.default=s},function(r,n,a){"use strict";a.r(n),n.default="#define PHONG\n#define USE_MAP\n#define USE_ENVMAP\n\nvarying vec4 vWorldPos;\nuniform float time;\n\nvarying vec3 vNormal;\n\nvarying vec3 vScale;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n#define M_PI 3.14159265358979323846\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\tvNormal = normalize(transformedNormal);\n  vScale = instanceScale;\n  vUv = uv;\n\tvWorldPos = worldPosition;\n}"},function(r,n,a){"use strict";a.r(n),n.default="#define PHONG\n#define USE_MAP \n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\nvarying vec2 vUv;\nvarying vec3 vScale;\nvarying vec3 vViewPosition;\nvarying vec4 vWorldPos;\nvarying float fresnel;\nvarying float distToCamera;\n\nuniform float time;\n\nconst float count = 17.0;\nconst float speed = 5.0;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n// #include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n//ios: #include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n#define M_PI 3.14159265358979323846\n#define randomNumber 10.288 // For laptops :(\n//#define randomNumber 43758.5453123\n// 2D Random\nfloat random3(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * 43758.5453123);\n}\n\n\nvec2 random2( vec2 p ) {\n  return fract(sin(vec2(dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3))))*43758.5453);\n}\n\nfloat noise(vec2 st) {\n    st = st * 8.0;\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    float a = random3(i);\n    float b = random3(i + vec2(1.0, 0.0));\n    float c = random3(i + vec2(0.0, 1.0));\n    float d = random3(i + vec2(1.0, 1.0));\n    vec2 u = f*f*(3.0-2.0*f);\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\nfloat circle(in vec2 _st, in float _innerRadius, in float _outerRadius, in float progress, float smoothing){\n    vec2 dist = _st-vec2(0.5);\n    float dir = atan(dist.y, dist.x);\n    float distsqr = dot(dist,dist)*4.0;\n    float progressEdge = (progress * 2.0 - 1.0) * PI;\n\treturn (1.-smoothstep(_outerRadius-(_outerRadius*smoothing),\n                         _outerRadius+(_outerRadius*smoothing),\n                         distsqr)) \n        * smoothstep(progressEdge - smoothing, progressEdge + smoothing, dir )\n        //* step(progressEdge , dir )\n        *\n        (1.-smoothstep(distsqr,distsqr + distsqr * smoothing * 1.840 , _innerRadius - _innerRadius * smoothing))\n        ;\n}\n\nfloat progressCircle(float progress){\n    vec2 pos = vUv.xy;\n    float fade = smoothstep(0.05, 0.00, progress) * 0.1;\n    float fadeMul = smoothstep(0.05, 0.00, progress) * 0.0000001;\n    pos += random2(pos * fadeMul) * fade - random2(pos * fadeMul + 0.1) * fade;\n\n  \treturn \n    circle(pos,0.5, 0.7,  progress, 0.01) +\n    circle(pos,0.45, 0.75,  0.0, 0.01) * 0.0 + \n    circle(pos,0.514, 0.758,  progress, 0.148) * 0.4+\n    circle(pos,0.5, 0.7,  0.0, 0.01) * .2;\n}\n\n\nvoid main() {\t\n\tvec4 diffuseColor =  vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t #include <logdepthbuf_fragment>\n\t #include <color_fragment>\n   #include <alphamap_fragment>\n\t #include <alphatest_fragment>\n\t #include <specularmap_fragment>\n   \n  // modulation \n  #include <aomap_fragment>\n\n  float worktime = time * speed;\n  float combinedData =  (vScale.z - 0.0001) * 100000000.0;\n  float totalCooldown = combinedData / 3600.0;\n  float timeLeft = mod(combinedData, 3600.0);\n  float progress = timeLeft / totalCooldown;\n\n  vec3 orange = vec3(1.000,0.669,0.082);\n  float progressCircleAlpha = progressCircle(progress);\n  float textAlpha = 0.0;\n  \n  gl_FragColor = vec4(orange, progressCircleAlpha +  textAlpha);\n\n  #include <tonemapping_fragment>\n  #include <encodings_fragment>\n  #include <fog_fragment>\n  #include <premultiplied_alpha_fragment>\n  #include <dithering_fragment>\n}"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GhostModeCommunicator=void 0;const i=a(151),o=a(6),s=a(152),y=a(153),_=a(154),w=a(197),E=a(41),j=a(19),q=a(218),$=a(69),ne=a(222),ie=a(223),oe=a(225),se=a(279);class GhostModeStatePacket{constructor(){this.entityUid=0,this.position=new j.Vector3(0,0,0),this.rotation=new j.Quaternion(0,0,0,1),this.avatarAnimationState=_.AvatarState.IDLE,this.tickNumber=0}serializeTo(r){r.writeU32(this.tickNumber),r.writeFloatX3(this.position,-3e3,3e3,.05),r.writeCompressedQuaternion(this.rotation,8),r.writeInt(this.avatarAnimationState,0,16)}deserializeFrom(r){this.tickNumber=r.readU32(),r.readFloatX3(this.position,-3e3,3e3,.05),r.readCompressedQuaternion(this.rotation,8),this.avatarAnimationState=r.readInt(0,16)}}GhostModeStatePacket.SIZE_OF=36;class GhostClientState{constructor(r){this.clientId=0,this.clientMeta=null,this.ghostEntityUid=0,this.ghostTagEntityUid=0,this.lastTickNumberReceived=0,this.ticksSinceLastPackage=0,this.clientId=r}}n.GhostModeCommunicator=class GhostModeCommunicator{constructor(r){this.enabled=!1,this.ghostAdded=new ne.Event,this.ghostRemoved=new ne.Event,this.networkLayer=null,this.ghostClients=new Map,this.tempGhostModeStatePacket=new GhostModeStatePacket,this.lastSendTick=0,this.entityManager=r}statusString(){let r='"'+q.getPlayerMetadata().username+'", peers: ';return this.ghostClients.forEach((n,a)=>{r+='"'+n.clientMeta.username+'" ('+n.ticksSinceLastPackage+"), "}),r}otherClients(){return Array.from(this.ghostClients,([r,n])=>n.clientMeta).filter(r=>!!r)}otherClients2(r){this.ghostClients.forEach((function(n,a){n.clientMeta&&r(n.clientMeta)}))}isHost(){var r;return(null===(r=this.networkLayer)||void 0===r?void 0:r.isHost)||!1}getHostMetadata(){var r;return(null===(r=this.networkLayer)||void 0===r?void 0:r.getHostMetadata())||null}getRoomId(){var r;return null===(r=this.networkLayer)||void 0===r?void 0:r.roomId}ensureNetworkLayer(){this.networkLayer||(this.networkLayer=new oe.NetworkLayer({host:o.default.brokerUrl}))}async createRoom(){$.log("GhostModeCommunicator::createRoom()"),this.ensureNetworkLayer();const r=await this.networkLayer.createRoom();return this.enabled=!0,r}async connectRoom(r){$.log("GhostModeCommunicator::connectRoom()"),this.ensureNetworkLayer(),await this.networkLayer.connectRoom(r),this.enabled=!0}destroy(){$.log("GhostModeCommunicator::destroy()"),this.enabled=!1,this.ghostClients.forEach(r=>{this.despawnGhost(r,this.entityManager)}),this.networkLayer.destroy(),this.networkLayer=null}receiveStates(r){var n;this.networkLayer.updateTick(r.currentTickNumber);for(const n of this.networkLayer.incomingPackages()){if(n.type===se.NetworkDataType.CHAT_MESSAGE){const r=this.ghostClients.get(n.clientId);(null==r?void 0:r.clientMeta)&&ie.ChatCommunicator.handleChatMessage(n,r.clientMeta);continue}if(n.type!==se.NetworkDataType.GHOST_MODE_STATE){$.error("GhostModeCommunicator: Received packet of unknown type, skipping");continue}let a=this.ghostClients.get(n.clientId);if(!a){a=new GhostClientState(n.clientId);const r=this.networkLayer.clients();for(let i=0;i<r.length;i++)if(r[i].clientId===n.clientId){a.clientMeta=r[i];break}if(!a.clientMeta){$.log("GhostModeComunicator: Missing meta data about client, skipping packet");continue}this.ghostClients.set(n.clientId,a),this.ghostAdded.emit(a.clientMeta)}this.tempGhostModeStatePacket.deserializeFrom(n.deserializer),this.tempGhostModeStatePacket.tickNumber<=a.lastTickNumberReceived?$.log("GhostModeCommunicator: Received old packet with tick ",this.tempGhostModeStatePacket.tickNumber,", latest received: ",a.lastTickNumberReceived,", skipping..."):(a.lastTickNumberReceived=this.tempGhostModeStatePacket.tickNumber,a.ticksSinceLastPackage=0,n.clientId!==this.networkLayer.clientId&&this.applyState(a,this.tempGhostModeStatePacket,r))}for(const a of this.ghostClients.values())a.ticksSinceLastPackage+=1,a.ticksSinceLastPackage>200&&(this.despawnGhost(a,r),this.ghostClients.delete(a.clientId),this.ghostRemoved.emit((null===(n=a.clientMeta)||void 0===n?void 0:n.username)||""))}sendStates(r){if(r.currentTickNumber-this.lastSendTick<2)return;this.lastSendTick=r.currentTickNumber;const n=r.getOrCreateSingleton(y.PlayerState),{node:a,avatar:i}=n.playerEntity;this.tempGhostModeStatePacket.entityUid=n.playerEntity.uid,this.tempGhostModeStatePacket.position.copy(a.position),this.tempGhostModeStatePacket.rotation.set(a.rotation.x,a.rotation.y,a.rotation.z,a.rotation.w),this.tempGhostModeStatePacket.avatarAnimationState=i.state,this.tempGhostModeStatePacket.tickNumber=r.currentTickNumber;const o=this.networkLayer.queuePackage(r.currentTickNumber,se.NetworkDataType.GHOST_MODE_STATE,this.tempGhostModeStatePacket);this.networkLayer.sendPackages(),o||$.warn("GhostModeCommunicator: Failed to send state")}applyState(r,n,a){0===r.ghostEntityUid&&this.spawnGhost(r,a);let i=a.getEntity(r.ghostEntityUid);if(i||(this.spawnGhost(r,a),i=a.getEntity(r.ghostEntityUid)),a.hasComponent(i,w.default)){const{node:r,avatar:a,lerpTransformTarget:o}=i;o.target.position.copy(n.position),o.target.rotation.copy(n.rotation),r.isDirty=!0,a.state!==n.avatarAnimationState&&(a.animations&&a.animations.idle?(a.transitionTo(n.avatarAnimationState),_.checkTransition(i,this.entityManager)):$.warn("GhostModeCommunicator: No avatar animations available"))}}spawnGhost(r,n){const a=r.clientMeta;$.log("Spawning ghost for client ",a.clientId," with username ",a.username);const o=n.create();r.ghostEntityUid=o.uid,n.addComponentSlow(o,E.default,{position:{x:0,y:0,z:0}}),n.addComponentSlow(o,w.default,{model:a.playerAvatar,isGhost:!1}),n.addComponentSlow(o,i.default,{});const y=n.create();r.ghostTagEntityUid=y.uid,n.addComponentSlow(y,E.default,{position:{x:0,y:1,z:0}}).parent=o.uid,n.addComponentSlow(y,s.default,{text:a.username,scale:2.5,color:"#F0F5FFFF",bgColor:"#000020"})}despawnGhost(r,n){if(0===r.ghostEntityUid)return;const a=n.getEntity(r.ghostEntityUid);if(!a)return void(r.ghostEntityUid=0);n.remove(a);const i=n.getEntity(r.ghostTagEntityUid);i&&n.remove(i),r.ghostTagEntityUid=0}}},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(24),_=a(26),w=a(41);class LerpTransformTargetComponent extends y.default{constructor(){super(...arguments),this.target=(new w.Transform).setIdentity()}}LerpTransformTargetComponent.componentName="lerpTransformTarget",o([_.Property(),s("design:type","function"==typeof(i=void 0!==w.Transform&&w.Transform)?i:Object)],LerpTransformTargetComponent.prototype,"target",void 0),n.default=LerpTransformTargetComponent},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class TextBillboardComponent extends s.default{constructor(){super(...arguments),this.sprite=null,this.cacheKey=0,this.text="HelloWorld",this.scale=1,this.color="white",this.bgColor="black",this.cache=!1,this.bgLineWidth=20,this.sizeAttenuation=!0}}TextBillboardComponent.componentName="textBillboard",i([y.Property(),o("design:type",Number)],TextBillboardComponent.prototype,"cacheKey",void 0),i([y.Property(),o("design:type",String)],TextBillboardComponent.prototype,"text",void 0),i([y.Property(),o("design:type",Number)],TextBillboardComponent.prototype,"scale",void 0),i([y.Property(),o("design:type",String)],TextBillboardComponent.prototype,"color",void 0),i([y.Property(),o("design:type",String)],TextBillboardComponent.prototype,"bgColor",void 0),i([y.Property(),o("design:type",Boolean)],TextBillboardComponent.prototype,"cache",void 0),i([y.Property(),o("design:type",Number)],TextBillboardComponent.prototype,"bgLineWidth",void 0),i([y.Property(),o("design:type",Boolean)],TextBillboardComponent.prototype,"sizeAttenuation",void 0),n.default=TextBillboardComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerState=void 0;const i=a(24),o=a(8),s=a(39);class PlayerState extends i.default{constructor(){super(...arguments),this.playerUid=s.ENTITY_INVALID_UID}set playerEntity(r){this.playerUid=r?r.uid:s.ENTITY_INVALID_UID}get playerEntity(){return o.entityManager.getEntity(this.playerUid)}}n.PlayerState=PlayerState,PlayerState.componentName="PlayerState"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.checkTransition=n.avatarSteps=n.avatarCanTransitionTo=n.AvatarState=void 0;const i=a(19),o=a(18),s=a(155),y=a(171),_=a(169),w=a(176);var E;function avatarSetAction(r,n,a=1,o=!1,s=!0){if(r.currentAnimation===n)return;if(!r.animations[n])return void console.warn(`Action ${n} does not exist on avatar`);const y=r.animations[r.currentAnimation],_=r.animations[n];_.enabled=!0,_.setEffectiveTimeScale(w.BPMSync.getAvatarAnimationScale(r,n)),_.setEffectiveWeight(1),o&&(_.time=0),s||(_.reset(),_.setLoop(i.LoopOnce,1)),y._scheduleFading(a,y.getEffectiveWeight(),0),_._scheduleFading(a,_.getEffectiveWeight()-y.getEffectiveWeight(),1),r.currentAnimation=n}function avatarFadeTo(r,n,a,i=1){const s=r.animations[n];o.default.round1(s.getEffectiveWeight())!==o.default.round1(a)&&s._scheduleFading(i,s.getEffectiveWeight(),a)}!function(r){r[r.IDLE=0]="IDLE",r[r.MOVING=1]="MOVING",r[r.JUMPING=2]="JUMPING",r[r.FALLING=3]="FALLING",r[r.DEATH=4]="DEATH",r[r.EMOTE_1=5]="EMOTE_1",r[r.DANCING_GOAL=6]="DANCING_GOAL"}(E=n.AvatarState||(n.AvatarState={})),n.avatarCanTransitionTo=(r,n)=>{if(r===n)return!1;switch(r){case E.IDLE:if(n===E.IDLE)return!1;break;case E.MOVING:if(n===E.MOVING)return!1;if(n===E.EMOTE_1)return!1;break;case E.JUMPING:if(n===E.JUMPING)return!1;if(n===E.EMOTE_1)return!1;break;case E.FALLING:if(n===E.FALLING)return!1;if(n===E.EMOTE_1)return!1;break;case E.DANCING_GOAL:if(n===E.JUMPING)return!1;break;case E.EMOTE_1:break;case E.DEATH:if(n===E.DEATH)return!1;if(n===E.EMOTE_1)return!1}return!0},n.avatarSteps=["A_Fol_DrySoilFootstep_R_2","A_Fol_DrySoilFootstep_R_1","A_Fol_DrySoilFootstep_L_5","A_Fol_DrySoilFootstep_L_3","A_Fol_DrySoilFootstep_L_1"],n.checkTransition=function checkTransition(r,a){const{node:o,avatar:w}=r;if(w.prevState===w.state||!w.animations.walking)return;const j=w.state,q=w.prevState;if(w.prevState=w.state,w.animations.walking.timeScale=1,w.animations.running.timeScale=1,w.animations.leftStrafe.timeScale=1,w.animations.rightStrafe.timeScale=1,q!==E.FALLING&&q!==E.JUMPING||j!==E.MOVING&&j!==E.IDLE||(a.getSystem(s.default).playMixedPositionalSound(n.avatarSteps,r.node.position,.25*_.AUDIO_DEFAULT_VOLUME,_.AUDIO_DEFAULT_REF_DISTANCE,.8),w.lastStep=0),j!==E.MOVING){const r=j===E.FALLING||j===E.IDLE?.5:.02;avatarFadeTo(w,"walking",0,r),avatarFadeTo(w,"running",0,r),avatarFadeTo(w,"leftStrafe",0,r),avatarFadeTo(w,"rightStrafe",0,r)}if(j===E.MOVING&&(w.animations.running.stopFading(),w.animations.walking.stopFading(),w.animations.leftStrafe.stopFading(),w.animations.rightStrafe.stopFading(),w.animations.walking.enabled=!0,w.animations.running.enabled=!0,w.animations.leftStrafe.enabled=!0,w.animations.rightStrafe.enabled=!0,avatarSetAction(w,"running",.1)),j===E.IDLE&&avatarSetAction(w,"idle",.1),j===E.JUMPING&&avatarSetAction(w,"jump",.1,!0),j===E.FALLING&&avatarSetAction(w,"falling",.5),j===E.DANCING_GOAL&&(w.animations.victory.reset(),avatarSetAction(w,"victory",.5)),j===E.EMOTE_1&&(w.animations.victory.reset(),avatarSetAction(w,"victory",.5)),j===E.DEATH){const n=a.getSystem(y.default).intersectsRay(r.node.position,new i.Vector3(0,-1,0),!1);q===E.FALLING&&0===n.length?(avatarSetAction(w,"falling_death",.3,!0,!0),Math.random()<=.001&&a.getSystem(s.default).playPositionalSound("FallingSound1",o.position,4).node.setParent(r)):avatarSetAction(w,"ground_death",.1,!0,!1)}}},function(r,n,a){"use strict";var i,o,s,y,_=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},w=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const E=a(36),j=a(156),q=a(37),$=a(75),ne=a(40),ie=a(8),oe=a(157),se=a(41),le=a(159),pe=a(19),he=a(167),me=a(168),ge=a(169),ye=a(170);class AudioSystem extends ne.default{constructor(){super(),this.tmpTransform=new se.Transform,this.tmpVec1=new pe.Vector3,this.sourceNodePool=new ye.MultiPool(()=>ie.audioListener.context.createBufferSource()),this.positionalAudioPool=new $.default(()=>new pe.PositionalAudio(ie.audioListener),1,{expandFunc:()=>1}),this.audioPool=new $.default(()=>new pe.Audio(ie.audioListener),1,{expandFunc:()=>1})}onInit(){this.audioGroup.on("entityAdded",this.handleEntityAdded,this),this.audioGroup.on("entityUpdated",this.handleEntityUpdated,this),this.audioGroup.on("entityRemoved",this.handleEntityRemoved,this),this.soundGroup.on("entityAdded",this.handleSoundAdded,this),this.soundGroup.on("entityUpdated",this.handleSoundUpdated,this),this.soundGroup.on("entityRemoved",this.handleSoundRemoved,this)}async updateAudio(r,n){const{object:a}=n;if(!a)return void console.error("Audio obj doesnt exist?");if(n.isLoading)return void console.warn(`audio '${n.sound}' is already loading`);n.isLoading=!0;const i=await ie.assetManager.getLoader(oe.AudioLoader).load({name:n.sound});if(!i||r.isFree)return n.isLoading=!1,void(a.isPlaying&&a.stop());n.durationMs=1e3*i.duration,n.startTimeMs=performance.now(),a.buffer!==i?(n.isLoading=!1,a.isPlaying&&a.stop(),void 0!==n.detune&&(a.detune=n.detune),a.setBuffer(i),a.setLoop(n.loop),a.setVolume(n.volume),a.setPlaybackRate(n.playbackRate),a.setLoop(n.loop),a.autoplay=!0,a.isPlaying||a.play()):n.isLoading=!1}async updatePositional(r){const n=r.object;n?(n.setRefDistance(r.refDistance),n.setRolloffFactor(r.rolloffFactor),n.setDistanceModel(r.distanceModel),n.setMaxDistance(r.maxDistance),n.setDirectionalCone(r.coneInnerAngle,r.coneOuterAngle,r.coneOuterGain)):console.error("Audio obj doesnt exist?")}handleEntityAdded(r){const{node:n,audio:a}=r;a.object=this.positionalAudioPool.allocate();const{object:i}=a,o=n.getAbsoluteTransform(this.tmpTransform),s=this.tmpVec1.set(0,0,1).applyQuaternion(o.rotation),y=i.panner;y.positionX?(i.panner.positionX.value=o.position.x,i.panner.positionY.value=o.position.y,i.panner.positionZ.value=o.position.z,i.panner.orientationX.value=s.x,i.panner.orientationY.value=s.y,i.panner.orientationZ.value=s.z):(y.setPosition(o.position.x,o.position.y,o.position.z),y.setOrientation(s.x,s.y,s.z)),this.updatePositional(a),this.updateAudio(r,a)}handleEntityUpdated(r){const{node:n,audio:a}=r,{object:i}=a;i?(i.position.copy(n.position),i.quaternion.copy(n.rotation),i.updateMatrixWorld(!0),this.updatePositional(a),this.updateAudio(r,a)):console.error("Audio obj doesnt exist?")}handleEntityRemoved(r){const n=r.audio;n.object&&(n.object.isPlaying&&n.object.stop(),n.object.autoplay=!1,n.object.offset=0,n.object.setBuffer(null),n.object.panner.positionX?(n.object.panner.positionX.cancelScheduledValues(ie.audioListener.context.currentTime),n.object.panner.positionY.cancelScheduledValues(ie.audioListener.context.currentTime),n.object.panner.positionZ.cancelScheduledValues(ie.audioListener.context.currentTime),n.object.panner.positionX.value=99999,n.object.panner.positionY.value=99999,n.object.panner.positionZ.value=99999):n.object.panner.setPosition(99999,99999,99999),this.positionalAudioPool.free(n.object),n.object=null)}handleSoundAdded(r){r.sound.object=this.audioPool.allocate(),this.updateAudio(r,r.sound)}handleSoundUpdated(r){this.updateAudio(r,r.sound)}handleSoundRemoved(r){const n=r.sound;n.object&&(n.object.isPlaying&&n.object.stop(),n.object.autoplay=!1,n.object.offset=0,n.object.setBuffer(null),this.audioPool.free(n.object),r.sound.object=null)}playPositionalSound(r,n,a=ge.AUDIO_DEFAULT_VOLUME,i=ge.AUDIO_DEFAULT_REF_DISTANCE,o=ge.AUDIO_DEFAULT_ROLLOFF_FACTOR,s=ge.AUDIO_DEFAULT_MAX_DISTANCE,y=0){const _=this.entityManager.create();{const r=this.entityManager.addComponentBegin(_,se.default);r.position.copy(n),r.parent=y}{const n=this.entityManager.addComponentBegin(_,ge.default);n.sound=r,n.volume=a,n.refDistance=i,n.rolloffFactor=o,n.maxDistance=s}return this.entityManager.addComponentFinalize(),_}playMixedPositionalSound(r,n,a=ge.AUDIO_DEFAULT_VOLUME,i=ge.AUDIO_DEFAULT_REF_DISTANCE,o=ge.AUDIO_DEFAULT_ROLLOFF_FACTOR,s=ge.AUDIO_DEFAULT_MAX_DISTANCE,y=0){const _=r[Math.ceil(Math.random()*r.length)-1];return this.playPositionalSound(_,n,a,i,o,s,y)}playSound(r,n=ge.AUDIO_DEFAULT_VOLUME,a=!1,i=0){const o=this.entityManager.create(),s=this.entityManager.addComponentBegin(o,he.default);return s.sound=r,s.loop=a,s.volume=n,s.detune=i,this.entityManager.addComponentFinalize(),o}playSoundSlow(r,n={}){const a=this.entityManager.create(),i=this.entityManager.addComponentBegin(a,he.default);Object.assign(i,n),i.sound=r,i.playOnce=!0,this.entityManager.addComponentFinalize()}playMixedSoundSlow(r,n={}){const a=r[Math.ceil(Math.random()*r.length)-1];this.playSoundSlow(a,n)}updateTick(r,n){if(r%2==0)return;const a=performance.now();for(let r=0;r<this.audioGroup.length;r++){const i=this.audioGroup.entities[r],{node:o,audio:s}=i,y=o.getAbsoluteTransform(this.tmpTransform);if(o&&s.object){const r=s.object.panner,a=this.tmpVec1.set(0,0,1).applyQuaternion(y.rotation);if(r.positionX){const i=s.object.context.currentTime+n;r.positionX.linearRampToValueAtTime(y.position.x,i),r.positionY.linearRampToValueAtTime(y.position.y,i),r.positionZ.linearRampToValueAtTime(y.position.z,i),r.orientationX.linearRampToValueAtTime(a.x,i),r.orientationY.linearRampToValueAtTime(a.y,i),r.orientationZ.linearRampToValueAtTime(a.z,i)}else r.setPosition(y.position.x,y.position.y,y.position.z),r.setOrientation(a.x,a.y,a.z)}s.object&&!s.isLoading&&s.playOnce&&!s.loop&&a-s.startTimeMs>s.durationMs&&this.entityManager.removeDeffered(i)}for(let r=0;r<this.soundGroup.length;r++){const n=this.soundGroup.entities[r],{sound:i}=n;i.object&&!i.isLoading&&i.playOnce&&!i.loop&&a-i.startTimeMs>i.durationMs+100&&this.entityManager.removeDeffered(n)}const i=this.audioListeners.entities[0];if(i){const{node:r}=i,n=r.getAbsoluteTransform(this.tmpTransform);ie.audioListener.position.copy(n.position),ie.audioListener.quaternion.copy(this.renderSystem.camera.quaternion),ie.audioListener.updateMatrix(),ie.audioListener.updateMatrixWorld()}}}AudioSystem.order=999,_([E.InjectGroup(se.default,ge.default),w("design:type","function"==typeof(i=void 0!==q.default&&q.default)?i:Object)],AudioSystem.prototype,"audioGroup",void 0),_([E.InjectGroup(se.default,me.default),w("design:type","function"==typeof(o=void 0!==q.default&&q.default)?o:Object)],AudioSystem.prototype,"audioListeners",void 0),_([E.InjectGroup(he.default),w("design:type","function"==typeof(s=void 0!==q.default&&q.default)?s:Object)],AudioSystem.prototype,"soundGroup",void 0),_([j.InjectSystem(r=>le.default),w("design:type","function"==typeof(y=void 0!==le.default&&le.default)?y:Object)],AudioSystem.prototype,"renderSystem",void 0),n.default=AudioSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InjectSystem=void 0,n.InjectSystem=function InjectSystem(r){return(n,a)=>{let i=Reflect.getMetadata("design:type",n,a);const o=Reflect.getMetadata("ecs:systems",n)||{};i===Object&&(i=r()),Reflect.defineMetadata("ecs:systems",Object.assign(Object.assign({},o),{[a]:{getType:r,type:i}}),n)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AudioLoader=void 0;const i=a(30),o=a(9),s=a(19),y=a(6),_=a(158),w=a(34);class AudioLoader extends i.AssetLoader{constructor(){super(...arguments),this.audioLoader=new s.AudioLoader}generateKey(r){return r.name}async _load(r){const n=_.default[r.name];if(!n)return null;const a=encodeURI(`${y.default.urlCDN}/sound2/${n.pathname}/${n.filename}.mp3`);return new Promise((r,n)=>{this.audioLoader.load(w.getCachedFileUri(a),n=>{r(n)},r=>{},r=>{n(r)})})}}n.AudioLoader=AudioLoader,AudioLoader.assetType=o.AssetType.AUDIO},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default={Vanic_Somewhere_Better:{name:"Vanic - Somewhere Better",thumb:"Somewhere_Better_2",filename:"Somewhere_Better_2",listed:!1,looped:!0,pathname:"music",category:"music",bpm:100,origin:{license:"From artist",credits:"",url:""}},Vanic_Somewhere_Better_teaser:{name:"Vanic - Somewhere Better teaser",thumb:"Somewhere_Better_2",filename:"Vanic_Somewhere_Better_teaser",listed:!1,looped:!0,pathname:"music",category:"music",bpm:100,origin:{license:"From artist",credits:"",url:""}},Vanic_PTLD:{name:"Vanic PTLD",thumb:"Vanic_PTLD",filename:"Vanic_PTLD",listed:!0,looped:!0,pathname:"music",category:"music",bpm:78,origin:{license:"From artist",credits:"",url:""}},Vanic_Im_Yours:{name:"Vanic - Im Yours",thumb:"Vanic_Im_Yours",filename:"Vanic_Im_Yours",listed:!0,looped:!0,pathname:"music",category:"music",bpm:71,origin:{license:"From artist",credits:"",url:""}},Vanic_and_Fairlane_Earn_It:{name:"Vanic & Fairlane - Earn It",thumb:"Vanic_and_Fairlane_Earn_It",filename:"Vanic_and_Fairlane_Earn_It",listed:!0,looped:!0,pathname:"music",category:"music",bpm:125,origin:{license:"From artist",credits:"",url:""}},Vanic_and_Aspen_King_Run:{name:"Vanic & AspenKing - Run",thumb:"Vanic_and_Aspen_King_Run",filename:"Vanic_and_Aspen_King_Run",listed:!0,looped:!0,pathname:"music",category:"music",bpm:100,origin:{license:"From artist",credits:"",url:""}},the_forest1:{name:"The Forest 1",thumb:"the_forest1",filename:"the_forest1",listed:!0,looped:!0,pathname:"ambient",category:"ambient",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},the_forest2:{name:"The Forest 2",thumb:"the_forest2",filename:"the_forest2",listed:!0,looped:!0,pathname:"ambient",category:"ambient",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},dry_mud:{name:"Digging",filename:"dry_mud",listed:!0,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},boom:{name:"Boom",filename:"boom",listed:!0,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},hit_wall:{name:"Hit Wall",filename:"hit_wall",listed:!0,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},boom_blast:{name:"Boom blast",filename:"boom_blast",listed:!0,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},elephant:{name:"Elephant",filename:"elephant",listed:!0,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},Tobu_Cruel_loop:{name:"Tobu - Cruel",thumb:"Tobu_Cruel_loop",filename:"Tobu_Cruel_loop",listed:!0,looped:!0,ribbon:0,pathname:"music",category:"music",bpm:73.5,origin:{license:"Directly from artist",credits:"Tobu",url:"http://youtube.com/tobuofficial",HTML:'\n        Music: Tobu - Cruel<br>\n        <a target="_blank" href="http://youtube.com/tobuofficial">http://youtube.com/tobuofficial</a><br>\n        <a target="_blank" href="https://www.youtube.com/user/officialitro">https://www.youtube.com/user/officialitro</a><br>'}},Tobu_Infectious_loop:{name:"Tobu - Infectious",thumb:"Tobu_Infectious_loop",filename:"Tobu_Infectious_loop",listed:!0,looped:!0,ribbon:0,pathname:"music",category:"music",bpm:112,origin:{license:"Directly from artist",credits:"Tobu",url:"http://youtube.com/tobuofficial",HTML:'\n        Music: Tobu - Infectious<br>\n        <a target="_blank" href="http://youtube.com/tobuofficial">http://youtube.com/tobuofficial</a><br>\n        <a target="_blank" href="https://www.youtube.com/user/officialitro">https://www.youtube.com/user/officialitro</a><br>\n        Released by NCS <a target="_blank" href="https://www.youtube.com/NoCopyrightSounds">https://www.youtube.com/NoCopyrightSounds</a>'}},Tobu_Bonalt_Hadi_Blessing_loop:{name:"Tobu, Bonalt & Hadi - Blessing",thumb:"Tobu_Bonalt_Hadi_Blessing_loop",filename:"Tobu_Bonalt_Hadi_Blessing_loop",listed:!0,looped:!0,ribbon:0,pathname:"music",category:"music",bpm:112,origin:{license:"Directly from artist",credits:"Tobu, Bonalt & Hadi",url:"http://youtube.com/tobuofficial",HTML:'\n        Music: Tobu, Bonalt & Hadi - Blessing<br>\n        <a target="_blank" href="http://youtube.com/tobuofficial">http://youtube.com/tobuofficial</a><br>\n        <a target="_blank" href="https://www.youtube.com/user/officialitro">https://www.youtube.com/user/officialitro</a><br>'}},Tobu_Candyland_pt_II_loop:{name:"Tobu - Candyland pt II",thumb:"Tobu_Candyland_pt_II_loop",filename:"Tobu_Candyland_pt_II_loop",listed:!0,looped:!0,ribbon:0,pathname:"music",category:"music",bpm:128,origin:{license:"Directly from artist",credits:"Tobu",url:"http://youtube.com/tobuofficial",HTML:'\n        Music: Tobu - Candyland pt.II<br>\n        <a target="_blank" href="http://youtube.com/tobuofficial">http://youtube.com/tobuofficial</a><br>\n        <a target="_blank" href="https://www.youtube.com/user/officialitro">https://www.youtube.com/user/officialitro</a><br>'}},Tobu_Louder_Now_loop:{name:"Tobu - Louder Now",thumb:"Tobu_Louder_Now_loop",filename:"Tobu_Louder_Now_loop",listed:!0,looped:!0,ribbon:0,pathname:"music",category:"music",bpm:128,origin:{license:"Directly from artist",credits:"Tobu",url:"http://youtube.com/tobuofficial",HTML:'\n        Music: Tobu - Louder Now<br>\n        <a target="_blank" href="http://youtube.com/tobuofficial">http://youtube.com/tobuofficial</a><br>\n        <a target="_blank" href="https://www.youtube.com/user/officialitro">https://www.youtube.com/user/officialitro</a><br>'}},Tobu_Bonalt_Hadi_Find_Myself_loop:{name:"Tobu, Bonalt & Hadi - Find Myself",thumb:"Tobu_Bonalt_Hadi_Find_Myself_loop",filename:"Tobu_Bonalt_Hadi_Find_Myself_loop",listed:!0,looped:!0,ribbon:0,pathname:"music",category:"music",bpm:130,origin:{license:"Directly from artist",credits:"Tobu, Bonalt & Hadi",url:"http://youtube.com/tobuofficial",HTML:'\n        Music: Tobu, Bonalt & Hadi - Find Myself<br>\n        <a target="_blank" href="http://youtube.com/tobuofficial">http://youtube.com/tobuofficial</a><br>\n        <a target="_blank" href="https://www.youtube.com/user/officialitro">https://www.youtube.com/user/officialitro</a><br>'}},Tobu_Itro_Sunburst_loop:{name:"Tobu & Itro - Sunburst",thumb:"Tobu_Itro_Sunburst_loop",filename:"Tobu_Itro_Sunburst_loop",listed:!0,looped:!0,ribbon:0,pathname:"music",category:"music",bpm:128,origin:{license:"Directly from artist",credits:"Tobu & Itro",url:"http://youtube.com/tobuofficial",HTML:'\n        Music: Tobu & Itro - Sunburst<br>\n        <a target="_blank" href="http://youtube.com/tobuofficial">http://youtube.com/tobuofficial</a><br>\n        <a target="_blank" href="https://www.youtube.com/user/officialitro">https://www.youtube.com/user/officialitro</a><br>\n        Released by NCS <a target="_blank" href="https://www.youtube.com/NoCopyrightSounds">https://www.youtube.com/NoCopyrightSounds</a>'}},Tobu_Candyland_loop:{name:"Tobu - Candyland",thumb:"Tobu_Candyland_loop",filename:"Tobu_Candyland_loop",listed:!0,looped:!0,ribbon:0,pathname:"music",category:"music",bpm:128,origin:{license:"Directly from artist",credits:"Tobu",url:"http://youtube.com/tobuofficial",HTML:'\n        Music: Tobu - Candyland<br>\n        <a target="_blank" href="http://youtube.com/tobuofficial">http://youtube.com/tobuofficial</a><br>\n        Released by NCS <a target="_blank" href="https://www.youtube.com/NoCopyrightSounds">https://www.youtube.com/NoCopyrightSounds</a>'}},Itro_Tobu_Cloud9_loop:{name:"Itro & Tobu - Cloud 9",thumb:"Itro_Tobu_Cloud9_loop",filename:"Itro_Tobu_Cloud9_loop",listed:!0,looped:!0,ribbon:0,pathname:"music",category:"music",bpm:128,origin:{license:"Directly from artist",credits:"Tobu & Syndec",url:"http://youtube.com/tobuofficial",HTML:'\n        Music: Itro & Tobu - Cloud 9<br>\n        <a target="_blank" href="http://youtube.com/tobuofficial">http://youtube.com/tobuofficial</a><br>\n        <a target="_blank" href="https://www.youtube.com/user/officialitro">https://www.youtube.com/user/officialitro</a><br>\n        Released by NCS <a target="_blank" href="https://www.youtube.com/NoCopyrightSounds">https://www.youtube.com/NoCopyrightSounds</a>'}},fart2:{name:"Fart 2",filename:"fart2",listed:!1,looped:!0,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},dog_bark:{name:"Dog bark",filename:"dog_bark",listed:!1,looped:!0,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},dog_bark_growl:{name:"Dog bark growl",filename:"dog_bark_growl",listed:!1,looped:!0,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},small_dog_barking:{name:"Small dog barking",filename:"small_dog_barking",listed:!1,looped:!0,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},Pug_Smack_02:{name:"Pug Smack",filename:"Pug_Smack_02",listed:!1,looped:!0,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},Tobu_Syndec_Dusk:{name:"Tobu & Syndec - Dusk",thumb:"Tobu_Syndec_Dusk",filename:"Tobu_Syndec_Dusk",listed:!0,looped:!0,pathname:"music",category:"music",bpm:128,origin:{license:"Directly from artist",credits:"Tobu & Syndec",url:"https://www.youtube.com/NoCopyrightSounds",HTML:'Music: Tobu & Syndec - Dusk<br><a target="_blank" href="http://youtube.com/tobuofficial">http://youtube.com/tobuofficial</a><br><a target="_blank" href="https://www.facebook.com/OfficialSyndec">https://www.facebook.com/OfficialSyndec</a><br>Released by NCS <a target="_blank" href="https://www.youtube.com/NoCopyrightSounds">https://www.youtube.com/NoCopyrightSounds</a>'}},firework_explosion_fizz:{name:"Firework explosion fizz",filename:"firework_explosion_fizz",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},splat_on_wall:{name:"Water splat on wall",filename:"splat_on_wall_2",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},water_squirt:{name:"Water squirt",filename:"water_squirt",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},balloon_blow:{name:"balloon_blow",filename:"balloon_blow",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},big_plasma:{name:"big_plasma",filename:"big_plasma",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser_burst:{name:"laser_burst",filename:"laser_burst",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser_heavy:{name:"laser_heavy",filename:"laser_heavy",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser_light:{name:"laser_light",filename:"laser_light",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser_ice:{name:"laser_ice",filename:"laser_ice",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},undissolve:{name:"Undissolve",filename:"undissolve2",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},change_weapon:{name:"Change weapon",filename:"change_weapon",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},leave_game:{name:"Leave game",filename:"leave_game",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},join_game:{name:"Join game",filename:"join_game",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},tick_tock:{name:"Tick tock",filename:"tick_tock",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},BoxingBellRing:{name:"Boxing Bell Ring",filename:"BoxingBellRing",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},last_chance:{name:"Last Chance",filename:"last_chance",listed:!1,looped:!0,pathname:"music",category:"music",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},splat:{listed:!1,name:"splat",filename:"splat",pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},splat2:{listed:!1,name:"splat2",filename:"splat2",pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},splat3:{listed:!1,name:"splat3",filename:"splat3",pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},warpHit:{name:"Warp Hit",filename:"warpHit",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},killSound:{name:"Kill Sound",filename:"kill-sound-2",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},impactBody:{name:"Impact Body ",filename:"Impact_Body_03",listed:!0,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},impactMetal:{name:"Impact Metal ",filename:"impact_metal",listed:!0,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser2:{name:"laser2",filename:"laser2",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser3:{name:"laser3",filename:"laser3",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser4:{name:"laser4",filename:"laser4",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser5:{name:"laser5",filename:"laser5",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser6:{name:"laser6",filename:"laser6",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser7:{name:"laser7",filename:"laser7",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser8:{name:"laser8",filename:"laser8",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser9:{name:"laser9",filename:"laser9",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser10:{name:"laser10",filename:"laser10",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser11:{name:"laser11",filename:"laser11",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser12:{name:"laser12",filename:"laser12",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser13:{name:"laser13",filename:"laser13",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser14:{name:"laser14",filename:"laser14",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser_big:{name:"Big laser",filename:"laser-big",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},laser1:{name:"Laser 1",filename:"piplaser",listed:!0,looped:!1,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},christmas_eve:{name:"christmas Eve",filename:"christmas_eve",pathname:"music",category:"music",thumb:"christmas_eve",bpm:90,looped:!0,listed:!0,origin:{license:"CC0 1.0",credits:"TRG Banks",url:"https://freemusicarchive.org/music/TRG_Banks/TRG_Banks_Christmas_Album/Christmas_Eve"}},christmas_light:{name:"Christmas light",filename:"christmas_light",pathname:"music",category:"music",thumb:"christmas_light",bpm:100,looped:!0,listed:!0,origin:{license:"CC0 1.0",credits:"TRG Banks",url:"https://freemusicarchive.org/music/TRG_Banks/TRG_Banks_Christmas_Album/Christmas_lights"}},warp1:{name:"Warp 1",filename:"warp1",listed:!0,looped:!0,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},warp2:{name:"Warp 2",filename:"warp2",listed:!0,looped:!0,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},powerup1:{name:"Power up 1",filename:"powerup1",listed:!0,looped:!1,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},powerup2:{name:"Power up 2",filename:"powerup2",listed:!0,looped:!1,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},humming:{name:"Humming",filename:"humming",pathname:"ambient",category:"ambient",thumb:"humming",looped:!0,listed:!0,origin:{license:"CC0 1.0",credits:"peridactyloptrix",url:"https://freesound.org/people/peridactyloptrix/sounds/213528/"}},orange_treasure:{name:"Orange treasure",filename:"orange_treasure",pathname:"music",category:"music",thumb:"orange_treasure",bpm:98,looped:!0,listed:!0,origin:{license:"CC-BY 3.0",credits:"frankum",url:"https://freesound.org/people/frankum/sounds/418735/"}},volfram:{name:"Volfram",filename:"volfram",pathname:"music",category:"music",thumb:"volfram",bpm:125,looped:!0,listed:!0,origin:{license:"CC0 1.0",credits:"Greek555",url:"https://freesound.org/people/Greek555/sounds/476521/"}},mystic_island:{name:"Mystic island",filename:"mystic_island",pathname:"music",category:"music",thumb:"mystic_island",bpm:100,looped:!0,listed:!0,origin:{license:"CC-BY 4.0",credits:"Wolfgang",url:"https://opengameart.org/content/lava-area-theme"}},halloween:{name:"Halloween",filename:"halloween",pathname:"ambient",category:"ambient",thumb:"halloween",looped:!0,listed:!0,origin:{license:"CC0 1.0",credits:"Filax",url:"https://freesound.org/people/Filax/sounds/169319/"}},screamofsouls:{name:"Scream of souls",filename:"screamofsouls",pathname:"ambient",category:"ambient",thumb:"screamofsouls",looped:!0,listed:!0,origin:{license:"CC-BY 3.0",credits:"univ_lyon3",url:"https://freesound.org/people/univ_lyon3/sounds/365974/"}},love_now_loop:{listed:!0,name:"Love Now!",filename:"love_now_loop",thumb:"love_now_loop",pathname:"music",category:"music",bpm:126,looped:!0,origin:{license:"CC0 1.0",credits:"Eveningland",url:"https://www.youtube.com/watch?v=20LS-oFZceI"}},purple_days:{listed:!0,name:"Purple Days",filename:"purple_days",thumb:"purple_days",pathname:"music",category:"music",bpm:112,looped:!0,origin:{license:"CC-BY 3.0",credits:"Skimret",url:"https://soundcloud.com/skimret-1/sets/loadingkalendern-2018"}},malignant_noradrenaline:{listed:!0,name:"Malignant Noradrenaline",filename:"malignant_noradrenaline",thumb:"malignant_noradrenaline",pathname:"music",category:"music",bpm:87,looped:!0,origin:{license:"CC-BY 3.0",credits:"Arnes Rigel Martinez",url:"https://soundcloud.com/arnessemonova"}},strange_melody:{listed:!0,name:"Sugar Beach",filename:"strange_melody",thumb:"strange_melody",pathname:"music",category:"music",bpm:90,looped:!0,origin:{license:"CC-BY 3.0",credits:"Johan",url:"https://hiberworld.com/u/Johan"}},pale_city:{listed:!0,name:"Pale city",filename:"pale_city",thumb:"pale_city",pathname:"music",category:"music",bpm:80,looped:!0,origin:{license:"CC-BY 3.0",credits:"Johan",url:"https://hiberworld.com/u/Johan"}},Moments:{listed:!0,name:"Moments",filename:"Moments",thumb:"Moments",pathname:"music",category:"music",bpm:110,looped:!0,origin:{license:"CC-BY 3.0",credits:"Mattias",url:"https://hiberworld.com/u/mattias"}},freaky_happy_hardcore:{listed:!0,name:"Freaky (happy hardcore)",filename:"freaky_happy_hardcore",thumb:"freaky_happy_hardcore",pathname:"music",category:"music",bpm:175,looped:!0,origin:{license:"CC-BY 3.0",credits:"Markus Brysk",url:"https://www.facebook.com/markusfrostbite"}},falling_moon:{listed:!0,name:"Falling moon",filename:"falling_moon",thumb:"falling_moon",pathname:"music",category:"music",bpm:70,looped:!0,origin:{license:"CC-BY 3.0",credits:"Markus Brysk",url:"https://www.facebook.com/markusfrostbite"}},Closer:{listed:!0,name:"Closer",filename:"Closer",thumb:"Closer",pathname:"music",category:"music",bpm:75,looped:!0,origin:{license:"CC-BY 3.0",credits:"Arnes Rigel Martinez",url:"https://soundcloud.com/arnessemonova"}},breath_of_the_wind:{listed:!0,name:"Sakura Garden",filename:"breath_of_the_wind",thumb:"breath_of_the_wind",pathname:"music",category:"music",bpm:80,looped:!0,origin:{license:"CC-BY 3.0",credits:"Johan",url:"https://hiberworld.com/u/Johan"}},Beware:{listed:!0,name:"Beware",filename:"Beware",thumb:"Beware",pathname:"music",category:"music",bpm:70,looped:!0,origin:{license:"CC-BY 3.0",credits:"Markus Brysk",url:"https://www.facebook.com/markusfrostbite"}},camera:{name:"camera",filename:"camera",thumb:"default",listed:!1,looped:!1,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},jump:{name:"Jump",filename:"jumpInBed2",thumb:"jumpInBed",listed:!0,looped:!1,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},fireBurning:{name:"Fire Burning",filename:"fireBurning2",thumb:"fireBurning",listed:!0,looped:!0,pathname:"fx",category:"fx",origin:{license:"CC-BY 3.0",credits:"pcaeldries",url:"https://freesound.org/people/pcaeldries/sounds/30322/"}},circleSaw:{name:"circle saw",filename:"circle-saw",thumb:"circle-saw",listed:!0,looped:!0,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"derjuli",url:"https://freesound.org/people/derjuli/sounds/448133/"}},FallingSound1:{name:"SoundFalling",filename:"0477",pathname:"fx",category:"fx",looped:!1,listed:!1,origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},Rainforest:{name:"Rainforest",filename:"Rainforest",pathname:"ambient",category:"ambient",thumb:"Rainforest",looped:!0,listed:!0,origin:{license:"CC-BY 3.0",credits:"RTB45",url:"https://freesound.org/people/RTB45/sounds/459925/"}},hotWildlife:{name:"Hot Wildlife",filename:"hot-wildlife",pathname:"ambient",category:"ambient",thumb:"hot-forest",looped:!0,listed:!0,origin:{license:"CC-BY 3.0",credits:"InspectorJ",url:"https://freesound.org/people/InspectorJ/sounds/352514/"}},wind:{name:"Soft Wind",filename:"wind",pathname:"ambient",category:"ambient",thumb:"Soft-Wind",looped:!0,listed:!0,origin:{license:"CC-BY 3.0",credits:"Leandros.Ntounis",url:"https://freesound.org/people/Leandros.Ntounis/sounds/163607/"}},seagulls:{listed:!0,name:"Windy ocean",filename:"seagulls",thumb:"Windy-ocean",pathname:"ambient",category:"ambient",looped:!0,origin:{license:"CC-BY 3.0",credits:"Eelke",url:"https://freesound.org/people/Eelke/sounds/144835/"}},Stay:{listed:!0,name:"Stay",filename:"Stay",thumb:"Stay",pathname:"music",category:"music",bpm:128,looped:!0,origin:{license:"CC0 1.0",credits:"Greek555",url:"https://freesound.org/people/Greek555/sounds/474692/"}},PopSoda:{listed:!0,name:"Soda Pop",filename:"a-pop-soda",thumb:"a-pop-soda",pathname:"music",category:"music",bpm:140,looped:!0,origin:{license:"CC-BY 3.0",credits:"Mattias",url:"https://hiberworld.com/u/mattias"}},NeonCity:{listed:!0,name:"Neon City",filename:"CreeperCity",thumb:"CreeperCity",pathname:"music",category:"music",bpm:80,looped:!0,origin:{license:"CC-BY 3.0",credits:"Creeper_Ciller78",url:"https://freesound.org/people/Creeper_Ciller78/sounds/344995/"}},tribal_drums:{listed:!0,name:"Tribal drums",filename:"tribal_drums",thumb:"tribal_dance",pathname:"music",category:"music",bpm:105,looped:!0,origin:{license:"CC-BY 3.0",credits:"RTB45",url:"https://freesound.org/people/RTB45/sounds/160489/"}},ultraviolet:{listed:!0,name:"Ultraviolet",filename:"ultraviolet",thumb:"ultraviolet",pathname:"music",category:"music",bpm:128,looped:!0,origin:{license:"CC0 1.0",credits:"Greek555",url:"https://freesound.org/people/Greek555/sounds/475411/"}},dont_stop_it:{listed:!0,name:"Don't stop it!",filename:"dont_stop_it",thumb:"dont_stop_it",pathname:"music",category:"music",bpm:128,looped:!0,origin:{license:"CC0 1.0",credits:"Greek555",url:"https://freesound.org/people/Greek555/sounds/461691/"}},JoshuasEmpire:{listed:!0,name:"Joshua's Empire",filename:"JoshuasEmpire",thumb:"JoshuasEmpire",pathname:"music",category:"music",bpm:105,looped:!0,origin:{license:"CC0 1.0",credits:"Joshua Empyre",url:"https://freesound.org/people/joshuaempyre/sounds/250856/"}},daw2:{listed:!0,name:"Octagon",filename:"daw2",thumb:"daw2",pathname:"music",category:"music",bpm:112,looped:!0,origin:{license:"CC0 1.0",credits:"-zin-",url:"https://freesound.org/people/-zin-/sounds/326060/"}},Flavios_Disco:{listed:!0,name:"Flavio's Disco",filename:"Flavios_Disco",thumb:"Flavios_Disco",pathname:"music",category:"music",bpm:128,looped:!0,origin:{license:"CC0 1.0",credits:"Greek555",url:"https://freesound.org/people/Greek555/sounds/458082/"}},Giorgio_disco:{listed:!0,name:"Giorgio Disco",filename:"Giorgio_disco",thumb:"Giorgio_disco",pathname:"music",category:"music",bpm:128,looped:!0,origin:{license:"CC0 1.0",credits:"Greek555",url:"https://freesound.org/people/Greek555/sounds/464974/"}},cheesy_disco:{listed:!0,name:"Cheesy disco",filename:"cheesy_disco",thumb:"cheesy_disco",pathname:"music",category:"music",bpm:122,looped:!0,origin:{license:"CC0 1.0",credits:"robin saville",url:"https://freesound.org/people/robin%20saville/sounds/145245/"}},Guifrog_Beyond_the_Warriors_full:{listed:!0,name:"Beyond the Warriors",filename:"Guifrog_Beyond_the_Warriors_full",thumb:"Guifrog_Beyond_the_Warriors_full",pathname:"music",category:"music",bpm:67,looped:!0,origin:{license:"CC-BY 3.0",credits:"Guifrog",url:"http://freemusicarchive.org/music/Guifrog/Guifrog_-_Singles_1071/Guifrog_-_Beyond_the_Warriors"}},Timecrawler_Corner_of_the_room_loop:{listed:!0,name:"Corner of the room",filename:"Timecrawler_Corner_of_the_room_loop",thumb:"Timecrawler_82_-_Osaka_Lights",pathname:"music",category:"music",bpm:120,looped:!0,origin:{license:"CC BY 4.0",credits:"Timecrawler 82",url:"http://freemusicarchive.org/music/Timecrawler_82/Osaka_Lights/Corner_of_the_room_feat_Silvia"}},meditationPad:{listed:!0,name:"Magic dream",filename:"meditationPad",thumb:"Magic-dream",pathname:"ambient",category:"ambient",looped:!0,origin:{license:"CC0 1.0",credits:"artefakt",url:"https://freesound.org/people/artefakt/sounds/342599/"}},Christmas_Day:{listed:!0,name:"Christmas Day",filename:"Christmas_Day",thumb:"Christmas_Day",pathname:"music",category:"music",bpm:70,looped:!0,origin:{license:"CC0 1.0",credits:"TRG Banks",url:"http://freemusicarchive.org/music/TRG_Banks/TRG_Banks_Christmas_Album/Christmas_Day"}},underwater:{listed:!0,name:"Underwater",filename:"underwater",thumb:"Underwater",pathname:"ambient",category:"ambient",looped:!0,origin:{license:"CC0 1.0",credits:"NoiseCollector",url:"https: //freesound.org/people/NoiseCollector/sounds/56981/"}},rain:{listed:!0,name:"Soft dripping rain",filename:"soft-dripping-rain",thumb:"Soft-dripping-rain",pathname:"ambient",category:"ambient",looped:!0,origin:{license:"CC0 1.0",credits:"silencyo",url:"https://freesound.org/people/silencyo/sounds/81731/"}},initSound:{listed:!1,name:"initSound",filename:"initSound",pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},error:{name:"error",filename:"error",listed:!1,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},buttonClick:{name:"Button Click",filename:"button-click",listed:!1,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},swoop1:{name:"swoop",filename:"swoop1",listed:!0,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},staple:{name:"staple",filename:"staple",thumb:"staple",listed:!0,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},electricity_shorter:{name:"Electricity shorter",filename:"electricity-shorter",thumb:"Electricity-shorter",listed:!0,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},shields1:{name:"shields",filename:"shields1",thumb:"electric-field",listed:!0,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},pick_up:{name:"Pick up",filename:"pick-up",thumb:"gem",listed:!0,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Leszek_Szary",url:"https://freesound.org/people/Leszek_Szary/sounds/171646/"}},explosion:{name:"explosion",filename:"explosion2",thumb:"explosion",listed:!0,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"FlashTrauma",url:"https://freesound.org/people/FlashTrauma/sounds/398283/"}},concrete_blocks_moving1:{name:"Concrete blocks moving",filename:"concrete-blocks-moving1",thumb:"Concrete-blocks",listed:!0,pathname:"fx",category:"fx",origin:{license:"CC-BY 3.0",credits:"FlashTrauma",url:"https://freesound.org/people/FreqMan/sounds/25845/"}},pop:{name:"Pop",filename:"pop",thumb:"popcorn",listed:!0,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},long_wispy_woosh:{name:"Long wispy woosh",filename:"long-wispy-woosh",thumb:"tunnel",listed:!0,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},success:{name:"success",filename:"victory2",thumb:"success",listed:!0,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Freesound",url:"https://freesound.org/"}},A_Fol_DrySoilFootstep_R_2:{name:"A_Fol_DrySoilFootstep_R_2",filename:"footstep_trunk_5",pathname:"fx",category:"fx",group:"steps",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},A_Fol_DrySoilFootstep_R_1:{name:"A_Fol_DrySoilFootstep_R_1",filename:"footstep_trunk_4",pathname:"fx",category:"fx",group:"steps",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},A_Fol_DrySoilFootstep_L_5:{name:"A_Fol_DrySoilFootstep_L_5",filename:"footstep_trunk_3",pathname:"fx",category:"fx",group:"steps",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},A_Fol_DrySoilFootstep_L_3:{name:"A_Fol_DrySoilFootstep_L_3",filename:"footstep_trunk_2",pathname:"fx",category:"fx",group:"steps",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},A_Fol_DrySoilFootstep_L_1:{name:"A_Fol_DrySoilFootstep_L_1",filename:"footstep_trunk_1",pathname:"fx",category:"fx",group:"steps",origin:{license:"Gold Account",credits:"Zapsplat",url:"https://www.zapsplat.com/gold-account-upgrade-terms-and-conditions/"}},swosh1:{name:"swosh 1",filename:"swosh1",thumb:"swosh",pathname:"fx",category:"fx",group:"swoshes",listed:!0,origin:{license:"CC0 1.0",credits:"qubodup",url:"https://freesound.org/people/qubodup/sounds/60009/"}},swosh2:{name:"swosh 2",filename:"swosh2",thumb:"swosh",pathname:"fx",category:"fx",group:"swoshes",listed:!0,origin:{license:"CC-BY 3.0",credits:"Hitrison",url:"https://freesound.org/people/Hitrison/sounds/216675/"}},landing:{name:"landing",filename:"landing",thumb:"grus",pathname:"fx",category:"fx",listed:!0,origin:{license:"CC0 1.0",credits:"mallement",url:"https://freesound.org/people/mallement/sounds/160604/"}},cartoonBatSqueak:{listed:!0,name:"cartoon bat squeak",filename:"cartoon-bat-squeak",thumb:"bat-blow",pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Breviceps",url:"https://freesound.org/people/Breviceps/sounds/445958/"}},portal_trip:{listed:!0,name:"Portal trip",filename:"portal_trip",thumb:"sci_fi_portal",pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"couchHero",url:"https://freesound.org/people/couchHero/sounds/168910/"}},pick_up_reverbed:{listed:!1,name:"Pick up reverbed",filename:"pick-up-reverbed",pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"fins",url:"https://freesound.org/people/fins/sounds/171646/"}},swoosh:{listed:!0,name:"Swoosh",filename:"swoosh",thumb:"tunnel",pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Electroviolence",url:"https://freesound.org/people/Electroviolence/sounds/234553/"}},metallic_collect:{listed:!0,name:"Metallic collect",filename:"metallic_collect",thumb:"metallic",pathname:"fx",category:"fx",origin:{license:"CC-BY 3.0",credits:"Headphaze",url:"https://freesound.org/people/Headphaze/sounds/277033/"}},success_low:{listed:!0,name:"Checkpoint",filename:"success_low",thumb:"success",pathname:"fx",category:"fx",origin:{license:"CC-BY 3.0",credits:"grunz",url:"https://freesound.org/people/grunz/sounds/109663/"}},squeakyclick:{listed:!0,name:"Metallic scraping",filename:"squeakyclick",thumb:"scraping",pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"BMacZero",url:"https://freesound.org/people/BMacZero/sounds/94134/"}},vanished001:{listed:!0,name:"vanished",filename:"vanished001",thumb:"train",pathname:"fx",category:"fx",origin:{license:"CC-BY 3.0",credits:"szpury",url:"https://freesound.org/people/szpury/sounds/236320/"}},weapGone:{listed:!0,name:"weap gone",filename:"weapgone",thumb:"soundwave",pathname:"fx",category:"fx",origin:{license:"CC-BY 3.0",credits:"szpury",url:"https://freesound.org/people/RunnerPack/sounds/87045/"}},breathingOut:{listed:!1,name:"Breathing Out",filename:"breathingOut",pathname:"fx",category:"fx",origin:{license:"CC-BY 3.0",credits:"Leady",url:"https://freesound.org/people/Leady/sounds/26723/"}},grunt:{listed:!0,name:"grunt",filename:"grunt",thumb:"hammer",pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Reitanna",url:"https://freesound.org/people/Reitanna/sounds/344004/"}},pick_up_health:{listed:!0,name:"Pick up health",filename:"pick-up-health",thumb:"battery",pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"juancamiloorjuela",url:"https://freesound.org/people/juancamiloorjuela/sounds/204318/"}},respawn_rev:{listed:!0,name:"respawn",filename:"respawn-rev",thumb:"spawn",pathname:"fx",category:"fx",origin:{license:"CC-BY 3.0",credits:"kwahmah_02",url:"https://freesound.org/people/kwahmah_02/sounds/269295/"}},respawn:{listed:!1,name:"respawn",filename:"respawn",pathname:"fx",category:"fx",origin:{license:"CC-BY 3.0",credits:"kwahmah_02",url:"https://freesound.org/people/kwahmah_02/sounds/269295/"}},hyper__laugh:{listed:!0,name:"chungus laugh",filename:"hyper__laugh",thumb:"chungus",pathname:"fx",category:"fx",origin:{license:"CC-BY 3.0",credits:"LittleRainySeasons",url:"https://freesound.org/people/LittleRainySeasons/sounds/344076/"}},gorillaschrei:{listed:!0,name:"Gorilla",filename:"gorillaschrei",thumb:"Gorilla",pathname:"fx",category:"fx",origin:{license:"CC0 1.0"}},rope_cracking:{listed:!0,name:"Rope cracking",filename:"rope-cracking1",thumb:"rope",pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"bahaish",url:"https://freesound.org/people/bahaish/sounds/145786/"}},chicken:{listed:!0,name:"Chicken",filename:"chicken",thumb:"Chicken",pathname:"fx",category:"fx",looped:!1,origin:{license:"CC0 1.0",credits:"Rudmer_Rotteveel",url:"https://freesound.org/people/Rudmer_Rotteveel/sounds/316920/"}},chicken_growl:{listed:!0,name:"Chicken growl",filename:"chicken-growl",thumb:"Chicken-pick",pathname:"fx",category:"fx",looped:!1,origin:{license:"CC0 1.0",credits:"Henlord",url:"https://freesound.org/people/Henlord/sounds/413825/"}},whoosh_crystal_reverse:{name:"Crystal reverse",filename:"whoosh_crystal_reverse",thumb:"tunnel",listed:!0,pathname:"fx",category:"fx",origin:{license:"CC0 1.0"}},sci_fi_portal:{name:"Sci fi portal",filename:"sci_fi_portal",thumb:"sci_fi_portal",listed:!1,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Bzourk",url:"https://freesound.org/people/Bzourk/sounds/322059/"}},missile:{name:"Missile",filename:"missile",thumb:"missile",listed:!0,pathname:"fx",category:"fx",origin:{license:"CC0 1.0",credits:"Jacco18",url:"https://freesound.org/people/Jacco18/sounds/428360/"}},noisestorm_crab_rave_loop:{listed:!1,name:"Noisestorm - Crab rave",filename:"noisestorm_crab_rave_loop",pathname:"music",category:"music",bpm:125,looped:!0,origin:{license:"",credits:"Noisestorm",url:"https://soundcloud.com/noisestorm/noisestorm-crab-rave"}}}},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(37),w=a(160),E=a(8),j=a(161),q=a(163),$=a(165),ne=a(41),ie=a(19),oe=a(19),se=a(166),le=a(40),pe=a(13),he=a(6);class RenderSystem extends le.default{constructor(){super(),this.vecPool=new se.TempVectorPool,this.config={cameraFov:60,cameraNear:.02,cameraFar:500,antialias:!1,logarithmicDepthBuffer:!1},this.resizeDebounce=null,this.handleResize=()=>{this.resizeDebounce&&(clearTimeout(this.resizeDebounce),this.resizeDebounce=null),this.resizeDebounce=setTimeout(()=>{E.default.renderEngine.setWindowRes(Math.ceil(window.innerWidth*window.devicePixelRatio),Math.ceil(window.innerHeight*window.devicePixelRatio)),window.outerHeight<=414&&window.innerHeight<window.outerHeight?(window.scrollTo(0,0),document.body.classList.add("body--mobile_adress_bar")):document.body.classList.remove("body--mobile_adress_bar"),E.canvas.style.height=window.innerHeight+"px",E.canvas.style.width=window.innerWidth+"px",document.body.style.height=window.innerHeight+"px"},50)},this.camera=new ie.PerspectiveCamera(this.config.cameraFov,1,this.config.cameraNear,this.config.cameraFar),this.renderer=E.default.renderEngine.threeRenderer,this.renderer.debug.checkShaderErrors=pe.isDebugMode||he.default.devMode,this.renderer.setPixelRatio(1),E.container&&E.container.appendChild(this.renderer.domElement)}onInit(){this.scene.matrixAutoUpdate=!1,this.scene.add(this.camera),window.addEventListener("resize",this.handleResize,!1),window.addEventListener("orientationchange",this.handleResize,!1),setTimeout(this.handleResize,75),this.initLights()}initLights(){this.ambientLight=new oe.AmbientLight(16777215),this.scene.add(this.ambientLight),this.spotLight=this.entityManager.create(),this.entityManager.addComponentSlow(this.spotLight,ne.default,{isStatic:!1}),this.entityManager.addComponentSlow(this.spotLight,$.default,{color:new oe.Color,strength:2}),this.entityManager.addComponentSlow(this.spotLight,w.default)}updateFrame(r,n){this.vecPool.reset(),this.camera.aspect=E.canvas.offsetWidth/E.canvas.offsetHeight,this.camera.updateMatrix(),this.camera.updateProjectionMatrix();const a=E.default.entityManager.getOrCreateSingleton(j.default);if(a.camera.posWS.copy(this.camera.position),this.camera.getWorldDirection(a.camera.dirWS),a.camera.vertFovDeg=this.camera.fov,this.spotLight.node.position.copy(this.camera.position),0==this.skyboxGroup.entities.length)return;const i=this.skyboxGroup.entities[0].environment.skyboxScene,o=this.skyboxGroup.entities[0].environment.skyColor;E.default.renderEngine.setRenderParams(this.entityManager,this.scene,E.noAOScene,i,o,a.camera)}onDispose(){window.removeEventListener("resize",this.handleResize,!1)}}o([y.InjectGroup(q.default),s("design:type","function"==typeof(i=void 0!==_.default&&_.default)?i:Object)],RenderSystem.prototype,"skyboxGroup",void 0),RenderSystem.order=1500,n.default=RenderSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(24);class StudioTempComponent extends i.default{}StudioTempComponent.componentName="studioTemp",n.default=StudioTempComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(24),o=a(162);class CameraSingleton extends i.default{constructor(){super(...arguments),this.camera=new o.Camera}}n.default=CameraSingleton,CameraSingleton.componentName="camera"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Camera=n.RenderEngineConfig=void 0;const i=a(13),o=a(19);n.RenderEngineConfig=class RenderEngineConfig{constructor(){this.screenSpaceAA=!0,this.screenSpaceAmbientOcclusion=i.isSSAOMode,this.bloom=!1}};class Camera{constructor(){this.posWS=new o.Vector3(0,0,0),this.dirWS=new o.Vector3(1,0,0),this.vertFovDeg=60,this.tmpVec=new o.Vector3(0,0,0),this.tmpMat=new o.Matrix4}getViewToWorldMatrix(r){r.lookAt(this.posWS,this.tmpVec.copy(this.posWS).add(this.dirWS),Camera.UP_WS)}getViewToWorldQuaternion(r){this.getViewToWorldMatrix(this.tmpMat),r.setFromRotationMatrix(this.tmpMat)}}n.Camera=Camera,Camera.UP_WS=new o.Vector3(0,1,0)},function(r,n,a){"use strict";var i,o,s,y,_,w=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},E=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const j=a(164),q=a(19),$=a(24),ne=a(26);class EnvironmentComponent extends $.default{constructor(){super(...arguments),this.skyboxScene=new q.Scene,this.object=null,this.skybox="noon",this.skyColor=new q.Color,this.fogColor=new q.Color,this.fogIntensity=0,this.ambientLightIntensity=1,this.sunColor=new q.Color,this.ambientLightColor=new q.Color,this.skyboxFogIntensity=0,this.sunDir=0,this.fogStart=0,this.fogEnd=.4,this.mieTint=new q.Color,this.mieSize=.8,this.mieIntensity=0,this.particlePreset=j.Particle.none,this.particlePresetChanged=j.Particle.none,this.music="",this.ambientSound="",this.sunIntensity=1}}EnvironmentComponent.componentName="environment",w([ne.Property({inspector:"Skybox"}),E("design:type",String)],EnvironmentComponent.prototype,"skybox",void 0),w([ne.Property(),E("design:type","function"==typeof(i=void 0!==q.Color&&q.Color)?i:Object)],EnvironmentComponent.prototype,"skyColor",void 0),w([ne.Property(),E("design:type","function"==typeof(o=void 0!==q.Color&&q.Color)?o:Object)],EnvironmentComponent.prototype,"fogColor",void 0),w([ne.Property({inspector:"Range",inspectorOptions:{min:0,max:1,step:1e-4}}),E("design:type",Number)],EnvironmentComponent.prototype,"fogIntensity",void 0),w([ne.Property({inspector:"Range",inspectorOptions:{min:.01,max:10,step:.01}}),E("design:type",Number)],EnvironmentComponent.prototype,"ambientLightIntensity",void 0),w([ne.Property(),E("design:type","function"==typeof(s=void 0!==q.Color&&q.Color)?s:Object)],EnvironmentComponent.prototype,"sunColor",void 0),w([ne.Property(),E("design:type","function"==typeof(y=void 0!==q.Color&&q.Color)?y:Object)],EnvironmentComponent.prototype,"ambientLightColor",void 0),w([ne.Property({inspector:"Range",inspectorOptions:{min:.01,max:10,step:.01}}),ne.Property({inspector:"Range",advanced:!0,inspectorOptions:{min:0,max:1,step:1e-4}}),E("design:type",Number)],EnvironmentComponent.prototype,"skyboxFogIntensity",void 0),w([ne.Property({inspector:"Range",advanced:!0,inspectorOptions:{min:0,max:360,step:.1}}),E("design:type",Number)],EnvironmentComponent.prototype,"sunDir",void 0),w([ne.Property({inspector:"Range",advanced:!0,inspectorOptions:{min:0,max:1,step:.001}}),E("design:type",Number)],EnvironmentComponent.prototype,"fogStart",void 0),w([ne.Property({inspector:"Range",advanced:!0,inspectorOptions:{min:0,max:1,step:.001}}),E("design:type",Number)],EnvironmentComponent.prototype,"fogEnd",void 0),w([ne.Property({advanced:!0}),E("design:type","function"==typeof(_=void 0!==q.Color&&q.Color)?_:Object)],EnvironmentComponent.prototype,"mieTint",void 0),w([ne.Property({inspector:"Range",advanced:!0,inspectorOptions:{min:0,max:1,step:.001}}),E("design:type",Number)],EnvironmentComponent.prototype,"mieSize",void 0),w([ne.Property({inspector:"Range",advanced:!0,inspectorOptions:{min:0,max:2,step:.001}}),E("design:type",Number)],EnvironmentComponent.prototype,"mieIntensity",void 0),w([ne.Property({inspector:"Select",inspectorOptions:{enum:j.Particle}}),E("design:type",String)],EnvironmentComponent.prototype,"particlePreset",void 0),w([ne.Property({inspector:"Sound"}),E("design:type",String)],EnvironmentComponent.prototype,"music",void 0),w([ne.Property({inspector:"Sound"}),E("design:type",String)],EnvironmentComponent.prototype,"ambientSound",void 0),n.default=EnvironmentComponent},function(r,n,a){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.Particle=void 0,(i=n.Particle||(n.Particle={})).none="none",i.rain="rain",i.snow="snow",i.goteborg="goteborg",i.flare="flare",i.dandelion="dandelion",i.upstream="upstream",i.foggy="foggy",i.cloudy="cloudy",i.dusty="dusty",i.bubbly="bubbly",i.fireflies="fireflies",i.cherryBlossom="cherryBlossom"},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(19),_=a(24),w=a(26);class LightComponent extends _.default{constructor(){super(...arguments),this.object=null,this.color=new y.Color(0,1,0),this.strength=2}getLightRadius(){return 4*this.strength}}LightComponent.componentName="light",o([w.Property(),s("design:type","function"==typeof(i=void 0!==y.Color&&y.Color)?i:Object)],LightComponent.prototype,"color",void 0),o([w.Property({inspector:"Range",inspectorOptions:{min:.1,max:4,step:.01}}),s("design:type",Number)],LightComponent.prototype,"strength",void 0),n.default=LightComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TempVectorPool=void 0;const i=a(19);n.TempVectorPool=class TempVectorPool{constructor(){this.pool=[],this.inUse=[]}get(r){let n=void 0;return n=0===this.pool.length?new i.Vector3:this.pool.pop(),this.inUse.push(n),r?n.copy(r):n.set(0,0,0),n}reset(){for(let r=0;r<this.inUse.length;r++)this.pool.push(this.inUse[r]);this.inUse.length=0}}},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class AudioComponent extends s.default{constructor(){super(),this.object=null,this.isLoading=!1,this.sound="",this.volume=1,this.playbackRate=1,this.loop=!1,this.playOnce=!0,this.durationMs=0,this.startTimeMs=0,this.detune=0}}AudioComponent.componentName="sound",i([y.Property({inspector:"Sound"}),o("design:type",String)],AudioComponent.prototype,"sound",void 0),i([y.Property({inspector:"Range",inspectorOptions:{max:2,min:0,step:.01}}),o("design:type",Number)],AudioComponent.prototype,"volume",void 0),i([y.Property({inspector:"Range",inspectorOptions:{max:10,min:.1,step:.1}}),o("design:type",Number)],AudioComponent.prototype,"playbackRate",void 0),i([y.Property(),o("design:type",Boolean)],AudioComponent.prototype,"loop",void 0),i([y.Property({inspector:!1}),o("design:type",Boolean)],AudioComponent.prototype,"playOnce",void 0),i([y.Property({inspector:!1}),o("design:type",Number)],AudioComponent.prototype,"durationMs",void 0),i([y.Property({inspector:!1}),o("design:type",Number)],AudioComponent.prototype,"startTimeMs",void 0),i([y.Property({inspector:!1}),o("design:type",Number)],AudioComponent.prototype,"detune",void 0),n.default=AudioComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(24);class AudioListenerComponent extends i.default{}AudioListenerComponent.componentName="audioListener",n.default=AudioListenerComponent},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.AUDIO_DEFAULT_MAX_DISTANCE=n.AUDIO_DEFAULT_ROLLOFF_FACTOR=n.AUDIO_DEFAULT_REF_DISTANCE=n.AUDIO_DEFAULT_VOLUME=void 0;const s=a(24),y=a(26);n.AUDIO_DEFAULT_VOLUME=1,n.AUDIO_DEFAULT_REF_DISTANCE=1,n.AUDIO_DEFAULT_ROLLOFF_FACTOR=1,n.AUDIO_DEFAULT_MAX_DISTANCE=1e4;class PositionalAudioComponent extends s.default{constructor(){super(),this.object=null,this.isLoading=!1,this.sound="",this.volume=n.AUDIO_DEFAULT_VOLUME,this.playbackRate=1,this.loop=!1,this.playOnce=!0,this.durationMs=0,this.startTimeMs=0,this.refDistance=n.AUDIO_DEFAULT_REF_DISTANCE,this.rolloffFactor=n.AUDIO_DEFAULT_ROLLOFF_FACTOR,this.maxDistance=n.AUDIO_DEFAULT_MAX_DISTANCE,this.distanceModel="inverse",this.coneInnerAngle=360,this.coneOuterAngle=360,this.coneOuterGain=0}}PositionalAudioComponent.componentName="audio",i([y.Property({inspector:"Sound"}),o("design:type",String)],PositionalAudioComponent.prototype,"sound",void 0),i([y.Property({inspector:"Range",inspectorOptions:{max:2,min:0,step:.01}}),o("design:type",Number)],PositionalAudioComponent.prototype,"volume",void 0),i([y.Property({inspector:"Range",inspectorOptions:{max:10,min:.1,step:.1}}),o("design:type",Number)],PositionalAudioComponent.prototype,"playbackRate",void 0),i([y.Property(),o("design:type",Boolean)],PositionalAudioComponent.prototype,"loop",void 0),i([y.Property({inspector:!1}),o("design:type",Boolean)],PositionalAudioComponent.prototype,"playOnce",void 0),i([y.Property({inspector:!1}),o("design:type",Number)],PositionalAudioComponent.prototype,"durationMs",void 0),i([y.Property({inspector:!1}),o("design:type",Number)],PositionalAudioComponent.prototype,"startTimeMs",void 0),i([y.Property({advanced:!0,inspector:"Range",inspectorOptions:{max:10,min:.1,step:.1}}),o("design:type",Number)],PositionalAudioComponent.prototype,"refDistance",void 0),i([y.Property({advanced:!0,inspector:"Range",inspectorOptions:{max:10,min:.01,step:.01}}),o("design:type",Number)],PositionalAudioComponent.prototype,"rolloffFactor",void 0),i([y.Property({inspector:"Range",inspectorOptions:{max:1e3,min:.1,step:.1}}),o("design:type",Number)],PositionalAudioComponent.prototype,"maxDistance",void 0),i([y.Property({inspector:!1}),o("design:type",String)],PositionalAudioComponent.prototype,"distanceModel",void 0),i([y.Property({advanced:!0,inspector:"Range",inspectorOptions:{max:360,min:0,step:1}}),o("design:type",Number)],PositionalAudioComponent.prototype,"coneInnerAngle",void 0),i([y.Property({advanced:!0,inspector:"Range",inspectorOptions:{max:360,min:0,step:1}}),o("design:type",Number)],PositionalAudioComponent.prototype,"coneOuterAngle",void 0),i([y.Property({advanced:!0,inspector:"Range",inspectorOptions:{max:2,min:0,step:.1}}),o("design:type",Number)],PositionalAudioComponent.prototype,"coneOuterGain",void 0),n.default=PositionalAudioComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.MultiPool=void 0,n.MultiPool=class MultiPool{constructor(r){this.recycled=new Map,this.constructorFunc=r}get(r){const n=this.recycled.get(r);return n?0===n.length?this.constructorFunc():n.pop():this.constructorFunc()}recycle(r,n){const a=this.recycled.get(r);if(a){for(let r=0;r<a.length;r++);a.push(n)}else this.recycled.set(r,[n])}}},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(156),w=a(25),E=a(159),j=a(19),q=a(36),$=a(37),ne=a(40),ie=a(41),oe=a(172),se=a(173),le=a(175);class OctreeSystem extends ne.default{constructor(){super(),this.raycaster=new j.Raycaster,this.octreeDirty=!1,this._tmpVec1=new j.Vector3,this._tmpVec2=new j.Vector3,this.octree=new se.Octree((r,n)=>{const a=r.node,i=Math.max(a.scale.x,a.scale.y,a.scale.z),o=this._tmpVec1.copy(a.position),s=this._tmpVec2.copy(o);return s.x=Math.max(n.center.x-n.halfDimension.x,Math.min(n.center.x+n.halfDimension.x,s.x)),s.y=Math.max(n.center.y-n.halfDimension.y,Math.min(n.center.y+n.halfDimension.y,s.y)),s.z=Math.max(n.center.z-n.halfDimension.z,Math.min(n.center.z+n.halfDimension.z,s.z)),s.distanceToSquared(o)<=i*i},{capacity:10,maxDepth:8,visual:!1})}rebuild(){}search(r){return[]}search2(r,n){return[]}find(r,n,a,i){return[]}intersects(r,n){return[]}intersectsRay(r,n,a,i){this.raycaster.set(r,n);const o=this.octree.intersectsRay(this.raycaster);return this.intersectEntities(o,null,i)}sortIntersection(r,n){return r.distance-n.distance}intersectEntities(r,n,a){const i=[];for(let o=0,s=r.length;o<s;++o){const s=r[o];if(s.isFree){console.warn("unallocated entity");continue}const y=s.model.instance;if(y&&(!a||0!=(a&s.node.group))){if(n){let r=!1;for(let a=0;a<n.length;a++)if(n[a]===s){r=!0;break}if(r)continue}this.raycaster.intersectObject(y,!1,i)}}return i.sort(this.sortIntersection),i}getHash(r){return w.default({position:r.node.position,scale:r.node.scale,rotation:r.node.rotation,model:r.model.geometry})}intersectFromCamera(r={x:0,y:0},n,a){const{camera:i}=this.renderSystem;this.raycaster.setFromCamera(r,i);const o=this.octree.intersectsRay(this.raycaster);return this.intersectEntities(o,n,a)}onInit(){this.entityGroup.on("entityAdded",this.onEntityAdded,this),this.entityGroup.on("entityRemoved",this.onEntityRemoved,this),this.entityGroup.on("entityUpdated",this.onEntityUpdated,this),this.entityManager.on("nodeUpdatedObject",this.updateEntry,this)}updateEntry(r){if(!r.octree)return this.octree.removeEntry(r),void(this.octreeDirty=!0);this.octree.updateEntry(r,this.getHash(r)),this.octreeDirty=!0}onEntityUpdated(r){this.updateEntry(r)}onEntityAdded(r){this.octree.addEntry(r,this.getHash(r))}onEntityRemoved(r){this.octree.removeEntry(r)}}s([q.InjectGroup(ie.default,oe.default,le.default),y("design:type","function"==typeof(i=void 0!==$.default&&$.default)?i:Object)],OctreeSystem.prototype,"entityGroup",void 0),s([_.InjectSystem(r=>E.default),y("design:type","function"==typeof(o=void 0!==E.default&&E.default)?o:Object)],OctreeSystem.prototype,"renderSystem",void 0),n.default=OctreeSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class ModelComponent extends s.default{constructor(){super(...arguments),this.instance=null,this.enabled=!0,this.geometry="Sphere",this.castShadow=!0,this.receiveShadow=!0}}ModelComponent.componentName="model",ModelComponent.displayName="Shape",i([y.Property({inspector:!1}),o("design:type",Boolean)],ModelComponent.prototype,"enabled",void 0),i([y.Property({inspector:"Geometry",inspectorOptions:{hideDisplayName:!0}}),o("design:type",String)],ModelComponent.prototype,"geometry",void 0),i([y.Property({inspector:!1}),o("design:type",Boolean)],ModelComponent.prototype,"castShadow",void 0),i([y.Property({inspector:!1}),o("design:type",Boolean)],ModelComponent.prototype,"receiveShadow",void 0),n.default=ModelComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Octree=void 0;const i=a(19),o=a(174),s=new i.Vector3,y=new i.Vector3;n.Octree=class Octree{constructor(r,n){this.creationFunc=r,this.elements=[],this.tryShrink=[],this.entrySet=new WeakMap,this.chunks=new Map,this.config=Object.assign({maxDepth:2,capacity:10,overlapPct:.5,visual:!1},n),this.root=new o.OctreeOctant(this,null,0,s.set(0,0,0),y.set(4e3,4e3,4e3));const a=new i.BoxHelper(new i.Mesh(new i.BoxBufferGeometry(1,1,1)),new i.Color(16711782));this.visualGeometry=a.geometry,this.visualMaterial=a.material}intersectsRay(r){const n=[];return this.root.intersectsRay(r,n),n}shrink(){this.tryShrink.sort((r,n)=>r.depth-n.depth);for(let r=0;r<this.tryShrink.length;r++)this.tryShrink[r].tryShrink();this.tryShrink.length=0}addEntry(r,n){this.entrySet.has(r)?this.updateEntry(r,n):this.root.addEntry(r)&&this.entrySet.set(r,n)}updateEntry(r,n){this.entrySet.get(r)!==n&&(this.entrySet.set(r,n),this.root.removeEntry(r),this.root.addEntry(r),this.shrink())}removeEntry(r){this.entrySet.has(r)&&(this.entrySet.delete(r),this.root.removeEntry(r),this.shrink())}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.OctreeOctant=void 0;const i=a(8),o=a(19),s=new o.Vector3,y=new o.Vector3;class OctreeOctant{constructor(r,n,a,s,y){this.tree=r,this.parent=n,this.depth=a,this.children=[],this.elementCount=0,this.center=new o.Vector3,this.halfDimension=new o.Vector3,this.entries=[],this.isLeaf=!0,this.center.copy(s),this.halfDimension.copy(y),this.tree.config.visual&&(this.visual=new o.LineSegments(this.tree.visualGeometry,new o.MeshBasicMaterial({color:16711680})),this.visual.scale.set(2*this.halfDimension.x,2*this.halfDimension.y,2*this.halfDimension.z),this.visual.position.copy(this.center),i.threeScene.add(this.visual))}get childElementCount(){let r=0;for(let n=0,a=this.children.length;n<a;++n)r+=this.children[n].entries.length;return r}checkCollapse(){if(!this.isLeaf)for(let r=0;r<8;++r);}subDivide(){this.isLeaf=!1;for(let r=0;r<8;++r){const n=s.copy(this.center);n.x+=this.halfDimension.x*(4&r?.5:-.5),n.y+=this.halfDimension.y*(2&r?.5:-.5),n.z+=this.halfDimension.z*(1&r?.5:-.5);const a=y.set(.5*this.halfDimension.x,.5*this.halfDimension.y,.5*this.halfDimension.z),i=new OctreeOctant(this.tree,this,this.depth+1,n,a);this.children.push(i);for(let r=0;r<this.entries.length;++r)i.addEntry(this.entries[r])}this.entries.length=0}tryShrink(){if(this.isLeaf)return;const r=new WeakSet,n=[];for(let a=0,i=this.children.length;a<i;++a){const i=this.children[a];if(!i.isLeaf)return;const o=i.entries;for(let a=0,i=o.length;a<i;++a){const i=o[a];r.has(i)||(r.add(i),n.push(i))}}if(!(n.length>this.tree.config.maxDepth)){for(let r=0,n=this.children.length;r<n;++r)this.children[r].dispose();this.children.length=0,this.isLeaf=!0,this.entries=n}}removeEntry(r){let n=!1;if(!this.isLeaf){for(let a=0;a<this.children.length;++a)this.children[a].removeEntry(r)&&(n=!0);return n&&this.elementCount--,n}const a=this.entries.indexOf(r);return-1!==a&&(this.entries.splice(a,1),this.parent&&this.entries.length<=this.tree.config.maxDepth&&this.tree.tryShrink.push(this.parent),this.elementCount--,!0)}addEntry(r){let n=!1;this.isLeaf&&this.entries.length>=this.tree.config.capacity&&this.depth<this.tree.config.maxDepth&&this.subDivide(),this.isLeaf&&this.tree.creationFunc(r,this)&&(n=!0,this.entries.push(r));for(let a=0;a<this.children.length;++a)this.children[a].addEntry(r)&&(n=!0);return n&&this.elementCount++,n}intersectSphere(){return[]}intersectsRay(r,n){if(this.isLeaf&&0===this.entries.length)return[];const{center:a,halfDimension:i}=this,{origin:o,direction:y}=r.ray,_=a.x-i.x,w=a.y-i.y,E=a.z-i.z,j=a.x+i.x,q=a.y+i.y,$=a.z+i.z,ne=s.set(1,1,1).divide(y),ie=(_-o.x)*ne.x,oe=(j-o.x)*ne.x,se=(w-o.y)*ne.y,le=(q-o.y)*ne.y,pe=(E-o.z)*ne.z,he=($-o.z)*ne.z,me=Math.min(Math.min(Math.max(ie,oe),Math.max(se,le)),Math.max(pe,he));let ge=1/0;if(me<0)return[];if(ge=Math.max(Math.max(Math.min(ie,oe),Math.min(se,le)),Math.min(pe,he)),ge>me||ge>r.far)return[];for(let r=0,a=this.entries.length;r<a;++r)-1===n.indexOf(this.entries[r])&&n.push(this.entries[r]);for(let a=0;a<this.children.length;++a)this.children[a].intersectsRay(r,n);return n}dispose(){this.visual&&(i.threeScene.remove(this.visual),this.visual.material.dispose(),this.visual=null)}}n.OctreeOctant=OctreeOctant},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(24);class OctreeComponent extends i.default{}OctreeComponent.componentName="octree",n.default=OctreeComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BPMSync=void 0;const i=a(8),o=a(177);n.BPMSync={getK(){const r=i.entityManager.getSystem(o.default);return r.musicAudio.userData.trackData&&r.musicAudio.userData.trackData.bpmK?r.musicAudio.userData.trackData.bpmK:1},aproximateDurationDivider(r){let n=24;return r<3?2:(r>=3&&r<5?n=4:r>=5&&r<7?n=6:r>=7&&r<9?n=8:r>=9&&r<11?n=10:r>=11&&r<13?n=12:r>=13&&r<15?n=14:r>=15&&r<17?n=16:r>=17&&r<19?n=18:r>=19&&r<21?n=20:r>=21&&r<22&&(n=22),n)},getAvatarAnimationScale:(r,a)=>"victory"===a?r.animations[a].getClip().duration/n.BPMSync.aproximateDurationDivider(r.animations[a].getClip().duration)*n.BPMSync.getK():1}},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const w=a(36),E=a(156),j=a(37),q=a(8),$=a(158),ne=a(157),ie=a(21),oe=a(178),se=a(181),le=a(159),pe=a(211),he=a(19),me=a(40),ge=a(41),ye=a(163),_e=a(214),ve=a(43);class EnvironmentSystem extends me.default{constructor(){super(),this.shaderSwarm=null,this.tmpVec=new he.Vector3,this.backgroundAudio=new he.Audio(q.audioListener),this.backgroundAudio.loop=!0,this.musicAudio=new he.Audio(q.audioListener),this.musicAudio.loop=!0}onInit(){this.environmentGroup.on("entityAdded",this.handleEntityAdded,this),this.environmentGroup.on("entityUpdated",this.handleEntityUpdated,this),this.skyboxMaterial=new he.ShaderMaterial({fragmentShader:pe.skyboxShader.fragmentShader,vertexShader:pe.skyboxShader.vertexShader,uniforms:pe.skyboxShader.uniforms,depthWrite:!1,side:he.BackSide,transparent:!1,fog:!0})}muteBackgroundAudio(r){r?(this.backgroundAudio.setVolume(0),this.musicAudio.setVolume(0)):(this.musicAudio.setVolume(.8),this.backgroundAudio.setVolume(.15))}restartSound(){this.musicAudio.isPlaying&&(this.musicAudio.stop(),this.musicAudio.play()),this.backgroundAudio.isPlaying&&(this.backgroundAudio.stop(),this.backgroundAudio.play())}async updateSounds(r,n,a){this.musicAudio.isPlaying&&this.musicAudio.userData.trackId!==r.music&&this.musicAudio.stop(),this.musicAudio.userData.trackId=r.music,this.storeTrackData(r),n&&(this.musicAudio.setBuffer(n),this.musicAudio.setVolume(.7),this.musicAudio.play()),this.backgroundAudio.isPlaying&&this.backgroundAudio.userData.trackId!==r.ambientSound&&this.backgroundAudio.stop(),this.backgroundAudio.userData.trackId=r.ambientSound,a&&(this.backgroundAudio.setBuffer(a),this.backgroundAudio.setVolume(.15),this.backgroundAudio.play())}updateParticles({environment:r}){r.particlePresetChanged!==r.particlePreset&&(r.particlePresetChanged=r.particlePreset,ve.cfg.particleEffects!==ve.SettingLevel.OFF&&(this.shaderSwarm&&this.shaderSwarm.dispose(q.noAOScene),r.particlePreset&&(this.shaderSwarm=new _e.default({preset:r.particlePreset,callback(r){q.noAOScene.add(r)}}))))}storeTrackData(r){if(r.music&&$.default[r.music]){this.musicAudio.userData.trackData=$.default[r.music];const n=1;this.musicAudio.userData.trackData.bpmK=this.musicAudio.userData.trackData.bpm/(120*n)}else delete this.musicAudio.userData.trackData}async updateEnvironment({environment:r}){this.storeTrackData(r);const[n,a,i]=await Promise.all([r.music?q.assetManager.getLoader(ne.AudioLoader).load({name:r.music}):null,r.ambientSound?q.assetManager.getLoader(ne.AudioLoader).load({name:r.ambientSound}):null,r.skybox?q.assetManager.getLoader(oe.TextureLoader).load({name:r.skybox,type:"cubemap",size:1024}):null]);this.updateSounds(r,n,a),r.skybox?(this.skyboxMaterial.uniforms.tint.value=r.skyColor,this.skyboxMaterial.uniforms.mieTint.value=r.mieTint,this.skyboxMaterial.uniforms.mieSize.value=r.mieSize,this.skyboxMaterial.uniforms.mieIntensity.value=r.mieIntensity,this.skyboxMaterial.uniforms.sunDir.value=r.sunDir,this.skyboxMaterial.uniforms.fogStart.value=r.fogStart,this.skyboxMaterial.uniforms.fogEnd.value=r.fogEnd,this.skyboxMaterial.uniforms.skyboxFogIntensity.value=r.skyboxFogIntensity,this.skyboxMaterial.uniforms.tCube.value=i,this.skyboxMaterial.uniforms.fogColorReal.value=r.fogColor,this.skyboxMaterial.needsUpdate=!0,this.skyboxMaterial.visible=!0):this.skyboxMaterial.visible=!1,q.default.renderEngine.setSun(r.sunIntensity,r.sunColor),this.renderSystem.ambientLight.intensity=r.ambientLightIntensity,this.renderSystem.ambientLight.color.copy(r.ambientLightColor),this.scene.fog&&this.scene.fog.color.copy(r.fogColor),this.scene.fog instanceof he.FogExp2&&(this.scene.fog.density=r.fogIntensity*r.fogIntensity*r.fogIntensity),this.envSettings=r}getSettings(){return this.envSettings}async handleEntityAdded(r){this.environmentGroup.entities.length>1&&this.entityManager.remove(this.environmentGroup.entities[0]);const[n,a]=await Promise.all([q.assetManager.getLoader(ie.GeometryLoader).load({name:"sphere"}),q.assetManager.getLoader(oe.TextureLoader).load({name:r.environment.skybox||"noon",type:"cubemap",size:1024})]);this.skyboxMaterial.uniforms.tCube.value=a,this.skyboxMaterial.needsUpdate=!0;const i=new he.Mesh(n,this.skyboxMaterial);i.renderOrder=9999,i.scale.set(1e4,1e4,1e4),i.updateMatrix(),r.environment.skyboxScene.children.length=0,r.environment.skyboxScene.add(i),r.environment.skyboxScene.fog=new he.FogExp2("#FFFFFF",0),this.updateEnvironment(r),this.updateParticles(r)}handleEntityUpdated(r){this.updateEnvironment(r),this.updateParticles(r)}updateFrame(r,n){this.shaderSwarm&&(this.shaderSwarm.position.copy(this.renderSystem.camera.position).add(this.renderSystem.camera.getWorldDirection(this.tmpVec).multiplyScalar(10)),this.shaderSwarm.tick(n))}}EnvironmentSystem.order=1,y([w.InjectGroup(ge.default,ye.default),_("design:type","function"==typeof(i=void 0!==j.default&&j.default)?i:Object)],EnvironmentSystem.prototype,"environmentGroup",void 0),y([E.InjectSystem(r=>se.default),_("design:type","function"==typeof(o=void 0!==se.default&&se.default)?o:Object)],EnvironmentSystem.prototype,"nodeSystem",void 0),y([E.InjectSystem(r=>le.default),_("design:type","function"==typeof(s=void 0!==le.default&&le.default)?s:Object)],EnvironmentSystem.prototype,"renderSystem",void 0),n.default=EnvironmentSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TextureLoader=n.getBestTextureCompressionFormat=void 0;const i=a(30),o=a(9),s=a(8),y=a(1374),_=a(19),w=a(179),E=a(180),j=a(6),q=a(43),$=a(13),ne=a(34);function getBestTextureCompressionFormat(){const r=!!s.default.glContext.getExtension("WEBGL_compressed_texture_s3tc"),n=!!s.default.glContext.getExtension("WEBGL_compressed_texture_pvrtc")||!!s.default.glContext.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),a=!!s.default.glContext.getExtension("WEBGL_compressed_texture_astc"),i=!!s.default.glContext.getExtension("WEBGL_compressed_texture_etc2"),o=!!s.default.glContext.getExtension("WEBGL_compressed_texture_etc1");return r?"dxt":n?"pvrtc":a?"astc":i?"etc2":o?"etc1":void 0}n.getBestTextureCompressionFormat=getBestTextureCompressionFormat;class TextureLoader extends i.AssetLoader{constructor(){super(),this._textureFormat="",this.loadingManager=new _.LoadingManager,this.ktxLoader=new w.KTXLoader(this.loadingManager),this.textureLoader=new _.TextureLoader(this.loadingManager),this.basisLoader=new E.BasisTextureLoader(this.loadingManager),this.cubeLoader=new _.CubeTextureLoader(this.loadingManager),this.ktxLoader.crossOrigin="anonymous",this.textureLoader.crossOrigin="anonymous",this.cubeLoader.crossOrigin="anonymous",this.basisLoader.crossOrigin="anonymous",this.basisLoader.setTranscoderPath(j.default.baseCdnUrl+"/workers/basis/")}generateKey(r){return r.name+"_"+r.type}get textureFormat(){return this._textureFormat||(this.basisLoader.detectSupport(s.default.glContext),this._textureFormat=getBestTextureCompressionFormat()),this._textureFormat}getTexturePath({path:r,sizes:n,formats:a},i,o=256,s){let y=this.textureFormat;if(s?o=s:-1===n.indexOf(o)&&(o=n[0]),"cubemap"===i)return`${j.default.urlTextures2}${r}.${o}.jpg`;const _=-1!==a.indexOf("basis");return y&&_?`${j.default.urlTextures2}${r}.${o}.basis`:-1===a.indexOf(y)?(y=a[0],`${j.default.urlTextures}${r}.${o}.${y}`):`${j.default.urlTextures}${r}.${o}-${y}.ktx`}loadCubemap(r){const n=[];for(let a=0;a<6;a++)n.push(`${r}.0${a}.jpg`);const a=this.cubeLoader.load(n);return a.anisotropy=q.cfg.anisotropicFilteringLevel,a}loadBasis(r){const n=new _.CompressedTexture([],0,0);return this.basisLoader.load(r,r=>{n.image=r.image,n.mipmaps=r.mipmaps,n.format=r.format,n.minFilter=r.minFilter,n.magFilter=r.magFilter,n.encoding=r.encoding,n.premultiplyAlpha=r.premultiplyAlpha,n.mapping=r.mapping,n.anisotropy=q.cfg.anisotropicFilteringLevel,n.needsUpdate=!0}),n}async _load(r){return this._loadSync(r)}_loadSync(r){const n=y.default[r.name];if(!n)return null;const a=n.textures[r.type];if(!a)return null;let i;if(a.data){const r=a.data;i=this.textureLoader.load(r),i.flipY=!1}else{const o=this.getTexturePath(a,r.type,r.size,n.preferedSize),s=ne.getCachedFileUri(o),y=o.split(".").pop(),_=o.substr(0,o.lastIndexOf(".")),w=n.encoding?"."+n.encoding:"";if("cubemap"===r.type)i=this.loadCubemap(_);else switch(y){case"basis":i=this.loadBasis(s);break;case"ktx":i=this.ktxLoader.load(s+w,void 0);break;default:i=this.textureLoader.load(s),i.flipY=!1}}return i.wrapS=_.RepeatWrapping,i.wrapT=_.RepeatWrapping,i.anisotropy=q.cfg.anisotropicFilteringLevel,$.disableGammaEncoding||(i.encoding=_.GammaEncoding),i}}n.TextureLoader=TextureLoader,TextureLoader.assetType=o.AssetType.TEXTURE},function(r,n,a){"use strict";a.r(n),a.d(n,"KTXLoader",(function(){return KTXLoader}));var i=a(19),KTXLoader=function(r){i.CompressedTextureLoader.call(this,r)};KTXLoader.prototype=Object.assign(Object.create(i.CompressedTextureLoader.prototype),{constructor:KTXLoader,parse(r,n){var a=new o(r,1);return{mipmaps:a.mipmaps(n),width:a.pixelWidth,height:a.pixelHeight,format:a.glInternalFormat,isCubemap:6===a.numberOfFaces,mipmapCount:a.numberOfMipmapLevels}}});var o=function(){function KhronosTextureContainer(r,n){this.arrayBuffer=r;var a=new Uint8Array(this.arrayBuffer,0,12);if(171===a[0]&&75===a[1]&&84===a[2]&&88===a[3]&&32===a[4]&&49===a[5]&&49===a[6]&&187===a[7]&&13===a[8]&&10===a[9]&&26===a[10]&&10===a[11]){var i=Uint32Array.BYTES_PER_ELEMENT,o=new DataView(this.arrayBuffer,12,13*i),s=67305985===o.getUint32(0,!0);this.glType=o.getUint32(1*i,s),this.glTypeSize=o.getUint32(2*i,s),this.glFormat=o.getUint32(3*i,s),this.glInternalFormat=o.getUint32(4*i,s),this.glBaseInternalFormat=o.getUint32(5*i,s),this.pixelWidth=o.getUint32(6*i,s),this.pixelHeight=o.getUint32(7*i,s),this.pixelDepth=o.getUint32(8*i,s),this.numberOfArrayElements=o.getUint32(9*i,s),this.numberOfFaces=o.getUint32(10*i,s),this.numberOfMipmapLevels=o.getUint32(11*i,s),this.bytesOfKeyValueData=o.getUint32(12*i,s),0===this.glType?(this.numberOfMipmapLevels=Math.max(1,this.numberOfMipmapLevels),0!==this.pixelHeight&&0===this.pixelDepth?0===this.numberOfArrayElements?this.numberOfFaces===n?this.loadType=KhronosTextureContainer.COMPRESSED_2D:console.warn("number of faces expected"+n+", but found "+this.numberOfFaces):console.warn("texture arrays not currently supported"):console.warn("only 2D textures currently supported")):console.warn("only compressed formats currently supported")}else console.error("texture missing KTX identifier")}return KhronosTextureContainer.prototype.mipmaps=function(r){for(var n=[],a=KhronosTextureContainer.HEADER_LEN+this.bytesOfKeyValueData,i=this.pixelWidth,o=this.pixelHeight,s=r?this.numberOfMipmapLevels:1,y=0;y<s;y++){var _=new Int32Array(this.arrayBuffer,a,1)[0];a+=4;for(var w=0;w<this.numberOfFaces;w++){var E=new Uint8Array(this.arrayBuffer,a,_);n.push({data:E,width:i,height:o}),a+=_,a+=3-(_+3)%4}i=Math.max(1,.5*i),o=Math.max(1,.5*o)}return n},KhronosTextureContainer.HEADER_LEN=64,KhronosTextureContainer.COMPRESSED_2D=0,KhronosTextureContainer.COMPRESSED_3D=1,KhronosTextureContainer.TEX_2D=2,KhronosTextureContainer.TEX_3D=3,KhronosTextureContainer}()},function(r,n,a){"use strict";a.r(n),a.d(n,"BasisTextureLoader",(function(){return BasisTextureLoader}));var i=a(19);const BasisTextureLoader=function(r){i.Loader.call(this,r),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.workerConfig={format:null,astcSupported:!1,etcSupported:!1,dxtSupported:!1,pvrtcSupported:!1}};BasisTextureLoader.prototype=Object.assign(Object.create(i.Loader.prototype),{constructor:BasisTextureLoader,setTranscoderPath(r){return this.transcoderPath=r,this},setWorkerLimit(r){return this.workerLimit=r,this},detectSupport(r){const n=this.workerConfig;if(n.astcSupported=!!r.getExtension("WEBGL_compressed_texture_astc"),n.etcSupported=!!r.getExtension("WEBGL_compressed_texture_etc1"),n.etc2Supported=!!r.getExtension("WEBGL_compressed_texture_etc2"),n.dxtSupported=!!r.getExtension("WEBGL_compressed_texture_s3tc"),n.pvrtcSupported=!!r.getExtension("WEBGL_compressed_texture_pvrtc")||!!r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),n.astcSupported)n.format=BasisTextureLoader.BASIS_FORMAT.cTFASTC_4x4;else if(n.dxtSupported)n.format=BasisTextureLoader.BASIS_FORMAT.cTFBC3;else if(n.pvrtcSupported)n.format=BasisTextureLoader.BASIS_FORMAT.cTFPVRTC1_4_RGBA;else if(n.etc2Supported)n.format=BasisTextureLoader.BASIS_FORMAT.cTFETC2;else{if(!n.etcSupported)throw Error("THREE.BasisTextureLoader: No suitable compressed texture format found.");n.format=BasisTextureLoader.BASIS_FORMAT.cTFETC1}return this},load(r,n,a,o){const s=new i.FileLoader(this.manager);s.setResponseType("arraybuffer"),s.load(r,r=>{this._createTexture(r).then(n).catch(o)},a,o)},_createTexture(r){let n,a;const o=this._getWorker().then(i=>(n=i,a=this.workerNextTaskID++,new Promise((i,o)=>{n._callbacks[a]={resolve:i,reject:o},n._taskCosts[a]=r.byteLength,n._taskLoad+=n._taskCosts[a],n.postMessage({type:"transcode",id:a,buffer:r},[r])}))).then(r=>{const n=this.workerConfig,{width:a,height:o,images:s,format:y}=r;let _;switch(y){case BasisTextureLoader.BASIS_FORMAT.cTFASTC_4x4:_=new i.CompressedTexture(null,a,o,i.RGBA_ASTC_4x4_Format);break;case BasisTextureLoader.BASIS_FORMAT.cTFBC1:case BasisTextureLoader.BASIS_FORMAT.cTFBC3:_=new i.CompressedTexture(null,a,o,BasisTextureLoader.DXT_FORMAT_MAP[n.format],i.UnsignedByteType);break;case BasisTextureLoader.BASIS_FORMAT.cTFETC1:_=new i.CompressedTexture(null,a,o,i.RGB_ETC1_Format);break;case BasisTextureLoader.BASIS_FORMAT.cTFPVRTC1_4_RGB:_=new i.CompressedTexture(null,a,o,i.RGB_PVRTC_4BPPV1_Format);break;case BasisTextureLoader.BASIS_FORMAT.cTFPVRTC1_4_RGBA:_=new i.CompressedTexture(null,a,o,i.RGBA_PVRTC_4BPPV1_Format);break;default:throw Error("THREE.BasisTextureLoader: No supported format available.")}return s.length>1?_.image=s:(_.image.width=a,_.image.height=o,_.mipmaps=s[0].mipmaps),_.minFilter=1===s[0].mipmaps.length?i.LinearFilter:i.LinearMipmapLinearFilter,_.magFilter=i.LinearFilter,_.generateMipmaps=!1,_.needsUpdate=!0,_});return o.finally(()=>{n&&a&&(n._taskLoad-=n._taskCosts[a],delete n._callbacks[a],delete n._taskCosts[a])}),o},_initTranscoder(){if(!this.transcoderBinary){const r=new i.FileLoader(this.manager);r.setPath(this.transcoderPath);const n=new Promise((n,a)=>{r.load("basis_transcoder.js",n,void 0,a)}),a=new i.FileLoader(this.manager);a.setPath(this.transcoderPath),a.setResponseType("arraybuffer");const o=new Promise((r,n)=>{a.load("basis_transcoder.wasm",r,void 0,n)});this.transcoderPending=Promise.all([n,o]).then(([r,n])=>{const a=BasisTextureLoader.BasisWorker.toString(),i=["/* basis_transcoder.js */",r,"/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i])),this.transcoderBinary=n})}return this.transcoderPending},_getWorker(){return this._initTranscoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",config:this.workerConfig,transcoderBinary:this.transcoderBinary}),r.onmessage=function(n){const a=n.data;switch(a.type){case"transcode":r._callbacks[a.id].resolve(a);break;case"error":r._callbacks[a.id].reject(a);break;default:console.error('THREE.BasisTextureLoader: Unexpected message, "'+a.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort((function(r,n){return r._taskLoad>n._taskLoad?-1:1}));return this.workerPool[this.workerPool.length-1]})},dispose(){for(let r=0;r<this.workerPool.length;r++)this.workerPool[r].terminate();return this.workerPool.length=0,this}}),BasisTextureLoader.BASIS_FORMAT={cTFETC1:0,cTFETC2:1,cTFBC1:2,cTFBC3:3,cTFBC4:4,cTFBC5:5,cTFBC7_M6_OPAQUE_ONLY:6,cTFBC7_M5:7,cTFPVRTC1_4_RGB:8,cTFPVRTC1_4_RGBA:9,cTFASTC_4x4:10,cTFATC_RGB:11,cTFATC_RGBA_INTERPOLATED_ALPHA:12,cTFRGBA32:13,cTFRGB565:14,cTFBGR565:15,cTFRGBA4444:16},BasisTextureLoader.DXT_FORMAT={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779},BasisTextureLoader.DXT_FORMAT_MAP={},BasisTextureLoader.DXT_FORMAT_MAP[BasisTextureLoader.BASIS_FORMAT.cTFBC1]=BasisTextureLoader.DXT_FORMAT.COMPRESSED_RGB_S3TC_DXT1_EXT,BasisTextureLoader.DXT_FORMAT_MAP[BasisTextureLoader.BASIS_FORMAT.cTFBC3]=BasisTextureLoader.DXT_FORMAT.COMPRESSED_RGBA_S3TC_DXT5_EXT,BasisTextureLoader.BasisWorker=function(){let r,n,a;onmessage=function(i){const o=i.data;switch(o.type){case"init":r=o.config,function init(r){let i;n=new Promise(n=>{i={wasmBinary:r,onRuntimeInitialized:n},BASIS(i)}).then(()=>{const{BasisFile:r,initializeBasis:n}=i;a=r,n()})}(o.transcoderBinary);break;case"transcode":n.then(()=>{try{const{width:n,height:i,hasAlpha:s,images:y,format:_}=function transcode(n){const i=new a(new Uint8Array(n)),o=i.getImageWidth(0,0),s=i.getImageHeight(0,0),y=i.getHasAlpha()||0,_=i.getNumImages();function cleanup(){i.close(),i.delete()}if(!y)switch(r.format){case 9:r.format=8}if(!o||!s)throw cleanup(),Error("THREE.BasisTextureLoader:  Invalid .basis file");if(!i.startTranscoding())throw cleanup(),Error("THREE.BasisTextureLoader: .startTranscoding failed");const w=[];for(let n=0;n<_;n++){const a=i.getNumLevels(n),_=[];for(let o=0;o<a;o++){const a=i.getImageWidth(n,o),s=i.getImageHeight(n,o),w=new Uint8Array(i.getImageTranscodedSizeInBytes(n,o,r.format));if(!i.transcodeImage(w,n,o,r.format,0,y))throw cleanup(),Error("THREE.BasisTextureLoader: .transcodeImage failed.");_.push({data:w,width:a,height:s})}w.push({mipmaps:_,format:r.format,width:o,height:s})}return cleanup(),{width:o,height:s,hasAlpha:y,images:w,format:r.format}}(o.buffer),w=[];for(let r=0;r<y.length;r++){const n=y[r];for(let r=0;r<n.mipmaps.length;++r)w.push(n.mipmaps[r].data.buffer)}self.postMessage({type:"transcode",id:o.id,width:n,height:i,hasAlpha:s,images:y,format:_},w)}catch(r){console.error(r),self.postMessage({type:"error",id:o.id,error:r.message})}})}}}},function(r,n,a){"use strict";var i,o,s,y,_,w=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},E=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const j=a(156),q=a(75),$=a(8),ne=a(182),ie=a(192),oe=a(193),se=a(195),le=a(21),pe=a(152),he=a(133),me=a(19),ge=a(196),ye=a(36),_e=a(37),ve=a(40),Se=a(197),we=a(199),Me=a(41),Te=a(11),Ae=a(172);a(204).hackThreeJsShaders();const ke=new me.MeshPhongMaterial;class SceneSystem extends ve.default{constructor(){super(),this.cleanupInstancesTimer=120,this.cleanupInstancesEnabled=!1,this.tmpTransform=new Me.Transform,this.tmpColor=new me.Color,this.spritePool=new q.default(()=>new me.Sprite),this.spriteMaterialCache=new Map}onInit(){this.nodeEntityGroup.on("entityAdded",this.nodeOnEntityAdded,this),this.nodeEntityGroup.on("entityRemoved",this.nodeOnEntityRemoved,this),this.nodeEntityGroup.on("entityUpdated",this.nodeOnEntityUpdated,this),this.modelEntityGroup.on("entityAdded",this.modelOnEntityAdded,this),this.modelEntityGroup.on("entityRemoved",this.modelOnEntityRemoved,this),this.modelEntityGroup.on("entityUpdated",this.modelOnEntityUpdated,this),this.avatarEntityGroup.on("entityAdded",this.avatarOnEntityAdded,this),this.avatarEntityGroup.on("entityRemoved",this.avatarOnEntityRemoved,this),this.avatarEntityGroup.on("entityUpdated",this.avatarOnEntityUpdated,this),this.billboardEntityGroup.on("entityAdded",this.billboardOnEntityAdded,this),this.billboardEntityGroup.on("entityRemoved",this.billboardOnEntityRemoved,this),this.billboardEntityGroup.on("entityUpdated",this.billboardOnEntityUpdated,this)}updateTick(r,n){r%2==0&&this.cleanupInstancesEnabled&&0==this.cleanupInstancesTimer--&&(this.cleanupInstancesEnabled=!1,ne.default.cleanup())}updateFrame(r,n){for(let r=0;r<this.modelEntityGroup.entities.length;++r){const n=this.modelEntityGroup.entities[r],a=n.node,i=n.model;i.instance&&a.isDirty&&(i.instance.matrixWorld.compose(a.object.position,a.object.quaternion,a.object.scale),i.instance.position.copy(a.object.position),i.instance.quaternion.copy(a.object.quaternion),i.instance.scale.copy(a.object.scale),i.instance.sync())}for(let r=0;r<this.billboardEntityGroup.entities.length;r++){const{node:n,textBillboard:a}=this.billboardEntityGroup.entities[r];a.sprite&&(a.sprite.position.copy(n.object.position),a.sprite.quaternion.copy(n.object.quaternion),a.sprite.scale.set(1*a.scale,.25*a.scale,1*a.scale),a.sprite.scale.multiply(n.object.scale))}for(let r=0;r<this.avatarEntityGroup.entities.length;r++){const{node:n,avatar:a}=this.avatarEntityGroup.entities[r];a.mesh&&(a.mesh.position.copy(n.object.position),a.mesh.position.y+=oe.AVATAR_Y_OFFSET,a.mesh.quaternion.copy(n.object.quaternion),a.mesh.scale.copy(n.object.scale).multiplyScalar(.01))}for(let r=0;r<this.avatarEntityGroup.length;r++){const a=this.avatarEntityGroup.entities[r];a.avatar.mixer&&a.avatar.mixer.update(n)}for(let r=0;r<this.billboardEntityGroup.entities.length;r++){const{node:n,textBillboard:a}=this.billboardEntityGroup.entities[r];a.sprite&&(a.sprite.position.copy(n.object.position),a.sprite.quaternion.copy(n.object.quaternion),a.sprite.scale.set(1*a.scale,.25*a.scale,1*a.scale),a.sprite.scale.multiply(n.object.scale))}}getEntityByIdentifier(r){for(let n=0;n<this.nodeEntityGroup.entities.length;n++){const a=this.nodeEntityGroup.entities[n];if(a.node.entityIdentifier===r)return a}}async updateObject(r){const{node:n,model:a}=r;let i;if(!a.enabled&&a.instance&&(ne.default.freeInstance(a.instance),a.instance=null),i=a.geometry?await $.assetManager.getLoader(le.GeometryLoader).load({name:a.geometry}):await $.assetManager.getLoader(le.GeometryLoader).load({name:"box"}),!a.enabled)return;let o=ke;const s=r.material||{material:"plastic",color:{r:.5,g:.5,b:.5}};if(o=r.material?this.materialSystem.getMaterial(r.material):this.materialSystem.getMaterial(s),!a.instance){const r=ne.default.create(i,o,!n.isStatic,a.castShadow);r.matrixAutoUpdate=!1,a.instance=r}a.instance.entity=r,a.instance.geometry=i,a.instance.material=o;const y=this.tmpColor;if(s.color?y.copy(s.color):(this.tmpColor.r=1,this.tmpColor.g=1,this.tmpColor.b=1),s.colorStrength){const r=s.colorStrength;y.r=Math.pow(y.r*r,r),y.g=Math.pow(y.g*r,r),y.b=Math.pow(y.b*r,r)}a.instance.setColor(y);let _=1;s.uvScale&&(_=s.uvScale),a.instance.setUvScale(_),a.instance.position.copy(n.position),a.instance.quaternion.copy(n.rotation),a.instance.castShadow=a.castShadow,a.instance.receiveShadow=a.receiveShadow,a.instance.enabled||a.instance.allocate(),a.instance.sync(),this.cleanupInstances()}syncObject(r){const{node:n}=r;n.object&&(n.object.position.copy(n.position),n.object.quaternion.copy(n.rotation),n.object.scale.copy(n.scale),n.isDirty=!0)}nodeOnEntityUpdated(r){this.syncObject(r)}nodeOnEntityAdded(r){const{node:n}=r;if(n.parent?(this.tmpTransform.position.copy(n.position),this.tmpTransform.scale.copy(n.scale),this.tmpTransform.rotation.copy(n.rotation),n.setRelativeTransform(this.tmpTransform),n.getAbsoluteTransform(n.prevAbsoluteTransform)):n.initializeTransform(n.getAbsoluteTransform(this.tmpTransform)),0===n.entityIdentifier){const r=this.entityManager.getOrCreateSingleton(he.default);n.entityIdentifier=++r.currentId}}nodeOnEntityRemoved(r){const{node:n}=r;if(n.object&&n.object.parent&&n.object.parent.remove(n.object),n.object.entity=null,n.parent){const a=this.entityManager.getEntity(n.parent);if(a&&a.isFree){const n=a.node.children.indexOf(r);n>-1?a.node.children.splice(n,1):console.warn("Entity parent didnt know about its child?")}}for(let r=0;r<n.children.length;r++){const a=n.children[r];a.isFree||(a.node&&(a.node.parent=null),this.entityManager.removeDeffered(a))}}cleanupInstances(){this.cleanupInstancesEnabled=!0,this.cleanupInstancesTimer=120}modelOnEntityUpdated(r){this.updateObject(r)}modelOnEntityAdded(r){this.updateObject(r)}modelOnEntityRemoved(r){const{model:n}=r;n.instance&&(n.instance.entity=null,ne.default.freeInstance(n.instance),n.instance=null)}async createAvatarObject(r){return $.assetManager.getLoader(oe.AvatarLoader).load({name:r})}async avatarUpdateObject(r){const{node:n,avatar:a}=r,i=r.uid;if(!a.mesh){a.mesh=n.object;const[o,s]=await this.createAvatarObject(a.model);if(r.uid!==i)return;s.pose(),a.mesh=s.clone(),a.mesh.skeleton=this.cloneSkeleton(s.skeleton),a.bones=a.mesh.skeleton.bones[0],a.mesh.material=this.entityManager.getSystem(we.default).createMaterial("shader",{highlightColor:new me.Vector3,highlightPosition:new me.Vector3,highlightTime:0,isGhost:a.isGhost?1:0,dissolve:!1,unDissolve:!1,hit:!1,highlight:!1,legacyHighlight:!1,effectLengthSeconds:1,map:a.mesh.material.map,normalMap:a.mesh.material.normalMap,normalMapType:a.mesh.material.normalMapType,specularMap:a.mesh.material.emissiveMap,specular:new me.Color(1118481),shininess:30,transparent:a.isGhost},{},{skinning:!0},{props:{vertexShader:se.default,fragmentShader:ie.default}}),a.mixer=new me.AnimationMixer(a.bones),a.animations={};for(const r of o){const n=a.mixer.clipAction(r);n.reset(),n.clampWhenFinished=!0,n.enabled=!0,n.setEffectiveTimeScale(1),n.setEffectiveWeight(0),n.play(),a.animations[r.name]=n}a.animations.idle.setEffectiveWeight(1),a.animations.idle.play(),a.mesh.bindMode="detached",a.mesh.normalizeSkinWeights(),this.scene.add(a.bones),this.scene.add(a.mesh)}}avatarOnEntityUpdated(r){this.avatarUpdateObject(r)}avatarOnEntityAdded(r){this.avatarUpdateObject(r)}avatarOnEntityRemoved(r){var n;const{avatar:a}=r;a.mixer&&(a.mixer.stopAllAction(),a.mixer=null),a.bones&&(this.scene.remove(a.bones),a.bones=null),(null===(n=a.mesh)||void 0===n?void 0:n.parent)&&a.mesh.parent.remove(a.mesh),a.mesh=null,a.animations={}}cloneSkeleton(r){const n=r.bones[0].clone(!0),a=[];return n.traverse(r=>{a.push(r)}),new me.Skeleton(a,r.boneInverses)}updateBillboard(r){const{textBillboard:n}=r,a=Te.default(n.text+n.color);if(n.sprite&&n.cacheKey!==a&&(this.scene.remove(n.sprite),this.spritePool.free(n.sprite),n.sprite=null),!n.sprite){n.cacheKey=a;let r=this.spriteMaterialCache.get(a);if(!r){const i=ge.generateTextTexture(n.text,80,n.color,n.bgColor,n.bgLineWidth,"sans-serif",1024,256,!0,!0,!1);r=new me.SpriteMaterial({map:i,depthWrite:!1,sizeAttenuation:n.sizeAttenuation}),this.spriteMaterialCache.set(a,r)}const i=this.spritePool.allocate();i.material=r,i.position.set(0,0,0),i.scale.set(1,1,1),n.sprite=i,n.sprite.scale.y=.25,n.sprite.scale.multiplyScalar(n.scale),n.sprite.renderOrder=1e3}this.scene.add(n.sprite)}billboardOnEntityUpdated(r){this.updateBillboard(r)}billboardOnEntityAdded(r){this.updateBillboard(r)}billboardOnEntityRemoved(r){const{textBillboard:n}=r;n.sprite.parent.remove(n.sprite),this.spritePool.free(n.sprite),n.sprite=null}}SceneSystem.order=1e3,w([ye.InjectGroup(Me.default),E("design:type","function"==typeof(i=void 0!==_e.default&&_e.default)?i:Object)],SceneSystem.prototype,"nodeEntityGroup",void 0),w([ye.InjectGroup(Me.default,Ae.default),E("design:type","function"==typeof(o=void 0!==_e.default&&_e.default)?o:Object)],SceneSystem.prototype,"modelEntityGroup",void 0),w([ye.InjectGroup(Me.default,Se.default),E("design:type","function"==typeof(s=void 0!==_e.default&&_e.default)?s:Object)],SceneSystem.prototype,"avatarEntityGroup",void 0),w([ye.InjectGroup(Me.default,pe.default),E("design:type","function"==typeof(y=void 0!==_e.default&&_e.default)?y:Object)],SceneSystem.prototype,"billboardEntityGroup",void 0),w([j.InjectSystem(()=>we.default),E("design:type","function"==typeof(_=void 0!==we.default&&we.default)?_:Object)],SceneSystem.prototype,"materialSystem",void 0),n.default=SceneSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(8),o=a(183),s=a(191),y=a(18),_=new Map,w=[];function _getPool(r,n,a,s){const w=y.default.hashCode(`${r.uuid+n.uuid}_${+a}_${+s}`);let E=_.get(w);return E||(E=new o.default(w,r,n,1,a,s),i.threeScene.add(E),_.set(w,E)),E}function _createInstance(r,n,a,i){const o=_getPool(r,n,a,i);let y;return w.length?(y=w.pop(),y.cluster=o,y.pool=o,y._material=o.material,y._geometry=o.sourceGeometry):y=new s.default(o,o,o.material,o.sourceGeometry),y.isDynamic=a,y}n.default={freeInstance:function _freeInstance(r){r.dispose(),w.push(r)},updateInstance:function _updateInstance(r){const n=_getPool(r.geometry,r.material,r.isDynamic,r.castShadow);r.enabled&&r.deAllocate(),r.cluster=n,r.pool=n,r.allocate()},cleanup:function _cleanup(){for(const r of _.values())r.isEmpty&&(r.enabled=!1,i.threeScene.remove(r),_.delete(r._id),r.dispose())},info:function _info(){let r=0,n=0;return _.forEach(a=>{r+=a.usedInstanceCount,n+=a.freeInstanceCount}),{usedInstanceCount:r,totalInstanceCount:n,poolCount:_.size}},create:_createInstance,createFromMesh:function _createFromMesh(r){const n=_createInstance(r.geometry,r.material,!0,!0);return n.name=r.name,n.userData=r.userData,n.children=r.children,n}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(184),o=a(185),s=a(186),y=a(187),_=a(188),w=a(189),E=a(190),j=a(19);j.ShaderChunk.begin_vertex=i.default,j.ShaderChunk.color_fragment=o.default,j.ShaderChunk.color_pars_fragment=s.default,j.ShaderChunk.color_vertex=_.default,j.ShaderChunk.color_pars_vertex=y.default,j.ShaderChunk.defaultnormal_vertex=w.default,j.ShaderChunk.uv_pars_vertex=E.default;const q=new j.MeshDepthMaterial;q.depthPacking=j.RGBADepthPacking,q.clipping=!0,q.defines={INSTANCE_TRANSFORM:""};const $=j.ShaderLib.distanceRGBA,ne=j.UniformsUtils.clone($.uniforms),ie=new j.ShaderMaterial({defines:{USE_SHADOWMAP:"",INSTANCE_TRANSFORM:""},uniforms:ne,vertexShader:$.vertexShader,fragmentShader:$.fragmentShader,clipping:!0}),oe=new j.Vector3(1e4,1e4,1e4),se=new j.Color(1,1,1),le=new j.Vector3(1,1,1),pe=new j.Quaternion;class InstancePool extends j.Mesh{constructor(r,n,a,i=1,o,s){super(n,a),this.enabled=!0,this.isDynamic=!0,this.freeIds=[],this.allIds=[],this.updateList=[],this.tmpMatrix3=new j.Matrix3,this.tmpMatrix4=new j.Matrix4,this.farFarAway=new j.Vector3(1e4,1e4,1e4),this.farAwayMatrix=(new j.Matrix4).setPosition(this.farFarAway),this.sourceGeometry=n,this._id=r,this._numInstances=i,this.isDynamic=o,this.matrixAutoUpdate=!1,this.frustumCulled=!1,this.castShadow=s,this.receiveShadow=!0,this.customDepthMaterial=q,this.customDistanceMaterial=ie,this.updateInstances()}set material(r){this._material=r,this._material.defines||(this._material.defines={}),this._material.defines.INSTANCE_TRANSFORM="",this._material.defines.INSTANCE_UNIFORM="",this._material.defines.INSTANCE_COLOR=""}get material(){return this._material}set geometry(r){const n=this._numInstances||1;this._geometry=(new j.InstancedBufferGeometry).copy(r),this._geometry.groups=[],this._numInstances=n,this._geometry.instanceCount=n,this._geometry._maxInstanceCount=n;const a=new Float32Array(14*n),i=new j.InstancedInterleavedBuffer(a,14);i.usage=j.DynamicDrawUsage,this._geometry.setAttribute("instanceOffset",new j.InterleavedBufferAttribute(i,3,0,!1)),this._geometry.setAttribute("instanceRotation",new j.InterleavedBufferAttribute(i,4,3,!1)),this._geometry.setAttribute("instanceScale",new j.InterleavedBufferAttribute(i,3,7,!1)),this._geometry.setAttribute("instanceColor",new j.InterleavedBufferAttribute(i,4,10,!1)),i.needsUpdate=!0}get geometry(){return this._geometry}get isEmpty(){return this.freeIds.length===this.allIds.length}get freeInstanceCount(){return this.freeIds.length}get usedInstanceCount(){return this.allIds.length-this.freeIds.length}get numInstances(){return this._numInstances}set numInstances(r){this._numInstances!==r&&(this._numInstances=r,this._geometry.instanceCount=r,this._geometry._maxInstanceCount=r,this.updateInstances())}dispose(){this._geometry.dispose(),this._material.dispose()}updateInstances(){const r=new Float32Array(14*this.numInstances),n=new j.InstancedInterleavedBuffer(r,14);n.usage=this.isDynamic?j.DynamicDrawUsage:j.StaticDrawUsage;const a=this.geometry.attributes.instanceOffset.data.array;n.array.set(a),n.needsUpdate=!0,this.geometry.attributes.instanceOffset.data=n,this.geometry.attributes.instanceRotation.data=n,this.geometry.attributes.instanceScale.data=n,this.geometry.attributes.instanceColor.data=n;for(let r=this.allIds.length;r<this.numInstances;++r)this.setInstancePosition(r,oe),this.setInstanceQuaternion(r,pe),this.setInstanceScale(r,le),this.setInstanceColor(r,se),this.setUvScale(r,1),this.freeIds.push(r),this.allIds.push(r)}setInstanceMatrix(r,n,a){}setInstancePosition(r,n){this._geometry.attributes.instanceOffset.setXYZ(r,n.x,n.y,n.z),this._geometry.attributes.instanceOffset.needsUpdate=!0}setInstanceQuaternion(r,n){this._geometry.attributes.instanceRotation.setXYZW(r,n.x,n.y,n.z,n.w),this._geometry.attributes.instanceRotation.needsUpdate=!0}setInstanceScale(r,n){this._geometry.attributes.instanceScale.setXYZ(r,n.x,n.y,n.z),this._geometry.attributes.instanceScale.needsUpdate=!0}setInstanceColor(r,n){this._geometry.attributes.instanceColor.setXYZ(r,Math.min(Math.floor(4096*n.r),65535),Math.min(Math.floor(4096*n.g),65535),Math.min(Math.floor(4096*n.b),65535)),this._geometry.attributes.instanceColor.needsUpdate=!0}setUvScale(r,n){this._geometry.attributes.instanceColor.setW(r,n),this._geometry.attributes.instanceColor.needsUpdate=!0}allocate(){return 0===this.freeIds.length&&(this.numInstances=this._numInstances+Math.ceil(.2*this.allIds.length)),this.freeIds.pop()||0}release(r){this.setInstancePosition(r,oe),this.setUvScale(r,1),this.freeIds.push(r)}}n.default=InstancePool},function(r,n,a){"use strict";a.r(n),n.default="#ifndef INSTANCE_TRANSFORM\nvec3 transformed = vec3( position );\n#else\n#ifndef INSTANCE_MATRIX\n#define INSTANCE_MATRIX\n#endif\nvec3 transformed = position * instanceScale;\ntransformed = qrot(instanceRotation, transformed);\ntransformed += instanceOffset;\n#endif"},function(r,n,a){"use strict";a.r(n),n.default="// #ifdef USE_COLOR\n\n// #endif\ndiffuseColor.rgb *= vColor;\n// #if defined(INSTANCE_COLOR)\n// diffuseColor.rgb *= vInstanceColor;\n// #endif"},function(r,n,a){"use strict";a.r(n),n.default="// #ifdef USE_COLOR\n\n// #endif\nvarying vec3 vColor;\n// #if defined( INSTANCE_COLOR )\n// varying vec3 vInstanceColor;\n// #endif"},function(r,n,a){"use strict";a.r(n),n.default="varying vec3 vColor;"},function(r,n,a){"use strict";a.r(n),n.default="#ifdef USE_COLOR\nvColor.xyz = color.xyz;\n#else\nvColor.xyz = vec3(1.0);\n#endif\n#if defined( INSTANCE_COLOR ) && defined( INSTANCE_TRANSFORM )\nvColor.xyz *= instanceColor.rgb * 0.000244140625;\n#endif\n"},function(r,n,a){"use strict";a.r(n),n.default="#ifdef FLIP_SIDED\nobjectNormal = -objectNormal;\n#endif\n\n#ifndef INSTANCE_TRANSFORM\nvec3 transformedNormal = normalMatrix * objectNormal;\n#else\n\n#ifndef INSTANCE_MATRIX \n#define INSTANCE_MATRIX\n#endif\nvec3 normalWS = qrot(instanceRotation, objectNormal);\nvec3 transformedNormal = (viewMatrix * vec4(normalWS, 0.0)).xyz;\n#endif"},function(r,n,a){"use strict";a.r(n),n.default="#if defined(BOX_MAPPING)\nvarying vec3 localPosition;\nvarying vec3 eyeRelativePosWS;\n#else\n#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\nvarying vec2 vUv;\nuniform mat3 uvTransform;\n#endif\n#endif\n\n\n#ifdef INSTANCE_TRANSFORM\n// mat3 inverse(mat3 m) {\n//   float a00 = m[0][0], a01 = m[0][1], a02 = m[0][2];\n//   float a10 = m[1][0], a11 = m[1][1], a12 = m[1][2];\n//   float a20 = m[2][0], a21 = m[2][1], a22 = m[2][2];\n//   float b01 = a22 * a11 - a12 * a21;\n//   float b11 = -a22 * a10 + a12 * a20;\n//   float b21 = a21 * a10 - a11 * a20;\n//   float det = a00 * b01 + a01 * b11 + a02 * b21;\n//   return mat3(b01, (-a22 * a01 + a02 * a21), ( a12 * a01 - a02 * a11),\n//               b11, ( a22 * a00 - a02 * a20), (-a12 * a00 + a02 * a10),\n//               b21, (-a21 * a00 + a01 * a20), ( a11 * a00 - a01 * a10)) / det;\n// }\n\n// attribute vec3 instancePosition;\n// attribute vec4 instanceQuaternion;\n// attribute vec3 instanceScale;\n\nattribute vec3 instanceOffset;\nattribute vec4 instanceRotation;\nattribute vec3 instanceScale;\nattribute vec4 instanceColor;\n\nvec3 getScale(in mat4 matrix) {\n    // return vec3(length(matrix[0].xyz), length(matrix[1].xyz), length(matrix[2].xyz));\n\n    // return sqrt(matrix[0].xyz * matrix[0].xyz + matrix[1].xyz * matrix[1].xyz + matrix[2].xyz * matrix[2].xyz);\n\n    return sqrt(matrix[0] * matrix[0] + matrix[1] * matrix[1] + matrix[2] * matrix[2]).xyz;\n}\n\nmat4 getRotationScaleMatrix(in mat4 matrix) {\n  matrix[3] = vec4(0.0, 0.0, 0.0, 1.0);\n  return matrix;\n}\n\nvec3 qxdir(vec4 q)\n{\n\tvec3 xDir;\n\txDir.x = q.w * q.w + q.x * q.x - q.y * q.y - q.z * q.z;\n\txDir.y = (q.x * q.y + q.z * q.w) * 2.0;\n\txDir.z = (q.z * q.x - q.y * q.w) * 2.0;\n\treturn xDir;\n}\n\nvec3 qydir(vec4 q)\n{\n\tvec3 yDir;\n\tyDir.x = (q.x * q.y - q.z * q.w) * 2.0;\n\tyDir.y = q.w * q.w - q.x * q.x + q.y * q.y - q.z * q.z;\n\tyDir.z = (q.y * q.z + q.x * q.w) * 2.0;\n\treturn yDir;\n}\n\nvec3 qzdir(vec4 q)\n{\n\tvec3 zDir;\n\tzDir.x = (q.z * q.x + q.y * q.w) * 2.0;\n\tzDir.y = (q.y * q.z - q.x * q.w) * 2.0;\n\tzDir.z = q.w * q.w - q.x * q.x - q.y * q.y + q.z * q.z;\n\treturn zDir;\n}\n\nvec3 qrot(vec4 q, vec3 v)\n{\n\treturn qxdir(q) * v.x + qydir(q) * v.y + qzdir(q) * v.z;\n}\n\n// mat4 getInstanceMatrix(){\n//   vec4 q = instanceQuaternion;\n//   vec3 s = instanceScale;\n//   vec3 v = instancePosition;\n//   vec3 q2 = q.xyz + q.xyz;\n//   vec3 a = q.xxx * q2.xyz;\n//   vec3 b = q.yyz * q2.yzz;\n//   vec3 c = q.www * q2.xyz;\n//   vec3 r0 = vec3( 1.0 - (b.x + b.z) , a.y + c.z , a.z - c.y ) * s.xxx;\n//   vec3 r1 = vec3( a.y - c.z , 1.0 - (a.x + b.z) , b.y + c.x ) * s.yyy;\n//   vec3 r2 = vec3( a.z + c.y , b.y - c.x , 1.0 - (a.x + b.x) ) * s.zzz;\n//   return mat4(\n//     r0 , 0.0,\n//     r1 , 0.0,\n//     r2 , 0.0,\n//     v  , 1.0\n//   );\n// }\n#endif\n\n// mat4 inverse(in mat4 m) {\n//   float\n//       a00 = m[0][0], a01 = m[0][1], a02 = m[0][2], a03 = m[0][3],\n//       a10 = m[1][0], a11 = m[1][1], a12 = m[1][2], a13 = m[1][3],\n//       a20 = m[2][0], a21 = m[2][1], a22 = m[2][2], a23 = m[2][3],\n//       a30 = m[3][0], a31 = m[3][1], a32 = m[3][2], a33 = m[3][3],\n\n//       b00 = a00 * a11 - a01 * a10,\n//       b01 = a00 * a12 - a02 * a10,\n//       b02 = a00 * a13 - a03 * a10,\n//       b03 = a01 * a12 - a02 * a11,\n//       b04 = a01 * a13 - a03 * a11,\n//       b05 = a02 * a13 - a03 * a12,\n//       b06 = a20 * a31 - a21 * a30,\n//       b07 = a20 * a32 - a22 * a30,\n//       b08 = a20 * a33 - a23 * a30,\n//       b09 = a21 * a32 - a22 * a31,\n//       b10 = a21 * a33 - a23 * a31,\n//       b11 = a22 * a33 - a23 * a32,\n\n//       det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n//   return mat4(\n//       a11 * b11 - a12 * b10 + a13 * b09,\n//       a02 * b10 - a01 * b11 - a03 * b09,\n//       a31 * b05 - a32 * b04 + a33 * b03,\n//       a22 * b04 - a21 * b05 - a23 * b03,\n//       a12 * b08 - a10 * b11 - a13 * b07,\n//       a00 * b11 - a02 * b08 + a03 * b07,\n//       a32 * b02 - a30 * b05 - a33 * b01,\n//       a20 * b05 - a22 * b02 + a23 * b01,\n//       a10 * b10 - a11 * b08 + a13 * b06,\n//       a01 * b08 - a00 * b10 - a03 * b06,\n//       a30 * b04 - a31 * b02 + a33 * b00,\n//       a21 * b02 - a20 * b04 - a23 * b00,\n//       a11 * b07 - a10 * b09 - a12 * b06,\n//       a00 * b09 - a01 * b07 + a02 * b06,\n//       a31 * b01 - a30 * b03 - a32 * b00,\n//       a20 * b03 - a21 * b01 + a22 * b00) / det;\n// }"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InstancedMesh=void 0;const i=a(19),o=a(182);class InstancedMesh extends i.Object3D{constructor(r,n,a,o){super(),this.enabled=!1,this.entity=null,this.isInstance=!0,this.instanceIndex=0,this.isDirty=!1,this.isDynamic=!0,this.castShadow=!0,this.colorDirty=!1,this.color=new i.Color,this.uvScale=1,this.tmpVec1=new i.Vector3,this.tmpQuat1=new i.Quaternion,this._material=a,this._geometry=o,this._visible=!0,this.cluster=n,this.pool=r,this.entity=null,this.frustumCulled=!1}set material(r){r!==this._material&&(this._material=r,this.isDirty=!0)}get material(){return this._material}set geometry(r){this._geometry&&r.uuid===this._geometry.uuid||(this._geometry=r,this.isDirty=!0)}get geometry(){return this._geometry}set visible(r){void 0!==this._visible&&this._visible!==r&&(this._visible=r,r?this.allocate():this.deAllocate())}get visible(){return this._visible}setColor(r){this.color.copy(r),this.colorDirty=!0}setUvScale(r){this.uvScale=r,this.colorDirty=!0}syncPool(){o.default.updateInstance(this)}syncPosition(){this.getWorldPosition(this.tmpVec1),this.cluster.setInstancePosition(this.instanceIndex,this.tmpVec1)}syncQuaternion(){this.getWorldQuaternion(this.tmpQuat1),this.cluster.setInstanceQuaternion(this.instanceIndex,this.tmpQuat1)}syncScale(){this.getWorldScale(this.tmpVec1),this.cluster.setInstanceScale(this.instanceIndex,this.tmpVec1)}sync(){this.enabled&&(this.isDirty&&(this.isDirty=!1,this.syncPool()),this.cluster.setInstancePosition(this.instanceIndex,this.position),this.cluster.setInstanceQuaternion(this.instanceIndex,this.quaternion),this.cluster.setInstanceScale(this.instanceIndex,this.scale),this.cluster.setInstanceColor(this.instanceIndex,this.color),this.cluster.setUvScale(this.instanceIndex,this.uvScale))}deAllocate(){this.enabled&&(this.pool.release(this.instanceIndex),this.enabled=!1)}allocate(){this.enabled?console.warn("Cannot allocate already allocated instance"):this.pool.enabled?(this.position.set(-Number.MAX_SAFE_INTEGER,-Number.MAX_SAFE_INTEGER,-Number.MAX_SAFE_INTEGER),this.scale.set(1,1,1),this.quaternion.set(0,0,0,1),this.instanceIndex=this.pool.allocate(),this.enabled=!0,this.colorDirty=!0,this.updateMatrix(),this.updateMatrixWorld(!1),this.sync()):this.syncPool()}dispose(){this.updateMatrix(),this.updateMatrixWorld(!0),this.enabled&&this.deAllocate(),this.entity=null,this.cluster=null,this.pool=null,this._material=null,this._geometry=null}}n.InstancedMesh=InstancedMesh,InstancedMesh.prototype.raycast=function(){const r=new i.Matrix4,n=new i.Ray,a=new i.Sphere,o=new i.Vector3,s=new i.Vector3,y=new i.Vector3,_=new i.Vector2,w=new i.Vector2,E=new i.Vector2,j=new i.Vector3,q=new i.Vector3,$=new i.Vector3;function checkBufferGeometryIntersection(r,n,a,ne,ie,oe,se,le,pe){o.fromBufferAttribute(ie,se),s.fromBufferAttribute(ie,le),y.fromBufferAttribute(ie,pe);const he=function checkIntersection(r,n,a,o,s,y,_,w){let E;if(E=n.side===i.BackSide?o.intersectTriangle(_,y,s,!0,w):o.intersectTriangle(s,y,_,n.side!==i.DoubleSide,w),null===E)return null;$.copy(w),$.applyMatrix4(r.matrixWorld);const j=a.ray.origin.distanceTo($);return j<a.near||j>a.far?null:{distance:j,point:$.clone(),object:r,uv:void 0,face:void 0}}(r,n,a,ne,o,s,y,q);if(he){oe&&(_.fromBufferAttribute(oe,se),w.fromBufferAttribute(oe,le),E.fromBufferAttribute(oe,pe),he.uv=function uvIntersection(r,n,a,o,s,y,_){return i.Triangle.getBarycoord(r,n,a,o,j),s.multiplyScalar(j.x),y.multiplyScalar(j.y),_.multiplyScalar(j.z),s.add(y).add(_),s.clone()}(q,o,s,y,_,w,E));const r=new i.Face3(se,le,pe);i.Triangle.getNormal(o,s,y,r.normal),he.face=r}return he}return function raycast(i,o){const s=this.raycastGeometry||this.geometry,{material:y}=this,{matrixWorld:_}=this;if(!y)return;if(null===s)return;if(null===s.boundingSphere&&s.computeBoundingSphere(),a.copy(s.boundingSphere),a.applyMatrix4(_),!1===i.ray.intersectsSphere(a))return;if(r.getInverse(_),n.copy(i.ray).applyMatrix4(r),null!==s.boundingBox&&!1===n.intersectsBox(s.boundingBox))return;let w;if(s.isBufferGeometry){let r,a,_;const{index:E}=s,{position:j}=s.attributes,{uv:q}=s.attributes,{groups:$}=s,{drawRange:ne}=s;let ie,oe,se,le,pe,he,me,ge;if(null!==E)if(Array.isArray(y))for(ie=0,se=$.length;ie<se;ie++)for(pe=$[ie],pe.materialIndex&&(he=y[pe.materialIndex]),me=Math.max(pe.start,ne.start),ge=Math.min(pe.start+pe.count,ne.start+ne.count),oe=me,le=ge;oe<le;oe+=3)r=E.getX(oe),a=E.getX(oe+1),_=E.getX(oe+2),w=checkBufferGeometryIntersection(this,he,i,n,j,q,r,a,_),w&&(w.faceIndex=Math.floor(oe/3),o.push(w));else for(me=Math.max(0,ne.start),ge=Math.min(E.count,ne.start+ne.count),ie=me,se=ge;ie<se;ie+=3)r=E.getX(ie),a=E.getX(ie+1),_=E.getX(ie+2),w=checkBufferGeometryIntersection(this,y,i,n,j,q,r,a,_),w&&(w.faceIndex=Math.floor(ie/3),o.push(w));else if(void 0!==j)if(Array.isArray(y))for(ie=0,se=$.length;ie<se;ie++)for(pe=$[ie],pe.materialIndex&&(he=y[pe.materialIndex]),me=Math.max(pe.start,ne.start),ge=Math.min(pe.start+pe.count,ne.start+ne.count),oe=me,le=ge;oe<le;oe+=3)r=oe,a=oe+1,_=oe+2,w=checkBufferGeometryIntersection(this,he,i,n,j,q,r,a,_),w&&(w.faceIndex=Math.floor(oe/3),o.push(w));else for(me=Math.max(0,ne.start),ge=Math.min(j.count,ne.start+ne.count),ie=me,se=ge;ie<se;ie+=3)r=ie,a=ie+1,_=ie+2,w=checkBufferGeometryIntersection(this,y,i,n,j,q,r,a,_),w&&(w.faceIndex=Math.floor(ie/3),o.push(w))}}}(),n.default=InstancedMesh},function(r,n,a){"use strict";a.r(n),n.default="\n#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform vec3 highlightColor;\nuniform vec3 highlightPosition;\nuniform float highlightTime;\nuniform float isGhost;\nuniform float shininess;\nuniform float effectLengthSeconds;\nuniform bool dissolve;\nuniform bool unDissolve;\nuniform bool hit;\nuniform bool highlight; // with fade\nuniform bool legacyHighlight; // without fade\nuniform float opacity;\n\nvarying vec3 worldNormal;\nvarying float fresnel;\nvarying vec3 color2;\nvarying vec3 positionLocal;\n\nuniform float time;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\nvec3 overlay(vec3 colorA,vec3 colorB , float alpha){\n  alpha = clamp(alpha, 0., 1.);\n  return colorA*(1.-alpha)+colorB*alpha;\n}\n\n// 2D Random\nfloat random3(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * 43758.5453123);\n}\n\n\nvec2 random2( vec2 p ) {\n  return fract(sin(vec2(dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3))))*43758.5453);\n}\n\nfloat noise(vec2 st) {\n    st = st * 8.0;\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    float a = random3(i);\n    float b = random3(i + vec2(1.0, 0.0));\n    float c = random3(i + vec2(0.0, 1.0));\n    float d = random3(i + vec2(1.0, 1.0));\n    vec2 u = f*f*(3.0-2.0*f);\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\nfloat hitIntensity(vec2 vUv){\n  float distFromHighlight = length(vec3(positionLocal.x,positionLocal.y,positionLocal.z)-highlightPosition);\n  float distFactor = 0.1 / distFromHighlight;\n  float timeDistance = abs(highlightTime - time) / effectLengthSeconds;\n  float timeFactor = 0.1 / max(timeDistance, 0.1);\n  float intensity = distFactor * (sin(distFromHighlight * 50.0 - time * 25.0)* 0.5 + 0.5) * timeFactor;\n  float waveTensity = 0.05 / max(0.001, abs(timeDistance * 2.0 - distFromHighlight));\n  float distFactor2 = 0.5 / pow(distFromHighlight, 9.0);\n  return waveTensity * distFactor2 * 0.000001 + waveTensity * 0.3 *  0.5 / distFromHighlight;\n}\n\nfloat hitIntensity1(vec2 vUv){\n  float distFromHighlight = length(vec3(positionLocal.x,positionLocal.y,positionLocal.z)-highlightPosition);\n  float distFactor = 0.1 / distFromHighlight;\n  float timeDistance = abs(highlightTime - time + noise(vUv * 2.0)* 0.1) / effectLengthSeconds + 0.08;\n  float timeFactor = 0.1 / max(timeDistance, 0.1);\n  float intensity = distFactor * (sin(distFromHighlight * 50.0 - time * 25.0)* 0.5 + 0.5) * timeFactor;\n  float waveTensity = 0.05 / max(0.001, abs(timeDistance * 3.0 - distFromHighlight));\n  float distFactor2 = max(0.0, 3.0 - distFromHighlight * 3.1);\n  return waveTensity * distFactor2 * 0.5 + hitIntensity(vUv) * 0.5;\n}\n\nfloat hitIntensity2(vec2 vUv){\n  float distFromHighlight = length(vec3(positionLocal.x,positionLocal.y,positionLocal.z)-highlightPosition);\n  float distFactor = 0.1 / distFromHighlight;\n  float timeDistance = abs(highlightTime - time + noise(vUv * 2.0 + time * 0.2)* 0.8);\n  float timeFactor = 0.1 / max(timeDistance, 0.1);\n  float intensity = distFactor * (sin(distFromHighlight * 50.0 - time * 25.0)* 0.5 + 0.5) * timeFactor;\n  float waveTensity = 0.05 / max(0.001, abs(timeDistance * 2.0 - distFromHighlight));\n  float distFactor2 = max(0.0, 1.0 - distFromHighlight * 2.0);\n  return waveTensity * distFactor2;\n}\n\n\nfloat cellular(vec2 st) {\n  float m_dist = 1.0; \n  vec2 i_st = floor(st);\n  vec2 f_st = fract(st);\n  for (int y= -1; y <= 1; y++) {\n    for (int x= -1; x <= 1; x++) {\n      vec2 neighbor = vec2(float(x),float(y));\n      vec2 coord = i_st + neighbor;\n        float i_rand = random2(coord).x * .2;\n        vec2 point2 = random2(coord) + i_rand;\n        float dist = pow(distance(f_st, neighbor + point2), 1.0) * (1.0);\n        m_dist = min(m_dist, dist) * step( .5, noise(coord) * .5+ .5);\n      }\n  }\n  return m_dist;\n}\n\nfloat blurrCellular(vec2 st){\n  float value = \n  cellular(st-vec2(0.5,0.0)) * 0.2 + \n  cellular(st+vec2(0.5,0.0)) * 0.2 + \n  cellular(st) * 0.2 +  \n  cellular(st-vec2(0.0,0.5)) * 0.2 +\n  cellular(st+vec2(0.0,0.5)) * 0.2;\n  //value += (1.0 - st.y) * 0.25;\n  value += (1.0 - positionLocal.y) * -0.5;\n  return value;\n}\n\nfloat useTimeBasedEffect(float safeThreshold){\n  return step(abs(highlightTime - time), effectLengthSeconds + safeThreshold);\n}\n\nfloat useDissolve(){\n  return (float(dissolve) + float(unDissolve)) * useTimeBasedEffect(3.0);\n}\n\nvec4 calcDissolve(vec2 vUv, vec3 charColor){\n  float dissolveSpeed = 0.16;\n  float undissolveSpeed = 0.9;//1.0;\n  vec2 distortedvUv = vUv + cellular((vUv * 0.1 + time * 0.5) * 0.1) * 0.5;\n  float value =  blurrCellular(vUv * 1.0);\n  float progress = \n  (time - highlightTime) * float(dissolve) * dissolveSpeed + \n  (0.75 - (time - highlightTime) * undissolveSpeed )* float(unDissolve);\n  // 0 -> visible\n  // 1 -> hidden\n\n  float cuttof = progress * 1.5 - 0.5;\n  float alpha = step(cuttof, value);\n  float glow = clamp(1.0 - pow(value - cuttof, 2.416) * 100.0, 0.0, 10.0);\n  float strongerGlow = glow * 2.0;\n  vec3 glowColor = vec3(0.144,0.904,1.000);\n  \n  float cuttof2 = progress * 1.5 - 0.5 + 0.1;\n  float glow2 = clamp(1.0- pow(value - cuttof2, 2.416) * 100.0, 0.0, 10.0);\n\n  vec3 glowingEdge = strongerGlow * glowColor + pow(glow2, 10.0) * glowColor;\n  float progClamped = max(progress, 0.0);\n  float brightness = (1.0 - progClamped * 4.0);\n  float brightness2 = 1.0 + progress * 10.0;\n  vec3 shadowedCharColor = charColor.rgb * 1.0;//brightness;\n  vec3 dissolvedCharColor1 = mix(shadowedCharColor.rgb, glowingEdge.rgb, length(glowingEdge.rgb));\n  vec3 dissolvedCharColor2 = shadowedCharColor.rgb +  glowingEdge.rgb + pow(glow2, 2.0) * glowColor;\n  vec3 dissolvedCharColor = mix(dissolvedCharColor1, dissolvedCharColor2, 0.5 - length(glowingEdge.rgb) * 0.5);  \n  return mix(\n    vec4(shadowedCharColor.rgb, 1.0), \n    vec4(dissolvedCharColor, (alpha - (glow * 0.7 + glow2 * 0.1)) * (1.0 - progress * 0.5)), \n    useDissolve()\n  );\n}\n\nvec4 regularHighlight(){\n  return max(\n    vec4(highlightColor * (1.0 - abs(highlightTime - time) / effectLengthSeconds), length(highlightColor)),\n    vec4(0.0, 0.0, 0.0, 0.0)\n    );\n}\n\nfloat useHitHighlight(){\n  return float(hit) * useTimeBasedEffect(.0);\n}\n\nfloat useRegularHighlight(){\n  return float(highlight) * useTimeBasedEffect(.0);\n}\n\nfloat useLegacyHighlight() {\n  return float(legacyHighlight);\n}\n\nvoid main() {\n\n\t#include <clipping_planes_fragment>\n\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\n\t// accumulation\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\n\t#include <envmap_fragment>\n\n\n  vec4 legacyHighlight = vec4(highlightColor, length(highlightColor)) * useLegacyHighlight();\n  vec4 hitHighlight = vec4(highlightColor, length(highlightColor)) * hitIntensity1(vUv.xy) * useHitHighlight();\n  vec4 regularHighlight = regularHighlight() * useRegularHighlight();\n  vec4 highlights = legacyHighlight + hitHighlight + regularHighlight;\n\n  float noisedFresnel2 = fresnel * (noise(vUv.xy * 1.0 + time * 0.04) + 0.5) * 0.42;\n  float reflectionMultiplyer = 1.0;// + noisedFresnel2 * noisedFresnel2 * 5.0;\n  vec4 defaultColor = vec4( outgoingLight, diffuseColor.a ) * reflectionMultiplyer + highlights;\n\t\n\tfloat ghostSolidity = 0.5;\n  vec3 ghostColor = vec3(0.7, 0.9, 1.0);\n\n  float noisedFresnel = fresnel * (noise(vUv.xy * 1.0 + time * 0.3) + 0.5);\n\tvec4 finalGhostColor = vec4(overlay(defaultColor.xyz,ghostColor.xyz, noisedFresnel * 0.5), ghostSolidity + noisedFresnel);\n\n  vec4 dissolvedCharColor = calcDissolve(vUv.xy, defaultColor.rgb);\n  vec4 finalCharacterColor = vec4(dissolvedCharColor.rgb, dissolvedCharColor.a);\n\n  gl_FragColor = mix(finalCharacterColor, finalGhostColor, isGhost);\n\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AvatarLoader=n.AVATAR_Y_OFFSET=void 0;const i=a(30),o=a(9),s=a(8),y=a(19),_=a(194),w=a(34),E=a(6),j={Death:"ground_death",FallingDeath:"falling_death",FallingIdle:"falling",Idle:"idle",Jump:"jump",LeftStrafe:"leftStrafe",RightStrafe:"rightStrafe",Running:"running",Victory:"victory",Walking:"walking"};n.AVATAR_Y_OFFSET=-.815;class AvatarLoader extends i.AssetLoader{generateKey(r){return r.name.toLowerCase()||""}async _load(r){const a=r.name.toLowerCase(),i=`${E.default.urlCDN}/avatar/glb2/${a}.glb.gz`;if(!i)return null;const o=w.getCachedFileUri(i),q=await s.assetManager.getLoader(_.GLTFLoader).load({name:r.name,url:o}),$=q.scene.children.find(r=>"t-pose"===r.name.toLowerCase());if(!$)return null;const[ne,ie]=$.children,oe=[];for(let r=0;r<q.animations.length;++r){const n=q.animations[r];n.name=j[n.name]||n.name,oe.push(n)}ie.castShadow=!0,ie.receiveShadow=!0,ie.scale.multiplyScalar(.01),ie.position.y+=n.AVATAR_Y_OFFSET,ie.geometry.computeBoundingSphere(),ie.geometry.boundingSphere.radius*=60;const se=new y.Object3D;return se.animations=oe,se.add(ie),ie.material.dispose(),[oe,ie]}}n.AvatarLoader=AvatarLoader,AvatarLoader.assetType=o.AssetType.AVATAR},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GLTFLoader=void 0;const i=a(30),o=a(9),s=a(28);class GLTFLoader extends i.AssetLoader{constructor(){super(...arguments),this.GLTFLoader=new s.GLTFLoader}generateKey(r){return r.url}loadGLTF(r){return new Promise((n,a)=>{this.GLTFLoader.load(r,r=>{n(r)})})}async _load(r){return this.loadGLTF(r.url)}}n.GLTFLoader=GLTFLoader,GLTFLoader.assetType=o.AssetType.GLTF},function(r,n,a){"use strict";a.r(n),n.default="\n#define PHONG\n#define USE_MAP\n#define USE_ENVMAP\n\nvarying vec3 vViewPosition;\nvarying vec3 positionLocal;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\nvarying vec3 worldNormal;\nvarying float fresnel;\n\n\n//uniform vec3 cameraPosition;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\t\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\t\n  worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n  vec3 I = normalize(worldPosition.xyz - cameraPosition.xyz);\n  float bias = 0.0;\n  float scale = 2.0;\n  float power = 1.0;\n  \n  fresnel = bias + scale * pow(1.0 + dot(I, worldNormal), power);\n  positionLocal = (position  * 0.01 + vec3(0.0, -0.78, 0.0));\n}\n"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.generateTextTexture=void 0;const i=a(19);let o=null;const s=new Map;n.generateTextTexture=(r,n,a,y,_,w,E,j,q,$,ne)=>{if(ne){const n=s.get(r+a);if(n)return n}o=document.createElement("canvas");const ie=o.getContext("2d");ie.canvas.width=E,ie.canvas.height=j,ie.font=`${$?"bold ":""}${n}px ${w}`,ie.textAlign=q?"center":"left",ie.textBaseline="middle",ie.fillStyle=a,ie.lineWidth=_,ie.strokeStyle=y,ie.clearRect(0,0,ie.canvas.width,ie.canvas.height),ie.strokeText(r,q?E/2:0,j/2),ie.fillText(r,q?E/2:0,j/2);const oe=new i.CanvasTexture(ie.canvas);return ne&&s.set(r,oe),oe}},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const w=a(19),E=a(24),j=a(26),q=a(198),$=a(154);class AvatarComponent extends E.default{constructor(){super(...arguments),this.tiltAngle=0,this.directionAngle=0,this.lastDirectionAngle=0,this.lastStep=0,this.bones=null,this.fallTime=0,this.mesh=null,this.animations={},this.mixer=null,this.aboutToDissolve=!1,this.isGhost=!1,this.model="Hibert",this.state=$.AvatarState.IDLE,this.prevState=$.AvatarState.IDLE,this.currentAnimation="idle",this.lookDirection=new w.Vector3(0,0,-1),this.visual=q.Visual.none,this.visualTimeLeft=0,this.tiltFactor=.4}transitionTo(r){return!!$.avatarCanTransitionTo(this.state,r)&&(this.state=r,!0)}}AvatarComponent.componentName="avatar",y([j.Property(),_("design:type",Boolean)],AvatarComponent.prototype,"aboutToDissolve",void 0),y([j.Property(),_("design:type",Boolean)],AvatarComponent.prototype,"isGhost",void 0),y([j.Property(),_("design:type",String)],AvatarComponent.prototype,"model",void 0),y([j.Property(),_("design:type","function"==typeof(i=void 0!==$.AvatarState&&$.AvatarState)?i:Object)],AvatarComponent.prototype,"state",void 0),y([j.Property(),_("design:type","function"==typeof(o=void 0!==w.Vector3&&w.Vector3)?o:Object)],AvatarComponent.prototype,"lookDirection",void 0),y([j.Property(),_("design:type","function"==typeof(s=void 0!==q.Visual&&q.Visual)?s:Object)],AvatarComponent.prototype,"visual",void 0),y([j.Property(),_("design:type",Number)],AvatarComponent.prototype,"visualTimeLeft",void 0),y([j.Property(),_("design:type",Number)],AvatarComponent.prototype,"tiltFactor",void 0),n.default=AvatarComponent},function(r,n,a){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.Visual=void 0,(i=n.Visual||(n.Visual={}))[i.none=0]="none",i[i.rainbow=1]="rainbow",i[i.blink=2]="blink",i[i.smoke_And_Blink=6]="smoke_And_Blink",i[i.yellow=3]="yellow",i[i.fiery=4]="fiery",i[i.blue=5]="blue"},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(36),w=a(156),E=a(37),j=a(40),q=a(8),$=a(147),ne=a(178),ie=a(153),oe=a(200),se=a(41),le=a(25),pe=a(172),he=a(181),me=a(19),ge=a(23);class MaterialSystem extends j.default{constructor(){super(...arguments),this.time={value:0},this.playerPosition={value:new me.Vector3},this.materials=new Map}onInit(){this.group.on("entityRemoved",this.handleEntityRemoved,this)}handleEntityRemoved(r){const n=this.entityManager.getSystem(he.default);r.node&&r.model.instance&&(this.entityManager.resetComponent(r.material),n.updateObject(r))}updateTick(){this.entityManager.getOrCreateSingleton(ie.PlayerState).playerEntity}updateFrame(r,n){this.time.value=this.entityManager.time;const a=this.entityManager.getOrCreateSingleton(ie.PlayerState).playerEntity;if(a&&a.node){const n=new se.Transform;a.node.getInterpolatedAbsoluteTransform(n,r),this.playerPosition.value.copy(n.position)}}getMaterial(r){const n=r.material,a=le.default({name:r.material,opacity:r.opacity,vertexColors:r.vertexColors,blending:r.blending,uvType:r.uvType,side:r.side});let i=$.default[n];i||(i=$.default.plastic);let o=this.materials.get(a);if(!o){const s=q.assetManager.getLoader(ne.TextureLoader).loadSync({name:n,type:"diffuse"}),y=q.assetManager.getLoader(ne.TextureLoader).loadSync({name:n,type:"normal"}),_=q.assetManager.getLoader(ne.TextureLoader).loadSync({name:n,type:"specular"}),w={vertexColors:r.vertexColors?me.VertexColors:me.NoColors};r.blending&&(w.blending=r.blending),void 0!==i.props.depthTest?w.depthTest=i.props.depthTest:w.depthTest=!0,o=this.createMaterial(i.type,{map:s,normalMap:y,specularMap:_,shininess:i.props.shininess||1,specular:i.props.specular,displacementScale:i.props.displacementScale,opacity:r.opacity,transparent:r.opacity<1||r.blending!==ge.BlendingMode.NoBlending,side:r.side},{},w,i),o.defines||(o.defines={}),o.defines.INSTANCE_UNIFORM="",r.uvType===ge.AutoUVMapping.BOX_MAPPING&&o.map&&(o.defines.BOX_MAPPING=""),this.materials.set(a,o)}return o}createMaterial(r,n,a,i,o){let s;switch("Phong"===r&&(r="physical"),r.toLowerCase()){case"basic":s=me.ShaderLib.basic,s.props={lights:!1};break;case"shader":s={uniforms:me.UniformsUtils.merge([me.UniformsLib.common,me.UniformsLib.specularmap,me.UniformsLib.envmap,me.UniformsLib.aomap,me.UniformsLib.lightmap,me.UniformsLib.emissivemap,me.UniformsLib.bumpmap,me.UniformsLib.normalmap,me.UniformsLib.displacementmap,me.UniformsLib.gradientmap,me.UniformsLib.fog,me.UniformsLib.lights,Object.assign({transparent:!1,emissive:{value:new me.Color(0)},specular:{value:new me.Color(1118481)},shininess:{value:30}},n)]),vertexShader:o.props.vertexShader,fragmentShader:o.props.fragmentShader};break;case"phong":case"physical":default:s=me.ShaderLib.phong}const y=!!n.transparent,_=me.UniformsUtils.clone(s.uniforms);_.time=this.time,_.playerPosition=this.playerPosition;const w=i.blending>0||o.props.disableDepthWrite,E=new me.ShaderMaterial(Object.assign(Object.assign(Object.assign({extensions:{derivatives:!0},lights:!0},s.props),{fog:!0,fragmentShader:s.fragmentShader,vertexShader:s.vertexShader,uniforms:_,defines:a||{},transparent:y,depthWrite:!w,depthTest:i.depthTest}),i));return E.uniforms.opacity.value=n.opacity||1,Object.entries(n).forEach(([r,n])=>{E.uniforms[r]&&(E[r]=n,E.uniforms[r].value&&E.uniforms[r].value.set?Array.isArray(n)&&E.uniforms[r].value.fromArray?E.uniforms[r].value.fromArray(n):"object"==typeof n&&E.uniforms[r].value.copy?E.uniforms[r].value.copy(n):E.uniforms[r].value.set(n):E.uniforms[r].value=n)}),"Basic"!==r&&this.lightSystem.lightifyMaterial(E),E}}MaterialSystem.order=1005,s([w.InjectSystem(r=>oe.default),y("design:type","function"==typeof(i=void 0!==oe.default&&oe.default)?i:Object)],MaterialSystem.prototype,"lightSystem",void 0),s([_.InjectGroup(se.default,pe.default,ge.default),y("design:type","function"==typeof(o=void 0!==E.default&&E.default)?o:Object)],MaterialSystem.prototype,"group",void 0),n.default=MaterialSystem},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(19),w=a(36),E=a(156),j=a(37),q=a(40),$=a(41),ne=a(159),ie=a(165),oe=a(201),se=a(202),le=a(203);_.ShaderChunk.lights_pars_begin+=le.default,_.ShaderChunk.lights_fragment_end+=se.default;class LightSystem extends q.default{constructor(){super(),this.xSlices=15,this.ySlices=15,this.zSlices=15,this.aspect=1,this.elementCount=0,this.verticalFoV=0,this.tanVerticalFoVby2=0,this.zStride=0,this.lightTexture={value:new _.DataTexture(new Float32Array(8*oe.MAX_LIGHTS),oe.MAX_LIGHTS,2,_.RGBAFormat,_.FloatType)},this.tmpVec1=new _.Vector3,this.tmpVec2=new _.Vector3,this.tmpVec3=new _.Vector3,this.tileData={value:[0,0,0,0]},this.clusterTexture={value:null}}resizeTiles(r,n){const{camera:a}=this.renderSystem;this.aspect=r/n,this.clusterTexture.value&&this.clusterTexture.value.dispose();const i=Math.ceil((oe.MAX_LIGHTS_PER_CLUSTER+1)/4);this.elementCount=this.xSlices*this.ySlices*this.zSlices,this.clusterTexture.value=new _.DataTexture(new Float32Array(4*this.elementCount*i),this.elementCount,i,_.RGBAFormat,_.FloatType),this.verticalFoV=a.fov,this.tanVerticalFoVby2=Math.tan(this.verticalFoV*(Math.PI/180)*.5),this.zStride=500/this.zSlices,this.tileData.value=[r,n,this.zStride,0],this.clusterData=new Float32Array(this.clusterTexture.value.image.data.buffer),this.lightData=new Float32Array(this.lightTexture.value.image.data.buffer)}clamp(r,n,a){return Math.max(n,Math.min(r,a))}bufferIndex(r,n){return 4*r+4*n*this.elementCount}updateClusters(r){const{clusterData:n,lightData:a}=this;let i,o,s,y,_,w,E,j,q,$,ne;this.clusterTexture.value.image.data.fill(0);let ie=0;for(let se=0,le=this.entityGroup.entities.length;se<le;++se){const{node:le,light:pe}=this.entityGroup.entities[se];if(!pe.enabled)continue;if(ie++,ie>oe.MAX_LIGHTS)break;const he=this.tmpVec1.copy(le.object.position);he.applyMatrix4(r),he.z*=-1;const me=2,ge=pe.getLightRadius(),ye=this.tmpVec2.copy(he).subScalar(1.3*ge),_e=this.tmpVec3.copy(he).addScalar(1.3*ge);if(he.z*=-1,he.toArray(a,4*se),a[4*se+3]=ge,a[4*oe.MAX_LIGHTS+4*se]=pe.color.r*pe.strength,a[4*oe.MAX_LIGHTS+4*se+1]=pe.color.g*pe.strength,a[4*oe.MAX_LIGHTS+4*se+2]=pe.color.b*pe.strength,a[4*oe.MAX_LIGHTS+4*se+3]=me,q=Math.abs(this.tanVerticalFoVby2*he.z*2),$=Math.abs(this.aspect*q),i=$/this.xSlices,o=q/this.ySlices,_=Math.floor(ye.z/this.zStride),j=Math.floor(_e.z/this.zStride),y=Math.floor((ye.y+.5*q)/o),E=Math.floor((_e.y+.5*q)/o),s=Math.floor((ye.x+.5*$)/i)-1,w=Math.floor((_e.x+.5*$)/i)+1,!(_<0&&j<0||_>=this.zSlices&&j>=this.zSlices||y<0&&E<0||y>=this.ySlices&&E>=this.ySlices||s<0&&w<0||s>=this.xSlices&&w>=this.xSlices)){_=this.clamp(_,0,this.zSlices-1),j=this.clamp(j,0,this.zSlices-1),y=this.clamp(y,0,this.ySlices-1),E=this.clamp(E,0,this.ySlices-1),s=this.clamp(s,0,this.xSlices-1),w=this.clamp(w,0,this.xSlices-1);for(let r=_;r<=j;++r)for(let a=y;a<=E;++a)for(let i=s;i<=w;++i){const o=i+a*this.xSlices+r*this.xSlices*this.ySlices,s=this.bufferIndex(o,0);if(ne=n[s],ne+1<=oe.MAX_LIGHTS_PER_CLUSTER){n[s]=ne+1;const r=Math.floor((ne+1)/4);n[this.bufferIndex(o,r)+(ne+1-4*r)]=se}}}}this.clusterTexture.value.needsUpdate=!0,this.lightTexture.value.needsUpdate=!0}lightifyMaterial(r){r.uniforms.tileData=this.tileData,r.uniforms.clusterTexture=this.clusterTexture,r.uniforms.lightTexture=this.lightTexture,r.defines.CLUSTERED_FORWARD=1,r.defines.CLUSTERED_FORWARD_MAX_LIGHTS=oe.MAX_LIGHTS,r.defines.CLUSTERED_FORWARD_MAX_LIGHTS_PER_CLUSTER=oe.MAX_LIGHTS_PER_CLUSTER}updateTick(r,n){}}LightSystem.order=1002,s([w.InjectGroup($.default,ie.default),y("design:type","function"==typeof(i=void 0!==j.default&&j.default)?i:Object)],LightSystem.prototype,"entityGroup",void 0),s([E.InjectSystem(()=>ne.default),y("design:type","function"==typeof(o=void 0!==ne.default&&ne.default)?o:Object)],LightSystem.prototype,"renderSystem",void 0),n.default=LightSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.MAX_LIGHTS_PER_CLUSTER=n.MAX_LIGHTS=void 0,n.MAX_LIGHTS=64,n.MAX_LIGHTS_PER_CLUSTER=32},function(r,n,a){"use strict";a.r(n),n.default="\n#if defined CLUSTERED_FORWARD\n  // vec2 tUv = floor(gl_FragCoord.xy / tileData.xy * 32.) / 32. + tileData.zw;\n  // vec4 tile = texture2D(clusterTexture, tUv);\n\n  vec3 fpos = vViewPosition; //f_position in viewspace\n  // fpos.z = -fpos.z;\n\n  float u_screenWidth = tileData[0];\n  float u_screenHeight = tileData[1];\n  float u_zStride = tileData[2];\n  float camNear = 0.01;\n\n  float xStride = float(u_screenWidth)/float(numXSlices);\n  float yStride = float(u_screenHeight)/float(numYSlices);\n  float zStride = float(u_zStride);\n\n  int clusterX_index = int( floor(gl_FragCoord.x/ xStride) );\n  int clusterY_index = int( floor(gl_FragCoord.y/ yStride) );\n  int clusterZ_index = int( floor( (fpos.z-camNear) / zStride ) );\n\n  int clusterID = clusterX_index + \n                  clusterY_index * numXSlices + \n                  clusterZ_index * numXSlices * numYSlices;\n\n  float u = float(clusterID + 1) / float(totalClusters + 1);\n  int clusterNumLights = int(texture2D(clusterTexture, vec2(u, 0)).r);\n\n// totalEmissiveRadiance += 0.05 * float(clusterY_index);\n\n   for (int i = 0; i < CLUSTERED_FORWARD_MAX_LIGHTS; ++i) \n    {\n      if(i >= clusterNumLights)\n      {\n        break;\n      } else {\n        int lightIndex = int( ExtractFloat(clusterTexture, totalClusters, numTexelsInColumn, clusterID, i + 1) );\n\n        PointLight pointlight;\n        float uvx = (float(lightIndex) + 0.5) / float(CLUSTERED_FORWARD_MAX_LIGHTS);\n        vec4 lightData = texture2D(lightTexture, vec2(uvx, 0.0));\n        vec4 lightColor = texture2D(lightTexture, vec2(uvx, 1.0));\n        pointlight.position = lightData.xyz;\n        pointlight.distance = lightData.w;\n        pointlight.color = lightColor.rgb;\n        pointlight.decay = lightColor.a;\n\n        // float lightDistance = distance(pointlight.position, vViewPosition);\n        // vec3 L = (pointlight.position - vViewPosition) / lightDistance;\n\n        getPointDirectLightIrradiance( pointlight, geometry, directLight );\n        RE_Direct( directLight, geometry, material, reflectedLight );\n      }\n    }\n#endif"},function(r,n,a){"use strict";a.r(n),n.default="\n#if defined CLUSTERED_FORWARD\n    uniform vec4 tileData;\n    uniform sampler2D clusterTexture;\n    uniform sampler2D lightTexture;\n\n    const int numXSlices = 15;\n    const int numYSlices = 15;\n    const int numZSlices = 15;\n    // const int numLights = 32;\n    const int totalClusters = numXSlices*numYSlices*numZSlices;\n    const int numTexelsInColumn = int(ceil(float(CLUSTERED_FORWARD_MAX_LIGHTS_PER_CLUSTER + 1) * 0.25)); \n    // const int numTexelsInColumn = 23; \n\n\n    struct PointLight {\n      vec3 position;\n      vec3 color;\n      float distance;\n      float decay;\n      int shadow;\n      float shadowBias;\n      float shadowRadius;\n      vec2 shadowMapSize;\n      float shadowCameraNear;\n      float shadowCameraFar;\n  }; \n\n  void getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n      vec3 lVector = pointLight.position - geometry.position;\n      directLight.direction = normalize( lVector );\n      float lightDistance = length( lVector );\n      directLight.color = pointLight.color;\n      directLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n      directLight.visible = ( directLight.color != vec3( 0.0 ) );\n  }\n\n  float ExtractFloat(sampler2D texSampler, int textureWidth, int textureHeight, int index, int component) \n  {\n    float u = float(index + 1) / float(textureWidth + 1);\n    int pixel = component / 4;\n    float v = float(pixel + 1) / float(textureHeight + 1);\n    vec4 texel = texture2D(texSampler, vec2(u, v));\n    int pixelComponent = component - pixel * 4;\n    if (pixelComponent == 0) {\n      return texel[0];\n    } else if (pixelComponent == 1) {\n      return texel[1];\n    } else if (pixelComponent == 2) {\n      return texel[2];\n    } else if (pixelComponent == 3) {\n      return texel[3];\n    }\n  }\n#endif"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hackThreeJsShaders=void 0;const i=a(19),o=a(205),s=a(206),y=a(207),_=a(208),w=a(209),E=a(210);n.hackThreeJsShaders=function hackThreeJsShaders(){i.ShaderChunk.bsdfs=s.default,i.ShaderChunk.normal_fragment_maps=w.default,i.ShaderChunk.bumpmap_pars_fragment=y.default,i.ShaderChunk.normalmap_pars_fragment=_.default,i.ShaderChunk.uv_pars_fragment=`\n    #if defined(BOX_MAPPING)\n    ${E.default}\n    #else\n    ${i.ShaderChunk.uv_pars_fragment}\n    #endif\n    `,i.ShaderChunk.uv_vertex=`\n    #if !defined(BOX_MAPPING)\n    ${i.ShaderChunk.uv_vertex}\n    #endif\n    `,i.ShaderChunk.worldpos_vertex=`\n    #if defined(BOX_MAPPING)\n    localPosition = (1.0 / instanceColor.w) * instanceScale * position;\n    eyeRelativePosWS = localPosition - cameraPosition;\n    #endif\n\n    ${i.ShaderChunk.worldpos_vertex}\n    `,i.ShaderChunk.map_fragment=`\n    ${o.default}\n    ${i.ShaderChunk.map_fragment}\n    `}},function(r,n,a){"use strict";a.r(n),n.default="#if defined(BOX_MAPPING)\n\n\nvec3 faceNormalWS = normalize( cross( dFdy(eyeRelativePosWS), dFdx(eyeRelativePosWS) ) );\n\nvec3 mask = max(sign(abs(faceNormalWS) - vec3(0.5)), vec3(0.0));\n\t   mask.x *= float(abs(faceNormalWS.z) < 0.5);\n     mask.z *= float(abs(faceNormalWS.y) < 0.5);\n\nvec2 vUv = \n\t\tlocalPosition.zy * mask.x + \n\t\tlocalPosition.xy * mask.z + \n\t\tlocalPosition.xz * (1.0 - mask.x - mask.z);\n\n// diffuseColor.rgb *= faceNormalWS;\n\n#endif"},function(r,n,a){"use strict";a.r(n),n.default='// Analytical approximation of the DFG LUT, one half of the\n// split-sum approximation used in indirect specular lighting.\n// via \'environmentBRDF\' from "Physically Based Shading on Mobile"\n// https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t// based upon Frostbite 3 Moving to Physically-based Rendering\n\t// page 32, equation 26: E[window1]\n\t// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t// this is intended to be used on spot and point lights who are represented as luminous intensity\n\t// but who must be converted to luminous irradiance for surface lighting calculation\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n} // validated\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\t// Original approximation by Christophe Schlick \'94\n\t// float fresnel = pow( 1.0 - dotLH, 5.0 );\n\t// Optimized variant (presented by Epic at SIGGRAPH \'13)\n\t// https://cdn2.unrealengine.com/Resources/files/2013SiggraphPresentationsNotes-26915738.pdf\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n} // validated\n// Microfacet Models for Refraction through Rough Surfaces - equation (34)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disneys reparameterization\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\t// geometry term (normalized) = G(l)G(v) / 4(nl)(nv)\n\t// also see #12151\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n} // validated\n// Moving Frostbite to Physically Based Rendering 3.0 - page 12, listing 2\n// https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\t// dotNL and dotNV are explicitly swapped. This is not a mistake.\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\n// Microfacet Models for Refraction through Rough Surfaces - equation (33)\n// http://graphicrants.blogspot.com/2013/08/specular-brdf-reference.html\n// alpha is "roughness squared" in Disneys reparameterization\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0; // avoid alpha = 0 with dotNH = 1\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n// GGX Distribution, Schlick Fresnel, GGX-Smith Visibility\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness ); // UE4\'s roughness\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n} // validated\n// Rect Area Light\n// Real-Time Polygonal-Light Shading with Linearly Transformed Cosines\n// by Eric Heitz, Jonathan Dupuy, Stephen Hill and David Neubelt\n// code: https://github.com/selfshadow/ltc_code/\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\t// texture parameterized by sqrt( GGX alpha ) and sqrt( 1 - cos( theta ) )\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\t// Real-Time Area Lighting: a Journey from Research to Production (p.102)\n\t// An approximation of the form factor of a horizon-clipped rectangle.\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\t// rational polynomial approximation to theta / sin( theta ) / 2PI\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\t// bail if point is on back side of plane of light\n\t// assumes ccw winding order of light vertices\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\t// construct orthonormal basis around N\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 ); // negated from paper; possibly due to a different handedness of world coordinate system\n\t// compute transform\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\t// transform rect\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\t// project rect onto sphere\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\t// calculate vector form factor\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\t// adjust for horizon clipping\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n/*\n\t// alternate method of adjusting for horizon clipping (see referece)\n\t// refactoring required\n\tfloat len = length( vectorFormFactor );\n\tfloat z = vectorFormFactor.z / len;\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\t// tabulated horizon-clipped sphere, apparently...\n\tvec2 uv = vec2( z * 0.5 + 0.5, len );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\tfloat scale = texture2D( ltc_2, uv ).w;\n\tfloat result = len * scale;\n*/\n\treturn vec3( result );\n}\n// End Rect Area Light\n// ref: https://www.unrealengine.com/blog/physically-based-shading-on-mobile - environmentBRDF for GGX on mobile\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n} // validated\n// Fdez-Agera\'s "Multiple-Scattering Microfacet Model for Real-Time Image Based Lighting"\n// Approximates multiscattering in order to preserve energy.\n// http://www.jcgt.org/published/0008/01/03/\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick( specularColor, dotNV );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\t// Paper incorrect indicates coefficient is PI/21, and will\n\t// be corrected to 1/21 in future updates.\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619; // 1/21\n\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( /* const in float dotNL, const in float dotNV */ ) {\n\t// geometry term is (n dot l)(n dot v) / 4(n dot l)(n dot v)\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\t//float dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\t//float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( /* dotNL, dotNV */ );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated\n// source: http://simonstechblog.blogspot.ca/2011/12/microfacet-brdf.html\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}'},function(r,n,a){"use strict";a.r(n),n.default="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\t// Bump Mapping Unparametrized Surfaces on the GPU by Morten S. Mikkelsen\n\t// http://api.unrealengine.com/attachments/Engine/Rendering/LightingAndShadows/BumpMappingWithoutTangentSpace/mm_sfgrad_bump.pdf\n\t// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\tvec2 dHdxy_fwd(in vec2 uv) {\n\t\tvec2 dSTdx = dFdx( uv );\n\t\tvec2 dSTdy = dFdy( uv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, uv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, uv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, uv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, in vec2 dHdxy ) {\n\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\t\t// normalized\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif"},function(r,n,a){"use strict";a.r(n),n.default="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tuniform mat3 normalMatrix;\n\t#else\n\t\t// Per-Pixel Tangent Space Normal Mapping\n\t\t// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\t\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\t\t// Workaround for Adreno 3XX dFd*( vec3 ) bug. See #9988\n\t\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\t\tvec2 st0 = dFdx( uv.st );\n\t\t\tvec2 st1 = dFdy( uv.st );\n\t\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s ); // we do not care about the magnitude\n\t\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\t\tvec3 N = normalize( surf_norm );\n\t\t\tmat3 tsn = mat3( S, T, N );\n\t\t\tvec3 mapN = texture2D( normalMap, uv ).xyz * 2.0 - 1.0;\n\t\t\tmapN.xy *= normalScale;\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\treturn normalize( tsn * mapN );\n\t\t}\n\t#endif\n#endif"},function(r,n,a){"use strict";a.r(n),n.default="#ifdef USE_NORMALMAP\n\t#ifdef OBJECTSPACE_NORMALMAP\n\t\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0; // overrides both flatShading and attribute normals\n\t\t#ifdef FLIP_SIDED\n\t\t\tnormal = - normal;\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tnormal = normalize( normalMatrix * normal );\n\t#else // tangent-space normal map\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, vUv );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(vUv) );\n#endif"},function(r,n,a){"use strict";a.r(n),n.default="uniform float uvScale;\n// uniform mat4 modelViewMatrix;\nuniform mat3 normalMatrix;\n\n\n\n#if defined(BOX_MAPPING)\n\nvarying vec3 localPosition;\nvarying vec3 eyeRelativePosWS;\n\n#endif\n\n"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.skyboxShader=void 0;const i=a(19),o=a(212),s=a(213);n.skyboxShader={uniforms:i.UniformsUtils.merge([i.UniformsLib.fog,{tCube:{value:null},tFlip:{value:-1},opacity:{value:1},fogColorReal:{value:new i.Color},tint:{value:new i.Color},mieTint:{value:new i.Color},mieSize:{value:.4},mieIntensity:{value:0},sunDir:{value:0},fogStart:{value:0},fogEnd:{value:.4},skyboxFogIntensity:{value:0}}]),vertexShader:s.default,fragmentShader:o.default}},function(r,n,a){"use strict";a.r(n),n.default="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nuniform vec3 tint;\nuniform vec3 mieTint;\nuniform float mieSize;\nuniform float mieIntensity;\nuniform float fogStart;\nuniform float fogEnd;\nuniform float sunDir;\nuniform float skyboxFogIntensity;\nuniform vec3 fogColorReal;\nvarying vec3 vWorldDirection;\n\n#include <common>\n\n#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\t// uniform float fogDensity;\n\t#else\n\t\t// uniform float fogNear;\n\t\t// uniform float fogFar;\n\t#endif\n#endif\n\n// bool approxEqual(float x, float y) {\n//   return abs(x - y) < 0.001;\n// }\n\nvoid main() {\n  vec3 texcoord = vec3( tFlip * vWorldDirection.x, vWorldDirection.yz );\n  // vec3 absTexCoord = abs(texcoord);\n\n\n  // if(approxEqual(absTexCoord.x, absTexCoord.y) || approxEqual(absTexCoord.x, absTexCoord.z)|| approxEqual(absTexCoord.y, absTexCoord.z)){\n  //   texColor = vec3(1.0, 0.0, 0.0);\n  // }\n\n  // if(approxEqual(absTexCoord.x, absTexCoord.y) ){\n  //   texcoord.x -= 0.01;\n  // }\n  \n\tvec3 texColor = textureCube( tCube, texcoord ).rgb * tint;\n\n  // vec3 texColor = textureCube( tCube, texcoord ).rgb * tint;\n\n  vec3 fogCol = fogColorReal;\n\n  float angle = sunDir * PI / 180.0;\n  float sina = sin(angle);\n  float cosa = cos(angle);\n\n  fogCol *= mieIntensity * smoothstep(1.0 - mieSize, 1.0, saturate(dot(vec2(cosa, sina), texcoord.xz))) * mieTint.rgb + 1.0;\n\n  texColor = mix(texColor, fogCol, saturate((1.0 - smoothstep(fogStart * 2.0, fogEnd * 2.0, abs(texcoord.y))) * skyboxFogIntensity ));\n\n\tgl_FragColor = vec4(texColor, opacity);\n  \n\t// #include <tonemapping_fragment>\n\t// #include <encodings_fragment>\n}"},function(r,n,a){"use strict";a.r(n),n.default="varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w; // set z to camera.far\n}"},function(r,n,a){"use strict";a.r(n);var i=a(19),o=a(215);const ShaderSwarm=function(r){r=r||{};const n=this;let a=ShaderSwarm.preset.default;r.preset&&ShaderSwarm.preset[r.preset]&&(a=ShaderSwarm.preset[r.preset]),n.data=r,n.preset=a,n.position=new i.Vector3,n.group=null,n.emitter=null,n.texture=null,n.loader=new i.TextureLoader,n.loader.crossOrigin="",n.paused=!1,n.onLoaded=null,n.scene=n.data.scene||null,n.callback=n.data.callback||function(){},n.loader.load(a.texturePath,r=>{n.texture=r,n.setup()})};ShaderSwarm.prototype.setup=function(){let r;r=this.preset.spread?(new i.Vector3).copy(this.preset.spread):new i.Vector3(40,24,40);const n={texture:{value:this.texture},fog:!1,maxParticleCount:1e4,depthTest:!0,depthWrite:!1,blending:this.preset.blending||i.NormalBlending,wrapParticles:!0,spread:r,scale:300*window.innerHeight/1280};this.group=new o.default.Group(n),this.emitter=new o.default.Emitter(this.preset),this.group.addEmitter(this.emitter),this.group.mesh.frustumCulled=!1,this.onLoaded&&this.onLoaded(),this.callback(this.group.mesh)},ShaderSwarm.prototype.pause=function(){this.paused=!0},ShaderSwarm.prototype.play=function(){this.paused=!1},ShaderSwarm.prototype.hide=function(){this.paused=!0,this.showHide("hide")},ShaderSwarm.prototype.show=function(){this.paused=!1,this.showHide("show")},ShaderSwarm.prototype.showHide=function(r){const n=this;n.group?n.group.mesh.visible="show"===r:n.onLoaded=function(){n[r]()}},ShaderSwarm.prototype.tick=function(r){this.group&&(this.emitter||this.paused)&&(this.group.tick(r),this.emitter.position.value=this.emitter.position.value.copy(this.position).add(this.preset.position.basePos),this.emitter.rotation.center=this.emitter.position.value,this.group.uniforms.startPos.value=this.emitter.position.value)},ShaderSwarm.prototype.dispose=function(r){r&&r.remove(this.group.mesh),this.group.dispose()},ShaderSwarm.preset={default:{name:"default",texturePath:"https://cdn.hibervr.com/images/particles/particle2.png",type:o.default.distributions.BOX,color:{value:[new i.Color(1,1,1)]},activeMultiplier:.9,size:{value:[.12]},wiggle:{value:2,spread:.8},position:{basePos:new i.Vector3(0,0,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(40,4,40)},velocity:{value:new i.Vector3(0,-2.4,0),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(-.24,-.24,0),spread:new i.Vector3(.08,.08,0),distribution:o.default.distributions.BOX},opacity:{value:[0,1,1,1,1,0]},maxAge:{value:20},rotation:{angle:Math.PI/2,angleSpread:Math.PI/4},particleCount:5e3},snow:{name:"snow",texturePath:"https://cdn.hibervr.com/images/particles/particle2.png",type:o.default.distributions.BOX,color:{value:[new i.Color(1,1,1)]},activeMultiplier:.9,size:{value:[.3]},wiggle:{value:2,spread:.8},position:{basePos:new i.Vector3(0,0,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(20,20,20)},velocity:{value:new i.Vector3(0,-.4,0),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(-.08,-.12,0),spread:new i.Vector3(.08,.08,0),distribution:o.default.distributions.BOX},opacity:{value:[0,1,1,1,1,0]},maxAge:{value:8},rotation:{angle:Math.PI/2,angleSpread:Math.PI/4},particleCount:3e3},rain:{name:"rain",texturePath:"https://cdn.hibervr.com/images/particles/particle2.png",type:o.default.distributions.BOX,color:{value:[new i.Color(.6,.7,1)]},activeMultiplier:.9,size:{value:[.1]},wiggle:{value:.1,spread:.2},position:{basePos:new i.Vector3(0,0,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(20,20,20)},velocity:{value:new i.Vector3(0,-8,0),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(0,0,0),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},opacity:{value:[0,1,1,1,1,0]},maxAge:{value:1.5},rotation:{angle:Math.PI/2,angleSpread:Math.PI/4},particleCount:5e3},goteborg:{name:"goteborg",texturePath:"https://cdn.hibervr.com/images/particles/particle2.png",type:o.default.distributions.BOX,color:{value:[new i.Color(180,204,255)]},activeMultiplier:.9,size:{value:[.16]},wiggle:{value:0,spread:0},position:{basePos:new i.Vector3(0,0,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(40,4,40)},velocity:{value:new i.Vector3(-24,-12,0),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(0,0,0),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},opacity:{value:[0,1,1,1,1,0]},maxAge:{value:10},rotation:{angle:Math.PI/2,angleSpread:0},particleCount:1e3},flare:{name:"flare",texturePath:"https://cdn.hibervr.com/images/particles/particle2.png",type:o.default.distributions.BOX,color:{value:[new i.Color(1,0,0)]},activeMultiplier:.9,size:{value:[.44]},wiggle:{value:0,spread:20},position:{basePos:new i.Vector3(0,0,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(40,40,40)},velocity:{value:new i.Vector3(0,0,0),spread:new i.Vector3(1,2.8,.8),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(0,0,0),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},drag:{value:4},opacity:{value:[0,1,1,1,1,0]},maxAge:{value:10},rotation:{angle:Math.PI/2,angleSpread:0},particleCount:1e3},dandelion:{name:"dandelion",texturePath:"https://cdn.hibervr.com/images/particles/dandelion_seeds.png",type:o.default.distributions.BOX,color:{value:[new i.Color(1,1,1)]},activeMultiplier:.9,size:{value:[2]},wiggle:{value:.8,spread:1.2},position:{basePos:new i.Vector3(0,0,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(40,40,40)},velocity:{value:new i.Vector3(0,1.6,0),spread:new i.Vector3(.8,1.6,.8),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(0,0,0),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},drag:{value:4},opacity:{value:[0,1,1,1,.5,0]},maxAge:{value:10},angle:{value:0,spread:[0,.3*Math.PI,.3*-Math.PI]},particleCount:250},upstream:{name:"upstream",texturePath:"https://cdn.hibervr.com/images/particles/particle2.png",type:o.default.distributions.BOX,color:{value:[new i.Color(1,1,1)]},activeMultiplier:.9,size:{value:[.4]},wiggle:{value:2,spread:.8},position:{basePos:new i.Vector3(0,0,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(40,40,40)},velocity:{value:new i.Vector3(0,8,0),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(0,0,0),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},drag:{value:4},opacity:{value:[0,1,1,1,.5,0]},maxAge:{value:20},rotation:{angle:Math.PI/2,angleSpread:1},particleCount:250},foggy:{name:"foggy",texturePath:"https://cdn.hibervr.com/images/particles/cloud.png",type:o.default.distributions.BOX,color:{value:[new i.Color("#2B9576")]},activeMultiplier:.9,size:{value:[40,32],spread:32},wiggle:{value:0,spread:.04},position:{basePos:new i.Vector3(0,0,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(80,40,80)},velocity:{value:new i.Vector3(0,.04,0),spread:new i.Vector3(.008,.008,.008),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(0,0,0),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},drag:{value:.04},opacity:{value:[0,.1,.3,.3,.1,0],spread:[0,.1,.1,.1,.1,0]},maxAge:{value:30},rotation:{angle:Math.PI/10,angleSpread:5e-4},angle:{value:[0,2*Math.PI],spread:[0,.2*Math.PI]},particleCount:200,spread:{x:80,y:24,z:80}},cloudy:{name:"foggy",texturePath:"https://cdn.hibervr.com/images/particles/cloud.png",type:o.default.distributions.BOX,color:{value:[new i.Color("#FFFFFF")]},activeMultiplier:.9,size:{value:[60,40],spread:32},wiggle:{value:0,spread:.04},position:{basePos:new i.Vector3(0,0,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(80,40,80)},velocity:{value:new i.Vector3(0,0,0),spread:new i.Vector3(.008,.008,.008),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(0,0,0),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},drag:{value:.04},opacity:{value:[0,.7,.7,.7,.7,0],spread:[0,.3,.3,.3,.3,0]},maxAge:{value:25},angle:{value:[0,2*Math.PI],spread:[0,.2*Math.PI]},particleCount:500,spread:{x:80,y:24,z:80}},froggy:{name:"froggy",texturePath:"https://cdn.hibervr.com/images/particles/cloud.png",type:o.default.distributions.BOX,color:{value:[new i.Color("#abe8ce")]},activeMultiplier:.9,size:{value:[24,12],spread:12},wiggle:{value:0,spread:.04},position:{basePos:new i.Vector3(0,-4,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(80,40,80)},velocity:{value:new i.Vector3(0,0,0),spread:new i.Vector3(4e-4,4e-4,4e-4),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(-.04,-.04,-.04),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},drag:{value:.02},opacity:{value:[0,.4,.4,.4,.4,0],spread:[0,.3,.3,.3,.3,0]},maxAge:{value:30,spread:20},rotation:{angle:Math.PI/2,angleSpread:.5},particleCount:1e3,spread:{x:80,y:24,z:80}},dusty:{name:"dusty",texturePath:"https://cdn.hibervr.com/images/particles/cloud.png",type:o.default.distributions.BOX,color:{value:[new i.Color("#9E5333")]},activeMultiplier:.9,size:{value:[48,24],spread:12},wiggle:{value:0,spread:.04},position:{basePos:new i.Vector3(0,0,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(80,24,80)},velocity:{value:new i.Vector3(0,0,0),spread:new i.Vector3(4,4,4),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(-.04,-.04,-.04),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},drag:{value:.02},opacity:{value:[0,.4,.4,.4,.4,0],spread:[0,.3,.3,.3,.3,0]},maxAge:{value:20,spread:5},rotation:{},angle:{value:[0,1.3*Math.PI]},particleCount:300,spread:{x:80,y:24,z:80}},bubbly:{name:"bubbly",texturePath:"https://cdn.hibervr.com/images/particles/bubble.png",type:o.default.distributions.BOX,color:{value:[new i.Color("#ffffff")]},activeMultiplier:.9,size:{value:[1,.6],spread:2},wiggle:{value:2,spread:1.2},position:{basePos:new i.Vector3(0,0,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(80,80,80)},velocity:{value:new i.Vector3(0,3,0),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(0,0,0),spread:new i.Vector3(.04,0,.04),distribution:o.default.distributions.BOX},drag:{value:.02},opacity:{value:[0,.2,.2,.2,.2,0],spread:[0,.3,.3,.3,.3,0]},maxAge:{value:10,spread:5},rotation:{angle:.08*Math.PI,angleSpread:0},angle:{value:[0,2*Math.PI]},particleCount:2e3,spread:{x:80,y:80,z:80}},star:{name:"star",texturePath:"https://cdn.hibervr.com/textures/particles/star_diffuse.128.png",type:o.default.distributions.SPHERE,color:{value:[new i.Color("#FFFFFF")]},activeMultiplier:.9,size:{value:[1.2,0],spread:NaN},wiggle:{value:0,spread:0},position:{basePos:new i.Vector3(0,0,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(80,80,80)},velocity:{value:new i.Vector3(0,0,0),spread:new i.Vector3(.008,.008,.008),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(0,0,0),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},drag:{value:.04},opacity:{value:[0,.4,.7,.9,.7,.3,0],spread:[0,.2,.2,.1,.2,.2,0]},maxAge:{value:1},particleCount:500,spread:{x:80,y:56,z:80}},steam:{name:"steam",texturePath:"https://cdn.hibervr.com/images/particles/cloud.png",type:o.default.distributions.BOX,color:{value:[new i.Color("#9e9e9e")]},activeMultiplier:.9,size:{value:[8,12],spread:8},wiggle:{value:0,spread:.04},position:{basePos:new i.Vector3(0,0,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(60,24,60)},velocity:{value:new i.Vector3(0,0,0),spread:new i.Vector3(.008,.08800000000000001,.008),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(0,.4,0),spread:new i.Vector3(0,.4,0),distribution:o.default.distributions.BOX},drag:{value:.04},opacity:{value:[0,.3,.3,.3,.3,0],spread:[0,.2,.2,.2,.2,0]},maxAge:{value:3},particleCount:700,spread:{x:80,y:40,z:80}},cherry_blossom:{name:"Cherry blossom",texturePath:"https://cdn.hibervr.com/images/particles/cherry_blossom2.png",type:o.default.distributions.BOX,blending:i.AdditiveBlending,color:{value:[new i.Color(1,.45,.5)]},activeMultiplier:.9,size:{value:[.3,.3,.5]},wiggle:{value:2,spread:8},position:{basePos:new i.Vector3(0,0,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(40,40,40)},velocity:{value:new i.Vector3(0,1,2),spread:new i.Vector3(2.8,2.8,2.8),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(0,0,.1),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},drag:{value:4},opacity:{value:[.7,.8]},maxAge:{value:10},particleCount:1e3},fireflies:{name:"fireflies",texturePath:"https://cdn.hibervr.com/textures/particles/spark_white_diffuse.256.png",type:o.default.distributions.BOX,blending:i.AdditiveBlending,color:{value:[new i.Color("#ffff00")]},activeMultiplier:.9,size:{value:[.44]},wiggle:{value:0,spread:12},position:{basePos:new i.Vector3(0,0,0),value:new i.Vector3(0,0,0),spread:new i.Vector3(40,40,40)},velocity:{value:new i.Vector3(0,0,0),spread:new i.Vector3(2.8,2.8,2.8),distribution:o.default.distributions.BOX},acceleration:{value:new i.Vector3(0,0,0),spread:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},drag:{value:4},opacity:{value:[0,1,1,1,1,0]},maxAge:{value:10},particleCount:1e3}},n.default=ShaderSwarm},function(r,n,a){"use strict";a.r(n),function(r){var i=a(19);const o={distributions:{BOX:1,SPHERE:2,DISC:3},valueOverLifetimeLength:4};"function"==typeof define&&a(217)?define("spe",o):"undefined"!=typeof exports&&void 0!==r&&(r.exports=o),o.TypedArrayHelper=function(r,n,a,i){this.componentSize=a||1,this.size=n||1,this.TypedArrayConstructor=r||Float32Array,this.array=new r(n*this.componentSize),this.indexOffset=i||0},o.TypedArrayHelper.constructor=o.TypedArrayHelper,o.TypedArrayHelper.prototype.setSize=function(r,n){const a=this.array.length;return n||(r*=this.componentSize),r<a?this.shrink(r):r>a?this.grow(r):void console.info("TypedArray is already of size:",r+".","Will not resize.")},o.TypedArrayHelper.prototype.shrink=function(r){return this.array=this.array.subarray(0,r),this.size=r,this},o.TypedArrayHelper.prototype.grow=function(r){const n=this.array,a=new this.TypedArrayConstructor(r);return a.set(n),this.array=a,this.size=r,this},o.TypedArrayHelper.prototype.splice=function(r,n){r*=this.componentSize,n*=this.componentSize;for(var a=[],i=this.array,o=i.length,s=0;s<o;++s)(s<r||s>=n)&&a.push(i[s]);return this.setFromArray(0,a),this},o.TypedArrayHelper.prototype.setFromArray=function(r,n){const a=r+n.length;return a>this.array.length?this.grow(a):a<this.array.length&&this.shrink(a),this.array.set(n,this.indexOffset+r),this},o.TypedArrayHelper.prototype.setVec2=function(r,n){return this.setVec2Components(r,n.x,n.y)},o.TypedArrayHelper.prototype.setVec2Components=function(r,n,a){const i=this.array,o=this.indexOffset+r*this.componentSize;return i[o]=n,i[o+1]=a,this},o.TypedArrayHelper.prototype.setVec3=function(r,n){return this.setVec3Components(r,n.x,n.y,n.z)},o.TypedArrayHelper.prototype.setVec3Components=function(r,n,a,i){const o=this.array,s=this.indexOffset+r*this.componentSize;return o[s]=n,o[s+1]=a,o[s+2]=i,this},o.TypedArrayHelper.prototype.setVec4=function(r,n){return this.setVec4Components(r,n.x,n.y,n.z,n.w)},o.TypedArrayHelper.prototype.setVec4Components=function(r,n,a,i,o){const s=this.array,y=this.indexOffset+r*this.componentSize;return s[y]=n,s[y+1]=a,s[y+2]=i,s[y+3]=o,this},o.TypedArrayHelper.prototype.setMat3=function(r,n){return this.setFromArray(this.indexOffset+r*this.componentSize,n.elements)},o.TypedArrayHelper.prototype.setMat4=function(r,n){return this.setFromArray(this.indexOffset+r*this.componentSize,n.elements)},o.TypedArrayHelper.prototype.setColor=function(r,n){return this.setVec3Components(r,n.r,n.g,n.b)},o.TypedArrayHelper.prototype.setNumber=function(r,n){return this.array[this.indexOffset+r*this.componentSize]=n,this},o.TypedArrayHelper.prototype.getValueAtIndex=function(r){return this.array[this.indexOffset+r]},o.TypedArrayHelper.prototype.getComponentValueAtIndex=function(r){return this.array.subarray(this.indexOffset+r*this.componentSize)},o.ShaderAttribute=function(r,n,a){const i=o.ShaderAttribute.typeSizeMap;this.type="string"==typeof r&&i.hasOwnProperty(r)?r:"f",this.componentSize=i[this.type],this.arrayType=a||Float32Array,this.typedArray=null,this.bufferAttribute=null,this.dynamicBuffer=!!n,this.updateMin=0,this.updateMax=0},o.ShaderAttribute.constructor=o.ShaderAttribute,o.ShaderAttribute.typeSizeMap={f:1,v2:2,v3:3,v4:4,c:3,m3:9,m4:16},o.ShaderAttribute.prototype.setUpdateRange=function(r,n){this.updateMin=Math.min(r*this.componentSize,this.updateMin*this.componentSize),this.updateMax=Math.max(n*this.componentSize,this.updateMax*this.componentSize)},o.ShaderAttribute.prototype.flagUpdate=function(){const r=this.bufferAttribute,n=r.updateRange;n.offset=this.updateMin,n.count=Math.min(this.updateMax-this.updateMin+this.componentSize,this.typedArray.array.length),r.needsUpdate=!0},o.ShaderAttribute.prototype.resetUpdateRange=function(){this.updateMin=0,this.updateMax=0},o.ShaderAttribute.prototype.resetDynamic=function(){this.bufferAttribute.usage=this.dynamicBuffer?i.DynamicDrawUsage:i.StaticDrawUsage},o.ShaderAttribute.prototype.splice=function(r,n){this.typedArray.splice(r,n),this.forceUpdateAll()},o.ShaderAttribute.prototype.forceUpdateAll=function(){this.bufferAttribute.array=this.typedArray.array,this.bufferAttribute.updateRange.offset=0,this.bufferAttribute.updateRange.count=-1,this.bufferAttribute.usage=i.StaticDrawUsage,this.bufferAttribute.needsUpdate=!0},o.ShaderAttribute.prototype._ensureTypedArray=function(r){null!==this.typedArray&&this.typedArray.size===r*this.componentSize||(null!==this.typedArray&&this.typedArray.size!==r?this.typedArray.setSize(r):null===this.typedArray&&(this.typedArray=new o.TypedArrayHelper(this.arrayType,r,this.componentSize)))},o.ShaderAttribute.prototype._createBufferAttribute=function(r){if(this._ensureTypedArray(r),null!==this.bufferAttribute)return this.bufferAttribute.array=this.typedArray.array,parseFloat(i.REVISION)>=81&&(this.bufferAttribute.count=this.bufferAttribute.array.length/this.bufferAttribute.itemSize),void(this.bufferAttribute.needsUpdate=!0);this.bufferAttribute=new i.BufferAttribute(this.typedArray.array,this.componentSize),this.bufferAttribute.usage=this.dynamicBuffer?i.DynamicDrawUsage:i.StaticDrawUsage},o.ShaderAttribute.prototype.getLength=function(){return null===this.typedArray?0:this.typedArray.array.length},o.shaderChunks={defines:"#define PACKED_COLOR_SIZE 256.0\n#define PACKED_COLOR_DIVISOR 255.0",uniforms:"uniform float deltaTime;\nuniform float runTime;\nuniform sampler2D u_texture;\nuniform vec4 textureAnimation;\nuniform float scale;\nuniform vec3 startPos;\nuniform vec3 spread;",attributes:"attribute vec4 acceleration;\nattribute vec3 velocity;\nattribute vec4 rotation;\nattribute vec3 rotationCenter;\nattribute vec4 params;\nattribute vec4 size;\nattribute vec4 angle;\nattribute vec4 color;\nattribute vec4 opacity;",varyings:"varying vec4 vColor;\n#ifdef SHOULD_ROTATE_TEXTURE\n    varying float vAngle;\n#endif\n#ifdef SHOULD_CALCULATE_SPRITE\n    varying vec4 vSpriteSheet;\n#endif",branchAvoidanceFunctions:"float when_gt(float x, float y) {\n    return max(sign(x - y), 0.0);\n}\nfloat when_lt(float x, float y) {\n    return min( max(1.0 - sign(x - y), 0.0), 1.0 );\n}\nfloat when_eq( float x, float y ) {\n    return 1.0 - abs( sign( x - y ) );\n}\nfloat when_ge(float x, float y) {\n  return 1.0 - when_lt(x, y);\n}\nfloat when_le(float x, float y) {\n  return 1.0 - when_gt(x, y);\n}\nfloat and(float a, float b) {\n    return a * b;\n}\nfloat or(float a, float b) {\n    return min(a + b, 1.0);\n}",unpackColor:"vec3 unpackColor( in float hex ) {\n   vec3 c = vec3( 0.0 );\n   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );\n   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );\n   float b = mod( hex, PACKED_COLOR_SIZE );\n   c.r = r / PACKED_COLOR_DIVISOR;\n   c.g = g / PACKED_COLOR_DIVISOR;\n   c.b = b / PACKED_COLOR_DIVISOR;\n   return c;\n}",unpackRotationAxis:"vec3 unpackRotationAxis( in float hex ) {\n   vec3 c = vec3( 0.0 );\n   float r = mod( (hex / PACKED_COLOR_SIZE / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );\n   float g = mod( (hex / PACKED_COLOR_SIZE), PACKED_COLOR_SIZE );\n   float b = mod( hex, PACKED_COLOR_SIZE );\n   c.r = r / PACKED_COLOR_DIVISOR;\n   c.g = g / PACKED_COLOR_DIVISOR;\n   c.b = b / PACKED_COLOR_DIVISOR;\n   c *= vec3( 2.0 );\n   c -= vec3( 1.0 );\n   return c;\n}",floatOverLifetime:"float getFloatOverLifetime( in float positionInTime, in vec4 attr ) {\n    highp float value = 0.0;\n    float deltaAge = positionInTime * float( VALUE_OVER_LIFETIME_LENGTH - 1 );\n    float fIndex = 0.0;\n    float shouldApplyValue = 0.0;\n    value += attr[ 0 ] * when_eq( deltaAge, 0.0 );\n\n    for( int i = 0; i < VALUE_OVER_LIFETIME_LENGTH - 1; ++i ) {\n       fIndex = float( i );\n       shouldApplyValue = and( when_gt( deltaAge, fIndex ), when_le( deltaAge, fIndex + 1.0 ) );\n       value += shouldApplyValue * mix( attr[ i ], attr[ i + 1 ], deltaAge - fIndex );\n    }\n\n    return value;\n}",colorOverLifetime:"vec3 getColorOverLifetime( in float positionInTime, in vec3 color1, in vec3 color2, in vec3 color3, in vec3 color4 ) {\n    vec3 value = vec3( 0.0 );\n    value.x = getFloatOverLifetime( positionInTime, vec4( color1.x, color2.x, color3.x, color4.x ) );\n    value.y = getFloatOverLifetime( positionInTime, vec4( color1.y, color2.y, color3.y, color4.y ) );\n    value.z = getFloatOverLifetime( positionInTime, vec4( color1.z, color2.z, color3.z, color4.z ) );\n    return value;\n}",paramFetchingFunctions:"float getAlive() {\n   return params.x;\n}\nfloat getAge() {\n   return params.y;\n}\nfloat getMaxAge() {\n   return params.z;\n}\nfloat getWiggle() {\n   return params.w;\n}",forceFetchingFunctions:"vec4 getPosition( in float age ) {\n   return modelViewMatrix * vec4( position, 1.0 );\n}\nvec3 getVelocity( in float age ) {\n   return velocity * age;\n}\nvec3 getAcceleration( in float age ) {\n   return acceleration.xyz * age;\n}",rotationFunctions:"#ifdef SHOULD_ROTATE_PARTICLES\n   mat4 getRotationMatrix( in vec3 axis, in float angle) {\n       axis = normalize(axis);\n       float s = sin(angle);\n       float c = cos(angle);\n       float oc = 1.0 - c;\n\n       return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n                   oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n                   oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n                   0.0,                                0.0,                                0.0,                                1.0);\n   }\n\n   vec3 getRotation( in vec3 pos, in float positionInTime ) {\n      if( rotation.y == 0.0 ) {\n           return pos;\n      }\n\n      vec3 axis = unpackRotationAxis( rotation.x );\n      vec3 center = rotationCenter;\n      vec3 translated;\n      mat4 rotationMatrix;\n      float angle = 0.0;\n      angle += when_eq( rotation.z, 0.0 ) * rotation.y;\n      angle += when_gt( rotation.z, 0.0 ) * mix( 0.0, rotation.y, positionInTime );\n      translated = rotationCenter - pos;\n      rotationMatrix = getRotationMatrix( axis, angle );\n      return center - vec3( rotationMatrix * vec4( translated, 0.0 ) );\n   }\n#endif",rotateTexture:"    vec2 vUv = vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y );\n\n    #ifdef SHOULD_ROTATE_TEXTURE\n       float x = gl_PointCoord.x - 0.5;\n       float y = 1.0 - gl_PointCoord.y - 0.5;\n       float c = cos( -vAngle );\n       float s = sin( -vAngle );\n       vUv = vec2( c * x + s * y + 0.5, c * y - s * x + 0.5 );\n    #endif\n\n    #ifdef SHOULD_CALCULATE_SPRITE\n        float framesX = vSpriteSheet.x;\n        float framesY = vSpriteSheet.y;\n        float columnNorm = vSpriteSheet.z;\n        float rowNorm = vSpriteSheet.w;\n        vUv.x = gl_PointCoord.x * framesX + columnNorm;\n        vUv.y = 1.0 - (gl_PointCoord.y * framesY + rowNorm);\n    #endif\n\n    vec4 rotatedTexture = texture2D( u_texture, vUv );"},o.shaders={vertex:[o.shaderChunks.defines,o.shaderChunks.uniforms,o.shaderChunks.attributes,o.shaderChunks.varyings,i.ShaderChunk.common,i.ShaderChunk.logdepthbuf_pars_vertex,i.ShaderChunk.fog_pars_vertex,o.shaderChunks.branchAvoidanceFunctions,o.shaderChunks.unpackColor,o.shaderChunks.unpackRotationAxis,o.shaderChunks.floatOverLifetime,o.shaderChunks.colorOverLifetime,o.shaderChunks.paramFetchingFunctions,o.shaderChunks.forceFetchingFunctions,o.shaderChunks.rotationFunctions,"void main() {\n    highp float age = getAge();\n    highp float alive = getAlive();\n    highp float maxAge = getMaxAge();\n    highp float positionInTime = (age / maxAge);\n    highp float isAlive = when_gt( alive, 0.0 );\n    #ifdef SHOULD_WIGGLE_PARTICLES\n        float wiggleAmount = positionInTime * getWiggle();\n        float wiggleSin = isAlive * sin( wiggleAmount );\n        float wiggleCos = isAlive * cos( wiggleAmount );\n    #endif\n    vec3 vel = getVelocity( age );\n    vec3 accel = getAcceleration( age );\n    vec3 force = vec3( 0.0 );\n    vec3 pos = vec3( position );\n    float drag = 1.0 - (positionInTime * 0.5) * acceleration.w;\n    force += vel;\n    force *= drag;\n    force += accel * age;\n    pos += force;\n    #ifdef SHOULD_WIGGLE_PARTICLES\n        pos.x += wiggleSin;\n        pos.y += wiggleCos;\n        pos.z += wiggleSin;\n    #endif\n    #ifdef SHOULD_ROTATE_PARTICLES\n        pos = getRotation( pos, positionInTime );\n    #endif\n    #ifdef SHOULD_WRAP_PARTICLES\n\t\tvec3 k = pos - startPos;\n\t\tvec3 range = spread;\n\t\tvec3 kLowerBound = -spread * 0.5;\n\t\tvec3 kUpperBound = spread * 0.5;\n\t\tk = mod(k - kLowerBound, range);\n\t\tpos = startPos;\n\t\tpos.x += when_gt(0.0, k.x) * (kUpperBound.x + 1.0 + k.x);\n\t\tpos.y += when_gt(0.0, k.y) * (kUpperBound.y + 1.0 + k.y);\n\t\tpos.z += when_gt(0.0, k.z) * (kUpperBound.z + 1.0 + k.z);\n\t\tpos.x += when_gt(k.x, 0.) * (kLowerBound.x + k.x);\n\t\tpos.y += when_gt(k.y, 0.) * (kLowerBound.y + k.y);\n\t\tpos.z += when_gt(k.z, 0.) * (kLowerBound.z + k.z);\n    #endif\n    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );\n    highp float pointSize = getFloatOverLifetime( positionInTime, size ) * isAlive;\n    #ifdef HAS_PERSPECTIVE\n        float perspective = scale / length( mvPosition.xyz );\n    #else\n        float perspective = 1.0;\n    #endif\n    float pointSizePerspective = pointSize * perspective;\n    #ifdef COLORIZE\n       vec3 c = isAlive * getColorOverLifetime(\n           positionInTime,\n           unpackColor( color.x ),\n           unpackColor( color.y ),\n           unpackColor( color.z ),\n           unpackColor( color.w )\n       );\n    #else\n       vec3 c = vec3(1.0);\n    #endif\n    float o = isAlive * getFloatOverLifetime( positionInTime, opacity );\n    vColor = vec4( c, o );\n    #ifdef SHOULD_ROTATE_TEXTURE\n        vAngle = isAlive * getFloatOverLifetime( positionInTime, angle );\n    #endif\n    #ifdef SHOULD_CALCULATE_SPRITE\n        float framesX = textureAnimation.x;\n        float framesY = textureAnimation.y;\n        float loopCount = textureAnimation.w;\n        float totalFrames = textureAnimation.z;\n        float frameNumber = mod( (positionInTime * loopCount) * totalFrames, totalFrames );\n        float column = floor(mod( frameNumber, framesX ));\n        float row = floor( (frameNumber - column) / framesX );\n        float columnNorm = column / framesX;\n        float rowNorm = row / framesY;\n        vSpriteSheet.x = 1.0 / framesX;\n        vSpriteSheet.y = 1.0 / framesY;\n        vSpriteSheet.z = columnNorm;\n        vSpriteSheet.w = rowNorm;\n    #endif\n    gl_PointSize = pointSizePerspective;\n    gl_Position = projectionMatrix * mvPosition;",i.ShaderChunk.logdepthbuf_vertex,i.ShaderChunk.fog_vertex,"}"].join("\n"),fragment:[o.shaderChunks.uniforms,i.ShaderChunk.common,i.ShaderChunk.fog_pars_fragment,i.ShaderChunk.logdepthbuf_pars_fragment,o.shaderChunks.varyings,o.shaderChunks.branchAvoidanceFunctions,"void main() {\n    vec3 outgoingLight = vColor.xyz;\n    \n    #ifdef ALPHATEST\n       if ( vColor.w < float(ALPHATEST) ) discard;\n    #endif",o.shaderChunks.rotateTexture,i.ShaderChunk.logdepthbuf_fragment,"    outgoingLight = vColor.xyz * rotatedTexture.xyz;\n    gl_FragColor = vec4( outgoingLight.xyz, rotatedTexture.w * vColor.w );",i.ShaderChunk.fog_fragment,"}"].join("\n")},o.utils={types:{BOOLEAN:"boolean",STRING:"string",NUMBER:"number",OBJECT:"object"},ensureTypedArg(r,n,a){return typeof r===n?r:a},ensureArrayTypedArg(r,n,a){if(Array.isArray(r)){for(let i=r.length-1;i>=0;--i)if(typeof r[i]!==n)return a;return r}return this.ensureTypedArg(r,n,a)},ensureInstanceOf(r,n,a){return void 0!==n&&r instanceof n?r:a},ensureArrayInstanceOf(r,n,a){if(Array.isArray(r)){for(let i=r.length-1;i>=0;--i)if(void 0!==n&&r[i]instanceof n==0)return a;return r}return this.ensureInstanceOf(r,n,a)},ensureValueOverLifetimeCompliance(r,n,a){n=n||3,a=a||3,!1===Array.isArray(r._value)&&(r._value=[r._value]),!1===Array.isArray(r._spread)&&(r._spread=[r._spread]);const i=this.clamp(r._value.length,n,a),o=this.clamp(r._spread.length,n,a),s=Math.max(i,o);r._value.length!==s&&(r._value=this.interpolateArray(r._value,s)),r._spread.length!==s&&(r._spread=this.interpolateArray(r._spread,s))},interpolateArray(r,n){for(var a=r.length,i=["function"==typeof r[0].clone?r[0].clone():r[0]],o=(a-1)/(n-1),s=1;s<n-1;++s){const n=s*o,a=Math.floor(n),y=Math.ceil(n),_=n-a;i[s]=this.lerpTypeAgnostic(r[a],r[y],_)}return i.push("function"==typeof r[a-1].clone?r[a-1].clone():r[a-1]),i},clamp(r,n,a){return Math.max(n,Math.min(r,a))},zeroToEpsilon(r,n){const a=1e-5;let i=r;return i=n?Math.random()*a*10:a,r<0&&r>-a&&(i=-i),i},lerpTypeAgnostic(r,n,a){let o;const s=this.types;return typeof r===s.NUMBER&&typeof n===s.NUMBER?r+(n-r)*a:r instanceof i.Vector2&&n instanceof i.Vector2?(o=r.clone(),o.x=this.lerp(r.x,n.x,a),o.y=this.lerp(r.y,n.y,a),o):r instanceof i.Vector3&&n instanceof i.Vector3?(o=r.clone(),o.x=this.lerp(r.x,n.x,a),o.y=this.lerp(r.y,n.y,a),o.z=this.lerp(r.z,n.z,a),o):r instanceof i.Vector4&&n instanceof i.Vector4?(o=r.clone(),o.x=this.lerp(r.x,n.x,a),o.y=this.lerp(r.y,n.y,a),o.z=this.lerp(r.z,n.z,a),o.w=this.lerp(r.w,n.w,a),o):r instanceof i.Color&&n instanceof i.Color?(o=r.clone(),o.r=this.lerp(r.r,n.r,a),o.g=this.lerp(r.g,n.g,a),o.b=this.lerp(r.b,n.b,a),o):void console.warn("Invalid argument types, or argument types do not match:",r,n)},lerp(r,n,a){return r+(n-r)*a},roundToNearestMultiple(r,n){let a=0;return 0===n?r:(a=Math.abs(r)%n,0===a?r:r<0?-(Math.abs(r)-a):r+n-a)},arrayValuesAreEqual(r){for(let n=0;n<r.length-1;++n)if(r[n]!==r[n+1])return!1;return!0},randomFloat(r,n){return r+n*(Math.random()-.5)},randomVector3(r,n,a,i,o){let s=a.x+(Math.random()*i.x-.5*i.x),y=a.y+(Math.random()*i.y-.5*i.y),_=a.z+(Math.random()*i.z-.5*i.z);o&&(s=.5*-o.x+this.roundToNearestMultiple(s,o.x),y=.5*-o.y+this.roundToNearestMultiple(y,o.y),_=.5*-o.z+this.roundToNearestMultiple(_,o.z)),r.typedArray.setVec3Components(n,s,y,_)},randomColor(r,n,a,i){let o=a.r+Math.random()*i.x,s=a.g+Math.random()*i.y,y=a.b+Math.random()*i.z;o=this.clamp(o,0,1),s=this.clamp(s,0,1),y=this.clamp(y,0,1),r.typedArray.setVec3Components(n,o,s,y)},randomColorAsHex:function(){const r=new i.Color;return function(n,a,i,o){for(var s=i.length,y=[],_=0;_<s;++_){const n=o[_];r.copy(i[_]),r.r+=Math.random()*n.x-.5*n.x,r.g+=Math.random()*n.y-.5*n.y,r.b+=Math.random()*n.z-.5*n.z,r.r=this.clamp(r.r,0,1),r.g=this.clamp(r.g,0,1),r.b=this.clamp(r.b,0,1),y.push(r.getHex())}n.typedArray.setVec4Components(a,y[0],y[1],y[2],y[3])}}(),randomVector3OnSphere(r,n,a,i,o,s,y,_){const w=2*Math.random()-1,E=6.2832*Math.random(),j=Math.sqrt(1-w*w);let q=this.randomFloat(i,o),$=0,ne=0,ie=0;y&&(q=Math.round(q/y)*y),$=j*Math.cos(E)*q,ne=j*Math.sin(E)*q,ie=w*q,$*=s.x,ne*=s.y,ie*=s.z,$+=a.x,ne+=a.y,ie+=a.z,r.typedArray.setVec3Components(n,$,ne,ie)},seededRandom(r){const n=1e4*Math.sin(r);return n-(0|n)},randomVector3OnDisc(r,n,a,i,o,s,y){const _=6.2832*Math.random();let w=Math.abs(this.randomFloat(i,o)),E=0,j=0,q=0;y&&(w=Math.round(w/y)*y),E=Math.cos(_)*w,j=Math.sin(_)*w,E*=s.x,j*=s.y,E+=a.x,j+=a.y,q+=a.z,r.typedArray.setVec3Components(n,E,j,q)},randomDirectionVector3OnSphere:function(){const r=new i.Vector3;return function(n,a,i,o,s,y,_,w){r.copy(y),r.x-=i,r.y-=o,r.z-=s,r.normalize().multiplyScalar(-this.randomFloat(_,w)),n.typedArray.setVec3Components(a,r.x,r.y,r.z)}}(),randomDirectionVector3OnDisc:function(){const r=new i.Vector3;return function(n,a,i,o,s,y,_,w){r.copy(y),r.x-=i,r.y-=o,r.z-=s,r.normalize().multiplyScalar(-this.randomFloat(_,w)),n.typedArray.setVec3Components(a,r.x,r.y,0)}}(),getPackedRotationAxis:function(){const r=new i.Vector3,n=new i.Vector3,a=new i.Color,o=new i.Vector3(1,1,1);return function(i,s){return r.copy(i).normalize(),n.copy(s).normalize(),r.x+=.5*-s.x+Math.random()*s.x,r.y+=.5*-s.y+Math.random()*s.y,r.z+=.5*-s.z+Math.random()*s.z,r.normalize().add(o).multiplyScalar(.5),a.setRGB(r.x,r.y,r.z),a.getHex()}}()},o.Group=function(r){const n=o.utils,a=n.types;(r=n.ensureTypedArg(r,a.OBJECT,{})).texture=n.ensureTypedArg(r.texture,a.OBJECT,{}),this.uuid=i.Math.generateUUID(),this.fixedTimeStep=n.ensureTypedArg(r.fixedTimeStep,a.NUMBER,.016),this.texture=n.ensureInstanceOf(r.texture.value,i.Texture,null),this.textureFrames=n.ensureInstanceOf(r.texture.frames,i.Vector2,new i.Vector2(1,1)),this.textureFrameCount=n.ensureTypedArg(r.texture.frameCount,a.NUMBER,this.textureFrames.x*this.textureFrames.y),this.textureLoop=n.ensureTypedArg(r.texture.loop,a.NUMBER,1),this.textureFrames.max(new i.Vector2(1,1)),this.hasPerspective=n.ensureTypedArg(r.hasPerspective,a.BOOLEAN,!0),this.colorize=n.ensureTypedArg(r.colorize,a.BOOLEAN,!0),this.maxParticleCount=n.ensureTypedArg(r.maxParticleCount,a.NUMBER,null),this.blending=n.ensureTypedArg(r.blending,a.NUMBER,i.AdditiveBlending),this.transparent=n.ensureTypedArg(r.transparent,a.BOOLEAN,!0),this.alphaTest=parseFloat(n.ensureTypedArg(r.alphaTest,a.NUMBER,0)),this.depthWrite=n.ensureTypedArg(r.depthWrite,a.BOOLEAN,!1),this.depthTest=n.ensureTypedArg(r.depthTest,a.BOOLEAN,!0),this.fog=n.ensureTypedArg(r.fog,a.BOOLEAN,!0),this.scale=n.ensureTypedArg(r.scale,a.NUMBER,300),this.wrapParticles=n.ensureTypedArg(r.wrapParticles,a.BOOLEAN,!1),this.startPos=n.ensureInstanceOf(r.startPos,i.Vector3,new i.Vector3),this.spread=n.ensureInstanceOf(r.spread,i.Vector3,new i.Vector3),this.emitters=[],this.emitterIDs=[],this._pool=[],this._poolCreationSettings=null,this._createNewWhenPoolEmpty=0,this._attributesNeedRefresh=!1,this._attributesNeedDynamicReset=!1,this.particleCount=0,this.uniforms={u_texture:{type:"t",value:this.texture},textureAnimation:{type:"v4",value:new i.Vector4(this.textureFrames.x,this.textureFrames.y,this.textureFrameCount,Math.max(Math.abs(this.textureLoop),1))},fogColor:{type:"c",value:new i.Color},fogNear:{type:"f",value:10},fogFar:{type:"f",value:200},fogDensity:{type:"f",value:.5},deltaTime:{type:"f",value:0},runTime:{type:"f",value:0},scale:{type:"f",value:this.scale},startPos:{type:"v3",value:this.startPos},spread:{type:"v3",value:this.spread}},this.defines={HAS_PERSPECTIVE:this.hasPerspective,COLORIZE:this.colorize,VALUE_OVER_LIFETIME_LENGTH:o.valueOverLifetimeLength,SHOULD_ROTATE_TEXTURE:!1,SHOULD_ROTATE_PARTICLES:!1,SHOULD_WIGGLE_PARTICLES:!1,SHOULD_WRAP_PARTICLES:this.wrapParticles,SHOULD_CALCULATE_SPRITE:this.textureFrames.x>1||this.textureFrames.y>1},this.attributes={position:new o.ShaderAttribute("v3",!0),acceleration:new o.ShaderAttribute("v4",!0),velocity:new o.ShaderAttribute("v3",!0),rotation:new o.ShaderAttribute("v4",!0),rotationCenter:new o.ShaderAttribute("v3",!0),params:new o.ShaderAttribute("v4",!0),size:new o.ShaderAttribute("v4",!0),angle:new o.ShaderAttribute("v4",!0),color:new o.ShaderAttribute("v4",!0),opacity:new o.ShaderAttribute("v4",!0)},this.attributeKeys=Object.keys(this.attributes),this.attributeCount=this.attributeKeys.length,this.material=new i.ShaderMaterial({uniforms:this.uniforms,vertexShader:o.shaders.vertex,fragmentShader:o.shaders.fragment,blending:this.blending,transparent:this.transparent,alphaTest:this.alphaTest,depthWrite:this.depthWrite,depthTest:this.depthTest,defines:this.defines,fog:this.fog}),this.geometry=new i.BufferGeometry,this.mesh=new i.Points(this.geometry,this.material),null===this.maxParticleCount&&console.warn("SPE.Group: No maxParticleCount specified. Adding emitters after rendering will probably cause errors.")},o.Group.constructor=o.Group,o.Group.prototype._updateDefines=function(){let r;const n=this.emitters;let a=n.length-1;const i=this.defines;for(;a>=0;--a)r=n[a],i.SHOULD_CALCULATE_SPRITE||(i.SHOULD_ROTATE_TEXTURE=i.SHOULD_ROTATE_TEXTURE||!!Math.max(Math.max.apply(null,r.angle.value),Math.max.apply(null,r.angle.spread))),i.SHOULD_ROTATE_PARTICLES=i.SHOULD_ROTATE_PARTICLES||!!Math.max(r.rotation.angle,r.rotation.angleSpread),i.SHOULD_WIGGLE_PARTICLES=i.SHOULD_WIGGLE_PARTICLES||!!Math.max(r.wiggle.value,r.wiggle.spread);this.material.needsUpdate=!0},o.Group.prototype._applyAttributesToGeometry=function(){let r,n;const a=this.attributes,i=this.geometry,o=i.attributes;for(const s in a)a.hasOwnProperty(s)&&(r=a[s],n=o[s],n?n.array=r.typedArray.array:i.setAttribute(s,r.bufferAttribute),r.bufferAttribute.needsUpdate=!0);this.geometry.setDrawRange(0,this.particleCount)},o.Group.prototype.addEmitter=function(r){if(r instanceof o.Emitter==0)return void console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:",r);if(this.emitterIDs.indexOf(r.uuid)>-1)return void console.error("Emitter already exists in this group. Will not add again.");if(null!==r.group)return void console.error("Emitter already belongs to another group. Will not add to requested group.");const n=this.attributes,a=this.particleCount,i=a+r.particleCount;this.particleCount=i,null!==this.maxParticleCount&&this.particleCount>this.maxParticleCount&&console.warn("SPE.Group: maxParticleCount exceeded. Requesting",this.particleCount,"particles, can support only",this.maxParticleCount),r._calculatePPSValue(r.maxAge._value+r.maxAge._spread),r._setBufferUpdateRanges(this.attributeKeys),r._setAttributeOffset(a),r.group=this,r.attributes=this.attributes;for(const r in n)n.hasOwnProperty(r)&&n[r]._createBufferAttribute(null!==this.maxParticleCount?this.maxParticleCount:this.particleCount);for(let n=a;n<i;++n)r._assignPositionValue(n),r._assignForceValue(n,"velocity"),r._assignForceValue(n,"acceleration"),r._assignAbsLifetimeValue(n,"opacity"),r._assignAbsLifetimeValue(n,"size"),r._assignAngleValue(n),r._assignRotationValue(n),r._assignParamsValue(n),r._assignColorValue(n);return this._applyAttributesToGeometry(),this.emitters.push(r),this.emitterIDs.push(r.uuid),this._updateDefines(r),this.material.needsUpdate=!0,this.geometry.needsUpdate=!0,this._attributesNeedRefresh=!0,this},o.Group.prototype.removeEmitter=function(r){const n=this.emitterIDs.indexOf(r.uuid);if(r instanceof o.Emitter!=0)if(-1!==n){for(var a=r.attributeOffset,i=a+r.particleCount,s=this.attributes.params.typedArray,y=a;y<i;++y)s.array[4*y]=0,s.array[4*y+1]=0;this.emitters.splice(n,1),this.emitterIDs.splice(n,1);for(const r in this.attributes)this.attributes.hasOwnProperty(r)&&this.attributes[r].splice(a,i);this.particleCount-=r.particleCount,r._onRemove(),this._attributesNeedRefresh=!0}else console.error("Emitter does not exist in this group. Will not remove.");else console.error("`emitter` argument must be instance of SPE.Emitter. Was provided with:",r)},o.Group.prototype.getFromPool=function(){const r=this._pool,n=this._createNewWhenPoolEmpty;if(r.length)return r.pop();if(n){const r=new o.Emitter(this._poolCreationSettings);return this.addEmitter(r),r}return null},o.Group.prototype.releaseIntoPool=function(r){return r instanceof o.Emitter==0?void console.error("Argument is not instanceof SPE.Emitter:",r):(r.reset(),this._pool.unshift(r),this)},o.Group.prototype.getPool=function(){return this._pool},o.Group.prototype.addPool=function(r,n,a){let i;this._poolCreationSettings=n,this._createNewWhenPoolEmpty=!!a;for(let a=0;a<r;++a)i=Array.isArray(n)?new o.Emitter(n[a]):new o.Emitter(n),this.addEmitter(i),this.releaseIntoPool(i);return this},o.Group.prototype._triggerSingleEmitter=function(r){const n=this.getFromPool(),a=this;return null===n?void console.log("SPE.Group pool ran out."):(r instanceof i.Vector3&&(n.position.value.copy(r),n.position.value=n.position.value),n.enable(),setTimeout((function(){n.disable(),a.releaseIntoPool(n)}),1e3*Math.max(n.duration,n.maxAge.value+n.maxAge.spread)),this)},o.Group.prototype.triggerPoolEmitter=function(r,n){if("number"==typeof r&&r>1)for(let a=0;a<r;++a)this._triggerSingleEmitter(n);else this._triggerSingleEmitter(n);return this},o.Group.prototype._updateUniforms=function(r){this.uniforms.runTime.value+=r,this.uniforms.deltaTime.value=r},o.Group.prototype._resetBufferRanges=function(){const r=this.attributeKeys;let n=this.attributeCount-1;const a=this.attributes;for(;n>=0;--n)a[r[n]].resetUpdateRange()},o.Group.prototype._updateBuffers=function(r){let n,a,i;const o=this.attributeKeys;let s=this.attributeCount-1;const y=this.attributes,_=r.bufferUpdateRanges;for(;s>=0;--s)n=o[s],a=_[n],i=y[n],i.setUpdateRange(a.min,a.max),i.flagUpdate()},o.Group.prototype.tick=function(r){const n=this.emitters,a=n.length,i=r||this.fixedTimeStep,o=this.attributeKeys,s=this.attributes;if(this._updateUniforms(i),this._resetBufferRanges(),0!==a||!1!==this._attributesNeedRefresh||!1!==this._attributesNeedDynamicReset){for(var y,_=0;_<a;++_)(y=n[_]).tick(i),this._updateBuffers(y);if(!0===this._attributesNeedDynamicReset){for(_=this.attributeCount-1;_>=0;--_)s[o[_]].resetDynamic();this._attributesNeedDynamicReset=!1}if(!0===this._attributesNeedRefresh){for(_=this.attributeCount-1;_>=0;--_)s[o[_]].forceUpdateAll();this._attributesNeedRefresh=!1,this._attributesNeedDynamicReset=!0}}},o.Group.prototype.dispose=function(){return this.geometry.dispose(),this.material.dispose(),this},o.Emitter=function(r){const n=o.utils,a=n.types,s=o.valueOverLifetimeLength;(r=n.ensureTypedArg(r,a.OBJECT,{})).position=n.ensureTypedArg(r.position,a.OBJECT,{}),r.velocity=n.ensureTypedArg(r.velocity,a.OBJECT,{}),r.acceleration=n.ensureTypedArg(r.acceleration,a.OBJECT,{}),r.radius=n.ensureTypedArg(r.radius,a.OBJECT,{}),r.drag=n.ensureTypedArg(r.drag,a.OBJECT,{}),r.rotation=n.ensureTypedArg(r.rotation,a.OBJECT,{}),r.color=n.ensureTypedArg(r.color,a.OBJECT,{}),r.opacity=n.ensureTypedArg(r.opacity,a.OBJECT,{}),r.size=n.ensureTypedArg(r.size,a.OBJECT,{}),r.angle=n.ensureTypedArg(r.angle,a.OBJECT,{}),r.wiggle=n.ensureTypedArg(r.wiggle,a.OBJECT,{}),r.maxAge=n.ensureTypedArg(r.maxAge,a.OBJECT,{}),r.onParticleSpawn&&console.warn("onParticleSpawn has been removed. Please set properties directly to alter values at runtime."),this.uuid=i.Math.generateUUID(),this.type=n.ensureTypedArg(r.type,a.NUMBER,o.distributions.BOX),this.position={_value:n.ensureInstanceOf(r.position.value,i.Vector3,new i.Vector3),_spread:n.ensureInstanceOf(r.position.spread,i.Vector3,new i.Vector3),_spreadClamp:n.ensureInstanceOf(r.position.spreadClamp,i.Vector3,new i.Vector3),_distribution:n.ensureTypedArg(r.position.distribution,a.NUMBER,this.type),_randomise:n.ensureTypedArg(r.position.randomise,a.BOOLEAN,!1),_radius:n.ensureTypedArg(r.position.radius,a.NUMBER,10),_radiusScale:n.ensureInstanceOf(r.position.radiusScale,i.Vector3,new i.Vector3(1,1,1)),_distributionClamp:n.ensureTypedArg(r.position.distributionClamp,a.NUMBER,0)},this.velocity={_value:n.ensureInstanceOf(r.velocity.value,i.Vector3,new i.Vector3),_spread:n.ensureInstanceOf(r.velocity.spread,i.Vector3,new i.Vector3),_distribution:n.ensureTypedArg(r.velocity.distribution,a.NUMBER,this.type),_randomise:n.ensureTypedArg(r.position.randomise,a.BOOLEAN,!1)},this.acceleration={_value:n.ensureInstanceOf(r.acceleration.value,i.Vector3,new i.Vector3),_spread:n.ensureInstanceOf(r.acceleration.spread,i.Vector3,new i.Vector3),_distribution:n.ensureTypedArg(r.acceleration.distribution,a.NUMBER,this.type),_randomise:n.ensureTypedArg(r.position.randomise,a.BOOLEAN,!1)},this.drag={_value:n.ensureTypedArg(r.drag.value,a.NUMBER,0),_spread:n.ensureTypedArg(r.drag.spread,a.NUMBER,0),_randomise:n.ensureTypedArg(r.position.randomise,a.BOOLEAN,!1)},this.wiggle={_value:n.ensureTypedArg(r.wiggle.value,a.NUMBER,0),_spread:n.ensureTypedArg(r.wiggle.spread,a.NUMBER,0)},this.rotation={_axis:n.ensureInstanceOf(r.rotation.axis,i.Vector3,new i.Vector3(0,1,0)),_axisSpread:n.ensureInstanceOf(r.rotation.axisSpread,i.Vector3,new i.Vector3),_angle:n.ensureTypedArg(r.rotation.angle,a.NUMBER,0),_angleSpread:n.ensureTypedArg(r.rotation.angleSpread,a.NUMBER,0),_static:n.ensureTypedArg(r.rotation.static,a.BOOLEAN,!1),_center:n.ensureInstanceOf(r.rotation.center,i.Vector3,this.position._value.clone()),_randomise:n.ensureTypedArg(r.position.randomise,a.BOOLEAN,!1)},this.maxAge={_value:n.ensureTypedArg(r.maxAge.value,a.NUMBER,2),_spread:n.ensureTypedArg(r.maxAge.spread,a.NUMBER,0)},this.color={_value:n.ensureArrayInstanceOf(r.color.value,i.Color,new i.Color),_spread:n.ensureArrayInstanceOf(r.color.spread,i.Vector3,new i.Vector3),_randomise:n.ensureTypedArg(r.position.randomise,a.BOOLEAN,!1)},this.opacity={_value:n.ensureArrayTypedArg(r.opacity.value,a.NUMBER,1),_spread:n.ensureArrayTypedArg(r.opacity.spread,a.NUMBER,0),_randomise:n.ensureTypedArg(r.position.randomise,a.BOOLEAN,!1)},this.size={_value:n.ensureArrayTypedArg(r.size.value,a.NUMBER,1),_spread:n.ensureArrayTypedArg(r.size.spread,a.NUMBER,0),_randomise:n.ensureTypedArg(r.position.randomise,a.BOOLEAN,!1)},this.angle={_value:n.ensureArrayTypedArg(r.angle.value,a.NUMBER,0),_spread:n.ensureArrayTypedArg(r.angle.spread,a.NUMBER,0),_randomise:n.ensureTypedArg(r.position.randomise,a.BOOLEAN,!1)},this.particleCount=n.ensureTypedArg(r.particleCount,a.NUMBER,100),this.duration=n.ensureTypedArg(r.duration,a.NUMBER,null),this.isStatic=n.ensureTypedArg(r.isStatic,a.BOOLEAN,!1),this.activeMultiplier=n.ensureTypedArg(r.activeMultiplier,a.NUMBER,1),this.direction=n.ensureTypedArg(r.direction,a.NUMBER,1),this.alive=n.ensureTypedArg(r.alive,a.BOOLEAN,!0),this.particlesPerSecond=0,this.activationIndex=0,this.attributeOffset=0,this.attributeEnd=0,this.age=0,this.activeParticleCount=0,this.group=null,this.attributes=null,this.paramsArray=null,this.resetFlags={position:n.ensureTypedArg(r.position.randomise,a.BOOLEAN,!1)||n.ensureTypedArg(r.radius.randomise,a.BOOLEAN,!1),velocity:n.ensureTypedArg(r.velocity.randomise,a.BOOLEAN,!1),acceleration:n.ensureTypedArg(r.acceleration.randomise,a.BOOLEAN,!1)||n.ensureTypedArg(r.drag.randomise,a.BOOLEAN,!1),rotation:n.ensureTypedArg(r.rotation.randomise,a.BOOLEAN,!1),rotationCenter:n.ensureTypedArg(r.rotation.randomise,a.BOOLEAN,!1),size:n.ensureTypedArg(r.size.randomise,a.BOOLEAN,!1),color:n.ensureTypedArg(r.color.randomise,a.BOOLEAN,!1),opacity:n.ensureTypedArg(r.opacity.randomise,a.BOOLEAN,!1),angle:n.ensureTypedArg(r.angle.randomise,a.BOOLEAN,!1)},this.updateFlags={},this.updateCounts={},this.updateMap={maxAge:"params",position:"position",velocity:"velocity",acceleration:"acceleration",drag:"acceleration",wiggle:"params",rotation:"rotation",size:"size",color:"color",opacity:"opacity",angle:"angle"};for(const r in this.updateMap)this.updateMap.hasOwnProperty(r)&&(this.updateCounts[this.updateMap[r]]=0,this.updateFlags[this.updateMap[r]]=!1,this._createGetterSetters(this[r],r));this.bufferUpdateRanges={},this.attributeKeys=null,this.attributeCount=0,n.ensureValueOverLifetimeCompliance(this.color,s,s),n.ensureValueOverLifetimeCompliance(this.opacity,s,s),n.ensureValueOverLifetimeCompliance(this.size,s,s),n.ensureValueOverLifetimeCompliance(this.angle,s,s)},o.Emitter.constructor=o.Emitter,o.Emitter.prototype._createGetterSetters=function(r,n){const a=this;for(const i in r)if(r.hasOwnProperty(i)){const s=i.replace("_","");Object.defineProperty(r,s,{get:function(r){return function(){return this[r]}}(i),set:function(r){return function(i){const s=a.updateMap[n],y=this[r],_=o.valueOverLifetimeLength;"_rotationCenter"===r?(a.updateFlags.rotationCenter=!0,a.updateCounts.rotationCenter=0):"_randomise"===r?a.resetFlags[s]=i:(a.updateFlags[s]=!0,a.updateCounts[s]=0),a.group._updateDefines(),this[r]=i,Array.isArray(y)&&o.utils.ensureValueOverLifetimeCompliance(a[n],_,_)}}(i)})}},o.Emitter.prototype._setBufferUpdateRanges=function(r){this.attributeKeys=r,this.attributeCount=r.length;for(let n=this.attributeCount-1;n>=0;--n)this.bufferUpdateRanges[r[n]]={min:1/0,max:-1/0}},o.Emitter.prototype._calculatePPSValue=function(r){const n=this.particleCount;this.duration?this.particlesPerSecond=n/(r<this.duration?r:this.duration):this.particlesPerSecond=n/r},o.Emitter.prototype._setAttributeOffset=function(r){this.attributeOffset=r,this.activationIndex=r,this.activationEnd=r+this.particleCount},o.Emitter.prototype._assignValue=function(r,n){switch(r){case"position":this._assignPositionValue(n);break;case"velocity":case"acceleration":this._assignForceValue(n,r);break;case"size":case"opacity":this._assignAbsLifetimeValue(n,r);break;case"angle":this._assignAngleValue(n);break;case"params":this._assignParamsValue(n);break;case"rotation":this._assignRotationValue(n);break;case"color":this._assignColorValue(n)}},o.Emitter.prototype._assignPositionValue=function(r){const n=o.distributions,a=o.utils,i=this.position,s=this.attributes.position,y=i._value,_=i._spread;switch(i._distribution){case n.BOX:a.randomVector3(s,r,y,_,i._spreadClamp);break;case n.SPHERE:a.randomVector3OnSphere(s,r,y,i._radius,i._spread.x,i._radiusScale,i._spreadClamp.x,i._distributionClamp||this.particleCount);break;case n.DISC:a.randomVector3OnDisc(s,r,y,i._radius,i._spread.x,i._radiusScale,i._spreadClamp.x)}},o.Emitter.prototype._assignForceValue=function(r,n){let a,i,s,y,_;const w=o.distributions,E=o.utils,j=this[n],q=j._value,$=j._spread;switch(j._distribution){case w.BOX:E.randomVector3(this.attributes[n],r,q,$);break;case w.SPHERE:a=this.attributes.position.typedArray.array,_=3*r,i=a[_],s=a[_+1],y=a[_+2],E.randomDirectionVector3OnSphere(this.attributes[n],r,i,s,y,this.position._value,j._value.x,j._spread.x);break;case w.DISC:a=this.attributes.position.typedArray.array,_=3*r,i=a[_],s=a[_+1],y=a[_+2],E.randomDirectionVector3OnDisc(this.attributes[n],r,i,s,y,this.position._value,j._value.x,j._spread.x)}if("acceleration"===n){const n=E.clamp(E.randomFloat(this.drag._value,this.drag._spread),0,1);this.attributes.acceleration.typedArray.array[4*r+3]=n}},o.Emitter.prototype._assignAbsLifetimeValue=function(r,n){let a;const i=this.attributes[n].typedArray,s=this[n],y=o.utils;y.arrayValuesAreEqual(s._value)&&y.arrayValuesAreEqual(s._spread)?(a=Math.abs(y.randomFloat(s._value[0],s._spread[0])),i.setVec4Components(r,a,a,a,a)):i.setVec4Components(r,Math.abs(y.randomFloat(s._value[0],s._spread[0])),Math.abs(y.randomFloat(s._value[1],s._spread[1])),Math.abs(y.randomFloat(s._value[2],s._spread[2])),Math.abs(y.randomFloat(s._value[3],s._spread[3])))},o.Emitter.prototype._assignAngleValue=function(r){let n;const a=this.attributes.angle.typedArray,i=this.angle,s=o.utils;s.arrayValuesAreEqual(i._value)&&s.arrayValuesAreEqual(i._spread)?(n=s.randomFloat(i._value[0],i._spread[0]),a.setVec4Components(r,n,n,n,n)):a.setVec4Components(r,s.randomFloat(i._value[0],i._spread[0]),s.randomFloat(i._value[1],i._spread[1]),s.randomFloat(i._value[2],i._spread[2]),s.randomFloat(i._value[3],i._spread[3]))},o.Emitter.prototype._assignParamsValue=function(r){this.attributes.params.typedArray.setVec4Components(r,this.isStatic?1:0,0,Math.abs(o.utils.randomFloat(this.maxAge._value,this.maxAge._spread)),o.utils.randomFloat(this.wiggle._value,this.wiggle._spread))},o.Emitter.prototype._assignRotationValue=function(r){this.attributes.rotation.typedArray.setVec3Components(r,o.utils.getPackedRotationAxis(this.rotation._axis,this.rotation._axisSpread),o.utils.randomFloat(this.rotation._angle,this.rotation._angleSpread),this.rotation._static?0:1),this.attributes.rotationCenter.typedArray.setVec3(r,this.rotation._center)},o.Emitter.prototype._assignColorValue=function(r){o.utils.randomColorAsHex(this.attributes.color,r,this.color._value,this.color._spread)},o.Emitter.prototype._resetParticle=function(r){for(var n,a,i=this.resetFlags,o=this.updateFlags,s=this.updateCounts,y=this.attributeKeys,_=this.attributeCount-1;_>=0;--_)a=o[n=y[_]],!0!==i[n]&&!0!==a||(this._assignValue(n,r),this._updateAttributeUpdateRange(n,r),!0===a&&s[n]===this.particleCount?(o[n]=!1,s[n]=0):1==a&&++s[n])},o.Emitter.prototype._updateAttributeUpdateRange=function(r,n){const a=this.bufferUpdateRanges[r];a.min=Math.min(n,a.min),a.max=Math.max(n,a.max)},o.Emitter.prototype._resetBufferRanges=function(){let r;const n=this.bufferUpdateRanges,a=this.bufferUpdateKeys;let i=this.bufferUpdateCount-1;for(;i>=0;--i)r=a[i],n[r].min=1/0,n[r].max=-1/0},o.Emitter.prototype._onRemove=function(){this.particlesPerSecond=0,this.attributeOffset=0,this.activationIndex=0,this.activeParticleCount=0,this.group=null,this.attributes=null,this.paramsArray=null,this.age=0},o.Emitter.prototype._decrementParticleCount=function(){--this.activeParticleCount},o.Emitter.prototype._incrementParticleCount=function(){++this.activeParticleCount},o.Emitter.prototype._checkParticleAges=function(r,n,a,i){for(var o,s,y,_,w=n-1;w>=r;--w)0!==(_=a[o=4*w])&&(y=a[o+1],s=a[o+2],1===this.direction?(y+=i)>=s&&(y=0,_=0,this._decrementParticleCount()):(y-=i)<=0&&(y=s,_=0,this._decrementParticleCount()),a[o]=_,a[o+1]=y,this._updateAttributeUpdateRange("params",w))},o.Emitter.prototype._activateParticles=function(r,n,a,i){for(var o,s,y=this.direction,_=r;_<n;++_)0!=a[o=4*_]&&1!==this.particleCount||(this._incrementParticleCount(),a[o]=1,this._resetParticle(_),s=i*(_-r),a[o+1]=-1===y?a[o+2]-s:s,this._updateAttributeUpdateRange("params",_))},o.Emitter.prototype.tick=function(r){if(!this.isStatic){null===this.paramsArray&&(this.paramsArray=this.attributes.params.typedArray.array);const n=this.attributeOffset,a=n+this.particleCount,i=this.paramsArray,o=this.particlesPerSecond*this.activeMultiplier*r,s=this.activationIndex;if(this._resetBufferRanges(),this._checkParticleAges(n,a,i,r),!1===this.alive)return void(this.age=0);if(null!==this.duration&&this.age>this.duration)return this.alive=!1,void(this.age=0);const y=1===this.particleCount?s:0|s,_=Math.min(y+o,this.activationEnd),w=_-this.activationIndex|0,E=w>0?r/w:0;this._activateParticles(y,_,i,E),this.activationIndex+=o,this.activationIndex>a&&(this.activationIndex=n),this.age+=r}},o.Emitter.prototype.reset=function(r){if(this.age=0,this.alive=!1,!0===r){for(var n,a=this.attributeOffset,i=a+this.particleCount,o=this.paramsArray,s=this.attributes.params.bufferAttribute,y=i-1;y>=a;--y)o[n=4*y]=0,o[n+1]=0;s.updateRange.offset=0,s.updateRange.count=-1,s.needsUpdate=!0}return this},o.Emitter.prototype.enable=function(){return this.alive=!0,this},o.Emitter.prototype.disable=function(){return this.alive=!1,this},o.Emitter.prototype.remove=function(){return null!==this.group?this.group.removeEmitter(this):console.error("Emitter does not belong to a group, cannot remove."),this},n.default=o}(a(216)(r))},function(r,n){r.exports=function(r){if(!r.webpackPolyfill){var n=Object.create(r);n.children||(n.children=[]),Object.defineProperty(n,"loaded",{enumerable:!0,get:()=>n.l}),Object.defineProperty(n,"id",{enumerable:!0,get:()=>n.i}),Object.defineProperty(n,"exports",{enumerable:!0}),n.webpackPolyfill=1}return n}},function(r,n){var a;a={},r.exports=a},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getPlayerMetadata=n.PlayerMetadata=void 0;const i=a(18),o=a(219),s=i.default.request("avatar");class PlayerMetadata{constructor(){this.id=0,this.level=0,this.username="Scrooge McDuck",this.avatarModel="Hibert",this.suspension=null,this.birthdate="",this.isRegistered=!1}}let y;n.PlayerMetadata=PlayerMetadata,n.getPlayerMetadata=()=>{if(!y){y=new PlayerMetadata,y.avatarModel=i.default.randFromArray(["hibert-no-emoji","hibertina-no-emoji"]),y.level=y.level||0,s&&(y.avatarModel=s),y.username=localStorage.getItem("username")||"",y.username||(y.username=o.generateName(),localStorage.setItem("username",y.username));const r=window.PLAYER_DATA;r&&(y.id=r.id,y.username=r.username,y.suspension=r.suspension,y.birthdate=r.birthdate,y.level=r.level,y.isRegistered=!!r.isRegistered,r.avatar&&(y.avatarModel=r.avatar.appearance.name))}return y}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.generateName=void 0;const i=a(220),o=a(221),s=new i.default(2,o.alunaNames);n.generateName=function generateName(){const r=s.generate({minLength:5,maxLength:10,maxAttempts:100,allowDuplicates:!1});return r.charAt(0).toUpperCase()+r.slice(1)}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function MarkovChain(r,n){this.order=r,this.duplicates={children:{}},this.start={character:"",neighbors:[]},this.init(n)}return MarkovChain.prototype.init=function(r){for(var n={},a=0,i=r;a<i.length;a++){var o=i[a];this.addToDuplicatesTrie(o.toLowerCase());for(var s=this.start,y="",_=0;_<o.length;++_){var w=o[_];(y+=w).length>this.order&&(y=y.substr(1));var E=n[y];E||(E={character:w,neighbors:[]},n[y]=E),s.neighbors.push(E),s=E}s.neighbors.push(null)}},MarkovChain.prototype.addToDuplicatesTrie=function(r){r.length>1&&this.addToDuplicatesTrie(r.substr(1));for(var n=this.duplicates,a=0;a<r.length;++a){var i=n.children[r[a]];i||(i={children:{}},n.children[r[a]]=i),n=i}},MarkovChain.prototype.isDuplicate=function(r){r=r.toLowerCase();for(var n=this.duplicates,a=0;a<r.length;++a){var i=n.children[r[a]];if(!i)return!1;n=i}return!0},MarkovChain.prototype.generate=function(r){var n,a,i=r.minLength,o=void 0===i?0:i,s=r.maxLength,y=void 0===s?0:s,_=r.allowDuplicates,w=void 0===_||_,E=r.maxAttempts,j=void 0===E?25:E,q=r.random,$=void 0===q?Math.random:q,ne=0;do{a=!1;var ie=Math.floor($()*this.start.neighbors.length),oe=this.start.neighbors[ie];for(n="";oe&&(y<=0||n.length<=y);)n+=oe.character,ie=Math.floor($()*oe.neighbors.length),oe=oe.neighbors[ie];(y>0&&n.length>y||n.length<o)&&(a=!0)}while((a||!w&&this.isDuplicate(n))&&(j<=0||++ne<j));if(j>0&&ne>=j)throw Error("Unable to generate a word with the given parameters after "+ne+" attempts");return n},MarkovChain}();n.default=i},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.alunaNames=void 0,n.alunaNames=["Aluna","Solaria","Atmos","Hectagonia","Meluna","Sonar","Heluna","Atmon","Hecta","Sonariago","Mecton","Sonaria","Sonia","Mectagonar","Ataria","Alunariar","Naut","Octagon","Soluna","Alagona","Nariari","Ios","Paronia","Paros","Santorino","Helunagona","Pariaria","Patmo","Palolem","Anjuna","Luna","Naxon","Atlantis","Oceana","Atona","Mectmo","Atmonar","Nalun","Ataxon","Atlar","Atlar","Helona","Ionjun","Atago","Helunago","Naluna","Mumbai","Hyderabad","Jaipur","Patna","Prana","Agra","Vadodara","Ghazia","Ludhiana","Varanasi","Noidav","Asansol","Nariai","Atonarnia","Anagoo","Anariara","Parinanari","Atonadon","Narario","Nagonago","Atman","Brahman","Atmonaria","Verodella","Athena","Ariadne","Selene","Aurora","Ophelia","Minerva","Juno","Thalia","Thea","Uma","Dite","Freya","Rhea","Vesta","Morrigan","Adonia","Astrid","Demetria","Rhiannon","Mesoria","Nagon","Pandora","Hollana","Eydis","Ailsa","Zealand","Eponine","Iiona","Clio","Daya","Hermia","Gaia","Artemis","Ninia","Nyx","Echo","Pax","Dido","Phoebe","Sirona","Sedona","Andromeda","Pagonana","Nagijala","Nagilima","Naria","Sonjunad","Octli","Pagonia","Atmar","Moon","Maanen","Eponi","Octerara","Anaxo","Allonja","Nagoon","Pagoon","Pagodaa","Nariagon","Pagona","Atala","Lodrian","Janagoo","Paradis","Naritis","Dharagon","Soraxo","Nayama","Aakash","Acyutah","Adimurti","Aditi","Adityas","Agni","Ammavaru","Anala","Anilais","Anumati","Anuradha","Apam","Napatis","Aranya","Aranyani","Aravan","Ardha","Ardra","Arjuna","Arun","Arund","Aryaman","Ashapura","Aslesais","Asura","Asva","yujau","Aswiniis","Ayyappan","Ayyanar","Ayya","Vaikundar","Aryadurga","Bahu","Chara","Mata","Balarama","mundi","Bhadra","Bhadra","Bhaga","Bhairava","Bhairavi","Bharani","Bhishma","Bhumi","Bhumiya","Bhuta","mata","Brahma","Brahman","mani","Budha","Buddha","Buddhi","Budhi","Pallien","Balaji","Balam","bika","Chamunda","Chandra","Chathan","Daksha","Danu","Deva","Devi","Dhara","Dharma","Shasta","Dhatri","Dhuma","Diti","Durga","Draupadi","Pita","Dasmati","Ganesha","Ganga","Garuda","Goddess","Gauri","Gayatri","hyam","Gusainji","Ganpati","Hanuman","Hari","Hedavde","Mahal","axmi","Indra","Indrani","Indila","yappan","Iyyanar","Jagadd","hatri","Jyotiba","Jagan","Jumadi","Jasnath","Jai","Jhule","Jangal","kateri","Kali","Kama","Kamak ","Durga","Amman","Karti","keya","Swami","Kashyapa","Kathyay","Ketu","Khandoba","Khodiyar","Moorti","Krishna","Kubera","Lakshmi","Lalitha","Lakshman","Lambodar","Veeran","Mahesh","Mahavidya","Maha","Mallanna","Mariam","Markan","deya","Matrikas","Meenak","Manasa","Maruts","Matangi","Manina","kanta","Mhasoba","Veer","Mitra","Mohini","Muthya","lamma","Murugan","Mariamman","Muniandi","Mahalasa","Mukya","Moo","kambika","Munee","swaran","Mahakali","Mangala","Devata","siren","Yakshi","Naina","Nandni","Nandi","Narada","simha","Narayana","Nataraja","Nirrith","Nirrta","Nookam","Hurama","Parasiva","Parjanya","Parvati","Pashupati","Perumal","Prajapati","Prithvi","Pushan","Purusha","Radha","Rahu","Rama","Ramnathi","Ranganatha","Rati","Ratri","Ravi","Rbhus","Renuka","Revanta","Rudra","Samale","swati","Saranyu","Sati","Shani","Savitr","Savitar","Sesha","Shakti","Shakti","Peethas","Shanta","durga","Shiva","Sita","Skanda","Soma","Subrah","manya","Surya","Shitala","Svaha","narayan","Sreeraman","Suseendran","Tara","Tejaji","Tirupati","Tripura","Sundari","Tvashtri","Urvashi","Ushas","Ugratara","Vishvas","Vamana","Varaha","Varuna","Vasu","Vayu","Veerab","Mhaskoba","Venkate","Vishnu","Vishvak","Vithoba","Vishwa","Vivasvat","Valli","Yaksha","Yakshini","Yama","Yamuna","Yami","Yellamma","Yamini","Balder","Brage","Delling","Forsete","Heimdall","Hermod","Hder","Hner","Kvaser","Loke","Lodur","Mode","Oden","Tor","Tyr","Ull","Vale","Vidar","Vile","Vaner","Frej","Freja","Njord","Frigg","Gerd","Idun","Nanna","Rind","Sigyn","Skade ","Fulla","Lin","Saga","Snotra","Skuld","Verdandi","Valkyrior","Brynhild","Ganndul","Gun","Hild","Mist","Rist","Rota","Skgul","Trud","Angerboda","Aurboda","Bele","Bestla","Bltorn","Geirrd","Gjalp","Greip","Grid","Gunnld","Gymer","Hymer","Kare ","Loge","Mimer","Rungner","Surt","Trym","Ymer","Anar","Andvare","Dvalin","Nedan","Regin","Reidmar","Sindre","Andra","gudomar","Bejla","Billing","Bure","Hnoss","Mne","Nep","Sol","Aslg","Groa","Sigmund","Starkad ","Tjalve","Vlund","Audhumbla","Eiktyrner","Fafner","Garm ","Grane","Hate","Heidrun","Hugin","Munin","Mnegarm","Nidhgg","Ratatosk","Rsvelg","Skinfaxe","Skoll ","Sleipner","Srimner","Vderflne","Andra","Diser","Aargau","Aargonar","Abafar","Abednedo","Abhean","Abregado-Rae","Absanz","Adumar","Aeneid","Aeten","Affadar","Agamar","Agaris","Agoliba-Ado","Agoliba-Ena","Ahakista","Ahch-To","Ai'ken","Akiva","Akuria","Alderaan","Aleen","Aleen Minor","Algarian","Alpheridies","Alpinn","Allst","Allyuen","Ambria","Amethia","Ammon IV","Anantapar","Anaxes","Andelm IV","Ando","Ando","Anelsana","Ankhural","Ankus","Anoat","Ansion","Antar","Anteevy","Anthan","Anzat","Aquaris","Argazda","Aria","Arieli","Arkania","Arkanis","Arreyel","Artiod Minor","Askaji","Asmeru","Atollon","Atrisia","Attahox","Atterra Alpha","Atterra Bravo","Atterra Primo","Atzerri","Axxila","Balamak","Balmorra","Balosar","Balnab","Baraan-Fa","Bardotta","Bar'leth","Bastatha","Basteel","Bastion","Batonn","Batuu","Bavva","Belasco","Belladoon","Belderone","Belkadan","Belnar","Belsavis","Bendeluum","Berchest","Berzite","Bescane","Bespin","Bestine","Bilbringi","Bith","Bilzen","Bimmiel","Bimmisaari","Birgis","Birren","Bogden","Bomis Koori","Bonadan","Boonta","Boothi","Borgo","Borleias","Borosk","Botajef","Bothawui","Boz Pity","Bray","Brentaal","Bromlarch","Burnin Konn","Byblos","Byss","Byss","Caamas","Cadomai","Calcoraan","Camson","Candovant","Cantonica","Cardota","Carida","Carlac","Carnelion","Carsanza","Cartao","Castell","Castilon","Cato Neimoidia","Centares","Cerea","Chaaktil","Chad","Chagar IX","Chalacta","Chalcedon","Chal Hudda","Champala","Chandar","Chandel","Chandrila","Charros","Chasmeene","Cholganna","Christophsis","Chrona","Ciutric","Codia","Colla","Columus","Commenor","Comra","Cona","Concord Dawn","Constancia","Corellia","Corsin","Courtsilius","Corulag","Coruscant","Cosia","Cos Secundu","Council","Coyerti","Crait","Crucival","Crul","Csilla","Cyphar","Cyrillia","Cyrkon","Czerialus","D'Qar","Daalang","Dagobah","Dandoran","Dantooine","Darkknell","Darlyn Boda","Dasoor","Dathomir","Daxam","Daxan Beta","Delphon","Denash","Dennogra","Denon","Dermos","Devaron","Deysum","Dinwa","Dinzo","Dorin","Dolla","Dowut","Draboon","Drearia","Dressel","Druckenwell","Dubrillion","Durkteel","Duro","Dwartii","Eadu","Edis","Edusa","Egips","Eiattu","Elom","Empress Teta","Enarc","Endor","Entralla","Epiphany","Er'Kit","Eriadu","Ertegas","Esfandia","Espinar","Espirion","Etti","Eufornis","Exodeen","Ezaraa","Falleen","Farana","Farhava Beta","Farstine","Feenix","Felucia","Fest","Fillithar","Filordis","Firrerre","Florn","Florrum","Fondor","Formos","Fornax","Frong","Galaan","Galidraan","Galidraan","Galidraan","Galpos II","Galzez","Gamerong","Gamorr","Gan Moradir","Gand","Ganthel","Garel","Garos","Gatalenta","Genassa","Generis","Gentes","Geonosis","Gerrenthum","Gesaral Beta","Ghorman","Gigor","Giju","Gilvaanen","Gizer","Glee Anselm","Gorse","Gossam","Gozgo","Grange","Gravlex Med","Grizmallt","Gromas","Gutretee","G'wenee","Haidoral","Halbara","Halcyon","Halmad","Harloff Minor","Haruun Kal","Hays Major","Hays Minor","Helska","Herdessa","Hevurion","Hinari","Hirara","Hissrich","Honoghr","Horuz","Hosnian","Hosra","Hoth","Hok","Hovun","Hudalla","Hynestia","Iakar","Ibaar","Iego","Ikari","Ikkrukk","Iktotchon","Iloh","Ilum","Imdaar","Imvur","Indoumodo","Indupar","Injopan","Insk","Inusagi","Ione","Iridonia","Irudiru","Isobe","Isde Naha","Iseno","Ison","Iskalon","Itapi","Ithor","Ivarujar","Ivera X","Jaatovi","Jaelen","Jaemus","Jakku","Jalindi","Jeosyn","Jeyell","Jelucan","Jhas","Jiroch","Jomark","Kaal","Kadavo","Kaddak","Kalarba","Kalee","Kalevala","Kalinda","Kaller","Kattada","Kamino","Kanzi","Kardoa","Karfeddion","Kartoosh","Kashyyyk","Keitum","Kelada","Kellux","Kerev Doi","Kergans","Kerkoidia","Kessel","Ketaris","Kethmandi","Khorm","Kiffex","Kiffu","Kinrah","Kintan","Kintoni","Kirdo","Kiros","Kirtarkin","Klatooine","Klonoid","Klytus","Konkiv","Kooriva","Korrus","Kothlis","Kowak","Kril'Dor","Kriselist","Krownest","Ktath'atn","Ktil","Kuat","Kubindi","Kupoh","Kwenn","Lah'mu","Lahn","Lahsbane","Lannik","Lanteeb","Lantillies","Lasan","Lew'el","Lefrani","Leritor","Lexrul","Li-Toran","Lira San","Listehol","Livno","Llanic","Lokori","Lola Sayu","Lolet","Lonera","Lorahns","Loronar","Lorrd","Lorta","Lothal","Lotho Minor","Lucazec","Luprora","Lutrillia","Lwhekk","Lysatra","Mahranee","Makem Te","Malachor","Malastare","Malian","Malpaz","Manaan","Manda","Mandalore","Mandrine","Mannius Eight","Manpha","Mantooine","Marca","Mardona","Maridun","Marleyvane","Mataou","Mathas","Megalox Beta","Mendavi","Merj","Metalorn","Metellos","Mexeluine","Mijos","Mikkia","Milagro","Milvayne","Mimban","Mirial","Mirrin","Miser","Moltok","Monastery","Mon Cala","Mon Gazza","Mokivj","Montross","Moonus Mandel","Moorja","Moraband","Moraga","Mordal","Morellia","Mrisst","Mugaar","Murkhana","Mustafar","Muunilinst","Mydasos","Mygeeto","Mykapo","Mytus","Naalol","Naboo","Nag Ubdur","Najan-Rovi","NaJedha","Nakadia","Nal Hutta","Nam Chorios","Namadii","Nanth'ri","Naraka","Nar Kanji","Narq","Neimoidia","Nelvaan","Nepotis","Neral","New Cov","New Plympto","Nexator","Nexus Ortai","Nez Peron","Nirauan","Nixor","Nixus","Noctu","Noe'ha'on","Nordis","Nothoiin","Nouane","Noult","Null","Numidian","N'Zoth","Oba Diah","Obroa-skai","Ocahont","Odona","Ogem","Ojom","Oktaro","Oliu","Omereth","Onderon","Oon","Oosalon","Ord Biniir","Ord Cantrell","Ord Cestus","Ord Mantell","Ord Pardron","Ord Radama","Ord Tiddell","Ord Trasi","Orinda","Orish","Orn Kios","Orondia","Orto","Orto Plutonia","Ossus","Oulanne","Ovanis","Palanhi","Pamarthe","Pammant","Panna","Paqwepor","Parnassos","Pasher","Pastoria","Patitite Pattuna","Patrolia","Paucris Major","Pendarr","Petrusia","Phaeda","Phatrong","Pheryon","Phindar","Phorsa Gedd","Phu","Pillio","Pion","Pipada","Plexis","Polis Massa","Pollillus","Polmanar","Ponemah Terminal","Pothor","Prakith","Prefsbelt","Pujool","Quarzite","Quell","Quellor","Quermia","Ques","Quila","Raddan","Radhii","Radnor","Rago","Randa","Randon","Rajtiri","Rakata","Rattatak","Raxus","Raxus","Raydonia","Raysho","Reamma","Refnu","Rendel","Rhen Var","Rhommamool","Riflor","Rina Major","Ringo Vinda","Rinn","Rintonne","Rion","Riosa","Rishi","Roche","Rodia","Roon","Rothana","Rumitaka","Ruoss Minor","Ruuria","Ruusan","Ryloth","Saki","Saleucami","Salient I","Salient II","Sammun","Samovar","Sarapin","Sarka","Sarrish","Satotai","Savareen","Scarif","Scipio","Sedratis","Seelos","Sembla","Serenno","Sernpidal","Serralonis","Sesid","Seswenna","Sevarcos","Shadda-Bi-Boran","Sha Qarot","Shantipole","Shaum Hii","Shili","Shu-Torun","Sibensko","Sirpar","Skako Minor","Skaradosh","Skorii-Lei","Skuhl","Sluis Van","Sneeve","Socorro","Son-tuul","Spalex","Sriluur","Starkiller Base","Sterdic","Stewjon","Strokill","Stygeon","Suba","Sullust","Sump","","Taanab","Takobo","Takodana","Tammuz-an","Tamsye","Tangenine","Tangrene","Tansyl 5","Taris","Tatooine","Taul","Tehar","Tei-Untis","Telos","Tepasi","Teralov","Terminus","Teth","Teyr","Thabeska","Thalassia","The Deep","Theron","Thisspias","Tholoth","Thrad","Thune","Thustra","Thyferra","Tibrin","Tiferep Major","Tiisheraan","Tilth","Tilurus","Tinnel","Tirahnn","Togoria","Tokmia","Toola","Tosste","Touksingal","Toydaria","Trandosha","Trasse","Trian","Trionak","Trogan","Troiken","Tsevuka","Tureen","Tund","Twon Ketee","Tyegin","Tynna","Tython","Uba","Ubardia","Ubduria","Ubrikkia","Uchinao","Ukio","Ultaar","Umbara","Umgul","Uogo'cor","Uquine","Urce","Ushruu","Utapau","Uviuy Exen","Uyter","Vakkar","Valc","Vallt","Vandyne","Vandor","Vanqor","Vardos","Vashka","Vassek","Velmor","Velusia","Vendaxa","Ventooine","Veros","Vertseth","Vetine","Viamarr","Vinsoth","Vir Aphshire","Virujansi","Vixnix","Vjun","Vodran","Vondarc","Vorlag","Vortex","Vrogas Vas","Vulpter","Vurdon Ka","Vyndal","Wadi Raffa","Wakeelmui","Watassay","Wayland","Wecacoe","Wellspring of Life","Wobani","Woostri","Wor Tandell","Whiforla II","Wrea","Wroona","Wynkahthu","Xagobah","Xala","Xendek","Xirl","Yabol Opa","Yaga Minor","Yag'Dhul","Yar Togna","Yarma","Yavin","Yinchorr","Ylesia","Yout","Zastiga","ZeHeth","Zeitooine","Zeltros","Zerm","Zhadalene","Zhanox","Zolan","Zygerria","Zyzar"]},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Event=void 0,n.Event=class Event{constructor(){this.listeners=[],this.on=r=>(this.listeners.push(r),{off:()=>this.off(r)}),this.off=r=>{const n=this.listeners.indexOf(r);n>-1&&this.listeners.splice(n,1)},this.emit=r=>{this.listeners.forEach(n=>n(r))}}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ChatCommunicator=n.ChatMessage=void 0;const i=a(8),o=a(125),s=a(133),y=a(224),_=a(222),w=a(225),E=a(279);class ChatMessage{constructor(){this.sender="",this.message=""}}n.ChatMessage=ChatMessage;class ChatCommunicator{static handleChatMessage(r,n){this.ChatPackage.deserializeFrom(r.deserializer),this.chatMessage.sender=n.username,this.chatMessage.message=this.ChatPackage.message,this.chatMessageReceived.emit(this.chatMessage)}static sendToDb(r){const n=w.NetworkLayer.instance,a=i.entityManager.getOrCreateSingleton(s.default);return o.saveChatMessage(r,n.roomId,a.projectId,y.getCurrentGamekitStr().toUpperCase())}static sendChatMessage(r){const n=w.NetworkLayer.instance;return 0===n.NumberOfPeers()||(ChatCommunicator.ChatPackage.message=r,n.queuePackage(0,E.NetworkDataType.CHAT_MESSAGE,ChatCommunicator.ChatPackage,E.NetworkChannelType.RELIABLE))}}n.ChatCommunicator=ChatCommunicator,ChatCommunicator.chatMessageReceived=new _.Event,ChatCommunicator.ChatPackage=new class ChatPackage{constructor(){this.message=""}serializeTo(r){r.writeAsciiString(this.message)}deserializeFrom(r){this.message=r.readAsciiString()}},ChatCommunicator.chatMessage=new ChatMessage},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getCurrentGamekitStr=void 0;const i=a(18);n.getCurrentGamekitStr=()=>{window.INIT_DATA;return window.GAMEKIT||i.default.request("gk")||"snap"}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkLayer=void 0;const i=a(8),o=a(125),s=a(18),y=a(226),_=a(13),w=a(228),E=a(11),j=a(133),q=a(218),$=a(69),ne=a(16),ie=a(278),oe=a(279),se=a(280),le=a(281),pe=a(285),he=a(10);class NetworkLayer extends he{constructor(r){if(super(),this.CLIENT_META_DATA_MAX_STR_LEN=64,this.CLIENT_META_DATA_SIZE_BYTES=2*(this.CLIENT_META_DATA_MAX_STR_LEN+2),this.headerSizeBytes=4,this._isHost=!1,this._clientId=0,this._connectedRoomId="",this.peers=[],this.packetQueue=[],this.thisClientMeta=null,this.clientMetas=[],this.sendUnreliableBuffer=new ArrayBuffer(4096),this.sendReliableBuffer=new ArrayBuffer(4096),this.sendSingleBuffer=new ArrayBuffer(1024),this.unreliablePacketQueueCount=0,this.reliablePacketQueueCount=0,this.serializerUnreliable=new le.Serializer(this.sendUnreliableBuffer,this.headerSizeBytes),this.serializerReliable=new le.Serializer(this.sendReliableBuffer,this.headerSizeBytes),this.serializerSingle=new le.Serializer(this.sendSingleBuffer,0),this.BUFFER_SIZE_BYTES=102400,this.incomingDataBuffer=new Uint8Array(this.BUFFER_SIZE_BYTES),this.incomingDataByteIndex=0,this.incomingPacketCount=0,this.deserializer=new le.Deserializer(this.incomingDataBuffer.buffer,0),this.tempPacketIncoming=new oe.PackageIncoming,this.disconnectDebouncer=0,this.stats=new se.NetworkStats,this.replicatePacketsToClients=!0,this.host=r.host,NetworkLayer.instance=this,!ie.hasDataChannelSupport())throw y.networkState.set(y.NetworkState.NOT_SUPPORTED),Error("WebRTC channels are not supported");this.connection=w(this.host,{upgrade:!1,transports:["websocket"]}),this.brokerConnectPromise=new Promise((r,n)=>{this.connection.on("connect",async()=>{await this.handleConnect(),r()}),this.connection.on("connect_error",n)}),this.connection.on("disconnect",this.handleDisconnect.bind(this)),this.connection.on("setupHost",this.handleSetupHost.bind(this)),this.connection.on("setupClient",this.handleSetupClient.bind(this)),this.connection.on("startMigration",this.handleStartMigration.bind(this)),this.connection.on("signal",this.handleSignal.bind(this)),this.connection.on("addPeer",this.handleAddPeer.bind(this)),this.connection.on("removePeer",this.handleRemovePeer.bind(this)),this.connection.on("joinedRoom",this.handleClientMetadata.bind(this)),this.connection.on("leftRoom",this.handleClientLeftRoom.bind(this)),this.connection.on("duplicatedConnection",this.handleDuplicatedConnection.bind(this)),window.addEventListener("beforeunload",this.handleExitPage.bind(this)),window.addEventListener("blur",this.handleBlur.bind(this)),window.addEventListener("focus",this.handleFocus.bind(this)),window.addEventListener("visibilitychange",this.handleBlur.bind(this)),this.handleBlur()}clients(){return this.clientMetas}NumberOfPeers(){return this.peers.length}getHostMetadata(){if(this.isHost)return this.thisClientMeta;const r=this.peers[0];if(!r)return null;for(let n=0;n<this.clientMetas.length;n++){const a=this.clientMetas[n];if(a.clientId===r.id)return a}return null}updateTick(r){for(let r=0;r<this.peers.length;r++)this.peers[r].update(i.entityManager.tickTimeMs/1e3);i.debugMenuDisplayed&&r%30==0&&this.stats.reset()}printDebugInfo(){var r,n,a,i;ne.traceV2("ClientId",""+this.clientId),ne.traceV2("Packets",`Out: ${this.stats.prevNumPacketsOut} (${this.stats.prevBytesOut} bytes) - In: ${this.stats.prevNumPacketsIn} (${this.stats.prevBytesIn} bytes)`);for(let o=0;o<this.peers.length;o++){const s=this.peers[o];ne.traceV2(`Client(${s.id}) ConnectionStatus`,""+s.connection.connectionState),ne.traceV2(`Client(${s.id}) Unreliable`,`ReadyState: ${null===(r=s.channels[0])||void 0===r?void 0:r.readyState}, Buffered: ${null===(n=s.channels[0])||void 0===n?void 0:n.bufferedAmount}`),ne.traceV2(`Client(${s.id}) Reliable`,`ReadyState: ${null===(a=s.channels[1])||void 0===a?void 0:a.readyState}, Buffered: ${null===(i=s.channels[1])||void 0===i?void 0:i.bufferedAmount}\n        `)}}isConnectedToPeer(r){for(let n=0;n<this.peers.length;n++){const a=this.peers[n];if(a.state===pe.PeerState.CONNECTED&&(!r||r===a.id))return!0}return!1}tryReconnect(){y.networkState.value()!==y.NetworkState.CONNECTED&&y.networkState.value()!==y.NetworkState.RECONNECTING&&y.networkState.value()!==y.NetworkState.MIGRATION&&y.networkState.value()!==y.NetworkState.DESTROYED&&($.log("Trying to reconnect...","IsHost: ",this.isHost),y.reconnectionAttempts.set(y.reconnectionAttempts.value()+1),y.reconnectionAttempts.value()>5?y.networkState.set(y.NetworkState.DISCONNECTED):this.connection.connected?this.isHost||this.peers.length||(y.networkState.set(y.NetworkState.RECONNECTING),this.connection.emit("tryReconnect",{})):(y.networkState.set(y.NetworkState.RECONNECTING),this.connection.connect()))}disconnect(){this.sendSinglePackage(0,oe.NetworkDataType.DISCONNECT),y.networkState.set(y.NetworkState.DISCONNECTED);for(let r=0;r<this.peers.length;r++){const n=this.peers[r];n.destroy(),n.removeAllListeners()}this.connection.disconnect(),this.peers.length=0}destroy(){y.networkState.value()!==y.NetworkState.DESTROYED?(y.networkState.set(y.NetworkState.DESTROYED),this.disconnect()):console.error("NetworkLayer is already destroyed")}log(...r){$.log(`[${this.clientId}]:`,...r)}handleExitPage(r){this.destroy()}handleBlur(){if(!this.connection.connected||_.disableDisconnect)return;this.disconnectDebouncer&&clearTimeout(this.disconnectDebouncer);let r=3e4;document.hidden&&(r=4e3,s.default.isTouchDevice()&&(r=500)),this.disconnectDebouncer=setTimeout(()=>{this.disconnect()},r)}handleFocus(r){this.disconnectDebouncer&&clearTimeout(this.disconnectDebouncer)}async rpcCall(r,n){return new Promise((a,i)=>{this.connection.emit(r,n,r=>{a(r)})})}get roomId(){return this._connectedRoomId}get clientId(){return this._clientId}get isHost(){return this._isHost}get connected(){return this.connection.connected}disconnectClient(r){const n=this.peers.slice();for(let a=0;a<n.length;a++){const i=n[a];i.id===r&&i.state!==pe.PeerState.DESTROYED&&i.destroy()}}removeClient(r){const n=this.peers.slice();for(let a=0;a<n.length;a++)if(n[a].id===r){const n=this.peers.splice(a,1);console.log("RemovePeer",a,r,n[0].id)}}disconnectClients(){const r=new Uint8Array(0);this.sendSinglePackage(0,oe.NetworkDataType.DISCONNECT,r.buffer);for(let r=0;r<this.peers.length;r++)this.peers[r].destroy();this.peers.length=0}sendSignal(r,n){this.log("Send Signal Data to",r,n),this.connection.emit("signal",{clientId:r,signal:n})}async handleConnect(){this._clientId=E.default(this.connection.id),this.thisClientMeta=new oe.ClientMetadata,this.thisClientMeta.clientId=this._clientId,this.thisClientMeta.username=q.getPlayerMetadata().username,this.thisClientMeta.playerAvatar=q.getPlayerMetadata().avatarModel;const r=o.getLoginToken(),n=o.getRID(),a=await this.rpcCall("authenticate",{metadata:this.thisClientMeta,authToken:r,rid:n});if(this.log("AuthResponse",a),200!==a.status)return this.disconnect(),void alert(a.message);this._clientId=a.data.clientId,this.thisClientMeta.clientId=this._clientId,this.log("Connected to signaller service",this.connection.id,this._clientId),this._connectedRoomId&&(await this.connectRoom(this._connectedRoomId),this.log("Reconnected to room: ",this.roomId))}handleDisconnect(){this.log("Disconnected from signaller service"),y.networkState.value()!==y.NetworkState.DESTROYED&&y.networkState.set(y.NetworkState.DISCONNECTED)}handleSignal(r){const n=this.peers.find(n=>n.id===r.clientId);n?(this.log("Received Signal Data from",r.clientId,r.data),n.signal(r.data)):console.warn("Got signal from unknown peer???")}handleSetupHost(){this.disconnectClients(),this._isHost=!0,this.log("Setup as Host"),y.reconnectionAttempts.set(0),y.networkState.set(y.NetworkState.CONNECTED),this.emit("setup","host")}handleSetupClient(){this.disconnectClients(),this._isHost=!1,this.log("Setup as Client"),this.emit("setup","client")}handleStartMigration(){this.log("Starting host migration..."),y.networkState.set(y.NetworkState.MIGRATION)}handleDuplicatedConnection(){this.disconnect(),alert("Disconnected: This client connected from somewhere else")}handleClientLeftRoom(r){this.log("Client left room "+r),this.disconnectClient(r),this.removeClient(r),this.emit("playerLeft",r);let n=-1;for(let a=0;a<this.clientMetas.length;a++)this.clientMetas[a].clientId===r&&(n=a);n>-1?this.clientMetas.splice(n,1):console.warn("Client that didnt exist left room???",r)}handleClientMetadata(r){this.log("Got client meta from "+r.username,r),this.clientMetas.push(r),this.emit("playerJoined",r.clientId)}handleRemovePeer(r){this.log("Got remove client message...",r),this.disconnectClient(r),this.removeClient(r)}async handleAddPeer(r){this.log("Add Peer",r);const n=this.peers.find(n=>n.id===r.clientId);let a=!1;!this.isHost&&y.reconnectionAttempts.value()>1&&(console.log("=====Forcing turn!!!====="),a=!0),n&&(console.warn("Destroying existing peer with this id",r.clientId," in state",pe.PeerState[n.state]),this.disconnectClient(r.clientId),this.removeClient(r.clientId));const i=new pe.WebRTCPeer(r.clientId,r.rtcConfiguration,a),o=r.clientId;r.initiate&&i.initiate(),i.on("connect",()=>{this.log("Connection created with",o),this.isHost||(y.reconnectionAttempts.set(0),y.networkState.set(y.NetworkState.CONNECTED),this.connection.emit("connectedAck",{clientId:o})),this.emit("peerConnected",o)}),i.on("close",()=>{this.log("Connection closed with",o)}),i.on("end",()=>{this.log("Connection ended with",o),console.warn("ConnectionEnded",o),this.removeClient(o),this.emit("peerDisconnected",o),this.isHost||y.networkState.value()===y.NetworkState.DISCONNECTED||(y.networkState.set(y.NetworkState.DISCONNECT_FROM_PEER),setTimeout(()=>{this.connection.connected&&this.tryReconnect()},1e3))}),i.on("error",r=>{$.warn(`[${this.clientId}]: Connection errored with`,o,r)}),i.on("data",(r,n)=>{this.handleData(o,r,n)}),i.on("signal",n=>{this.sendSignal(r.clientId,n)}),this.peers.push(i)}handleData(r,n,a){if(this.stats.packetsIn(n.byteLength),this.incomingDataByteIndex+n.byteLength>this.BUFFER_SIZE_BYTES)return console.error("Incoming data doesn't fit in buffer, did we stop processing packets?"),void this.disconnect();this.incomingDataBuffer.set(n,this.incomingDataByteIndex);const i=this.deserializer;i.setOffset(this.incomingDataByteIndex);const o=i.readU32(),s=i.readU32(),y=this.deserializer.readU8();if(this.isHost){const r=a===oe.NetworkChannelType.UNRELIABLE?this.serializerUnreliable:this.serializerReliable;if(r.getOffset()+n.byteLength-4>r.buffer.byteLength)return void this.disconnect();r.writeArray(n.subarray(4,n.byteLength)),a===oe.NetworkChannelType.UNRELIABLE?this.unreliablePacketQueueCount+=o:this.reliablePacketQueueCount+=o}return this.incomingDataByteIndex+=n.byteLength,this.incomingPacketCount++,y===oe.NetworkDataType.DISCONNECT?(this.log("Got disconnect packet from",r,s),void this.disconnectClient(s)):void 0}async createRoom(){y.reconnectionAttempts.set(1),y.networkState.set(y.NetworkState.CONNECTING),await this.brokerConnectPromise;const r=i.entityManager.getOrCreateSingleton(j.default),n=await this.rpcCall("createRoom",{projectId:r.projectId,maxPlayerCount:_.maxPlayerCount||6});if(this.log("Created room",n,r),200!==n.status||"string"!=typeof n.data.roomId)throw Error("Failed creating room");return this._connectedRoomId=n.data.roomId,this._connectedRoomId}async connectRoom(r){y.reconnectionAttempts.set(1),y.networkState.set(y.NetworkState.CONNECTING),await this.brokerConnectPromise;const n=i.entityManager.getOrCreateSingleton(j.default);this.clientMetas.length=0;const a=await this.rpcCall("joinRoom",{roomId:r,projectId:n.projectId});if(200!==a.status)throw Error("Failed joining: "+a.data);return this.log("Joined room",a),this._connectedRoomId=r,!0}async disconnectRoom(){return this.disconnectClients(),200===(await this.rpcCall("leaveRoom")).status}sendSinglePackage(r,n,a,i=oe.NetworkChannelType.UNRELIABLE,o){const s=this.serializerSingle;s.setOffset(0),s.writeU32(1);const y=s.getOffset();s.writeU32(this.clientId);const _=s.getOffset();s.writeU32(0),s.writeU8(n),a instanceof ArrayBuffer?s.writeArrayBuffer(a):a&&a.serializeTo(s),s.flushBits(),s.uint32Buffer[_/4]=s.getOffset()-y;const w=s.getTrimmedBuffer();let E=0;for(let r=0;r<this.peers.length;r++){const n=this.peers[r];if(o){if(o===n.id){n.send(i,w),E++;break}}else n.send(i,w),E++}return this.stats.packetsOut(s.getOffset(),E),E>0}queuePackage(r,n,a,i=oe.NetworkChannelType.UNRELIABLE){const o=i===oe.NetworkChannelType.UNRELIABLE?this.serializerUnreliable:this.serializerReliable;o.writeAlignWord();const s=o.getOffset();o.writeU32(this.clientId);const y=o.getOffset();return o.writeU32(0),o.writeU8(n),a instanceof ArrayBuffer?o.writeArrayBuffer(a):a&&a.serializeTo(o),o.flushBits(),o.uint32Buffer[y/4]=o.getOffset()-s,i===oe.NetworkChannelType.UNRELIABLE?this.unreliablePacketQueueCount++:this.reliablePacketQueueCount++,!0}sendPackages(){this.serializerReliable.flushBits(),this.serializerUnreliable.flushBits();const r=this.serializerReliable.getOffset()>this.headerSizeBytes,n=this.serializerUnreliable.getOffset()>this.headerSizeBytes;this.serializerReliable.uint32Buffer[0]=this.reliablePacketQueueCount,this.serializerUnreliable.uint32Buffer[0]=this.unreliablePacketQueueCount;const a=r&&this.serializerReliable.getTrimmedBuffer()||null,i=n&&this.serializerUnreliable.getTrimmedBuffer()||null;let o=0,s=0;for(let y=0;y<this.peers.length;y++){const _=this.peers[y];r&&(_.send(oe.NetworkChannelType.RELIABLE,a),o++,s+=a.byteLength),n&&(_.send(oe.NetworkChannelType.UNRELIABLE,i),o++,s+=i.byteLength)}return this.stats.packetsOut(s,o),this.serializerReliable.setOffset(this.headerSizeBytes),this.serializerUnreliable.setOffset(this.headerSizeBytes),this.reliablePacketQueueCount=0,this.unreliablePacketQueueCount=0,o>0}pollNumPackages(){return this.packetQueue.length}retrievePackage(){return null}*incomingPackages(){if(0===this.incomingDataByteIndex)return;const r=this.deserializer;r.setOffset(0);for(let n=0;n<this.incomingPacketCount;n++){r.readAlignWord();const n=r.readU32();if(n>255)break;for(let a=0;a<n;a++){r.readAlignWord();const n=r.getOffset(),a=r.readU32(),i=r.readU32(),o=r.readU8();let s=!1;for(let r=0;r<this.clientMetas.length;r++)this.clientMetas[r].clientId===a&&(s=!0);if(s&&a!==this.clientId){if(void 0===oe.NetworkDataType[o])break;if(o===oe.NetworkDataType.UNKNOWN){console.log("Got unknown packet???");break}this.tempPacketIncoming.clientId=a,this.tempPacketIncoming.tickNumber=0,this.tempPacketIncoming.offset=r.getOffset(),this.tempPacketIncoming.deserializer=r,this.tempPacketIncoming.type=o,yield this.tempPacketIncoming,r.setOffset(n+i)}else r.setOffset(n+i)}}this.incomingPacketCount=0,this.incomingDataByteIndex=0,this.incomingDataBuffer.fill(0)}}n.NetworkLayer=NetworkLayer},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isTryingToConnect=n.reconnectionAttempts=n.networkState=n.NetworkState=void 0;const i=a(227);var o;!function(r){r[r.INITIAL=0]="INITIAL",r[r.CONNECTING=1]="CONNECTING",r[r.DISCONNECTED=2]="DISCONNECTED",r[r.DISCONNECT_FROM_PEER=3]="DISCONNECT_FROM_PEER",r[r.RECONNECTING=4]="RECONNECTING",r[r.MIGRATION=5]="MIGRATION",r[r.CONNECTED=6]="CONNECTED",r[r.DESTROYED=7]="DESTROYED",r[r.FAILED_TO_RECONNECT=8]="FAILED_TO_RECONNECT",r[r.NOT_SUPPORTED=9]="NOT_SUPPORTED"}(o=n.NetworkState||(n.NetworkState={})),n.networkState=new i.Observable(o.INITIAL),n.reconnectionAttempts=new i.Observable(0),n.isTryingToConnect=i.Computed1(n.networkState,r=>{const n=r===o.CONNECTING,a=r===o.DISCONNECT_FROM_PEER,i=r===o.MIGRATION,s=r===o.RECONNECTING||a;return n||s||i})},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Computed3=n.Computed=n.Computed1=n.ObservableList=n.Observable=void 0;const i=a(222);class Observable{constructor(r){this.changed=new i.Event,this.innerValue=r}set(r){this.innerValue!==r&&(this.innerValue=r,this.changed.emit(r))}setAndReTrigger(r){this.innerValue=r,this.changed.emit(r)}value(){return this.innerValue}subscribe(r){return this.changed.on(r),{unsubscribe:()=>this.unsubscribe(r)}}unsubscribe(r){this.changed.off(r)}}n.Observable=Observable,n.ObservableList=class ObservableList{constructor(r){this.event=new i.Event,this.list=new Proxy(r,{})}push(r){this.list.push(r),this.event.emit(this.list)}value(){return this.list}subscribe(r){return this.event.on(r),{unsubscribe:()=>this.unsubscribe(r)}}unsubscribe(r){this.event.off(r)}},n.Computed1=function Computed1(r,n){const a=new Observable(n(r.value()));return r.subscribe(r=>{a.set(n(r))}),a},n.Computed=function Computed(r,n,a){const i=new Observable(a(r.value(),n.value()));return r.subscribe(r=>{i.set(a(r,n.value()))}),n.subscribe(n=>{i.set(a(r.value(),n))}),i},n.Computed3=function Computed3(r,n,a,i){const o=new Observable(i(r.value(),n.value(),a.value()));return r.subscribe(r=>{o.set(i(r,n.value(),a.value()))}),n.subscribe(n=>{o.set(i(r.value(),n,a.value()))}),a.subscribe(a=>{o.set(i(r.value(),n.value(),a))}),o}},function(r,n,a){var i=a(229),o=a(234),s=a(242),y=a(231)("socket.io-client");r.exports=n=lookup;var _=n.managers={};function lookup(r,n){"object"==typeof r&&(n=r,r=void 0),n=n||{};var a,o=i(r),w=o.source,E=o.id,j=o.path,q=_[E]&&j in _[E].nsps;return n.forceNew||n["force new connection"]||!1===n.multiplex||q?(y("ignoring socket cache for %s",w),a=s(w,n)):(_[E]||(y("new io instance for %s",w),_[E]=s(w,n)),a=_[E]),o.query&&!n.query&&(n.query=o.query),a.socket(o.path,n)}n.protocol=o.protocol,n.connect=lookup,n.Manager=a(242),n.Socket=a(272)},function(r,n,a){var i=a(230),o=a(231)("socket.io-client:url");r.exports=function url(r,n){var a=r;n=n||"undefined"!=typeof location&&location,null==r&&(r=n.protocol+"//"+n.host),"string"==typeof r&&("/"===r.charAt(0)&&(r="/"===r.charAt(1)?n.protocol+r:n.host+r),/^(https?|wss?):\/\//.test(r)||(o("protocol-less url %s",r),r=void 0!==n?n.protocol+"//"+r:"https://"+r),o("parse %s",r),a=i(r)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";var s=-1!==a.host.indexOf(":")?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+s+":"+a.port,a.href=a.protocol+"://"+s+(n&&n.port===a.port?"":":"+a.port),a}},function(r,n){var a=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];r.exports=function parseuri(r){var n=r,o=r.indexOf("["),s=r.indexOf("]");-1!=o&&-1!=s&&(r=r.substring(0,o)+r.substring(o,s).replace(/:/g,";")+r.substring(s,r.length));for(var y=a.exec(r||""),_={},w=14;w--;)_[i[w]]=y[w]||"";return-1!=o&&-1!=s&&(_.source=n,_.host=_.host.substring(1,_.host.length-1).replace(/;/g,":"),_.authority=_.authority.replace("[","").replace("]","").replace(/;/g,":"),_.ipv6uri=!0),_}},function(r,n,a){!function(i){n.log=function log(...r){return"object"==typeof console&&console.log&&console.log(...r)},n.formatArgs=function formatArgs(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const a="color: "+this.color;n.splice(1,0,a,"color: inherit");let i=0,o=0;n[0].replace(/%[a-zA-Z%]/g,r=>{"%%"!==r&&(i++,"%c"===r&&(o=i))}),n.splice(o,0,a)},n.save=function save(r){try{r?n.storage.setItem("debug",r):n.storage.removeItem("debug")}catch(r){}},n.load=function load(){let r;try{r=n.storage.getItem("debug")}catch(r){}return!r&&void 0!==i&&"env"in i&&(r=i.env.DEBUG),r},n.useColors=function useColors(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage=function localstorage(){try{return localStorage}catch(r){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.exports=a(232)(n);const{formatters:o}=r.exports;o.j=function(r){try{return JSON.stringify(r)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}}}(a(2))},function(r,n,a){r.exports=function setup(r){function selectColor(r){let n=0;for(let a=0;a<r.length;a++)n=(n<<5)-n+r.charCodeAt(a),n|=0;return createDebug.colors[Math.abs(n)%createDebug.colors.length]}function createDebug(r){let n;function debug(...r){if(!debug.enabled)return;const a=debug,i=+new Date,o=i-(n||i);a.diff=o,a.prev=n,a.curr=i,n=i,r[0]=createDebug.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");let s=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;s++;const o=createDebug.formatters[i];if("function"==typeof o){const i=r[s];n=o.call(a,i),r.splice(s,1),s--}return n}),createDebug.formatArgs.call(a,r),(a.log||createDebug.log).apply(a,r)}return debug.namespace=r,debug.enabled=createDebug.enabled(r),debug.useColors=createDebug.useColors(),debug.color=selectColor(r),debug.destroy=destroy,debug.extend=extend,"function"==typeof createDebug.init&&createDebug.init(debug),createDebug.instances.push(debug),debug}function destroy(){const r=createDebug.instances.indexOf(this);return-1!==r&&(createDebug.instances.splice(r,1),!0)}function extend(r,n){const a=createDebug(this.namespace+(void 0===n?":":n)+r);return a.log=this.log,a}function toNamespace(r){return r.toString().substring(2,r.toString().length-2).replace(/\.\*\?$/,"*")}return createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function coerce(r){return r instanceof Error?r.stack||r.message:r},createDebug.disable=function disable(){const r=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map(r=>"-"+r)].join(",");return createDebug.enable(""),r},createDebug.enable=function enable(r){let n;createDebug.save(r),createDebug.names=[],createDebug.skips=[];const a=("string"==typeof r?r:"").split(/[\s,]+/),i=a.length;for(n=0;n<i;n++)a[n]&&("-"===(r=a[n].replace(/\*/g,".*?"))[0]?createDebug.skips.push(RegExp("^"+r.substr(1)+"$")):createDebug.names.push(RegExp("^"+r+"$")));for(n=0;n<createDebug.instances.length;n++){const r=createDebug.instances[n];r.enabled=createDebug.enabled(r.namespace)}},createDebug.enabled=function enabled(r){if("*"===r[r.length-1])return!0;let n,a;for(n=0,a=createDebug.skips.length;n<a;n++)if(createDebug.skips[n].test(r))return!1;for(n=0,a=createDebug.names.length;n<a;n++)if(createDebug.names[n].test(r))return!0;return!1},createDebug.humanize=a(233),Object.keys(r).forEach(n=>{createDebug[n]=r[n]}),createDebug.instances=[],createDebug.names=[],createDebug.skips=[],createDebug.formatters={},createDebug.selectColor=selectColor,createDebug.enable(createDebug.load()),createDebug}},function(r,n){var a=1e3,i=6e4,o=60*i,s=24*o;function plural(r,n,a,i){var o=n>=1.5*a;return Math.round(r/a)+" "+i+(o?"s":"")}r.exports=function(r,n){n=n||{};var y=typeof r;if("string"===y&&r.length>0)return function parse(r){if(!((r+="").length>100)){var n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(n){var y=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*y;case"weeks":case"week":case"w":return 6048e5*y;case"days":case"day":case"d":return y*s;case"hours":case"hour":case"hrs":case"hr":case"h":return y*o;case"minutes":case"minute":case"mins":case"min":case"m":return y*i;case"seconds":case"second":case"secs":case"sec":case"s":return y*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}(r);if("number"===y&&isFinite(r))return n.long?function fmtLong(r){var n=Math.abs(r);return n>=s?plural(r,n,s,"day"):n>=o?plural(r,n,o,"hour"):n>=i?plural(r,n,i,"minute"):n>=a?plural(r,n,a,"second"):r+" ms"}(r):function fmtShort(r){var n=Math.abs(r);return n>=s?Math.round(r/s)+"d":n>=o?Math.round(r/o)+"h":n>=i?Math.round(r/i)+"m":n>=a?Math.round(r/a)+"s":r+"ms"}(r);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},function(r,n,a){var i=a(235)("socket.io-parser"),o=a(238),s=a(239),y=a(240),_=a(241);function Encoder(){}n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=Encoder,n.Decoder=Decoder;var w=n.ERROR+'"encode error"';function encodeAsString(r){var a=""+r.type;if(n.BINARY_EVENT!==r.type&&n.BINARY_ACK!==r.type||(a+=r.attachments+"-"),r.nsp&&"/"!==r.nsp&&(a+=r.nsp+","),null!=r.id&&(a+=r.id),null!=r.data){var o=function tryStringify(r){try{return JSON.stringify(r)}catch(r){return!1}}(r.data);if(!1===o)return w;a+=o}return i("encoded %j as %s",r,a),a}function Decoder(){this.reconstructor=null}function BinaryReconstructor(r){this.reconPack=r,this.buffers=[]}function error(r){return{type:n.ERROR,data:"parser error: "+r}}Encoder.prototype.encode=function(r,a){i("encoding packet %j",r),n.BINARY_EVENT===r.type||n.BINARY_ACK===r.type?function encodeAsBinary(r,n){s.removeBlobs(r,(function writeEncoding(r){var a=s.deconstructPacket(r),i=encodeAsString(a.packet),o=a.buffers;o.unshift(i),n(o)}))}(r,a):a([encodeAsString(r)])},o(Decoder.prototype),Decoder.prototype.add=function(r){var a;if("string"==typeof r)a=function decodeString(r){var a=0,o={type:+r.charAt(0)};if(null==n.types[o.type])return error("unknown packet type "+o.type);if(n.BINARY_EVENT===o.type||n.BINARY_ACK===o.type){for(var s=a+1;"-"!==r.charAt(++a)&&a!=r.length;);var _=r.substring(s,a);if(_!=+_||"-"!==r.charAt(a))throw Error("Illegal attachments");o.attachments=+_}if("/"===r.charAt(a+1)){for(s=a+1;++a&&","!==(E=r.charAt(a))&&a!==r.length;);o.nsp=r.substring(s,a)}else o.nsp="/";var w=r.charAt(a+1);if(""!==w&&+w==w){for(s=a+1;++a;){var E;if(null==(E=r.charAt(a))||+E!=E){--a;break}if(a===r.length)break}o.id=+r.substring(s,a+1)}if(r.charAt(++a)){var j=function tryParse(r){try{return JSON.parse(r)}catch(r){return!1}}(r.substr(a));if(!1===j||o.type!==n.ERROR&&!y(j))return error("invalid payload");o.data=j}return i("decoded %s as %j",r,o),o}(r),n.BINARY_EVENT===a.type||n.BINARY_ACK===a.type?(this.reconstructor=new BinaryReconstructor(a),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",a)):this.emit("decoded",a);else{if(!_(r)&&!r.base64)throw Error("Unknown type: "+r);if(!this.reconstructor)throw Error("got binary data when not reconstructing a packet");(a=this.reconstructor.takeBinaryData(r))&&(this.reconstructor=null,this.emit("decoded",a))}},Decoder.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},BinaryReconstructor.prototype.takeBinaryData=function(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){var n=s.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null},BinaryReconstructor.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(r,n,a){!function(i){function load(){var r;try{r=n.storage.debug}catch(r){}return!r&&void 0!==i&&"env"in i&&(r=i.env.DEBUG),r}(n=r.exports=a(236)).log=function log(){return"object"==typeof console&&console.log&&function(){}.apply.call(console.log,console,arguments)},n.formatArgs=function formatArgs(r){var a=this.useColors;if(r[0]=(a?"%c":"")+this.namespace+(a?" %c":" ")+r[0]+(a?"%c ":" ")+"+"+n.humanize(this.diff),a){var i="color: "+this.color;r.splice(1,0,i,"color: inherit");var o=0,s=0;r[0].replace(/%[a-zA-Z%]/g,(function(r){"%%"!==r&&(o++,"%c"===r&&(s=o))})),r.splice(s,0,i)}},n.save=function save(r){try{null==r?n.storage.removeItem("debug"):n.storage.debug=r}catch(r){}},n.load=load,n.useColors=function useColors(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function localstorage(){try{return window.localStorage}catch(r){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.formatters.j=function(r){try{return JSON.stringify(r)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}},n.enable(load())}(a(2))},function(r,n,a){function createDebug(r){var a;function debug(){if(debug.enabled){var r=debug,i=+new Date,o=i-(a||i);r.diff=o,r.prev=a,r.curr=i,a=i;for(var s=Array(arguments.length),y=0;y<s.length;y++)s[y]=arguments[y];s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var _=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(a,i){if("%%"===a)return a;_++;var o=n.formatters[i];if("function"==typeof o){var y=s[_];a=o.call(r,y),s.splice(_,1),_--}return a})),n.formatArgs.call(r,s);var w=debug.log||n.log||console.log.bind(console);w.apply(r,s)}}return debug.namespace=r,debug.enabled=n.enabled(r),debug.useColors=n.useColors(),debug.color=function selectColor(r){var a,i=0;for(a in r)i=(i<<5)-i+r.charCodeAt(a),i|=0;return n.colors[Math.abs(i)%n.colors.length]}(r),debug.destroy=destroy,"function"==typeof n.init&&n.init(debug),n.instances.push(debug),debug}function destroy(){var r=n.instances.indexOf(this);return-1!==r&&(n.instances.splice(r,1),!0)}(n=r.exports=createDebug.debug=createDebug.default=createDebug).coerce=function coerce(r){return r instanceof Error?r.stack||r.message:r},n.disable=function disable(){n.enable("")},n.enable=function enable(r){var a;n.save(r),n.names=[],n.skips=[];var i=("string"==typeof r?r:"").split(/[\s,]+/),o=i.length;for(a=0;a<o;a++)i[a]&&("-"===(r=i[a].replace(/\*/g,".*?"))[0]?n.skips.push(RegExp("^"+r.substr(1)+"$")):n.names.push(RegExp("^"+r+"$")));for(a=0;a<n.instances.length;a++){var s=n.instances[a];s.enabled=n.enabled(s.namespace)}},n.enabled=function enabled(r){if("*"===r[r.length-1])return!0;var a,i;for(a=0,i=n.skips.length;a<i;a++)if(n.skips[a].test(r))return!1;for(a=0,i=n.names.length;a<i;a++)if(n.names[a].test(r))return!0;return!1},n.humanize=a(237),n.instances=[],n.names=[],n.skips=[],n.formatters={}},function(r,n){var a=1e3,i=6e4,o=60*i,s=24*o;function plural(r,n,a){if(!(r<n))return r<1.5*n?Math.floor(r/n)+" "+a:Math.ceil(r/n)+" "+a+"s"}r.exports=function(r,n){n=n||{};var y=typeof r;if("string"===y&&r.length>0)return function parse(r){if(!((r+="").length>100)){var n=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(r);if(n){var y=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*y;case"days":case"day":case"d":return y*s;case"hours":case"hour":case"hrs":case"hr":case"h":return y*o;case"minutes":case"minute":case"mins":case"min":case"m":return y*i;case"seconds":case"second":case"secs":case"sec":case"s":return y*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}(r);if("number"===y&&!1===isNaN(r))return n.long?function fmtLong(r){return plural(r,s,"day")||plural(r,o,"hour")||plural(r,i,"minute")||plural(r,a,"second")||r+" ms"}(r):function fmtShort(r){return r>=s?Math.round(r/s)+"d":r>=o?Math.round(r/o)+"h":r>=i?Math.round(r/i)+"m":r>=a?Math.round(r/a)+"s":r+"ms"}(r);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},function(r,n,a){function Emitter(r){if(r)return function mixin(r){for(var n in Emitter.prototype)r[n]=Emitter.prototype[n];return r}(r)}r.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},Emitter.prototype.once=function(r,n){function on(){this.off(r,on),n.apply(this,arguments)}return on.fn=n,this.on(r,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var a,i=this._callbacks["$"+r];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+r],this;for(var o=0;o<i.length;o++)if((a=i[o])===n||a.fn===n){i.splice(o,1);break}return 0===i.length&&delete this._callbacks["$"+r],this},Emitter.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=Array(arguments.length-1),a=this._callbacks["$"+r],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(a){i=0;for(var o=(a=a.slice(0)).length;i<o;++i)a[i].apply(this,n)}return this},Emitter.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},Emitter.prototype.hasListeners=function(r){return!!this.listeners(r).length}},function(r,n,a){var i=a(240),o=a(241),s={}.toString,y="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),_="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File);n.deconstructPacket=function(r){var n=[],a=r.data,s=r;return s.data=function _deconstructPacket(r,n){if(!r)return r;if(o(r)){var a={_placeholder:!0,num:n.length};return n.push(r),a}if(i(r)){for(var s=Array(r.length),y=0;y<r.length;y++)s[y]=_deconstructPacket(r[y],n);return s}if("object"==typeof r&&!(r instanceof Date)){for(var _ in s={},r)s[_]=_deconstructPacket(r[_],n);return s}return r}(a,n),s.attachments=n.length,{packet:s,buffers:n}},n.reconstructPacket=function(r,n){return r.data=function _reconstructPacket(r,n){if(!r)return r;if(r&&r._placeholder)return n[r.num];if(i(r))for(var a=0;a<r.length;a++)r[a]=_reconstructPacket(r[a],n);else if("object"==typeof r)for(var o in r)r[o]=_reconstructPacket(r[o],n);return r}(r.data,n),r.attachments=void 0,r},n.removeBlobs=function(r,n){var a=0,s=r;!function _removeBlobs(r,w,E){if(!r)return r;if(y&&r instanceof Blob||_&&r instanceof File){a++;var j=new FileReader;j.onload=function(){E?E[w]=this.result:s=this.result,--a||n(s)},j.readAsArrayBuffer(r)}else if(i(r))for(var q=0;q<r.length;q++)_removeBlobs(r[q],q,r);else if("object"==typeof r&&!o(r))for(var $ in r)_removeBlobs(r[$],$,r)}(s),a||n(s)}},function(r,n){var a={}.toString;r.exports=Array.isArray||function(r){return"[object Array]"==a.call(r)}},function(r,n,a){!function(n){r.exports=function isBuf(r){return a&&n.isBuffer(r)||i&&(r instanceof ArrayBuffer||function(r){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer}(r))};var a="function"==typeof n&&"function"==typeof n.isBuffer,i="function"==typeof ArrayBuffer}(a(127).Buffer)},function(r,n,a){var i=a(243),o=a(272),s=a(273),y=a(234),_=a(275),w=a(276),E=a(231)("socket.io-client:manager"),j=a(271),q=a(277),$={}.hasOwnProperty;function Manager(r,n){if(!(this instanceof Manager))return new Manager(r,n);r&&"object"==typeof r&&(n=r,r=void 0),(n=n||{}).path=n.path||"/socket.io",this.nsps={},this.subs=[],this.opts=n,this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(n.randomizationFactor||.5),this.backoff=new q({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this.readyState="closed",this.uri=r,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var a=n.parser||y;this.encoder=new a.Encoder,this.decoder=new a.Decoder,this.autoConnect=!1!==n.autoConnect,this.autoConnect&&this.open()}r.exports=Manager,Manager.prototype.emitAll=function(){for(var r in this.emit.apply(this,arguments),this.nsps)$.call(this.nsps,r)&&this.nsps[r].emit.apply(this.nsps[r],arguments)},Manager.prototype.updateSocketIds=function(){for(var r in this.nsps)$.call(this.nsps,r)&&(this.nsps[r].id=this.generateId(r))},Manager.prototype.generateId=function(r){return("/"===r?"":r+"#")+this.engine.id},s(Manager.prototype),Manager.prototype.reconnection=function(r){return arguments.length?(this._reconnection=!!r,this):this._reconnection},Manager.prototype.reconnectionAttempts=function(r){return arguments.length?(this._reconnectionAttempts=r,this):this._reconnectionAttempts},Manager.prototype.reconnectionDelay=function(r){return arguments.length?(this._reconnectionDelay=r,this.backoff&&this.backoff.setMin(r),this):this._reconnectionDelay},Manager.prototype.randomizationFactor=function(r){return arguments.length?(this._randomizationFactor=r,this.backoff&&this.backoff.setJitter(r),this):this._randomizationFactor},Manager.prototype.reconnectionDelayMax=function(r){return arguments.length?(this._reconnectionDelayMax=r,this.backoff&&this.backoff.setMax(r),this):this._reconnectionDelayMax},Manager.prototype.timeout=function(r){return arguments.length?(this._timeout=r,this):this._timeout},Manager.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},Manager.prototype.open=Manager.prototype.connect=function(r,n){if(E("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;E("opening %s",this.uri),this.engine=i(this.uri,this.opts);var a=this.engine,o=this;this.readyState="opening",this.skipReconnect=!1;var s=_(a,"open",(function(){o.onopen(),r&&r()})),y=_(a,"error",(function(n){if(E("connect_error"),o.cleanup(),o.readyState="closed",o.emitAll("connect_error",n),r){var a=Error("Connection error");a.data=n,r(a)}else o.maybeReconnectOnOpen()}));if(!1!==this._timeout){var w=this._timeout;E("connect attempt will timeout after %d",w);var j=setTimeout((function(){E("connect attempt timed out after %d",w),s.destroy(),a.close(),a.emit("error","timeout"),o.emitAll("connect_timeout",w)}),w);this.subs.push({destroy(){clearTimeout(j)}})}return this.subs.push(s),this.subs.push(y),this},Manager.prototype.onopen=function(){E("open"),this.cleanup(),this.readyState="open",this.emit("open");var r=this.engine;this.subs.push(_(r,"data",w(this,"ondata"))),this.subs.push(_(r,"ping",w(this,"onping"))),this.subs.push(_(r,"pong",w(this,"onpong"))),this.subs.push(_(r,"error",w(this,"onerror"))),this.subs.push(_(r,"close",w(this,"onclose"))),this.subs.push(_(this.decoder,"decoded",w(this,"ondecoded")))},Manager.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},Manager.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},Manager.prototype.ondata=function(r){this.decoder.add(r)},Manager.prototype.ondecoded=function(r){this.emit("packet",r)},Manager.prototype.onerror=function(r){E("error",r),this.emitAll("error",r)},Manager.prototype.socket=function(r,n){var a=this.nsps[r];if(!a){a=new o(this,r,n),this.nsps[r]=a;var i=this;a.on("connecting",onConnecting),a.on("connect",(function(){a.id=i.generateId(r)})),this.autoConnect&&onConnecting()}function onConnecting(){~j(i.connecting,a)||i.connecting.push(a)}return a},Manager.prototype.destroy=function(r){var n=j(this.connecting,r);~n&&this.connecting.splice(n,1),this.connecting.length||this.close()},Manager.prototype.packet=function(r){E("writing packet %j",r);var n=this;r.query&&0===r.type&&(r.nsp+="?"+r.query),n.encoding?n.packetBuffer.push(r):(n.encoding=!0,this.encoder.encode(r,(function(a){for(var i=0;i<a.length;i++)n.engine.write(a[i],r.options);n.encoding=!1,n.processPacketQueue()})))},Manager.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var r=this.packetBuffer.shift();this.packet(r)}},Manager.prototype.cleanup=function(){E("cleanup");for(var r=this.subs.length,n=0;n<r;n++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},Manager.prototype.close=Manager.prototype.disconnect=function(){E("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},Manager.prototype.onclose=function(r){E("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",r),this._reconnection&&!this.skipReconnect&&this.reconnect()},Manager.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var r=this;if(this.backoff.attempts>=this._reconnectionAttempts)E("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var n=this.backoff.duration();E("will wait %dms before reconnect attempt",n),this.reconnecting=!0;var a=setTimeout((function(){r.skipReconnect||(E("attempting reconnect"),r.emitAll("reconnect_attempt",r.backoff.attempts),r.emitAll("reconnecting",r.backoff.attempts),r.skipReconnect||r.open((function(n){n?(E("reconnect attempt error"),r.reconnecting=!1,r.reconnect(),r.emitAll("reconnect_error",n.data)):(E("reconnect success"),r.onreconnect())})))}),n);this.subs.push({destroy(){clearTimeout(a)}})}},Manager.prototype.onreconnect=function(){var r=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",r)}},function(r,n,a){r.exports=a(244),r.exports.parser=a(252)},function(r,n,a){var i=a(245),o=a(261),s=a(265)("engine.io-client:socket"),y=a(271),_=a(252),w=a(230),E=a(262);function Socket(r,n){if(!(this instanceof Socket))return new Socket(r,n);n=n||{},r&&"object"==typeof r&&(n=r,r=null),r?(r=w(r),n.hostname=r.host,n.secure="https"===r.protocol||"wss"===r.protocol,n.port=r.port,r.query&&(n.query=r.query)):n.host&&(n.hostname=w(n.host).host),this.secure=null!=n.secure?n.secure:"undefined"!=typeof location&&"https:"===location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=n.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=E.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.withCredentials=!1!==n.withCredentials,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.transportOptions=n.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized||n.rejectUnauthorized,this.forceNode=!!n.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),n.localAddress&&(this.localAddress=n.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}r.exports=Socket,Socket.priorWebsocketSuccess=!1,o(Socket.prototype),Socket.protocol=_.protocol,Socket.Socket=Socket,Socket.Transport=a(251),Socket.transports=a(245),Socket.parser=a(252),Socket.prototype.createTransport=function(r){s('creating transport "%s"',r);var n=function clone(r){var n={};for(var a in r)r.hasOwnProperty(a)&&(n[a]=r[a]);return n}(this.query);n.EIO=_.protocol,n.transport=r;var a=this.transportOptions[r]||{};return this.id&&(n.sid=this.id),new i[r]({query:n,socket:this,agent:a.agent||this.agent,hostname:a.hostname||this.hostname,port:a.port||this.port,secure:a.secure||this.secure,path:a.path||this.path,forceJSONP:a.forceJSONP||this.forceJSONP,jsonp:a.jsonp||this.jsonp,forceBase64:a.forceBase64||this.forceBase64,enablesXDR:a.enablesXDR||this.enablesXDR,withCredentials:a.withCredentials||this.withCredentials,timestampRequests:a.timestampRequests||this.timestampRequests,timestampParam:a.timestampParam||this.timestampParam,policyPort:a.policyPort||this.policyPort,pfx:a.pfx||this.pfx,key:a.key||this.key,passphrase:a.passphrase||this.passphrase,cert:a.cert||this.cert,ca:a.ca||this.ca,ciphers:a.ciphers||this.ciphers,rejectUnauthorized:a.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:a.perMessageDeflate||this.perMessageDeflate,extraHeaders:a.extraHeaders||this.extraHeaders,forceNode:a.forceNode||this.forceNode,localAddress:a.localAddress||this.localAddress,requestTimeout:a.requestTimeout||this.requestTimeout,protocols:a.protocols||void 0,isReactNative:this.isReactNative})},Socket.prototype.open=function(){var r;if(this.rememberUpgrade&&Socket.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))r="websocket";else{if(0===this.transports.length){var n=this;return void setTimeout((function(){n.emit("error","No transports available")}),0)}r=this.transports[0]}this.readyState="opening";try{r=this.createTransport(r)}catch(r){return this.transports.shift(),void this.open()}r.open(),this.setTransport(r)},Socket.prototype.setTransport=function(r){s("setting transport %s",r.name);var n=this;this.transport&&(s("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=r,r.on("drain",(function(){n.onDrain()})).on("packet",(function(r){n.onPacket(r)})).on("error",(function(r){n.onError(r)})).on("close",(function(){n.onClose("transport close")}))},Socket.prototype.probe=function(r){s('probing transport "%s"',r);var n=this.createTransport(r,{probe:1}),a=!1,i=this;function onTransportOpen(){if(i.onlyBinaryUpgrades){var o=!this.supportsBinary&&i.transport.supportsBinary;a=a||o}a||(s('probe transport "%s" opened',r),n.send([{type:"ping",data:"probe"}]),n.once("packet",(function(o){if(!a)if("pong"===o.type&&"probe"===o.data){if(s('probe transport "%s" pong',r),i.upgrading=!0,i.emit("upgrading",n),!n)return;Socket.priorWebsocketSuccess="websocket"===n.name,s('pausing current transport "%s"',i.transport.name),i.transport.pause((function(){a||"closed"!==i.readyState&&(s("changing transport and sending upgrade packet"),cleanup(),i.setTransport(n),n.send([{type:"upgrade"}]),i.emit("upgrade",n),n=null,i.upgrading=!1,i.flush())}))}else{s('probe transport "%s" failed',r);var y=Error("probe error");y.transport=n.name,i.emit("upgradeError",y)}})))}function freezeTransport(){a||(a=!0,cleanup(),n.close(),n=null)}function onerror(a){var o=Error("probe error: "+a);o.transport=n.name,freezeTransport(),s('probe transport "%s" failed because of error: %s',r,a),i.emit("upgradeError",o)}function onTransportClose(){onerror("transport closed")}function onclose(){onerror("socket closed")}function onupgrade(r){n&&r.name!==n.name&&(s('"%s" works - aborting "%s"',r.name,n.name),freezeTransport())}function cleanup(){n.removeListener("open",onTransportOpen),n.removeListener("error",onerror),n.removeListener("close",onTransportClose),i.removeListener("close",onclose),i.removeListener("upgrading",onupgrade)}Socket.priorWebsocketSuccess=!1,n.once("open",onTransportOpen),n.once("error",onerror),n.once("close",onTransportClose),this.once("close",onclose),this.once("upgrading",onupgrade),n.open()},Socket.prototype.onOpen=function(){if(s("socket open"),this.readyState="open",Socket.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){s("starting upgrade probes");for(var r=0,n=this.upgrades.length;r<n;r++)this.probe(this.upgrades[r])}},Socket.prototype.onPacket=function(r){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(s('socket receive: type "%s", data "%s"',r.type,r.data),this.emit("packet",r),this.emit("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var n=Error("server error");n.code=r.data,this.onError(n);break;case"message":this.emit("data",r.data),this.emit("message",r.data)}else s('packet received with socket readyState "%s"',this.readyState)},Socket.prototype.onHandshake=function(r){this.emit("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this.upgrades=this.filterUpgrades(r.upgrades),this.pingInterval=r.pingInterval,this.pingTimeout=r.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},Socket.prototype.onHeartbeat=function(r){clearTimeout(this.pingTimeoutTimer);var n=this;n.pingTimeoutTimer=setTimeout((function(){"closed"!==n.readyState&&n.onClose("ping timeout")}),r||n.pingInterval+n.pingTimeout)},Socket.prototype.setPing=function(){var r=this;clearTimeout(r.pingIntervalTimer),r.pingIntervalTimer=setTimeout((function(){s("writing ping packet - expecting pong within %sms",r.pingTimeout),r.ping(),r.onHeartbeat(r.pingTimeout)}),r.pingInterval)},Socket.prototype.ping=function(){var r=this;this.sendPacket("ping",(function(){r.emit("ping")}))},Socket.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},Socket.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(s("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},Socket.prototype.write=Socket.prototype.send=function(r,n,a){return this.sendPacket("message",r,n,a),this},Socket.prototype.sendPacket=function(r,n,a,i){if("function"==typeof n&&(i=n,n=void 0),"function"==typeof a&&(i=a,a=null),"closing"!==this.readyState&&"closed"!==this.readyState){(a=a||{}).compress=!1!==a.compress;var o={type:r,data:n,options:a};this.emit("packetCreate",o),this.writeBuffer.push(o),i&&this.once("flush",i),this.flush()}},Socket.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?waitForUpgrade():close()})):this.upgrading?waitForUpgrade():close()}function close(){r.onClose("forced close"),s("socket closing - telling transport to close"),r.transport.close()}function cleanupAndClose(){r.removeListener("upgrade",cleanupAndClose),r.removeListener("upgradeError",cleanupAndClose),close()}function waitForUpgrade(){r.once("upgrade",cleanupAndClose),r.once("upgradeError",cleanupAndClose)}return this},Socket.prototype.onError=function(r){s("socket error %j",r),Socket.priorWebsocketSuccess=!1,this.emit("error",r),this.onClose("transport error",r)},Socket.prototype.onClose=function(r,n){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(s('socket close with reason: "%s"',r),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",r,n),this.writeBuffer=[],this.prevBufferLen=0)},Socket.prototype.filterUpgrades=function(r){for(var n=[],a=0,i=r.length;a<i;a++)~y(this.transports,r[a])&&n.push(r[a]);return n}},function(r,n,a){var i=a(246),o=a(249),s=a(268),y=a(269);n.polling=function polling(r){var n=!1,a=!1,y=!1!==r.jsonp;if("undefined"!=typeof location){var _="https:"===location.protocol,w=location.port;w||(w=_?443:80),n=r.hostname!==location.hostname||w!==r.port,a=r.secure!==_}if(r.xdomain=n,r.xscheme=a,"open"in new i(r)&&!r.forceJSONP)return new o(r);if(!y)throw Error("JSONP disabled");return new s(r)},n.websocket=y},function(r,n,a){var i=a(247),o=a(248);r.exports=function(r){var n=r.xdomain,a=r.xscheme,s=r.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!n||i))return new XMLHttpRequest}catch(r){}try{if("undefined"!=typeof XDomainRequest&&!a&&s)return new XDomainRequest}catch(r){}if(!n)try{return new(o[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}},function(r,n){try{r.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(n){r.exports=!1}},function(r,n){r.exports="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("","return this")()},function(r,n,a){var i=a(246),o=a(250),s=a(261),y=a(263),_=a(265)("engine.io-client:polling-xhr"),w=a(248);function empty(){}function XHR(r){if(o.call(this,r),this.requestTimeout=r.requestTimeout,this.extraHeaders=r.extraHeaders,"undefined"!=typeof location){var n="https:"===location.protocol,a=location.port;a||(a=n?443:80),this.xd="undefined"!=typeof location&&r.hostname!==location.hostname||a!==r.port,this.xs=r.secure!==n}}function Request(r){this.method=r.method||"GET",this.uri=r.uri,this.xd=!!r.xd,this.xs=!!r.xs,this.async=!1!==r.async,this.data=void 0!==r.data?r.data:null,this.agent=r.agent,this.isBinary=r.isBinary,this.supportsBinary=r.supportsBinary,this.enablesXDR=r.enablesXDR,this.withCredentials=r.withCredentials,this.requestTimeout=r.requestTimeout,this.pfx=r.pfx,this.key=r.key,this.passphrase=r.passphrase,this.cert=r.cert,this.ca=r.ca,this.ciphers=r.ciphers,this.rejectUnauthorized=r.rejectUnauthorized,this.extraHeaders=r.extraHeaders,this.create()}function unloadHandler(){for(var r in Request.requests)Request.requests.hasOwnProperty(r)&&Request.requests[r].abort()}r.exports=XHR,r.exports.Request=Request,y(XHR,o),XHR.prototype.supportsBinary=!0,XHR.prototype.request=function(r){return(r=r||{}).uri=this.uri(),r.xd=this.xd,r.xs=this.xs,r.agent=this.agent||!1,r.supportsBinary=this.supportsBinary,r.enablesXDR=this.enablesXDR,r.withCredentials=this.withCredentials,r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized,r.requestTimeout=this.requestTimeout,r.extraHeaders=this.extraHeaders,new Request(r)},XHR.prototype.doWrite=function(r,n){var a="string"!=typeof r&&void 0!==r,i=this.request({method:"POST",data:r,isBinary:a}),o=this;i.on("success",n),i.on("error",(function(r){o.onError("xhr post error",r)})),this.sendXhr=i},XHR.prototype.doPoll=function(){_("xhr poll");var r=this.request(),n=this;r.on("data",(function(r){n.onData(r)})),r.on("error",(function(r){n.onError("xhr poll error",r)})),this.pollXhr=r},s(Request.prototype),Request.prototype.create=function(){var r={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};r.pfx=this.pfx,r.key=this.key,r.passphrase=this.passphrase,r.cert=this.cert,r.ca=this.ca,r.ciphers=this.ciphers,r.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new i(r),a=this;try{_("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var o in n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(o)&&n.setRequestHeader(o,this.extraHeaders[o])}catch(r){}if("POST"===this.method)try{this.isBinary?n.setRequestHeader("Content-type","application/octet-stream"):n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}"withCredentials"in n&&(n.withCredentials=this.withCredentials),this.requestTimeout&&(n.timeout=this.requestTimeout),this.hasXDR()?(n.onload=function(){a.onLoad()},n.onerror=function(){a.onError(n.responseText)}):n.onreadystatechange=function(){if(2===n.readyState)try{var r=n.getResponseHeader("Content-Type");(a.supportsBinary&&"application/octet-stream"===r||"application/octet-stream; charset=UTF-8"===r)&&(n.responseType="arraybuffer")}catch(r){}4===n.readyState&&(200===n.status||1223===n.status?a.onLoad():setTimeout((function(){a.onError("number"==typeof n.status?n.status:0)}),0))},_("xhr data %s",this.data),n.send(this.data)}catch(r){return void setTimeout((function(){a.onError(r)}),0)}"undefined"!=typeof document&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)},Request.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Request.prototype.onData=function(r){this.emit("data",r),this.onSuccess()},Request.prototype.onError=function(r){this.emit("error",r),this.cleanup(!0)},Request.prototype.cleanup=function(r){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=empty:this.xhr.onreadystatechange=empty,r)try{this.xhr.abort()}catch(r){}"undefined"!=typeof document&&delete Request.requests[this.index],this.xhr=null}},Request.prototype.onLoad=function(){var r;try{var n;try{n=this.xhr.getResponseHeader("Content-Type")}catch(r){}r=("application/octet-stream"===n||"application/octet-stream; charset=UTF-8"===n)&&this.xhr.response||this.xhr.responseText}catch(r){this.onError(r)}null!=r&&this.onData(r)},Request.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},Request.prototype.abort=function(){this.cleanup()},Request.requestsCount=0,Request.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",unloadHandler):"function"==typeof addEventListener&&addEventListener("onpagehide"in w?"pagehide":"unload",unloadHandler,!1))},function(r,n,a){var i=a(251),o=a(262),s=a(252),y=a(263),_=a(264),w=a(265)("engine.io-client:polling");r.exports=Polling;var E=null!=new(a(246))({xdomain:!1}).responseType;function Polling(r){var n=r&&r.forceBase64;E&&!n||(this.supportsBinary=!1),i.call(this,r)}y(Polling,i),Polling.prototype.name="polling",Polling.prototype.doOpen=function(){this.poll()},Polling.prototype.pause=function(r){var n=this;function pause(){w("paused"),n.readyState="paused",r()}if(this.readyState="pausing",this.polling||!this.writable){var a=0;this.polling&&(w("we are currently polling - waiting to pause"),a++,this.once("pollComplete",(function(){w("pre-pause polling complete"),--a||pause()}))),this.writable||(w("we are currently writing - waiting to pause"),a++,this.once("drain",(function(){w("pre-pause writing complete"),--a||pause()})))}else pause()},Polling.prototype.poll=function(){w("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},Polling.prototype.onData=function(r){var n=this;w("polling got data %s",r),s.decodePayload(r,this.socket.binaryType,(function(r,a,i){if("opening"===n.readyState&&n.onOpen(),"close"===r.type)return n.onClose(),!1;n.onPacket(r)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():w('ignoring poll - transport state "%s"',this.readyState))},Polling.prototype.doClose=function(){var r=this;function close(){w("writing close packet"),r.write([{type:"close"}])}"open"===this.readyState?(w("transport open - closing"),close()):(w("transport not open - deferring close"),this.once("open",close))},Polling.prototype.write=function(r){var n=this;this.writable=!1;var callbackfn=function(){n.writable=!0,n.emit("drain")};s.encodePayload(r,this.supportsBinary,(function(r){n.doWrite(r,callbackfn)}))},Polling.prototype.uri=function(){var r=this.query||{},n=this.secure?"https":"http",a="";return!1!==this.timestampRequests&&(r[this.timestampParam]=_()),this.supportsBinary||r.sid||(r.b64=1),r=o.encode(r),this.port&&("https"===n&&443!=+this.port||"http"===n&&80!=+this.port)&&(a=":"+this.port),r.length&&(r="?"+r),n+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+a+this.path+r}},function(r,n,a){var i=a(252),o=a(261);function Transport(r){this.path=r.path,this.hostname=r.hostname,this.port=r.port,this.secure=r.secure,this.query=r.query,this.timestampParam=r.timestampParam,this.timestampRequests=r.timestampRequests,this.readyState="",this.agent=r.agent||!1,this.socket=r.socket,this.enablesXDR=r.enablesXDR,this.withCredentials=r.withCredentials,this.pfx=r.pfx,this.key=r.key,this.passphrase=r.passphrase,this.cert=r.cert,this.ca=r.ca,this.ciphers=r.ciphers,this.rejectUnauthorized=r.rejectUnauthorized,this.forceNode=r.forceNode,this.isReactNative=r.isReactNative,this.extraHeaders=r.extraHeaders,this.localAddress=r.localAddress}r.exports=Transport,o(Transport.prototype),Transport.prototype.onError=function(r,n){var a=Error(r);return a.type="TransportError",a.description=n,this.emit("error",a),this},Transport.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},Transport.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},Transport.prototype.send=function(r){if("open"!==this.readyState)throw Error("Transport not open");this.write(r)},Transport.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Transport.prototype.onData=function(r){var n=i.decodePacket(r,this.socket.binaryType);this.onPacket(n)},Transport.prototype.onPacket=function(r){this.emit("packet",r)},Transport.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(r,n,a){var i,o=a(253),s=a(254),y=a(256),_=a(257),w=a(258);"undefined"!=typeof ArrayBuffer&&(i=a(259));var E="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),j="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),q=E||j;n.protocol=3;var $=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},ne=o($),ie={type:"error",data:"parser error"},oe=a(260);function map(r,n,a){for(var i=Array(r.length),o=_(r.length,a),eachWithIndex=function(r,a,o){n(a,(function(n,a){i[r]=a,o(n,i)}))},s=0;s<r.length;s++)eachWithIndex(s,r[s],o)}n.encodePacket=function(r,a,i,o){"function"==typeof a&&(o=a,a=!1),"function"==typeof i&&(o=i,i=null);var s=void 0===r.data?void 0:r.data.buffer||r.data;if("undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer)return function encodeArrayBuffer(r,a,i){if(!a)return n.encodeBase64Packet(r,i);var o=r.data,s=new Uint8Array(o),y=new Uint8Array(1+o.byteLength);y[0]=$[r.type];for(var _=0;_<s.length;_++)y[_+1]=s[_];return i(y.buffer)}(r,a,o);if(void 0!==oe&&s instanceof oe)return function encodeBlob(r,a,i){if(!a)return n.encodeBase64Packet(r,i);if(q)return function encodeBlobAsArrayBuffer(r,a,i){if(!a)return n.encodeBase64Packet(r,i);var o=new FileReader;return o.onload=function(){n.encodePacket({type:r.type,data:o.result},a,!0,i)},o.readAsArrayBuffer(r.data)}(r,a,i);var o=new Uint8Array(1);return o[0]=$[r.type],i(new oe([o.buffer,r.data]))}(r,a,o);if(s&&s.base64)return function encodeBase64Object(r,a){return a("b"+n.packets[r.type]+r.data.data)}(r,o);var y=$[r.type];return void 0!==r.data&&(y+=i?w.encode(r.data+"",{strict:!1}):r.data+""),o(""+y)},n.encodeBase64Packet=function(r,a){var i,o="b"+n.packets[r.type];if(void 0!==oe&&r.data instanceof oe){var s=new FileReader;return s.onload=function(){var r=s.result.split(",")[1];a(o+r)},s.readAsDataURL(r.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(r.data))}catch(n){for(var y=new Uint8Array(r.data),_=Array(y.length),w=0;w<y.length;w++)_[w]=y[w];i=String.fromCharCode.apply(null,_)}return o+=btoa(i),a(o)},n.decodePacket=function(r,a,i){if(void 0===r)return ie;if("string"==typeof r)return"b"===r.charAt(0)?n.decodeBase64Packet(r.substr(1),a):i&&!1===(r=function tryDecode(r){try{r=w.decode(r,{strict:!1})}catch(r){return!1}return r}(r))?ie:+(o=r.charAt(0))==o&&ne[o]?r.length>1?{type:ne[o],data:r.substring(1)}:{type:ne[o]}:ie;var o=new Uint8Array(r)[0],s=y(r,1);return oe&&"blob"===a&&(s=new oe([s])),{type:ne[o],data:s}},n.decodeBase64Packet=function(r,n){var a=ne[r.charAt(0)];if(!i)return{type:a,data:{base64:!0,data:r.substr(1)}};var o=i.decode(r.substr(1));return"blob"===n&&oe&&(o=new oe([o])),{type:a,data:o}},n.encodePayload=function(r,a,i){"function"==typeof a&&(i=a,a=null);var o=s(r);return a&&o?oe&&!q?n.encodePayloadAsBlob(r,i):n.encodePayloadAsArrayBuffer(r,i):r.length?void map(r,(function encodeOne(r,i){n.encodePacket(r,!!o&&a,!1,(function(r){i(null,function setLengthHeader(r){return r.length+":"+r}(r))}))}),(function(r,n){return i(n.join(""))})):i("0:")},n.decodePayload=function(r,a,i){if("string"!=typeof r)return n.decodePayloadAsBinary(r,a,i);var o;if("function"==typeof a&&(i=a,a=null),""===r)return i(ie,0,1);for(var s,y,_="",w=0,E=r.length;w<E;w++){var j=r.charAt(w);if(":"===j){if(""===_||_!=(s=+_))return i(ie,0,1);if(_!=(y=r.substr(w+1,s)).length)return i(ie,0,1);if(y.length){if(o=n.decodePacket(y,a,!1),ie.type===o.type&&ie.data===o.data)return i(ie,0,1);if(!1===i(o,w+s,E))return}w+=s,_=""}else _+=j}return""!==_?i(ie,0,1):void 0},n.encodePayloadAsArrayBuffer=function(r,a){if(!r.length)return a(new ArrayBuffer(0));map(r,(function encodeOne(r,a){n.encodePacket(r,!0,!0,(function(r){return a(null,r)}))}),(function(r,n){var i=n.reduce((function(r,n){var a;return r+(a="string"==typeof n?n.length:n.byteLength).toString().length+a+2}),0),o=new Uint8Array(i),s=0;return n.forEach((function(r){var n="string"==typeof r,a=r;if(n){for(var i=new Uint8Array(r.length),y=0;y<r.length;y++)i[y]=r.charCodeAt(y);a=i.buffer}o[s++]=n?0:1;var _=a.byteLength.toString();for(y=0;y<_.length;y++)o[s++]=parseInt(_[y]);for(o[s++]=255,i=new Uint8Array(a),y=0;y<i.length;y++)o[s++]=i[y]})),a(o.buffer)}))},n.encodePayloadAsBlob=function(r,a){map(r,(function encodeOne(r,a){n.encodePacket(r,!0,!0,(function(r){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof r){for(var i=new Uint8Array(r.length),o=0;o<r.length;o++)i[o]=r.charCodeAt(o);r=i.buffer,n[0]=0}var s=(r instanceof ArrayBuffer?r.byteLength:r.size).toString(),y=new Uint8Array(s.length+1);for(o=0;o<s.length;o++)y[o]=parseInt(s[o]);if(y[s.length]=255,oe){var _=new oe([n.buffer,y.buffer,r]);a(null,_)}}))}),(function(r,n){return a(new oe(n))}))},n.decodePayloadAsBinary=function(r,a,i){"function"==typeof a&&(i=a,a=null);for(var o=r,s=[];o.byteLength>0;){for(var _=new Uint8Array(o),w=0===_[0],E="",j=1;255!==_[j];j++){if(E.length>310)return i(ie,0,1);E+=_[j]}o=y(o,2+E.length);var q=y(o,0,E=parseInt(E));if(w)try{q=String.fromCharCode.apply(null,new Uint8Array(q))}catch(r){var $=new Uint8Array(q);for(q="",j=0;j<$.length;j++)q+=String.fromCharCode($[j])}s.push(q),o=y(o,E)}var ne=s.length;s.forEach((function(r,o){i(n.decodePacket(r,a,!0),o,ne)}))}},function(r,n){r.exports=Object.keys||function keys(r){var n=[],a={}.hasOwnProperty;for(var i in r)a.call(r,i)&&n.push(i);return n}},function(r,n,a){var i,o,s,y,_;i=a(127).Buffer,o=a(255),s={}.toString,y="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===s.call(Blob),_="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===s.call(File),r.exports=function hasBinary(r){if(!r||"object"!=typeof r)return!1;if(o(r)){for(var n=0,a=r.length;n<a;n++)if(hasBinary(r[n]))return!0;return!1}if("function"==typeof i&&i.isBuffer&&i.isBuffer(r)||"function"==typeof ArrayBuffer&&r instanceof ArrayBuffer||y&&r instanceof Blob||_&&r instanceof File)return!0;if(r.toJSON&&"function"==typeof r.toJSON&&1===arguments.length)return hasBinary(r.toJSON(),!0);for(var s in r)if({}.hasOwnProperty.call(r,s)&&hasBinary(r[s]))return!0;return!1}},function(r,n){var a={}.toString;r.exports=Array.isArray||function(r){return"[object Array]"==a.call(r)}},function(r,n){r.exports=function(r,n,a){var i=r.byteLength;if(n=n||0,a=a||i,r.slice)return r.slice(n,a);if(n<0&&(n+=i),a<0&&(a+=i),a>i&&(a=i),n>=i||n>=a||0===i)return new ArrayBuffer(0);for(var o=new Uint8Array(r),s=new Uint8Array(a-n),y=n,_=0;y<a;y++,_++)s[_]=o[y];return s.buffer}},function(r,n){function noop(){}r.exports=function after(r,n,a){var i=!1;return a=a||noop,proxy.count=r,0===r?n():proxy;function proxy(r,o){if(proxy.count<=0)throw Error("after called too many times");--proxy.count,r?(i=!0,n(r),n=a):0!==proxy.count||i||n(null,o)}}},function(r,n){var a,i,o,s=String.fromCharCode;function ucs2decode(r){for(var n,a,i=[],o=0,s=r.length;o<s;)(n=r.charCodeAt(o++))>=55296&&n<=56319&&o<s?56320==(64512&(a=r.charCodeAt(o++)))?i.push(((1023&n)<<10)+(1023&a)+65536):(i.push(n),o--):i.push(n);return i}function checkScalarValue(r,n){if(r>=55296&&r<=57343){if(n)throw Error("Lone surrogate U+"+r.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function createByte(r,n){return s(r>>n&63|128)}function encodeCodePoint(r,n){if(0==(4294967168&r))return s(r);var a="";return 0==(4294965248&r)?a=s(r>>6&31|192):0==(4294901760&r)?(checkScalarValue(r,n)||(r=65533),a=s(r>>12&15|224),a+=createByte(r,6)):0==(4292870144&r)&&(a=s(r>>18&7|240),a+=createByte(r,12),a+=createByte(r,6)),a+s(63&r|128)}function readContinuationByte(){if(o>=i)throw Error("Invalid byte index");var r=255&a[o];if(o++,128==(192&r))return 63&r;throw Error("Invalid continuation byte")}function decodeSymbol(r){var n,s;if(o>i)throw Error("Invalid byte index");if(o==i)return!1;if(n=255&a[o],o++,0==(128&n))return n;if(192==(224&n)){if((s=(31&n)<<6|readContinuationByte())>=128)return s;throw Error("Invalid continuation byte")}if(224==(240&n)){if((s=(15&n)<<12|readContinuationByte()<<6|readContinuationByte())>=2048)return checkScalarValue(s,r)?s:65533;throw Error("Invalid continuation byte")}if(240==(248&n)&&(s=(7&n)<<18|readContinuationByte()<<12|readContinuationByte()<<6|readContinuationByte())>=65536&&s<=1114111)return s;throw Error("Invalid UTF-8 detected")}r.exports={version:"2.1.2",encode:function utf8encode(r,n){for(var a=!1!==(n=n||{}).strict,i=ucs2decode(r),o=i.length,s=-1,y="";++s<o;)y+=encodeCodePoint(i[s],a);return y},decode:function utf8decode(r,n){var y=!1!==(n=n||{}).strict;a=ucs2decode(r),i=a.length,o=0;for(var _,w=[];!1!==(_=decodeSymbol(y));)w.push(_);return function ucs2encode(r){for(var n,a=r.length,i=-1,o="";++i<a;)(n=r[i])>65535&&(o+=s((n-=65536)>>>10&1023|55296),n=56320|1023&n),o+=s(n);return o}(w)}}},function(r,n){!function(){"use strict";for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=new Uint8Array(256),i=0;i<64;i++)a[r.charCodeAt(i)]=i;n.encode=function(n){var a,i=new Uint8Array(n),o=i.length,s="";for(a=0;a<o;a+=3)s+=r[i[a]>>2],s+=r[(3&i[a])<<4|i[a+1]>>4],s+=r[(15&i[a+1])<<2|i[a+2]>>6],s+=r[63&i[a+2]];return o%3==2?s=s.substring(0,s.length-1)+"=":o%3==1&&(s=s.substring(0,s.length-2)+"=="),s},n.decode=function(r){var n,i,o,s,y,_=.75*r.length,w=r.length,E=0;"="===r[r.length-1]&&(_--,"="===r[r.length-2]&&_--);var j=new ArrayBuffer(_),q=new Uint8Array(j);for(n=0;n<w;n+=4)i=a[r.charCodeAt(n)],o=a[r.charCodeAt(n+1)],s=a[r.charCodeAt(n+2)],y=a[r.charCodeAt(n+3)],q[E++]=i<<2|o>>4,q[E++]=(15&o)<<4|s>>2,q[E++]=(3&s)<<6|63&y;return j}}()},function(r,n){var a=void 0!==a?a:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(r){return!1}}(),o=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(r){return!1}}(),s=a&&a.prototype.append&&a.prototype.getBlob;function mapArrayBufferViews(r){return r.map((function(r){if(r.buffer instanceof ArrayBuffer){var n=r.buffer;if(r.byteLength!==n.byteLength){var a=new Uint8Array(r.byteLength);a.set(new Uint8Array(n,r.byteOffset,r.byteLength)),n=a.buffer}return n}return r}))}function BlobBuilderConstructor(r,n){n=n||{};var i=new a;return mapArrayBufferViews(r).forEach((function(r){i.append(r)})),n.type?i.getBlob(n.type):i.getBlob()}function BlobConstructor(r,n){return new Blob(mapArrayBufferViews(r),n||{})}"undefined"!=typeof Blob&&(BlobBuilderConstructor.prototype=Blob.prototype,BlobConstructor.prototype=Blob.prototype),r.exports=i?o?Blob:BlobConstructor:s?BlobBuilderConstructor:void 0},function(r,n,a){function Emitter(r){if(r)return function mixin(r){for(var n in Emitter.prototype)r[n]=Emitter.prototype[n];return r}(r)}r.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},Emitter.prototype.once=function(r,n){function on(){this.off(r,on),n.apply(this,arguments)}return on.fn=n,this.on(r,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var a,i=this._callbacks["$"+r];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+r],this;for(var o=0;o<i.length;o++)if((a=i[o])===n||a.fn===n){i.splice(o,1);break}return 0===i.length&&delete this._callbacks["$"+r],this},Emitter.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=Array(arguments.length-1),a=this._callbacks["$"+r],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(a){i=0;for(var o=(a=a.slice(0)).length;i<o;++i)a[i].apply(this,n)}return this},Emitter.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},Emitter.prototype.hasListeners=function(r){return!!this.listeners(r).length}},function(r,n){n.encode=function(r){var n="";for(var a in r)r.hasOwnProperty(a)&&(n.length&&(n+="&"),n+=encodeURIComponent(a)+"="+encodeURIComponent(r[a]));return n},n.decode=function(r){for(var n={},a=r.split("&"),i=0,o=a.length;i<o;i++){var s=a[i].split("=");n[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return n}},function(r,n){r.exports=function(r,n){var fn=function(){};fn.prototype=n.prototype,r.prototype=new fn,r.prototype.constructor=r}},function(r,n,a){"use strict";var i,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s={},y=0,_=0;function encode(r){var n="";do{n=o[r%64]+n,r=Math.floor(r/64)}while(r>0);return n}function yeast(){var r=encode(+new Date);return r!==i?(y=0,i=r):r+"."+encode(y++)}for(;_<64;_++)s[o[_]]=_;yeast.encode=encode,yeast.decode=function decode(r){var n=0;for(_=0;_<r.length;_++)n=64*n+s[r.charAt(_)];return n},r.exports=yeast},function(r,n,a){!function(i){n.log=function log(...r){return"object"==typeof console&&console.log&&console.log(...r)},n.formatArgs=function formatArgs(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const a="color: "+this.color;n.splice(1,0,a,"color: inherit");let i=0,o=0;n[0].replace(/%[a-zA-Z%]/g,r=>{"%%"!==r&&(i++,"%c"===r&&(o=i))}),n.splice(o,0,a)},n.save=function save(r){try{r?n.storage.setItem("debug",r):n.storage.removeItem("debug")}catch(r){}},n.load=function load(){let r;try{r=n.storage.getItem("debug")}catch(r){}return!r&&void 0!==i&&"env"in i&&(r=i.env.DEBUG),r},n.useColors=function useColors(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage=function localstorage(){try{return localStorage}catch(r){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],r.exports=a(266)(n);const{formatters:o}=r.exports;o.j=function(r){try{return JSON.stringify(r)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}}}(a(2))},function(r,n,a){r.exports=function setup(r){function selectColor(r){let n=0;for(let a=0;a<r.length;a++)n=(n<<5)-n+r.charCodeAt(a),n|=0;return createDebug.colors[Math.abs(n)%createDebug.colors.length]}function createDebug(r){let n;function debug(...r){if(!debug.enabled)return;const a=debug,i=+new Date,o=i-(n||i);a.diff=o,a.prev=n,a.curr=i,n=i,r[0]=createDebug.coerce(r[0]),"string"!=typeof r[0]&&r.unshift("%O");let s=0;r[0]=r[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return n;s++;const o=createDebug.formatters[i];if("function"==typeof o){const i=r[s];n=o.call(a,i),r.splice(s,1),s--}return n}),createDebug.formatArgs.call(a,r),(a.log||createDebug.log).apply(a,r)}return debug.namespace=r,debug.enabled=createDebug.enabled(r),debug.useColors=createDebug.useColors(),debug.color=selectColor(r),debug.destroy=destroy,debug.extend=extend,"function"==typeof createDebug.init&&createDebug.init(debug),createDebug.instances.push(debug),debug}function destroy(){const r=createDebug.instances.indexOf(this);return-1!==r&&(createDebug.instances.splice(r,1),!0)}function extend(r,n){const a=createDebug(this.namespace+(void 0===n?":":n)+r);return a.log=this.log,a}function toNamespace(r){return r.toString().substring(2,r.toString().length-2).replace(/\.\*\?$/,"*")}return createDebug.debug=createDebug,createDebug.default=createDebug,createDebug.coerce=function coerce(r){return r instanceof Error?r.stack||r.message:r},createDebug.disable=function disable(){const r=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map(r=>"-"+r)].join(",");return createDebug.enable(""),r},createDebug.enable=function enable(r){let n;createDebug.save(r),createDebug.names=[],createDebug.skips=[];const a=("string"==typeof r?r:"").split(/[\s,]+/),i=a.length;for(n=0;n<i;n++)a[n]&&("-"===(r=a[n].replace(/\*/g,".*?"))[0]?createDebug.skips.push(RegExp("^"+r.substr(1)+"$")):createDebug.names.push(RegExp("^"+r+"$")));for(n=0;n<createDebug.instances.length;n++){const r=createDebug.instances[n];r.enabled=createDebug.enabled(r.namespace)}},createDebug.enabled=function enabled(r){if("*"===r[r.length-1])return!0;let n,a;for(n=0,a=createDebug.skips.length;n<a;n++)if(createDebug.skips[n].test(r))return!1;for(n=0,a=createDebug.names.length;n<a;n++)if(createDebug.names[n].test(r))return!0;return!1},createDebug.humanize=a(267),Object.keys(r).forEach(n=>{createDebug[n]=r[n]}),createDebug.instances=[],createDebug.names=[],createDebug.skips=[],createDebug.formatters={},createDebug.selectColor=selectColor,createDebug.enable(createDebug.load()),createDebug}},function(r,n){var a=1e3,i=6e4,o=60*i,s=24*o;function plural(r,n,a,i){var o=n>=1.5*a;return Math.round(r/a)+" "+i+(o?"s":"")}r.exports=function(r,n){n=n||{};var y=typeof r;if("string"===y&&r.length>0)return function parse(r){if(!((r+="").length>100)){var n=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(n){var y=parseFloat(n[1]);switch((n[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*y;case"weeks":case"week":case"w":return 6048e5*y;case"days":case"day":case"d":return y*s;case"hours":case"hour":case"hrs":case"hr":case"h":return y*o;case"minutes":case"minute":case"mins":case"min":case"m":return y*i;case"seconds":case"second":case"secs":case"sec":case"s":return y*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}(r);if("number"===y&&isFinite(r))return n.long?function fmtLong(r){var n=Math.abs(r);return n>=s?plural(r,n,s,"day"):n>=o?plural(r,n,o,"hour"):n>=i?plural(r,n,i,"minute"):n>=a?plural(r,n,a,"second"):r+" ms"}(r):function fmtShort(r){var n=Math.abs(r);return n>=s?Math.round(r/s)+"d":n>=o?Math.round(r/o)+"h":n>=i?Math.round(r/i)+"m":n>=a?Math.round(r/a)+"s":r+"ms"}(r);throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))}},function(r,n,a){var i=a(250),o=a(263),s=a(248);r.exports=JSONPPolling;var y,_=/\n/g,w=/\\n/g;function empty(){}function JSONPPolling(r){i.call(this,r),this.query=this.query||{},y||(y=s.___eio=s.___eio||[]),this.index=y.length;var n=this;y.push((function(r){n.onData(r)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=empty)}),!1)}o(JSONPPolling,i),JSONPPolling.prototype.supportsBinary=!1,JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},JSONPPolling.prototype.doPoll=function(){var r=this,n=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),n.async=!0,n.src=this.uri(),n.onerror=function(n){r.onError("jsonp poll error",n)};var a=document.getElementsByTagName("script")[0];a?a.parentNode.insertBefore(n,a):(document.head||document.body).appendChild(n),this.script=n,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var r=document.createElement("iframe");document.body.appendChild(r),document.body.removeChild(r)}),100)},JSONPPolling.prototype.doWrite=function(r,n){var a=this;if(!this.form){var i,o=document.createElement("form"),s=document.createElement("textarea"),y=this.iframeId="eio_iframe_"+this.index;o.className="socketio",o.style.position="absolute",o.style.top="-1000px",o.style.left="-1000px",o.target=y,o.method="POST",o.setAttribute("accept-charset","utf-8"),s.name="d",o.appendChild(s),document.body.appendChild(o),this.form=o,this.area=s}function complete(){initIframe(),n()}function initIframe(){if(a.iframe)try{a.form.removeChild(a.iframe)}catch(r){a.onError("jsonp polling iframe removal error",r)}try{var r='<iframe src="javascript:0" name="'+a.iframeId+'">';i=document.createElement(r)}catch(r){(i=document.createElement("iframe")).name=a.iframeId,i.src="javascript:0"}i.id=a.iframeId,a.form.appendChild(i),a.iframe=i}this.form.action=this.uri(),initIframe(),r=r.replace(w,"\\\n"),this.area.value=r.replace(_,"\\n");try{this.form.submit()}catch(r){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===a.iframe.readyState&&complete()}:this.iframe.onload=complete}},function(r,n,a){!function(n){var i,o,s=a(251),y=a(252),_=a(262),w=a(263),E=a(264),j=a(265)("engine.io-client:websocket");if("undefined"!=typeof WebSocket?i=WebSocket:"undefined"!=typeof self&&(i=self.WebSocket||self.MozWebSocket),"undefined"==typeof window)try{o=a(270)}catch(r){}var q=i||o;function WS(r){r&&r.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=r.perMessageDeflate,this.usingBrowserWebSocket=i&&!r.forceNode,this.protocols=r.protocols,this.usingBrowserWebSocket||(q=o),s.call(this,r)}r.exports=WS,w(WS,s),WS.prototype.name="websocket",WS.prototype.supportsBinary=!0,WS.prototype.doOpen=function(){if(this.check()){var r=this.uri(),n=this.protocols,a={};this.isReactNative||(a.agent=this.agent,a.perMessageDeflate=this.perMessageDeflate,a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized),this.extraHeaders&&(a.headers=this.extraHeaders),this.localAddress&&(a.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?n?new q(r,n):new q(r):new q(r,n,a)}catch(r){return this.emit("error",r)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},WS.prototype.addEventListeners=function(){var r=this;this.ws.onopen=function(){r.onOpen()},this.ws.onclose=function(){r.onClose()},this.ws.onmessage=function(n){r.onData(n.data)},this.ws.onerror=function(n){r.onError("websocket error",n)}},WS.prototype.write=function(r){var a=this;this.writable=!1;for(var i=r.length,o=0,s=i;o<s;o++)!function(r){y.encodePacket(r,a.supportsBinary,(function(o){if(!a.usingBrowserWebSocket){var s={};r.options&&(s.compress=r.options.compress),a.perMessageDeflate&&("string"==typeof o?n.byteLength(o):o.length)<a.perMessageDeflate.threshold&&(s.compress=!1)}try{a.usingBrowserWebSocket?a.ws.send(o):a.ws.send(o,s)}catch(r){j("websocket closed before onclose event")}--i||(a.emit("flush"),setTimeout((function(){a.writable=!0,a.emit("drain")}),0))}))}(r[o])},WS.prototype.onClose=function(){s.prototype.onClose.call(this)},WS.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},WS.prototype.uri=function(){var r=this.query||{},n=this.secure?"wss":"ws",a="";return this.port&&("wss"===n&&443!=+this.port||"ws"===n&&80!=+this.port)&&(a=":"+this.port),this.timestampRequests&&(r[this.timestampParam]=E()),this.supportsBinary||(r.b64=1),(r=_.encode(r)).length&&(r="?"+r),n+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+a+this.path+r},WS.prototype.check=function(){return!(!q||"__initialize"in q&&this.name===WS.prototype.name)}}(a(127).Buffer)},function(r,n){},function(r,n){var a=[].indexOf;r.exports=function(r,n){if(a)return r.indexOf(n);for(var i=0;i<r.length;++i)if(r[i]===n)return i;return-1}},function(r,n,a){var i=a(234),o=a(273),s=a(274),y=a(275),_=a(276),w=a(231)("socket.io-client:socket"),E=a(262),j=a(254);r.exports=Socket;var q={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},$=o.prototype.emit;function Socket(r,n,a){this.io=r,this.nsp=n,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},a&&a.query&&(this.query=a.query),this.io.autoConnect&&this.open()}o(Socket.prototype),Socket.prototype.subEvents=function(){if(!this.subs){var r=this.io;this.subs=[y(r,"open",_(this,"onopen")),y(r,"packet",_(this,"onpacket")),y(r,"close",_(this,"onclose"))]}},Socket.prototype.open=Socket.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},Socket.prototype.send=function(){var r=s(arguments);return r.unshift("message"),this.emit.apply(this,r),this},Socket.prototype.emit=function(r){if(q.hasOwnProperty(r))return $.apply(this,arguments),this;var n=s(arguments),a={type:(void 0!==this.flags.binary?this.flags.binary:j(n))?i.BINARY_EVENT:i.EVENT,data:n,options:{}};return a.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof n[n.length-1]&&(w("emitting packet with ack id %d",this.ids),this.acks[this.ids]=n.pop(),a.id=this.ids++),this.connected?this.packet(a):this.sendBuffer.push(a),this.flags={},this},Socket.prototype.packet=function(r){r.nsp=this.nsp,this.io.packet(r)},Socket.prototype.onopen=function(){if(w("transport is open - connecting"),"/"!==this.nsp)if(this.query){var r="object"==typeof this.query?E.encode(this.query):this.query;w("sending connect packet with query %s",r),this.packet({type:i.CONNECT,query:r})}else this.packet({type:i.CONNECT})},Socket.prototype.onclose=function(r){w("close (%s)",r),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",r)},Socket.prototype.onpacket=function(r){var n=r.nsp===this.nsp,a=r.type===i.ERROR&&"/"===r.nsp;if(n||a)switch(r.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(r);break;case i.ACK:case i.BINARY_ACK:this.onack(r);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",r.data)}},Socket.prototype.onevent=function(r){var n=r.data||[];w("emitting event %j",n),null!=r.id&&(w("attaching ack callback to event"),n.push(this.ack(r.id))),this.connected?$.apply(this,n):this.receiveBuffer.push(n)},Socket.prototype.ack=function(r){var n=this,a=!1;return function(){if(!a){a=!0;var o=s(arguments);w("sending ack %j",o),n.packet({type:j(o)?i.BINARY_ACK:i.ACK,id:r,data:o})}}},Socket.prototype.onack=function(r){var n=this.acks[r.id];"function"==typeof n?(w("calling ack %s with %j",r.id,r.data),n.apply(this,r.data),delete this.acks[r.id]):w("bad ack %s",r.id)},Socket.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},Socket.prototype.emitBuffered=function(){var r;for(r=0;r<this.receiveBuffer.length;r++)$.apply(this,this.receiveBuffer[r]);for(this.receiveBuffer=[],r=0;r<this.sendBuffer.length;r++)this.packet(this.sendBuffer[r]);this.sendBuffer=[]},Socket.prototype.ondisconnect=function(){w("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},Socket.prototype.destroy=function(){if(this.subs){for(var r=0;r<this.subs.length;r++)this.subs[r].destroy();this.subs=null}this.io.destroy(this)},Socket.prototype.close=Socket.prototype.disconnect=function(){return this.connected&&(w("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},Socket.prototype.compress=function(r){return this.flags.compress=r,this},Socket.prototype.binary=function(r){return this.flags.binary=r,this}},function(r,n,a){function Emitter(r){if(r)return function mixin(r){for(var n in Emitter.prototype)r[n]=Emitter.prototype[n];return r}(r)}r.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},Emitter.prototype.once=function(r,n){function on(){this.off(r,on),n.apply(this,arguments)}return on.fn=n,this.on(r,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var a,i=this._callbacks["$"+r];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+r],this;for(var o=0;o<i.length;o++)if((a=i[o])===n||a.fn===n){i.splice(o,1);break}return this},Emitter.prototype.emit=function(r){this._callbacks=this._callbacks||{};var n=[].slice.call(arguments,1),a=this._callbacks["$"+r];if(a)for(var i=0,o=(a=a.slice(0)).length;i<o;++i)a[i].apply(this,n);return this},Emitter.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},Emitter.prototype.hasListeners=function(r){return!!this.listeners(r).length}},function(r,n){r.exports=function toArray(r,n){for(var a=[],i=(n=n||0)||0;i<r.length;i++)a[i-n]=r[i];return a}},function(r,n){r.exports=function on(r,n,a){return r.on(n,a),{destroy(){r.removeListener(n,a)}}}},function(r,n){var a=[].slice;r.exports=function(r,n){if("string"==typeof n&&(n=r[n]),"function"!=typeof n)throw Error("bind() requires a function");var i=a.call(arguments,2);return function(){return n.apply(r,i.concat(a.call(arguments)))}}},function(r,n){function Backoff(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}r.exports=Backoff,Backoff.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),a=Math.floor(n*this.jitter*r);r=0==(1&Math.floor(10*n))?r-a:r+a}return 0|Math.min(r,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(r){this.ms=r},Backoff.prototype.setMax=function(r){this.max=r},Backoff.prototype.setJitter=function(r){this.jitter=r}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hasDataChannelSupport=void 0,n.hasDataChannelSupport=()=>{try{return!!(window.RTCPeerConnection||window.webkitRTCPeerConnection||window.mozRTCPeerConnection).prototype.createDataChannel}catch(r){}return!1}},function(r,n,a){"use strict";var i,o,s,y;Object.defineProperty(n,"__esModule",{value:!0}),n.ClientMetadata=n.SignalType=n.PackageIncoming=n.NetworkChannelType=n.NetworkDataType=n.ConnectionState=void 0,(s=n.ConnectionState||(n.ConnectionState={}))[s.CONNECTED=0]="CONNECTED",function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.MESSAGE=1]="MESSAGE",r[r.CLIENT_META_DATA=2]="CLIENT_META_DATA",r[r.DISCONNECT=3]="DISCONNECT",r[r.INPUT=4]="INPUT",r[r.ENTITY_STATES=5]="ENTITY_STATES",r[r.GHOST_MODE_STATE=6]="GHOST_MODE_STATE",r[r.CHAT_MESSAGE=7]="CHAT_MESSAGE",r[r.SHOOTER_GAME_RULES=8]="SHOOTER_GAME_RULES",r[r.SHOOTER_TEAM_DATA=9]="SHOOTER_TEAM_DATA",r[r.SHOOTER_PLAYER_STATE=10]="SHOOTER_PLAYER_STATE",r[r.SHOOTER_WEAPON_FIRE_MISS=11]="SHOOTER_WEAPON_FIRE_MISS",r[r.SHOOTER_WEAPON_FIRE_HIT_ENVIRONMENT=12]="SHOOTER_WEAPON_FIRE_HIT_ENVIRONMENT",r[r.SHOOTER_WEAPON_FIRE_HIT_PLAYER=13]="SHOOTER_WEAPON_FIRE_HIT_PLAYER",r[r.SHOOTER_PLAYER_DAMAGE_ENVIRONMENT=14]="SHOOTER_PLAYER_DAMAGE_ENVIRONMENT",r[r.SHOOTER_PLAYER_DEATH_ENVIRONMENT=15]="SHOOTER_PLAYER_DEATH_ENVIRONMENT",r[r.SHOOTER_PLAYER_DEATH_ENVIRONMENT_WITH_ASSISTER=16]="SHOOTER_PLAYER_DEATH_ENVIRONMENT_WITH_ASSISTER",r[r.SHOOTER_PLAYER_DEATH_PLAYER=17]="SHOOTER_PLAYER_DEATH_PLAYER",r[r.SHOOTER_PLAYER_DEATH_PLAYER_WITH_ASSISTER=18]="SHOOTER_PLAYER_DEATH_PLAYER_WITH_ASSISTER",r[r.SHOOTER_PLAYER_RESPAWN=19]="SHOOTER_PLAYER_RESPAWN",r[r.SHOOTER_PLAYER_EMOTE=20]="SHOOTER_PLAYER_EMOTE",r[r.SHOOTER_PLAYER_RESPAWN_REQUEST=21]="SHOOTER_PLAYER_RESPAWN_REQUEST",r[r.SHOOTER_PLAYER_RESPAWN_RESPONSE=22]="SHOOTER_PLAYER_RESPAWN_RESPONSE"}(i=n.NetworkDataType||(n.NetworkDataType={})),(o=n.NetworkChannelType||(n.NetworkChannelType={}))[o.UNRELIABLE=0]="UNRELIABLE",o[o.RELIABLE=1]="RELIABLE",n.PackageIncoming=class PackageIncoming{constructor(){this.type=i.UNKNOWN,this.clientId=0,this.tickNumber=0,this.offset=0}},(y=n.SignalType||(n.SignalType={}))[y.OFFER=0]="OFFER",y[y.ANSWER=1]="ANSWER",y[y.ICE_CANDIDATE=2]="ICE_CANDIDATE",n.ClientMetadata=class ClientMetadata{constructor(){this.clientId=0,this.username="",this.playerAvatar=""}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkStats=void 0,n.NetworkStats=class NetworkStats{constructor(){this.bytesOut=0,this.numPacketsOut=0,this.bytesIn=0,this.numPacketsIn=0,this.prevBytesOut=0,this.prevNumPacketsOut=0,this.prevBytesIn=0,this.prevNumPacketsIn=0}packetsIn(r,n=1){this.bytesIn+=r*n,this.numPacketsIn+=n}packetsOut(r,n=1){this.bytesOut+=r*n,this.numPacketsOut+=n}reset(){this.prevBytesOut=this.bytesOut,this.prevNumPacketsOut=this.numPacketsOut,this.prevBytesIn=this.bytesIn,this.prevNumPacketsIn=this.numPacketsIn,this.bytesOut=0,this.numPacketsOut=0,this.bytesIn=0,this.numPacketsIn=0}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Deserializer=n.Serializer=void 0;const i=a(282),o=a(284);class Serializer{constructor(r,n=0){this.buffer=new Uint8Array(r),this.uint32Buffer=new Uint32Array(r),this.writer=new o.BitWriter(r),this.setOffset(n)}setOffset(r=0){this.writer.reset(r)}getOffset(){return this.writer.getBytesWritten()}getTrimmedBuffer(){return this.buffer.subarray(0,this.getOffset())}getBuffer(){return this.buffer}flushBits(){this.writer.flushBits()}writeAlign(){this.writer.writeAlign()}writeAlignWord(){this.writer.writeAlignWord()}writeBits(r,n){this.writer.writeBits(r,n)}writeInt(r,n,a){this.writer.writeInt(r,n,a)}writeFloat(r,n,a,i){this.writer.writeFloat(r,n,a,i)}writeBool(r){this.writer.writeBits(r?1:0,1)}writeI8(r){this.writer.writeBits(r,8)}writeI16(r){this.writer.writeBits(r,16)}writeI32(r){this.writer.writeBits(r,32)}writeU8(r){this.writer.writeBits(r,8)}writeU16(r){this.writer.writeBits(r,16)}writeU32(r){this.writer.writeBits(r,32)}writeU64(r){const n=4294967295&r,a=r/4294967296|0;this.writer.writeBits(n,32),this.writer.writeBits(a,32)}writeI16x3(r){this.writeI16(r.x),this.writeI16(r.y),this.writeI16(r.z)}writeF32(r){Serializer._scratch.setFloat32(0,r),this.writeU32(Serializer._scratch.getUint32(0,!0))}writeF32x3(r){this.writeF32(r.x),this.writeF32(r.y),this.writeF32(r.z)}writeF32x4(r){this.writeF32(r.x),this.writeF32(r.y),this.writeF32(r.z),this.writeF32(r.w)}writeFloatX3(r,n,a,i=.001){this.writer.writeFloat(r.x,n,a,i),this.writer.writeFloat(r.y,n,a,i),this.writer.writeFloat(r.z,n,a,i)}writeFloatX4(r,n,a,i=.001){this.writer.writeFloat(r.x,n,a,i),this.writer.writeFloat(r.y,n,a,i),this.writer.writeFloat(r.z,n,a,i),this.writer.writeFloat(r.w,n,a,i)}writeData(r){}writeArrayBuffer(r){}writeArray(r){this.writer.writeUint8Array(r)}writeAsciiString(r){this.writer.writeAscii(r)}writeRelativePosition(r,n,a,i,o=.001){this.writer.writeFloat(r.x-n.x,a,i,o),this.writer.writeFloat(r.y-n.y,a,i,o),this.writer.writeFloat(r.z-n.z,a,i,o)}writeCompressedQuaternion(r,n){let a=0,i=0,o=0,s=0;const y=r.x,_=r.y,w=r.z,E=r.w,j=-1/1.414214,q=1/1.414214,$=(1<<n)-1,ne=Math.abs(y),ie=Math.abs(_),oe=Math.abs(w),se=Math.abs(E);a=0;let le=ne;ie>le&&(a=1,le=ie),oe>le&&(a=2,le=oe),se>le&&(a=3,le=se);let pe=0,he=0,me=0;switch(a){case 0:y>=0?(pe=_,he=w,me=E):(pe=-_,he=-w,me=-E);break;case 1:_>=0?(pe=y,he=w,me=E):(pe=-y,he=-w,me=-E);break;case 2:w>=0?(pe=y,he=_,me=E):(pe=-y,he=-_,me=-E);break;case 3:E>=0?(pe=y,he=_,me=w):(pe=-y,he=-_,me=-w)}const ge=(he-j)/(q-j),ye=(me-j)/(q-j);i=Math.floor((pe-j)/(q-j)*$+.5),o=Math.floor(ge*$+.5),s=Math.floor(ye*$+.5),this.writeBits(a,2),this.writeBits(i,n),this.writeBits(o,n),this.writeBits(s,n)}}n.Serializer=Serializer,Serializer._scratch=new DataView(new ArrayBuffer(8));class Deserializer{constructor(r,n=0){this.buffer=new Uint8Array(r),this.reader=new i.BitReader(r),this.reader.setBuffer(r),this.reader.reset(n)}deserialize(r,n,a){this.setBuffer(n,a),r.deserializeFrom(this)}setBuffer(r,n=0){this.buffer=r,this.reader.setBuffer(r),this.reader.reset(n)}getBuffer(){return this.buffer}setOffset(r){this.reader.reset(r)}getOffset(){return this.reader.getBytesRead()}readAlign(){this.reader.readAlign()}readAlignWord(){this.reader.readAlignWord()}readBits(r){return this.reader.readBits(r)}readInt(r,n){return this.reader.readInt(r,n)}readFloat(r,n,a){return this.reader.readFloat(r,n,a)}readBool(){return!!this.reader.readBits(1)}readI8(){return this.reader.readBits(8)}readI16(){return this.reader.readBits(16)}readI32(){return this.reader.readBits(32)}readU8(){return this.reader.readBits(8)}readU16(){return this.reader.readBits(16)}readU32(){return this.reader.readBits(32)}readU64(){const r=this.reader.readBits(32);return 4294967296*(this.reader.readBits(32)>>>0)+(r>>>0)}readF32(){return Deserializer._scratch.setUint32(0,this.reader.readBits(32),!0),Deserializer._scratch.getFloat32(0)}readF32x3(r){r.x=this.readF32(),r.y=this.readF32(),r.z=this.readF32()}readF32x4(r){r.x=this.readF32(),r.y=this.readF32(),r.z=this.readF32(),r.w=this.readF32()}readFloatX3(r,n,a,i=.001){r.x=this.reader.readFloat(n,a,i),r.y=this.reader.readFloat(n,a,i),r.z=this.reader.readFloat(n,a,i)}readFloatX4(r,n,a,i=.001){r.x=this.reader.readFloat(n,a,i),r.y=this.reader.readFloat(n,a,i),r.z=this.reader.readFloat(n,a,i),r.w=this.reader.readFloat(n,a,i)}readRelativePosition(r,n,a,i,o=.001){r.x=this.reader.readFloat(a,i,o)+n.x,r.y=this.reader.readFloat(a,i,o)+n.y,r.z=this.reader.readFloat(a,i,o)+n.z}readAsciiString(){return this.reader.readAscii()}readCompressedQuaternion(r,n){const a=this.readBits(2),i=-1/1.414214,o=1/1.414214,s=1/((1<<n)-1),y=this.readBits(n)*s*(o-i)+i,_=this.readBits(n)*s*(o-i)+i,w=this.readBits(n)*s*(o-i)+i;switch(a){case 0:r.x=Math.sqrt(1-y*y-_*_-w*w),r.y=y,r.z=_,r.w=w;break;case 1:r.x=y,r.y=Math.sqrt(1-y*y-_*_-w*w),r.z=_,r.w=w;break;case 2:r.x=y,r.y=_,r.z=Math.sqrt(1-y*y-_*_-w*w),r.w=w;break;case 3:r.x=y,r.y=_,r.z=w,r.w=Math.sqrt(1-y*y-_*_-w*w);break;default:r.x=0,r.y=0,r.z=0,r.w=1}r.normalize()}}n.Deserializer=Deserializer,Deserializer._scratch=new DataView(new ArrayBuffer(8))},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BitReader=void 0;const i=a(283);n.BitReader=class BitReader{constructor(r){this.bitsRead=0,this.scratchLow=0,this.scratchHigh=0,this.bitIndex=0,this.wordIndex=0,this.overflow=!1,this.numBits=0,this.numWords=0,this.setBuffer(r)}setBuffer(r){this.data=new Uint32Array(r),this.buffer=r,this.numWords=r.byteLength/4,this.numBits=32*this.numWords}reset(r=0){this.bitsRead=8*r,this.bitIndex=0,this.wordIndex=Math.floor(r/4),this.scratchLow=this.data[this.wordIndex],this.scratchHigh=0}readBits(r,n){if(this.bitsRead+r>this.numBits)return this.overflow=!0,0;if(this.bitsRead+=r,this.bitIndex+r<32){const n=this.scratchLow;this.scratchLow=i.shiftLeftLow(n,this.scratchHigh,r),this.scratchHigh=i.shiftLeftHigh(n,this.scratchHigh,r),this.bitIndex+=r}else{this.wordIndex++;const n=32-this.bitIndex,a=r-n;let o=this.scratchLow;this.scratchLow=i.shiftLeftLow(o,this.scratchHigh,n),this.scratchHigh=i.shiftLeftHigh(o,this.scratchHigh,n),this.scratchLow|=this.wordIndex<this.numWords?this.data[this.wordIndex]:0,o=this.scratchLow,this.scratchLow=i.shiftLeftLow(o,this.scratchHigh,a),this.scratchHigh=i.shiftLeftHigh(o,this.scratchHigh,a),this.bitIndex=a}const a=this.scratchHigh;return this.scratchHigh=0,a>>>0}readAlign(){const r=this.bitsRead%8;0!=r&&this.readBits(8-r)}readAlignWord(){const r=this.bitsRead%32;0!=r&&this.readBits(32-r)}readInt(r,n){const a=i.bitsRequired(r,n);return this.readBits(a)+r}readFloat(r,n,a){const o=n-r,s=Math.ceil(o/a),y=i.bitsRequired(0,s);return this.readBits(y)/s*o+r}readAscii(){this.readAlign();const r=this.readBits(32);let n="";for(let a=0;a<r;a++)n+=String.fromCharCode(this.readBits(8));return n}getBytesRead(){return 4*this.wordIndex}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bitsRequired=n.shiftLeftHigh=n.shiftLeftLow=n.clamp=void 0,n.clamp=(r,n,a)=>Math.min(Math.max(r,n),a),n.shiftLeftLow=(r,n,a)=>a<32?r<<a:0,n.shiftLeftHigh=(r,n,a)=>0===a?n:a<32?n<<a|r>>>32-a:r<<a-32,n.bitsRequired=(r,n)=>32-Math.clz32(n-r)},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BitWriter=void 0;const i=a(283);n.BitWriter=class BitWriter{constructor(r){this.bitsWritten=0,this.scratchLow=0,this.scratchHigh=0,this.bitIndex=0,this.wordIndex=0,this.overflow=!1,this.numBits=0,this.numWords=0,this.uint8array=new Uint8Array(r),this.data=new Uint32Array(r),this.buffer=r,this.numWords=r.byteLength/4,this.numBits=32*this.numWords}reset(r=0){this.bitsWritten=0,this.bitIndex=0,this.wordIndex=Math.floor(r/4),this.scratchLow=0,this.scratchHigh=0}getAlignBits(){return(8-this.bitsWritten%8)%8}getByteIndex(){return this.bitsWritten/8+(this.bitsWritten%8?1:0)}writeBits(r,n){if(this.bitsWritten+n>this.numBits)return void(this.overflow=!0);const a=r&i.shiftLeftLow(1,0,n)-1,o=64-this.bitIndex-n,s=i.shiftLeftLow(a,0,o),y=i.shiftLeftHigh(a,0,o);this.scratchLow|=s,this.scratchHigh|=y,this.bitIndex+=n,this.bitIndex>=32&&(this.data[this.wordIndex]=this.scratchHigh,this.scratchHigh=this.scratchLow,this.scratchLow=0,this.bitIndex-=32,this.wordIndex++),this.bitsWritten+=n}writeAlign(){const r=this.bitsWritten%8;if(0!=r){const n=0;this.writeBits(n,8-r)}}writeAlignWord(){const r=this.bitsWritten%32;if(0!=r){const n=0;this.writeBits(n,32-r)}}flushBits(){if(0!=this.bitIndex){if(this.wordIndex>=this.numWords)return void(this.overflow=!0);this.data[this.wordIndex++]=this.scratchHigh}this.reset(4*this.wordIndex)}getBytesWritten(){return 4*this.wordIndex}getBitsAvailable(){return this.numBits-this.bitsWritten}writeInt(r,n,a){const o=i.bitsRequired(n,a),s=r-n;this.writeBits(s,o)}writeFloat(r,n,a,o){const s=a-n,y=Math.ceil(s/o),_=i.bitsRequired(0,y);let w=0;const E=i.clamp((r-n)/s,0,1);w=Math.floor(E*y+.5),this.writeBits(w,_)}writeAscii(r){const n=r.length;this.writeAlign(),this.writeBits(n,32);for(let a=0;a<n;a++)this.writeBits(r.charCodeAt(a),8)}writeUint8Array(r){this.writeAlignWord(),this.uint8array.set(r,this.getBytesWritten()),this.wordIndex+=.25*r.byteLength}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WebRTCPeer=n.PeerState=void 0;const i=a(286),o=a(10),s=a(279),y=a(69);var _;!function(r){r[r.UNINITIATED=0]="UNINITIATED",r[r.SIGNALING=1]="SIGNALING",r[r.CONNECTING=2]="CONNECTING",r[r.CONNECTED=3]="CONNECTED",r[r.DISCONNECTED=4]="DISCONNECTED",r[r.ERROR=5]="ERROR",r[r.DESTROYED=6]="DESTROYED"}(_=n.PeerState||(n.PeerState={})),n.WebRTCPeer=class WebRTCPeer extends o{constructor(r,n,a){super(),this.state=_.UNINITIATED,this.channels=Array(i.WebRTCChannels.length),this._pendingCandidates=[],this.timeNotConnectedS=0,this.forceTurn=!1,this.id=r,n=n||{},this.forceTurn=!!a,n.sdpSemantics="unified-plan",this.forceTurn&&(n.iceTransportPolicy="relay"),this.connection=new RTCPeerConnection(n),this.connection.addEventListener("icecandidate",this.handleDataIceCandidate.bind(this)),this.connection.addEventListener("icegatheringstatechange",this.handleIceGatheringStateChange.bind(this)),this.connection.addEventListener("icecandidateerror",this.handleIceCandidateError.bind(this)),this.connection.addEventListener("signalingstatechange",this.handleSignalingStateChange.bind(this)),this.connection.addEventListener("datachannel",this.handleDataChannel.bind(this)),this.connection.addEventListener("connectionstatechange",this.handleConnectionStateChange.bind(this)),this.connection.addEventListener("statsended",this.handleStatsEnded.bind(this)),this.connection.addEventListener("negotiationneeded",this.handleNegotiationsNeeded.bind(this)),this.connection.addEventListener("iceconnectionstatechange",this.handleIceConnectionStateChange.bind(this))}send(r,n){if(this.state===_.CONNECTED){const a=this.channels[r];if(!a)return void console.warn("Channel doesnt exist",s.NetworkChannelType[r]);if("open"!==a.readyState)return void y.error("Channel is in a invalid state",a.readyState);try{a.send(n)}catch(r){y.error(r)}}}update(r){this.state!==_.CONNECTED&&(this.timeNotConnectedS+=r,this.timeNotConnectedS>20&&this.destroy("Connection timed out"))}async initiate(){for(let r=0;r<i.WebRTCChannels.length;r++){const n=i.WebRTCChannels[r],a=this.connection.createDataChannel(n.label,n);this.addChannel(a)}const r=await this.connection.createOffer();await this.connection.setLocalDescription(r),this.emit("signal",{type:s.SignalType.OFFER,data:r})}addChannel(r){var n;r.bufferedAmountLowThreshold=65536;const a=null===(n=i.WebRTCChannels.find(n=>n.label===r.label))||void 0===n?void 0:n.type;void 0!==a?(r.binaryType="arraybuffer",r.addEventListener("open",this.handleDataChannelOpen.bind(this)),r.addEventListener("bufferedamountlow",this.handleDataChannelBufferedAmountLow.bind(this)),r.addEventListener("message",this.handleDataChannelMessage.bind(this,a)),r.addEventListener("error",this.handleDataChannelError.bind(this)),r.addEventListener("close",this.handleDataChannelClose.bind(this)),this.channels[a]=r):console.warn("Got invalid type",a)}destroy(r){if(this.state!==_.DESTROYED){this.state=_.DESTROYED;for(let n=0;n<this.channels.length;n++){const a=this.channels[n];if(a)try{a.close()}catch(r){}else console.warn("Tried to destroy non existing channel",s.NetworkChannelType[n])}try{this.connection.close()}catch(r){}r&&this.emit("error",Error(r)),this.emit("end")}else y.warn("Connection already destroyed")}async signal(r){var n;switch(r.type){case s.SignalType.ANSWER:await this.connection.setRemoteDescription(r.data);for(let r=0;r<this._pendingCandidates.length;r++){const n=this._pendingCandidates[r];this.connection.addIceCandidate(n)}this._pendingCandidates.length=0;break;case s.SignalType.OFFER:await this.connection.setRemoteDescription(r.data);const a=await this.connection.createAnswer();await this.connection.setLocalDescription(a),this.emit("signal",{type:s.SignalType.ANSWER,data:a});break;case s.SignalType.ICE_CANDIDATE:if(this.forceTurn&&-1==r.data.candidate.indexOf("typ relay"))return void console.log("Forcing: turn omitting candidate",r.data);(null===(n=this.connection.remoteDescription)||void 0===n?void 0:n.type)?this.connection.addIceCandidate(new RTCIceCandidate(r.data)):this._pendingCandidates.push(new RTCIceCandidate(r.data))}}handleStatsEnded(r){y.log("StatsEnded",r,this.id)}handleIceGatheringStateChange(r){y.log("IceGatheringStateChange",r.target.iceGatheringState,this.id)}handleSignalingStateChange(r){y.log("SignalingStateChange",r.target.signalingState,this.id)}handleConnectionStateChange(r){y.log("ConnectionStateChange",r.target.connectionState,this.id),this.state!==_.DESTROYED&&("failed"===this.connection.connectionState&&(y.log("Destroyed connection cause fail"),this.destroy("Destroyed connection cause fail")),"disconnected"===this.connection.connectionState&&(y.log("Destroyed connection cause disconnection"),this.destroy()))}handleDataChannel(r){y.log("DataChannel Created",r.channel.label,this.id),this.addChannel(r.channel)}handleNegotiationsNeeded(r){y.log("NegotiationsNeeded",this.id)}handleIceConnectionStateChange(r){y.log("IceConnectionStateChange",r.target.iceConnectionState,this.id),this.state===_.CONNECTED||"failed"!==r.target.iceConnectionState&&"disconnected"!==r.target.iceConnectionState||this.destroy("Ice Connection Failed...")}handleIceCandidateError(r){y.warn("IceCandidateError",r,this.id)}async handleDataIceCandidate(r){if(!r.candidate)return;const n=r.candidate;this.forceTurn&&-1==n.candidate.indexOf("typ relay")?console.log("omitting: ",n):this.emit("signal",{type:s.SignalType.ICE_CANDIDATE,data:n})}handleDataChannelBufferedAmountLow(r){y.log("Data channel buffered low",r,this.id)}handleDataChannelMessage(r,n){this.emit("data",new Uint8Array(n.data),r)}handleDataChannelOpen(r){if(y.log("Data channel open",r.target.label,this.id),this.state!==_.CONNECTED){for(let r=0;r<this.channels.length;r++){const n=this.channels[r];if(!n||"open"!==n.readyState)return}this.state=_.CONNECTED,this.emit("connect")}}handleDataChannelClose(r){this.state!==_.DISCONNECTED&&this.state!==_.DESTROYED&&(this.state=_.DISCONNECTED,y.log("Data channel close",r.target.label,this.id),this.destroy())}handleDataChannelError(r){var n;y.warn("Data channel error",r.error),this.destroy(null===(n=r.error)||void 0===n?void 0:n.message)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WebRTCChannels=void 0;const i=a(279);n.WebRTCChannels=[{type:i.NetworkChannelType.UNRELIABLE,label:"UNRELIABLE",priority:"high",ordered:!1,maxRetransmits:0,protocol:"raw"},{type:i.NetworkChannelType.RELIABLE,label:"RELIABLE",priority:"high",ordered:!0,protocol:"raw"}]},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkCommunicator=void 0;const i=a(279),o=a(225),s=a(153),y=a(288),_=a(289);n.NetworkCommunicator=class NetworkCommunicator{constructor(){this.HACK_PLAYER_ENTITY_1=null,this.HACK_PLAYER_ENTITY_2=null,this.networkLayer=null,this.isConnected=!1,this.clientLatestReceivedEntityStatesTick=0,this.tmpInputBuffer=[],this.tmpInputBuffer2=[],this.tmpNumInputs=0,this.tmpNumInputs2=0;for(let r=0;r<y.InputState.MAX_NUM_SNAPSHOTS;r++)this.tmpInputBuffer.push(new y.InputSnapshot),this.tmpInputBuffer2.push(new y.InputSnapshot)}init(){this.networkLayer=new o.NetworkLayer({host:"http://localhost:8000"})}tryConnect(r){if(!this.isConnected){const n=new ArrayBuffer(0);if(!this.networkLayer.sendSinglePackage(0,i.NetworkDataType.UNKNOWN,n))return console.log("NOT CONNECTED, skipping simulation and rendering"),!1;const a=r.getOrCreateSingleton(s.PlayerState),o=r.getOrCreateSingleton(_.NetworkState);if(this.networkLayer.isHost){a.playerEntity=this.HACK_PLAYER_ENTITY_1,o.isHost=!0;const r=new _.NetworkClient;r.playerEntity=this.HACK_PLAYER_ENTITY_2,o.networkClients.push(r),console.log("CONNECTED, I am HOST, a CLIENT has connected!")}else{a.playerEntity=this.HACK_PLAYER_ENTITY_2,o.isHost=!1;const n=new _.NetworkClient;n.playerEntity=this.HACK_PLAYER_ENTITY_1,o.networkClients.push(n),console.log("CONNECTED, I am CLIENT, connected to a HOST!"),r.currentTickNumber+=20}this.isConnected=!0}return!0}getTimeDilation(r,n){if(r.getOrCreateSingleton(_.NetworkState).isHost)return 0;const a=r.currentTickNumber-this.clientLatestReceivedEntityStatesTick;if(a<=0)return a<200?8*r.tickTimeMs:a<100?4*r.tickTimeMs:r.tickTimeMs;const i=3-a;if(Math.abs(i)>=1){if(i>=0)return.25*r.tickTimeMs;{let a=.25*r.tickTimeMs;return i>=10&&(a=r.tickTimeMs),a>n&&(a=n),-a}}return 0}updatePreECS(r){r.getOrCreateSingleton(_.NetworkState).isHost?this.updatePreHost(r):this.updatePreClient(r)}updatePostECS(r){r.getOrCreateSingleton(_.NetworkState).isHost?this.updatePostHost(r):this.updatePostClient(r)}updatePreHost(r){const n=r.getOrCreateSingleton(_.NetworkState),a=this.networkLayer.pollNumPackages();for(let i=0;i<a;i++){const a=this.networkLayer.retrievePackage();null!==a&&this.updateNetworkClientInputBuffer(n,a,r.currentTickNumber)}}updatePostHost(r){const n=r.getOrCreateSingleton(s.PlayerState),a=r.getOrCreateSingleton(_.NetworkState);{const o=[];o.push(n.playerEntity),o.push(a.networkClients[0].playerEntity);const s=this.serializeEntityStates(o);this.networkLayer.sendSinglePackage(i.NetworkDataType.ENTITY_STATES,r.currentTickNumber,s)||console.log("HOST: Failed to send entity states")}console.log("Host -- Tick: ",r.currentTickNumber," -- Inputs in buffer: ",a.networkClients[0].numInputs)}updatePreClient(r){const n=this.networkLayer.pollNumPackages();let a=!1;const i=[];for(let o=0;o<n;o++){const n=this.networkLayer.retrievePackage();null!==n&&(n.tickNumber<=this.clientLatestReceivedEntityStatesTick||(this.clientLatestReceivedEntityStatesTick=n.tickNumber,this.deserializeAndApplyEntityStates(r,n.binaryData,i),a=!0))}if(a){const n=r.getOrCreateSingleton(y.InputState);for(let a=this.clientLatestReceivedEntityStatesTick+1;a<r.currentTickNumber;a++){let o=null;for(let r=0;r<n.snapshots.length;r++)if(n.snapshots[r].tickNumber===a){o=n.snapshots[r];break}null!==o?r.resimulateEntities(i,a,o,.001*r.tickTimeMs):console.error("NetworkCommunicator: No input snapshot available for resimulate!")}}}updatePostClient(r){const n=r.getOrCreateSingleton(y.InputState),a=this.serializeInputSnapshots(n.snapshots);this.networkLayer.sendSinglePackage(i.NetworkDataType.INPUT,r.currentTickNumber,a),console.log("Client -- Tick: ",r.currentTickNumber," -- Sent ",a.byteLength," bytes")}serializeInputSnapshot(r,n,a){let i=n;r.setFloat64(i,a.tickNumber,!0),i+=8,r.setFloat32(i,a.prevCameraDirWS.x,!0),i+=4,r.setFloat32(i,a.prevCameraDirWS.y,!0),i+=4,r.setFloat32(i,a.prevCameraDirWS.z,!0),i+=4,r.setFloat32(i,a.movementIS.x,!0),i+=4,r.setFloat32(i,a.movementIS.y,!0),i+=4,r.setFloat32(i,a.cameraIS.x,!0),i+=4,r.setFloat32(i,a.cameraIS.y,!0),i+=4,r.setUint8(i,a.action1.state),i+=1,r.setUint8(i,a.action2.state),i+=1,i+=2}deserializeInputSnapshot(r,n,a){r.tickNumber=n.getFloat64(a,!0),a+=8,r.prevCameraDirWS.x=n.getFloat32(a,!0),a+=4,r.prevCameraDirWS.y=n.getFloat32(a,!0),a+=4,r.prevCameraDirWS.z=n.getFloat32(a,!0),a+=4,r.movementIS.x=n.getFloat32(a,!0),a+=4,r.movementIS.y=n.getFloat32(a,!0),a+=4,r.cameraIS.x=n.getFloat32(a,!0),a+=4,r.cameraIS.y=n.getFloat32(a,!0),a+=4,r.action1.state=n.getUint8(a),a+=1,r.action2.state=n.getUint8(a),a+=1}serializeInputSnapshots(r){const n=new ArrayBuffer(40*r.length+4),a=new DataView(n);a.setUint32(0,r.length,!0);let i=4;for(let n=0;n<r.length;n++)this.serializeInputSnapshot(a,i,r[n]),i+=40;return n}deserializeInputSnapshots(r){const n=new DataView(r),a=n.getUint32(0,!0);this.tmpNumInputs=0;let i=4;for(let r=0;r<a;r++){const a=this.tmpInputBuffer[r];this.deserializeInputSnapshot(a,n,i),i+=40}this.tmpNumInputs=a}updateNetworkClientInputBuffer(r,n,a){const i=r.networkClients[0];this.deserializeInputSnapshots(n.binaryData),console.log("Received: ",this.tmpNumInputs," snapshots"),this.tmpNumInputs2=i.numInputs;for(let r=0;r<this.tmpNumInputs2;r++)this.tmpInputBuffer2[r].copyFrom(i.inputBuffer[r]);{let r=0,n=0,o=0;for(;n<this.tmpNumInputs&&!(this.tmpInputBuffer[n].tickNumber>=a);)n+=1;for(;o<this.tmpNumInputs2&&!(this.tmpInputBuffer2[o].tickNumber>=a);)o+=1;for(;r<i.inputBuffer.length;){if(n<this.tmpNumInputs&&o<this.tmpNumInputs2)this.tmpInputBuffer[n].tickNumber<this.tmpInputBuffer2[o].tickNumber?(i.inputBuffer[r].copyFrom(this.tmpInputBuffer[n]),r+=1,n+=1):(i.inputBuffer[r].copyFrom(this.tmpInputBuffer2[o]),r+=1,o+=1);else if(n<this.tmpNumInputs)i.inputBuffer[r].copyFrom(this.tmpInputBuffer[n]),r+=1,n+=1;else{if(!(o<this.tmpNumInputs2))break;i.inputBuffer[r].copyFrom(this.tmpInputBuffer2[o]),r+=1,o+=1}r>1&&i.inputBuffer[r-2].tickNumber==i.inputBuffer[r-1].tickNumber&&(r-=1)}i.numInputs=r}}serializeEntityState(r,n,a){const{node:i}=a;r.setUint32(n,a.index,!0),n+=4,r.setFloat32(n,i.position.x,!0),n+=4,r.setFloat32(n,i.position.y,!0),n+=4,r.setFloat32(n,i.position.z,!0),n+=4}serializeEntityStates(r){const n=new ArrayBuffer(4+16*r.length),a=new DataView(n);a.setUint32(0,r.length,!0);let i=4;for(let n=0;n<r.length;n++)this.serializeEntityState(a,i,r[n]),i+=16;return n}deserializeAndApplyEntityStates(r,n,a){const i=new DataView(n),o=i.getUint32(0,!0);let s=4;for(let n=0;n<o;n++){const n=i.getUint32(s,!0);s+=4;const o=r.getEntityByIndex(n);a.push(o);const{node:y}=o;y.position.x=i.getFloat32(s,!0),s+=4,y.position.y=i.getFloat32(s,!0),s+=4,y.position.z=i.getFloat32(s,!0),s+=4,y.isDirty=!0}}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InputState=n.InputSnapshot=n.Button=n.ButtonState=void 0;const i=a(19),o=a(24),s=new i.Vector3(0,1,0);var y;!function(r){r[r.NOT_PRESSED=0]="NOT_PRESSED",r[r.PRESSED=1]="PRESSED",r[r.DOWN=2]="DOWN",r[r.UP=3]="UP"}(y=n.ButtonState||(n.ButtonState={}));class Button{constructor(){this.state=y.NOT_PRESSED}isDown(){return this.state==y.DOWN}isUp(){return this.state==y.UP}isPressed(){return this.state==y.PRESSED||this.state==y.DOWN}updateState(r){if(r)switch(this.state){case y.NOT_PRESSED:case y.UP:this.state=y.DOWN;break;case y.PRESSED:case y.DOWN:this.state=y.PRESSED}else switch(this.state){case y.NOT_PRESSED:case y.UP:this.state=y.NOT_PRESSED;break;case y.PRESSED:case y.DOWN:this.state=y.UP}}}n.Button=Button;class InputSnapshot{constructor(){this.wasTouchInput=!1,this.tickNumber=-1,this.prevCameraDirWS=new i.Vector3(0,0,0),this.movementIS=new i.Vector2(0,0),this.cameraIS=new i.Vector2(0,0),this.action1=new Button,this.action2=new Button,this.action3=new Button,this.modifier1=new Button,this.emoteAction1=new Button,this.touchAimSurface=new Button}copyFrom(r){this.wasTouchInput=r.wasTouchInput,this.tickNumber=r.tickNumber,this.prevCameraDirWS.copy(r.prevCameraDirWS),this.movementIS.copy(r.movementIS),this.cameraIS.copy(r.cameraIS),this.action1.state=r.action1.state,this.action2.state=r.action2.state,this.action3.state=r.action3.state,this.modifier1.state=r.modifier1.state}projectMovementWithCameraOntoWorldUp(r){r.y=0,r.x=this.movementIS.x,r.z=-this.movementIS.y;let n=Math.atan2(-this.prevCameraDirWS.z,this.prevCameraDirWS.x);n||(n=0),n-=.5*Math.PI,n<0&&(n+=2*Math.PI),r.applyAxisAngle(s,n),r.normalize()}}n.InputSnapshot=InputSnapshot;class InputState extends o.default{constructor(){super(...arguments),this.snapshots=[],this.frameSnapshot=new InputSnapshot}latestSnapshot(){return 0===this.snapshots.length?null:this.snapshots[this.snapshots.length-1]}createSnapshotForTick(r){const n=this.latestSnapshot();let a;return InputState.MAX_NUM_SNAPSHOTS==this.snapshots.length?(a=this.snapshots.shift(),this.snapshots.push(a)):(a=new InputSnapshot,this.snapshots.push(a)),n&&a.copyFrom(n),a.tickNumber=r,a}}n.InputState=InputState,InputState.componentName="InputState",InputState.MAX_NUM_SNAPSHOTS=32},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.NetworkState=n.NetworkClient=void 0;const i=a(24),o=a(288);n.NetworkClient=class NetworkClient{constructor(){this.playerEntity=null,this.inputBuffer=[],this.numInputs=0;for(let r=0;r<o.InputState.MAX_NUM_SNAPSHOTS;r++)this.inputBuffer.push(new o.InputSnapshot)}getCorrespondingSnapshot(r){for(let n=0;n<this.numInputs;n++)if(this.inputBuffer[n].tickNumber===r)return this.inputBuffer[n];return null}};class NetworkState extends i.default{constructor(){super(...arguments),this.isHost=!1,this.networkClients=[]}}n.NetworkState=NetworkState,NetworkState.componentName="NetworkState"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ShooterCommunicator=n.KillConfirmMessage=void 0;const i=a(291),o=a(292),s=a(6),y=a(39),_=a(293),w=a(294),E=a(295),j=a(296),q=a(297),$=a(299),ne=a(300),ie=a(298),oe=a(327),se=a(317),le=a(324),pe=a(328),he=a(319),me=a(329),ge=a(332),ye=a(306),_e=a(8),ve=a(223),Se=a(334),we=a(153),Me=a(321),Te=a(154),Ae=a(197),ke=a(41),Re=a(335),Oe=a(45),Ne=a(337),Fe=a(19),je=a(218),Be=a(69),Ue=a(323),Ve=a(222),We=a(225),Ye=a(279),Xe=a(341);a(172),a(23);class ShooterPlayerState{constructor(r){this.clientId=0,this.clientMeta=null,this.playerUid=y.ENTITY_INVALID_UID,this.tagUid=y.ENTITY_INVALID_UID,this.lastTickNumberReceived=0,this.ticksSinceLastPackage=0,this.isLocal=!1,this.needGameState=!0,this.clientId=r}player(){return _e.entityManager.getEntity(this.playerUid)}drone(){const r=this.player();return r&&r.droneOwnership?_e.entityManager.getEntity(r.droneOwnership.droneUid):null}}class KillConfirmMessage{constructor(){this.tickNumber=0,this.killer="",this.playerKilled="",this.weaponType=ye.WeaponType.DEBUG,this.score=0,this.hitPointType=ye.HitPointType.UNKNOWN,this.isAssist=!1}}n.KillConfirmMessage=KillConfirmMessage,n.ShooterCommunicator=class ShooterCommunicator{constructor(r){this.enabled=!1,this.playerAdded=new Ve.Event,this.playerRemoved=new Ve.Event,this.killedByPlayer=new Ve.Event,this.killedPlayerConfirmation=new Ve.Event,this.gameStateRulesData=new Ve.Event,this.networkLayer=null,this.playerClients=new Map,this.lastSentPlayerStateTick=0,this.tempShooterGameRules=new Xe.ShooterGameRulesPacket,this.tempShooterTeamData=new Xe.ShooterTeamDataPacket,this.tempShooterPlayerState=new Xe.ShooterPlayerStatePacket,this.tempShooterWeaponFireMiss=new Xe.ShooterWeaponFireMissPacket,this.tempShooterWeaponFireHitEnvironment=new Xe.ShooterWeaponFireEnvironmentPacket,this.tempShooterWeaponFireHitPlayer=new Xe.ShooterWeaponFirePlayerPacket,this.tempShooterPlayerDeathEnvironment=new Xe.ShooterPlayerDeathEnvironmentPacket,this.tempShooterPlayerDeathEnvironmentWithAssister=new Xe.ShooterPlayerDeathEnvironmentWithAssisterPacket,this.tempShooterPlayerDeathPlayer=new Xe.ShooterPlayerDeathPlayerPacket,this.tempShooterPlayerDeathPlayerWithAssister=new Xe.ShooterPlayerDeathPlayerWithAssisterPacket,this.tempShooterPlayerRespawnPlayer=new Xe.ShooterPlayerRespawnPlayerPacket,this.tempShooterPlayerTriggerEmote=new Xe.ShooterPlayerTriggerEmotePacket,this.tempShooterPlayerRespawnRequest=new Xe.ShooterRespawnRequestPacket,this.tempShooterPlayerRespawnResponse=new Xe.ShooterRespawnResponsePacket,this.tempKillConfirmedMessage=new KillConfirmMessage,this.zeroVec=new Fe.Vector3(0,0,0),this.tmpDronePos=new Fe.Vector3,this.tmpTransform=new ke.Transform,this.entityManager=r,this.entityManager.registerComponent(ie.default)}statusString(){let r='"'+je.getPlayerMetadata().username+'", peers: ';return this.playerClients.forEach((n,a)=>{r+='"'+n.clientMeta.username+'" ('+n.ticksSinceLastPackage+"), "}),r}getPlayerClient(r){return this.playerClients.get(r)}getClientId(){var r;return(null===(r=this.networkLayer)||void 0===r?void 0:r.clientId)||0}otherClients(){return Array.from(this.playerClients,([r,n])=>n.clientMeta).filter(r=>!!r)}otherClients2(r){this.playerClients.forEach((n,a)=>{n.clientMeta&&n.clientId!==this.getClientId()&&r(n.clientMeta)})}isHost(){var r;return(null===(r=this.networkLayer)||void 0===r?void 0:r.isHost)||!1}getHostMetadata(){var r;return(null===(r=this.networkLayer)||void 0===r?void 0:r.getHostMetadata())||null}getRoomId(){var r;return null===(r=this.networkLayer)||void 0===r?void 0:r.roomId}ensureNetworkLayer(){this.networkLayer||(this.networkLayer=new We.NetworkLayer({host:s.default.brokerUrl}),this.networkLayer.on("setup",r=>{console.log("Setting up network layer")}),this.networkLayer.on("playerJoined",r=>{console.log("Player Joined",r)}),this.networkLayer.on("playerLeft",r=>{console.log("Player Left",r),this.despawn(r,_e.entityManager)}),this.networkLayer.on("peerConnected",r=>{console.log("Peer Connected",r)}),this.networkLayer.on("peerDisconnected",r=>{console.log("Peer Disconnected",r)}))}async createRoom(){Be.log("ShooterCommunicator::createRoom()"),this.ensureNetworkLayer();const r=await this.networkLayer.createRoom();return this.enabled=!0,this.updateLocalClientId(),r}async connectRoom(r){Be.log("ShooterCommunicator::connectRoom()"),this.ensureNetworkLayer(),await this.networkLayer.connectRoom(r),this.updateLocalClientId(),this.enabled=!0}destroy(){Be.log("ShooterCommunicator::destroy()"),this.enabled=!1,this.playerClients.forEach(r=>{this.despawn(r.clientId,this.entityManager)}),this.networkLayer.destroy(),this.networkLayer=null}updateLocalClientId(){const r=this.entityManager.getOrCreateSingleton(we.PlayerState);if(!r.playerEntity||!this.networkLayer)return;const n=this.networkLayer.clientId;let a=this.playerClients.get(n);if((!a||a.clientId===n)&&_e.entityManager.hasComponent(r.playerEntity,q.default)){_e.entityManager.getComponent(r.playerEntity,q.default).clientId=n;const i=je.getPlayerMetadata();a||(a=new ShooterPlayerState(n),a.needGameState=!1,a.clientMeta={clientId:n,playerAvatar:i.avatarModel,username:i.username},this.playerClients.set(n,a)),a.clientMeta.clientId=n,a.playerUid=r.playerEntity.uid,a.isLocal=!0;const o=this.entityManager.getOrCreateSingleton(se.default);let s=o.players.find(r=>r.clientId===n);s||(s=new ie.default,o.players.push(s)),s.clientId=n,s.username=i.username,s.joinedInProgress=!0,s.isConnected=!0,he.default.playerDataChanged.emit(o.players)}}getUsername(r){if(this.networkLayer.clientId==r)return je.getPlayerMetadata().username;for(let n=0;n<this.networkLayer.clients().length;n++)if(this.networkLayer.clients()[n].clientId==r)return this.networkLayer.clients()[n].username;return null}recv(r){this.networkLayer.updateTick(r.currentTickNumber);for(const r of this.networkLayer.incomingPackages())if(null!==r&&this.tryUpdatePlayerState(r.clientId))if(this.playerClients.has(r.clientId))switch(r.type){case Ye.NetworkDataType.DISCONNECT:this.recvDisconnection(r);break;case Ye.NetworkDataType.SHOOTER_GAME_RULES:this.recvGameRules(r);break;case Ye.NetworkDataType.SHOOTER_TEAM_DATA:this.recvTeamData(r);break;case Ye.NetworkDataType.SHOOTER_PLAYER_STATE:this.recvPlayerState(r);break;case Ye.NetworkDataType.SHOOTER_PLAYER_RESPAWN_REQUEST:this.recvRespawnRequest(r);break;case Ye.NetworkDataType.SHOOTER_PLAYER_RESPAWN_RESPONSE:this.recvRespawnResponse(r);break;case Ye.NetworkDataType.CHAT_MESSAGE:const n=this.playerClients.get(r.clientId);(null==n?void 0:n.clientMeta)&&ve.ChatCommunicator.handleChatMessage(r,n.clientMeta);break;case Ye.NetworkDataType.SHOOTER_PLAYER_DAMAGE_ENVIRONMENT:this.recvPlayerDamageEnvironment(r);break;case Ye.NetworkDataType.SHOOTER_PLAYER_DEATH_ENVIRONMENT:this.recvPlayerDeathEnvironment(r);break;case Ye.NetworkDataType.SHOOTER_PLAYER_DEATH_ENVIRONMENT_WITH_ASSISTER:this.recvPlayerDeathEnvironmentWithAssister(r);break;case Ye.NetworkDataType.SHOOTER_PLAYER_DEATH_PLAYER:this.recvPlayerDeathPlayer(r);break;case Ye.NetworkDataType.SHOOTER_PLAYER_DEATH_PLAYER_WITH_ASSISTER:this.recvPlayerDeathPlayerWithAssister(r);break;case Ye.NetworkDataType.SHOOTER_WEAPON_FIRE_HIT_ENVIRONMENT:this.recvWeaponFireHitEnvironment(r);break;case Ye.NetworkDataType.SHOOTER_WEAPON_FIRE_HIT_PLAYER:this.recvWeaponFireHitPlayer(r);break;case Ye.NetworkDataType.SHOOTER_WEAPON_FIRE_MISS:this.recvWeaponFireMiss(r);break;case Ye.NetworkDataType.SHOOTER_PLAYER_RESPAWN:this.recvPlayerRespawn(r);break;case Ye.NetworkDataType.SHOOTER_PLAYER_EMOTE:this.recvPlayerEmote(r)}else console.warn("Threw away packet cause we dont know about sender!!!",r.clientId);this.handleAlive()}tryUpdatePlayerState(r){let n=this.playerClients.get(r);const a=this.entityManager.getOrCreateSingleton(se.default);if(r===this.networkLayer.clientId)return!0;if(!n){Be.log("Creating player state for",r),n=new ShooterPlayerState(r),n.needGameState=!0;const i=this.networkLayer.clients();for(let a=0;a<i.length;a++)if(i[a].clientId===r){n.clientMeta=i[a];break}if(!n.clientMeta)return Be.log("ShooterCommunicator: Missing meta data about client, skipping packet"),!1;this.playerClients.set(r,n),this.playerAdded.emit(n.clientMeta);let o=a.players.find(n=>n.clientId===r);o||(o=new ie.default,o.team=ie.Team.NEUTRAL,a.players.push(o)),o.clientId=n.clientId,o.username=n.clientMeta.username,o.joinedInProgress=!0,o.isConnected=!0,Be.log("Calling send game rules for...",r),he.default.playerDataChanged.emit(a.players)}n.playerUid===y.ENTITY_INVALID_UID&&this.spawn(n,_e.entityManager);let i=_e.entityManager.getEntity(n.playerUid);i||(this.spawn(n,_e.entityManager),i=_e.entityManager.getEntity(n.playerUid)),n.needGameState&&this.networkLayer.isConnectedToPeer(r)&&(this.sendGameRules(r),n.needGameState=!1);const o=a.findPlayerState(r);return o&&(o.isConnected=!0),!0}recvDisconnection(r){r.clientId!==this.getClientId()&&(console.log("GOT DISC PACKET",r.clientId),this.despawn(r.clientId,_e.entityManager))}recvGameRules(r){if(r.clientId===this.getClientId())return;const n=this.entityManager.getOrCreateSingleton(se.default);this.tempShooterGameRules.gameState=n,this.tempShooterGameRules.deserializeFrom(r.deserializer),n.hasUpdatedTeamInfo=!0,this.gameStateRulesChanged()}recvTeamData(r){const n=this.entityManager.getOrCreateSingleton(se.default);this.tempShooterTeamData.gameState=n,this.tempShooterTeamData.deserializeFrom(r.deserializer),r.clientId!==this.getClientId()&&(n.hasUpdatedTeamInfo=!0,this.gameStateRulesChanged())}recvPlayerState(r){const n=this.playerClients.get(r.clientId);if(this.tempShooterPlayerState.deserializeFrom(r.deserializer),r.clientId===this.getClientId())return;const a=this.tempShooterPlayerState.tickNumber;a<=n.lastTickNumberReceived?Be.log("ShooterCommunicator: Received old packet with tick ",a,", latest received: ",n.lastTickNumberReceived,", skipping..."):(n.lastTickNumberReceived=a,this.update(n,this.tempShooterPlayerState,this.entityManager),n.ticksSinceLastPackage=0)}recvPlayerDamageEnvironment(r){}recvPlayerDeathEnvironment(r){this.tempShooterPlayerDeathEnvironment.deserializeFrom(r.deserializer),r.clientId!==this.getClientId()&&(this.setPlayerDead(r.clientId),this.entityManager.getOrCreateSingleton(se.default).onPlayerDeathEnvironment(r.clientId,se.KillfeedParticipation.None))}recvPlayerDeathEnvironmentWithAssister(r){if(this.tempShooterPlayerDeathEnvironmentWithAssister.deserializeFrom(r.deserializer),r.clientId!==this.getClientId()&&(this.setPlayerDead(r.clientId),this.entityManager.getOrCreateSingleton(se.default).onPlayerDeathEnvironment(r.clientId,this.networkLayer.clientId==this.tempShooterPlayerDeathEnvironmentWithAssister.assisterClientId?se.KillfeedParticipation.Kill:se.KillfeedParticipation.None,this.tempShooterPlayerDeathEnvironmentWithAssister.assisterClientId),this.tempShooterPlayerDeathEnvironmentWithAssister.assisterClientId===this.networkLayer.clientId)){Ue.playSoundSlow("killSound",{volume:1});const n=this.playerClients.get(r.clientId),a=this.entityManager.getOrCreateSingleton(se.default);this.tempKillConfirmedMessage.tickNumber=r.tickNumber,this.tempKillConfirmedMessage.playerKilled=n.clientMeta.username,this.tempKillConfirmedMessage.weaponType=ye.WeaponType.DEBUG,this.tempKillConfirmedMessage.hitPointType=ye.HitPointType.UNKNOWN,this.tempKillConfirmedMessage.score=a.calculateKillScore(this.networkLayer.clientId,r.clientId),this.tempKillConfirmedMessage.isAssist=!1,this.killedPlayerConfirmation.emit(this.tempKillConfirmedMessage)}}recvPlayerDeathPlayer(r){var n;if(this.tempShooterPlayerDeathPlayer.deserializeFrom(r.deserializer),r.clientId===this.getClientId())return;const a=this.playerClients.get(r.clientId),i=this.tempShooterPlayerDeathPlayer;if(this.tempShooterPlayerDeathPlayer.killerClientID===(null===(n=this.networkLayer)||void 0===n?void 0:n.clientId)){Ue.playSoundSlow("killSound",{volume:1});const n=this.entityManager.getOrCreateSingleton(se.default);this.tempKillConfirmedMessage.tickNumber=r.tickNumber,this.tempKillConfirmedMessage.playerKilled=a.clientMeta.username,this.tempKillConfirmedMessage.weaponType=i.weaponType,this.tempKillConfirmedMessage.hitPointType=i.hitPointType,this.tempKillConfirmedMessage.score=n.calculateKillScore(this.networkLayer.clientId,r.clientId),this.tempKillConfirmedMessage.isAssist=!1,this.killedPlayerConfirmation.emit(this.tempKillConfirmedMessage)}const o=_e.entityManager.getEntity(a.playerUid);this.setPlayerDead(r.clientId),ne.killVFX(this.entityManager,o.avatar,o.node.position,this.tempShooterPlayerDeathPlayer.hitPointType),this.entityManager.getOrCreateSingleton(se.default).onPlayerDeathPlayer(this.tempShooterPlayerDeathPlayer.killerClientID,r.clientId,se.KillfeedParticipation.None,0,i.weaponType,i.hitPointType)}recvPlayerDeathPlayerWithAssister(r){if(this.tempShooterPlayerDeathPlayerWithAssister.deserializeFrom(r.deserializer),r.clientId===this.getClientId())return;const n=this.tempShooterPlayerDeathPlayerWithAssister;console.log("PLayerDeathWithAssister",n.killerClientID,n.assister);const a=this.playerClients.get(r.clientId),i=_e.entityManager.getEntity(a.playerUid);if(this.setPlayerDead(r.clientId),ne.killVFX(this.entityManager,i.avatar,i.node.position,n.hitPointType),n.killerClientID===this.networkLayer.clientId){Ue.playSoundSlow("killSound",{volume:1});const i=this.entityManager.getOrCreateSingleton(se.default);this.tempKillConfirmedMessage.tickNumber=r.tickNumber,this.tempKillConfirmedMessage.playerKilled=a.clientMeta.username,this.tempKillConfirmedMessage.weaponType=n.weaponType,this.tempKillConfirmedMessage.hitPointType=n.hitPointType,this.tempKillConfirmedMessage.score=i.calculateKillScore(n.killerClientID,r.clientId),this.tempKillConfirmedMessage.isAssist=!1,this.killedPlayerConfirmation.emit(this.tempKillConfirmedMessage)}if(n.assister===this.networkLayer.clientId){Ue.playSoundSlow("killSound",{volume:1});const i=this.entityManager.getOrCreateSingleton(se.default);this.tempKillConfirmedMessage.tickNumber=r.tickNumber,this.tempKillConfirmedMessage.playerKilled=a.clientMeta.username,this.tempKillConfirmedMessage.weaponType=n.weaponType,this.tempKillConfirmedMessage.hitPointType=n.hitPointType,this.tempKillConfirmedMessage.score=i.calculateAssistScore(n.assister,r.clientId),this.tempKillConfirmedMessage.isAssist=!0,this.killedPlayerConfirmation.emit(this.tempKillConfirmedMessage)}this.entityManager.getOrCreateSingleton(se.default).onPlayerDeathPlayer(n.killerClientID,r.clientId,se.KillfeedParticipation.None,n.assister,n.weaponType,n.hitPointType)}recvPlayerEmote(r){if(r.clientId===this.getClientId())return;const n=this.playerClients.get(r.clientId);if(!n)return;const a=_e.entityManager.getEntity(n.playerUid);a?_e.entityManager.updateComponent(a,Ae.default,{state:Te.AvatarState.EMOTE_1}):console.warn("We got player respawn packet without entity id existing")}recvPlayerRespawn(r){r.clientId!==this.getClientId()&&this.setPlayerAlive(r.clientId)}recvWeaponFireMiss(r){this.tempShooterWeaponFireMiss.deserializeFrom(r.deserializer),r.clientId!==this.getClientId()&&this.shoot(r.clientId,this.tempShooterWeaponFireMiss.visualDestination,this.tempShooterWeaponFireMiss.weaponType,!1,-1,ye.HitPointType.UNKNOWN)}recvWeaponFireHitEnvironment(r){this.tempShooterWeaponFireHitEnvironment.deserializeFrom(r.deserializer),r.clientId!==this.getClientId()&&this.shoot(r.clientId,this.tempShooterWeaponFireHitEnvironment.visualDestination,this.tempShooterWeaponFireHitEnvironment.weaponType,!0,-1,ye.HitPointType.UNKNOWN)}recvWeaponFireHitPlayer(r){var n,a,o;if(this.tempShooterWeaponFireHitPlayer.deserializeFrom(r.deserializer),r.clientId===this.getClientId())return;const s=this.tempShooterWeaponFireHitPlayer.hitPlayerClientID,y=this.networkLayer.clientId===s,_=this.tempShooterWeaponFireHitPlayer.hitPointType,w=y?null===(n=_e.entityManager.getOrCreateSingleton(we.PlayerState).playerEntity)||void 0===n?void 0:n.uid:null===(a=this.playerClients.get(s))||void 0===a?void 0:a.playerUid;if(!w)return;const E=this.entityManager.getEntity(w);if(!E)return;const j=this.entityManager.getOrCreateSingleton(se.default),q=j.findPlayerState(s),$=j.findPlayerState(r.clientId);if(((null==q?void 0:q.team)===ie.Team.NEUTRAL||(null==$?void 0:$.team)!==(null==q?void 0:q.team))&&E.health.isAlive&&j.state===se.ShooterGameState.ACTIVE_GAME){const n=ye.WeaponStatsMap.get(this.tempShooterWeaponFireHitPlayer.weaponType);if(!n)return;const a=ye.getWeaponDamage(this.entityManager,n,_),s=this.playerClients.get(r.clientId).playerUid,w=null===(o=this.entityManager.getEntity(s))||void 0===o?void 0:o.node.position,j=E.health.damage(a,i.DamageCause.WEAPON_FIRE,w,s,r.clientId);if(y||(E.health.hp=Math.max(E.health.hp,1)),y&&(Ue.playSound("impactBody",.8,!1),j)){const n=E.health.assisters;let a=-1;for(let i=0;i<n.length;i++)n[i].clientId!=r.clientId&&(a<0||n[i].dmg>n[a].dmg||n[i].dmg==n[a].dmg&&n[i].time>n[a].time)&&(a=i);a>-1?(this.sendPlayerDeathPlayerWithAssister(r.clientId,this.tempShooterWeaponFireHitPlayer.weaponType,_,n[a].clientId),this.entityManager.getOrCreateSingleton(se.default).onPlayerDeathPlayer(r.clientId,this.networkLayer.clientId,se.KillfeedParticipation.None,n[a].clientId,this.tempShooterWeaponFireHitPlayer.weaponType,this.tempShooterWeaponFireHitPlayer.hitPointType)):(this.sendPlayerDeathPlayer(r.clientId,this.tempShooterWeaponFireHitPlayer.weaponType,_),this.entityManager.getOrCreateSingleton(se.default).onPlayerDeathPlayer(r.clientId,this.networkLayer.clientId,se.KillfeedParticipation.None,0,this.tempShooterWeaponFireHitPlayer.weaponType,this.tempShooterWeaponFireHitPlayer.hitPointType)),ne.killVFX(this.entityManager,E.avatar,E.node.position,_)}}const oe=this.tempShooterWeaponFireHitPlayer.visualDestination.add(E.node.position);this.shoot(r.clientId,oe,this.tempShooterWeaponFireHitPlayer.weaponType,!0,w,_)}handleAlive(){for(const r of this.playerClients.values())r.isLocal||(r.ticksSinceLastPackage+=1,r.ticksSinceLastPackage>500&&this.despawn(r.clientId,_e.entityManager))}send(r){this.sendGameRules(),this.sendTeamData(),this.sendPlayerState(),this.handleSendFire(),this.handleSendEnvironmentalDeath(),this.handleSendRespawnRequest(),this.handleSendRespawnResponse(),this.handleSendRespawn(),this.handleSendEmoteTrigger(),this.networkLayer.sendPackages()}sendGameRules(r){if(!this.isHost())return!1;const n=this.entityManager.getOrCreateSingleton(se.default);return!(!n.gameStateUpdated&&!r||(console.log("Sending game rules",r,n.players.length),this.tempShooterGameRules.gameState=n,this.gameStateRulesChanged(),r?this.networkLayer.sendSinglePackage(_e.entityManager.currentTickNumber,Ye.NetworkDataType.SHOOTER_GAME_RULES,this.tempShooterGameRules,Ye.NetworkChannelType.RELIABLE,r):this.networkLayer.queuePackage(_e.entityManager.currentTickNumber,Ye.NetworkDataType.SHOOTER_GAME_RULES,this.tempShooterGameRules,Ye.NetworkChannelType.RELIABLE),n.gameStateUpdated=!1,0))}sendTeamData(){if(!this.isHost())return;const r=this.entityManager.getOrCreateSingleton(se.default),n=this.entityManager.getOrCreateSingleton(Me.ShooterCommunicatorEventQueues);n.updatePlayerTeams&&(n.updatePlayerTeams=!1,this.tempShooterTeamData.gameState=r,this.networkLayer.queuePackage(_e.entityManager.currentTickNumber,Ye.NetworkDataType.SHOOTER_TEAM_DATA,this.tempShooterTeamData,Ye.NetworkChannelType.RELIABLE))}sendPlayerState(){var r;if(this.entityManager.currentTickNumber-this.lastSentPlayerStateTick<2)return;this.lastSentPlayerStateTick=this.entityManager.currentTickNumber;const n=_e.entityManager.getOrCreateSingleton(we.PlayerState);{const{node:r,avatar:a,characterController:i}=n.playerEntity;this.tempShooterPlayerState.tickNumber=this.entityManager.currentTickNumber,this.tempShooterPlayerState.playerPosition.copy(r.position),this.tempShooterPlayerState.lookDirection.set(a.lookDirection.x,a.lookDirection.y,a.lookDirection.z),this.tempShooterPlayerState.localVelocity.set(i.localVelocity.x,i.localVelocity.y,i.localVelocity.z),this.tempShooterPlayerState.moveDirection.set(i.direction.x,i.direction.y,i.direction.z)}{const a=null===(r=n.playerEntity.droneOwnership)||void 0===r?void 0:r.drone();if(a){const{node:r}=a;this.tempShooterPlayerState.robotPosition.copy(r.position),this.tempShooterPlayerState.robotRotation.set(r.rotation.x,r.rotation.y,r.rotation.z,r.rotation.w),this.tempShooterPlayerState.hasDrone=!0,this.tempShooterPlayerState.weaponType=a.drone.type}else this.tempShooterPlayerState.hasDrone=!1,this.tempShooterPlayerState.weaponType=ye.WeaponType.STARTER}this.networkLayer.queuePackage(_e.entityManager.currentTickNumber,Ye.NetworkDataType.SHOOTER_PLAYER_STATE,this.tempShooterPlayerState,Ye.NetworkChannelType.UNRELIABLE)}handleSendEnvironmentalDeath(){const r=this.entityManager.getOrCreateSingleton(Me.ShooterCommunicatorEventQueues);let n=Xe.NetworkDamageCause.UNKNOWN;if(r.playerDied){switch(r.playerDeathCause){case i.DamageCause.FALL:n=Xe.NetworkDamageCause.FALL;break;case i.DamageCause.DEATH_VOLUME:case i.DamageCause.COLLIDE_DAMAGE:n=Xe.NetworkDamageCause.ENVIRONMENT}n!=Xe.NetworkDamageCause.UNKNOWN&&(r.lastAssister?this.sendPlayerDeathEnvironmentWithAssister(n,r.lastAssister.clientId):this.sendPlayerDeathEnvironment(n))}r.clearPlayerDiedQueue()}handleSendEmoteTrigger(){const r=this.entityManager.getOrCreateSingleton(Me.ShooterCommunicatorEventQueues);r.playerTriggerEmote&&(this.networkLayer.queuePackage(_e.entityManager.currentTickNumber,Ye.NetworkDataType.SHOOTER_PLAYER_EMOTE,this.tempShooterPlayerTriggerEmote,Ye.NetworkChannelType.RELIABLE)||Be.warn("ShooterCommunicator: Failed to send SHOOTER_PLAYER_EMOTE packet"),r.playerTriggerEmote=!1)}handleSendRespawn(){const r=this.entityManager.getOrCreateSingleton(Me.ShooterCommunicatorEventQueues);r.playerRespawned&&(console.log("Send respawn packet"),this.networkLayer.queuePackage(_e.entityManager.currentTickNumber,Ye.NetworkDataType.SHOOTER_PLAYER_RESPAWN,this.tempShooterPlayerRespawnPlayer,Ye.NetworkChannelType.RELIABLE)||Be.warn("ShooterCommunicator: Failed to send SHOOTER_PLAYER_RESPAWN packet"),r.clearPlayerRespawnedQueue())}handleSendRespawnRequest(){const r=this.entityManager.getOrCreateSingleton(Me.ShooterCommunicatorEventQueues);r.wantRespawn&&this.networkLayer.isConnectedToPeer()&&(console.log("ShooterCommunicator.sendRespawnRequest: Send"),this.networkLayer.queuePackage(_e.entityManager.currentTickNumber,Ye.NetworkDataType.SHOOTER_PLAYER_RESPAWN_REQUEST,this.tempShooterPlayerRespawnRequest,Ye.NetworkChannelType.RELIABLE)?r.wantRespawn=!1:Be.warn("ShooterCommunicator.sendRespawnRequest: Sendfail"))}recvRespawnRequest(r){if(r.clientId===this.getClientId())return;console.log("ShooterCommunicator.recvRespawnRequest: Receive");const n=this.playerClients.get(r.clientId),a=_e.entityManager.getEntity(n.playerUid);if(!a)return void console.error("Cant respawn cause we dont have entity");_e.entityManager.addComponentSlow(a,le.default);const i=_e.entityManager.getComponent(a,le.default);i.hasRequest=!0,i.requestCid=r.clientId}handleSendRespawnResponse(){if(!this.isHost())return;const r=_e.entityManager.getOrCreateSingleton(Me.ShooterCommunicatorEventQueues),n=r.arrRespawnRequest;if(n&&!(n.length<1)){for(let r=0;r<n.length;r++){const a=this.playerClients.get(n[r].cid);a&&(_e.entityManager.getEntity(a.playerUid),console.log("SendRespawnResponse"),this.sendRespawnResponse(n[r].cid,n[r].pos,n[r].yaw))}r.clearPlayerRespawnRequestQueue()}}sendRespawnResponse(r,n,a){console.log("ShooterCommunicator.sendRespawnResponse: Send",r),this.tempShooterPlayerRespawnResponse.position.copy(n),this.tempShooterPlayerRespawnResponse.yaw=a,this.networkLayer.sendSinglePackage(_e.entityManager.currentTickNumber,Ye.NetworkDataType.SHOOTER_PLAYER_RESPAWN_RESPONSE,this.tempShooterPlayerRespawnResponse,Ye.NetworkChannelType.RELIABLE,r)||Be.warn("ShooterCommunicator.sendRespawnResponse: Sendfail")}recvRespawnResponse(r){if(console.log("ShooterCommunicator.recvRespawnResponse: Receive"),this.tempShooterPlayerRespawnResponse.deserializeFrom(r.deserializer),r.clientId===this.getClientId())return;const n=_e.entityManager.getOrCreateSingleton(we.PlayerState).playerEntity;_e.entityManager.addComponentSlow(n,le.default),console.log("Updating respawning comp");const a=_e.entityManager.getComponent(n,le.default);a.forceRespawn=!1,a.hasResponse=!0,a.responsePos=this.tempShooterPlayerRespawnResponse.position,a.responseYaw=this.tempShooterPlayerRespawnResponse.yaw,a.waitingForRespawn=!1}sendPlayerDamageEnvironment(){}sendPlayerDeathEnvironment(r){this.tempShooterPlayerDeathEnvironment.networkDamageCause=r,this.entityManager.getOrCreateSingleton(se.default).onPlayerDeathEnvironment(this.networkLayer.clientId,se.KillfeedParticipation.Death),this.networkLayer.queuePackage(_e.entityManager.currentTickNumber,Ye.NetworkDataType.SHOOTER_PLAYER_DEATH_ENVIRONMENT,this.tempShooterPlayerDeathEnvironment,Ye.NetworkChannelType.RELIABLE)||Be.warn("ShooterCommunicator: Failed to send SHOOTER_PLAYER_DEATH_ENVIRONMENT packet")}sendPlayerDeathEnvironmentWithAssister(r,n){this.tempShooterPlayerDeathEnvironmentWithAssister.networkDamageCause=r,this.tempShooterPlayerDeathEnvironmentWithAssister.assisterClientId=n,this.entityManager.getOrCreateSingleton(se.default).onPlayerDeathEnvironment(this.networkLayer.clientId,se.KillfeedParticipation.Death,n),this.networkLayer.queuePackage(_e.entityManager.currentTickNumber,Ye.NetworkDataType.SHOOTER_PLAYER_DEATH_ENVIRONMENT_WITH_ASSISTER,this.tempShooterPlayerDeathEnvironmentWithAssister,Ye.NetworkChannelType.RELIABLE)||Be.warn("ShooterCommunicator: Failed to send SHOOTER_PLAYER_DEATH_ENVIRONMENT_WITH_ASSISTER packet")}sendPlayerDeathPlayer(r,n,a){this.tempShooterPlayerDeathPlayer.killerClientID=r,this.tempShooterPlayerDeathPlayer.weaponType=n,this.tempShooterPlayerDeathPlayer.hitPointType=a,this.networkLayer.queuePackage(_e.entityManager.currentTickNumber,Ye.NetworkDataType.SHOOTER_PLAYER_DEATH_PLAYER,this.tempShooterPlayerDeathPlayer,Ye.NetworkChannelType.RELIABLE)||Be.warn("ShooterCommunicator: Failed to send SHOOTER_PLAYER_DEATH_PLAYER packet")}sendPlayerDeathPlayerWithAssister(r,n,a,i){this.tempShooterPlayerDeathPlayerWithAssister.killerClientID=r,this.tempShooterPlayerDeathPlayerWithAssister.weaponType=n,this.tempShooterPlayerDeathPlayerWithAssister.hitPointType=a,this.tempShooterPlayerDeathPlayerWithAssister.assister=i,this.networkLayer.queuePackage(_e.entityManager.currentTickNumber,Ye.NetworkDataType.SHOOTER_PLAYER_DEATH_PLAYER_WITH_ASSISTER,this.tempShooterPlayerDeathPlayerWithAssister,Ye.NetworkChannelType.RELIABLE)||Be.warn("ShooterCommunicator: Failed to send SHOOTER_PLAYER_DEATH_PLAYER packet")}handleSendFire(){const r=this.entityManager.getOrCreateSingleton(pe.default);if(r.shotFired){if(r.hit)if(r.hitPlayer){const n=this.playerUIDToClientID(r.hitPlayerEntityId);n<0?this.sendWeaponFireHitEnvironment(r.visualDestination,r.weaponType):this.sendWeaponFireHitPlayer(r.visualDestination,n,r.weaponType,r.hitPointType)}else this.sendWeaponFireHitEnvironment(r.visualDestination,r.weaponType);else this.sendWeaponFireMiss(r.visualDestination,r.weaponType);r.shotFired=!1}}sendWeaponFireHitPlayer(r,n,a,i){const o=this.playerClients.get(n);if(!o)return;const s=_e.entityManager.getEntity(o.playerUid);if(!s)return;const y=_e.entityManager.getComponent(s,ke.default);this.tempShooterWeaponFireHitPlayer.visualDestination.copy(r).sub(y.position),this.tempShooterWeaponFireHitPlayer.hitPlayerClientID=n,this.tempShooterWeaponFireHitPlayer.weaponType=a,this.tempShooterWeaponFireHitPlayer.hitPointType=i,this.networkLayer.queuePackage(_e.entityManager.currentTickNumber,Ye.NetworkDataType.SHOOTER_WEAPON_FIRE_HIT_PLAYER,this.tempShooterWeaponFireHitPlayer,Ye.NetworkChannelType.RELIABLE)||Be.warn("ShooterCommunicator: Failed to send SHOOTER_WEAPON_FIRE_HIT_PLAYER packet")}sendWeaponFireHitEnvironment(r,n){this.tempShooterWeaponFireHitEnvironment.visualDestination.copy(r),this.tempShooterWeaponFireHitEnvironment.weaponType=n,this.networkLayer.queuePackage(_e.entityManager.currentTickNumber,Ye.NetworkDataType.SHOOTER_WEAPON_FIRE_HIT_ENVIRONMENT,this.tempShooterWeaponFireHitEnvironment,Ye.NetworkChannelType.UNRELIABLE)||Be.warn("ShooterCommunicator: Failed to send SHOOTER_WEAPON_FIRE_HIT_ENVIRONMENT packet")}sendWeaponFireMiss(r,n){this.tempShooterWeaponFireMiss.visualDestination.copy(r),this.tempShooterWeaponFireMiss.weaponType=n,this.networkLayer.queuePackage(_e.entityManager.currentTickNumber,Ye.NetworkDataType.SHOOTER_WEAPON_FIRE_MISS,this.tempShooterWeaponFireMiss,Ye.NetworkChannelType.UNRELIABLE)||Be.warn("[ShooterCommunicator.HandleSendFire] : Failed to send SHOOTER_WEAPON_FIRE_HIT_NOTHING packet")}spawn(r,n){const a=r.clientMeta;Be.log("[ShooterCommunicator.Spawn] : Spawning client ",a.clientId," with username ",a.username);const o=n.create();r.playerUid=o.uid;const s=n.addComponentBegin(o,ke.default);s.position.set(0,0,0),n.addComponentBegin(o,Ae.default).model=a.playerAvatar;const y=n.addComponentBegin(o,Re.default);Object.assign(y,oe.shooterCharacterSettings),y.addToGroup(Oe.PHYSICS_GROUPS.OtherPlayer),y.addMask(Oe.PHYSICS_GROUPS.LocalPlayer),n.addComponentBegin(o,i.default).restoreToFullOvershield(),n.addComponentBegin(o,E.default);const w=n.addComponentBegin(o,Ne.default);w.mode=Ne.ViewMode.THIRD_PERSON,w.maxCameraDistance=1.75,w.cameraOffset.set(.4,.25,0),n.addComponentBegin(o,Se.AimTargetComponent);const $=n.addComponentBegin(o,q.default);if($.clientId=a.clientId,$.isLocal=!1,n.addComponentBegin(o,j.default),this.isHost()){const r=n.addComponentBegin(o,le.default);r.hasRequest=!0,r.requestCid=a.clientId}n.addComponentFinalize(),_.spawnVFX(this.entityManager.getComponent(o,Ae.default),s.position)}update(r,n,a){var o;const s=a.getEntity(r.playerUid);if(!a.getComponent(s,i.default).isDead){if(a.hasComponent(s,Ae.default)){const{characterController:r,playerControl:a,lerpPlayer:i}=s;i&&(i.hasNewData=!0,i.targetPosition.copy(n.playerPosition),i.targetLookDirection.set(n.lookDirection.x,n.lookDirection.y,n.lookDirection.z),null===(o=r.object)||void 0===o||o.setVelocity(n.localVelocity),r.direction.set(n.moveDirection.x,n.moveDirection.y,n.moveDirection.z),a.lookDirection.set(n.lookDirection.x,n.lookDirection.y,n.lookDirection.z))}if(n.hasDrone){let i=r.drone(),o=null===i;const y=this.tmpDronePos;if(i?(o=i.drone.type!==n.weaponType,o&&(y.copy(i.node.position),i&&a.remove(i),a.tryGetComponent(s,w.default)&&a.removeComponent(s,w.default))):y.copy(s.node.position),o){i=ge.createDroneEntity(n.weaponType,y);const r=i.uid;{const r=a.addComponentBegin(i,Se.AimTargetComponent);r.height=.05,r.innerRadius=.1,r.enableAimMagnetism=!1,r.critHeightThreshold=9999}{const r=a.addComponentBegin(i,$.default);r.target.position.set(0,20,0);const o=ge.getDroneScale(n.weaponType);r.target.scale.set(o,o,o),r.target.rotation.set(0,0,0,1)}a.addComponentFinalize(),a.hasComponent(s,w.default)?a.getComponent(s,w.default).droneUid=r:(a.addComponentBegin(s,w.default).droneUid=r,a.addComponentFinalize())}}else{const n=r.drone();n&&a.remove(n),a.tryGetComponent(s,w.default)&&a.removeComponent(s,w.default)}}}despawn(r,n){var a,i;if(!this.getClientId()||r===this.getClientId())return void console.warn("Trying to despawn local player");const o=this.playerClients.get(r);if(!o)return void console.warn("We dont have client state for this clientId",r);console.log("Despawning player...",r);const s=o.drone();s&&n.remove(s);const _=n.getEntity(o.playerUid);_&&n.remove(_),o.playerUid=y.ENTITY_INVALID_UID;const w=n.getEntity(o.tagUid);w&&n.remove(w),o.tagUid=y.ENTITY_INVALID_UID;const E=null===(i=null===(a=this.playerClients.get(o.clientId))||void 0===a?void 0:a.clientMeta)||void 0===i?void 0:i.username;E&&this.playerRemoved.emit(E),this.playerClients.delete(o.clientId);const j=n.getOrCreateSingleton(se.default),q=j.players;for(let r=0;r<q.length;r++){const n=q[r];n.clientId===o.clientId&&(n.isConnected=!1)}he.default.playerDataChanged.emit(j.players)}shoot(r,n,a,i,o,s){const y=this.playerClients.get(r).drone();if(!y)return void Be.warn("Drone havent spawned yet so we dont have a source position for shot");const _=y.node.getAbsoluteTransform(this.tmpTransform);_e.entityManager.getOrCreateSingleton(me.WeaponVfxQueue).shotVfxDeferred(_.position,n,i,a,y.drone,y.uid,o,!1)}setPlayerAlive(r){var n;const a=this.playerClients.get(r);if(!a)return;const i=_e.entityManager.getEntity(a.playerUid);if(!i||!i.health)return;i.health.restoreToFullOvershield(),_.spawnVFX(this.entityManager.getComponent(i,Ae.default),i.node.position),i.characterController.addToGroup(Oe.PHYSICS_GROUPS.CharacterAliveFilter),_e.entityManager.updateComponent(i,Re.default);const o=_e.entityManager.getEntity(a.tagUid);o&&(null===(n=o.textBillboard)||void 0===n?void 0:n.sprite)&&(o.textBillboard.sprite.visible=!0)}setPlayerDead(r){var n;const a=this.playerClients.get(r),s=_e.entityManager.getEntity(a.playerUid);if(!s)return;if(s.health.damage(99999,i.DamageCause.WEAPON_FIRE,this.zeroVec,s.uid),s.characterController.removeFromGroup(Oe.PHYSICS_GROUPS.CharacterAliveFilter),s.characterController.direction.set(0,0,0),_e.entityManager.updateComponent(s,Re.default),s.droneOwnership){const r=s.droneOwnership.drone();if(r){s.droneOwnership.droneUid=y.ENTITY_INVALID_UID,_e.entityManager.removeComponent(r,Se.AimTargetComponent),_e.entityManager.addComponentSlow(r,o.default,{ticksLeft:120});const n=this.entityManager.tryGetComponent(r,$.default);n&&(n.target.position.y+=30,n.movementSpeedMeterPerSec=1.5)}}const _=_e.entityManager.getEntity(a.tagUid);_&&(null===(n=_.textBillboard)||void 0===n?void 0:n.sprite)&&(_.textBillboard.sprite.visible=!1)}playerUIDToClientID(r){for(const n of this.playerClients.values()){const a=n.drone();if(n.playerUid===r||a&&a.uid===r)return n.clientId}return-1}uidToPlayerEntity(r){for(const n of this.playerClients.values()){const a=n.drone();if(n.playerUid===r||a&&a.uid===r)return this.entityManager.getEntity(n.playerUid)}return null}uidToTeam(r){for(const n of this.playerClients.values()){const a=n.drone();if(n.playerUid===r||a&&a.uid===r){const r=this.entityManager.getEntity(n.playerUid);return this.entityManager.getComponent(r,q.default).team}}return null}gameStateRulesChanged(){this.gameStateRulesData.emit(_e.entityManager.getOrCreateSingleton(se.default).state)}}},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.DamageCause=void 0;const y=a(42),_=a(24),w=a(26),E=a(39),j=a(8),q=a(19);var $;!function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.COLLIDE_DAMAGE=1]="COLLIDE_DAMAGE",r[r.DEATH_VOLUME=2]="DEATH_VOLUME",r[r.PLATFORMER_PROJECTILE=3]="PLATFORMER_PROJECTILE",r[r.WEAPON_FIRE=4]="WEAPON_FIRE",r[r.FALL=5]="FALL"}($=n.DamageCause||(n.DamageCause={}));class HealthComponent extends _.default{constructor(){super(...arguments),this.hp=200,this.maxHealth=200,this.tookDamage=!1,this.lastDamageTick=-1,this.damageOrigin=new q.Vector3(0,0,0),this.lastDamageCause=$.UNKNOWN,this.lastDamageCausedByEntityUid=E.ENTITY_INVALID_UID,this.assisters=[],this.lastAssister=void 0,this.invulnerable=!1,this.maxOvershield=75}get isDead(){return this.hp<=0}get isAlive(){return this.hp>0}addHealth(r){if(this.hp=Math.min(Math.max(0,this.hp+r),this.maxHealth+this.maxOvershield),r>0){this.assisters.sort((r,n)=>n.time-r.time);let r=0,n=this.assisters.length;for(let a=0;a<this.assisters.length;a++){const i=this.assisters[a];r+=i.dmg;const o=this.maxHealth-r;if(o<this.hp){i.dmg-=this.hp-o,n=a+1,i.dmg<=0&&(n=0);break}}this.assisters.length=n,this.lastAssister=this.assisters[0]}}damage(r,n,a,i,o){if(this.invulnerable)return!1;if(!this.isAlive)return!1;if(this.tookDamage=!0,this.lastDamageTick=j.entityManager.currentTickNumber,this.damageOrigin.copy(a),this.lastDamageCause=n,this.lastDamageCausedByEntityUid=i,this.addHealth(-r),null!=o){this.lastAssister={clientId:o,time:j.entityManager.time};let n=!1;for(let a=0;a<this.assisters.length;a++)if(this.assisters[a].clientId==o){this.assisters[a].dmg+=r,this.assisters[a].time=j.entityManager.time,n=!0;break}n||this.assisters.push({clientId:o,dmg:r,time:j.entityManager.time})}return!(this.hp>0)}clearAssists(){this.assisters=[],this.lastAssister=void 0}restoreToFullHealth(){this.hp=this.maxHealth,this.tookDamage=!1,this.lastDamageTick=-1,this.damageOrigin.set(0,0,0),this.lastDamageCause=$.UNKNOWN,this.lastDamageCausedByEntityUid=E.ENTITY_INVALID_UID,this.clearAssists()}restoreToFullOvershield(){this.restoreToFullHealth(),this.hp+=this.maxOvershield}}HealthComponent.componentName="health",o([w.Property({inspectorOptions:{pattern:y.patterns.floatPositiveNotEmpty,minValue:0}}),s("design:type",Number)],HealthComponent.prototype,"hp",void 0),o([w.Property({inspectorOptions:{pattern:y.patterns.floatPositiveNotEmpty,minValue:0}}),s("design:type",Number)],HealthComponent.prototype,"maxHealth",void 0),o([w.Property({inspector:!1}),s("design:type",Boolean)],HealthComponent.prototype,"tookDamage",void 0),o([w.Property(),s("design:type",Number)],HealthComponent.prototype,"lastDamageTick",void 0),o([w.Property({inspector:!1}),s("design:type","function"==typeof(i=void 0!==q.Vector3&&q.Vector3)?i:Object)],HealthComponent.prototype,"damageOrigin",void 0),o([w.Property(),s("design:type",Number)],HealthComponent.prototype,"lastDamageCause",void 0),o([w.Property(),s("design:type",Number)],HealthComponent.prototype,"lastDamageCausedByEntityUid",void 0),o([w.Property(),s("design:type",Array)],HealthComponent.prototype,"assisters",void 0),o([w.Property(),s("design:type",Object)],HealthComponent.prototype,"lastAssister",void 0),o([w.Property(),s("design:type",Boolean)],HealthComponent.prototype,"invulnerable",void 0),o([w.Property(),s("design:type",Number)],HealthComponent.prototype,"maxOvershield",void 0),n.default=HealthComponent},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class RemoveAfterTicksComponent extends s.default{constructor(){super(...arguments),this.ticksLeft=0}}RemoveAfterTicksComponent.componentName="removeAfterTicks",i([y.Property({inspector:!1}),o("design:type",Number)],RemoveAfterTicksComponent.prototype,"ticksLeft",void 0),n.default=RemoveAfterTicksComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.avatarGlowEffect=n.avatarHitEffect=n.spawnVFX=n.unDissolveAvatar=n.dissolveAvatar=void 0;const i=a(8),o=a(155),s=a(169);function resetEffects(r){r.uniforms.dissolve.value=!1,r.uniforms.unDissolve.value=!1,r.uniforms.hit.value=!1,r.uniforms.highlight.value=!1,r.uniforms.legacyHighlight.value=!1,r.uniforms.highlightPosition.value.set(0,0,0)}function unDissolveAvatar(r){r.aboutToDissolve&&(r.aboutToDissolve=!1),r.mesh.material&&(resetEffects(r.mesh.material),r.mesh.material.uniforms.highlightPosition.value.set(0,0,0),r.mesh.material.uniforms.dissolve.value=!1,r.mesh.material.uniforms.unDissolve.value=!0,r.mesh.material.uniforms.highlightTime.value=i.entityManager.time)}n.dissolveAvatar=function dissolveAvatar(r){resetEffects(r.mesh.material),r.mesh.material.uniforms.highlightPosition.value.set(0,0,0),r.mesh&&(r.mesh.material.uniforms.dissolve.value=!0,r.mesh.material.uniforms.unDissolve.value=!1,r.mesh.material.uniforms.highlightTime.value=i.entityManager.time,r.mesh.material.uniforms.effectLengthSeconds.value=4)},n.unDissolveAvatar=unDissolveAvatar,n.spawnVFX=function spawnVFX(r,n){unDissolveAvatar(r),i.entityManager.getSystem(o.default).playPositionalSound("undissolve",n,s.AUDIO_DEFAULT_VOLUME,s.AUDIO_DEFAULT_REF_DISTANCE,1.5,1)},n.avatarHitEffect=function avatarHitEffect(r,n,a,o,s,y,_,w=1){resetEffects(_.mesh.material);const E=_.mesh.material.uniforms.highlightColor.value,j=_.mesh.material.uniforms.highlightPosition.value;_.mesh.material.uniforms.highlightTime.value=i.entityManager.time,_.mesh.material.uniforms.hit.value=!0,_.mesh.material.uniforms.effectLengthSeconds.value=w,j.set(r,n,a),E.set(o,s,y)},n.avatarGlowEffect=function avatarGlowEffect(r,n,a,o,s,y,_,w=1){resetEffects(_.mesh.material);const E=_.mesh.material.uniforms.highlightColor.value,j=_.mesh.material.uniforms.highlightPosition.value;_.mesh.material.uniforms.highlightTime.value=i.entityManager.time,_.mesh.material.uniforms.effectLengthSeconds.value=w,_.mesh.material.uniforms.highlight.value=!0,j.set(r,n,a),E.set(o,s,y)}},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26),_=a(39),w=a(8);class DroneOwnershipComponent extends s.default{constructor(){super(...arguments),this.droneUid=_.ENTITY_INVALID_UID}drone(){return this.droneUid===_.ENTITY_INVALID_UID?null:w.entityManager.getEntity(this.droneUid)}}DroneOwnershipComponent.componentName="droneOwnership",i([y.Property(),o("design:type",Number)],DroneOwnershipComponent.prototype,"droneUid",void 0),n.default=DroneOwnershipComponent},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class HealthRegenComponent extends s.default{constructor(){super(...arguments),this.healthRegenDelayMs=4e3,this.healthPerSecond=80,this.maxHealthRegenPercentage=1,this.overshieldDrainPerSecond=1}}HealthRegenComponent.componentName="healthRegen",i([y.Property(),o("design:type",Number)],HealthRegenComponent.prototype,"healthRegenDelayMs",void 0),i([y.Property(),o("design:type",Number)],HealthRegenComponent.prototype,"healthPerSecond",void 0),i([y.Property(),o("design:type",Number)],HealthRegenComponent.prototype,"maxHealthRegenPercentage",void 0),i([y.Property(),o("design:type",Number)],HealthRegenComponent.prototype,"overshieldDrainPerSecond",void 0),n.default=HealthRegenComponent},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const w=a(24),E=a(26),j=a(19);class LerpPlayerComponent extends w.default{constructor(){super(...arguments),this.hasNewData=!1,this.errorOffset=new j.Vector3,this.targetPosition=new j.Vector3,this.targetLookDirection=new j.Vector3}}LerpPlayerComponent.componentName="lerpPlayer",y([E.Property(),_("design:type",Boolean)],LerpPlayerComponent.prototype,"hasNewData",void 0),y([E.Property(),_("design:type","function"==typeof(i=void 0!==j.Vector3&&j.Vector3)?i:Object)],LerpPlayerComponent.prototype,"errorOffset",void 0),y([E.Property(),_("design:type","function"==typeof(o=void 0!==j.Vector3&&j.Vector3)?o:Object)],LerpPlayerComponent.prototype,"targetPosition",void 0),y([E.Property(),_("design:type","function"==typeof(s=void 0!==j.Vector3&&j.Vector3)?s:Object)],LerpPlayerComponent.prototype,"targetLookDirection",void 0),n.default=LerpPlayerComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(24),_=a(26),w=a(298);class NetworkedPlayerComponent extends y.default{constructor(){super(...arguments),this.clientId=0,this.team=w.Team.NEUTRAL,this.isLocal=!1}}NetworkedPlayerComponent.componentName="networkedPlayerComponent",o([_.Property(),s("design:type",Number)],NetworkedPlayerComponent.prototype,"clientId",void 0),o([_.Property(),s("design:type","function"==typeof(i=void 0!==w.Team&&w.Team)?i:Object)],NetworkedPlayerComponent.prototype,"team",void 0),o([_.Property(),s("design:type",Boolean)],NetworkedPlayerComponent.prototype,"isLocal",void 0),n.default=NetworkedPlayerComponent},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.TeamColors=n.Team=void 0;const s=a(24),y=a(26);var _;!function(r){r[r.NEUTRAL=0]="NEUTRAL",r[r.RED=1]="RED",r[r.BLUE=2]="BLUE",r[r.GREEN=3]="GREEN",r[r.YELLOW=4]="YELLOW"}(_=n.Team||(n.Team={})),n.TeamColors=["#FFFFFF","#FF0000","#0000FF","#00FF00","#00FFFF"];class PlayerStateComponent extends s.default{constructor(){super(...arguments),this.clientId=0,this.username="",this.score=0,this.kills=0,this.assists=0,this.deaths=0,this.team=_.NEUTRAL,this.environmentalDeaths=0,this.joinedInProgress=!1,this.isConnected=!1}}PlayerStateComponent.componentName="playerState",i([y.Property(),o("design:type",Number)],PlayerStateComponent.prototype,"clientId",void 0),i([y.Property(),o("design:type",String)],PlayerStateComponent.prototype,"username",void 0),i([y.Property(),o("design:type",Number)],PlayerStateComponent.prototype,"score",void 0),i([y.Property(),o("design:type",Number)],PlayerStateComponent.prototype,"kills",void 0),i([y.Property(),o("design:type",Number)],PlayerStateComponent.prototype,"assists",void 0),i([y.Property(),o("design:type",Number)],PlayerStateComponent.prototype,"deaths",void 0),i([y.Property(),o("design:type",Number)],PlayerStateComponent.prototype,"team",void 0),i([y.Property(),o("design:type",Number)],PlayerStateComponent.prototype,"environmentalDeaths",void 0),i([y.Property(),o("design:type",Boolean)],PlayerStateComponent.prototype,"joinedInProgress",void 0),i([y.Property(),o("design:type",Boolean)],PlayerStateComponent.prototype,"isConnected",void 0),n.default=PlayerStateComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(24),_=a(26),w=a(41);class TransformTargetComponent extends y.default{constructor(){super(...arguments),this.target=(new w.Transform).setIdentity(),this.movementSpeedMeterPerSec=10,this.rotationSpeedDegAnglePerSec=180,this.scaleSpeedUnitPerSec=1e3}}TransformTargetComponent.componentName="transformTarget",o([_.Property(),s("design:type","function"==typeof(i=void 0!==w.Transform&&w.Transform)?i:Object)],TransformTargetComponent.prototype,"target",void 0),o([_.Property(),s("design:type",Number)],TransformTargetComponent.prototype,"movementSpeedMeterPerSec",void 0),o([_.Property(),s("design:type",Number)],TransformTargetComponent.prototype,"rotationSpeedDegAnglePerSec",void 0),o([_.Property(),s("design:type",Number)],TransformTargetComponent.prototype,"scaleSpeedUnitPerSec",void 0),n.default=TransformTargetComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.killVFX=n.createDamageNumber=n.laserEffectOnAvatar=void 0;const i=a(152),o=a(165),s=a(23),y=a(41),_=a(301),w=a(172),E=a(19),j=a(292),q=a(302),$=a(293),ne=a(303),ie=a(304),oe=a(305),se=a(306),le=a(326);n.laserEffectOnAvatar=function laserEffectOnAvatar(r,n,a,i,o){if(!i.mesh||!i.mesh.material)return;const s=1-o;$.avatarHitEffect(r,n,a,1,.15+1.5*Math.pow(s,2),1.5*Math.pow(s,20),i,1.6*o+.25)};const pe=new E.Vector3;n.createDamageNumber=function createDamageNumber(r,n,a,o=!1){const s=Math.random;pe.copy(n),pe.x+=.1*(s()-s()),pe.y+=.1*(s()-s()),pe.z+=.1*(s()-s()),pe.y+=.95;const _=0===a?"":""+a;if(o){const n=r.create();r.addComponentBegin(n,y.default).position.copy(pe);const a=r.addComponentBegin(n,i.default);a.text=_,a.scale=.45,a.color="#ffef42",a.bgLineWidth=5,a.cache=!0,a.sizeAttenuation=!1,r.addComponentBegin(n,j.default).ticksLeft=25,r.addComponentBegin(n,oe.default).value.set(0,4,0),r.addComponentBegin(n,q.default).value.set(0,-4.5,0),r.addComponentBegin(n,ne.default).scriptName="AnimateCritText",r.addComponentFinalize()}else{const n=r.create();r.addComponentBegin(n,y.default).position.copy(pe);const a=r.addComponentBegin(n,i.default);a.text=_,a.scale=.4,a.color="#ffffe0",a.bgLineWidth=5,a.cache=!0,a.sizeAttenuation=!1,r.addComponentBegin(n,j.default).ticksLeft=25+Math.ceil(10*s());let o=s()-s();o=Math.min(Math.abs(o),.8)*Math.sign(o)*2,r.addComponentBegin(n,oe.default).value.set(o,5,o),r.addComponentBegin(n,q.default).value.set(0,-10,0),r.addComponentFinalize()}},ie.default.RegisterScript("AnimateCritText",(r,n)=>{const a=r.tryGetComponent(n,i.default),o=r.tryGetComponent(n,j.default);if(a&&o){const a=30-o.ticksLeft;let i;const s=0,_=2,w=10,E=10;i=a<w?s+_/w*a:s+Math.max(_-_/E*(a-w),1);const j=r.getComponent(n,y.default);j.scale.x=i,j.scale.y=i,j.scale.z=i,j.isDirty=!0}}),n.killVFX=function killVFX(r,n,a,i){n.mesh&&n.mesh.material&&(i===se.HitPointType.CRITICAL&&(function createLightEffect(r,n){const a=r.create();r.addComponentBegin(a,y.default).position.copy(n);const i=r.addComponentBegin(a,o.default);i.strength=4,i.color.setRGB(1,1,1),r.addComponentBegin(a,oe.default).value.set(0,-.8,0),r.addComponentBegin(a,j.default).ticksLeft=100,r.addComponentFinalize()}(r,a),function createKillParticleEffect(r,n){const a=r.create(),i=r.addComponentBegin(a,y.default);i.position.copy(n),i.position.y+=.6,i.skipInterpolate=!0,i.scale.set(3,3,3),r.addComponentBegin(a,j.default).ticksLeft=5;const o=r.addComponentBegin(a,_.default);o.preset="killEffect",o.runOnce=!0,r.addComponentBegin(a,w.default).geometry="Sphere";const E=r.addComponentBegin(a,s.default);E.material="Basic",E.color.setRGB(1,1,1),E.opacity=.05,E.blending=s.BlendingMode.AdditiveBlending,r.addComponentFinalize()}(r,a)),$.avatarGlowEffect(0,0,0,3,3,3,n,.5),n.aboutToDissolve=!0,async function killVFXDissolve(r){await le.delay(500),r.aboutToDissolve&&$.dissolveAvatar(r),r.aboutToDissolve=!1}(n))}},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(24),_=a(26),w=a(19);class LegacyParticleEffectComponent extends y.default{constructor(){super(...arguments),this.emitters=[],this.preset="explosion",this.runOnce=!0,this.time=0,this.endTime=0,this.offset=new w.Vector3,this.disableInStudio=!1}}LegacyParticleEffectComponent.componentName="legacyParticleEffect",o([_.Property(),s("design:type",String)],LegacyParticleEffectComponent.prototype,"preset",void 0),o([_.Property(),s("design:type",Boolean)],LegacyParticleEffectComponent.prototype,"runOnce",void 0),o([_.Property(),s("design:type",Number)],LegacyParticleEffectComponent.prototype,"time",void 0),o([_.Property(),s("design:type",Number)],LegacyParticleEffectComponent.prototype,"endTime",void 0),o([_.Property(),s("design:type","function"==typeof(i=void 0!==w.Vector3&&w.Vector3)?i:Object)],LegacyParticleEffectComponent.prototype,"offset",void 0),o([_.Property({inspector:!1}),s("design:type",Boolean)],LegacyParticleEffectComponent.prototype,"disableInStudio",void 0),n.default=LegacyParticleEffectComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(24),_=a(19),w=a(26);class AccelerationComponent extends y.default{constructor(){super(...arguments),this.value=new _.Vector3}}AccelerationComponent.componentName="acceleration",o([w.Property({inspector:!1}),s("design:type","function"==typeof(i=void 0!==_.Vector3&&_.Vector3)?i:Object)],AccelerationComponent.prototype,"value",void 0),n.default=AccelerationComponent},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class ScriptComponent extends s.default{constructor(){super(...arguments),this.scriptName=""}}ScriptComponent.componentName="script",i([y.Property(),o("design:type",String)],ScriptComponent.prototype,"scriptName",void 0),n.default=ScriptComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(41),_=a(36),w=a(37),E=a(40),j=a(19),q=a(303);class ScriptSystem extends E.default{constructor(){super(...arguments),this.tmpVec1=new j.Vector3}static RegisterScript(r,n){ScriptSystem.Scripts.set(r,n)}updateTick(r,n){for(let r=0;r<this.entityGroup.length;r++){const{script:n}=this.entityGroup.entities[r],a=ScriptSystem.Scripts.get(n.scriptName);a&&a(this.entityManager,this.entityGroup.entities[r])}}}ScriptSystem.order=10,ScriptSystem.Scripts=new Map,o([_.InjectGroup(y.default,q.default),s("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],ScriptSystem.prototype,"entityGroup",void 0),n.default=ScriptSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(24),_=a(19),w=a(26);class VelocityComponent extends y.default{constructor(){super(...arguments),this.value=new _.Vector3}}VelocityComponent.componentName="velocity",o([w.Property({inspector:!1}),s("design:type","function"==typeof(i=void 0!==_.Vector3&&_.Vector3)?i:Object)],VelocityComponent.prototype,"value",void 0),n.default=VelocityComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WeaponStatsMap=n.getWeaponDamage=n.HitPointType=n.WEAPON_TYPE_ENUM_MAX=n.WeaponType=n.AllowedWeaponType=n.WeaponStats=void 0;const i=a(307),o=a(313),s=a(314),y=a(316),_=a(317),w=a(325);class WeaponStats{constructor(r){this.effectiveRange=200,this.maxRange=200,this.aimAssistStrength=.3,this.minSpread=0,this.maxSpread=0,this.spreadRecoveryTimeMs=1e3,this.spreadRampUpTimeMs=1e3,this.damage=5,this.critModifier=2,this.ticksBetweenShots=5,this.autoFireDelay=0,this.knockback=0,this.recoil=0,this.vfx=s.LaserPelletVFX,Object.assign(this,r)}}var E,j,q;n.WeaponStats=WeaponStats,(q=n.AllowedWeaponType||(n.AllowedWeaponType={}))[q.LONG_RANGE=0]="LONG_RANGE",q[q.RAPID_FIRE=1]="RAPID_FIRE",q[q.STARTER=2]="STARTER",q[q.UPGRADE=3]="UPGRADE",q[q.ICICLE=4]="ICICLE",q[q.PLASMA=5]="PLASMA",q[q.ELECTRIC_LASER=6]="ELECTRIC_LASER",q[q.WATER_GUN=8]="WATER_GUN",function(r){r[r.LONG_RANGE=0]="LONG_RANGE",r[r.RAPID_FIRE=1]="RAPID_FIRE",r[r.STARTER=2]="STARTER",r[r.UPGRADE=3]="UPGRADE",r[r.ICICLE=4]="ICICLE",r[r.PLASMA=5]="PLASMA",r[r.ELECTRIC_LASER=6]="ELECTRIC_LASER",r[r.DEBUG=7]="DEBUG",r[r.WATER_GUN=8]="WATER_GUN"}(E=n.WeaponType||(n.WeaponType={})),n.WEAPON_TYPE_ENUM_MAX=9,function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.BODY=1]="BODY",r[r.CRITICAL=2]="CRITICAL",r[r.DRONE=3]="DRONE"}(j=n.HitPointType||(n.HitPointType={})),n.getWeaponDamage=(r,n,a)=>{if(r.getOrCreateSingleton(_.default).state!==_.ShooterGameState.ACTIVE_GAME)return 0;let i=n.damage;switch(a){case j.CRITICAL:i*=n.critModifier;break;case j.DRONE:i=i*n.critModifier*.75;break;case j.BODY:}return Math.ceil(i)},n.WeaponStatsMap=new Map([[E.LONG_RANGE,new WeaponStats({effectiveRange:50,critModifier:2,aimAssistStrength:.5,minSpread:0,maxSpread:.1,spreadRampUpTimeMs:0,spreadRecoveryTimeMs:525,damage:50,knockback:10,recoil:10,ticksBetweenShots:15,autoFireDelay:2,vfx:i.ElectricLaserVFX})],[E.STARTER,new WeaponStats({effectiveRange:20,critModifier:1.4,aimAssistStrength:1,minSpread:.003,maxSpread:.03,spreadRampUpTimeMs:500,spreadRecoveryTimeMs:700,damage:25,knockback:1,recoil:2.5,ticksBetweenShots:6,vfx:s.LaserPelletVFX})],[E.WATER_GUN,new WeaponStats({maxRange:21,effectiveRange:23,critModifier:1.2,aimAssistStrength:1,minSpread:.002,maxSpread:.03,spreadRampUpTimeMs:500,spreadRecoveryTimeMs:700,damage:30,knockback:1,recoil:2.5,ticksBetweenShots:6,vfx:w.WaterVFX})],[E.UPGRADE,new WeaponStats({critModifier:1.4,effectiveRange:30,aimAssistStrength:1,minSpread:.001,maxSpread:.025,spreadRampUpTimeMs:300,spreadRecoveryTimeMs:560,damage:26,knockback:1,recoil:2.5,ticksBetweenShots:5,vfx:y.PlasmaBallVFX2})],[E.RAPID_FIRE,new WeaponStats({critModifier:1.25,aimAssistStrength:2,effectiveRange:15,minSpread:.01,maxSpread:.08,spreadRampUpTimeMs:150,spreadRecoveryTimeMs:500,damage:25,knockback:1,recoil:2,ticksBetweenShots:3,vfx:o.IcicleVFX})],[E.PLASMA,new WeaponStats({critModifier:1.5,effectiveRange:50,aimAssistStrength:1,minSpread:0,maxSpread:.03,spreadRampUpTimeMs:0,spreadRecoveryTimeMs:175,damage:30,knockback:1,recoil:2.5,ticksBetweenShots:8,vfx:y.PlasmaBallVFX})],[E.ICICLE,new WeaponStats({critModifier:1.5,effectiveRange:50,aimAssistStrength:1,minSpread:0,maxSpread:.03,spreadRampUpTimeMs:0,spreadRecoveryTimeMs:175,damage:30,knockback:1,recoil:2.5,ticksBetweenShots:8,vfx:o.IcicleVFX})],[E.ELECTRIC_LASER,new WeaponStats({critModifier:2,effectiveRange:50,aimAssistStrength:1,minSpread:0,maxSpread:.03,spreadRampUpTimeMs:0,spreadRecoveryTimeMs:175,damage:30,knockback:1,recoil:2.5,ticksBetweenShots:8,vfx:i.ElectricLaserVFX})],[E.DEBUG,new WeaponStats({critModifier:1,effectiveRange:50,aimAssistStrength:4,minSpread:0,maxSpread:.05,spreadRampUpTimeMs:1,spreadRecoveryTimeMs:70,damage:1,knockback:5,recoil:5,ticksBetweenShots:5,vfx:i.ElectricLaserVFX})]]),n.default=WeaponStats},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ElectricLaserVFX=n.electricLaserBeam=n.createElectricBeam=void 0;const i=a(292),o=a(308),s=a(309),y=a(155),_=a(169),w=a(23),E=a(41),j=a(172),q=a(19),$=a(312),ne=new q.Vector3,ie=new q.Vector3,oe=new q.Vector3,se=new q.Vector3,le=new q.Quaternion,pe=new q.Color;function electricLaserBeam(r,a,i,o){const s=ne.subVectors(i,a).length(),y=oe.copy(a),_=ie.subVectors(i,y).normalize(),w=ne.copy(_);w.multiplyScalar(s/2),y.add(w),w.copy(_),w.multiplyScalar(.1),y.add(w),n.createElectricBeam(y,i,15,s,.5,r,o,0),n.createElectricBeam(y,i,15,s,.5,r,o,.25*Math.PI),n.createElectricBeam(y,i,15,s,.5,r,o,.5*Math.PI),n.createElectricBeam(y,i,15,s,.5,r,o,.75*Math.PI)}n.createElectricBeam=(r,n,a,s,y,_,q,ne)=>{const ie=_.create();{const a=_.addComponentBegin(ie,E.default);a.scale.set(y,s,y),a.skipInterpolate=!0,a.position.copy(r),a.rotation.copy($.rotateTowards(r,n)),le.setFromAxisAngle(se.set(0,1,0),ne),a.rotation.multiply(le)}_.addComponentBegin(ie,i.default).ticksLeft=a;{const r=_.addComponentBegin(ie,o.default);r.width=y,r.lifeLengthInTicks=a}_.addComponentBegin(ie,j.default).geometry="plane";{const r=_.addComponentBegin(ie,w.default);r.material="electricLaserBeam",r.opacity=1,r.side=w.Side.DoubleSide,r.blending=w.BlendingMode.AdditiveBlending,r.uvType=w.AutoUVMapping.NONE,r.color.copy(q)}return _.addComponentFinalize(),ie},n.electricLaserBeam=electricLaserBeam,n.ElectricLaserVFX=(r,n,a,i,o,w,E)=>{pe.r=Math.random(),pe.g=Math.random(),pe.b=1-pe.r-pe.g,electricLaserBeam(r,n,a,pe);const j=Math.random()*Math.PI;for(let n=0;n<Math.PI;n+=Math.PI/3)s.createFireEffect(r,n+j,i);if(ne.copy(n),ne.y-=.25,s.createLightEffect(r,ne,pe,1.6),o?(s.createLightEffect(r,ne.lerpVectors(n,a,.9),pe,2),s.createHitParticleEffect(r,a,!w)):s.createLightEffect(r,ne.lerpVectors(n,a,1),pe,4),r.getSystem(y.default).playPositionalSound("big_plasma",oe.set(0,0,0),_.AUDIO_DEFAULT_VOLUME,_.AUDIO_DEFAULT_REF_DISTANCE,3,100,i),o){let n="impactBody";w||(n="impactMetal"),r.getSystem(y.default).playPositionalSound(n,a,1,.5,4,30)}}},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class LaserComponent extends s.default{constructor(){super(...arguments),this.lifeLengthInTicks=0,this.width=0}}LaserComponent.componentName="laserComponent",i([y.Property(),o("design:type",Number)],LaserComponent.prototype,"lifeLengthInTicks",void 0),i([y.Property(),o("design:type",Number)],LaserComponent.prototype,"width",void 0),n.default=LaserComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shotVFX=n.createHitParticleEffect=n.createDecal=n.createWaterFireEffect=n.createFireEffect=n.shotVfxfixPyramidRot=n.createLightEffect=void 0;const i=a(291),o=a(8),s=a(197),y=a(165),_=a(23),w=a(41),E=a(301),j=a(172),q=a(19),$=a(292),ne=a(310),ie=a(300),oe=a(303),se=a(304),le=a(306),pe=a(43),he=a(311);n.createLightEffect=function createLightEffect(r,n,a,i){const o=r.create();r.addComponentBegin(o,w.default).initializeTransformComps(n);const s=r.addComponentBegin(o,y.default);s.strength=i,s.color.r=a.r,s.color.g=a.g,s.color.b=a.b,r.addComponentBegin(o,$.default).ticksLeft=3,r.addComponentFinalize()};const me=new q.Vector3(0,1,0),ge=new q.Vector3,ye=new q.Vector3,_e=new q.Quaternion,ve=new w.Transform;function shotVFX(r,n,a,y,_,w,E,j,q){const $=le.WeaponStatsMap.get(_);w&&(w.fireOffsetBack=1*$.knockback);let ne=!1;if(-1!==j){const r=o.entityManager.getEntity(j);if(r){const n=o.entityManager.tryGetComponent(r,s.default);if(n){ne=!0,ye.copy(a),r.node.object.updateMatrix(),r.node.object.updateMatrixWorld(),r.node.object.worldToLocal(ye);let s=100;const y=o.entityManager.tryGetComponent(r,i.default);y&&(s=y.hp/y.maxHealth),ie.laserEffectOnAvatar(ye.x,ye.y,ye.z,n,s)}}}$.vfx(r,n,a,E,y,ne,j,q)}n.shotVfxfixPyramidRot=(new q.Quaternion).setFromEuler(new q.Euler(1.5*Math.PI,0,0)),n.createFireEffect=function createFireEffect(r,a,i){const o=r.getEntity(i);if(!o)return;const s=r.create();r.addComponentBegin(s,$.default).ticksLeft=5,r.addComponentBegin(s,j.default).geometry="Pyramid";const y=r.addComponentBegin(s,_.default);y.material="Laser_beam",y.opacity=.5,y.blending=_.BlendingMode.AdditiveBlending;const E=r.addComponentBegin(s,ne.default);E.angle=a,E.length=.4,E.droneUid=i;const q=r.addComponentBegin(s,w.default);ve.setIdentity(),ve.rotation.copy(o.node.rotation).multiply(n.shotVfxfixPyramidRot),ve.rotation.multiply(_e.setFromAxisAngle(me,a));const ie=ge.set(0,0,-1).applyQuaternion(o.node.rotation).multiplyScalar(.25);ve.position.copy(o.node.position).add(ie),ve.scale.set(.2,.4,.2),q.initializeTransform(ve),r.addComponentFinalize()},n.createWaterFireEffect=function createWaterFireEffect(r,n){if(!r.getEntity(n))return;const a=r.create();r.addComponentBegin(a,$.default).ticksLeft=5,r.addComponentBegin(a,j.default).geometry="Cone";const i=r.addComponentBegin(a,_.default);i.material="Fluid_splashing_water",i.opacity=.5;const o=r.addComponentBegin(a,he.default);o.entityToFollowId=n,o.positionalOffset.set(0,.05,-.3),o.rotationOffset.setFromEuler(new q.Euler(1.5*-Math.PI,Math.random()*Math.PI,0));const s=r.addComponentBegin(a,w.default);s.initializeTransform(ve),o.apply(s),r.addComponentFinalize()},n.createDecal=function createDecal(r,n){const a=r.create(),i=r.addComponentBegin(a,w.default);i.position.copy(n),i.scale.set(.1,.1,.1),i.prevAbsoluteTransform.position.copy(i.position),i.prevAbsoluteTransform.scale.copy(i.scale),r.addComponentBegin(a,$.default).ticksLeft=40;const o=r.addComponentBegin(a,E.default);o.preset="hit_sparks",o.runOnce=!0,r.addComponentBegin(a,j.default).geometry="Sphere";const s=r.addComponentBegin(a,_.default);s.material="Laser_beam",s.opacity=1,s.blending=_.BlendingMode.AdditiveBlending,r.addComponentBegin(a,oe.default).scriptName="AnimateDecal",r.addComponentFinalize()},se.default.RegisterScript("AnimateDecal",(r,n)=>{const a=r.tryGetComponent(n,$.default),i=r.tryGetComponent(n,_.default);if(i&&a){const r=a.ticksLeft/40;i.opacity=1*Math.pow(r,.7)}}),n.createHitParticleEffect=function createHitParticleEffect(r,n,a,i="hit_sparks"){const o=r.create(),s=r.addComponentBegin(o,w.default);if(s.position.copy(n),s.scale.set(.4,.4,.4),r.addComponentBegin(o,$.default).ticksLeft=3,a&&pe.cfg.weaponHitParticlesEnabled){const n=r.addComponentBegin(o,E.default);n.preset="hit_sparks_smoke",n.runOnce=!0,r.addComponentBegin(o,j.default).geometry="Sphere";const a=r.addComponentBegin(o,_.default);a.material="Basic",a.color.r=1,a.color.g=.25,a.color.b=0,a.opacity=.2,a.blending=_.BlendingMode.AdditiveBlending}r.addComponentFinalize();const y=r.create(),q=r.addComponentBegin(y,w.default);if(q.position.copy(n),q.scale.set(.15,.15,.15),q.prevAbsoluteTransform.position.copy(q.position),q.prevAbsoluteTransform.scale.copy(q.scale),r.addComponentBegin(y,$.default).ticksLeft=3,pe.cfg.weaponHitParticlesEnabled){const n=r.addComponentBegin(y,E.default);n.preset=i,n.runOnce=!0}r.addComponentBegin(y,j.default).geometry="Sphere";const ne=r.addComponentBegin(y,_.default);ne.material="Basic",ne.color.r=1,ne.color.g=.25,ne.color.b=0,ne.opacity=.3,ne.blending=_.BlendingMode.AdditiveBlending,r.addComponentFinalize()},n.shotVFX=shotVFX,n.default=shotVFX},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class FireEffectComponent extends s.default{constructor(){super(...arguments),this.angle=0,this.length=0,this.droneUid=0}}FireEffectComponent.componentName="fireEffect",i([y.Property(),o("design:type",Number)],FireEffectComponent.prototype,"angle",void 0),i([y.Property(),o("design:type",Number)],FireEffectComponent.prototype,"length",void 0),i([y.Property(),o("design:type",Number)],FireEffectComponent.prototype,"droneUid",void 0),n.default=FireEffectComponent},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26),_=a(19),w=a(8),E=new _.Vector3;class FollowTransformComponent extends s.default{constructor(){super(...arguments),this.entityToFollowId=0,this.positionalOffset=new _.Vector3,this.rotationOffset=new _.Quaternion}apply(r){const n=w.entityManager.getEntity(this.entityToFollowId);n&&(E.copy(this.positionalOffset).applyQuaternion(n.node.rotation),r.position.copy(n.node.position).add(E),r.rotation.copy(n.node.rotation).multiply(this.rotationOffset))}}FollowTransformComponent.componentName="followTransform",i([y.Property(),o("design:type",Object)],FollowTransformComponent.prototype,"entityToFollowId",void 0),i([y.Property(),o("design:type",Object)],FollowTransformComponent.prototype,"positionalOffset",void 0),i([y.Property(),o("design:type",Object)],FollowTransformComponent.prototype,"rotationOffset",void 0),n.default=FollowTransformComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.rotateTowards=void 0;const i=a(19),o=new i.Vector3(0,1,0),s=new i.Matrix4,y=(new i.Quaternion).setFromEuler(new i.Euler(1.57079633,0,0)),_=new i.Quaternion;n.rotateTowards=(r,n)=>{s.lookAt(r,n,o);const a=_.setFromRotationMatrix(s);return a.multiply(y),a}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.IcicleVFX=n.createIcicleProjectile=void 0;const i=a(292),o=a(309),s=a(305),y=a(155),_=a(169),w=a(165),E=a(23),j=a(41),q=a(172),$=a(19),ne=a(312),ie=new $.Vector3,oe=new $.Vector3,se=new $.Vector3,le=new $.Color;n.createIcicleProjectile=(r,n,a,o,y=.02,_=6,$=150,le="Laser_beam",pe="cylinder")=>{const he=se.copy(n),me=he.distanceTo(a),ge=Math.round(me/$*(1e3/r.tickTimeMs)),ye=ie.subVectors(a,he).normalize(),_e=oe.copy(ye);_e.multiplyScalar(_/3),he.add(_e);const ve=ye.multiplyScalar($),Se=r.create(),we=r.addComponentBegin(Se,j.default);we.scale.set(y,_,y),we.position.copy(he),we.rotation.copy(ne.rotateTowards(a,he)),r.addComponentBegin(Se,i.default).ticksLeft=ge,r.addComponentBegin(Se,q.default).geometry=pe;const Me=r.addComponentBegin(Se,E.default);Me.material=le,Me.opacity=1,Me.color.copy(o),Me.colorStrength*=3;const Te=r.addComponentBegin(Se,w.default);Te.strength=.7,Te.color.copy(o),r.addComponentBegin(Se,s.default).value.copy(ve),r.addComponentFinalize()},n.IcicleVFX=(r,a,i,s,w,E,j)=>{le.setRGB(.35546875,.90234375,.98046875),n.createIcicleProjectile(r,a,i,le,.1,2,200,"basic","cone");const q=Math.random()*Math.PI;for(let n=0;n<Math.PI;n+=Math.PI/3)o.createFireEffect(r,n+q,s);if(ie.copy(a),ie.y-=.25,o.createLightEffect(r,ie,le,1.6),w?(o.createLightEffect(r,ie.lerpVectors(a,i,.9),le,2),o.createHitParticleEffect(r,i,!E,"ice_break")):o.createLightEffect(r,ie.lerpVectors(a,i,1),le,4),r.getSystem(y.default).playPositionalSound("laser_ice",se.set(0,0,0),_.AUDIO_DEFAULT_VOLUME,_.AUDIO_DEFAULT_REF_DISTANCE,.8,100,s),w){let n="impactBody";E||(n="impactMetal"),r.getSystem(y.default).playPositionalSound(n,i,1,.5,4,30)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LaserPelletVFX=void 0;const i=a(309),o=a(155),s=a(169),y=a(19),_=a(315),w=new y.Vector3,E=new y.Vector3,j=new y.Color;n.LaserPelletVFX=(r,n,a,y,q,$,ne)=>{j.setRGB(1,.25,0),_.LaserPellet(r,n,a,j,.02,10,200,"Laser_beam","cylinder");const ie=Math.random()*Math.PI;for(let n=0;n<Math.PI;n+=Math.PI/3)i.createFireEffect(r,n+ie,y);if(w.copy(n),w.y-=.25,i.createLightEffect(r,w,j,1.6),q?(i.createLightEffect(r,w.lerpVectors(n,a,.9),j,2),i.createHitParticleEffect(r,a,!$)):i.createLightEffect(r,w.lerpVectors(n,a,1),j,4),r.getSystem(o.default).playPositionalSound("laser_burst",E.set(0,0,0),s.AUDIO_DEFAULT_VOLUME,s.AUDIO_DEFAULT_REF_DISTANCE,1.5,1,y),q){let n="impactBody";$||(n="impactMetal"),r.getSystem(o.default).playPositionalSound(n,a,1,.5,4,30)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LaserPellet=void 0;const i=a(165),o=a(23),s=a(41),y=a(172),_=a(19),w=a(312),E=a(292),j=a(308),q=a(305),$=new _.Vector3,ne=new _.Vector3,ie=new _.Vector3;n.LaserPellet=function LaserPellet(r,n,a,_,oe=.02,se=6,le=150,pe="Laser_beam",he="cylinder"){const me=ie.copy(n),ge=n.distanceTo(a),ye=Math.round(ge/le*(1e3/r.tickTimeMs)),_e=$.subVectors(a,me).normalize(),ve=ne.copy(_e);ve.multiplyScalar(se/3),me.add(ve);const Se=_e.multiplyScalar(le),we=r.create(),Me=r.addComponentBegin(we,s.default);Me.scale.set(oe,se,oe),Me.position.copy(me),Me.rotation.copy(w.rotateTowards(me,a)),r.addComponentBegin(we,E.default).ticksLeft=ye;const Te=r.addComponentBegin(we,j.default);Te.width=oe,Te.lifeLengthInTicks=ye,r.addComponentBegin(we,y.default).geometry=he;const Ae=r.addComponentBegin(we,o.default);Ae.material=pe,Ae.opacity=1,Ae.blending=o.BlendingMode.AdditiveBlending,Ae.color.copy(_);const ke=r.addComponentBegin(we,i.default);return ke.strength=.7,ke.color.copy(_),r.addComponentBegin(we,q.default).value.copy(Se),r.addComponentFinalize(),we}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PlasmaBallVFX2=n.PlasmaBallVFX=n.createPlasmaBallProjectile=void 0;const i=a(292),o=a(309),s=a(305),y=a(155),_=a(169),w=a(165),E=a(23),j=a(41),q=a(172),$=a(19),ne=a(312),ie=new $.Vector3,oe=new $.Vector3,se=new $.Vector3,le=new $.Vector3,pe=new $.Color;n.createPlasmaBallProjectile=(r,n,a,o,y=.02,_=6,$=150,se="Laser_beam",pe="cylinder")=>{const he=le.copy(n),me=he.distanceTo(a),ge=Math.round(me/$*(1e3/r.tickTimeMs)),ye=ie.subVectors(a,he).normalize(),_e=oe.copy(ye);_e.multiplyScalar(_/3),he.add(_e);const ve=ye.multiplyScalar($),Se=r.create(),we=r.addComponentBegin(Se,j.default);we.scale.set(y,_,y),we.position.copy(he),we.rotation.copy(ne.rotateTowards(he,a)),r.addComponentBegin(Se,i.default).ticksLeft=ge,r.addComponentBegin(Se,q.default).geometry=pe;const Me=r.addComponentBegin(Se,E.default);Me.material=se,Me.opacity=1,Me.color.copy(o),Me.colorStrength*=5;const Te=r.addComponentBegin(Se,w.default);Te.strength=.7,Te.color.copy(o),r.addComponentBegin(Se,s.default).value.copy(ve),r.addComponentFinalize()},n.PlasmaBallVFX=(r,a,i,s,w,E,j)=>{pe.setRGB(223/255,143/255,1),n.createPlasmaBallProjectile(r,a,i,pe,.05,1,150,"basic","sphere");const q=Math.random()*Math.PI;for(let n=0;n<Math.PI;n+=Math.PI/3)o.createFireEffect(r,n+q,s);if(ie.copy(a),ie.y-=.25,o.createLightEffect(r,ie,pe,1.6),w?(o.createLightEffect(r,ie.lerpVectors(a,i,.9),pe,2),o.createHitParticleEffect(r,i,!E,"plasma_hit_small")):o.createLightEffect(r,ie.lerpVectors(a,i,1),pe,4),r.getSystem(y.default).playPositionalSound("laser3",se.set(0,0,0),_.AUDIO_DEFAULT_VOLUME,_.AUDIO_DEFAULT_REF_DISTANCE,.5,100,s),w){let n="impactBody";E||(n="impactMetal"),r.getSystem(y.default).playPositionalSound(n,i,1,.5,4,30)}},n.PlasmaBallVFX2=(r,a,i,s,w,E,j)=>{pe.setRGB(223/255,143/255,1),n.createPlasmaBallProjectile(r,a,i,pe,.2,2,200,"basic","sphere");const q=Math.random()*Math.PI;for(let n=0;n<Math.PI;n+=Math.PI/3)o.createFireEffect(r,n+q,s);if(ie.copy(a),ie.y-=.25,o.createLightEffect(r,ie,pe,1.6),w?(o.createLightEffect(r,ie.lerpVectors(a,i,.9),pe,2),o.createHitParticleEffect(r,i,!E,"plasma_hit")):o.createLightEffect(r,ie.lerpVectors(a,i,1),pe,4),r.getSystem(y.default).playPositionalSound("laser_heavy",se.set(0,0,0),_.AUDIO_DEFAULT_VOLUME,_.AUDIO_DEFAULT_REF_DISTANCE,.5,100,s),w){let n="impactBody";E||(n="impactMetal"),r.getSystem(y.default).playPositionalSound(n,i,1,.5,4,30)}}},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.KillfeedParticipation=n.ShooterGameState=void 0;const y=a(24),_=a(26),w=a(318),E=a(222),j=a(14),q=a(298),$=a(319),ne=a(13);var ie,oe;!function(r){r[r.INITIALIZING=0]="INITIALIZING",r[r.PRE_GAME=1]="PRE_GAME",r[r.GAME_COUNTDOWN=2]="GAME_COUNTDOWN",r[r.ACTIVE_GAME=3]="ACTIVE_GAME",r[r.HOST_MIGRATION=4]="HOST_MIGRATION",r[r.POST_GAME=5]="POST_GAME"}(ie=n.ShooterGameState||(n.ShooterGameState={})),function(r){r[r.None=0]="None",r[r.Kill=1]="Kill",r[r.Assist=2]="Assist",r[r.Death=3]="Death"}(oe=n.KillfeedParticipation||(n.KillfeedParticipation={}));const se=ne.shooterGameMode||j.GameMode.FreeForAll;class ShooterGameStateComponent extends y.default{constructor(){super(...arguments),this.prevState=ie.INITIALIZING,this.state=ie.INITIALIZING,this.aloneTimeS=0,this.singleTeamTimeS=0,this.timeS=0,this.currentTimestamp=0,this.lagTimeS=0,this.gameMode=se,this.gamesPlayedCount=0,this.totalKillsCount=0,this.totalAssistsCount=0,this.totalDeathsCount=0,this.players=[],this.gameStateUpdated=!0,this.hasUpdatedTeamInfo=!1}numConnected(){let r=0;for(let n=0;n<this.players.length;n++)this.players[n].isConnected&&r++;return r}controlsAllowed(){return this.state===ie.ACTIVE_GAME||this.state===ie.PRE_GAME||this.state===ie.INITIALIZING}findPlayerState(r){for(let n=0;n<this.players.length;n++)if(this.players[n].clientId===r)return this.players[n];return null}isLeader(r){for(let n=0;n<this.players.length;n++){const a=this.players[n];if(a.isConnected){if(a.clientId===r)return!0;break}}return!1}calculateKillScore(r,n){return 100}calculateAssistScore(r,n){return 50}onPlayerDeathEnvironment(r,n=oe.None,a=-1){const i=this.findPlayerState(r),o=this.findPlayerState(a);i&&(o&&(o.score+=this.calculateKillScore(o.clientId,i.clientId),o.kills++,this.totalKillsCount++,ShooterGameStateComponent.playerKilledByEnvironmentData.assister=o.username),i.deaths++,this.totalDeathsCount++,ShooterGameStateComponent.playerKilledByEnvironmentData.killed=i.username,ShooterGameStateComponent.playerKilledByEnvironment.emit(ShooterGameStateComponent.playerKilledByEnvironmentData),$.default.playerDataChanged.emit(this.players))}onPlayerDeathPlayer(r,n,a=oe.None,i=-1,o,s){const y=this.findPlayerState(r),_=this.findPlayerState(n),w=this.findPlayerState(i);y&&_&&(y.score+=this.calculateKillScore(y.clientId,_.clientId),y.kills++,_.deaths++,this.totalDeathsCount++,this.totalKillsCount++,w?(w.score+=this.calculateAssistScore(w.clientId,_.clientId),w.assists++,ShooterGameStateComponent.playerKilledData.assister=w.username):ShooterGameStateComponent.playerKilledData.assister=void 0,ShooterGameStateComponent.playerKilledData.killed=_.username,ShooterGameStateComponent.playerKilledData.killer=y.username,ShooterGameStateComponent.playerKilledData.weaponType=o,ShooterGameStateComponent.playerKilledData.hitPointType=s,ShooterGameStateComponent.playerKilled.emit(ShooterGameStateComponent.playerKilledData),$.default.playerDataChanged.emit(this.players))}}ShooterGameStateComponent.componentName="shooterGameState",ShooterGameStateComponent.playerKilledData={killer:"",assister:void 0,killed:"",hitPointType:0,weaponType:0},ShooterGameStateComponent.playerKilledByEnvironmentData={assister:void 0,killed:""},ShooterGameStateComponent.playerKilled=new E.Event,ShooterGameStateComponent.playerKilledByEnvironment=new E.Event,o([_.Property(),s("design:type",Number)],ShooterGameStateComponent.prototype,"prevState",void 0),o([_.Property(),s("design:type",Number)],ShooterGameStateComponent.prototype,"state",void 0),o([_.Property(),s("design:type",Number)],ShooterGameStateComponent.prototype,"aloneTimeS",void 0),o([_.Property(),s("design:type",Number)],ShooterGameStateComponent.prototype,"singleTeamTimeS",void 0),o([_.Property(),s("design:type",Number)],ShooterGameStateComponent.prototype,"timeS",void 0),o([_.Property(),s("design:type",Number)],ShooterGameStateComponent.prototype,"currentTimestamp",void 0),o([_.Property(),s("design:type",Number)],ShooterGameStateComponent.prototype,"lagTimeS",void 0),o([_.Property(),s("design:type","function"==typeof(i=void 0!==j.GameMode&&j.GameMode)?i:Object)],ShooterGameStateComponent.prototype,"gameMode",void 0),o([_.Property(),s("design:type",Number)],ShooterGameStateComponent.prototype,"gamesPlayedCount",void 0),o([_.Property(),s("design:type",Number)],ShooterGameStateComponent.prototype,"totalKillsCount",void 0),o([_.Property(),s("design:type",Number)],ShooterGameStateComponent.prototype,"totalAssistsCount",void 0),o([_.Property(),s("design:type",Number)],ShooterGameStateComponent.prototype,"totalDeathsCount",void 0),o([_.Property({serializeType:w.ComponentDataArray(q.default)}),s("design:type",Array)],ShooterGameStateComponent.prototype,"players",void 0),o([_.Property(),s("design:type",Boolean)],ShooterGameStateComponent.prototype,"gameStateUpdated",void 0),o([_.Property(),s("design:type",Boolean)],ShooterGameStateComponent.prototype,"hasUpdatedTeamInfo",void 0),n.default=ShooterGameStateComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ComponentDataArray=void 0,n.ComponentDataArray=r=>({min:0,max:255,bits:0,size:(r,n)=>`\n        var arr = this.${r};\n        offset += 8;\n        for(let i = 0; i < arr.length; ++i){\n          offset += this.${r}[i].getBitSize();\n        }\n    `,write:(r,n)=>`\n        var arr = this.${r};\n        var len = arr.length;\n        bitBuffer.writeUInt8(len, offset);\n        offset += 8;\n        for(let i = 0; i < len; ++i){\n          offset = this.${r}[i].serialize(bitBuffer, offset, onlyDirty);\n        }\n  \n      `,read:(n,a)=>`\n        var len = bitBuffer.readUInt8(offset);\n        offset += 8;\n        var arr = this.${n};\n\n        for(let i = 0; i < len; ++i){\n          if(arr[i]){\n            offset = arr[i].deserialize(bitBuffer, offset);\n          } else {\n            var Comp = entityManager.componentLookup.get(${r.id});\n            var comp = new Comp();\n            offset = comp.deserialize(bitBuffer, offset);\n            arr.push(comp);\n          }\n        }\n\n        this.${n} = arr.slice(0, len);\n      `,diff:(r,n)=>"",smooth(r,n){}})},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(8),w=a(227),E=a(225),j=a(13),q=a(320),$=a(153),ne=a(321),ie=a(41),oe=a(133),se=a(172),le=a(222),pe=a(322),he=a(323),me=a(16),ge=a(37),ye=a(40),_e=a(297),ve=a(14),Se=a(298),we=a(317),Me=a(324);class ShooterGameStateSystem extends ye.default{constructor(){super(...arguments),this.prevTimeRounded=0,this.warmUpSoundEntity=null,this.teamCounter=new Uint8Array(10)}onInit(){const r=this.entityManager.getOrCreateSingleton(we.default);this.handleSwitchState(r)}resetPlayers(r){console.log("ResetPlayers",this.playerGroup.length,r.players.length);for(let n=0;n<this.playerGroup.length;n++){const a=this.playerGroup.entities[n];let i=r.players[n];i||(i=new Se.default,r.players.push(i)),i.clientId=a.networkedPlayerComponent.clientId,i.username=_.shooterCommunicator.getUsername(i.clientId)||"Unknown",i.score=0,i.kills=0,i.deaths=0,i.assists=0,i.team=Se.Team.NEUTRAL,i.joinedInProgress=!1,i.isConnected=!0,this.entityManager.hasComponent(a,Me.default)&&this.entityManager.removeComponent(a,Me.default);const o=this.entityManager.addComponentBegin(a,Me.default);o.hasRequest=!0,o.respawnTimer=0,this.entityManager.addComponentFinalize()}r.players.length=this.playerGroup.length,this.assignTeams(r)}getTeamWithLeastPlayers(r){const n=ve.gameModes.get(r.gameMode).numTeams;let a=9999,i=Se.Team.NEUTRAL;for(let o=1;o<n+1;o++){let n=0;for(let a=0;a<r.players.length;a++){const i=r.players[a];i.team===o&&i.isConnected&&n++}n<a&&(a=n,i=o)}return i}assignTeams(r){const n=ve.gameModes.get(r.gameMode).numTeams,a=Math.floor(r.players.length/n);let i=Se.Team.RED,o=0;for(let s=0;s<r.players.length;s++){const y=r.players[s];y.isConnected?0===n?y.team=Se.Team.NEUTRAL:(y.team=i,o++,o>=a&&i<n&&i++):y.team=Se.Team.NEUTRAL}r.hasUpdatedTeamInfo=!0}assignTeam(r,n){let a=-1;a=0===ve.gameModes.get(r.gameMode).numTeams?Se.Team.NEUTRAL:this.getTeamWithLeastPlayers(r),a!==n.team&&(n.team=a,this.entityManager.getOrCreateSingleton(ne.ShooterCommunicatorEventQueues).updatePlayerTeams=!0,r.hasUpdatedTeamInfo=!0)}teamCheck(r){if(_.shooterCommunicator.isHost()&&0!==ve.gameModes.get(r.gameMode).numTeams)for(let n=0;n<r.players.length;n++){const a=r.players[n];a.team===Se.Team.NEUTRAL&&this.assignTeam(r,a)}}updateTeamGraphics(r){const n=this.entityManager.getOrCreateSingleton($.PlayerState);if(!n.playerEntity)return;const a=this.entityManager.getComponent(n.playerEntity,_e.default),i=r.findPlayerState(a.clientId);for(let n=0;n<this.playerGroup.length;n++){const a=this.playerGroup.entities[n],o=this.entityManager.getComponent(a,_e.default),s=_.shooterCommunicator.getPlayerClient(o.clientId),y=r.findPlayerState(o.clientId);if(!y){console.warn("Missing playerstate!!!");continue}o.team=y.team;const w=this.entityManager.getEntity(s.tagUid);if(!w)continue;const E=(null==i?void 0:i.team)!==Se.Team.NEUTRAL&&(null==i?void 0:i.team)===y.team,j=this.entityManager.tryGetComponent(w,se.default);(null==j?void 0:j.instance)&&(j.instance.visible=E)}}updateTick(r,n){const a=this.entityManager.getOrCreateSingleton(we.default),i=(Date.now()-a.currentTimestamp)/1e3;switch(a.currentTimestamp=Date.now(),a.timeS+=i,this.handleSwitchState(a),a.state){case we.ShooterGameState.INITIALIZING:this.handleInitializing(a);break;case we.ShooterGameState.PRE_GAME:this.handlePreGame(a);break;case we.ShooterGameState.GAME_COUNTDOWN:this.handleGameCountDown(a);break;case we.ShooterGameState.ACTIVE_GAME:this.handleActiveGame(a);break;case we.ShooterGameState.POST_GAME:this.handleEndGame(a)}j.isDebugMode&&this.printDebugInfo(),a.hasUpdatedTeamInfo&&this.updateTeamGraphics(a),a.hasUpdatedTeamInfo=!1,me.clearTraces(),me.markForClear()}printDebugInfo(){const r=this.entityManager.getOrCreateSingleton(we.default);me.traceV2("clientId",E.NetworkLayer.instance.clientId),me.traceV2("numConnected",r.numConnected()),me.traceV2("numPlayers",r.players.length);for(let n=0;n<r.players.length;n++){const a=r.players[n];me.traceV2(`${a.username}(${a.clientId})`,"IsConnected: "+a.isConnected)}}switchState(r){if(!_.shooterCommunicator.isHost())return;const n=this.entityManager.getOrCreateSingleton(we.default);n.timeS=0,n.state=r,n.currentTimestamp=Date.now(),this.handleSwitchState(n)}aloneCheck(r,n=10){return r.numConnected()<=1?(r.aloneTimeS+=this.entityManager.tickTimeMs/1e3,r.aloneTimeS>=n):(r.aloneTimeS=0,!1)}singleTeamCheck(r,n=10){return this.getNumActiveTeams(r)<=1?(r.singleTeamTimeS+=this.entityManager.tickTimeMs/1e3,r.singleTeamTimeS>=n):(r.singleTeamTimeS=0,!1)}getNumActiveTeams(r){this.teamCounter.fill(0);for(let n=0;n<r.players.length;n++){const a=r.players[n];a.isConnected&&this.teamCounter[a.team]++}let n=0;for(let r=0;r<this.teamCounter.length;r++)this.teamCounter[r]&&n++;return n}handleSwitchState(r){if(r.state===r.prevState)return;const n=this.entityManager.getOrCreateSingleton(oe.default);console.log("Updated game state",we.ShooterGameState[r.prevState]," ->",we.ShooterGameState[r.state]),pe.GASend("game_v2","shooter_gamestate_"+r.state,n.projectId,1);const a=ve.gameModes.get(r.gameMode);ShooterGameStateSystem.scoreLimitObservable.set(a.scoreLimit),r.currentTimestamp=Date.now();{const n=_.entityManager.getOrCreateSingleton($.PlayerState);n.playerEntity&&(n.playerEntity.playerControl.lockControls=!r.controlsAllowed())}if(r.state===we.ShooterGameState.GAME_COUNTDOWN&&r.prevState===we.ShooterGameState.POST_GAME&&(this.entityManager.getOrCreateSingleton(q.default).isNewRound=!0),r.state===we.ShooterGameState.POST_GAME){const r=_.entityManager.getOrCreateSingleton($.PlayerState);this.entityManager.hasComponent(r.playerEntity,Me.default)&&this.entityManager.removeComponent(r.playerEntity,Me.default)}_.shooterCommunicator.isHost()&&(r.state!==we.ShooterGameState.INITIALIZING&&r.state!==we.ShooterGameState.PRE_GAME&&r.state!==we.ShooterGameState.GAME_COUNTDOWN||this.resetPlayers(r),r.gameStateUpdated=!0),r.state===we.ShooterGameState.PRE_GAME?this.warmUpSoundEntity=he.playSound("last_chance",.5,!0):null!=this.warmUpSoundEntity&&(this.entityManager.remove(this.warmUpSoundEntity),this.warmUpSoundEntity=null),r.state!==we.ShooterGameState.ACTIVE_GAME&&r.state!==we.ShooterGameState.POST_GAME||he.playSound("BoxingBellRing",.5),ShooterGameStateSystem.playerDataChanged.emit(r.players),r.prevState=r.state}handleInitializing(r){5940!==ShooterGameStateSystem.gameTimeObservable.value()&&ShooterGameStateSystem.gameTimeObservable.set(5940),this.aloneCheck(r,0)||(ShooterGameStateSystem.gameTimeObservable.set(20),this.switchState(we.ShooterGameState.PRE_GAME))}handlePreGame(r){const n=Math.round(r.timeS);n!=this.prevTimeRounded&&(this.prevTimeRounded=n,ShooterGameStateSystem.gameTimeObservable.set(20-r.timeS)),this.aloneCheck(r,4)?this.switchState(we.ShooterGameState.INITIALIZING):r.timeS>20&&this.switchState(we.ShooterGameState.GAME_COUNTDOWN)}handleGameCountDown(r){const n=ve.gameModes.get(r.gameMode),a=Math.round(r.timeS);a!=this.prevTimeRounded&&(this.prevTimeRounded=a,ShooterGameStateSystem.gameTimeObservable.set(2-r.timeS)),this.aloneCheck(r)||n.numTeams>1&&this.singleTeamCheck(r)?this.switchState(we.ShooterGameState.INITIALIZING):r.timeS>2&&this.switchState(we.ShooterGameState.ACTIVE_GAME)}handleActiveGame(r){const n=ve.gameModes.get(r.gameMode),a=Math.round(r.timeS);a!=this.prevTimeRounded&&(this.prevTimeRounded=a,ShooterGameStateSystem.gameTimeObservable.set(n.timeLimitS-r.timeS)),this.teamCheck(r),this.aloneCheck(r)&&n.timeLimitS-r.timeS>10&&(r.timeS=n.timeLimitS-10),n.numTeams>1&&this.singleTeamCheck(r)&&n.timeLimitS-r.timeS>10&&(r.timeS=n.timeLimitS-10),n.finishGame(r)&&this.switchState(we.ShooterGameState.POST_GAME)}handleEndGame(r){const n=Math.round(r.timeS);n!=this.prevTimeRounded&&(this.prevTimeRounded=n,ShooterGameStateSystem.gameTimeObservable.set(20-r.timeS)),r.timeS>20&&this.switchState(we.ShooterGameState.GAME_COUNTDOWN)}}ShooterGameStateSystem.order=15,ShooterGameStateSystem.gameTimeObservable=new w.Observable(20),ShooterGameStateSystem.scoreLimitObservable=new w.Observable(0),ShooterGameStateSystem.playerDataChanged=new le.Event,o([y.InjectGroup(ie.default,_e.default),s("design:type","function"==typeof(i=void 0!==ge.default&&ge.default)?i:Object)],ShooterGameStateSystem.prototype,"playerGroup",void 0),n.default=ShooterGameStateSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class StatsSingletonComponent extends s.default{constructor(){super(...arguments),this.isNewRound=!1,this.roundsPlayed=0}}StatsSingletonComponent.componentName="statsSingleton",i([y.Property(),o("design:type",Boolean)],StatsSingletonComponent.prototype,"isNewRound",void 0),i([y.Property(),o("design:type",Number)],StatsSingletonComponent.prototype,"roundsPlayed",void 0),n.default=StatsSingletonComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ShooterCommunicatorEventQueues=void 0;const i=a(291),o=a(24),s=a(39);class ShooterCommunicatorEventQueues extends o.default{constructor(){super(...arguments),this.playerDied=!1,this.playerDeathCause=i.DamageCause.UNKNOWN,this.playerDeathEntityUid=s.ENTITY_INVALID_UID,this.assisters=[],this.lastAssister=void 0,this.wantRespawn=!1,this.playerRespawned=!1,this.playerTriggerEmote=!1,this.updatePlayerTeams=!1,this.arrRespawnRequest=[],this.massRespawn=!1}updateAssists(r,n){this.assisters=r,this.lastAssister=n}clearPlayerRespawnRequestQueue(){this.arrRespawnRequest.length=0}clearMassRespawn(){this.massRespawn=!1}clearPlayerDiedQueue(){this.playerDied=!1,this.playerDeathCause=i.DamageCause.UNKNOWN,this.playerDeathEntityUid=s.ENTITY_INVALID_UID,this.assisters=[],this.lastAssister=void 0}clearPlayerRespawnedQueue(){this.playerRespawned=!1}}n.ShooterCommunicatorEventQueues=ShooterCommunicatorEventQueues,ShooterCommunicatorEventQueues.componentName="ShooterCommunicatorEventQueues"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GASend=void 0;const i=new Map;n.GASend=(r,n,a,o,s=!0)=>{const y=`${n}${a}${o}`;if(s){if(i.has(y))return;i.set(y,!0)}const _={};document.cookie.match(/dont_track=true/gi)&&(_.dimension1="dont_track");const w=Object.assign({hitType:"event",event_category:r,event_action:n,event_label:a},_);o&&(w.event_value=o),void 0!==window.ga&&window.gtag("event",n,w)}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.stopSound=n.playSound=n.playSoundSlow=void 0;const i=a(8),o=a(155);n.playSoundSlow=(r,n={})=>{let a=n.volume||.5;void 0===a&&(a="buttonClick"===r?.1:.5),n.volume=a,i.entityManager.getSystem(o.default).playSoundSlow(r,n)},n.playSound=(r,n=.5,a=!1,s=0)=>i.entityManager.getSystem(o.default).playSound(r,n,a,s),n.stopSound=r=>{i.entityManager.remove(r)}},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26),_=a(19);class RespawningComponent extends s.default{constructor(){super(...arguments),this.respawnTimer=0,this.waitingForRespawn=!1,this.forceRespawn=!1,this.hasRequest=!1,this.requestCid=0,this.hasResponse=!1,this.responsePos=new _.Vector3(0,0,0),this.responseYaw=0}}RespawningComponent.componentName="respawningComponent",i([y.Property({inspector:!1}),o("design:type",Number)],RespawningComponent.prototype,"respawnTimer",void 0),i([y.Property({inspector:!1}),o("design:type",Boolean)],RespawningComponent.prototype,"waitingForRespawn",void 0),i([y.Property(),o("design:type",Boolean)],RespawningComponent.prototype,"forceRespawn",void 0),i([y.Property(),o("design:type",Boolean)],RespawningComponent.prototype,"hasRequest",void 0),i([y.Property(),o("design:type",Number)],RespawningComponent.prototype,"requestCid",void 0),i([y.Property(),o("design:type",Boolean)],RespawningComponent.prototype,"hasResponse",void 0),n.default=RespawningComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WaterVFX=n.createProjectile=void 0;const i=a(292),o=a(155),s=a(169),y=a(23),_=a(41),w=a(172),E=a(19),j=a(326),q=a(312),$=new E.Vector3,ne=new E.Vector3,ie=new E.Vector3,oe=new E.Vector3;n.createProjectile=(r,n,a,o,s)=>{for(let E=1;E<6;E++){ie.copy(n),oe.subVectors(a,ie);let j=oe.length();o||(j=5e3),oe.normalize(),$.copy(oe),$.multiplyScalar(0),ie.sub($);const ne=r.create(),se=r.addComponentBegin(ne,_.default);se.scale.set(r.time-.018*(E-.5),j,E),se.position.copy(ie),se.rotation.copy(q.rotateTowards(a,ie)),r.addComponentBegin(ne,w.default).geometry="plane";const le=r.addComponentBegin(ne,y.default);le.material=s?"particle_jet_own":"particle_jet",le.opacity=.8,le.uvType=y.AutoUVMapping.NONE,r.addComponentBegin(ne,i.default).ticksLeft=90,r.addComponentFinalize()}},n.WaterVFX=async(r,a,i,y,_,w,E,q)=>{if(n.createProjectile(r,a,i,_,q),r.getSystem(o.default).playPositionalSound("water_squirt",ne.set(0,0,0),.3,s.AUDIO_DEFAULT_REF_DISTANCE,.5,100,y),_){let n="splat_on_wall";w||(n="splat_on_wall"),await j.delay(10),r.getSystem(o.default).playPositionalSound(n,i,.6,.5,4,30)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.updateTimeoutProxy=n.delay=n.startDelay=void 0;const noOp=()=>{},i=Array(16).fill(0).map(()=>({used:!1,promise:null,resolve:noOp,targetTime:0}));function startDelay(r){let n=i.find(r=>0==r.used);null==n&&(console.warn("Using more than 16 parallel delays, increase this number in timeoutProxy.ts"),n=i[i.length-1]);const a=n.promise;return n.targetTime=Date.now()+r,n.used=!0,n.promise=new Promise(r=>{n.resolve=async()=>{a&&await a,r(!1)},n.cancel=()=>{r(!0)}}),n}n.startDelay=startDelay,n.delay=async function delay(r){return startDelay(r).promise},n.updateTimeoutProxy=function updateTimeoutProxy(r){for(let n=0;n<i.length;n++){const a=i[n];a.used&&r>=a.targetTime&&(a.promise=null,a.used=!1,a.resolve())}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shooterCharacterSettings=void 0;const i=a(13),o=a(224);n.shooterCharacterSettings={speedModifier:i.isDebugMode?2:1,canAirWalk:!1,airAcceleration:10,walkAcceleration:12,jumpSpeed:11.5,maxWalkSpeed:6,bunnyHopFactor:.9,radius:.55};const s=o.getCurrentGamekitStr();if(i.characterConfig&&"shooter"===s){const r=i.characterConfig.split(",").map(r=>r.split("="));for(let a=0;a<r.length;a++){const i=r[a];i[0]&&(n.shooterCharacterSettings[i[0]]=+i[1])}}},function(r,n,a){"use strict";var i,o,s,y,_=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},w=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const E=a(24),j=a(26),q=a(19),$=a(306);class ShotsNetworkQueueComponent extends E.default{constructor(){super(...arguments),this.shotFired=!1,this.hitPlayer=!1,this.hit=!1,this.hitPlayerEntityId=0,this.visualOrigin=new q.Vector3(0,0,0),this.visualDestination=new q.Vector3(0,0,0),this.hitPointType=$.HitPointType.BODY}}ShotsNetworkQueueComponent.componentName="shotsNetworkQueue",_([j.Property(),w("design:type",Boolean)],ShotsNetworkQueueComponent.prototype,"shotFired",void 0),_([j.Property(),w("design:type",Boolean)],ShotsNetworkQueueComponent.prototype,"hitPlayer",void 0),_([j.Property(),w("design:type",Boolean)],ShotsNetworkQueueComponent.prototype,"hit",void 0),_([j.Property(),w("design:type",Number)],ShotsNetworkQueueComponent.prototype,"hitPlayerEntityId",void 0),_([j.Property(),w("design:type","function"==typeof(i=void 0!==q&&q.Vector3)?i:Object)],ShotsNetworkQueueComponent.prototype,"visualOrigin",void 0),_([j.Property(),w("design:type","function"==typeof(o=void 0!==q&&q.Vector3)?o:Object)],ShotsNetworkQueueComponent.prototype,"visualDestination",void 0),_([j.Property(),w("design:type","function"==typeof(s=void 0!==$.HitPointType&&$.HitPointType)?s:Object)],ShotsNetworkQueueComponent.prototype,"hitPointType",void 0),_([j.Property(),w("design:type","function"==typeof(y=void 0!==$.WeaponType&&$.WeaponType)?y:Object)],ShotsNetworkQueueComponent.prototype,"weaponType",void 0),n.default=ShotsNetworkQueueComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.WeaponVfxSystem=n.WeaponVfxQueue=n.ShotVfxData=void 0;const i=a(40),o=a(19),s=a(306),y=a(24),_=a(330),w=a(331),E=a(309);class ShotVfxData{constructor(){this.sourcePosition=new o.Vector3,this.targetPosition=new o.Vector3,this.wasHit=!1,this.weaponType=s.WeaponType.LONG_RANGE,this.drone=null,this.droneUid=0,this.scaleFactor=1,this.targetUid=-1,this.byPlayer=!1}}n.ShotVfxData=ShotVfxData;class WeaponVfxQueue extends y.default{constructor(){super(...arguments),this.vfxShotsPool=new _.Pool(()=>new ShotVfxData),this.vfxShotsBuffer=new w.PoorMansRingBuffer}shotVfxDeferred(r,n,a,i,o,s,y,_){const w=this.vfxShotsPool.get();w.sourcePosition.copy(r),w.targetPosition.copy(n),w.wasHit=a,w.weaponType=i,w.drone=o,w.droneUid=s,w.targetUid=y,w.byPlayer=_,this.vfxShotsBuffer.pushBack(w)}}n.WeaponVfxQueue=WeaponVfxQueue,WeaponVfxQueue.componentName="weaponVfxQueue";class WeaponVfxSystem extends i.default{updateTick(){const r=this.entityManager.getOrCreateSingleton(WeaponVfxQueue);for(let n=0;n<2&&!r.vfxShotsBuffer.isEmpty();n++){const n=r.vfxShotsBuffer.popFront(),a=this.entityManager.getEntity(n.droneUid);a&&n.sourcePosition.copy(a.node.position),E.default(this.entityManager,n.sourcePosition,n.targetPosition,n.wasHit,n.weaponType,n.drone,n.droneUid,n.targetUid,n.byPlayer),r.vfxShotsPool.recycle(n)}}}n.WeaponVfxSystem=WeaponVfxSystem,WeaponVfxSystem.order=13},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Pool=void 0,n.Pool=class Pool{constructor(r){this.recycled=[],this.constructorFunc=r}get(){return 0===this.recycled.length?this.constructorFunc():this.recycled.pop()}recycle(r){for(let r=0;r<this.recycled.length;r++);this.recycled.push(r)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PoorMansRingBuffer=void 0,n.PoorMansRingBuffer=class PoorMansRingBuffer{constructor(){this.data=[]}size(){return this.data.length}isEmpty(){return 0===this.size()}pushBack(r){this.data.push(r)}popFront(){return this.data.shift()}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getDroneScale=n.createDroneEntity=n.fixDroneUp=void 0;const i=a(8),o=a(23),s=a(41),y=a(172),_=a(333),w=a(306);n.fixDroneUp=function fixDroneUp(r){},n.createDroneEntity=function createDroneEntity(r,n){const a=i.entityManager.create(),E=i.entityManager.addComponentBegin(a,s.default);n&&E.position.copy(n),E.scale.set(.4,.4,.4),E.isStatic=!1,a.node.rotation;const j=i.entityManager.addComponentBegin(a,y.default),q=i.entityManager.addComponentBegin(a,o.default);return r===w.WeaponType.LONG_RANGE?(j.geometry="drone_long_range",q.material="W_droneRanged_01",q.uvType=o.AutoUVMapping.NONE):r===w.WeaponType.RAPID_FIRE?(j.geometry="drone_rapid_fire",q.material="W_dronePepprer_01_LOD1",q.uvType=o.AutoUVMapping.NONE):r===w.WeaponType.STARTER?(j.geometry="drone_starter",q.material="W_droneStarter_01_LOD1",q.uvType=o.AutoUVMapping.NONE):r===w.WeaponType.UPGRADE?(j.geometry="drone_upgrade",q.material="W_droneUpgrade_01",q.uvType=o.AutoUVMapping.NONE):r===w.WeaponType.WATER_GUN?(j.geometry="W_droneWaterGun_04",q.material="W_droneWaterGun_04",q.uvType=o.AutoUVMapping.NONE):(j.geometry="Big Chungus",q.material="vertexColor"),i.entityManager.addComponentBegin(a,_.default).type=r,i.entityManager.addComponentFinalize(),a},n.getDroneScale=function getDroneScale(r){switch(r){case w.WeaponType.STARTER:case w.WeaponType.UPGRADE:return.5;case w.WeaponType.RAPID_FIRE:return.25;case w.WeaponType.LONG_RANGE:case w.WeaponType.WATER_GUN:return.5;default:return.25}}},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(24),_=a(26),w=a(306);class DroneComponent extends y.default{constructor(){super(...arguments),this.fireOffsetBack=0,this.lastShotTick=0,this.currentSpread=0,this.type=w.WeaponType.RAPID_FIRE}}DroneComponent.componentName="drone",o([_.Property({inspector:!1}),s("design:type",Number)],DroneComponent.prototype,"fireOffsetBack",void 0),o([_.Property({inspector:!1}),s("design:type",Number)],DroneComponent.prototype,"lastShotTick",void 0),o([_.Property({inspector:!1}),s("design:type",Number)],DroneComponent.prototype,"currentSpread",void 0),o([_.Property({inspector:"Select",inspectorOptions:{enum:w.AllowedWeaponType}}),s("design:type","function"==typeof(i=void 0!==w.WeaponType&&w.WeaponType)?i:Object)],DroneComponent.prototype,"type",void 0),n.default=DroneComponent},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.AimTargetComponent=void 0;const w=a(24),E=a(26),j=a(19);class AimTargetComponent extends w.default{constructor(){super(...arguments),this.prevPosition=new j.Vector3,this.centerPosition=new j.Vector3,this.aimTargetPosition=new j.Vector3,this.aimTargetDistance=-1,this.intersectsTarget=!1,this.isNewTarget=!1,this.enableAimMagnetism=!0,this.height=1.68,this.radius=.8,this.innerRadius=.25,this.critHeightThreshold=.4}}AimTargetComponent.componentName="aimTarget",y([E.Property(),_("design:type","function"==typeof(i=void 0!==j.Vector3&&j.Vector3)?i:Object)],AimTargetComponent.prototype,"prevPosition",void 0),y([E.Property(),_("design:type","function"==typeof(o=void 0!==j.Vector3&&j.Vector3)?o:Object)],AimTargetComponent.prototype,"centerPosition",void 0),y([E.Property(),_("design:type","function"==typeof(s=void 0!==j.Vector3&&j.Vector3)?s:Object)],AimTargetComponent.prototype,"aimTargetPosition",void 0),y([E.Property(),_("design:type",Number)],AimTargetComponent.prototype,"aimTargetDistance",void 0),y([E.Property(),_("design:type",Boolean)],AimTargetComponent.prototype,"intersectsTarget",void 0),y([E.Property(),_("design:type",Boolean)],AimTargetComponent.prototype,"isNewTarget",void 0),y([E.Property(),_("design:type",Boolean)],AimTargetComponent.prototype,"enableAimMagnetism",void 0),y([E.Property(),_("design:type",Number)],AimTargetComponent.prototype,"height",void 0),y([E.Property(),_("design:type",Number)],AimTargetComponent.prototype,"radius",void 0),y([E.Property(),_("design:type",Number)],AimTargetComponent.prototype,"innerRadius",void 0),y([E.Property(),_("design:type",Number)],AimTargetComponent.prototype,"critHeightThreshold",void 0),n.AimTargetComponent=AimTargetComponent},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.WALK_ACCELERATION=n.MAX_WALK_SPEED=void 0;const w=a(19),E=a(24),j=a(26),q=a(336),$=a(45);n.MAX_WALK_SPEED=7.5,n.WALK_ACCELERATION=7.5;class CharacterControllerComponent extends E.default{constructor(){super(...arguments),this.object=null,this.ignoreOldState=!1,this.direction=new w.Vector3,this.velocity=new w.Vector3,this.localVelocity=new w.Vector3,this.onGround=!0,this.canJump=!0,this.bunnyHopFactor=.5,this.canAirWalk=!0,this.enableAirWalk=!1,this.actions=q.CharacterControllerAction.NONE,this.deAccelerationMultiplier=.95,this.speedModifier=1,this.maxSlope=.9,this.maxWalkSpeed=n.MAX_WALK_SPEED,this.maxWalkAcceleration=n.WALK_ACCELERATION,this.maxRunSpeed=7.5,this.maxAirSpeed=8,this.maxFlySpeed=20,this.maxFallspeed=100,this.walkAcceleration=20,this.runAcceleration=5,this.airAcceleration=15,this.flyAcceleration=80,this.jumpSpeed=11.5,this.radius=.4,this.height=1.68,this.stepHeight=.334,this.mass=10,this.friction=.8,this.drag=1e-4,this.group=$.PHYSICS_GROUPS.CharacterFilter|$.PHYSICS_GROUPS.CharacterAliveFilter,this.gravity=new w.Vector3(0,$.DEFAULT_GRAVITY,0),this.maxFallSpeed=55,this.mask=$.PHYSICS_GROUPS.DefaultFilter|$.PHYSICS_GROUPS.StaticFilter|$.PHYSICS_GROUPS.KinematicFilter|$.PHYSICS_GROUPS.CharacterAliveFilter|$.PHYSICS_GROUPS.SensorTrigger}isAction(r){return(r&this.actions)===r}addToGroup(r){this.group|=r}removeFromGroup(r){this.group&=~r}addMask(r){this.mask|=r}removeMask(r){this.mask&=~r}unsetAction(r){this.actions&=~r}setAction(r){this.actions|=r}applyCentralImpulse(r){this.object?this.object.applyCentralImpulse(r):this.commandQueue.push(["applyCentralImpulse",r])}applyCentralForce(r){this.object?this.object.applyCentralForce(r):this.commandQueue.push(["applyCentralForce",r])}}CharacterControllerComponent.componentName="characterController",y([j.Property(),_("design:type","function"==typeof(i=void 0!==w.Vector3&&w.Vector3)?i:Object)],CharacterControllerComponent.prototype,"localVelocity",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"bunnyHopFactor",void 0),y([j.Property(),_("design:type",Boolean)],CharacterControllerComponent.prototype,"canAirWalk",void 0),y([j.Property(),_("design:type",Boolean)],CharacterControllerComponent.prototype,"enableAirWalk",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"actions",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"deAccelerationMultiplier",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"speedModifier",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"maxSlope",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"maxWalkSpeed",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"maxWalkAcceleration",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"maxRunSpeed",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"maxAirSpeed",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"maxFlySpeed",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"maxFallspeed",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"walkAcceleration",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"runAcceleration",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"airAcceleration",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"flyAcceleration",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"jumpSpeed",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"radius",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"height",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"stepHeight",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"mass",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"friction",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"drag",void 0),y([j.Property(),_("design:type","function"==typeof(o=void 0!==$.PHYSICS_GROUPS&&$.PHYSICS_GROUPS)?o:Object)],CharacterControllerComponent.prototype,"group",void 0),y([j.Property(),_("design:type","function"==typeof(s=void 0!==w.Vector3&&w.Vector3)?s:Object)],CharacterControllerComponent.prototype,"gravity",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"maxFallSpeed",void 0),y([j.Property(),_("design:type",Number)],CharacterControllerComponent.prototype,"mask",void 0),n.default=CharacterControllerComponent},function(r,n,a){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.isCharacterAction=n.CharacterControllerAction=void 0,(i=n.CharacterControllerAction||(n.CharacterControllerAction={}))[i.NONE=0]="NONE",i[i.FORWARD=1]="FORWARD",i[i.BACKWARD=2]="BACKWARD",i[i.LEFT=4]="LEFT",i[i.RIGHT=8]="RIGHT",i[i.UP=16]="UP",i[i.DOWN=32]="DOWN",i[i.JUMP=64]="JUMP",i[i.CROUCH=128]="CROUCH",i[i.SPEED=256]="SPEED",n.isCharacterAction=(r,n)=>(n&r)===n},function(r,n,a){"use strict";var i,o,s,y,_=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},w=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.pccDefaultLookSpeed=n.ViewMode=void 0;const E=a(19),j=a(24),q=a(26),$=a(338);var ne;function pccDefaultLookSpeed(r){return r?$.TouchSensitivitySetting.get():6}!function(r){r[r.FIRST_PERSON=0]="FIRST_PERSON",r[r.THIRD_PERSON=1]="THIRD_PERSON"}(ne=n.ViewMode||(n.ViewMode={})),n.pccDefaultLookSpeed=pccDefaultLookSpeed;class PlayerControlComponent extends j.default{constructor(){super(...arguments),this.object=null,this.mode=ne.FIRST_PERSON,this.lastJumpTickNumber=0,this.spawnPosition=new E.Vector3,this.lookDirection=new E.Vector3(0,0,1),this.lookSpeed=pccDefaultLookSpeed(!1),this.lockControls=!1,this.currCameraDistance=9999,this.maxCameraDistance=3.5,this.cameraOffset=new E.Vector3(0,.35,0),this.cameraRecoilOffset=new E.Vector2(0,0)}setLookDirectionFromLongitudeLatitude(r,n){const a=E.MathUtils.degToRad(90-n),i=E.MathUtils.degToRad(r),o=Math.cos(a),s=Math.sin(a)*Math.cos(i),y=Math.sin(a)*Math.sin(i);this.lookDirection.set(s,o,y),this.lookDirection.normalize()}getLookDirectionLongitude(){const r=Math.atan2(this.lookDirection.z,this.lookDirection.x);return E.MathUtils.radToDeg(r)}getLookDirectionLatitude(){const r=Math.max(Math.min(1,this.lookDirection.y),-1),n=Math.acos(r);return 90-E.MathUtils.radToDeg(n)}}PlayerControlComponent.componentName="playerControl",_([q.Property(),w("design:type",Number)],PlayerControlComponent.prototype,"mode",void 0),_([q.Property(),w("design:type",Number)],PlayerControlComponent.prototype,"lastJumpTickNumber",void 0),_([q.Property(),w("design:type","function"==typeof(i=void 0!==E.Vector3&&E.Vector3)?i:Object)],PlayerControlComponent.prototype,"spawnPosition",void 0),_([q.Property(),w("design:type","function"==typeof(o=void 0!==E.Vector3&&E.Vector3)?o:Object)],PlayerControlComponent.prototype,"lookDirection",void 0),_([q.Property(),w("design:type",Number)],PlayerControlComponent.prototype,"lookSpeed",void 0),_([q.Property(),w("design:type",Boolean)],PlayerControlComponent.prototype,"lockControls",void 0),_([q.Property(),w("design:type",Number)],PlayerControlComponent.prototype,"currCameraDistance",void 0),_([q.Property(),w("design:type",Number)],PlayerControlComponent.prototype,"maxCameraDistance",void 0),_([q.Property(),w("design:type","function"==typeof(s=void 0!==E.Vector3&&E.Vector3)?s:Object)],PlayerControlComponent.prototype,"cameraOffset",void 0),_([q.Property(),w("design:type","function"==typeof(y=void 0!==E.Vector2&&E.Vector2)?y:Object)],PlayerControlComponent.prototype,"cameraRecoilOffset",void 0),n.default=PlayerControlComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TouchSensitivitySetting=void 0;const i=a(339),o=a(339),s=a(340);class TouchSensitivitySetting{static get(){return TouchSensitivitySetting.sensitivity}static setByUser(r){this.overriddenByUser=!0,this.sensitivity=r,s.SettingsStorage.touchCameraSensitivity.set(r)}static setFromScreenSize(){if(!this.overriddenByUser){const r=i.estimateScreenSize(),n=o.isAndroidTablet()?.721:1,a=.7,s=(1.8+Math.pow(5/r,1.02)*Math.pow(window.devicePixelRatio,a))*n;this.sensitivity=Math.round(100*s)/100}}static init(){window.addEventListener("resize",TouchSensitivitySetting.setFromScreenSize),s.SettingsStorage.touchCameraSensitivity.isSet()?(this.sensitivity=+s.SettingsStorage.touchCameraSensitivity.get(),this.overriddenByUser=!0):TouchSensitivitySetting.setFromScreenSize()}}n.TouchSensitivitySetting=TouchSensitivitySetting,TouchSensitivitySetting.overriddenByUser=!1,TouchSensitivitySetting.sensitivity=1,TouchSensitivitySetting.init()},function(r,n,a){"use strict";function getReferencePixelWidth(){return window.matchMedia("(orientation: landscape)").matches?window.innerWidth:window.outerHeight}function isTablet(){const r=getReferencePixelWidth();return r>=1024||800===r}Object.defineProperty(n,"__esModule",{value:!0}),n.estimateScreenSize=n.isAndroidTablet=void 0,n.isAndroidTablet=function isAndroidTablet(){return!/iPad|iPhone|iPod|Mac/.test(navigator.userAgent)&&isTablet()},n.estimateScreenSize=function estimateScreenSize(){const r=getReferencePixelWidth(),n=/iPad|iPhone|iPod|Mac/.test(navigator.userAgent);return isTablet()&&n?10.5:(800!==r||n)&&(1024!==r||n)?isTablet()?9.5:.00440722*r+1.8:7}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SettingsStorage=void 0,a(125);const i=a(43);class Setting{constructor(r,n,a=null){this.key=r,this.defaultValue=a,this.parse=n}getStringValue(){return localStorage.getItem(this.key)}isSet(){return null!==localStorage.getItem(this.key)}tryGet(){const r=this.getStringValue();return null===r?this.defaultValue:this.parse(r)}get(){return this.tryGet()}set(r){return localStorage.setItem(this.key,JSON.stringify(r))}}const parseBoolean=r=>"true"===r;class SettingsStorage{}n.SettingsStorage=SettingsStorage,SettingsStorage.allSoundOn=new Setting("allSoundOn",parseBoolean,!0),SettingsStorage.touchCameraSensitivity=new Setting("touchCameraSensitivity",r=>+r),SettingsStorage.particleEffects=new Setting("particleEffects",parseBoolean,!0),SettingsStorage.sunShadow=new Setting("sunShadow",parseBoolean,!1),SettingsStorage.weaponHitParticlesEnabled=new Setting("weaponHitParticlesEnabled",parseBoolean,!1),function loadEngineConfigFromSettings(){SettingsStorage.particleEffects.isSet()&&(i.cfg.particleEffects=SettingsStorage.particleEffects.get()?i.SettingLevel.HIGH:i.SettingLevel.OFF),SettingsStorage.sunShadow.isSet()&&(i.cfg.sunShadow=SettingsStorage.sunShadow.get()),SettingsStorage.weaponHitParticlesEnabled.isSet()&&(i.cfg.weaponHitParticlesEnabled=SettingsStorage.weaponHitParticlesEnabled.get())}()},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ShooterWeaponFirePlayerPacket=n.ShooterWeaponFireEnvironmentPacket=n.ShooterWeaponFireMissPacket=n.ShooterPlayerTriggerEmotePacket=n.ShooterPlayerRespawnPlayerPacket=n.ShooterPlayerDeathPlayerWithAssisterPacket=n.ShooterPlayerDeathPlayerPacket=n.ShooterPlayerDeathEnvironmentWithAssisterPacket=n.ShooterPlayerDeathEnvironmentPacket=n.NetworkDamageCause=n.ShooterRespawnResponsePacket=n.ShooterRespawnRequestPacket=n.ShooterEnvironmentalDamagePacket=n.ShooterTeamDataPacket=n.ShooterGameRulesPacket=n.ShooterPlayerStatePacket=void 0;const i=a(298),o=a(306),s=a(19);var y;n.ShooterPlayerStatePacket=class ShooterPlayerStatePacket{constructor(){this.playerPosition=new s.Vector3(0,0,0),this.lookDirection=new s.Vector3(0,0,0),this.moveDirection=new s.Vector3(0,0,0),this.localVelocity=new s.Vector3(0,0,0),this.robotPosition=new s.Vector3(0,0,0),this.robotRotation=new s.Vector4(0,0,0,1),this.hasDrone=!1,this.weaponType=o.WeaponType.STARTER,this.tickNumber=0}serializeTo(r){r.writeU32(this.tickNumber),r.writeFloatX3(this.playerPosition,-1300,1300,.001),r.writeFloatX3(this.lookDirection,-1,1,.01),r.writeFloatX3(this.moveDirection,-1,1,.01),r.writeFloatX3(this.localVelocity,-100,100,.01),r.writeBool(this.hasDrone),r.writeInt(this.weaponType,0,o.WEAPON_TYPE_ENUM_MAX)}deserializeFrom(r){this.tickNumber=r.readU32(),r.readFloatX3(this.playerPosition,-1300,1300,.001),r.readFloatX3(this.lookDirection,-1,1,.01),r.readFloatX3(this.moveDirection,-1,1,.01),r.readFloatX3(this.localVelocity,-100,100,.01),this.hasDrone=r.readBool(),this.weaponType=r.readInt(0,o.WEAPON_TYPE_ENUM_MAX)}},n.ShooterGameRulesPacket=class ShooterGameRulesPacket{constructor(){this.gameState=null,this.timeStartMs=1584353987663}serializeTo(r){r.writeInt(this.gameState.state,0,8),r.writeU32(this.gameState.timeS),r.writeU64(this.gameState.currentTimestamp-this.timeStartMs),r.writeInt(this.gameState.gameMode,0,20),r.writeU16(this.gameState.gamesPlayedCount),r.writeU16(this.gameState.totalKillsCount),r.writeU16(this.gameState.totalDeathsCount);const n=this.gameState.players.length;r.writeU8(n);for(let a=0;a<n;a++){const n=this.gameState.players[a];r.writeU32(n.clientId),r.writeAsciiString(n.username),r.writeInt(n.score,0,1e6),r.writeInt(n.kills,0,1e3),r.writeInt(n.deaths,0,1e3),r.writeInt(n.assists,0,1e3),r.writeInt(n.team,0,8),r.writeInt(n.environmentalDeaths,0,1e3),r.writeBool(n.joinedInProgress),r.writeBool(n.isConnected)}}deserializeFrom(r){this.gameState.state=r.readInt(0,8),this.gameState.timeS=r.readU32();const n=r.readU64();this.gameState.lagTimeS=(Date.now()-this.timeStartMs-n)/1e3,this.gameState.timeS+=this.gameState.lagTimeS,this.gameState.gameMode=r.readInt(0,20),this.gameState.gamesPlayedCount=r.readU16(),this.gameState.totalKillsCount=r.readU16(),this.gameState.totalDeathsCount=r.readU16();const a=r.readU8(),o=this.gameState.players;for(let n=0;n<a;n++){let a=o[n];a||(a=new i.default,o.push(a)),a.clientId=r.readU32(),a.username=r.readAsciiString(),a.score=r.readInt(0,1e6),a.kills=r.readInt(0,1e3),a.deaths=r.readInt(0,1e3),a.assists=r.readInt(0,1e3),a.team=r.readInt(0,8),a.environmentalDeaths=r.readInt(0,1e3),a.joinedInProgress=r.readBool(),a.isConnected=r.readBool()}o.length=a}},n.ShooterTeamDataPacket=class ShooterTeamDataPacket{constructor(){this.gameState=null}serializeTo(r){const n=this.gameState.players.length;r.writeU8(n);for(let a=0;a<n;a++){const n=this.gameState.players[a];r.writeU32(n.clientId),r.writeInt(n.team,0,8)}}deserializeFrom(r){const n=r.readU8(),a=this.gameState.players;for(let o=0;o<n;o++){const n=r.readU32(),s=r.readInt(0,8);let y=a[o];y||(y=new i.default,y.clientId=n,y.team=s,a.push(y)),y&&(y.team=s)}}},n.ShooterEnvironmentalDamagePacket=class ShooterEnvironmentalDamagePacket{},n.ShooterRespawnRequestPacket=class ShooterRespawnRequestPacket{serializeTo(r){}deserializeFrom(r){}},n.ShooterRespawnResponsePacket=class ShooterRespawnResponsePacket{constructor(){this.position=new s.Vector3(0,0,0),this.yaw=0}serializeTo(r){r.writeF32x3(this.position),r.writeF32(this.yaw)}deserializeFrom(r){r.readF32x3(this.position),this.yaw=r.readF32()}},(y=n.NetworkDamageCause||(n.NetworkDamageCause={}))[y.UNKNOWN=0]="UNKNOWN",y[y.FALL=1]="FALL",y[y.ENVIRONMENT=2]="ENVIRONMENT",n.ShooterPlayerDeathEnvironmentPacket=class ShooterPlayerDeathEnvironmentPacket{constructor(){this.networkDamageCause=0}serializeTo(r){r.writeU32(this.networkDamageCause)}deserializeFrom(r){this.networkDamageCause=r.readU32()}},n.ShooterPlayerDeathEnvironmentWithAssisterPacket=class ShooterPlayerDeathEnvironmentWithAssisterPacket{constructor(){this.networkDamageCause=0,this.assisterClientId=0}serializeTo(r){r.writeU32(this.networkDamageCause),r.writeU32(this.assisterClientId)}deserializeFrom(r){this.networkDamageCause=r.readU32(),this.assisterClientId=r.readU32()}},n.ShooterPlayerDeathPlayerPacket=class ShooterPlayerDeathPlayerPacket{constructor(){this.killerClientID=0,this.weaponType=0,this.hitPointType=o.HitPointType.BODY}serializeTo(r){r.writeU32(this.killerClientID),r.writeU8(this.weaponType),r.writeU8(this.hitPointType)}deserializeFrom(r){this.killerClientID=r.readU32(),this.weaponType=r.readU8(),this.hitPointType=r.readU8()}},n.ShooterPlayerDeathPlayerWithAssisterPacket=class ShooterPlayerDeathPlayerWithAssisterPacket{constructor(){this.killerClientID=0,this.weaponType=0,this.hitPointType=o.HitPointType.BODY,this.assister=0}serializeTo(r){r.writeU32(this.killerClientID),r.writeU8(this.weaponType),r.writeU8(this.hitPointType),r.writeU32(this.assister)}deserializeFrom(r){this.killerClientID=r.readU32(),this.weaponType=r.readU8(),this.hitPointType=r.readU8(),this.assister=r.readU32()}};class ShooterPlayerRespawnPlayerPacket{serializeTo(r){}deserializeFrom(r){}}n.ShooterPlayerRespawnPlayerPacket=ShooterPlayerRespawnPlayerPacket,ShooterPlayerRespawnPlayerPacket.SIZE_OF=0;class ShooterPlayerTriggerEmotePacket{serializeTo(r){}deserializeFrom(r){}}n.ShooterPlayerTriggerEmotePacket=ShooterPlayerTriggerEmotePacket,ShooterPlayerTriggerEmotePacket.SIZE_OF=0,n.ShooterWeaponFireMissPacket=class ShooterWeaponFireMissPacket{constructor(){this.visualDestination=new s.Vector3(0,0,0),this.weaponType=0}serializeTo(r){r.writeU8(this.weaponType),r.writeFloatX3(this.visualDestination,-5e3,5e3,.01)}deserializeFrom(r){this.weaponType=r.readU8(),r.readFloatX3(this.visualDestination,-5e3,5e3,.01)}},n.ShooterWeaponFireEnvironmentPacket=class ShooterWeaponFireEnvironmentPacket{constructor(){this.visualDestination=new s.Vector3(0,0,0),this.weaponType=0}serializeTo(r){r.writeU8(this.weaponType),r.writeFloatX3(this.visualDestination,-5e3,5e3,.01)}deserializeFrom(r){this.weaponType=r.readU8(),r.readFloatX3(this.visualDestination,-5e3,5e3,.01)}},n.ShooterWeaponFirePlayerPacket=class ShooterWeaponFirePlayerPacket{constructor(){this.visualDestination=new s.Vector3(0,0,0),this.hitPlayerClientID=0,this.weaponType=o.WeaponType.LONG_RANGE,this.hitPointType=o.HitPointType.BODY}serializeTo(r){r.writeU32(this.hitPlayerClientID),r.writeInt(this.weaponType,0,32),r.writeInt(this.hitPointType,0,8),r.writeFloatX3(this.visualDestination,-2,2,.005)}deserializeFrom(r){this.hitPlayerClientID=r.readU32(),this.weaponType=r.readInt(0,32),this.hitPointType=r.readInt(0,8),r.readFloatX3(this.visualDestination,-2,2,.005)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.RenderEngineThree=n.NEAR_PLANE_DIST=void 0;const i=a(43),o=a(8),s=a(18),y=a(283),_=a(343),w=a(200),E=a(19),j=a(19),q=a(166),$=a(346),ne=a(347),ie=a(350),oe=a(353),se=a(344),le=a(356),pe=a(359),he=Math.min(1/window.devicePixelRatio*1.3,1),me=i.cfg.dynamicResolution?1/window.devicePixelRatio*.8:he;n.NEAR_PLANE_DIST=.15,n.RenderEngineThree=class RenderEngineThree{constructor(){this.engineInited=!1,this.inBeautyShotMode=!1,this.beautyShotLastWidth=0,this.beautyShotLastHeight=0,this.windowWidth=0,this.windowHeight=0,this.canvasWidth=0,this.canvasHeight=0,this.resFactor=me,this.renderWidth=0,this.renderHeight=0,this.LOWEST_ACCEPTABLE_RES=400,this.dynResTicksStable=0,this.dynResUpdateFrequency=120,this.DYN_RES_RES_DECREASE=.15,this.DYN_RES_RES_INCREASE=.1,this.dynResRockBottom=!1,this.skipSameSizeCheck=!1,this.needUpdateLightClusterTiles=!1,this.threeCam=new E.PerspectiveCamera,this.lookAtTmp=new E.Vector3(0,0,0),this.ssaoResScale=.5,this.ssaoWidth=0,this.ssaoHeight=0,this.ssaoKernelRadius=.5,this.ssaoMinDistance=.001,this.ssaoMaxDistance=1,this.USE_OLD_UNREAL_BLOOM=!1,this.bloomResScale=.2,this.bloomWidth=0,this.bloomHeight=0,this.directionLightDir=new E.Vector3(-.2,-1,-.3).normalize(),this.directionalLight=new j.DirectionalLight,this.renderParamsSet=!1,this.vecPool=new q.TempVectorPool}init(r,n){if(!this.engineInited){if(this.engineInited=!0,this.cfg=r,this.threeRenderer=new E.WebGLRenderer({antialias:!1,logarithmicDepthBuffer:!1,powerPreference:"high-performance",canvas:r.canvas}),this.threeRenderer.debug.checkShaderErrors=!0,o.default.glContext=this.threeRenderer.getContext(),this.ssaoPass=new $.FullscreenPass(pe.ssaoShader.vertexShader,pe.ssaoShader.fragmentShader,E.UniformsUtils.clone(pe.ssaoShader.uniforms),E.NoBlending,pe.ssaoShader.defines,!0),this.edgeAwareBlurVertPass=new $.FullscreenPass(ie.edgeAwareBlurShader.vertexShader,ie.edgeAwareBlurShader.fragmentShader,E.UniformsUtils.clone(ie.edgeAwareBlurShader.uniforms),E.NoBlending,{VERTICAL:"1"}),this.edgeAwareBlurHorizPass=new $.FullscreenPass(ie.edgeAwareBlurShader.vertexShader,ie.edgeAwareBlurShader.fragmentShader,E.UniformsUtils.clone(ie.edgeAwareBlurShader.uniforms),E.NoBlending,{HORIZONTAL:"1"}),this.aoApplyPass=new $.FullscreenPass(ne.aoApplyShader.vertexShader,ne.aoApplyShader.fragmentShader,E.UniformsUtils.clone(ne.aoApplyShader.uniforms),E.NoBlending),this.generateSSAOSampleKernel(32),this.generateSSAONoiseTexture(),this.unrealBloom=new _.UnrealBloomPass,this.gaussianBlurVertPass=new $.FullscreenPass(oe.gaussianBlurShader.vertexShader,oe.gaussianBlurShader.fragmentShader,E.UniformsUtils.clone(oe.gaussianBlurShader.uniforms),E.NoBlending,{VERTICAL:"1"}),this.gaussianBlurHorizPass=new $.FullscreenPass(oe.gaussianBlurShader.vertexShader,oe.gaussianBlurShader.fragmentShader,E.UniformsUtils.clone(oe.gaussianBlurShader.uniforms),E.NoBlending,{HORIZONTAL:"1"}),this.fxaaPass=new $.FullscreenPass(le.fxaaShader.vertexShader,le.fxaaShader.fragmentShader,E.UniformsUtils.clone(le.fxaaShader.uniforms),E.NoBlending),this.copyPass=new $.FullscreenPass(se.copyShader.vertexShader,se.copyShader.fragmentShader,E.UniformsUtils.clone(se.copyShader.uniforms),E.NoBlending),this.copyAlphaBlendedPass=new $.FullscreenPass(se.copyShader.vertexShader,se.copyShader.fragmentShader,E.UniformsUtils.clone(se.copyShader.uniforms),E.AdditiveBlending),i.cfg.sunShadow){const r=!s.default.iOS();this.threeRenderer.shadowMap.enabled=!0,this.threeRenderer.shadowMap.type=r?E.PCFSoftShadowMap:E.PCFShadowMap}this.directionalLight=new j.DirectionalLight(16777215),this.directionalLight.position.set(0,1e3,0),this.directionalLight.castShadow=i.cfg.sunShadow,this.directionalLight.shadow.camera.left=-i.cfg.sunShadowPhysicalSize,this.directionalLight.shadow.camera.top=i.cfg.sunShadowPhysicalSize,this.directionalLight.shadow.camera.right=i.cfg.sunShadowPhysicalSize,this.directionalLight.shadow.camera.bottom=-i.cfg.sunShadowPhysicalSize,this.directionalLight.shadow.camera.near=4,this.directionalLight.shadow.camera.far=85,this.directionalLight.shadow.bias=-1e-4,this.directionalLight.shadow.radius=1,this.directionalLight.shadow.mapSize.width=i.cfg.sunShadowMapResolution,this.directionalLight.shadow.mapSize.height=i.cfg.sunShadowMapResolution,n.add(this.directionalLight),n.add(this.directionalLight.target),this.setWindowRes(2048,2048)}}getDebugString(){const r=this.threeRenderer.info,n="UNRELIABLE - Calls: "+r.render.calls+", Tris: "+r.render.triangles+", NumMeshes: "+r.memory.geometries+", NumTexs: "+r.memory.textures;return r.autoReset=!1,r.reset(),n}getWindowRes(r){r.set(this.windowWidth,this.windowHeight)}getRenderRes(r){r.set(this.renderWidth,this.renderHeight)}getResScaleFactor(){return this.resFactor}setWindowRes(r,n){(this.windowWidth!=r||this.windowHeight!=n)&&(this.windowWidth=r,this.windowHeight=n,this.resFactor=me,this.updateRenderRes())}updateDynamicResolution(r,n){if(r<this.dynResUpdateFrequency+1)return!1;if(r%this.dynResUpdateFrequency!=0)return!1;let a=!1;return n>24&&this.dynResRockBottom&&i.cfg.particleEffects!==i.SettingLevel.OFF&&(i.cfg.particleEffects=i.SettingLevel.OFF,a=!0),n>20&&!this.dynResRockBottom&&(this.resFactor=Math.max(this.resFactor-this.DYN_RES_RES_DECREASE,.05),Math.min(this.windowWidth,this.windowHeight)*this.resFactor<this.LOWEST_ACCEPTABLE_RES&&(this.resFactor=this.LOWEST_ACCEPTABLE_RES/Math.min(this.windowWidth,this.windowHeight),this.dynResRockBottom=!0),a=!0),!a&&this.dynResTicksStable>=500&&this.resFactor<1&&(this.resFactor=Math.min(this.resFactor+this.DYN_RES_RES_INCREASE,1),a=!0),a&&(this.skipSameSizeCheck=!0,a=this.updateRenderRes()),!a&&n<18?this.dynResTicksStable+=this.dynResUpdateFrequency:this.dynResTicksStable=0,a}setSun(r,n,a){this.directionalLight.intensity=r,this.directionalLight.color.copy(n),a&&this.directionLightDir.copy(a).normalize()}setRenderParams(r,n,a,i,o,s){this.paramEntityManager=r,this.renderParamsSet=!0,this.paramOpaqueObjects=n,this.paramParticles=a,this.paramSkybox=i,this.paramSkyColor=o,this.paramCamera=s}setCameraParam(r){this.paramCamera=r}getLastSetCamera(){return this.paramCamera}render(r){if(!this.renderParamsSet)return void console.warn("RenderEngineThree::render(): No params set, skipping rendering.");this.vecPool.reset();const a=this.paramCamera.dirWS,o=this.vecPool.get().copy(a).multiplyScalar(.4*i.cfg.sunShadowPhysicalSize),s=this.vecPool.get().copy(this.paramCamera.posWS).add(o),y=this.vecPool.get().copy(s).add(this.vecPool.get().copy(this.directionLightDir).multiplyScalar(-.6*this.directionalLight.shadow.camera.far));this.directionalLight.target.position.copy(s),this.directionalLight.position.copy(y),this.threeRenderer.autoClear=!1,this.threeRenderer.autoClearColor=!1,this.threeRenderer.autoClearDepth=!1,this.threeRenderer.autoClearStencil=!1,this.threeRenderer.toneMapping=E.NoToneMapping,this.threeCam.position.copy(this.paramCamera.posWS),this.threeCam.up.x=0,this.threeCam.up.y=1,this.threeCam.up.z=0,this.lookAtTmp.copy(this.threeCam.position).add(this.paramCamera.dirWS),this.threeCam.aspect=this.renderWidth/this.renderHeight,this.threeCam.fov=this.paramCamera.vertFovDeg,this.threeCam.near=n.NEAR_PLANE_DIST,this.threeCam.far=1e3,this.threeCam.lookAt(this.lookAtTmp),this.threeCam.updateMatrix(),this.threeCam.updateMatrixWorld(),this.threeCam.updateProjectionMatrix();{const r=this.paramEntityManager.getSystem(w.default);this.needUpdateLightClusterTiles&&r.resizeTiles(this.renderWidth,this.renderHeight),this.needUpdateLightClusterTiles=!1,r.updateClusters(this.threeCam.matrixWorldInverse)}this.threeRenderer.setRenderTarget(this.pingPongTarget1),this.threeRenderer.clearDepth(),this.threeRenderer.clearColor(),this.threeRenderer.render(this.paramSkybox,this.threeCam),this.threeRenderer.render(this.paramOpaqueObjects,this.threeCam),this.cfg.screenSpaceAmbientOcclusion&&(this.threeRenderer.setRenderTarget(this.aoTarget),this.paramOpaqueObjects.fog&&this.ssaoPass.setFog(this.paramOpaqueObjects.fog),this.ssaoPass.shader.uniforms.tDepth.value=this.pingPongTarget1.depthTexture,this.ssaoPass.shader.uniforms.cameraNear.value=this.threeCam.near,this.ssaoPass.shader.uniforms.cameraFar.value=this.threeCam.far,this.ssaoPass.shader.uniforms.resolution.value.set(this.ssaoWidth,this.ssaoHeight),this.ssaoPass.shader.uniforms.depthResolution.value.set(this.renderWidth,this.renderHeight),this.ssaoPass.shader.uniforms.cameraProjectionMatrix.value.copy(this.threeCam.projectionMatrix),this.ssaoPass.shader.uniforms.cameraInverseProjectionMatrix.value.copy(this.threeCam.projectionMatrixInverse),this.ssaoPass.shader.uniforms.kernelRadius.value=this.ssaoKernelRadius,this.ssaoPass.shader.uniforms.minDistance.value=this.ssaoMinDistance,this.ssaoPass.shader.uniforms.maxDistance.value=this.ssaoMaxDistance,this.ssaoPass.render(this.threeRenderer),this.threeRenderer.setRenderTarget(this.aoVBlurTarget),this.edgeAwareBlurVertPass.shader.uniforms.tDiffuse.value=this.aoTarget.texture,this.edgeAwareBlurVertPass.shader.uniforms.tDepth.value=this.pingPongTarget1.depthTexture,this.edgeAwareBlurVertPass.shader.uniforms.resolution.value.set(this.ssaoWidth,this.ssaoHeight),this.edgeAwareBlurVertPass.shader.uniforms.invProjMatrix.value.copy(this.threeCam.projectionMatrixInverse),this.edgeAwareBlurVertPass.render(this.threeRenderer),this.threeRenderer.setRenderTarget(this.aoTarget),this.edgeAwareBlurHorizPass.shader.uniforms.tDiffuse.value=this.aoVBlurTarget.texture,this.edgeAwareBlurHorizPass.shader.uniforms.tDepth.value=this.pingPongTarget1.depthTexture,this.edgeAwareBlurHorizPass.shader.uniforms.resolution.value.set(this.ssaoWidth,this.ssaoHeight),this.edgeAwareBlurHorizPass.shader.uniforms.invProjMatrix.value.copy(this.threeCam.projectionMatrixInverse),this.edgeAwareBlurHorizPass.render(this.threeRenderer),this.threeRenderer.setRenderTarget(this.pingPongTarget2),this.aoApplyPass.shader.uniforms.tDiffuse.value=this.pingPongTarget1,this.aoApplyPass.shader.uniforms.tAO.value=this.aoTarget.texture,this.aoApplyPass.render(this.threeRenderer),this.copyPass.shader.uniforms.tDiffuse.value=this.pingPongTarget2.texture,this.copyPass.shader.uniforms.opacity.value=1,this.threeRenderer.setRenderTarget(this.pingPongTarget1),this.copyPass.render(this.threeRenderer));let _=this.pingPongTarget1;this.USE_OLD_UNREAL_BLOOM?(this.threeRenderer.setRenderTarget(this.pingPongTarget1),this.threeRenderer.render(this.paramParticles,this.threeCam),this.unrealBloom.render(this.threeRenderer,this.pingPongTarget2,this.pingPongTarget1),_=this.pingPongTarget2):(this.cfg.bloom&&(this.bloomFullResTarget.depthTexture=this.pingPongTarget1.depthTexture,this.threeRenderer.setRenderTarget(this.bloomFullResTarget),this.threeRenderer.setClearColor(0,0),this.threeRenderer.clearColor(),this.threeRenderer.render(this.paramParticles,this.threeCam),this.copyPass.shader.uniforms.tDiffuse.value=this.bloomFullResTarget.texture,this.copyPass.shader.uniforms.opacity.value=1,this.threeRenderer.setRenderTarget(this.bloomTarget),this.threeRenderer.setClearColor(0,0),this.threeRenderer.clearColor(),this.copyPass.render(this.threeRenderer),this.threeRenderer.setRenderTarget(this.bloomVBlurTarget),this.gaussianBlurVertPass.shader.uniforms.tDiffuse.value=this.bloomTarget.texture,this.gaussianBlurVertPass.shader.uniforms.resolution.value.set(this.bloomWidth,this.bloomHeight),this.gaussianBlurVertPass.shader.uniforms.invProjMatrix.value.copy(this.threeCam.projectionMatrixInverse),this.gaussianBlurVertPass.render(this.threeRenderer),this.threeRenderer.setRenderTarget(this.bloomTarget),this.threeRenderer.clearColor(),this.gaussianBlurHorizPass.shader.uniforms.tDiffuse.value=this.bloomVBlurTarget.texture,this.gaussianBlurHorizPass.shader.uniforms.resolution.value.set(this.bloomWidth,this.bloomHeight),this.gaussianBlurHorizPass.shader.uniforms.invProjMatrix.value.copy(this.threeCam.projectionMatrixInverse),this.gaussianBlurHorizPass.render(this.threeRenderer),this.copyAlphaBlendedPass.shader.uniforms.tDiffuse.value=this.bloomTarget.texture,this.copyAlphaBlendedPass.shader.uniforms.opacity.value=1,this.threeRenderer.setRenderTarget(this.pingPongTarget1),this.copyAlphaBlendedPass.render(this.threeRenderer)),this.threeRenderer.setRenderTarget(this.pingPongTarget1),this.threeRenderer.render(this.paramParticles,this.threeCam)),this.threeRenderer.toneMapping=E.CustomToneMapping,this.cfg.screenSpaceAA?(this.fxaaPass.shader.uniforms.tDiffuse.value=_.texture,this.fxaaPass.shader.uniforms.resolution.value.x=1/this.renderWidth,this.fxaaPass.shader.uniforms.resolution.value.y=1/this.renderHeight,this.threeRenderer.setRenderTarget(null),this.threeRenderer.setClearColor(this.paramSkyColor),this.threeRenderer.clearColor(),this.fxaaPass.render(this.threeRenderer)):(this.copyPass.shader.uniforms.tDiffuse.value=_.texture,this.copyPass.shader.uniforms.opacity.value=1,this.threeRenderer.setRenderTarget(null),this.threeRenderer.setClearColor(this.paramSkyColor),this.threeRenderer.clearColor(),this.copyPass.render(this.threeRenderer)),this.threeRenderer.toneMapping=E.NoToneMapping}renderBeautyShot(r,n,a){this.inBeautyShotMode=!0,this.beautyShotLastWidth=this.windowWidth,this.beautyShotLastHeight=this.windowHeight,this.setWindowRes(r,n),this.resFactor=1,this.updateRenderRes(),this.threeRenderer.shadowMap.enabled=!0,this.threeRenderer.shadowMap.needsUpdate=!0,this.directionalLight.castShadow=!0,this.directionalLight.shadow.mapSize.width=4096,this.directionalLight.shadow.mapSize.height=4096;const o=this.paramCamera;a&&this.setCameraParam(a),this.render(0),a&&this.setCameraParam(o),i.cfg.sunShadow||(this.threeRenderer.shadowMap.enabled=!1,this.threeRenderer.shadowMap.needsUpdate=!0,this.directionalLight.castShadow=!1),this.directionalLight.shadow.mapSize.width=i.cfg.sunShadowMapResolution,this.directionalLight.shadow.mapSize.height=i.cfg.sunShadowMapResolution}finishedWithBeautyShot(){this.inBeautyShotMode=!1,this.setWindowRes(this.beautyShotLastWidth,this.beautyShotLastHeight)}updateRenderRes(){{const r=1/window.devicePixelRatio,n=Math.min(this.windowWidth,this.windowHeight)*r*.9;this.LOWEST_ACCEPTABLE_RES=Math.min(400,n),this.LOWEST_ACCEPTABLE_RES=Math.max(this.LOWEST_ACCEPTABLE_RES,240)}this.dynResRockBottom=!1,Math.min(this.windowWidth,this.windowHeight)*this.resFactor<=this.LOWEST_ACCEPTABLE_RES&&(this.resFactor=this.LOWEST_ACCEPTABLE_RES/Math.min(this.windowWidth,this.windowHeight),this.dynResRockBottom=!0),this.resFactor=y.clamp(this.resFactor,.05,he);const r=Math.ceil(this.windowWidth*this.resFactor),n=Math.ceil(this.windowHeight*this.resFactor);let a=!(this.renderWidth==r&&this.renderHeight==n);return this.skipSameSizeCheck&&(a=!0,this.skipSameSizeCheck=!1),!!a&&(this.renderWidth=r,this.renderHeight=n,this.canvasWidth=this.windowWidth*he,this.canvasHeight=this.windowHeight*he,this.threeRenderer.setSize(this.canvasWidth,this.canvasHeight,!1),this.needUpdateLightClusterTiles=!0,this.disposeRenderTarget(this.pingPongTarget1),this.pingPongTarget1=new E.WebGLRenderTarget(this.renderWidth,this.renderHeight,{format:E.RGBAFormat,type:E.UnsignedByteType,depthBuffer:!0,stencilBuffer:!1}),this.pingPongTargetDepth1=new E.DepthTexture(this.renderWidth,this.renderHeight),this.pingPongTarget1.depthTexture=this.pingPongTargetDepth1,this.disposeRenderTarget(this.pingPongTarget2),this.pingPongTarget2=new E.WebGLRenderTarget(this.renderWidth,this.renderHeight,{format:E.RGBAFormat,type:E.UnsignedByteType,depthBuffer:!0,stencilBuffer:!1}),this.pingPongTargetDepth2=new E.DepthTexture(this.renderWidth,this.renderHeight),this.pingPongTarget2.depthTexture=this.pingPongTargetDepth2,this.ssaoWidth=this.renderWidth*this.ssaoResScale,this.ssaoHeight=this.renderHeight*this.ssaoResScale,this.disposeRenderTarget(this.aoTarget),this.aoTarget=new E.WebGLRenderTarget(this.ssaoWidth,this.ssaoHeight,{format:E.RGBAFormat,type:E.UnsignedByteType,depthBuffer:!1,stencilBuffer:!1}),this.disposeRenderTarget(this.aoVBlurTarget),this.aoVBlurTarget=new E.WebGLRenderTarget(this.ssaoWidth,this.ssaoHeight,{format:E.RGBAFormat,type:E.UnsignedByteType,depthBuffer:!1,stencilBuffer:!1}),this.bloomWidth=this.renderWidth*this.bloomResScale,this.bloomHeight=this.renderHeight*this.bloomResScale,this.disposeRenderTarget(this.bloomFullResTarget),this.bloomFullResTarget=new E.WebGLRenderTarget(this.renderWidth,this.renderHeight,{format:E.RGBAFormat,type:E.UnsignedByteType,depthBuffer:!0,stencilBuffer:!1}),this.disposeRenderTarget(this.bloomTarget),this.bloomTarget=new E.WebGLRenderTarget(this.bloomWidth,this.bloomHeight,{format:E.RGBAFormat,type:E.UnsignedByteType,depthBuffer:!1,stencilBuffer:!1}),this.disposeRenderTarget(this.bloomVBlurTarget),this.bloomVBlurTarget=new E.WebGLRenderTarget(this.bloomWidth,this.bloomHeight,{format:E.RGBAFormat,type:E.UnsignedByteType,depthBuffer:!1,stencilBuffer:!1}),this.unrealBloom.setSize(this.renderWidth,this.renderHeight),!0)}lerp(r,n,a){return(1-a)*r+a*n}generateSSAOSampleKernel(r){for(let n=0;n<r;n++){const a=new E.Vector3;a.x=2*Math.random()-1,a.y=2*Math.random()-1,a.z=.5+.5*Math.random(),a.normalize();let i=n/r;i=this.lerp(.1,1,i*i),a.multiplyScalar(i),this.ssaoPass.shader.uniforms.kernel.value.push(a)}}generateSSAONoiseTexture(){const r=new Uint8Array(48);for(let n=0;n<16;n++)r[3*n+0]=256*Math.random(),r[3*n+1]=256*Math.random(),r[3*n+2]=256*Math.random();const n=new E.DataTexture(r,4,4,E.RGBFormat);n.wrapS=E.RepeatWrapping,n.wrapT=E.RepeatWrapping,n.needsUpdate=!0,this.ssaoPass.shader.uniforms.tNoise.value=n}disposeRenderTarget(r){r&&(r.depthTexture&&r.depthTexture.dispose(),r.dispose())}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.UnrealBloomPass=void 0;const i=a(19),o=a(344),s=a(345);class UnrealBloomPass{constructor(){this.strength=1.5,this.radius=0,this.threshold=.88,this.resolution=new i.Vector2(128,128),this.clearColor=new i.Color(0,0,0),this.nMips=5,this.oldClearColor=new i.Color,this.oldClearAlpha=1;const r={minFilter:i.LinearFilter,magFilter:i.LinearFilter,format:i.RGBAFormat};this.renderTargetsHorizontal=[],this.renderTargetsVertical=[];let n=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);this.renderTargetBright=new i.WebGLRenderTarget(n,a,r),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let o=0;o<this.nMips;o++){const s=new i.WebGLRenderTarget(n,a,r);s.texture.name="UnrealBloomPass.h"+o,s.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(s);const y=new i.WebGLRenderTarget(n,a,r);y.texture.name="UnrealBloomPass.v"+o,y.texture.generateMipmaps=!1,this.renderTargetsVertical.push(y),n=Math.round(n/2),a=Math.round(a/2)}const y=s.luminosityHighPassShader;this.highPassUniforms=i.UniformsUtils.clone(y.uniforms),this.highPassUniforms.luminosityThreshold.value=this.threshold,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new i.ShaderMaterial({uniforms:this.highPassUniforms,vertexShader:y.vertexShader,fragmentShader:y.fragmentShader,defines:{}}),this.separableBlurMaterials=[];const _=[3,5,7,9,11];n=Math.round(this.resolution.x/2),a=Math.round(this.resolution.y/2);for(let r=0;r<this.nMips;r++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(_[r])),this.separableBlurMaterials[r].uniforms.texSize.value=new i.Vector2(n,a),n=Math.round(n/2),a=Math.round(a/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=.1,this.compositeMaterial.needsUpdate=!0,this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new i.Vector3(1,1,1),new i.Vector3(1,1,1),new i.Vector3(1,1,1),new i.Vector3(1,1,1),new i.Vector3(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,this.copyUniforms=i.UniformsUtils.clone(o.copyShader.uniforms),this.copyUniforms.opacity.value=1,this.materialCopy=new i.ShaderMaterial({uniforms:this.copyUniforms,vertexShader:o.copyShader.vertexShader,fragmentShader:o.copyShader.fragmentShader,blending:i.AdditiveBlending,depthTest:!1,depthWrite:!1,transparent:!0}),this.oldClearColor=new i.Color,this.oldClearAlpha=1,this.basic=new i.MeshBasicMaterial,this.quadCamera=new i.OrthographicCamera(-1,1,1,-1,0,1),this.quadScene=new i.Scene,this.quad=new i.Mesh(new i.PlaneBufferGeometry(2,2),this.materialCopy),this.quadScene.add(this.quad)}setSize(r,n){let a=Math.round(r/2),o=Math.round(n/2);this.renderTargetBright.setSize(a,o);for(let r=0;r<this.nMips;r++)this.renderTargetsHorizontal[r].setSize(a,o),this.renderTargetsVertical[r].setSize(a,o),this.separableBlurMaterials[r].uniforms.texSize.value=new i.Vector2(a,o),a=Math.round(a/2),o=Math.round(o/2)}render(r,n,a){this.oldClearColor.copy(r.getClearColor()),this.oldClearAlpha=r.getClearAlpha();const i=r.autoClear;r.autoClear=!1,r.setClearColor(this.clearColor,0),this.highPassUniforms.tDiffuse.value=a.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.quad.material=this.materialHighPassFilter,r.setRenderTarget(this.renderTargetBright),r.render(this.quadScene,this.quadCamera);let o=this.renderTargetBright;for(let n=0;n<this.nMips;n++)this.quad.material=this.separableBlurMaterials[n],this.separableBlurMaterials[n].uniforms.colorTexture.value=o.texture,this.separableBlurMaterials[n].uniforms.direction.value=UnrealBloomPass.BlurDirectionX,r.setRenderTarget(this.renderTargetsHorizontal[n]),r.render(this.quadScene,this.quadCamera),this.separableBlurMaterials[n].uniforms.colorTexture.value=this.renderTargetsHorizontal[n].texture,this.separableBlurMaterials[n].uniforms.direction.value=UnrealBloomPass.BlurDirectionY,r.setRenderTarget(this.renderTargetsVertical[n]),r.render(this.quadScene,this.quadCamera),o=this.renderTargetsVertical[n];this.quad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,this.compositeMaterial.uniforms.colorTexture.value=a.texture,r.setRenderTarget(n),r.render(this.quadScene,this.quadCamera),r.setClearColor(this.oldClearColor,this.oldClearAlpha),r.autoClear=i}dispose(){for(let r=0;r<this.renderTargetsHorizontal.length;r++)this.renderTargetsHorizontal[r].dispose();for(let r=0;r<this.renderTargetsVertical.length;r++)this.renderTargetsVertical[r].dispose();this.renderTargetBright.dispose()}getSeperableBlurMaterial(r){return new i.ShaderMaterial({depthTest:!1,depthWrite:!1,defines:{KERNEL_RADIUS:r,SIGMA:r},uniforms:{colorTexture:{value:null},texSize:{value:new i.Vector2(.5,.5)},direction:{value:new i.Vector2(.5,.5)}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 texSize;\t\t\t\tuniform vec2 direction;\t\t\t\t\t\t\t\tfloat gaussianPdf(in float x, in float sigma) {\t\t\t\t\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\t\t\t\t}\t\t\t\tvoid main() {\n\t\t\t\t\tvec2 invSize = 1.0 / texSize;\t\t\t\t\tfloat fSigma = float(SIGMA);\t\t\t\t\tfloat weightSum = gaussianPdf(0.0, fSigma);\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\t\t\t\t\t\tfloat x = float(i);\t\t\t\t\t\tfloat w = gaussianPdf(x, fSigma);\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\t\t\t\t\t\tweightSum += 2.0 * w;\t\t\t\t\t}\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})}getCompositeMaterial(r){return new i.ShaderMaterial({depthTest:!1,depthWrite:!1,defines:{NUM_MIPS:r},uniforms:{colorTexture:{value:null},blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},hdrBuffer:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"\n        varying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform sampler2D blurTexture1;\n\t\t\t\tuniform sampler2D blurTexture2;\n\t\t\t\tuniform sampler2D blurTexture3;\n\t\t\t\tuniform sampler2D blurTexture4;\n\t\t\t\tuniform sampler2D blurTexture5;\n\t\t\t\tuniform float bloomStrength;\n\t\t\t\tuniform float bloomRadius;\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\n        uniform vec3 bloomTintColors[NUM_MIPS];\n\n\t\t\t\tfloat lerpBloomFactor(const in float factor) {\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n          gl_FragColor = texture2D(colorTexture, vUv) + bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\n\t\t\t\t\t\t\t\t\t\t\t\t\t lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\n                           lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n\n        //  #include <tonemapping_fragment>\n\t\t\t\t}"})}}n.UnrealBloomPass=UnrealBloomPass,UnrealBloomPass.BlurDirectionX=new i.Vector2(1,0),UnrealBloomPass.BlurDirectionY=new i.Vector2(0,1)},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.copyShader=void 0,n.copyShader={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n  varying vec2 vUv;\n  void main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n  }\n  ",fragmentShader:"\n    uniform float opacity;\n    uniform sampler2D tDiffuse;\n    varying vec2 vUv;\n\n    void main() {\n      vec4 texel = texture2D( tDiffuse, vUv );\n      gl_FragColor = opacity * texel;\n    }\n  "}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.luminosityHighPassShader=void 0;const i=a(19);n.luminosityHighPassShader={shaderID:"luminosityHighPass",uniforms:{tDiffuse:{type:"t",value:null},luminosityThreshold:{type:"f",value:1},smoothWidth:{type:"f",value:1},defaultColor:{type:"c",value:new i.Color(0)},defaultOpacity:{type:"f",value:0}},vertexShader:"varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D tDiffuse;\nuniform vec3 defaultColor;\nuniform float defaultOpacity;\nuniform float luminosityThreshold;\nuniform float smoothWidth;\nvarying vec2 vUv;\nvoid main() {\nvec4 texel = texture2D( tDiffuse, vUv );\nvec3 luma = vec3( 0.299, 0.587, 0.114 );\nfloat v = dot( texel.xyz, luma );\nvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\nfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\ngl_FragColor = mix( outputColor, texel, alpha );\n}"}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.FullscreenPass=void 0;const i=a(19);n.FullscreenPass=class FullscreenPass{constructor(r,n,a,o,s,y){let _=!0;_=null!=y&&y,this.shader=new i.ShaderMaterial({uniforms:a,vertexShader:r,fragmentShader:n,depthTest:!1,depthWrite:!1,defines:s,blending:o,extensions:{derivatives:!0},fog:_}),this.fullscreenQuadScene=new i.Scene;const w=new i.Mesh(new i.PlaneBufferGeometry(2,2),this.shader);w.frustumCulled=!1,this.fullscreenQuadScene.add(w),this.fullscreenCam=new i.OrthographicCamera(-1,1,1,-1,0,1)}setFog(r){this.fullscreenQuadScene.fog=r}render(r){r.render(this.fullscreenQuadScene,this.fullscreenCam)}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.aoApplyShader=void 0;const i=a(348),o=a(349);n.aoApplyShader={uniforms:{tDiffuse:{value:null},tAO:{value:null}},vertexShader:o.default,fragmentShader:i.default}},function(r,n,a){"use strict";a.r(n),n.default="// Copyright Hiber 2019\n// Author: Peter Hillerstrm\n\nuniform sampler2D tDiffuse;\nuniform sampler2D tAO;\n\nvarying vec2 vUv;\n\nvec3 sampleValue(vec2 coord)\n{\n    return texture2D(tDiffuse, coord).xyz;\n}\n\nfloat sampleAO(vec2 coord)\n{\n    return texture2D(tAO, coord).x;\n}\n\nvoid main()\n{\n    vec3 val = sampleValue(vUv);\n    float ao = sampleAO(vUv);\n\n    float maxVal = max(val.x, max(val.y, val.z));\n    vec3 res = val;\n    const float CUTOFF_VALUE = 0.95;\n    const float AO_LERP_VALUE = 0.9;\n    if (maxVal < CUTOFF_VALUE) {\n        res = mix(val, val * ao * ao, AO_LERP_VALUE);\n    }\n\n    // Dunno exactly how this works, its what three.js did\n    //const vec3 lumcoeff = vec3(0.299, 0.587, 0.114);\n    //float luminance = dot(val, lumcoeff);\n    //vec3 res;\n    //res = val * mix(vec3(ao), vec3(1.0), luminance);\n\n    gl_FragColor = vec4(res, 1.0);\n}\n"},function(r,n,a){"use strict";a.r(n),n.default="// Copyright Hiber 2019\n// Author: Peter Hillerstrm\n\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.edgeAwareBlurShader=void 0;const i=a(19),o=a(351),s=a(352);n.edgeAwareBlurShader={uniforms:{tDiffuse:{value:null},tDepth:{value:null},resolution:{value:new i.Vector2},invProjMatrix:{value:new i.Matrix4}},vertexShader:s.default,fragmentShader:o.default}},function(r,n,a){"use strict";a.r(n),n.default="// Copyright Hiber 2019\n// Author: Peter Hillerstrm\n\nuniform sampler2D tDiffuse;\nuniform sampler2D tDepth;\nuniform vec2 resolution;\nuniform mat4 invProjMatrix;\n\nvarying vec2 vUv;\n\nfloat sampleLinearDepth(vec2 coord)\n{\n    // Sample logarithmic depth\n    float depth = texture2D(tDepth, coord).x;\n\n    // Calculate view space position from depth\n    vec4 clipSpacePos = vec4((coord - 0.5) * 2.0, (depth - 0.5) * 2.0, 1.0);\n    vec4 viewSpacePos = invProjMatrix * clipSpacePos;\n    viewSpacePos.xyz /= viewSpacePos.w;\n\n    // Return linear depth\n    return -viewSpacePos.z;\n}\n\nfloat sampleValue(vec2 coord)\n{\n    return texture2D(tDiffuse, coord).x;\n}\n\nvoid main()\n{\n    vec2 texelSize = 1.0 / resolution;\n\n    vec2 base = vUv;\n    vec2 halfTexelOffs = texelSize * 0.5; // To read two pixels per read\n\n    // Sample base value and depth\n    float baseVal = sampleValue(base);\n    float baseDepth = sampleLinearDepth(base);\n\n    // Constants\n    const int NUM_SAMPLES = 3;\n    //const float MAX_DIST = 0.5;\n    const float MAX_DIST = 10000.0;\n    float WEIGHTS[NUM_SAMPLES + 1];\n\n    // http://dev.theomader.com/gaussian-kernel-calculator/\n    // Sigma: 2.0, Kernel Size: 13 (1 base, NUM_SAMPLES * 2 * 2)\n    // Raw: 0.002406, 0.009255, 0.027867, 0.065666, 0.121117, 0.174868, 0.197641, 0.174868, 0.121117, 0.065666, 0.027867, 0.009255, 0.002406\n    //WEIGHTS[0] = 0.197641;\n    //WEIGHTS[1] = 0.121117 + 0.174868;\n    //WEIGHTS[2] = 0.027867 + 0.065666;\n    //WEIGHTS[3] = 0.002406 + 0.009255;\n\n    // http://dev.theomader.com/gaussian-kernel-calculator/\n    // Sigma: 4.0, Kernel Size: 13 (1 base, NUM_SAMPLES * 2 * 2)\n    // Raw: 0.036262, 0.051046, 0.067526, 0.083942, 0.098059, 0.107644, 0.111043, 0.107644, 0.098059, 0.083942, 0.067526, 0.051046, 0.036262\n    //WEIGHTS[0] = 0.111043;\n    //WEIGHTS[1] = 0.098059 + 0.107644;\n    //WEIGHTS[2] = 0.067526 + 0.083942;\n    //WEIGHTS[3] = 0.036262 + 0.051046;\n\n    // http://dev.theomader.com/gaussian-kernel-calculator/\n    // Sigma: 6.0, Kernel Size: 13 (1 base, NUM_SAMPLES * 2 * 2)\n    // Raw: 0.055908, 0.065113, 0.073762, 0.081275, 0.087105, 0.090803, 0.09207, 0.090803, 0.087105, 0.081275, 0.073762, 0.065113, 0.055908\n    WEIGHTS[0] = 0.09207;\n    WEIGHTS[1] = 0.087105 + 0.090803;\n    WEIGHTS[2] = 0.073762 + 0.081275;\n    WEIGHTS[3] = 0.055908 + 0.065113;\n\n    // Box blur weights\n    //WEIGHTS[0] = 1.0 / 13.0;\n    //WEIGHTS[1] = 2.0 / 13.0;\n    //WEIGHTS[2] = 2.0 / 13.0;\n    //WEIGHTS[3] = 2.0 / 13.0;\n\n    // Linearly interpolated (two pixels per sample) around base\n    float totalValue = WEIGHTS[0] * baseVal;\n    float totalWeight = WEIGHTS[0];\n    for (int i = 0; i < NUM_SAMPLES; i++) {\n\n        // Calculate sample locations\n#ifdef VERTICAL\n        vec2 sampleLocPrev = base;\n        sampleLocPrev.y = sampleLocPrev.y - texelSize.y * 2.0 * float(i) + halfTexelOffs.y;\n        vec2 sampleLocNext = base;\n        sampleLocNext.y = sampleLocNext.y + texelSize.y * 2.0 * float(i) - halfTexelOffs.y;\n#elif defined(HORIZONTAL)\n        vec2 sampleLocPrev = base;\n        sampleLocPrev.x = sampleLocPrev.x - texelSize.x * 2.0 * float(i) + halfTexelOffs.x;\n        vec2 sampleLocNext = base;\n        sampleLocNext.x = sampleLocNext.x + texelSize.x * 2.0 * float(i) - halfTexelOffs.x;\n#else\n#error Define either VERTICAL or HORIZONTAL\n#endif\n\n        // Weight\n        float weight = WEIGHTS[i + 1];\n\n        // Sample previous and next\n        float samplePrevVal = sampleValue(sampleLocPrev);\n        float samplePrevDepth = sampleLinearDepth(sampleLocPrev);\n        float sampleNextVal = sampleValue(sampleLocNext);\n        float sampleNextDepth = sampleLinearDepth(sampleLocNext);\n\n        // If samples are close enough (depth-wise), add them.\n        if (abs(baseDepth - samplePrevDepth) < MAX_DIST) {\n            totalValue += weight * samplePrevVal;\n            totalWeight += weight;\n        }\n        if (abs(baseDepth - sampleNextDepth) < MAX_DIST) {\n            totalValue += weight * sampleNextVal;\n            totalWeight += weight;\n        }\n    }\n\n    // Normalize value and return value\n    totalValue = totalValue / totalWeight;\n    gl_FragColor = vec4(vec3(totalValue), 1.0);\n}\n"},function(r,n,a){"use strict";a.r(n),n.default="// Copyright Hiber 2019\n// Author: Peter Hillerstrm\n\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.gaussianBlurShader=void 0;const i=a(19),o=a(354),s=a(355);n.gaussianBlurShader={uniforms:{tDiffuse:{value:null},resolution:{value:new i.Vector2},invProjMatrix:{value:new i.Matrix4}},vertexShader:s.default,fragmentShader:o.default}},function(r,n,a){"use strict";a.r(n),n.default="// Copyright Hiber 2019\n// Author: Peter Hillerstrm\n\nuniform sampler2D tDiffuse;\nuniform vec2 resolution;\nuniform mat4 invProjMatrix;\n\nvarying vec2 vUv;\n\nvec4 sampleValue(vec2 coord)\n{\n    return texture2D(tDiffuse, coord);\n}\n\nvoid main()\n{\n    vec2 texelSize = 1.0 / resolution;\n\n    vec2 base = vUv;\n    vec2 halfTexelOffs = texelSize * 0.5; // To read two pixels per read\n\n    // Sample base value and depth\n    vec4 baseVal = sampleValue(base);\n\n    // Constants\n    const int NUM_SAMPLES = 8;\n    float WEIGHTS[NUM_SAMPLES + 1];\n\n    // http://dev.theomader.com/gaussian-kernel-calculator/\n    // Sigma: 2.0, Kernel Size: 13 (1 base, NUM_SAMPLES * 2 * 2)\n    // Raw: 0.002406, 0.009255, 0.027867, 0.065666, 0.121117, 0.174868, 0.197641, 0.174868, 0.121117, 0.065666, 0.027867, 0.009255, 0.002406\n    //WEIGHTS[0] = 0.197641;\n    //WEIGHTS[1] = 0.121117 + 0.174868;\n    //WEIGHTS[2] = 0.027867 + 0.065666;\n    //WEIGHTS[3] = 0.002406 + 0.009255;\n\n    // http://dev.theomader.com/gaussian-kernel-calculator/\n    // Sigma: 4.0, Kernel Size: 13 (1 base, NUM_SAMPLES * 2 * 2)\n    // Raw: 0.036262, 0.051046, 0.067526, 0.083942, 0.098059, 0.107644, 0.111043, 0.107644, 0.098059, 0.083942, 0.067526, 0.051046, 0.036262\n    //WEIGHTS[0] = 0.111043;\n    //WEIGHTS[1] = 0.098059 + 0.107644;\n    //WEIGHTS[2] = 0.067526 + 0.083942;\n    //WEIGHTS[3] = 0.036262 + 0.051046;\n\n    // http://dev.theomader.com/gaussian-kernel-calculator/\n    // Sigma: 6.0, Kernel Size: 13 (1 base, NUM_SAMPLES * 2 * 2)\n    // Raw: 0.055908, 0.065113, 0.073762, 0.081275, 0.087105, 0.090803, 0.09207, 0.090803, 0.087105, 0.081275, 0.073762, 0.065113, 0.055908\n    //WEIGHTS[0] = 0.09207;\n    //WEIGHTS[1] = 0.087105 + 0.090803;\n    //WEIGHTS[2] = 0.073762 + 0.081275;\n    //WEIGHTS[3] = 0.055908 + 0.065113;\n\n    // http://dev.theomader.com/gaussian-kernel-calculator/\n    // Sigma: 10.0, Kernel Size: 33 (1 base, NUM_SAMPLES * 2 * 2)\n    // Raw: 0.012318, 0.014381, 0.016624, 0.019024, 0.021555, 0.02418, 0.026854, 0.029528, 0.032145, 0.034647,\n    //      0.036972, 0.03906, 0.040857, 0.042311, 0.043381, 0.044036, 0.044256, 0.044036, 0.043381, 0.042311,\n    //      0.040857, 0.03906, 0.036972, 0.034647, 0.032145, 0.029528, 0.026854, 0.02418, 0.021555, 0.019024,\n    //      0.016624, 0.014381, 0.012318\n    WEIGHTS[0] = 0.044256;\n    WEIGHTS[1] = 0.043381 + 0.044036;\n    WEIGHTS[2] = 0.040857 + 0.042311;\n    WEIGHTS[3] = 0.036972 + 0.03906;\n    WEIGHTS[4] = 0.032145 + 0.034647;\n    WEIGHTS[5] = 0.026854 + 0.029528;\n    WEIGHTS[6] = 0.021555 + 0.02418;\n    WEIGHTS[7] = 0.016624 + 0.019024;\n    WEIGHTS[8] = 0.012318 + 0.014381;\n\n    // Box blur weights\n    // Size: 33 (1 base, NUM_SAMPLES * 2 * 2)\n    /*WEIGHTS[0] = 1.0 / 33.0;\n    WEIGHTS[1] = 2.0 / 33.0;\n    WEIGHTS[2] = 2.0 / 33.0;\n    WEIGHTS[3] = 2.0 / 33.0;\n    WEIGHTS[4] = 2.0 / 33.0;\n    WEIGHTS[5] = 2.0 / 33.0;\n    WEIGHTS[6] = 2.0 / 33.0;\n    WEIGHTS[7] = 2.0 / 33.0;\n    WEIGHTS[8] = 2.0 / 33.0;*/\n\n    // Linearly interpolated (two pixels per sample) around base\n    vec4 totalValue = WEIGHTS[0] * baseVal;\n    float totalWeight = WEIGHTS[0];\n    for (int i = 0; i < NUM_SAMPLES; i++) {\n\n        // Calculate sample locations\n#ifdef VERTICAL\n        vec2 sampleLocPrev = base;\n        sampleLocPrev.y = sampleLocPrev.y - texelSize.y * 2.0 * float(i) + halfTexelOffs.y;\n        vec2 sampleLocNext = base;\n        sampleLocNext.y = sampleLocNext.y + texelSize.y * 2.0 * float(i) - halfTexelOffs.y;\n#elif defined(HORIZONTAL)\n        vec2 sampleLocPrev = base;\n        sampleLocPrev.x = sampleLocPrev.x - texelSize.x * 2.0 * float(i) + halfTexelOffs.x;\n        vec2 sampleLocNext = base;\n        sampleLocNext.x = sampleLocNext.x + texelSize.x * 2.0 * float(i) - halfTexelOffs.x;\n#else\n#error Define either VERTICAL or HORIZONTAL\n#endif\n\n        // Weight\n        float weight = WEIGHTS[i + 1];\n\n        // Sample previous and next\n        vec4 samplePrevVal = sampleValue(sampleLocPrev);\n        vec4 sampleNextVal = sampleValue(sampleLocNext);\n\n        totalValue += weight * samplePrevVal;\n        totalWeight += weight;\n\n        totalValue += weight * sampleNextVal;\n        totalWeight += weight;\n    }\n\n    // Normalize value and return value\n    totalValue = totalValue / totalWeight;\n    gl_FragColor = totalValue;\n}\n"},function(r,n,a){"use strict";a.r(n),n.default="// Copyright Hiber 2019\n// Author: Peter Hillerstrm\n\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}\n"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fxaaShader=void 0;const i=a(19),o=a(357),s=a(358);n.fxaaShader={uniforms:{tDiffuse:{value:null},resolution:{value:new i.Vector2(1/1024,1/512)}},defines:{},vertexShader:s.default,fragmentShader:o.default}},function(r,n,a){"use strict";a.r(n),n.default='// precision highp float;\n\nuniform sampler2D tDiffuse;\n\nuniform vec2 resolution;\n\nvarying vec2 vUv;\n\n// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)\n\n//----------------------------------------------------------------------------------\n// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag\n// SDK Version: v3.00\n// Email:       gameworks@nvidia.com\n// Site:        http://developer.nvidia.com/\n//\n// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions\n// are met:\n//  * Redistributions of source code must retain the above copyright\n//    notice, this list of conditions and the following disclaimer.\n//  * Redistributions in binary form must reproduce the above copyright\n//    notice, this list of conditions and the following disclaimer in the\n//    documentation and/or other materials provided with the distribution.\n//  * Neither the name of NVIDIA CORPORATION nor the names of its\n//    contributors may be used to endorse or promote products derived\n//    from this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS\'\' AND ANY\n// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\n// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n//----------------------------------------------------------------------------------\n\n#define FXAA_PC 1\n#define FXAA_GLSL_100 1\n#define FXAA_QUALITY_PRESET 12\n\n#define FXAA_GREEN_AS_LUMA 1\n\n/*--------------------------------------------------------------------------*/\n#ifndef FXAA_PC_CONSOLE\n    //\n    // The console algorithm for PC is included\n    // for developers targeting really low spec machines.\n    // Likely better to just run FXAA_PC, and use a really low preset.\n    //\n    #define FXAA_PC_CONSOLE 0\n#endif\n/*--------------------------------------------------------------------------*/\n#ifndef FXAA_GLSL_120\n    #define FXAA_GLSL_120 0\n#endif\n/*--------------------------------------------------------------------------*/\n#ifndef FXAA_GLSL_130\n    #define FXAA_GLSL_130 0\n#endif\n/*--------------------------------------------------------------------------*/\n#ifndef FXAA_HLSL_3\n    #define FXAA_HLSL_3 0\n#endif\n/*--------------------------------------------------------------------------*/\n#ifndef FXAA_HLSL_4\n    #define FXAA_HLSL_4 0\n#endif\n/*--------------------------------------------------------------------------*/\n#ifndef FXAA_HLSL_5\n    #define FXAA_HLSL_5 0\n#endif\n/*==========================================================================*/\n#ifndef FXAA_GREEN_AS_LUMA\n    //\n    // For those using non-linear color,\n    // and either not able to get luma in alpha, or not wanting to,\n    // this enables FXAA to run using green as a proxy for luma.\n    // So with this enabled, no need to pack luma in alpha.\n    //\n    // This will turn off AA on anything which lacks some amount of green.\n    // Pure red and blue or combination of only R and B, will get no AA.\n    //\n    // Might want to lower the settings for both,\n    //    fxaaConsoleEdgeThresholdMin\n    //    fxaaQualityEdgeThresholdMin\n    // In order to insure AA does not get turned off on colors\n    // which contain a minor amount of green.\n    //\n    // 1 = On.\n    // 0 = Off.\n    //\n    #define FXAA_GREEN_AS_LUMA 0\n#endif\n/*--------------------------------------------------------------------------*/\n#ifndef FXAA_EARLY_EXIT\n    //\n    // Controls algorithm\'s early exit path.\n    // On PS3 turning this ON adds 2 cycles to the shader.\n    // On 360 turning this OFF adds 10ths of a millisecond to the shader.\n    // Turning this off on console will result in a more blurry image.\n    // So this defaults to on.\n    //\n    // 1 = On.\n    // 0 = Off.\n    //\n    #define FXAA_EARLY_EXIT 1\n#endif\n/*--------------------------------------------------------------------------*/\n#ifndef FXAA_DISCARD\n    //\n    // Only valid for PC OpenGL currently.\n    // Probably will not work when FXAA_GREEN_AS_LUMA = 1.\n    //\n    // 1 = Use discard on pixels which don\'t need AA.\n    //     For APIs which enable concurrent TEX+ROP from same surface.\n    // 0 = Return unchanged color on pixels which don\'t need AA.\n    //\n    #define FXAA_DISCARD 0\n#endif\n/*--------------------------------------------------------------------------*/\n#ifndef FXAA_FAST_PIXEL_OFFSET\n    //\n    // Used for GLSL 120 only.\n    //\n    // 1 = GL API supports fast pixel offsets\n    // 0 = do not use fast pixel offsets\n    //\n    #ifdef GL_EXT_gpu_shader4\n        #define FXAA_FAST_PIXEL_OFFSET 1\n    #endif\n    #ifdef GL_NV_gpu_shader5\n        #define FXAA_FAST_PIXEL_OFFSET 1\n    #endif\n    #ifdef GL_ARB_gpu_shader5\n        #define FXAA_FAST_PIXEL_OFFSET 1\n    #endif\n    #ifndef FXAA_FAST_PIXEL_OFFSET\n        #define FXAA_FAST_PIXEL_OFFSET 0\n    #endif\n#endif\n/*--------------------------------------------------------------------------*/\n#ifndef FXAA_GATHER4_ALPHA\n    //\n    // 1 = API supports gather4 on alpha channel.\n    // 0 = API does not support gather4 on alpha channel.\n    //\n    #if (FXAA_HLSL_5 == 1)\n        #define FXAA_GATHER4_ALPHA 1\n    #endif\n    #ifdef GL_ARB_gpu_shader5\n        #define FXAA_GATHER4_ALPHA 1\n    #endif\n    #ifdef GL_NV_gpu_shader5\n        #define FXAA_GATHER4_ALPHA 1\n    #endif\n    #ifndef FXAA_GATHER4_ALPHA\n        #define FXAA_GATHER4_ALPHA 0\n    #endif\n#endif\n\n\n/*============================================================================\n                        FXAA QUALITY - TUNING KNOBS\n------------------------------------------------------------------------------\nNOTE the other tuning knobs are now in the shader function inputs!\n============================================================================*/\n#ifndef FXAA_QUALITY_PRESET\n    //\n    // Choose the quality preset.\n    // This needs to be compiled into the shader as it effects code.\n    // Best option to include multiple presets is to\n    // in each shader define the preset, then include this file.\n    //\n    // OPTIONS\n    // -----------------------------------------------------------------------\n    // 10 to 15 - default medium dither (10=fastest, 15=highest quality)\n    // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)\n    // 39       - no dither, very expensive\n    //\n    // NOTES\n    // -----------------------------------------------------------------------\n    // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)\n    // 13 = about same speed as FXAA 3.9 and better than 12\n    // 23 = closest to FXAA 3.9 visually and performance wise\n    //  _ = the lowest digit is directly related to performance\n    // _  = the highest digit is directly related to style\n    //\n    #define FXAA_QUALITY_PRESET 12\n#endif\n\n\n/*============================================================================\n\n                           FXAA QUALITY - PRESETS\n\n============================================================================*/\n\n/*============================================================================\n                     FXAA QUALITY - MEDIUM DITHER PRESETS\n============================================================================*/\n#if (FXAA_QUALITY_PRESET == 10)\n    #define FXAA_QUALITY_PS 3\n    #define FXAA_QUALITY_P0 1.5\n    #define FXAA_QUALITY_P1 3.0\n    #define FXAA_QUALITY_P2 12.0\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_QUALITY_PRESET == 11)\n    #define FXAA_QUALITY_PS 4\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 3.0\n    #define FXAA_QUALITY_P3 12.0\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_QUALITY_PRESET == 12)\n    #define FXAA_QUALITY_PS 5\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 4.0\n    #define FXAA_QUALITY_P4 12.0\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_QUALITY_PRESET == 13)\n    #define FXAA_QUALITY_PS 6\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 4.0\n    #define FXAA_QUALITY_P5 12.0\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_QUALITY_PRESET == 14)\n    #define FXAA_QUALITY_PS 7\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 4.0\n    #define FXAA_QUALITY_P6 12.0\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_QUALITY_PRESET == 15)\n    #define FXAA_QUALITY_PS 8\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 4.0\n    #define FXAA_QUALITY_P7 12.0\n#endif\n\n/*============================================================================\n                     FXAA QUALITY - LOW DITHER PRESETS\n============================================================================*/\n#if (FXAA_QUALITY_PRESET == 20)\n    #define FXAA_QUALITY_PS 3\n    #define FXAA_QUALITY_P0 1.5\n    #define FXAA_QUALITY_P1 2.0\n    #define FXAA_QUALITY_P2 8.0\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_QUALITY_PRESET == 21)\n    #define FXAA_QUALITY_PS 4\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 8.0\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_QUALITY_PRESET == 22)\n    #define FXAA_QUALITY_PS 5\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 8.0\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_QUALITY_PRESET == 23)\n    #define FXAA_QUALITY_PS 6\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 8.0\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_QUALITY_PRESET == 24)\n    #define FXAA_QUALITY_PS 7\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 3.0\n    #define FXAA_QUALITY_P6 8.0\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_QUALITY_PRESET == 25)\n    #define FXAA_QUALITY_PS 8\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 4.0\n    #define FXAA_QUALITY_P7 8.0\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_QUALITY_PRESET == 26)\n    #define FXAA_QUALITY_PS 9\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 2.0\n    #define FXAA_QUALITY_P7 4.0\n    #define FXAA_QUALITY_P8 8.0\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_QUALITY_PRESET == 27)\n    #define FXAA_QUALITY_PS 10\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 2.0\n    #define FXAA_QUALITY_P7 2.0\n    #define FXAA_QUALITY_P8 4.0\n    #define FXAA_QUALITY_P9 8.0\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_QUALITY_PRESET == 28)\n    #define FXAA_QUALITY_PS 11\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 2.0\n    #define FXAA_QUALITY_P7 2.0\n    #define FXAA_QUALITY_P8 2.0\n    #define FXAA_QUALITY_P9 4.0\n    #define FXAA_QUALITY_P10 8.0\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_QUALITY_PRESET == 29)\n    #define FXAA_QUALITY_PS 12\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.5\n    #define FXAA_QUALITY_P2 2.0\n    #define FXAA_QUALITY_P3 2.0\n    #define FXAA_QUALITY_P4 2.0\n    #define FXAA_QUALITY_P5 2.0\n    #define FXAA_QUALITY_P6 2.0\n    #define FXAA_QUALITY_P7 2.0\n    #define FXAA_QUALITY_P8 2.0\n    #define FXAA_QUALITY_P9 2.0\n    #define FXAA_QUALITY_P10 4.0\n    #define FXAA_QUALITY_P11 8.0\n#endif\n\n/*============================================================================\n                     FXAA QUALITY - EXTREME QUALITY\n============================================================================*/\n#if (FXAA_QUALITY_PRESET == 39)\n    #define FXAA_QUALITY_PS 12\n    #define FXAA_QUALITY_P0 1.0\n    #define FXAA_QUALITY_P1 1.0\n    #define FXAA_QUALITY_P2 1.0\n    #define FXAA_QUALITY_P3 1.0\n    #define FXAA_QUALITY_P4 1.0\n    #define FXAA_QUALITY_P5 1.5\n    #define FXAA_QUALITY_P6 2.0\n    #define FXAA_QUALITY_P7 2.0\n    #define FXAA_QUALITY_P8 2.0\n    #define FXAA_QUALITY_P9 2.0\n    #define FXAA_QUALITY_P10 4.0\n    #define FXAA_QUALITY_P11 8.0\n#endif\n\n\n\n/*============================================================================\n\n                                API PORTING\n\n============================================================================*/\n#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)\n    #define FxaaBool bool\n    #define FxaaDiscard discard\n    #define FxaaFloat float\n    #define FxaaFloat2 vec2\n    #define FxaaFloat3 vec3\n    #define FxaaFloat4 vec4\n    #define FxaaHalf float\n    #define FxaaHalf2 vec2\n    #define FxaaHalf3 vec3\n    #define FxaaHalf4 vec4\n    #define FxaaInt2 ivec2\n    #define FxaaSat(x) clamp(x, 0.0, 1.0)\n    #define FxaaTex sampler2D\n#else\n    #define FxaaBool bool\n    #define FxaaDiscard clip(-1)\n    #define FxaaFloat float\n    #define FxaaFloat2 float2\n    #define FxaaFloat3 float3\n    #define FxaaFloat4 float4\n    #define FxaaHalf half\n    #define FxaaHalf2 half2\n    #define FxaaHalf3 half3\n    #define FxaaHalf4 half4\n    #define FxaaSat(x) saturate(x)\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_GLSL_100 == 1)\n  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)\n  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_GLSL_120 == 1)\n    // Requires,\n    //  #version 120\n    // And at least,\n    //  #extension GL_EXT_gpu_shader4 : enable\n    //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)\n    #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)\n    #if (FXAA_FAST_PIXEL_OFFSET == 1)\n        #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)\n    #else\n        #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)\n    #endif\n    #if (FXAA_GATHER4_ALPHA == 1)\n        // use #extension GL_ARB_gpu_shader5 : enable\n        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\n        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\n        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)\n        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\n    #endif\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_GLSL_130 == 1)\n    // Requires "#version 130" or better\n    #define FxaaTexTop(t, p) textureLod(t, p, 0.0)\n    #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)\n    #if (FXAA_GATHER4_ALPHA == 1)\n        // use #extension GL_ARB_gpu_shader5 : enable\n        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\n        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\n        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)\n        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\n    #endif\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_HLSL_3 == 1)\n    #define FxaaInt2 float2\n    #define FxaaTex sampler2D\n    #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))\n    #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_HLSL_4 == 1)\n    #define FxaaInt2 int2\n    struct FxaaTex { SamplerState smpl; Texture2D tex; };\n    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)\n    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)\n#endif\n/*--------------------------------------------------------------------------*/\n#if (FXAA_HLSL_5 == 1)\n    #define FxaaInt2 int2\n    struct FxaaTex { SamplerState smpl; Texture2D tex; };\n    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)\n    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)\n    #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)\n    #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)\n    #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)\n    #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)\n#endif\n\n\n/*============================================================================\n                   GREEN AS LUMA OPTION SUPPORT FUNCTION\n============================================================================*/\n#if (FXAA_GREEN_AS_LUMA == 0)\n    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }\n#else\n    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }\n#endif\n\n\n\n\n/*============================================================================\n\n                             FXAA3 QUALITY - PC\n\n============================================================================*/\n#if (FXAA_PC == 1)\n/*--------------------------------------------------------------------------*/\nFxaaFloat4 FxaaPixelShader(\n    //\n    // Use noperspective interpolation here (turn off perspective interpolation).\n    // {xy} = center of pixel\n    FxaaFloat2 pos,\n    //\n    // Used only for FXAA Console, and not used on the 360 version.\n    // Use noperspective interpolation here (turn off perspective interpolation).\n    // {xy_} = upper left of pixel\n    // {_zw} = lower right of pixel\n    FxaaFloat4 fxaaConsolePosPos,\n    //\n    // Input color texture.\n    // {rgb_} = color in linear or perceptual color space\n    // if (FXAA_GREEN_AS_LUMA == 0)\n    //     {__a} = luma in perceptual color space (not linear)\n    FxaaTex tex,\n    //\n    // Only used on the optimized 360 version of FXAA Console.\n    // For everything but 360, just use the same input here as for "tex".\n    // For 360, same texture, just alias with a 2nd sampler.\n    // This sampler needs to have an exponent bias of -1.\n    FxaaTex fxaaConsole360TexExpBiasNegOne,\n    //\n    // Only used on the optimized 360 version of FXAA Console.\n    // For everything but 360, just use the same input here as for "tex".\n    // For 360, same texture, just alias with a 3nd sampler.\n    // This sampler needs to have an exponent bias of -2.\n    FxaaTex fxaaConsole360TexExpBiasNegTwo,\n    //\n    // Only used on FXAA Quality.\n    // This must be from a constant/uniform.\n    // {x_} = 1.0/screenWidthInPixels\n    // {_y} = 1.0/screenHeightInPixels\n    FxaaFloat2 fxaaQualityRcpFrame,\n    //\n    // Only used on FXAA Console.\n    // This must be from a constant/uniform.\n    // This effects sub-pixel AA quality and inversely sharpness.\n    //   Where N ranges between,\n    //     N = 0.50 (default)\n    //     N = 0.33 (sharper)\n    // {x__} = -N/screenWidthInPixels\n    // {_y_} = -N/screenHeightInPixels\n    // {_z_} =  N/screenWidthInPixels\n    // {__w} =  N/screenHeightInPixels\n    FxaaFloat4 fxaaConsoleRcpFrameOpt,\n    //\n    // Only used on FXAA Console.\n    // Not used on 360, but used on PS3 and PC.\n    // This must be from a constant/uniform.\n    // {x__} = -2.0/screenWidthInPixels\n    // {_y_} = -2.0/screenHeightInPixels\n    // {_z_} =  2.0/screenWidthInPixels\n    // {__w} =  2.0/screenHeightInPixels\n    FxaaFloat4 fxaaConsoleRcpFrameOpt2,\n    //\n    // Only used on FXAA Console.\n    // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.\n    // This must be from a constant/uniform.\n    // {x__} =  8.0/screenWidthInPixels\n    // {_y_} =  8.0/screenHeightInPixels\n    // {_z_} = -4.0/screenWidthInPixels\n    // {__w} = -4.0/screenHeightInPixels\n    FxaaFloat4 fxaaConsole360RcpFrameOpt2,\n    //\n    // Only used on FXAA Quality.\n    // This used to be the FXAA_QUALITY_SUBPIX define.\n    // It is here now to allow easier tuning.\n    // Choose the amount of sub-pixel aliasing removal.\n    // This can effect sharpness.\n    //   1.00 - upper limit (softer)\n    //   0.75 - default amount of filtering\n    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)\n    //   0.25 - almost off\n    //   0.00 - completely off\n    FxaaFloat fxaaQualitySubpix,\n    //\n    // Only used on FXAA Quality.\n    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.\n    // It is here now to allow easier tuning.\n    // The minimum amount of local contrast required to apply algorithm.\n    //   0.333 - too little (faster)\n    //   0.250 - low quality\n    //   0.166 - default\n    //   0.125 - high quality\n    //   0.063 - overkill (slower)\n    FxaaFloat fxaaQualityEdgeThreshold,\n    //\n    // Only used on FXAA Quality.\n    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.\n    // It is here now to allow easier tuning.\n    // Trims the algorithm from processing darks.\n    //   0.0833 - upper limit (default, the start of visible unfiltered edges)\n    //   0.0625 - high quality (faster)\n    //   0.0312 - visible limit (slower)\n    // Special notes when using FXAA_GREEN_AS_LUMA,\n    //   Likely want to set this to zero.\n    //   As colors that are mostly not-green\n    //   will appear very dark in the green channel!\n    //   Tune by looking at mostly non-green content,\n    //   then start at zero and increase until aliasing is a problem.\n    FxaaFloat fxaaQualityEdgeThresholdMin,\n    //\n    // Only used on FXAA Console.\n    // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.\n    // It is here now to allow easier tuning.\n    // This does not effect PS3, as this needs to be compiled in.\n    //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.\n    //   Due to the PS3 being ALU bound,\n    //   there are only three safe values here: 2 and 4 and 8.\n    //   These options use the shaders ability to a free *|/ by 2|4|8.\n    // For all other platforms can be a non-power of two.\n    //   8.0 is sharper (default!!!)\n    //   4.0 is softer\n    //   2.0 is really soft (good only for vector graphics inputs)\n    FxaaFloat fxaaConsoleEdgeSharpness,\n    //\n    // Only used on FXAA Console.\n    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.\n    // It is here now to allow easier tuning.\n    // This does not effect PS3, as this needs to be compiled in.\n    //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.\n    //   Due to the PS3 being ALU bound,\n    //   there are only two safe values here: 1/4 and 1/8.\n    //   These options use the shaders ability to a free *|/ by 2|4|8.\n    // The console setting has a different mapping than the quality setting.\n    // Other platforms can use other values.\n    //   0.125 leaves less aliasing, but is softer (default!!!)\n    //   0.25 leaves more aliasing, and is sharper\n    FxaaFloat fxaaConsoleEdgeThreshold,\n    //\n    // Only used on FXAA Console.\n    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.\n    // It is here now to allow easier tuning.\n    // Trims the algorithm from processing darks.\n    // The console setting has a different mapping than the quality setting.\n    // This only applies when FXAA_EARLY_EXIT is 1.\n    // This does not apply to PS3,\n    // PS3 was simplified to avoid more shader instructions.\n    //   0.06 - faster but more aliasing in darks\n    //   0.05 - default\n    //   0.04 - slower and less aliasing in darks\n    // Special notes when using FXAA_GREEN_AS_LUMA,\n    //   Likely want to set this to zero.\n    //   As colors that are mostly not-green\n    //   will appear very dark in the green channel!\n    //   Tune by looking at mostly non-green content,\n    //   then start at zero and increase until aliasing is a problem.\n    FxaaFloat fxaaConsoleEdgeThresholdMin,\n    //\n    // Extra constants for 360 FXAA Console only.\n    // Use zeros or anything else for other platforms.\n    // These must be in physical constant registers and NOT immediates.\n    // Immediates will result in compiler un-optimizing.\n    // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)\n    FxaaFloat4 fxaaConsole360ConstDir\n) {\n/*--------------------------------------------------------------------------*/\n    FxaaFloat2 posM;\n    posM.x = pos.x;\n    posM.y = pos.y;\n    #if (FXAA_GATHER4_ALPHA == 1)\n        #if (FXAA_DISCARD == 0)\n            FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n            #if (FXAA_GREEN_AS_LUMA == 0)\n                #define lumaM rgbyM.w\n            #else\n                #define lumaM rgbyM.y\n            #endif\n        #endif\n        #if (FXAA_GREEN_AS_LUMA == 0)\n            FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);\n            FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));\n        #else\n            FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);\n            FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));\n        #endif\n        #if (FXAA_DISCARD == 1)\n            #define lumaM luma4A.w\n        #endif\n        #define lumaE luma4A.z\n        #define lumaS luma4A.x\n        #define lumaSE luma4A.y\n        #define lumaNW luma4B.w\n        #define lumaN luma4B.z\n        #define lumaW luma4B.x\n    #else\n        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\n        #if (FXAA_GREEN_AS_LUMA == 0)\n            #define lumaM rgbyM.w\n        #else\n            #define lumaM rgbyM.y\n        #endif\n        #if (FXAA_GLSL_100 == 1)\n          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));\n          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));\n          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));\n          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));\n        #else\n          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\n          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\n          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\n          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\n        #endif\n    #endif\n/*--------------------------------------------------------------------------*/\n    FxaaFloat maxSM = max(lumaS, lumaM);\n    FxaaFloat minSM = min(lumaS, lumaM);\n    FxaaFloat maxESM = max(lumaE, maxSM);\n    FxaaFloat minESM = min(lumaE, minSM);\n    FxaaFloat maxWN = max(lumaN, lumaW);\n    FxaaFloat minWN = min(lumaN, lumaW);\n    FxaaFloat rangeMax = max(maxWN, maxESM);\n    FxaaFloat rangeMin = min(minWN, minESM);\n    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\n    FxaaFloat range = rangeMax - rangeMin;\n    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\n    FxaaBool earlyExit = range < rangeMaxClamped;\n/*--------------------------------------------------------------------------*/\n    if(earlyExit)\n        #if (FXAA_DISCARD == 1)\n            FxaaDiscard;\n        #else\n            return rgbyM;\n        #endif\n/*--------------------------------------------------------------------------*/\n    #if (FXAA_GATHER4_ALPHA == 0)\n        #if (FXAA_GLSL_100 == 1)\n          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));\n          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));\n          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));\n          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));\n        #else\n          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\n          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\n          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\n          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n        #endif\n    #else\n        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));\n        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\n    #endif\n/*--------------------------------------------------------------------------*/\n    FxaaFloat lumaNS = lumaN + lumaS;\n    FxaaFloat lumaWE = lumaW + lumaE;\n    FxaaFloat subpixRcpRange = 1.0/range;\n    FxaaFloat subpixNSWE = lumaNS + lumaWE;\n    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\n    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\n/*--------------------------------------------------------------------------*/\n    FxaaFloat lumaNESE = lumaNE + lumaSE;\n    FxaaFloat lumaNWNE = lumaNW + lumaNE;\n    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\n    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\n/*--------------------------------------------------------------------------*/\n    FxaaFloat lumaNWSW = lumaNW + lumaSW;\n    FxaaFloat lumaSWSE = lumaSW + lumaSE;\n    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\n    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\n    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\n    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\n    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\n    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\n/*--------------------------------------------------------------------------*/\n    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\n    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;\n    FxaaBool horzSpan = edgeHorz >= edgeVert;\n    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\n/*--------------------------------------------------------------------------*/\n    if(!horzSpan) lumaN = lumaW;\n    if(!horzSpan) lumaS = lumaE;\n    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\n    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\n/*--------------------------------------------------------------------------*/\n    FxaaFloat gradientN = lumaN - lumaM;\n    FxaaFloat gradientS = lumaS - lumaM;\n    FxaaFloat lumaNN = lumaN + lumaM;\n    FxaaFloat lumaSS = lumaS + lumaM;\n    FxaaBool pairN = abs(gradientN) >= abs(gradientS);\n    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));\n    if(pairN) lengthSign = -lengthSign;\n    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\n/*--------------------------------------------------------------------------*/\n    FxaaFloat2 posB;\n    posB.x = posM.x;\n    posB.y = posM.y;\n    FxaaFloat2 offNP;\n    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\n    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\n    if(!horzSpan) posB.x += lengthSign * 0.5;\n    if( horzSpan) posB.y += lengthSign * 0.5;\n/*--------------------------------------------------------------------------*/\n    FxaaFloat2 posN;\n    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\n    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\n    FxaaFloat2 posP;\n    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\n    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\n    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\n    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));\n    FxaaFloat subpixE = subpixC * subpixC;\n    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));\n/*--------------------------------------------------------------------------*/\n    if(!pairN) lumaNN = lumaSS;\n    FxaaFloat gradientScaled = gradient * 1.0/4.0;\n    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;\n    FxaaFloat subpixF = subpixD * subpixE;\n    FxaaBool lumaMLTZero = lumaMM < 0.0;\n/*--------------------------------------------------------------------------*/\n    lumaEndN -= lumaNN * 0.5;\n    lumaEndP -= lumaNN * 0.5;\n    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;\n    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;\n    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\n    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\n    FxaaBool doneNP = (!doneN) || (!doneP);\n    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\n    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\n/*--------------------------------------------------------------------------*/\n    if(doneNP) {\n        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n        doneN = abs(lumaEndN) >= gradientScaled;\n        doneP = abs(lumaEndP) >= gradientScaled;\n        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;\n        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;\n        doneNP = (!doneN) || (!doneP);\n        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;\n        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;\n/*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PS > 3)\n        if(doneNP) {\n            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n            doneN = abs(lumaEndN) >= gradientScaled;\n            doneP = abs(lumaEndP) >= gradientScaled;\n            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;\n            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;\n            doneNP = (!doneN) || (!doneP);\n            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;\n            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;\n/*--------------------------------------------------------------------------*/\n            #if (FXAA_QUALITY_PS > 4)\n            if(doneNP) {\n                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                doneN = abs(lumaEndN) >= gradientScaled;\n                doneP = abs(lumaEndP) >= gradientScaled;\n                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;\n                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;\n                doneNP = (!doneN) || (!doneP);\n                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;\n                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;\n/*--------------------------------------------------------------------------*/\n                #if (FXAA_QUALITY_PS > 5)\n                if(doneNP) {\n                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                    doneN = abs(lumaEndN) >= gradientScaled;\n                    doneP = abs(lumaEndP) >= gradientScaled;\n                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;\n                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;\n                    doneNP = (!doneN) || (!doneP);\n                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;\n                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;\n/*--------------------------------------------------------------------------*/\n                    #if (FXAA_QUALITY_PS > 6)\n                    if(doneNP) {\n                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                        doneN = abs(lumaEndN) >= gradientScaled;\n                        doneP = abs(lumaEndP) >= gradientScaled;\n                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;\n                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;\n                        doneNP = (!doneN) || (!doneP);\n                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;\n                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;\n/*--------------------------------------------------------------------------*/\n                        #if (FXAA_QUALITY_PS > 7)\n                        if(doneNP) {\n                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                            doneN = abs(lumaEndN) >= gradientScaled;\n                            doneP = abs(lumaEndP) >= gradientScaled;\n                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;\n                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;\n                            doneNP = (!doneN) || (!doneP);\n                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;\n                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;\n/*--------------------------------------------------------------------------*/\n    #if (FXAA_QUALITY_PS > 8)\n    if(doneNP) {\n        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n        doneN = abs(lumaEndN) >= gradientScaled;\n        doneP = abs(lumaEndP) >= gradientScaled;\n        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;\n        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;\n        doneNP = (!doneN) || (!doneP);\n        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;\n        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;\n/*--------------------------------------------------------------------------*/\n        #if (FXAA_QUALITY_PS > 9)\n        if(doneNP) {\n            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n            doneN = abs(lumaEndN) >= gradientScaled;\n            doneP = abs(lumaEndP) >= gradientScaled;\n            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;\n            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;\n            doneNP = (!doneN) || (!doneP);\n            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;\n            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;\n/*--------------------------------------------------------------------------*/\n            #if (FXAA_QUALITY_PS > 10)\n            if(doneNP) {\n                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                doneN = abs(lumaEndN) >= gradientScaled;\n                doneP = abs(lumaEndP) >= gradientScaled;\n                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;\n                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;\n                doneNP = (!doneN) || (!doneP);\n                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;\n                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;\n/*--------------------------------------------------------------------------*/\n                #if (FXAA_QUALITY_PS > 11)\n                if(doneNP) {\n                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                    doneN = abs(lumaEndN) >= gradientScaled;\n                    doneP = abs(lumaEndP) >= gradientScaled;\n                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;\n                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;\n                    doneNP = (!doneN) || (!doneP);\n                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;\n                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;\n/*--------------------------------------------------------------------------*/\n                    #if (FXAA_QUALITY_PS > 12)\n                    if(doneNP) {\n                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\n                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\n                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\n                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\n                        doneN = abs(lumaEndN) >= gradientScaled;\n                        doneP = abs(lumaEndP) >= gradientScaled;\n                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;\n                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;\n                        doneNP = (!doneN) || (!doneP);\n                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;\n                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;\n/*--------------------------------------------------------------------------*/\n                    }\n                    #endif\n/*--------------------------------------------------------------------------*/\n                }\n                #endif\n/*--------------------------------------------------------------------------*/\n            }\n            #endif\n/*--------------------------------------------------------------------------*/\n        }\n        #endif\n/*--------------------------------------------------------------------------*/\n    }\n    #endif\n/*--------------------------------------------------------------------------*/\n                        }\n                        #endif\n/*--------------------------------------------------------------------------*/\n                    }\n                    #endif\n/*--------------------------------------------------------------------------*/\n                }\n                #endif\n/*--------------------------------------------------------------------------*/\n            }\n            #endif\n/*--------------------------------------------------------------------------*/\n        }\n        #endif\n/*--------------------------------------------------------------------------*/\n    }\n/*--------------------------------------------------------------------------*/\n    FxaaFloat dstN = posM.x - posN.x;\n    FxaaFloat dstP = posP.x - posM.x;\n    if(!horzSpan) dstN = posM.y - posN.y;\n    if(!horzSpan) dstP = posP.y - posM.y;\n/*--------------------------------------------------------------------------*/\n    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\n    FxaaFloat spanLength = (dstP + dstN);\n    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\n    FxaaFloat spanLengthRcp = 1.0/spanLength;\n/*--------------------------------------------------------------------------*/\n    FxaaBool directionN = dstN < dstP;\n    FxaaFloat dst = min(dstN, dstP);\n    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\n    FxaaFloat subpixG = subpixF * subpixF;\n    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\n    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;\n/*--------------------------------------------------------------------------*/\n    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\n    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\n    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\n    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\n    #if (FXAA_DISCARD == 1)\n        return FxaaTexTop(tex, posM);\n    #else\n        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);\n    #endif\n}\n/*==========================================================================*/\n#endif\n\nvoid main() {\n  gl_FragColor = FxaaPixelShader(\n    vUv,\n    vec4(0.0),\n    tDiffuse,\n    tDiffuse,\n    tDiffuse,\n    resolution,\n    vec4(0.0),\n    vec4(0.0),\n    vec4(0.0),\n    0.75,\n    0.166,\n    0.0833,\n    0.0,\n    0.0,\n    0.0,\n    vec4(0.0)\n  );\n\n  // TODO avoid querying texture twice for same texel\n  // gl_FragColor.a = texture2D(tDiffuse, vUv).a;\n\n  #include <tonemapping_fragment>\n}'},function(r,n,a){"use strict";a.r(n),n.default="varying vec2 vUv;\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n}"},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ssaoShader=void 0;const i=a(19),o=a(360),s=a(361);n.ssaoShader={uniforms:i.UniformsUtils.merge([i.UniformsLib.fog,{tDiffuse:{value:null},tDepth:{value:null},tNoise:{value:null},kernel:{value:[]},cameraNear:{value:null},cameraFar:{value:100},depthResolution:{value:new i.Vector2},resolution:{value:new i.Vector2},cameraProjectionMatrix:{value:new i.Matrix4},cameraInverseProjectionMatrix:new i.Uniform(new i.Matrix4),kernelRadius:{value:8},minDistance:{value:.005},maxDistance:{value:.05}}]),defines:{PERSPECTIVE_CAMERA:"1",KERNEL_SIZE:32},vertexShader:s.default,fragmentShader:o.default}},function(r,n,a){"use strict";a.r(n),n.default="// Modified version based on SSAO shader found in three.js.\n// Main modification is to not require normals as input.\n//\n// three.js:\n//\n// The MIT License\n// Copyright  2010-2019 three.js authors\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n//\n// From original file:\n//\n// @author Mugen87 / https://github.com/Mugen87\n//\n// References:\n// http://john-chapman-graphics.blogspot.com/2013/01/ssao-tutorial.html\n// https://learnopengl.com/Advanced-Lighting/SSAO\n// https://github.com/McNopper/OpenGL/blob/master/Example28/shader/ssao.frag.glsl\n\n// precision highp float;\n\n//uniform sampler2D tDiffuse;\nuniform sampler2D tDepth;\nuniform sampler2D tNoise;\n\nuniform vec3 kernel[ KERNEL_SIZE ];\n\nuniform vec2 resolution;\nuniform vec2 depthResolution;\n\nuniform float cameraNear;\nuniform float cameraFar;\nuniform mat4 cameraProjectionMatrix;\nuniform mat4 cameraInverseProjectionMatrix;\n\nuniform float kernelRadius;\nuniform float minDistance; // avoid artifacts caused by neighbour fragments with minimal depth difference\nuniform float maxDistance; // avoid the influence of fragments which are too far away\n\nvarying vec2 vUv;\n\n#include <packing>\n#include <common>\n\n#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n\n// Peter's note: Implemented by us, see: https://wickedengine.net/2019/09/22/improved-normal-reconstruction-from-depth/\nvec3 hiberGetViewPosition(vec2 coord, mat4 projToView)\n{\n\t// Read depth from depth buffer\n\tfloat depth = texture2D(tDepth, coord).x;\n\n\t// Calculate view space position (don't trust what they are doing, it's borked somehow)\n\tvec4 clipSpacePos = vec4((coord - 0.5) * 2.0, (depth - 0.5) * 2.0, 1.0);\n\tvec4 viewSpacePos = projToView * clipSpacePos;\n\tviewSpacePos.xyz /= viewSpacePos.w;\n\treturn viewSpacePos.xyz;\n}\n\n// Peter's note: Implemented by us, see: https://wickedengine.net/2019/09/22/improved-normal-reconstruction-from-depth/\nvec3 hiberReconstructNormal(vec2 coord)\n{\n\t// Calculate size of a texel on depth buffer\n\tvec2 texelSize = 1.0 / depthResolution;\n\n\t// Sample view space positions on pixels around current one on depth texture\n\tvec3 posCenterVS = hiberGetViewPosition(coord, cameraInverseProjectionMatrix);\n\tvec3 posLeftVS = hiberGetViewPosition(coord + vec2(-texelSize.x, 0.0), cameraInverseProjectionMatrix);\n\tvec3 posRightVS = hiberGetViewPosition(coord + vec2(texelSize.x, 0.0), cameraInverseProjectionMatrix);\n\tvec3 posBottomVS = hiberGetViewPosition(coord + vec2(0.0, -texelSize.y), cameraInverseProjectionMatrix);\n\tvec3 posTopVS = hiberGetViewPosition(coord + vec2(0.0, texelSize.y), cameraInverseProjectionMatrix);\n\n\t// Calculate 4 possible normals using the various samples\n\tvec3 normalRightTopVS = normalize(cross(posRightVS - posCenterVS, posTopVS - posCenterVS));\n\tvec3 normalTopLeftVS = normalize(cross(posTopVS - posCenterVS, posLeftVS - posCenterVS));\n\tvec3 normalLeftBottomVS = normalize(cross(posLeftVS - posCenterVS, posBottomVS - posCenterVS));\n\tvec3 normalBottomRightVS = normalize(cross(posBottomVS - posCenterVS, posRightVS - posCenterVS));\n\n\t// Calculate distance in depth for samples used for each normal\n\tfloat depthDiffRightTop = abs(posRightVS.z - posCenterVS.z) + abs(posTopVS.z - posCenterVS.z);\n\tfloat depthDiffTopLeft = abs(posTopVS.z - posCenterVS.z) + abs(posLeftVS.z - posCenterVS.z);\n\tfloat depthDiffLeftBottom = abs(posLeftVS.z - posCenterVS.z) + abs(posBottomVS.z - posCenterVS.z);\n\tfloat depthDiffBottomRight = abs(posBottomVS.z - posCenterVS.z) + abs(posRightVS.z - posCenterVS.z);\n\n\t// Choose the normal taken from samples which are closest in depth to the center sample\n\t// Divide and conquer, reduce to two candidates\n\tvec3 normalCandidate1VS;\n\tfloat depthDiffCandidate1;\n\tif (depthDiffRightTop < depthDiffTopLeft) {\n\t\tnormalCandidate1VS = normalRightTopVS;\n\t\tdepthDiffCandidate1 = depthDiffRightTop;\n\t}\n\telse {\n\t\tnormalCandidate1VS = normalTopLeftVS;\n\t\tdepthDiffCandidate1 = depthDiffTopLeft;\n\t}\n\n\tvec3 normalCandidate2VS;\n\tfloat depthDiffCandidate2;\n\tif (depthDiffLeftBottom < depthDiffBottomRight) {\n\t\tnormalCandidate2VS = normalLeftBottomVS;\n\t\tdepthDiffCandidate2 = depthDiffLeftBottom;\n\t}\n\telse {\n\t\tnormalCandidate2VS = normalBottomRightVS;\n\t\tdepthDiffCandidate2 = depthDiffBottomRight;\n\t}\n\n\tvec3 normalVS;\n\tif (depthDiffCandidate1 < depthDiffCandidate2) {\n\t\tnormalVS = normalCandidate1VS;\n\t}\n\telse {\n\t\tnormalVS = normalCandidate2VS;\n\t}\n\n\treturn normalVS;\n}\n\nvoid main() {\n\n\tvec3 posVS = hiberGetViewPosition(vUv, cameraInverseProjectionMatrix);\n\tvec3 normalVS = hiberReconstructNormal(vUv);\n\n\tvec2 noiseScale = vec2( resolution.x / 4.5, resolution.y / 4.5 );\n\tvec3 random = texture2D( tNoise, vUv * noiseScale ).xyz;\n\n\t// Peter's edit, random is in range [0, 1], we want [-1, 1]\n\trandom = random * 2.0 - 1.0;\n\n\t// compute matrix used to reorient a kernel vector\n\n\tvec3 tangent = normalize( random - normalVS * dot( random, normalVS ) );\n\tvec3 bitangent = cross( normalVS, tangent );\n\tmat3 kernelMatrix = mat3( tangent, bitangent, normalVS );\n\n\tfloat occlusion = 0.0;\n\n\tfor ( int i = 0; i < KERNEL_SIZE; i ++ ) {\n\n\t\tvec3 sampleVector = kernelMatrix * kernel[ i ]; // reorient sample vector in view space\n\t\tvec3 samplePoint = posVS + ( sampleVector * kernelRadius ); // calculate sample point\n\n\t\tvec4 samplePointNDC = cameraProjectionMatrix * vec4(samplePoint, 1.0); // project point and calculate NDC\n\t\tsamplePointNDC /= samplePointNDC.w;\n\n\n\t\tvec3 actualSamplePosVS = hiberGetViewPosition(samplePointNDC.xy * 0.5 + 0.5, cameraInverseProjectionMatrix);\n\n\t\tif (actualSamplePosVS.z > samplePoint.z) {\n\t\t\tfloat diff = abs(actualSamplePosVS.z - samplePoint.z);\n\t\t\tif (minDistance <= diff && diff <= maxDistance) {\n\t\t\t\tocclusion += 1.0;\n\t\t\t}\n\t\t}\n\t}\n\n\tocclusion = clamp( occlusion / float( KERNEL_SIZE ), 0.0, 1.0 );\n\tocclusion = 1.0 - occlusion;\n\n\t/*\n#ifdef FOG_EXP2\n\tfloat fogDepth = depth * cameraFar - cameraNear;\n\tfloat fogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );\n\t//occlusion *= fogFactor;\n\tocclusion *= (1.0 - fogFactor);\n#endif\n\t*/\n\n\t// Don't apply AO for pixels far away from camera\n\tconst float MAX_SSAO_DIST = -30.0;\n\tconst float MAX_SSAO_LERP_DIST = -15.0;\n\tif (posVS.z < MAX_SSAO_DIST) {\n\t\tocclusion = 1.0;\n\t}\n\telse if (posVS.z < MAX_SSAO_LERP_DIST) {\n\t\tfloat amount = (posVS.z - MAX_SSAO_LERP_DIST) / (MAX_SSAO_DIST - MAX_SSAO_LERP_DIST);\n\t\tocclusion = mix(occlusion, 1.0, amount);\n\t}\n\n\n\tgl_FragColor = vec4(vec3(occlusion), 1.0);\n}\n"},function(r,n,a){"use strict";a.r(n),n.default='// Modified version based on SSAO shader found in three.js.\n// Main modification is to not require normals as input.\n//\n// three.js:\n//\n// The MIT License\n// Copyright  2010-2019 three.js authors\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the "Software"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n//\n// From original file:\n//\n// @author Mugen87 / https://github.com/Mugen87\n//\n// References:\n// http://john-chapman-graphics.blogspot.com/2013/01/ssao-tutorial.html\n// https://learnopengl.com/Advanced-Lighting/SSAO\n// https://github.com/McNopper/OpenGL/blob/master/Example28/shader/ssao.frag.glsl\n\nvarying vec2 vUv;\n\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n'},function(r,n,a){var i={"./CreditsSystem.ts":363,"./OverlaySystem.ts":391,"./SceneSystem.ts":181,"./audio/AudioSystem.ts":155,"./avatar/AvatarAnimationSystem.ts":395,"./avatar/AvatarEffectSystem.ts":396,"./avatarTest/AvatarTestSystem.ts":397,"./environment/EnvironmentSystem.ts":177,"./inventory/InventorySystem.ts":399,"./light/LightSystem.ts":200,"./material/MaterialSystem.ts":199,"./nodes/ApplyNodeTransformSystem.ts":400,"./nodes/SavePreviousNodeTransformSystem.ts":401,"./nodes/UnDirtyNodeSystem.ts":402,"./octree/OctreeSystem.ts":171,"./particles/LegacyParticleSystem.ts":403,"./particles/ParticleSystem.ts":407,"./physics/ApplyPhysicsSystem.ts":409,"./physics/CharacterControllerSystem.ts":410,"./physics/PhysicsSystem.ts":20,"./playerControls/PlayerControlSystem.ts":415,"./playerControls/TouchGPSystem.ts":416,"./playerControls/UpdateAimTargetsSystem.ts":418,"./playerControls/UpdatePlayerCameraSystem.ts":420,"./rendering/RenderSystem.ts":159,"./stats/StatusUpdateSystem.ts":424,"./tools/ToolSystem.ts":364};function webpackContext(r){var n=webpackContextResolve(r);return a(n)}function webpackContextResolve(r){if(!a.o(i,r)){var n=Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}return i[r]}webpackContext.keys=function webpackContextKeys(){return Object.keys(i)},webpackContext.resolve=webpackContextResolve,r.exports=webpackContext,webpackContext.id=362},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(40),y=a(156),_=a(364),w=a(8),E=a(66),j=a(172),q=a(169),$=a(163),ne=a(22),ie=a(158),oe=a(1374),se=a(390),le=a(34);class CreditsSystem extends s.default{static getCreditsHTML(){const r=w.entityManager.getGroup(j.default),n=w.entityManager.getGroup(q.default),a=w.entityManager.getGroup($.default),i={music:{},sound:{},model:{},material:{},sky:{}},check=(r,n,a)=>{if(a[r]&&a[r].origin&&a[r].origin.credits){let o=n,s="";"music"===a[r].category&&(o="music",s="https://cdn.hibervr.com/sound2/music/"+a[r].filename+".jpg"),i[o][r]={id:r,name:a[r].name,origin:a[r].origin,HTML:a[r].origin.HTML?a[r].origin.HTML:"",cover:s||""}}};let o='<div class="cred-list">';for(const n of r)n.model&&n.model.geometry&&check(n.model.geometry,"model",ne.default),n.material&&n.material.material&&check(n.material.material,"material",oe.default);for(const r of n)check(r.audio.sound,"sound",ie.default);for(const r of a)r.environment.skybox&&check(r.environment.skybox,"sky",se.default),r.environment.ambientSound&&check(r.environment.ambientSound,"sound",ie.default),r.environment.music&&check(r.environment.music,"sound",ie.default);check("portal_trip","sound",ie.default),check("pick_up_reverbed","sound",ie.default),check("landing","sound",ie.default),check("swosh1","sound",ie.default),check("swosh2","sound",ie.default),check("explosion","sound",ie.default);let s="";for(const r in i)if(i.hasOwnProperty(r)){const n=i[r];s="";for(const r in n)if(n.hasOwnProperty(r)){const a=n[r];a.origin&&(s||(s='<div class="cred-section">'),s+=`\n                <div class="cred-item">\n                ${a.cover?`<div class="credits-cover"><img src="${le.getCachedFileUri(a.cover)}" /></div>`:""}\n\n                ${a.name}, ${E.default.by} <a target="_blank" href="${a.origin.url}">${a.origin.credits}</a> (${a.origin.license.trim()})\n                ${a.origin.HTML?`<div class="extra-info">${a.origin.HTML}</div>`:""}\n              </div>\n              `)}s&&(o+=`<h2>${E.default[r]}</h2>${s}</div>`)}return o+="</div>",o}}CreditsSystem.order=5,i([y.InjectSystem(r=>_.default),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",void 0)],CreditsSystem,"getCreditsHTML",null),n.default=CreditsSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(365),_=a(36),w=a(37),E=a(40),j=a(139),q=a(8),$=a(140),ne=a(25),ie=a(368),oe=a(389),se=["position","worldPosition","entityId","entityIdentifier","hash","lockedToFreeMode"];class ToolSystem extends E.default{constructor(){super(...arguments),this.equippedToolIndex=-1,this.equippedTool=null,this.tools=new Map,this.slots=[],this.slotsPanel=null,this.$blocksButton=null}get currentToolIndex(){return this.equippedToolIndex}getSlots(){return this.slots}onInit(){this.slotsPanel=new ie.Panel("#ui-root-container",{id:"slotsPanel",classes:"slot-panel",visible:!0,click:r=>{const n=parseInt(r.id.split("_")[1],10);this.equip(n)}}),this.slotsPanel.$elementWrapper.querySelector(".content").classList.add("slot-panel-content"),q.inputManager.registerAction("EquipSlot1",{kbm:["1"]},()=>this.equip(0),this,!0,$.InputChannel.DEFAULT,$.InputChannel.INPUT),q.inputManager.registerAction("EquipSlot2",{kbm:["2"]},()=>this.equip(1),this,!0,$.InputChannel.DEFAULT,$.InputChannel.INPUT),q.inputManager.registerAction("EquipSlot3",{kbm:["3"]},()=>this.equip(2),this,!0,$.InputChannel.DEFAULT,$.InputChannel.INPUT),q.inputManager.registerAction("EquipSlot4",{kbm:["4"]},()=>this.equip(3),this,!0,$.InputChannel.DEFAULT,$.InputChannel.INPUT),q.inputManager.registerAction("EquipSlot5",{kbm:["5"]},()=>this.equip(4),this,!0,$.InputChannel.DEFAULT,$.InputChannel.INPUT),q.inputManager.registerAction("EquipSlot6",{kbm:["6"]},()=>this.equip(5),this,!0,$.InputChannel.DEFAULT,$.InputChannel.INPUT),q.inputManager.registerAction("EquipSlot7",{kbm:["7"]},()=>this.equip(6),this,!0,$.InputChannel.DEFAULT,$.InputChannel.INPUT),q.inputManager.registerAction("EquipSlot8",{kbm:["8"]},()=>this.equip(7),this,!0,$.InputChannel.DEFAULT,$.InputChannel.INPUT),q.inputManager.registerAction("EquipSlot9",{kbm:["9"]},()=>this.equip(8),this,!0,$.InputChannel.DEFAULT,$.InputChannel.INPUT),q.inputManager.registerAction("EquipSlot10",{kbm:["0"]},()=>this.equip(9),this,!0,$.InputChannel.DEFAULT,$.InputChannel.INPUT)}handleScroll(r){const n=Math.sign(r),a=Math.max(Math.min(this.currentToolIndex+n,9),0);this.equip(a)}updateUI(){let r=0;this.$blocksButton&&(r=this.$blocksButton.state,this.$blocksButton.dispose()),this.$blocksButton=null,this.slotsPanel.empty();const getNumber=r=>{let n=r;return n=r<9?r+1:0,n},n=this.slots.map((r,n)=>({id:"id_"+n,classes:(n===this.equippedToolIndex?"selected":"")+(r.disabled?" disabled":""),buttonLabel:""+getNumber(n),toolTip:`${r.name} [${getNumber(n)}]`,image:r.thumbnail}));this.slotsPanel.batchAdd("addThumbButton",{classes:"slot-button grid-button sub-label"},n),this.$blocksButton=new y.default({target:document.querySelector(".slot-panel-content"),classes:"blocks-btn width3Rem",key:"blocks-btn",style:"",shortcut:j.SNAP_SHORTCUTS.toggleBlocks,states:[{icon:"fas fa-th"},{icon:"fas fa-times"}],onClick:r=>{r.target&&this.entityManager.emit("SnapUIClick",r.target,r.target.dataset.key,r)}}),this.$blocksButton.setState(r),window.addEventListener("browser-pannel-show",r=>{"Browser_presetPanel"===r.detail.panel.id&&this.$blocksButton&&this.$blocksButton.setState(1)}),window.addEventListener("browser-pannel-hide",r=>{"Browser_presetPanel"===r.detail.panel.id&&this.$blocksButton&&this.$blocksButton.setState(0)})}setCurrentSlot(r){this.setSlot(this.equippedToolIndex,r)}equipSlotWithPreset(r,n){const a=n.hash||ne.default(n,se);n.hash=a;for(let r=0;r<this.slots.length;++r)if(this.slots[r].hash===a)return void this.equip(r);this.setSlot(r,n),this.equippedToolIndex!==r&&this.equip(r)}setSlot(r,n){this.slots.length=Math.max(this.slots.length,r);const a=n.hash||ne.default(n,se);if(n.hash=a,this.slots[r]&&this.slots[r].isIrreplaceable)console.log("We cannot replace this tool.");else{this.slots[r]=n;for(let r=0;r<this.slots.length;++r)this.slots[r]||(this.slots[r]={id:"empty",data:null,name:"empty",tool:"stagerTool",thumbnail:""});this.equippedToolIndex===r&&this.equip(r),this.entityManager.emit("setSlot",r,n),this.updateUI()}}unEquip(){this.equippedTool&&this.equippedTool.unEquip()}equip(r){const n=this.slots[r];if(!n)return void console.warn("Theres no preset in slot",r);if(this.equippedToolIndex=r,this.unEquip(),!n)return void console.warn("No equipment in slot "+r);const a=this.tools.get(n.tool);a?(a.isEquipped=!0,this.equippedTool=a,a.equip(n),this.updateUI(),this.entityManager.emit("equippedTool",r,n)):console.warn(`Tool ${n.tool} does not exist`)}registerTool(r){this.tools.set(r.name,r),console.log("Added tool",r.name)}resetSlots(){this.slots.length=0,this.updateUI()}}ToolSystem.order=5,o([_.InjectGroup(oe.default),s("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],ToolSystem.prototype,"toolPresetGroup",void 0),n.default=ToolSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(18),o=a(66),s=a(366),y=a(323),_=a(367);class SingleButton{constructor(r){this.state=0,this.timeDown=0,this.clickTime=200,this.longPressIncrease=.1,this.pressVal=0,this.touchMoveKiller=r=>{r.cancelable&&(r.preventDefault(),r.stopPropagation())},this.onClick=r=>{r.stopPropagation(),r.preventDefault(),this.toggle(),y.playSoundSlow("buttonClick"),this.opt.onClick(r)},this.onNDClick=r=>{r.stopPropagation(),r.preventDefault(),y.playSoundSlow("buttonClick"),this.opt.onClick(r)},this.onDown=r=>{r.stopPropagation(),this.timeDown=i.default.now(),this.waitTimer=setTimeout(()=>{this.waitTimer=null,this.pressVal=0,y.playSoundSlow("buttonClick"),this.pressInterval=setInterval(()=>{this.pressVal+=this.longPressIncrease,this.pressIndicator.set(this.pressVal),this.pressVal>=1.03&&(clearInterval(this.pressInterval),this.pressInterval=null,this.pressIndicator.set(0),this.opt.onLongPress(r))},1e3/30)},this.clickTime)},this.onUp=r=>{r.stopPropagation(),this.waitTimer&&clearTimeout(this.waitTimer),i.default.now()-this.timeDown<this.clickTime&&this.onClick(r),this.pressInterval&&(this.pressVal=0,clearInterval(this.pressInterval),this.pressIndicator.set(0))},this.setup(r)}init(){this.$UIContainer=document.createElement("div"),this.$UIContainer.setAttribute("class","snap-ui"),document.body.querySelector("#ui-root-container").appendChild(this.$UIContainer),SingleButton.$container=this.$UIContainer}getShortcutText(r){let n="";if(!i.default.isMobile()&&r&&r.length){n+=o.default.shortcut+" [";for(let a=0;a<r.length;a++)n+=r[a]+"+";n=n.substr(0,n.length-1),n+="]"}return n}setup(r){SingleButton.$container||this.init();let n,a=SingleButton.$container;r.target?a=r.target:r.containerClassName&&(n=SingleButton.$container.querySelector("."+r.containerClassName),n||(n=document.createElement("div"),n.setAttribute("class",r.containerClassName),SingleButton.$container.appendChild(n)),a=n),this.opt=r,this.state=void 0!==r.state?r.state:0;const i=`\n      <div title="${this.getShortcutText(r.shortcut)}" data-key="${r.key}" class="single-button ${r.classes?r.classes:""}">\n        ${r.states[this.state].icon?`<i class="${r.states[this.state].icon}"></i>`:""}\n        ${r.states[this.state].img?`<img alt="" src="/icons/svg/${r.states[this.state].img}.svg" />`:""}\n\n        ${r.states[this.state].label?`\n          <div class="button-label">${r.states[this.state].label}</div>`:""}\n        <div class="numner-display" data-key="${r.key}-nd">\n          <div class="numner-display-inner">0</div>\n        </div>\n      </div>\n    `;if(this.$el=s.addMarkup(i,r.className,a),this.$el&&(this.$button=this.$el.querySelector(".single-button"),this.$numberDisplay=this.$el.querySelector(".numner-display"),this.$icon=this.$el.querySelector(".single-button i"),this.$label=this.$el.querySelector(".single-button .button-label"),this.$button&&this.$numberDisplay))return r.onLongPress?(this.$button.addEventListener("touchstart",this.onDown),this.$button.addEventListener("mousedown",this.onDown),this.$button.addEventListener("touchend",this.onUp),this.$button.addEventListener("mouseup",this.onUp),this.pressIndicator=new _.default({$target:this.$button,hideLabel:!0,classes:"absolute"})):this.$button.addEventListener("click",this.onClick),this.$button.addEventListener("touchmove",this.touchMoveKiller),this.$button.addEventListener("mousemove",this.touchMoveKiller),this.$numberDisplay.addEventListener("click",this.onNDClick),this.$el}setNumber(r){this.$numberDisplay&&(this.$numberDisplay.innerHTML=r+"",this.$numberDisplay.style.display=0===r?"none":"flex")}hide(){this.$el&&(this.$el.style.position="absolute",this.$el.style.left="-9999px")}show(){this.$el&&(this.$el.style.position="static",this.$el.style.left="inherit")}showLongPress(){this.pressIndicator&&this.pressIndicator.show()}hideLongPress(){this.pressIndicator&&this.pressIndicator.hide()}toggle(){this.state=0===this.state?1:0,this.setState(this.state)}setState(r){this.opt.states[1]&&(this.state=r,this.$icon&&(this.$icon.className=this.opt.states[this.state].icon),this.$label&&(this.$label.innerHTML=this.opt.states[this.state].label))}dispose(){this.$el&&(this.$el.removeEventListener("click",this.onClick),this.$el.removeEventListener("touchstart",this.onDown),this.$el.removeEventListener("mousedown",this.onDown),this.$el.removeEventListener("touchend",this.onUp),this.$el.removeEventListener("mouseup",this.onUp),this.$el.removeEventListener("touchmove",this.touchMoveKiller),this.$el.removeEventListener("mousemove",this.touchMoveKiller),this.$el.remove(),this.$el=null),this.pressIndicator&&this.pressIndicator.dispose(),this.waitTimer&&clearTimeout(this.waitTimer),this.pressInterval&&clearInterval(this.pressInterval),this.$icon=null,this.$label=null,this.state=0}}n.default=SingleButton},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.addMarkup=void 0,n.addMarkup=(r="",n="",a=document.body.querySelector("#ui-root-container"))=>{if(!a)return null;const i=document.createElement("div");return i.className=n+" div-wrapper",i.innerHTML=r,a.appendChild(i),i}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(18);n.default=class CirleWidget{constructor(r){this.value=0,this.setup(r)}setup(r=null){this.$target=r.$target,this.$wrapper=document.createElement("div"),this.$wrapper.setAttribute("class",".circle-widget-Wrapper"),this.$wrapper.innerHTML=`\n      <div class="circle-widget ${r.classes?r.classes:""}">\n        <svg viewBox="0 0 32 32">\n          <circle class="pie-border" r="16" cx="16" cy="16" style="stroke-dasharray: 100 100" />\n          <circle class="pie" r="16" cx="16" cy="16" style="stroke-dasharray: 0 100" />\n        </svg>\n        <div class="button-label">0%</div>\n      </div>\n    `,this.$target.appendChild(this.$wrapper),r.hideLabel&&(this.$target.querySelector(".circle-widget .button-label").style.display="none")}hide(){this.$wrapper.style.position="absolute",this.$wrapper.style.left="-9999px"}show(){this.$wrapper.style.position="static",this.$wrapper.style.left="inherit"}set(r){this.value=r;const n=100*r,a=this.$wrapper.querySelector(".pie"),o=this.$wrapper.querySelector(".button-label");a.style.strokeDasharray=n+" 100",o.innerHTML=i.default.round1(n)+"%"}dispose(){this.$wrapper.remove(),this.$wrapper=null}}},function(r,n,a){"use strict";a.r(n),a.d(n,"PanelTemplate",(function(){return y})),a.d(n,"Panel",(function(){return Panel}));var i=a(8),o=a(369),s=a(370);const y={template:r=>`<div class="wrapper-item panel ${r.classes}">\n                        ${"right"===r.closeButton||"left"===r.closeButton?`<div class="panel-bar-horizontal-buttons ${r.closeButton}-position"></div>`:""}\n                        ${r.title||"top"===r.closeButton?`<div class="panel-bar">\n                          ${r.title?`<div class="panel-bar-title">${r.title}</div>`:""}\n                          <div class="panel-bar-top-buttons"></div>\n                        </div>`:""}\n                        <div id="${r.id}" class="inner ${r.title?"with-top-bar":""}">\n                            <div class="content"></div>\n                        </div>\n                    </div>`,defValues:{classes:""}},Panel=function(r,n){this.type="Panel",s.a.call(this,r,n),this.positionNextToOpener=!0;const a=this.addFromTemplate(this.$placeIn,this.type,n);this.$elementWrapper=a.$el.closest(".wrapper-item"),o.a.position(this,n),this.$placeIn=this.$elementWrapper.querySelector(".content"),this.AddCloseButton()};Panel.prototype=Object.create(s.a.prototype),Panel.prototype.constructor=Panel,Panel.prototype.insertHTML=function(r=""){this.$elementWrapper.querySelector(".content").innerHTML=r},Panel.prototype.appendHTML=function(r=""){this.$elementWrapper.querySelector(".content").innerHTML+=r},Panel.prototype.getHTML=function(){return this.$elementWrapper.querySelector(".content").innerHTML},Panel.prototype.show=function(){s.a.prototype.show.call(this)},Panel.prototype.hide=function(r){s.a.prototype.hide.call(this,r),!i.inputManager.pointerLockEnabled&&r&&i.inputManager.enablePointerLock(),window.dispatchEvent(new CustomEvent("Pannel-hide",{detail:{panel:this}}))}},function(r,n,a){"use strict";a.d(n,"a",(function(){return ElementObject}));var i=a(8),o=a(18),s=a(42);const ElementObject=function(r,n,a){this.parent=a,this.opt=n,this.info={originalDisplay:"block"},this.originIcon=null,this.toolTipTimer=null,this.setup(r),ElementObject.all[this.id]=this};ElementObject.all={},ElementObject.prototype={},ElementObject.prototype.setup=function(r){this.id=this.opt.id,this.$elementWrapper=r,this.opt.UIForElement&&(this.UIForElement=this.opt.UIForElement),this.root=ElementObject.findRoot(this),ElementObject.position(this,this.opt)},ElementObject.prototype.hide=function(){this.info.originalDisplay=this.$elementWrapper.style.display||"block",this.$elementWrapper.style.display="none"},ElementObject.prototype.show=function(){this.info.originalDisplay=this.info.originalDisplay||"block",this.$elementWrapper.style.display=this.info.originalDisplay},ElementObject.prototype.toolTipOnMove=function(r){ElementObject.getPointerPosition(r),this.positiontoolTip(ElementObject.pointerPosition.x,ElementObject.pointerPosition.y)},ElementObject.prototype.toolTipStart=function(r){this.root.toolTipObject=this,this.$InputElement.addEventListener("mousemove",r=>{this.toolTipOnMove.call(this,r)}),ElementObject.getPointerPosition(r.e),ElementObject.toolTipContainer||(ElementObject.toolTipContainer=document.createElement("div"),document.querySelector("#ui-root-container").appendChild(ElementObject.toolTipContainer),ElementObject.toolTipContainer.className="more-info"),ElementObject.toolTipContainer.innerHTML=this.opt.toolTip,this.positiontoolTip(ElementObject.pointerPosition.x,ElementObject.pointerPosition.y),ElementObject.toolTipContainer.style.opacity=0},ElementObject.prototype.positiontoolTip=function(r,n){if(ElementObject.toolTipContainer){const a=ElementObject.toolTipContainer.getBoundingClientRect(),i=15;let o=r-.5*a.width,s=n-a.height-i;o<i&&(o=r+i),window.innerWidth-o-a.width-i<0&&(o=r-i-a.width),s<i&&(s=n+i),ElementObject.toolTipContainer.style.left=o+"px",ElementObject.toolTipContainer.style.top=s+"px"}},ElementObject.prototype.toolTipEnd=function(){this.toolTipTimer&&clearTimeout(this.toolTipTimer),this.$InputElement.removeEventListener("mousemove",this.toolTipOnMove),ElementObject.toolTipContainer&&(ElementObject.toolTipContainer.style.opacity=0),this.root.toolTipObject=null},ElementObject.prototype.remove=function(){this.events&&(Object(s.each)(this.events,(r,n)=>{this.$InputElement.removeEventListener(n,r)}),this.events=null),Object(s.each)(this.childElements,r=>{r.remove(),r=null}),this.childPanel&&this.childPanel.remove(),this.$elementWrapper.parentNode.removeChild(this.$elementWrapper),delete this.parent.childElementObjects[this.id],delete ElementObject.all[this.id]},ElementObject.position=function(r,n={}){n.visible=Object(s.defVal)(n.visible,!0),n.visible||r.hide(),(n.top||n.bottom||n.left||n.right)&&(r.$elementWrapper.style.position="absolute",void 0!==n.top&&(r.$elementWrapper.style.top=n.top),void 0!==n.bottom&&(r.$elementWrapper.style.bottom=n.bottom),void 0!==n.left&&(r.$elementWrapper.style.left=n.left),void 0!==n.right&&(r.$elementWrapper.style.right=n.right)),void 0!==n.width&&(r.$elementWrapper.style.width=n.width),void 0!==n.height&&(r.$elementWrapper.style.height=n.height)},ElementObject.findRoot=function(r,n={}){let a=null;const traverse=r=>{r.parent?traverse(r.parent):a=r};return traverse(r),a},ElementObject.getPointerPosition=function(r){const n={x:0,y:0};return o.default.hasHover()?(n.x=r.clientX,n.y=r.clientY):r.touches&&r.touches.length>0&&(n.x=r.touches[0].pageX,n.y=r.touches[0].pageY),ElementObject.pointerPosition=n,n},ElementObject.prototype.fireOnChange=function(r,n,a={}){let i=null;this.root.events.change&&(this.UIForElement?(i={elementObject:this.UIForElement,id:this.UIForElement.id,value:this.UIForElement.getValue(),throttled:n,usingThrottle:this.usingThrottle,extraInfo:a},this.root.events.change(i)):(i={elementObject:this,id:this.id,value:this.getValue(),throttled:n,usingThrottle:this.usingThrottle,extraInfo:a},this.root.events.change(i))),this.opt.change&&this.opt.change(this.getValue(),r)},ElementObject.dragChangeStart=function(r){ElementObject.getPointerPosition(r),this.dragChangeLastPointerPosition=ElementObject.pointerPosition,document.body.addEventListener("touchmove",this.dragChangeMove),document.body.addEventListener("mousemove",this.dragChangeMove),document.body.addEventListener("touchend",this.dragChangeEnd),document.body.addEventListener("mouseup",this.dragChangeEnd),document.body.addEventListener("mouseleave",this.dragChangeEnd)},ElementObject.dragChangeMove=function(r){ElementObject.getPointerPosition(r);const n=this.dragChangeLastPointerPosition.x-ElementObject.pointerPosition.x;this.dragChangeLastPointerPosition=ElementObject.pointerPosition;const a=i.inputManager.isAction("SHIFT_PRESSED")?-.3:-.05;this.dragChangeSetValue(n,a,r)},ElementObject.dragChangeEnd=function(r){document.body.removeEventListener("touchmove",this.dragChangeMove),document.body.removeEventListener("mousemove",this.dragChangeMove),document.body.removeEventListener("touchend",this.dragChangeEnd),document.body.removeEventListener("mouseup",this.dragChangeEnd),document.body.removeEventListener("mouseleave",this.dragChangeEnd),this.dragChangeEndActions(r)},ElementObject.prototype.setIcon=function(r){const n=this.$elementWrapper.querySelector(".icon-container i");n&&(this.originIcon||(this.originIcon=n.className),n.className=r)},ElementObject.prototype.restorIcon=function(){const r=this.$elementWrapper.querySelector(".icon-container i");r&&this.originIcon&&(r.className=this.originIcon)},ElementObject.prototype.dragChangeSetValue=function(r,n,a){},ElementObject.prototype.dragChangeEndActions=function(r){},ElementObject.pointerPosition=null,ElementObject.toolTipContainer=null},function(r,n,a){"use strict";a.d(n,"a",(function(){return ContainerObject}));var i=a(42);const ContainerObject=function(r,n={}){let a;this.type=this.type||"ContainerObject",this.opt=n,this.opt.type=this.type,this.id=n.id?`${this.type}_${n.id}`:this.type+Object(i.getId)(),this.$elementWrapper=null,this.info={originalDisplay:"block"},this.isVisible=!0,this.containerUI={},this.positionNextToOpener=!1,"string"==typeof r?a=document.querySelector(r):r.$placeIn?(a=r.$placeIn,this.parent=r):a=r,this.events={},n.change&&(this.events.change=n.change),n.click&&(this.events.click=n.click),n.mousedown&&(this.events.mousedown=n.mousedown),n.mouseup&&(this.events.mouseup=n.mouseup),n.mouseover&&(this.events.mouseover=n.mouseover),n.mouseout&&(this.events.mouseout=n.mouseout),n.mousemove&&(this.events.mousemove=n.mousemove),n.drop&&(this.events.drop=n.drop),n.dragover&&(this.events.dragover=n.dragover),n.dragout&&(this.events.dragout=n.dragout),this.$placeIn=a,n.$placeIn&&(this.$placeIn=n.$placeIn),this.childElementObjects={},ContainerObject.all[this.id]=this};ContainerObject.all={},ContainerObject.prototype={},ContainerObject.prototype.addFromTemplate=function(r,n,o={}){o.id=o.id||n+Object(i.getId)(),o.classes=o.classes||"";const s=a(1378).default,y=Object.assign({},JSON.parse(JSON.stringify(s[n].defValues)),o),_=s[n].template(y);return Object(i.append)(r,_),{$el:document.querySelector("#"+y.id),id:o.id}},ContainerObject.prototype.add=function(r,n={}){n.type=r||"",n.UIForElement=n.UIForElement||null;const i=n.$placeIn||this.$placeIn,o=this.addFromTemplate(i,r,n),s=new(a(388)[r])(o.$el,n,this);return n.UIForElement||(this.childElementObjects[s.id]=s),this.onContentUpdate(),s},ContainerObject.prototype.hideAllErrors=function(){this.childElementObjects,Object.keys(this.childElementObjects).map(r=>{const{hideError:n}=this.childElementObjects[r];n&&this.childElementObjects[r].hideError()})},ContainerObject.prototype.batchAdd=function(r,n,a){for(let i=0;i<a.length;i++){let o=Object.assign({},n,a[i]);(a[i].classes||n.classes)&&(o.classes+=" "+n.classes),"addThumbButton"===r&&(o=Object.assign(o,o.value)),this[r](o)}},ContainerObject.prototype.setValues=function(r){Object(i.each)(r,(r,n)=>{this.childElementObjects[n]&&this.childElementObjects[n].setValue?this.childElementObjects[n].setValue(r):console.warning(n+" not found")})},ContainerObject.prototype.getValues=function(){const r={};return Object(i.each)(this.childElementObjects,n=>{n.getValue&&(r[n.id]=n.getValue())}),r},ContainerObject.prototype.empty=function(){Object(i.each)(this.childElementObjects,r=>{r.opt.isContainerUI||r.remove()}),this.$placeIn.innerHTML="",this.onContentUpdate()},ContainerObject.prototype.getDim=function(){let r=this.$elementWrapper.getBoundingClientRect();if(!r.height){const n=this.$elementWrapper.style.opacity;this.$elementWrapper.style.opacity=0,this.info.originalDisplay=this.info.originalDisplay||"block",this.$elementWrapper.style.display=this.info.originalDisplay,r=this.$elementWrapper.getBoundingClientRect(),this.$elementWrapper.style.display="none",this.$elementWrapper.style.opacity=n}return r},ContainerObject.prototype.position=function(){const r=this.getDim(),n=window.innerWidth,a=window.innerHeight;if(this.opener&&this.positionNextToOpener){const a=this.opener.root.$elementWrapper.getBoundingClientRect();"left"===(a.left,r.width,{hor:"left"}).hor?(this.$elementWrapper.style.right=n-(a.left-10)+"px",this.$elementWrapper.style.left="auto"):(this.$elementWrapper.style.left=a.left+a.width+10+"px",this.$elementWrapper.style.right="auto")}else this.opt.center&&(this.$elementWrapper.style.left=.5*n-.5*r.width+"px",this.$elementWrapper.style.top=.5*a-.5*r.height+"px")},ContainerObject.prototype.hide=function(){this.opener=null,this.info.originalDisplay=this.$elementWrapper.style.display||"block","none"===this.info.originalDisplay&&(this.info.originalDisplay="block"),this.$elementWrapper.style.display="none",this.toolTipObject&&this.toolTipObject.toolTipEnd(),this.killSound&&this.killSound(),this.isVisible=!1},ContainerObject.prototype.show=function(r={}){r.opener&&(this.opener=r.opener),this.position(),this.info.originalDisplay=this.info.originalDisplay||"block",this.$elementWrapper.style.display=this.info.originalDisplay,this.isVisible=!0},ContainerObject.prototype.AddCloseButton=function(){if(this.opt.closeButton){let r;if("top"===this.opt.closeButton?r=this.$elementWrapper.querySelector(".panel-bar-top-buttons"):"right"!==this.opt.closeButton&&"left"!==this.opt.closeButton||(r=this.$elementWrapper.querySelector(".panel-bar-horizontal-buttons")),r){const n="closeButton_"+this.id;this.containerUI.openCloseButton=this.addButton({$placeIn:r,id:n,icon:"fas fa-times",classes:"icon-button",isContainerUI:!0,click(r){r.e.stopPropagation(),r.elementObject.root.browserPanel?r.elementObject.root.browserPanel.hide():r.elementObject.parent.hide()}}),this.childElementObjects[n]=this.containerUI.openCloseButton}}},ContainerObject.prototype.onContentUpdate=function(){},ContainerObject.prototype.destroy=function(r){Object(i.each)(this.childElementObjects,r=>{r.remove()}),r||this.$elementWrapper.parentNode.removeChild(this.$elementWrapper),this.opener=null,this.parent&&delete this.parent.childElementObjects[this.id],delete ContainerObject.all[this.id]},ContainerObject.prototype.remove=function(){this.destroy()},ContainerObject.prototype.export=function(){const propsCleanUp=r=>{delete r.UIForElement,delete r.change,delete r.click,delete r.mouseout,delete r.mouseover,r.optionTags&&delete r.optionTags,""===r.classes&&delete r.classes,r.visible&&delete r.visible},traverse=(r,n)=>{Object(i.each)(r,r=>{const a=Object.assign({},r.opt);if(propsCleanUp(a),r.childPanel){a.childPanel=Object.assign({},r.childPanel.opt),propsCleanUp(a.childPanel);const n=r.childPanel.export();n[0]&&(a.childPanel.data=n[0].children)}if(r.opt.isContainerUI||n.push(a),r.childElementObjects){const n=[];a.children=n,traverse(r.childElementObjects,n)}})},r=[];return traverse(this.childElementObjects,r),r},ContainerObject.prototype.import=function(r){const traverse=(r,n)=>{Object(i.each)(r,r=>{if(r.helperUsed)helpers[r.helperUsed]&&(r.placeIn=n,helpers[r.helperUsed](r));else if(n["add"+r.type]){const a=n["add"+r.type](r);r.children&&traverse(r.children,a)}})};traverse(r,this),this.onContentUpdate()}},function(r,n,a){"use strict";a.r(n),a.d(n,"BrowserTemplate",(function(){return q})),a.d(n,"Browser",(function(){return Browser}));var i=a(139),o=a(8),s=a(177),y=a.n(s),_=a(369),w=a(42),E=a(370),j=a(34);const q={template:r=>`<div class="wrapper-item panel browser ${r.classes} ${r.hideCategoryLables?" hide-category-lables":""}">\n                        ${"right"===r.closeButton||"left"===r.closeButton?`<div class="panel-bar-horizontal-buttons ${r.closeButton}-position"></div>`:""}\n                        ${r.title||"top"===r.closeButton?`<div class="panel-bar">\n                          ${r.title?`<div class="panel-bar-title">${r.title}</div>`:""}\n                          <div class="panel-bar-top-buttons"></div>\n                        </div>`:""}\n                        <div id="${r.id}" class="inner ${r.title?"with-top-bar":""}">\n                            <div class="browser-top-bar">\n                              <div class="browser-top-bar-inner">\n                                <span class="search-field-wrapper"></span>\n                              </div>\n                            </div>\n                            <div class="browser-main-wrapper">\n                              <div class="list-wrapper"></div>\n                              <div class="content scroll-container">\n                                <div class="section grid browser-scroll-item"></div>\n                              </div>\n                            </div>\n                            <div class="detail-wrapper frosted">\n                              <div class="detail-wrapper-inner">\n                                <div class="close-detail"></div>\n                                <div class="detail-contente">\n                                  <div class="detail-contente-inner"></div>\n                                </div>\n                              </div>\n                            </div>\n                        </div>\n                        ${"floating"===r.closeButton?'<div class="browser-floatingcloseWrapper"></div>':""}\n                    </div>`,defValues:{classes:""}},Browser=function(r,n){this.type="Browser",this.browserPanel=n.browserPanel||null,this.categories=[],this.categoryButtons=[],this.currentCategory=n.currentCategory||"all",this.currentItem=null,this.itemData=[],this.itemButtons=[],this.soundInfo={},this.sortFirst=[],this.dragThumbVisible=!0,this.lastY=0,this.fallbackImage=n.fallbackImage||"https://cdn.hibervr.com/thumbs/artifact_thumb.png",this.loadProgressive=n.loadProgressive||!1,n.iconMap=n.iconMap||{},n.useSVGIcons?this.iconMap=Object.assign(n.iconMap,{all:i.SNAP_SVG_ICON_PATH+"UI/UI_blocks.svg",favorites:"fas fa-star"}):this.iconMap=Object.assign(n.iconMap,{all:"fas fa-th",favorites:"fas fa-star"}),n.sortFirst&&(this.sortFirst=n.sortFirst),this.dataSource=n.dataSource,E.a.call(this,r,n);const a=this.addFromTemplate(this.$placeIn,this.type,n);this.$elementWrapper=a.$el.closest(".wrapper-item"),_.a.position(this,n),this.$contentWrapper=this.$elementWrapper.querySelector(".content .grid"),this.$listWrapper=this.$elementWrapper.querySelector(".list-wrapper"),this.$searchFieldWrapper=this.$elementWrapper.querySelector(".search-field-wrapper"),this.$detailWrapper=this.$elementWrapper.querySelector(".detail-wrapper"),this.$detailContent=this.$detailWrapper.querySelector(".detail-wrapper-inner .detail-contente .detail-contente-inner"),this.$scrollContainer=this.$elementWrapper.querySelector(".scroll-container"),this.$scrollContainer.addEventListener("touchstart",this.onScrollContainerTouchStart),this.$scrollContainer.addEventListener("touchmove",this.onScrollContainerTouchMove),n.searchFieldPlaceHolderText?this.searchField=this.addTextInput({$placeIn:this.$searchFieldWrapper,UIForElement:this,id:"searchField_"+this.opt.id,value:"",classes:"inline",placeholder:n.searchFieldPlaceHolderText,label:"Search",clearButton:!0,change:(r,n)=>{this.renderContent(this.currentCategory)}}):(this.$elementWrapper.querySelector(".browser-top-bar").style.display="none",this.$elementWrapper.classList.add("no-search-bar")),this.closeButton=this.addButton({$placeIn:this.$detailWrapper.querySelector(".close-detail"),id:"closeDetails_"+this.opt.id,icon:"fas fa-times",classes:"icon-button",isContainerUI:!0,click(r){r.e.stopPropagation(),r.elementObject.parent.$detailWrapper.style.display="none",r.elementObject.parent.$detailContent.innerHTML=""}});const o=this.$elementWrapper.querySelector(".browser-floatingcloseWrapper");o&&this.addButton({$placeIn:o,raw:!0,classes:"browser-floatingclose",icon:i.SNAP_SVG_ICON_PATH+"UI/UI_close.svg",click:r=>{r.e.stopPropagation(),this.hide()}}),this.AddCloseButton(),this.getCategories(),this.renderCategories(),this.viewCategory(this.currentCategory)};Browser.prototype=Object.create(E.a.prototype),Browser.prototype.constructor=Browser,Browser.prototype.onTouchStart=function(r){r.stopPropagation()},Browser.prototype.onScrollContainerTouchStart=function(r){this.lastY=event.touches[0].clientY},Browser.prototype.onScrollContainerTouchMove=function(r){const n=event.touches[0].clientY,a=this.lastY-n<0?"up":"down",i=event.currentTarget.scrollTop,o=0==i&&"up"==a,s=i>=event.currentTarget.scrollHeight-event.currentTarget.offsetHeight&&"down"==a;(o||s)&&event.preventDefault(),this.lastY=n},Browser.prototype.updateDataSource=function(r){this.killSound(),this.dataSource=r,this.getCategories(),this.renderCategories(),this.viewCategory(this.currentCategory)},Browser.prototype.getCategories=function(){return this.categories.length=0,this.sortFirst&&(this.categories=this.sortFirst),this.dataSource&&(Object(w.each)(this.dataSource,r=>{"*"!==r.category&&(r.category||(r.category="misc"),this.categories.push(r.category))}),this.categories=[...new Set(this.categories)]),this.categories=["all"].concat(this.categories),this.categories},Browser.prototype.getItemData=function(r){this.itemData.length=0;const n=this.$searchFieldWrapper.querySelector("input")?this.$searchFieldWrapper.querySelector("input").value.toLowerCase():null;return this.dataSource&&Object(w.each)(this.dataSource,a=>{a.category!==r&&"all"!==r||(n?a.buttonLabel.toLowerCase().indexOf(n)>-1&&this.itemData.push(a):this.itemData.push(a))}),this.itemData},Browser.prototype.selectWithId=function(r){const n=this.dataSource.filter(n=>n.id===r);let a=null;n&&1===n.length&&(a=n[0],this.currentCategory=a.category,this.currentItem=a.id,this.selectCategory(this.currentCategory),this.renderContent(this.currentCategory,a.id))},Browser.prototype.viewCategory=function(r){this.currentCategory=r,this.selectCategory(this.currentCategory),this.renderContent(this.currentCategory,this.currentItem)},Browser.buttonLabelManager=function(r){const n=r.indexOf(".");let a;return a=n>-1?r.substr(n+1):r,a},Browser.prototype.renderContent=function(r,n){for(let r=0;r<this.itemButtons.length;r++)this.itemButtons[r].remove();this.itemButtons.length=0;const a=this.opt.buttonClasses||"",i=this.getItemData(r);let o=null;for(let r=0;r<i.length;r++){const s=i[r];let y="";n&&n===s.id&&(y="selected");const _={$placeIn:this.$contentWrapper,buttonLabel:Browser.buttonLabelManager(s.buttonLabel),value:{image:Object(j.getCachedFileUri)(s.image),id:s.id},noSound:this.opt.noSound,toolTip:s.toolTip,details:s.details,soundUrl:Object(j.getCachedFileUri)(s.soundUrl),ribbon:s.ribbon||0,classes:`grid-button sub-label ${a} ${y} ${s.classes?s.classes:""}`,click(r){}};this.opt.dropTargetsSelector&&(_.draggable={dropTargetsSelector:this.opt.dropTargetsSelector}),_.dragThumbVisible=this.dragThumbVisible,_.dragging=this.opt.dragging,_.dragStart=this.opt.dragStart,_.fallbackImage=this.fallbackImage,_.loadProgressive=this.loadProgressive;const w=this.addThumbButton(_);w.itemButton=!0,n&&n===s.id&&(o=w),this.itemButtons.push(w)}o&&o.$elementWrapper.scrollIntoView({block:"end",behavior:"smooth"})},Browser.prototype.deselectCurrent=function(){const r=this.$contentWrapper.querySelector(".thumb-button.selected");r&&r.classList.remove("selected"),this.currentItem=null},Browser.prototype.killSound=function(){this.soundInfo.currentElement&&(this.soundInfo.currentElement.$elementWrapper.classList.remove("selected"),this.soundInfo.audioObject&&this.soundInfo.audioObject.pause(),this.soundInfo.audioObject=null,o.entityManager.getSystem(y.a).muteBackgroundAudio(!1))},Browser.prototype.markAsCurrent=function(r){if(this.deselectCurrent(),r){const n=r.getValue();this.currentItem=n.id,r.$elementWrapper.classList.add("selected")}},Browser.prototype.selectCategory=function(r){this.killSound();for(let n=0;n<this.categoryButtons.length;n++)this.categoryButtons[n].value===r?this.categoryButtons[n].select():this.categoryButtons[n].deselect()},Browser.prototype.renderCategories=function(){for(let r=0;r<this.categoryButtons.length;r++)this.categoryButtons[r].remove();this.categoryButtons.length=0,Object(w.each)(this.categories,(r,n)=>{const a=this.addButton({$placeIn:this.$listWrapper,UIForElement:this,classes:"full dimmedColor "+(this.opt.hideCategoryLables?" icon-button big-icons button-horCenter button-square":""),value:r,label:this.opt.hideCategoryLables?"":r,tooltip:this.opt.hideCategoryLables?r:"",id:r.id,icon:this.iconMap[r.toLowerCase()]||this.iconMap.default,click:r=>{r.e.stopPropagation(),this.viewCategory(r.elementObject.value)}});this.categoryButtons.push(a),a.categoryButtons=!0}),this.categories.length>2?this.$elementWrapper.classList.remove("no-categories"):this.$elementWrapper.classList.add("no-categories")},Browser.prototype.clear=function(){this.killSound(),this.soundInfo={};for(let r=0;r<this.categoryButtons.length;r++)this.categoryButtons[r].remove();for(let r=0;r<this.itemButtons.length;r++)this.itemButtons[r].remove()},Browser.prototype.empty=function(){this.clear(),E.a.prototype.empty.call(this)},Browser.prototype.remove=function(){this.clear(),this.searchField&&this.searchField.remove(),this.closeButton.remove(),this.$elementWrapper.removeEventListener("touchstart",this.onTouchStart,!1),this.$scrollContainer.removeEventListener("touchstart",this.onScrollContainerTouchStart),this.$scrollContainer.removeEventListener("touchmove",this.onScrollContainerTouchMove),E.a.prototype.remove.call(this)},Browser.prototype.show=function(r){E.a.prototype.show.call(this,r),window.dispatchEvent(new CustomEvent("browser-pannel-show",{detail:{panel:this}}))},Browser.prototype.hide=function(r=!0){E.a.prototype.hide.call(this),!o.inputManager.pointerLockEnabled&&r&&o.inputManager.enablePointerLock(),window.dispatchEvent(new CustomEvent("browser-pannel-hide",{detail:{panel:this,enablePointerLock:r}}))}},function(r,n,a){"use strict";a.d(n,"a",(function(){return Button})),a.d(n,"b",(function(){return y}));var i=a(370),o=a(373),s=a(34);const Button=function(r,n,a){o.a.call(this,r,n,a),this.selected=!1},getIconsForUIXButton=function(r){let n="";return r.icon&&(-1===r.icon.indexOf(".")?n+=`<div class="icon-container ${"empty"===r.icon?"empty":""}"><i class="${r.icon}"></i></div>`:n+=`<div class="icon-container ${"empty"===r.icon?"empty":""}"><img class="svg-icon" alt="" src="${Object(s.getCachedFileUri)(r.icon)}" /></div>`),n},y={template:r=>(r.classes=r.classes||"",r.raw?`\n            <div class="${r.classes}" ${r.tooltip?`title="${r.tooltip}"`:""} id="${r.id}">\n              <span class="icon-wrapper">${getIconsForUIXButton(r)}</span>\n              <span class="button-text">${r.label}</span>\n            </div>`:`\n        <div class="wrapper-item ui-button ${r.classes}">\n            <button ${r.tooltip?`title="${r.tooltip}"`:""} id="${r.id}">\n              <span class="icon-wrapper">${getIconsForUIXButton(r)}</span>\n              <span class="button-text">${r.label}</span>\n            </button>\n        </div>`),defValues:{label:"",icon:"",classes:""}};Button.prototype=Object.create(o.a.prototype),Button.prototype.constructor=Button,Button.prototype.getValue=function(){return this.value},Button.prototype.setValue=function(r){this.value=r},Button.prototype.setIcon=function(r){let n=this.$elementWrapper.querySelector(".icon-container i");n?this.orgIcon||(this.orgIcon=n.className):(this.$elementWrapper.querySelector(".icon-wrapper").innerHTML=getIconsForUIXButton({icon:r}),n=this.$elementWrapper.querySelector(".icon-container i")),n.className=r},Button.prototype.restorIcon=function(){this.orgIcon?this.$elementWrapper.querySelector(".icon-container i").className=this.orgIcon:this.$elementWrapper.querySelector(".icon-wrapper").innerHTML=""},Button.prototype.showLoader=function(){this.setIcon("fas fa-circle-notch fa-spin")},Button.prototype.hideLoader=function(){this.restorIcon()},Button.prototype.select=function(){this.$elementWrapper.classList.add("selected"),this.selected=!0},Button.prototype.deselect=function(){this.$elementWrapper.classList.remove("selected"),this.selected=!1},i.a.prototype.addButton=function(r={}){return this.add("Button",r)}},function(r,n,a){"use strict";a.d(n,"a",(function(){return InputElementObject}));var i=a(18),o=a(42),s=a(369);const InputElementObject=function(r,n,a){this.parent=a,this.opt=n,this.setup(r),s.a.all[this.id]=this};InputElementObject.prototype=Object.create(s.a.prototype),InputElementObject.prototype.constructor=InputElementObject,InputElementObject.prototype.setup=function(r){if(s.a.prototype.setup.call(this),this.$InputElement=r,this.$elementWrapper=this.$InputElement.closest(".wrapper-item"),this.type=this.$InputElement.type||this.opt.type,this.events={},this.deltaTime=i.default.now(),this.dragTimer=null,this.dragWait=i.default.hasHover()?0:150,this.usingThrottle=Object(o.defVal)(this.usingThrottle,!1),this.dragChangeLastPointerPosition=null,this.dragChangeStart=s.a.dragChangeStart.bind(this),this.dragChangeMove=s.a.dragChangeMove.bind(this),this.dragChangeEnd=s.a.dragChangeEnd.bind(this),this.value=this.opt.value,this.userData=this.opt.userData,s.a.currentElementObject=null,InputElementObject.dragStartCoords={x:0,y:0},this.setEvents(this.opt),this.opt.draggable&&this.$elementWrapper.classList.add("grabbable"),void 0!==this.opt.dragChangeStep&&(this.$label=this.$elementWrapper.querySelector("label"),this.$label.addEventListener("touchstart",this.dragChangeStart),this.$label.addEventListener("mousedown",this.dragChangeStart),this.$label.style.cursor="col-resize"),this.$elementWrapper){const r=this.$elementWrapper.querySelector("output");r&&(this.output=r)}},InputElementObject.prototype.dragChangeSetValue=function(r,n,a){const i=parseFloat(this.getValue())+r*this.opt.dragChangeStep*n;this.setValue(Object(o.checkValues)(i,this.opt)),this.fireOnChange(a,!1,{previewChange:!0})},InputElementObject.prototype.dragChangeEndActions=function(r){this.fireOnChange(r,!1,{dragChangeEnded:!0})},InputElementObject.prototype.inputCheck=function(r,n){const a=this.validate(r.pattern,n),i={minValue:Object(o.stringCast)(r.dataset.min_value),maxValue:Object(o.stringCast)(r.dataset.max_value)};return a?r.dataset.value=Object(o.checkValues)(n,i):r.value=r.dataset.value,a},InputElementObject.prototype.validate=function(r,n){let a=!0;return r&&(a=RegExp(r).test(n)),a},InputElementObject.prototype.setEvents=function(r){const setupEvent=n=>{let a=n;const o={},runEvent=(r,n,a)=>{const i={e:r,elementObject:this,id:this.id,value:this.getValue?this.getValue():null};n&&n(i)},addExtraFunction=(r,a)=>{o[r]||(o[r]=[]),o[n].push(a)},runExtraFunction=(r,n)=>{if(o[r])for(let a=0;a<o[r].length;a++){const i=o[r][a];runEvent(n,i)}};"keyup"===n&&addExtraFunction(n,r=>{this.inputCheck(r.elementObject.$InputElement,r.value)}),this.opt.toolTip&&!i.default.isTouchDevice()&&(i.default.isTouchDevice()?("mousedown"===n&&addExtraFunction(n,r=>{this.toolTipStart(r)}),"mouseup"===n&&addExtraFunction(n,r=>{this.toolTipEnd()})):("mouseover"===n&&addExtraFunction(n,r=>{this.toolTipStart(r)}),"mouseout"===n&&addExtraFunction(n,r=>{this.toolTipEnd()}))),"focus"===n&&addExtraFunction(n,r=>{"TextInput"!==r.elementObject.opt.type&&"TextArea"!==r.elementObject.opt.type&&"NumberInput"!==r.elementObject.opt.type&&"Select"!==r.elementObject.opt.type&&"ColorInput"!==r.elementObject.opt.type||window.dispatchEvent(new CustomEvent("text_input_element_focus",{elementObject:r.elementObject})),"TextInput"===r.elementObject.opt.type&&r.elementObject.$InputElement.select()}),"blur"===n&&addExtraFunction(n,r=>{"TextInput"!==r.elementObject.opt.type&&"TextArea"!==r.elementObject.opt.type&&"NumberInput"!==r.elementObject.opt.type&&"Select"!==r.elementObject.opt.type&&"ColorInput"!==r.elementObject.opt.type||window.dispatchEvent(new CustomEvent("text_input_element_blur",{elementObject:r.elementObject}))}),"dragover"===n&&addExtraFunction(n,r=>{r.e.stopPropagation(),r.e.preventDefault()}),"drop"===n&&addExtraFunction(n,r=>{r.e.stopPropagation(),r.e.preventDefault()}),this.opt.draggable&&("mousedown"===n&&addExtraFunction(n,r=>{this.deltaTime=i.default.now(),this.dragTimer&&clearTimeout(this.dragTimer),this.dragTimer=setTimeout(()=>{InputElementObject.onDragStart(r)},this.dragWait)}),"mouseup"===n&&addExtraFunction(n,r=>{i.default.now()-this.deltaTime<this.dragWait&&this.dragTimer&&clearTimeout(this.dragTimer),this.deltaTime=i.default.now()})),i.default.isTouchDevice()&&("mousedown"===a&&(a="touchstart"),"mouseup"===a&&(a="touchend"),"mousemove"===a&&(a="touchmove")),r.isContainerUI&&this.opt[n]?this.events[a]=r=>{runEvent(r,this.opt[n]),runExtraFunction(n,r)}:this.root.events[n]||this.opt[n]?this.events[a]=r=>{this.root.events[n]&&runEvent(r,this.root.events[n]),this.opt[n]&&runEvent(r,this.opt[n]),runExtraFunction(n,r)}:o[n]&&(this.events[a]=r=>{runExtraFunction(n,r)})};setupEvent("click"),setupEvent("mousedown"),setupEvent("mouseup"),setupEvent("mouseover"),setupEvent("mouseout"),setupEvent("mousemove"),setupEvent("focus"),setupEvent("blur"),setupEvent("keyup"),setupEvent("drop"),setupEvent("dragover"),this.$InputElement.classList.contains("jscolor")?this.events.change=r=>{let n=null;this.root.events.change&&(n={elementObject:this,id:this.id,value:this.getValue()},this.root.events.change(n)),this.opt.change&&this.opt.change(this.getValue(),r)}:this.events.input=r=>{this.inputCheck(this.$InputElement,r.target.value)&&this.fireOnChange(r,!1)},Object(o.each)(this.events,(r,n)=>{this.$InputElement.addEventListener(n,r)})},InputElementObject.prototype.getValue=function(){return this.$InputElement.value},InputElementObject.prototype.setValue=function(r){r.indexOf&&-1===r.indexOf("{")?this.$InputElement.value=Object(o.stringCast)(r):this.$InputElement.value=r},InputElementObject.prototype.check=function(){this.$InputElement.checked=!0},InputElementObject.prototype.uncheck=function(){this.$InputElement.checked=!1},InputElementObject.prototype.showError=function(r){const n=this.$elementWrapper.querySelector(".error-message");n&&(n.innerHTML=r,n.classList.add("show"))},InputElementObject.prototype.hideError=function(){const r=this.$elementWrapper.querySelector(".error-message");r&&(r.innerHTML="",r.classList.remove("show"))},InputElementObject.fixCheckboxValue=function(r){return"boolean"==typeof r&&(r=r?"checked":""),r},InputElementObject.currentDraggedElement=null,InputElementObject.dragThumb=null,InputElementObject.dragBB=null,InputElementObject.dropTargets=null,InputElementObject.hoverElements=[],InputElementObject.moveListenerName="mousemove",InputElementObject.endListenerName="mouseup",InputElementObject.addDragThumb=function(r,n){InputElementObject.dragThumb=document.createElement("div");const a=InputElementObject.currentDraggedElement.$elementWrapper.querySelector("button"),i=a.getBoundingClientRect();InputElementObject.dragBB=i;let o=a.style.backgroundImage;o=o.substring(5,o.length-2),InputElementObject.dragThumb.className="hiber-ui-drag-thumb",n||(InputElementObject.dragThumb.style.opacity=0),InputElementObject.dragThumb.style.backgroundImage=`url(${o})`,InputElementObject.dragThumb.style.width=i.width+"px",InputElementObject.dragThumb.style.height=i.height+"px",InputElementObject.dragThumb.style.left=r.left+"px",InputElementObject.dragThumb.style.top=r.top+"px",document.body.appendChild(InputElementObject.dragThumb)},InputElementObject.removeDragThumb=function(){InputElementObject.dragThumb&&(document.body.removeChild(InputElementObject.dragThumb),InputElementObject.dragThumb=null)},InputElementObject.positionThumb=function(r){InputElementObject.dragThumb&&(s.a.getPointerPosition(r),InputElementObject.dragThumb.style.left=s.a.pointerPosition.x-InputElementObject.dragBB.width+"px",InputElementObject.dragThumb.style.top=s.a.pointerPosition.y-InputElementObject.dragBB.height+"px")},InputElementObject.onDragStart=function(r){r.e.stopPropagation(),InputElementObject.removeDragThumb(),s.a.currentContent&&(s.a.currentContent.classList.remove("dont-scroll"),s.a.currentContent=null),s.a.currentElementObject=r.elementObject,InputElementObject.currentDraggedElement=r.elementObject,s.a.isScrolling=!1,s.a.scrollingSet=!1,s.a.scrollLocked=!1;const n=InputElementObject.currentDraggedElement;i.default.isTouchDevice()&&(InputElementObject.moveListenerName="touchmove",InputElementObject.endListenerName="touchend"),document.body.addEventListener(InputElementObject.moveListenerName,InputElementObject.onDragging),document.body.addEventListener(InputElementObject.endListenerName,InputElementObject.onDragEnd),s.a.getPointerPosition(r.e),InputElementObject.dragStartCoords={x:s.a.pointerPosition.x,y:s.a.pointerPosition.y},n.opt.dragStart&&n.opt.dragStart(n,s.a.pointerPosition),InputElementObject.addDragThumb(s.a.pointerPosition,r.elementObject.opt.dragThumbVisible),InputElementObject.positionThumb(r.e),InputElementObject.dropTargets=document.body.querySelectorAll(r.elementObject.opt.draggable.dropTargetsSelector)},InputElementObject.onDragging=function(r){if(r.stopPropagation(),s.a.getPointerPosition(r),s.a.scrollingSet||s.a.isScrolling||(s.a.isScrolling=Math.abs(InputElementObject.dragStartCoords.y-s.a.pointerPosition.y)>20,s.a.scrollingSet=!0),s.a.scrollingSet&&!s.a.isScrolling&&!s.a.scrollLocked&&(s.a.scrollLocked=!0,s.a.currentElementObject.root&&s.a.currentElementObject.root.$elementWrapper&&(s.a.currentContent=s.a.currentElementObject.root.$elementWrapper.querySelector(".content"),s.a.currentContent&&s.a.currentContent.scrollHeight>s.a.currentContent.clientHeight))){const r=s.a.currentContent.offsetWidth-s.a.currentContent.clientWidth;s.a.currentContent.style.marginRight=r+"px",s.a.currentContent.classList.add("dont-scroll")}const n=InputElementObject.currentDraggedElement;if(n&&!s.a.isScrolling){InputElementObject.positionThumb(r),n.opt.dragging&&n.opt.dragging(n,s.a.pointerPosition);let a=null;InputElementObject.hoverElement=null,InputElementObject.dropTargets.forEach(r=>{const n=r.getBoundingClientRect();s.a.pointerPosition.x>n.left&&s.a.pointerPosition.x<n.right&&s.a.pointerPosition.y<n.bottom&&s.a.pointerPosition.y>n.top&&(a=r)}),a&&InputElementObject.hoverElements!==a?(n.opt.draggable.dragover&&n.opt.draggable.dragover(n,a),n.root.events.dragover&&n.root.events.dragover(n,a)):!a&&InputElementObject.hoverElements&&(n.opt.draggable.dragout&&n.opt.draggable.dragout(n,InputElementObject.hoverElements),n.root.events.dragout&&n.root.events.dragout(n,InputElementObject.hoverElements)),InputElementObject.hoverElements=a}s.a.isScrolling&&InputElementObject.removeDragThumb()},InputElementObject.onDragEnd=function(r){r.stopPropagation(),InputElementObject.positionThumb(r);const n=InputElementObject.currentDraggedElement;document.body.removeEventListener(InputElementObject.moveListenerName,InputElementObject.onDragging),document.body.removeEventListener(InputElementObject.endListenerName,InputElementObject.onDragEnd),document.body.removeEventListener("touchstart",this.dragChangeStart),document.body.removeEventListener("mousedown",this.dragChangeStart),InputElementObject.hoverElements&&(n.opt.draggable.drop&&n.opt.draggable.drop(n,InputElementObject.hoverElements,s.a.pointerPosition),n.opt.drop&&n.opt.drop(n,InputElementObject.hoverElements,s.a.pointerPosition),n.root.events.drop&&InputElementObject.hoverElements&&InputElementObject.hoverElements.children&&InputElementObject.hoverElements.children.length>0&&n.root.events.drop(n,InputElementObject.hoverElements,s.a.pointerPosition)),InputElementObject.currentDraggedElement=null,InputElementObject.hoverElements=null,InputElementObject.dragThumb&&(document.body.removeChild(InputElementObject.dragThumb),InputElementObject.dragThumb=null),s.a.scrollLocked=!1,s.a.currentContent&&(s.a.currentContent.classList.remove("dont-scroll"),s.a.currentContent.style.marginRight="0",s.a.currentContent=null)},InputElementObject.prototype.copyToClipboard=function(){i.default.isOS?(()=>{const r=this.$InputElement.contentEditable,n=this.$InputElement.readOnly,a=document.createRange();this.$InputElement.contentEditable=!0,this.$InputElement.readOnly=!1,a.selectNodeContents(el);const i=window.getSelection();i.removeAllRanges(),i.addRange(a),this.$InputElement.setSelectionRange(0,999999),this.$InputElement.contentEditable=r,this.$InputElement.readOnly=n,document.execCommand("copy")})():(this.$InputElement.select(),document.execCommand("copy"))}},function(r,n,a){"use strict";a.d(n,"a",(function(){return Checkbox})),a.d(n,"b",(function(){return y}));var i=a(373),o=a(42),s=a(370);const Checkbox=function(r,n,a){i.a.call(this,r,n,a)},y={template:r=>`<div class="wrapper-item ${r.classes}">\n                <input type="checkbox" ${r.value="checked"} id="${r.id}" name="${r.id}">\n                <label for="${r.id}">\n                    <span class="unchecked"><i class="${r.uncheckedIcon}"></i> ${r.label}</span>\n                    <span class="checked"><i class="${r.checkedIcon}"></i> ${r.label}</span>\n                </label>\n                <div class="error-message"></div>\n            </div>`,defValues:{label:"My checkbox",value:"checked",uncheckedIcon:"fas fa-square",checkedIcon:"fas fa-check-square",classes:""}};Checkbox.prototype=Object.create(i.a.prototype),Checkbox.prototype.constructor=Checkbox,Checkbox.prototype.getValue=function(){return this.$InputElement.checked},Checkbox.prototype.setValue=function(r){r=i.a.fixCheckboxValue(Object(o.stringCast)(r)),this.$InputElement.checked="checked"===r},s.a.prototype.addCheckbox=function(r={}){return r.value=i.a.fixCheckboxValue(r.value),this.add("Checkbox",r)}},function(r,n,a){"use strict";a.d(n,"a",(function(){return ColorInput})),a.d(n,"b",(function(){return y}));var i=a(19),o=a(373),s=a(370);const ColorInput=function(r,n,a){o.a.call(this,r,n,a)},y={template:r=>`<div class="wrapper-item color-button ${r.classes}">\n                    <label>${r.label}</label>\n                    <input id="${r.id}" class="jscolor color-button-button" value="#${r.value.getHexString()}">\n                </div>`,defValues:{label:"My thumb",color:{r:1,g:1,b:1,a:1},classes:""}};ColorInput.prototype=Object.create(o.a.prototype),ColorInput.prototype.constructor=ColorInput,ColorInput.prototype.setValue=function(r){this.$InputElement.jscolor.fromString(r)},ColorInput.prototype.getValue=function(){return new i.Color("#"+this.$InputElement.value)},s.a.prototype.addColorInput=function(r={}){return this.add("ColorInput",r)}},function(r,n,a){"use strict";a.d(n,"a",(function(){return Hr})),a.d(n,"b",(function(){return s}));var i=a(369),o=a(370);const Hr=function(r,n,a){i.a.call(this,r,n,a)},s={template:r=>`<hr class="${r.classes}" id="${r.id}" />`,defValues:{classes:""}};Hr.prototype=Object.create(i.a.prototype),Hr.prototype.constructor=Hr,Hr.prototype.setup=function(r){i.a.prototype.setup.call(this,r)},o.a.prototype.addHr=function(r={}){return this.add("Hr",r)}},function(r,n,a){"use strict";a.d(n,"a",(function(){return Range})),a.d(n,"b",(function(){return s}));var i=a(373),o=a(370);const Range=function(r,n,a){this.usingThrottle=!0,i.a.call(this,r,n,a)},s={template:r=>`<div class="wrapper-item ${r.classes}">\n                <label>${r.label}</label>\n                <input name="${r.id}" id="${r.id}" class="full-width" type="range" min="${r.min}" max="${r.max}" value="${r.value}" step="${r.step}" oninput="${r.id}OutputId.value = ${r.id}.value">\n                <output name="${r.id}OutputName" id="${r.id}OutputId">${r.value}</output>\n                <div class="error-message"></div>\n            </div>`,defValues:{label:"My range",min:0,max:100,value:0,step:1,classes:""}};Range.prototype=Object.create(i.a.prototype),Range.prototype.constructor=Range,Range.prototype.getValue=function(){return parseFloat(this.$InputElement.value)},o.a.prototype.addRange=function(r={}){return this.add("Range",r)}},function(r,n,a){"use strict";a.d(n,"a",(function(){return Select})),a.d(n,"b",(function(){return y}));var i=a(370),o=a(42),s=a(373);const Select=function(r,n,a){s.a.call(this,r,n,a)},y={template:r=>`<div class="wrapper-item ${r.classes}">\n                <div class="select-wrapper">\n                    <label>${r.label}</label>\n                    <select class="half" id="${r.id}">\n                    ${r.optionTags}\n                    </select>\n                </div>\n                <div class="error-message"></div>\n            </div>`,defValues:{label:"My Drop down",options:"a|A, b|B",value:"",classes:""}};Select.prototype=Object.create(s.a.prototype),Select.prototype.constructor=Select,Select.prototype.getValue=function(){const r=parseFloat(this.$InputElement.value,10);return Number.isNaN(r)?this.$InputElement.value:r},Select.prototype.updateOptions=function(r){this.$InputElement.options.length=0;for(let n=0;n<r.length;n++){const a=r[n];this.$InputElement.options[this.$InputElement.options.length]=new Option(a.key,a.value)}},Select.prototype.removeAll=function(){this.$InputElement.innerHTML=""},i.a.prototype.addSelect=function(r={}){let n="";for(const{key:a,value:i}of r.options)r.value===i?n+=`<option selected="" value="${i}">${Object(o.fancify)(a)}</option>`:n+=`<option value="${i}">${Object(o.fancify)(a)}</option>`;return r.optionTags=n,this.add("Select",r)}},function(r,n,a){"use strict";a.d(n,"a",(function(){return Switch})),a.d(n,"b",(function(){return y}));var i=a(373),o=a(42),s=a(370);const Switch=function(r,n,a){i.a.call(this,r,n,a)},y={template:r=>`<div class="wrapper-item switch ${r.classes}">\n                <div class="switch-box">\n                    <input id="${r.id}" ${r.value?"checked":r.value} class="switch-input switch-round fireChange" type="checkbox">\n                    <label for="${r.id}"></label>\n                </div>\n                <div class="label">${r.label}</div>\n                <div class="error-message"></div>\n            </div>`,defValues:{label:"My switch",value:"checked",classes:""}};Switch.prototype=Object.create(i.a.prototype),Switch.prototype.constructor=Switch,Switch.prototype.getValue=function(){return this.$InputElement.checked},Switch.prototype.setValue=function(r){r=i.a.fixCheckboxValue(Object(o.stringCast)(r)),this.$InputElement.checked="checked"===r},s.a.prototype.addSwitch=function(r={}){return r.value=i.a.fixCheckboxValue(r.value),this.add("Switch",r)}},function(r,n,a){"use strict";a.d(n,"b",(function(){return s})),a.d(n,"a",(function(){return TextInput}));var i=a(373),o=a(370);const s={template:r=>`<div class="wrapper-item ${r.classes}">\n                <label>${r.label}</label>\n                <input \n                  id="${r.id}" \n                  placeholder="${r.placeholder?r.placeholder:""}" \n                  type="${r.clearButton?"search":"text"}" \n                  value="${r.value}" \n                  data-value="${r.value}"\n                  \n                  ${r.pattern?`pattern="${r.pattern}"`:""}" \n                  ${r.minValue?`data-min_value="${r.minValue}"`:""}" \n                  ${r.maxValue?`data-max_value="${r.maxValue}"`:""}" \n                  ${r.allAxis?`data-all_axis="${r.allAxis}"`:""}" \n\n                >\n                <div class="error-message"></div>\n            </div>`,defValues:{label:"",value:"",classes:""}},TextInput=function(r,n,a){i.a.call(this,r,n,a)};TextInput.prototype=Object.create(i.a.prototype),TextInput.prototype.constructor=TextInput,o.a.prototype.addTextInput=function(r={}){return this.add("TextInput",r)}},function(r,n,a){"use strict";a.d(n,"b",(function(){return s})),a.d(n,"a",(function(){return TextArea}));var i=a(373),o=a(370);const s={template:r=>`<div class="wrapper-item ${r.classes}">\n                <label>${r.label}</label>\n                <textarea id="${r.id}" ${r.taHeight?` style="height: ${r.taHeight};" `:""}" placeholder="${r.placeholder?r.placeholder:""}">${r.value}</textarea>\n              <div class="error-message"></div>\n            </div>`,defValues:{label:"",value:"",classes:""}},TextArea=function(r,n,a){i.a.call(this,r,n,a)};TextArea.prototype=Object.create(i.a.prototype),TextArea.prototype.constructor=TextArea,o.a.prototype.addTextArea=function(r={}){return this.add("TextArea",r)}},function(r,n,a){"use strict";a.d(n,"a",(function(){return ThumbButton})),a.d(n,"b",(function(){return w}));var i=a(370),o=a(373),s=a(66),y=a.n(s),_=a(34);const ThumbButton=function(r,n,a){o.a.call(this,r,n,a)};ThumbButton.getRibbon=r=>{if(r)return`\n      <div class="ribbon-wrapper">\n        <div class="ribbon">${y.a.new}</div>\n      </div>\n    `};const w={template:r=>`<div class="wrapper-item thumb-button ${r.classes}">\n                ${r.label?`<label>${r.label}</label>`:""}\n                ${r.loadProgressive?`<button type="button" data-src="${Object(_.getCachedFileUri)(r.image)}" data-loaded=false style="background-image: ${r.fallbackImage?`url(${r.fallbackImage})`:""}; background-color: ${r.color?""+r.color:""};" class="thumb-button-button" id="${r.id}">`:`<button type="button" style="background-image: ${r.image?`url(${r.image})`:""}; background-color: ${r.color?""+r.color:""};" class="thumb-button-button" id="${r.id}">`}\n                    ${r.buttonLabel?`<div title="${r.buttonLabel}" class="button-label">${r.buttonLabel}</div>`:""}\n                    <div class="cover-plain">\n                      <i class="lock fas ${r.subIcon}"></i>\n                    </div>\n                    ${r.ribbon?ThumbButton.getRibbon(r.ribbon):""}\n                </button>\n                <div class="error-message"></div>\n            </div>`,defValues:{label:"",color:"",buttonLabel:"",classes:""}};ThumbButton.prototype=Object.create(o.a.prototype),ThumbButton.prototype.constructor=ThumbButton,ThumbButton.observer=null,ThumbButton.prototype.makeProgressive=function(){if(window.IntersectionObserver){ThumbButton.observer||(ThumbButton.observer=new IntersectionObserver((r,n)=>{r.forEach(r=>{r.isIntersecting&&(r.target.style.backgroundImage=`url(${r.target.dataset.src})`,r.target.dataset.loaded=!0,n.unobserve(r.target))})}));const r=this.$InputElement;ThumbButton.observer.observe(r)}},ThumbButton.prototype.setup=function(r){this.childElements={},o.a.prototype.setup.call(this,r),this.opt.value&&this.setValue(this.opt.value),this.opt.loadProgressive&&this.makeProgressive(),this.opt.details&&(this.childElements.detailButton=this.parent.addButton({UIForElement:this,$placeIn:this.$elementWrapper,id:this.id+"_detail_button",icon:"fas fa-question-circle",classes:"thumb-detail-button",click(r){r.e.stopPropagation(),r.elementObject.parent&&r.elementObject.parent.$detailWrapper&&(r.elementObject.parent.$detailContent.innerHTML=r.elementObject.details,r.elementObject.parent.$detailWrapper.style.display="flex")}}),this.childElements.detailButton.details=this.opt.details),this.opt.removeButton&&(this.childElements.removeButton=this.parent.addButton({UIForElement:this,$placeIn:this.$elementWrapper,id:this.id+"_remove_button",icon:"fas fa-trash-alt",classes:"thumb-extra-button-BR",click(r){const{id:n}=r.elementObject.UIForElement.getValue();r.elementObject.UIForElement.remove(),r.elementObject.UIForElement.opt.onRemove&&r.elementObject.UIForElement.opt.onRemove({id:n})}})),this.opt.clearButton&&(this.childElements.clearButton=this.parent.addButton({UIForElement:this,$placeIn:this.$elementWrapper,id:this.id+"_clear_button",icon:"fas fa-minus-circle",classes:"thumb-extra-button-BR",click(r){r.elementObject.UIForElement.setValue({buttonLabel:"...",value:"",id:"",image:"https://cdn.hibervr.com/thumbs/empty_thumb_gray.png"}),r.elementObject.UIForElement.fireOnChange(r)}}))},ThumbButton.prototype.getValue=function(){return this.value},ThumbButton.prototype.setValue=function(r){if(void 0!==r.id&&(this.value.id=r.id,this.value.value=r.id),r.buttonLabel){const n=this.$InputElement.querySelector(".button-label");n&&(n.innerHTML=r.buttonLabel,n.title=r.buttonLabel),this.value.buttonLabel=r.buttonLabel}void 0!==r.image&&(this.opt.loadProgressive?this.$InputElement.dataset.src=r.image:this.$InputElement.style.backgroundImage=`url(${r.image})`,this.value.image=r.image)},i.a.prototype.addThumbButton=function(r={}){return this.add("ThumbButton",r)}},function(r,n,a){"use strict";a.d(n,"a",(function(){return VectorInput})),a.d(n,"b",(function(){return _}));var i=a(19),o=a(370),s=a(369),y=a(42);const VectorInput=function(r,n,a){s.a.call(this,r,n,a)},_={template:r=>`\n            <div id="${r.id}" class="wrapper-item widget vector-input ${r.classes}">\n                <label>${r.label}</label>\n                <div class="section-content"></div>\n            </div>`,defValues:{label:"Vector",classes:""}};VectorInput.prototype=Object.create(s.a.prototype),VectorInput.prototype.constructor=VectorInput,VectorInput.prototype.setup=function(r){this.childElements={},this.returnAsQuaternion=!1,s.a.prototype.setup.call(this,r),this.dragChangeStart=s.a.dragChangeStart.bind(this),this.dragChangeMove=s.a.dragChangeMove.bind(this),this.dragChangeEnd=s.a.dragChangeEnd.bind(this);const n=this.$elementWrapper.querySelector(".section-content"),widgetOnChangeFn=(r,n)=>{n=Object(y.stringCast)(n),this.value[r]=Math.round(10*Object(y.stringCast)(n))/10,this.opt.change&&this.opt.change(this.value)};let a=this.opt.value;this.opt.value instanceof i.Quaternion&&(this.returnAsQuaternion=!0,a=Object(y.quaternionToDegVector)(this.opt.value)),this.value=a&&{x:a.x,y:a.y,z:a.z}||{x:0,y:0,z:0},Object(y.each)(this.value,(r,a)=>{this.childElements[a]=this.parent.addNumberInput({$placeIn:n,UIForElement:this,id:`${a}_${this.opt.id}`,value:r,label:a,minValue:this.opt.minValue,maxValue:this.opt.maxValue,allAxis:this.opt.allAxis,change(r,n){widgetOnChangeFn(a,r)},dragChangeStep:1})}),this.opt.dragChangeAllStep=1,this.opt.allAxis&&void 0!==this.opt.dragChangeAllStep&&(this.$label=this.$elementWrapper.querySelector("label"),this.$label.addEventListener("touchstart",this.dragChangeStart),this.$label.addEventListener("mousedown",this.dragChangeStart),this.$label.style.cursor="col-resize")},VectorInput.prototype.getValue=function(){let r=this.value;return this.returnAsQuaternion?r=Object(y.degVectorToQuaternion)(this.value):Object(y.each)(this.value,(n,a)=>r[a]=parseFloat(this.childElements[a].getValue())),r},VectorInput.prototype.setValue=function(r){let n=r;return r instanceof i.Quaternion&&(this.returnAsQuaternion=!0,n=Object(y.quaternionToDegVector)(r)),this.value=n,Object(y.each)(this.value,(r,n)=>this.childElements[n].setValue(r)),this.value},VectorInput.prototype.dragChangeSetValue=function(r,n,a){Object(y.each)(this.value,(i,o)=>{const s=parseFloat(this.childElements[o].getValue())+r*this.opt.dragChangeAllStep*n;this.childElements[o].setValue(Object(y.checkValues)(s,this.opt)),this.childElements[o].fireOnChange(a,!1,{previewChange:!0})})},VectorInput.prototype.dragChangeEndActions=function(r){this.fireOnChange(r,!1,{dragChangeEnd:!0})},o.a.prototype.addVectorInput=function(r={}){return this.add("VectorInput",r)}},function(r,n,a){"use strict";a.d(n,"b",(function(){return s})),a.d(n,"a",(function(){return NumberInput}));var i=a(370),o=a(373);const s={template:r=>`<div class="wrapper-item ${r.classes}">\n                <label>${r.label}</label>\n                <input \n                  id="${r.id}" \n                  placeholder="${r.placeholder?r.placeholder:""}" \n                  type="${r.clearButton?"search":"text"}" \n                  value="${r.value}"\n                  onClick="this.select();"\n                  data-value="${r.value}"\n                >\n                <div class="error-message"></div>\n            </div>`,defValues:{label:"",value:"",classes:""}},onBlur=function(){this.$InputElement.value<this.minValue&&(this.$InputElement.value=this.minValue.toString(),this.fireOnChange({},!1,{previewChange:!0})),this.$InputElement.value>this.maxValue&&(this.$InputElement.value=this.maxValue.toString(),this.fireOnChange({},!1,{previewChange:!0})),isNaN(this.$InputElement.value)&&(this.$InputElement.value=(this.minValue||0).toString(),this.fireOnChange({},!1,{previewChange:!0}))},NumberInput=function(r,n,a){o.a.call(this,r,n,a),this.onBlurHandler=onBlur.bind(this),this.minValue=n.minValue,this.maxValue=n.maxValue,this.change=this.opt.change,this.$InputElement.addEventListener("blur",this.onBlurHandler)};NumberInput.prototype=Object.create(o.a.prototype),NumberInput.prototype.constructor=NumberInput,NumberInput.prototype.remove=function(){this.$InputElement&&this.$InputElement.removeEventListener("blur",this.onBlurHandler)},NumberInput.prototype.getValue=function(){return(+this.$InputElement.value).toFixed(2)},i.a.prototype.addNumberInput=function(r={}){return this.add("NumberInput",r)}},function(r,n,a){"use strict";a.d(n,"a",(function(){return DropArea})),a.d(n,"b",(function(){return _}));var i=a(370),o=a(373),s=a(66),y=a.n(s);const DropArea=function(r,n,a){o.a.call(this,r,n,a),this.selected=!1},_={template:r=>`<div class="wrapper-item drop-area ${r.classes}">\n                <label>${r.label}</label>\n                <div class="drop-area-area">\n                  <div class="drop-area-inner" id="${r.id}">\n                    <span class="drop-area-text">${r.dropAreaText}</span>\n                  </div>\n                </div>\n            </div>`,defValues:{label:"",value:"",classes:"",dropAreaText:""}};DropArea.prototype=Object.create(o.a.prototype),DropArea.prototype.constructor=DropArea,DropArea.prototype.getValue=function(){return this.value},DropArea.prototype.setValue=function(r){this.value=r},DropArea.prototype.restorText=function(){this.$elementWrapper.querySelector(".drop-area-text").innerHTML=y.a.dropFileHere.split("{{extensions}}").join(this.opt.extensions.join(", "))},i.a.prototype.addDropArea=function(r={}){return r.extensions&&(r.dropAreaText=y.a.dropFileHere.split("{{extensions}}").join(r.extensions.join(", "))),this.add("DropArea",r)}},function(r,n,a){"use strict";a.d(n,"a",(function(){return Text})),a.d(n,"b",(function(){return s}));var i=a(369),o=a(370);const Text=function(r,n,a){i.a.call(this,r,n,a)},s={template:r=>`<div class="${r.classes}" id="${r.id}">${r.text}</div>`,defValues:{classes:"",text:""}};Text.prototype=Object.create(i.a.prototype),Text.prototype.constructor=Text,Text.prototype.setup=function(r){i.a.prototype.setup.call(this,r)},o.a.prototype.addText=function(r={}){return this.add("Text",r)}},function(r,n,a){"use strict";a.d(n,"b",(function(){return s})),a.d(n,"a",(function(){return PasswordInput}));var i=a(373),o=a(370);const s={template:r=>`<div class="wrapper-item ${r.classes}">\n                <label>${r.label}</label>\n                <input \n                  id="${r.id}" \n                  placeholder="${r.placeholder?r.placeholder:""}" \n                  type="password" \n                  value="${r.value}" \n                  data-value="${r.value}"\n                  ${r.pattern?`pattern="${r.pattern}"`:""}" \n                >\n                <div class="error-message"></div>\n            </div>`,defValues:{label:"",value:"",classes:""}},PasswordInput=function(r,n,a){i.a.call(this,r,n,a)};PasswordInput.prototype=Object.create(i.a.prototype),PasswordInput.prototype.constructor=PasswordInput,o.a.prototype.addPasswordInput=function(r={}){return this.add("PasswordInput",r)}},function(r,n,a){"use strict";a.r(n);var i=a(372);a.d(n,"Button",(function(){return i.a}));var o=a(374);a.d(n,"Checkbox",(function(){return o.a}));var s=a(375);a.d(n,"ColorInput",(function(){return s.a}));var y=a(376);a.d(n,"Hr",(function(){return y.a}));var _=a(386);a.d(n,"Text",(function(){return _.a}));var w=a(377);a.d(n,"Range",(function(){return w.a}));var E=a(378);a.d(n,"Select",(function(){return E.a}));var j=a(379);a.d(n,"Switch",(function(){return j.a}));var q=a(380);a.d(n,"TextInput",(function(){return q.a}));var $=a(381);a.d(n,"TextArea",(function(){return $.a}));var ne=a(382);a.d(n,"ThumbButton",(function(){return ne.a}));var ie=a(383);a.d(n,"VectorInput",(function(){return ie.a}));var oe=a(384);a.d(n,"NumberInput",(function(){return oe.a}));var se=a(385);a.d(n,"DropArea",(function(){return se.a}));var le=a(387);a.d(n,"PasswordInput",(function(){return le.a}))},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class ToolPresetComponent extends s.default{constructor(){super(...arguments),this.slotIdx=0,this.tool="",this.thumbnail="",this.data=null}}ToolPresetComponent.componentName="toolPreset",i([y.Property(),o("design:type",Number)],ToolPresetComponent.prototype,"slotIdx",void 0),i([y.Property(),o("design:type",String)],ToolPresetComponent.prototype,"tool",void 0),i([y.Property(),o("design:type",String)],ToolPresetComponent.prototype,"thumbnail",void 0),n.default=ToolPresetComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={tundra:{thumb:"tundra_thumb",name:"Tundra",tags:"Mountain",file:"tundra",rate:4},torns:{thumb:"thorns_thumb",name:"Torns",tags:"Special",file:"thorns",rate:4},swamp:{thumb:"swamp_thumb",name:"Swamp",tags:"Water",file:"swamp",rate:4},sunrise_city:{thumb:"sunrise_city_thumb",name:"Sunrise city",tags:"Special",file:"sunrise_city",rate:4},steppe:{thumb:"steppe_thumb",name:"Steppe",tags:"Special",file:"steppe",rate:4},shiny_mountain:{thumb:"shiny_mountain_thumb",name:"Shiny mountain",tags:"Mountain",file:"shiny_mountain",rate:4},rotten_marsh:{thumb:"rotten_marsh_thumb",name:"Rotten marsh",tags:"Mountain",file:"rotten_marsh",rate:4},red_glow:{thumb:"red_glow_thumb",name:"Red glow",tags:"Sunset",file:"red_glow",rate:4},rays:{thumb:"rays_thumb",name:"Rays",tags:"Mountain",file:"rays",rate:4},rainy_day:{thumb:"rainy_day_thumb",name:"Rainy day",tags:"Clouds",file:"rainy_day",rate:4},palm_beach:{thumb:"palm_beach_thumb",name:"Palm beach",tags:"Water",file:"palm_beach",rate:4},oddlands:{thumb:"oddlands_thumb",name:"Oddlands",tags:"Mountain",file:"oddlands",rate:4},moonshine_lake:{thumb:"moonshine_lake_thumb",name:"Moonshine lake",tags:"Water",file:"moonshine_lake",rate:4},hot_desert:{thumb:"hot_desert_thumb",name:"Hot desert",tags:"Special",file:"hot_desert",rate:4},hot_day:{thumb:"hot_day_thumb",name:"Hot day",tags:"Clouds",file:"hot_day",rate:4},green_hill:{thumb:"green_hill_thumb",name:"Green hill",tags:"Mountain",file:"green_hill",rate:4},goldendust:{thumb:"goldendust_thumb",name:"Golden dust",tags:"Mountain",file:"goldendust",rate:4},golden_sunrise:{thumb:"golden_sunrise_thumb",name:"Golden sunrise",tags:"Sunset",file:"golden_sunrise",rate:4},golden_mountain:{thumb:"golden_mountain_thumb",name:"Golden mountain",tags:"Mountain",file:"golden_mountain",rate:4},golden_day:{thumb:"golden_day_thumb",name:"Golden day",tags:"Sunset",file:"golden_day",rate:4},fresh_water:{thumb:"fresh_water_thumb",name:"Fresh water",tags:"Water",file:"fresh_water",rate:4},forgotten_city:{thumb:"forgotten_city_thumb",name:"Forgotten city",tags:"Special",file:"forgotten_city",rate:4},foglands:{thumb:"foglands_tumb",name:"Foglands",tags:"Mountain",file:"foglands",rate:4},fire_hills:{thumb:"fire_hills_thumb",name:"Fire hills",tags:"Mountain",file:"fire_hills",rate:4},evil_forest:{thumb:"evil_forest_thumb",name:"Evil forest",tags:"Plants",file:"evil_forest",rate:4},evening_hours:{thumb:"evening_hours_thumb",name:"Evening hours",tags:"Sunset",file:"evening_hours",rate:4},desert_oasis:{thumb:"desert_oasis_thumb",name:"Desert oasis",tags:"Water",file:"desert_oasis",rate:4},deep_blue_sea:{thumb:"deep_blue_sea_thumb",name:"Deep blue sea",tags:"Water",file:"deep_blue_sea",rate:4},dark_mountains:{thumb:"dark_mountains_thumb",name:"Dark mountains",tags:"Night",file:"dark_mountains",rate:4},dark_city:{thumb:"dark_city_thumb",name:"Dark city",tags:"Night",file:"dark_city",rate:4},creeps:{thumb:"creeps_thumb",name:"Creeps",tags:"Plants",file:"creeps",rate:4},cloudy_mountain:{thumb:"cloudy_mountain_thumb",name:"Cloudy mountain",tags:"Mountain",file:"cloudy_mountain",rate:4},clouded_night:{thumb:"clouded_night_thumb",name:"Clouded night",tags:"Night",file:"clouded_night",rate:4},caribbean_ocean:{thumb:"caribbean_ocean_thumb",name:"Caribbean ocean",tags:"Water",file:"caribbean_ocean",rate:4},blue_lagoon:{thumb:"blue_lagoon_thumb",name:"Blue lagoon",tags:"Water",file:"blue_lagoon",rate:4},startyNight:{thumb:"startyNight_thumb",name:"Starry sky",tags:"Space",file:"startyNight",rate:4},DeepSpaceGreenWithPlanet:{thumb:"DeepSpaceGreenWithPlanet_thumb",name:"Deep Space Green 2",tags:"Space",file:"DeepSpaceGreenWithPlanet",rate:4},DeepSpaceBlue:{thumb:"DeepSpaceBlue_thumb",name:"Deep Space Blue",tags:"Space",file:"DeepSpaceBlue",rate:4},DeepSpaceGreen:{thumb:"DeepSpaceGreen_thumb",name:"Deep Space Green",tags:"Space",file:"DeepSpaceGreen",rate:4},wilderness:{thumb:"wilderness_thumb",name:"Wilderness",tags:"Forest",file:"wilderness",rate:4},trees_on_the_hill:{thumb:"trees_on_the_hill_thumb",name:"Conifer forest",tags:"Forest",file:"trees_on_the_hill",rate:4},foggy_conifer_forest:{thumb:"foggy_conifer_forest_thumb",name:"Conifer forest",tags:"Mountain",file:"foggy_conifer_forest",rate:4},volcanoes:{thumb:"volcanoes_thumb",name:"Volcanoes",tags:"Mountain",file:"volcanoes",rate:4},fire_hell:{thumb:"fire_hell_thumb",name:"Fire hell",tags:"Mountain",file:"fire_hell",rate:4},magma_stream:{thumb:"magma_stream_thumb",name:"Magma stream",tags:"Mountain",file:"magma_stream",rate:4},bluecrystals:{thumb:"bluecrystals_thumb",name:"Crystal Mountains",tags:"Mountain",file:"bluecrystals",rate:4},bloodland:{thumb:"bloodland_thumb",name:"Blood Mountains",tags:"Mountain",file:"bloodland",rate:4},acidland2:{thumb:"acidland2_thumb",name:"Green land",tags:"Mountain",file:"acidland2",rate:5},redcanyon:{thumb:"Canyons/redcanyon_thumb",name:"Red Canyon",tags:"Mountain",file:"Canyons/redcanyon_2048_6sided",rate:2},spikycanyon:{thumb:"Canyons/spikycanyon_thumb",name:"Spiky Canyon",tags:"Mountain",file:"Canyons/spikycanyon_2048_6sided",rate:4},twistedcanyon:{thumb:"Canyons/twistedcanyon_thumb",name:"Twisted Canyon",tags:"Mountain",file:"Canyons/twistedcanyon_2048_6sided",rate:2},afternoon:{thumb:"Clouds/afternoon_thumb",name:"Afternoon",tags:"Clouds",file:"Clouds/afternoon_2048_6sided",rate:5},dusky_clouds:{thumb:"Clouds/dusk_thumb",name:"Dusky Clouds",tags:"Clouds",file:"Clouds/dusk_2048_6sided",rate:5},noon:{thumb:"Clouds/noon_thumb",name:"Noon",tags:"Clouds",file:"Clouds/noon_2048_6sided",rate:5},forest:{thumb:"Cope/forest_thumb",name:"Forest",tags:"Mountain",file:"Cope/forest_2048_6sided",rate:0},mossymountains:{thumb:"Cope/mossymountains_thumb",name:"Mossy Mountains",tags:"Mountain",file:"Cope/mossymountains_2048_6sided",rate:3},sunsetlakes:{thumb:"Cope/sunsetlakes_thumb",name:"Sunset lakes",tags:"Mountain",file:"Cope/sunsetlakes_2048_6sided",rate:4},etherfog:{thumb:"Ether/etherfog_thumb",name:"Etherfog",tags:"Special",file:"Ether/etherfog_2048_6sided",rate:4},neutrondawn:{thumb:"Ether/neutrondawn_thumb",name:"Neutron Dawn",tags:"Special",file:"Ether/neutrondawn_2048_6sided",rate:4},plasmaspheres:{thumb:"Ether/plasmaspheres_thumb",name:"Plasma Spheres",tags:"Planets",file:"Ether/plasmaspheres_2048_6sided",rate:5},acidland:{thumb:"Fantasy/acidland_thumb",name:"Acid land",tags:"Mountain",file:"Fantasy/acidland_2048_6sided",rate:3},redplanet:{thumb:"Fantasy/redplanet_thumb",name:"Red Planet",tags:"Planets",file:"Fantasy/redplanet_2048_6sided",rate:5},bloomingtrees:{thumb:"Forest/bloomingtrees_thumb",name:"Blooming Trees",tags:"Forest",file:"Forest/bloomingtrees_2048_6sided",rate:0},drywoods:{thumb:"Forest/drywoods_thumb",name:"Drywoods",tags:"Forest",file:"Forest/drywoods_2048_6sided",rate:3},palmforest:{thumb:"Forest/palmforest_thumb",name:"Palm Forest",tags:"Forest",file:"Forest/palmforest_2048_6sided",rate:2},coldhell:{thumb:"Freeze/coldhell_thumb",name:"Cold hell",tags:"Freeze",file:"Freeze/coldhell_2048_6sided",rate:4},iceshards:{thumb:"Freeze/iceshards_thumb",name:"Ices Hards",tags:"Freeze",file:"Freeze/iceshards_2048_6sided",rate:5},snowmountains:{thumb:"Freeze/snowmountains_thumb",name:"Snow Mountains",tags:"Freeze",file:"Freeze/snowmountains_2048_6sided",rate:4},cactilakes:{thumb:"Lakes/cactilakes_thumb",name:"Cacti Lakes",tags:"Water",file:"Lakes/cactilakes_2048_6sided",rate:4},craterlakes:{thumb:"Lakes/craterlakes_thumb",name:"Crater Lakes",tags:"Water",file:"Lakes/craterlakes_2048_6sided",rate:3},sandstonelakes:{thumb:"Lakes/sandstonelakes_thumb",name:"Sandstone Lakes",tags:"Water",file:"Lakes/sandstonelakes_2048_6sided",rate:5},grassy_mountains:{thumb:"Mountain/grassy_mountains_thumb",name:"Grassy Mountains",tags:"Mountain",file:"Mountain/grassy_mountains_2048_6sided",rate:2},ice_mountains:{thumb:"Mountain/ice_mountains_thumb",name:"Ice Mountains",tags:"Mountain",file:"Mountain/ice_mountains_2048_6sided",rate:5},rugged_mountains:{thumb:"Mountain/rugged_mountains_thumb",name:"Rugged Mountains",tags:"Mountain",file:"Mountain/rugged_mountains_2048_6sided",rate:5},foggynight:{thumb:"Night/foggynight_thumb",name:"Foggy Night",tags:"Night",file:"Night/foggynight_2048_6sided",rate:3},fullmoon:{thumb:"Night/fullmoon_thumb",name:"Fullmoon",tags:"Night",file:"Night/fullmoon_2048_6sided",rate:5},nightmountains:{thumb:"Night/nightmountains_thumb",name:"Night Mountains",tags:"Night",file:"Night/nightmountains_2048_6sided",rate:4},asteroid:{thumb:"Planets/asteroid_thumb",name:"Asteroid",tags:"Planets",file:"Planets/asteroid_2048_6sided",rate:5},greenconstellation:{thumb:"Planets/greenconstellation_thumb",name:"Green Constellation",tags:"Planets",file:"Planets/greenconstellation_2048_6sided",rate:5},stratosphere:{thumb:"Planets/stratosphere_thumb",name:"Stratosphere",tags:"Planets",file:"Planets/stratosphere_2048_6sided",rate:5},grassland:{thumb:"Plants/grassland_thumb",name:"Grassland",tags:"Plants",file:"Plants/grassland_2048_6sided",rate:2},plantinvasion:{thumb:"Plants/plantinvasion_thumb",name:"Plant Invasion",tags:"Plants",file:"Plants/plantinvasion_2048_6sided",rate:0},redflowers:{thumb:"Plants/redflowers_thumb",name:"Red Flowers",tags:"Plants",file:"Plants/redflowers_2048_6sided",rate:2},magmashards:{thumb:"Special/magmashards_thumb",name:"Magma Shards",tags:"Special",file:"Special/magmashards_2048_6sided",rate:3},purplesky:{thumb:"Special/purplesky_thumb",name:"Purple Sky",tags:"Special",file:"Special/purplesky_2048_6sided",rate:4},silvermountains:{thumb:"Special/silvermountains_thumb",name:"Silver Mountains",tags:"Special",file:"Special/silvermountains_2048_6sided",rate:1},canyon_trees:{thumb:"Sunset/canyon_trees_thumb",name:"Canyon Trees",tags:"Sunset",file:"Sunset/canyon_trees_2048_6sided",rate:0},sunset_cornfield:{thumb:"Sunset/sunset_cornfield_thumb",name:"Sunset Cornfield",tags:"Sunset",file:"Sunset/sunset_cornfield_2048_6sided",rate:1},sunset_lake:{thumb:"Sunset/sunset_lake_thumb",name:"Sunset Lake",tags:"Sunset",file:"Sunset/sunset_lake_2048_6sided",rate:5},algae:{thumb:"Water/algae_thumb",name:"Algae",tags:"Water",file:"Water/algae_2048_6sided",rate:5},dusky_water:{thumb:"Water/dusk_thumb",name:"Dusky Water",tags:"Water",file:"Water/dusk_2048_6sided",rate:5},sandy:{thumb:"Water/sandy_thumb",name:"Valerian Sky",tags:"Water",file:"Water/sandy_2048_6sided",rate:5},grimmnight:{thumb:"Night/grimmnight_thumb",name:"Grimm Night",tags:"Night",file:"Night/grimmnight",origin:{license:"CC-BY 3.0",url:"http://www.zfight.com",source:"https://forums.epicgames.com/unreal-tournament-2003-2004/ut2004-level-editing-modeling-skinning/108243-my-skies-and-and-cliff-textures-large-images",credits:"Jockum Skoglund"},rate:5},interstellar:{thumb:"Space/interstellar_thumb",name:"Interstellar",tags:"Clouds",file:"Space/interstellar",origin:{license:"CC-BY 3.0",url:"http://www.zfight.com",source:"https://forums.epicgames.com/unreal-tournament-2003-2004/ut2004-level-editing-modeling-skinning/108243-my-skies-and-and-cliff-textures-large-images",credits:"Jockum Skoglund"},rate:5},miramar:{thumb:"Clouds/miramar_thumb",name:"Miramar",tags:"Clouds",file:"Clouds/miramar",origin:{license:"CC-BY 3.0",url:"http://www.zfight.com",source:"https://forums.epicgames.com/unreal-tournament-2003-2004/ut2004-level-editing-modeling-skinning/108243-my-skies-and-and-cliff-textures-large-images",credits:"Jockum Skoglund"},rate:5},stormydays:{thumb:"Clouds/stormydays_thumb",name:"Stormy days",tags:"Clouds",file:"Clouds/stormydays",origin:{license:"CC-BY 3.0",url:"http://www.zfight.com",source:"https://forums.epicgames.com/unreal-tournament-2003-2004/ut2004-level-editing-modeling-skinning/108243-my-skies-and-and-cliff-textures-large-images",credits:"Jockum Skoglund"},rate:5},violentdays:{name:"Violent Days",thumb:"Clouds/violentdays_thumb",tags:"Clouds",file:"Clouds/violentdays",origin:{license:"CC-BY 3.0",url:"http://www.zfight.com",source:"https://forums.epicgames.com/unreal-tournament-2003-2004/ut2004-level-editing-modeling-skinning/108243-my-skies-and-and-cliff-textures-large-images",credits:"Jockum Skoglund"},rate:5}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(8),o=a(140),s=a(145),y=a(18),_=a(66),w=a(13),E=a(32),j=a(392),q=a(393),$=a(40);class OverlaySystem extends $.default{constructor(){super(...arguments),this.flashMessageDiv=null,this.crosshairHidersId=null,this.unlock=r=>{this.touchMoveKiller(r),this.$mainWrapper.removeEventListener("touchstart",this.unlock),this.$mainWrapper.removeEventListener("touchend",this.unlock),this.$mainWrapper.removeEventListener("mousedown",this.unlock),this.$mainWrapper.removeEventListener("touchmove",this.touchMoveKiller),this.$mainWrapper.removeEventListener("mousemove",this.touchMoveKiller),this.$overlayWrapper.classList.add("no-event"),this.$startMessageDiv&&this.fadeOut(this.$startMessageDiv),s.default.superShow(),i.entityManager.emit("initContext"),i.inputManager.enableChannel(o.InputChannel.DEFAULT)}}touchMoveKiller(r){r.cancelable&&(r.preventDefault(),r.stopPropagation())}onInit(){this.$mainWrapper=document.body.querySelector(".main-wrapper"),this.$container=this.$mainWrapper.querySelector(".preview"),this.$container.insertAdjacentHTML("beforeend",'<div id="overlay-main-wrapper" class="overlay overlay-main-wrapper"></div>'),this.$overlayWrapper=document.body.querySelector("#overlay-main-wrapper"),this.$mainWrapper.addEventListener("touchstart",this.unlock,!1),this.$mainWrapper.addEventListener("touchend",this.unlock,!1),this.$mainWrapper.addEventListener("mousedown",this.unlock,!1),this.$mainWrapper.addEventListener("touchmove",this.touchMoveKiller),this.$mainWrapper.addEventListener("mousemove",this.touchMoveKiller);let r=_.default.clickToStart;y.default.isMobile()&&(r=_.default.touchToStarh),w.isPublishMode||(this.$startMessageDiv=this.fadeIn({html:'<i class="far fa-play-circle"></i> '+r,color:"transparent",classes:"puls",hideCrossHair:!0})),s.default.superHide(),new q.TapListener(this.$overlayWrapper,i.audioListener.context)}insert(r={}){const n=document.createElement("div");return n.setAttribute("class","overlay-item "+(r.classes?r.classes:"")),r.styles&&n.setAttribute("style",r.styles),r.html&&(n.innerHTML=`\n        <div class="overlay-inner">\n        ${r.emoji?`<div class="emoji-wrapper">${r.emoji}</div>`:""}\n        ${r.html}\n        </div>\n      `),r.clickable?(n.classList.add("overlay"),document.body.appendChild(n)):this.$overlayWrapper.appendChild(n),n.id="oldiv"+j.createId(),n}damage(r={}){let n="background-color: rgba(195, 0, 0, 0.7); color: #fff;";r.angle&&(n=`background: linear-gradient(${r.angle}deg, rgba(140, 1, 17, 0), rgba(140, 1, 17, 0.1), rgba(140, 1, 17, 1)); color: #fff;`),this.flash({html:r.html,styles:n})}flash(r={}){const n=r.styles||"background-color: rgba(255, 255, 255, 1); color: #000;",a=this.insert({html:r.html,classes:"flash",styles:n}),atTheEnd=()=>{a.removeEventListener("webkitAnimationEnd",atTheEnd),a.removeEventListener("animationend",atTheEnd),this.$overlayWrapper.removeChild(a),r.callback&&r.callback()};a.addEventListener("webkitAnimationEnd",atTheEnd),a.addEventListener("animationend",atTheEnd)}fadeInClickOverlay(r){const n=this.insert({clickable:!0,classes:"fladeIn overlay-gray",styles:"background-color: rgba(0,0,0,0.7)"}),clickHandler=n=>{n.preventDefault(),r()};return n.addEventListener("click",clickHandler),n.addEventListener("touchStart",clickHandler),{fadeOut:()=>new Promise(r=>{n.classList.remove("fladeIn"),n.classList.add("fladeOut");const animationEnd=()=>{n.removeEventListener("webkitAnimationEnd",animationEnd),n.removeEventListener("animationend",animationEnd),n.removeEventListener("click",clickHandler),n.removeEventListener("touchStart",clickHandler),n.parentNode&&n.parentNode.removeChild(n),r()};n.addEventListener("webkitAnimationEnd",animationEnd),n.addEventListener("animationend",animationEnd)}),animation:new Promise(r=>{const animationEnd=()=>{n.removeEventListener("webkitAnimationEnd",animationEnd),n.removeEventListener("animationend",animationEnd),r()};n.addEventListener("webkitAnimationEnd",animationEnd),n.addEventListener("animationend",animationEnd)})}}fadeIn(r={}){const n=r.color?r.color:"#fff",a=this.insert({html:r.html,emoji:r.emoji,classes:"fladeIn "+(r.classes?r.classes:""),styles:r.styles?r.styles:`background-color: ${n}; color: #000;`});r.hideCrossHair&&(this.crosshairHidersId=a.id,s.default.hide());const atTheEnd=()=>{a.removeEventListener("webkitAnimationEnd",atTheEnd),a.removeEventListener("animationend",atTheEnd),r.callback&&r.callback(a)};return a.addEventListener("webkitAnimationEnd",atTheEnd),a.addEventListener("animationend",atTheEnd),a}fadeOut(r,n=null,a=!1){r.classList.remove("fladeIn"),a?r.classList.add("fladeOutFast"):r.classList.add("fladeOut");const atTheEnd=()=>{r.removeEventListener("webkitAnimationEnd",atTheEnd),r.removeEventListener("animationend",atTheEnd),r.parentNode&&this.$overlayWrapper.removeChild(r),n&&n(),r&&this.crosshairHidersId===r.id&&(s.default.show(),this.crosshairHidersId=null)};r.addEventListener("webkitAnimationEnd",atTheEnd),r.addEventListener("animationend",atTheEnd)}flashNewDiv(r,n=1500,a=null,i={}){return this.fadeIn({html:r,color:"transparent;",classes:i.classes||"",emoji:i.emoji,hideCrossHair:i.hideCrossHair,callback:r=>{E.setTimeout(()=>{this.fadeOut(r,()=>{a&&a()})},n)}})}flashMessage(r,n=1500,a=null,i={}){for(const n of Object.keys(i))r=r.split("{{"+n+"}}").join(i[n]);this.flashMessageDiv?this.fadeOut(this.flashMessageDiv,()=>{this.flashMessageDiv=this.flashNewDiv(r,n,()=>{this.flashMessageDiv=null,a&&a(),s.default.show()},i)},!0):this.flashMessageDiv=this.flashNewDiv(r,n,()=>{this.flashMessageDiv=null,a&&a()},i)}removeElement(r){r&&this.$overlayWrapper.removeChild(r)}onDispose(){this.$overlayWrapper.parentNode&&this.$overlayWrapper.parentNode.removeChild(this.$overlayWrapper),this.$mainWrapper=null,this.$container=null,this.$overlayWrapper=null,super.onDispose()}}n.default=OverlaySystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createId=void 0;let i=0;n.createId=()=>performance.now().toString(36).replace(".","")+(i++%1024).toString(36)},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.TapListener=void 0;const i=a(394);n.TapListener=class TapListener{constructor(r,n){this._dragged=!1,this._element=r,this._bindedMove=this._moved.bind(this),this._bindedEnd=this._ended.bind(this,n),r.addEventListener("touchstart",this._bindedEnd),r.addEventListener("touchmove",this._bindedMove),r.addEventListener("touchend",this._bindedEnd),r.addEventListener("mouseup",this._bindedEnd)}_moved(r){this._dragged=!0}_ended(r){this._dragged||(console.log("Start audio context!!!"),i.toggleFullscreen(),function startContext(r){const n=r.createBuffer(1,1,r.sampleRate),a=r.createBufferSource();a.buffer=n,a.connect(r.destination),a.start(0),r.resume&&r.resume()}(r)),this._dragged=!1,this.dispose()}dispose(){this._element.removeEventListener("touchstart",this._bindedEnd),this._element.removeEventListener("touchmove",this._bindedMove),this._element.removeEventListener("touchend",this._bindedEnd),this._element.removeEventListener("mouseup",this._bindedEnd),this._bindedMove=null,this._bindedEnd=null,this._element=null}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.toggleFullscreen=void 0;const i=a(6);n.toggleFullscreen=r=>{const n=window.document,a=n.documentElement;if(i.default.isNative)return;const o=a.requestFullscreen||a.mozRequestFullScreen||a.webkitRequestFullScreen||a.msRequestFullscreen,s=n.exitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen||n.msExitFullscreen;o&&(r?o.call(a):n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement?s.call(n):o.call(a))}},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(156),w=a(18),E=a(155),j=a(169),q=a(19),$=a(36),ne=a(37),ie=a(40),oe=a(41),se=a(335),le=a(154),pe=a(197),he=new q.Vector3(0,1,0);class AvatarAnimationSystem extends ie.default{constructor(){super(),this.tmpVec1=new q.Vector3,this.tmpQuaternion=new q.Quaternion,this.tmpQuaternion2=new q.Quaternion,this.time=0}updateTick(r,n){this.time+=n;for(const r of this.entityGroup.entities){const{node:a,avatar:i,characterController:o,health:s}=r,{onGround:y,localVelocity:_,velocity:E}=o;if(!i.animations.running||i.state===le.AvatarState.DANCING_GOAL){le.checkTransition(r,this.entityManager);continue}const q=_.length(),$=o.direction.lengthSq();if(s&&s.isDead?i.transitionTo(le.AvatarState.DEATH):o.canAirWalk&&o.enableAirWalk?i.transitionTo(le.AvatarState.FALLING):!y&&E.y>0?i.transitionTo(le.AvatarState.JUMPING):!y&&E.y<0?i.transitionTo(le.AvatarState.FALLING):q>.2&&y&&$>.001?i.transitionTo(le.AvatarState.MOVING):(q<=.2||$<.001)&&i.state!==le.AvatarState.EMOTE_1&&i.state!==le.AvatarState.IDLE&&i.transitionTo(le.AvatarState.IDLE),le.checkTransition(r,this.entityManager),$>1e-5){const r=Math.atan2(o.direction.x,o.direction.z);i.directionAngle=r}if(i.state===le.AvatarState.MOVING){i.lastStep+=q*n,i.lastStep>1.6&&(this.tmpVec1.set(0,-.5,0),this.audioSystem.playMixedPositionalSound(le.avatarSteps,this.tmpVec1,.13*j.AUDIO_DEFAULT_VOLUME,j.AUDIO_DEFAULT_REF_DISTANCE,.8,50,r.uid).node.isStatic=!1,i.lastStep=0);const o=10,s=Math.atan2(_.x/q,_.z/q),y=Math.atan2(i.lookDirection.x,i.lookDirection.z);let E=Math.min(Math.max(-q*(i.lastDirectionAngle-s),-.2),.2)*i.tiltFactor;i.lastDirectionAngle=s,this.tmpQuaternion.setFromAxisAngle(he,i.directionAngle),this.tmpQuaternion2.setFromAxisAngle(he,y).conjugate();const $=this.tmpQuaternion.premultiply(this.tmpQuaternion2),ne=w.default.getRoll($),ie=1-q/6.67,oe=.5*Math.PI,se=w.default.interpolate(-oe,oe,ne),pe=w.default.interpolate(0,Math.PI,ne),me=w.default.interpolate(0,-Math.PI,ne);i.animations.walking.timeScale=q/5.1,i.animations.running.timeScale=q/5.1,i.animations.leftStrafe.timeScale=q/4,i.animations.rightStrafe.timeScale=q/4;let ge=!1;(ne>1.8&&ne<=Math.PI||ne<-1.8&&ne>=-Math.PI)&&(E*=-1,ge=!0),i.tiltAngle+=o*n*(E-i.tiltAngle);const ye=o*n*(ie-i.animations.walking.weight),_e=o*n*(se-i.animations.running.weight),ve=o*n*((ge?me:pe)-i.animations.leftStrafe.weight),Se=o*n*((ge?pe:me)-i.animations.rightStrafe.weight);i.animations.walking.weight+=ye,i.animations.running.weight+=_e,i.animations.leftStrafe.weight+=ve,i.animations.rightStrafe.weight+=Se,i.animations.leftStrafe.time=i.animations.running.time,i.animations.rightStrafe.time=i.animations.running.time+.5,ge&&(i.animations.running.weight=1,i.animations.running.timeScale=-q/5.1),this.tmpQuaternion.setFromAxisAngle(he,y),this.tmpVec1.set(0,0,-1),this.tmpVec1.applyQuaternion(this.tmpQuaternion),this.tmpQuaternion2.setFromAxisAngle(this.tmpVec1,i.tiltAngle),this.tmpQuaternion.premultiply(this.tmpQuaternion2),a.rotation.x=this.tmpQuaternion.x,a.rotation.y=this.tmpQuaternion.y,a.rotation.z=this.tmpQuaternion.z,a.rotation.w=this.tmpQuaternion.w}else if(!(i.state===le.AvatarState.EMOTE_1||s&&s.isDead)){const r=Math.atan2(i.lookDirection.x,i.lookDirection.z);this.tmpQuaternion.setFromAxisAngle(he,r),a.rotation.slerp(this.tmpQuaternion,10*n)}}}}AvatarAnimationSystem.order=70,s([$.InjectGroup(oe.default,pe.default,se.default),y("design:type","function"==typeof(i=void 0!==ne.default&&ne.default)?i:Object)],AvatarAnimationSystem.prototype,"entityGroup",void 0),s([_.InjectSystem(()=>E.default),y("design:type","function"==typeof(o=void 0!==E.default&&E.default)?o:Object)],AvatarAnimationSystem.prototype,"audioSystem",void 0),n.default=AvatarAnimationSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(198),_=a(36),w=a(37),E=a(40),j=a(41),q=a(335),$=a(197);class AvatarEffectSystem extends E.default{constructor(){super(),this.time=0}static particleEffectForVisual(r){switch(r){case y.Visual.fiery:return"powerup_chili_character";case y.Visual.smoke_And_Blink:return"powerup_smoke_character";default:return null}}updateTick(r,n){this.time+=n;for(let r=0;r<this.entityGroup.length;r++){const{avatar:a}=this.entityGroup.entities[r];if(!a.mesh||!a.mesh.material)continue;const i=a.mesh.material.uniforms.highlightColor.value,o=a.mesh.material.uniforms.highlightTime.value;if(!(this.time<o+5))if(a.visualTimeLeft>0)if(a.visualTimeLeft-=n,a.mesh.material.uniforms.legacyHighlight.value=!0,this.shouldHideThisTick(a.visualTimeLeft))i.set(0,0,0);else switch(a.visual){case y.Visual.none:break;case y.Visual.rainbow:this.rainbow(i);break;case y.Visual.blink:case y.Visual.smoke_And_Blink:this.blink(i);break;case y.Visual.yellow:this.yellow(i);break;case y.Visual.fiery:this.fiery(i);break;case y.Visual.blue:this.blueShield(i)}else i.set(0,0,0),a.mesh.material.uniforms.legacyHighlight.value=!1}}shouldHideThisTick(r){if(r<2){const n=(2-r)/2;return this.wave(this.time*(2+5*n))>.6}}rainbow(r){const n=2*Math.PI/3;r.x=.4*this.wave2(10*this.time),r.y=.4*this.wave2(10*this.time+n),r.z=.4*this.wave2(10*this.time+2*n)}fiery(r){r.x=.7,r.y=0+.1*this.wave(10*this.time+2.0943951023931953),r.z=0}yellow(r){r.x=.9,r.y=.7+.1*this.wave(10*this.time+2.0943951023931953),r.z=0}blueShield(r){r.x=0,r.y=.25+.25*this.wave(10*this.time+2.0943951023931953),r.z=.8}blink(r){const n=2*Math.PI/3;r.x=.2+.3*this.wave(20*this.time+n),r.y=.2+.3*this.wave(20*this.time+n),r.z=.2+.3*this.wave(20*this.time+n)}wave(r){return Math.sin(r)/3.14+.5}wave2(r){return 1.5*Math.sin(r)/3.14+.1}}AvatarEffectSystem.order=50,o([_.InjectGroup(j.default,$.default,q.default),s("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],AvatarEffectSystem.prototype,"entityGroup",void 0),n.default=AvatarEffectSystem},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(19),w=a(36),E=a(37),j=a(40),q=a(197),$=a(41),ne=a(335),ie=a(337),oe=a(398),se=new _.Vector3(0,1,0);class AvatarTestSystem extends j.default{constructor(){super(...arguments),this.tmpVec1=new _.Vector3,this.tmpQuaternion=new _.Quaternion,this.time=0}onInit(){}updateTarget(r){let n=r.currentTarget,a=0;for(;n===r.currentTarget&&(n=Math.floor(Math.random()*r.targets.length),!(n!==r.currentTarget||a++>5)););r.currentTarget=n}updateTick(r,n){var a;this.time+=n;for(const r of this.entityGroup.entities){const{node:n,characterController:i,avatar:o,avatarTest:s}=r;i.direction.set(0,0,-1);let y=0;const _=s.targets[s.currentTarget];this.tmpVec1.copy(n.position).sub(_),this.tmpVec1.y=0;const w=this.tmpVec1.length();this.tmpVec1.normalize(),Math.random()>.95&&this.updateTarget(s),w<.1&&this.updateTarget(s),y=Math.atan2(this.tmpVec1.x,this.tmpVec1.z),this.tmpQuaternion.setFromAxisAngle(se,y),Math.random()<.05&&(null===(a=i.object)||void 0===a||a.jump()),i.direction.applyQuaternion(this.tmpQuaternion),o.lookDirection.copy(i.direction)}}}AvatarTestSystem.order=50,s([w.InjectGroup($.default,q.default,ne.default,oe.default),y("design:type","function"==typeof(i=void 0!==E.default&&E.default)?i:Object)],AvatarTestSystem.prototype,"entityGroup",void 0),s([w.InjectGroup($.default,q.default,ne.default,ie.default),y("design:type","function"==typeof(o=void 0!==E.default&&E.default)?o:Object)],AvatarTestSystem.prototype,"playerGroup",void 0),n.default=AvatarTestSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26),_=a(19);class AvatarTestComponent extends s.default{constructor(){super(...arguments),this.object=null,this.time=0,this.currentTarget=0,this.targets=[new _.Vector3(4,0,5),new _.Vector3(4,0,-5),new _.Vector3(6,0,0),new _.Vector3(3,0,0)]}}AvatarTestComponent.componentName="avatarTest",i([y.Property(),o("design:type",Object)],AvatarTestComponent.prototype,"time",void 0),i([y.Property(),o("design:type",Number)],AvatarTestComponent.prototype,"currentTarget",void 0),i([y.Property(),o("design:type",Array)],AvatarTestComponent.prototype,"targets",void 0),n.default=AvatarTestComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(40);class InventorySystem extends i.default{constructor(){super()}}InventorySystem.order=5,n.default=InventorySystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(19),_=a(36),w=a(37),E=a(40),j=a(41);class ApplyNodeTransformSystem extends E.default{constructor(){super(...arguments),this.vectorZero=new y.Vector3(0,0,0),this.tmpTransform1=new j.Transform,this.tmpTransform2=new j.Transform}updateFrame(r,n){for(let n=0,a=this.entityGroup.entities.length;n<a;++n){const a=this.entityGroup.entities[n],{node:i}=a,o=a.node.prevAbsoluteTransform,s=a.node.getAbsoluteTransform(this.tmpTransform1);if(i.object)if(i.skipInterpolate)i.object.position.copy(s.position),i.object.quaternion.copy(s.rotation),i.object.scale.copy(s.scale),i.isDirty=!0;else{const n=j.interpolateTransforms(this.tmpTransform2,o,s,r);i.object.position.copy(n.position),i.object.scale.copy(n.scale),i.object.quaternion.copy(n.rotation),i.isDirty=!0}}}}ApplyNodeTransformSystem.order=900,o([_.InjectGroup(j.default),s("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],ApplyNodeTransformSystem.prototype,"entityGroup",void 0),n.default=ApplyNodeTransformSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(37),w=a(40),E=a(41);class SavePreviousNodeTransformSystem extends w.default{constructor(){super(...arguments),this.tmpTransform=new E.Transform}updateTick(r,n){for(let r=0,n=this.entityGroup.length;r<n;r++){const n=this.entityGroup.entities[r],a=n.node.getAbsoluteTransform(this.tmpTransform);n.node.prevAbsoluteTransform.copy(a)}}}SavePreviousNodeTransformSystem.order=0,o([y.InjectGroup(E.default),s("design:type","function"==typeof(i=void 0!==_.default&&_.default)?i:Object)],SavePreviousNodeTransformSystem.prototype,"entityGroup",void 0),n.default=SavePreviousNodeTransformSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(40),_=a(36),w=a(41),E=a(37);class UnDirtySystem extends y.default{updateFrame(r,n){for(let r=0,n=this.entityGroup.entities.length;r<n;++r){const{node:n}=this.entityGroup.entities[r];n.isDirty&&(n.isDirty=!1)}}}UnDirtySystem.order=1999,o([_.InjectGroup(w.default),s("design:type","function"==typeof(i=void 0!==E.default&&E.default)?i:Object)],UnDirtySystem.prototype,"entityGroup",void 0),n.default=UnDirtySystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(292),_=a(36),w=a(37),E=a(40),j=a(43),q=a(8),$=a(178),ne=a(41),ie=a(19),oe=a(404),se=a(405),le=a(301),pe=a(406),he=a(215);class LegacyParticleSystem extends E.default{constructor(){super(...arguments),this.particleGroups=new Map,this.particleEmitterPools=new Map,this.vec3=new ie.Vector3}onInit(){this.entityGroup.on("entityAdded",this.onEntityAdded,this),this.entityGroup.on("entityRemoved",this.onEntityRemoved,this)}getGroup(r){const n=pe.default.groups[r]||pe.default.groups.default;let a=this.particleGroups.get(r);if(!a){const i=Object.assign({},n,{texture:{value:null}});i.scale=300*window.innerHeight/1280,a=new he.default.Group(i),q.assetManager.getLoader($.TextureLoader).load({name:n.texture,type:"diffuse"}).then(r=>{a.uniforms.u_texture.value=r}),this.particleGroups.set(r,a),a.mesh.frustumCulled=!1,q.noAOScene.add(a.mesh)}return a}releaseEmitter(r){const n=`${r.groupName}_${r.presetName}`;this.particleEmitterPools.get(n).push(r)}allocateEmitter(r){const n=pe.default.emitters[r];n||console.error(`Emitter ${r} does not exist`);const a=this.getGroup(n.group),i=`${n.group}_${r}`;let o=this.particleEmitterPools.get(i);o||(o=[],this.particleEmitterPools.set(i,o));let s=o.length&&o.splice(0,1)[0];return s||(s=new he.default.Emitter(n),s.presetName=r,s.groupName=n.group,s.presetPositionOffset=new ie.Vector3,n.position.relativeOffset&&s.presetPositionOffset.copy(n.position.relativeOffset),a.addEmitter(s)),s.duration=n.duration||.5,s}allocateEmitters(r){const n=pe.default.presets[r];return n?n.map(r=>this.allocateEmitter(r)):(console.log("No particle effect preset named "+r),null)}preAllocateEffect(r){const n=this.allocateEmitters(r);for(const r of n)this.releaseEmitter(r)}getEffectLength(r){var n,a;const i=pe.default.presets[r];if(!i)return console.log("No particle effect preset named "+r),null;let o=0;for(let r=0;r<i.length;r++){const s=pe.default.emitters[i[r]];o=Math.max(s.duration||0,((null===(n=s.maxAge)||void 0===n?void 0:n.value)||0)+((null===(a=s.maxAge)||void 0===a?void 0:a.spread)||0))}return o}playEffect(r,n){if(!j.atleast(j.cfg.particleEffects,j.SettingLevel.HIGH))return;const a=this.getEffectLength(r);if(!a)return;const i=this.entityManager.create();this.entityManager.addComponentBegin(i,ne.default).position.copy(n);const o=this.entityManager.addComponentBegin(i,le.default);return o.preset=r,o.runOnce=!0,this.entityManager.addComponentBegin(i,y.default).ticksLeft=Math.ceil(1e3*a/this.entityManager.tickTimeMs),this.entityManager.addComponentFinalize(),i}onEntityAdded(r){const{node:n,legacyParticleEffect:a}=r,i="portal"===a.preset||"portal_version1"===a.preset||"portal_version2"===a.preset;if(!j.atleast(j.cfg.particleEffects,j.SettingLevel.HIGH)&&!i)return;const o=this.allocateEmitters(a.preset);if(o){a.time=0;for(const r of o)a.emitters.push(r),r.position.value.copy(n.position),r.position.value=r.position.value,a.runOnce||(r.duration=null),r.enable(),(a.runOnce||r.runOnce)&&(a.endTime=Math.max(a.endTime,r.duration,r.maxAge.value+r.maxAge.spread))}}onEntityRemoved(r){const{legacyParticleEffect:n}=r;for(const r of n.emitters)r.disable(),this.releaseEmitter(r);n.emitters.length=0}updateTick(r,n){if(!j.atleast(j.cfg.particleEffects,j.SettingLevel.HIGH))for(let r=0;r<this.entityGroup.length;r++){const n=this.entityGroup.entities[r],{legacyParticleEffect:a}=n;if("portal"!==a.preset&&"portal_version1"!==a.preset&&"portal_version2"!==a.preset){for(const r of a.emitters)r.disable(),this.releaseEmitter(r);a.emitters.length=0}}for(let r=0;r<this.entityGroup.length;r++){const n=this.entityGroup.entities[r],{legacyParticleEffect:a}=n;if(a.disableInStudio){const r=this.entityManager.hasComponent(n,oe.default),i=this.entityManager.hasComponent(n,se.default);for(const n of a.emitters)r||i?n.disable():n.enable()}}}updateFrame(r,n){for(let r=0;r<this.entityGroup.length;r++){const a=this.entityGroup.entities[r],{legacyParticleEffect:i,node:o}=a;i.time+=n;for(let r=0;r<i.emitters.length;r++){const n=i.emitters[r];this.vec3.copy(i.offset),n.presetPositionOffset&&this.vec3.add(n.presetPositionOffset),this.vec3.multiply(o.scale).applyQuaternion(o.rotation),n.position.value.copy(o.object.position).add(this.vec3),n.position.value=n.position.value,n.position.value.add(this.vec3)}if(i.runOnce&&i.time>i.endTime){for(let r=0;r<i.emitters.length;r++){const n=i.emitters[r];n.disable(),this.releaseEmitter(n),this.entityManager.removeComponent(a,le.default)}i.emitters.length=0}}for(const r of this.particleGroups.values())r.tick(n)}}LegacyParticleSystem.order=901,o([_.InjectGroup(ne.default,le.default),s("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],LegacyParticleSystem.prototype,"entityGroup",void 0),n.default=LegacyParticleSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class PlaceGhostComponent extends s.default{constructor(){super(...arguments),this.originalOpacity=1}}PlaceGhostComponent.componentName="placeGhost",i([y.Property(),o("design:type",Object)],PlaceGhostComponent.prototype,"originalOpacity",void 0),n.default=PlaceGhostComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(24);class GrabbedComponent extends i.default{}GrabbedComponent.componentName="grabbed",n.default=GrabbedComponent},function(r,n,a){"use strict";a.r(n);var i=a(19),o=a(215);const s={emitters:{},groups:{},presets:{}};s.presets.smallExplosion=["smallSmoke","smallExplosion"],s.presets.killEffect=["killEffect","killEffect_explosion","killEffect_explosion2"],s.presets.explosion=["smoke","explosion"],s.presets.smoke=["smoke"],s.presets.powerup_speed=["powerup_speed"],s.presets.glow_lightGreen=["glow_lightGreen"],s.presets.powerup_smoke_character=["powerup_smoke_character"],s.presets.powerup_blue=["powerup_blue","powerup_electric"],s.presets.powerup_chili_character=["powerup_chili_character_fire","powerup_chili_character_smoke"],s.presets.powerup_chili=["powerup_chili"],s.presets.collectible=["collectible"],s.presets.megaExplosion=["megaExplosion"],s.presets.fireworks=["fireworks"],s.presets.hit_sparks=["hit_sparks"],s.presets.plasma_hit_small=["plasma_hit_small"],s.presets.plasma_hit=["plasma_hit"],s.presets.ice_break=["ice_break"],s.presets.hit_sparks_smoke=["hit_sparks_smoke"],s.presets.medium_fire=["medium_fire1","medium_fire2"],s.presets.fire=["large_fire1","large_fire2"],s.presets.fire_flame=["small_fire1","small_fire2","small_fire_smoke"],s.presets.fire_small=["fire_small"],s.presets.stream=["stream"],s.presets.maxProjectile=["maxProjectile"],s.presets.blue_fire_small=["blue_fire_small"],s.presets.yellowGlow=["yellowGlow"],s.presets.hintGlow=["hintGlow1","hintGlow2","hintGlow3"],s.presets.blueHintGlow=["blueHintGlow"],s.presets.missile=["missile"],s.presets.portal=["portal_layer1"],s.presets.portal_version1=["portal_layer1_version1","portal_layer2_version1"],s.presets.portal_version2=["portal_layer1_version2","portal_layer2_version2","portal_background"],s.presets.finishLine=["finishLine"],s.presets.trail=["trail"],s.groups.default={texture:"particle2",fog:!0,maxParticleCount:2e4,depthTest:!0,depthWrite:!1,blending:i.AdditiveBlending},s.groups.fading={texture:"particle2",fog:!0,maxParticleCount:2e4,depthTest:!0,depthWrite:!1,blending:i.NormalBlending},s.groups.smoke={texture:"smokeParticle",fog:!0,maxParticleCount:1e4,depthTest:!0,depthWrite:!1,blending:i.AdditiveBlending},s.groups.normalSmoke={texture:"smokeParticle",fog:!0,maxParticleCount:1e4,depthTest:!0,depthWrite:!1,blending:i.NormalBlending},s.groups.particleWave={texture:"particle2",fog:!0,maxParticleCount:4e4,depthTest:!0,depthWrite:!1,blending:i.AdditiveBlending},s.emitters.fireworks={group:"default",type:o.default.distributions.SPHERE,position:{spread:{x:4,y:4,z:4},radius:12},velocity:{value:new i.Vector3(8,4,4)},acceleration:{value:{x:0,y:0,z:0}},size:{value:[.2,2],spread:[4,0]},opacity:{value:[1,0]},color:{value:[new i.Color(1,0,0),new i.Color(0,1,0),new i.Color(0,0,1),new i.Color(1,1,0),new i.Color(1,0,1),new i.Color(0,1,1)]},particleCount:4e3,alive:!0,duration:30,maxAge:{value:4}},s.emitters.plasma_hit_small={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.05},velocity:{value:new i.Vector3(.8,0,0),spread:0},acceleration:{value:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},size:{value:[.6,1]},opacity:{value:[1,1,1,1,1,0]},color:{value:[new i.Color("rgb(255, 194, 241)"),new i.Color("rgb(255, 0, 195)")]},particleCount:25,alive:!0,duration:.2,maxAge:{value:.2}},s.emitters.plasma_hit={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.05},velocity:{value:new i.Vector3(.8,0,0),spread:0},acceleration:{value:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},size:{value:[.8,1.5]},opacity:{value:[1,1,1,1,1,0]},color:{value:[new i.Color("rgb(255, 194, 241)"),new i.Color("rgb(255, 0, 195)")]},particleCount:100,alive:!0,duration:.3,maxAge:{value:.3}},s.emitters.ice_break={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.1},velocity:{value:new i.Vector3(2,0,0),spread:0},acceleration:{value:new i.Vector3(0,-2,0),distribution:o.default.distributions.BOX},size:{value:[.5,.1]},opacity:{value:[1,1,1,1,1,0]},color:{value:[new i.Color("rgb(195,243,246)"),new i.Color("rgb(91,231,251)")]},particleCount:50,alive:!0,duration:.2,maxAge:{value:.4}},s.emitters.hit_sparks={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.1},velocity:{value:new i.Vector3(2,0,0),spread:0},acceleration:{value:new i.Vector3(0,-2,0),distribution:o.default.distributions.BOX},size:{value:[.5,.1]},opacity:{value:[1,1,1,1,1,0]},color:{value:[new i.Color("rgb(255, 200, 0)"),new i.Color("rgb(255, 0, 0)")]},particleCount:25,alive:!0,duration:.2,maxAge:{value:.5}},s.emitters.hit_sparks_smoke={group:"normalSmoke",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.04},velocity:{value:new i.Vector3(0,1,0),distribution:o.default.distributions.BOX},size:{value:[.7,0]},opacity:{value:[1,0]},color:{value:[new i.Color("rgb(155, 155, 155)"),new i.Color("rgb(255, 255, 255)")]},particleCount:15,alive:!0,duration:.5,maxAge:{value:.8}},s.emitters.large_fire1={group:"normalSmoke",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.7},velocity:{value:new i.Vector3(0,8,0),distribution:o.default.distributions.BOX},size:{value:[15,0],spread:[1.6,0]},angle:{spread:.28},opacity:{value:[0,.8,0]},color:{value:[new i.Color("rgb(255, 255, 0)"),new i.Color("rgb(150, 150, 0)"),new i.Color("rgb(150, 0, 0)"),new i.Color("rgb(0, 0, 0)"),new i.Color("rgb(0, 0, 0)")]},particleCount:25,alive:!0,duration:1,maxAge:{value:.8}},s.emitters.large_fire2={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:1},velocity:{value:new i.Vector3(0,8,0),distribution:o.default.distributions.BOX},size:{value:[15,0],spread:[1.6,0]},opacity:{value:[.1,.4,0,0]},color:{value:[new i.Color("rgb(255, 150, 0)"),new i.Color("rgb(255, 0, 0)"),new i.Color("rgb(255, 0, 0)"),new i.Color("rgb(100, 100, 100)")]},particleCount:25,alive:!0,duration:5,maxAge:{value:.8}},s.emitters.large_fire3={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.6},velocity:{value:new i.Vector3(1.6,2,1.6),spread:1},acceleration:{value:new i.Vector3(0,2,0),distribution:o.default.distributions.BOX},size:{value:[1,0]},opacity:{value:[0,0,0,.8,0]},color:{value:[new i.Color("rgb(255, 150, 0)")]},particleCount:10,alive:!0,duration:5,maxAge:{value:2}},s.emitters.medium_fire1={group:"normalSmoke",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.2},velocity:{value:new i.Vector3(0,2,0),distribution:o.default.distributions.BOX},size:{value:[5,0],spread:[1.6,0]},angle:{spread:.28},opacity:{value:[0,.8,0]},color:{value:[new i.Color("rgb(255, 255, 0)"),new i.Color("rgb(150, 150, 0)"),new i.Color("rgb(150, 0, 0)"),new i.Color("rgb(0, 0, 0)"),new i.Color("rgb(0, 0, 0)")]},particleCount:25,alive:!0,duration:1,maxAge:{value:.8}},s.emitters.medium_fire2={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.3},velocity:{value:new i.Vector3(0,2,0),distribution:o.default.distributions.BOX},size:{value:[5,0],spread:[1.6,0]},opacity:{value:[.1,.4,0,0]},color:{value:[new i.Color("rgb(255, 150, 0)"),new i.Color("rgb(255, 0, 0)"),new i.Color("rgb(255, 0, 0)"),new i.Color("rgb(100, 100, 100)")]},particleCount:25,alive:!0,duration:5,maxAge:{value:.8}},s.emitters.medium_fire3={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.3},velocity:{value:new i.Vector3(.8,1,.8),spread:1},acceleration:{value:new i.Vector3(0,1,0),distribution:o.default.distributions.BOX},size:{value:[.5,0]},opacity:{value:[0,0,0,.8,0]},color:{value:[new i.Color("rgb(255, 150, 0)")]},particleCount:10,alive:!0,duration:5,maxAge:{value:2}},s.emitters.killEffect={type:o.default.distributions.SPHERE,group:"smoke",position:{spread:{x:.16},radius:.1},acceleration:{distribution:o.default.distributions.BOX,value:new i.Vector3(0,.7,0),spread:new i.Vector3(.2,0,0)},drag:{value:{x:5,y:0,z:0}},size:{value:[2,1.5,0]},opacity:{value:[.6,0],spread:[.2,0]},color:{value:[new i.Color(1,1,1),new i.Color(0,0,0)]},particleCount:8,alive:!0,duration:.1,maxAge:{value:2,spread:.3}},s.emitters.killEffect_explosion2={type:o.default.distributions.SPHERE,group:"default",position:{spread:{x:.16},radius:.2},velocity:{value:new i.Vector3(.1,0,0)},drag:{value:{x:5,y:0,z:0}},size:{value:[1.8]},opacity:{value:[.5,0],spread:[.2,0]},color:{value:[new i.Color(1,1,1),new i.Color(1,1,0),new i.Color(1,.5,0),new i.Color(1,0,0)]},particleCount:25,alive:!0,duration:.05,maxAge:{value:.5,spread:.5}},s.emitters.killEffect_explosion={group:"default",type:o.default.distributions.SPHERE,position:{spread:{x:.16,y:.16,z:.16},radius:.2},velocity:{value:new i.Vector3(8,4,4)},acceleration:{value:{x:0,y:20,z:0}},size:{value:[1.2,.2],spread:[.8,.16]},opacity:{value:[1,0]},color:{value:[new i.Color(1,1,1),new i.Color(1,1,0),new i.Color(1,.5,0),new i.Color(1,0,0)]},particleCount:25,alive:!0,duration:.05,maxAge:{value:.3}},s.emitters.medium_fire_smoke={group:"smoke",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.1},velocity:{value:new i.Vector3(.2,0,0)},acceleration:{value:new i.Vector3(0,.3,0),distribution:o.default.distributions.BOX},size:{value:[.2,20]},opacity:{value:[0,0,0,.1,0,0]},color:{value:[new i.Color("rgb(0, 0, 0)"),new i.Color("rgb(175, 175, 175)")]},particleCount:10,alive:!0,maxAge:{value:5}},s.emitters.small_fire1={group:"normalSmoke",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.15},velocity:{value:new i.Vector3(0,1.25,0),distribution:o.default.distributions.BOX},size:{value:[4,0],spread:[1,0]},angle:{spread:.28},opacity:{value:[0,.8,0]},color:{value:[new i.Color("rgb(255, 255, 0)"),new i.Color("rgb(150, 150, 0)"),new i.Color("rgb(150, 0, 0)"),new i.Color("rgb(0, 0, 0)"),new i.Color("rgb(0, 0, 0)")]},particleCount:20,alive:!0,duration:1,maxAge:{value:.8}},s.emitters.small_fire2={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.2},velocity:{value:new i.Vector3(0,1,0),distribution:o.default.distributions.BOX},size:{value:[4,0],spread:[1,0]},opacity:{value:[.1,.4,0,0]},color:{value:[new i.Color("rgb(255, 150, 0)"),new i.Color("rgb(255, 0, 0)"),new i.Color("rgb(255, 0, 0)"),new i.Color("rgb(100, 100, 100)")]},particleCount:20,alive:!0,duration:5,maxAge:{value:.8}},s.emitters.small_fire_smoke={group:"normalSmoke",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.1},velocity:{value:new i.Vector3(.2,0,0)},acceleration:{value:new i.Vector3(0,.3,0),distribution:o.default.distributions.BOX},size:{value:[.2,20]},opacity:{value:[0,0,0,.1,0,0]},color:{value:[new i.Color("rgb(0, 0, 0)"),new i.Color("rgb(175, 175, 175)")]},particleCount:10,alive:!0,maxAge:{value:5}},s.emitters.fire_small={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.8},velocity:{value:new i.Vector3(.8,2,2)},acceleration:{value:new i.Vector3(0,.8,0),distribution:o.default.distributions.BOX},size:{value:[2,0],spread:[.8,0]},opacity:{value:[1,0]},color:{value:[new i.Color(1,.3,0),new i.Color(1,.5,0),new i.Color(0,0,0)]},particleCount:100,alive:!0,duration:5,maxAge:{value:4}},s.emitters.stream={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.6},velocity:{value:new i.Vector3(0,0,0)},acceleration:{value:new i.Vector3(0,5,0),distribution:o.default.distributions.BOX},size:{value:[.5,.2],spread:[1.6,0]},opacity:{value:[1,0]},color:{value:[new i.Color(1,1,1),new i.Color(.3,.8,1),new i.Color(0,.5,1)]},particleCount:200,alive:!0,duration:5,maxAge:{value:1.5}},s.emitters.maxProjectile={group:"default",type:o.default.distributions.BOX,position:{spread:new i.Vector3(0,0,0),radius:.2},velocity:{value:new i.Vector3(0,.1,0),spread:new i.Vector3(.5,.1,.5)},acceleration:{value:new i.Vector3(0,.3,0),spread:new i.Vector3(.3,.1,.3),distribution:o.default.distributions.BOX},size:{value:[.9,0],spread:[.4,1]},opacity:{value:[1,0]},color:{value:[new i.Color("rgb(0, 51, 51)"),new i.Color("rgb(0, 255, 255)"),new i.Color("rgb(204, 255, 255)")]},particleCount:250,alive:!0,duration:5,maxAge:{value:1.5}},s.emitters.blue_fire_small={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:20},velocity:{value:new i.Vector3(.8,2,2)},acceleration:{value:new i.Vector3(0,.8,0),distribution:o.default.distributions.BOX},size:{value:[2,0],spread:[.8,0]},opacity:{value:[1,0]},color:{value:[new i.Color("rgb(0, 51, 51)"),new i.Color("rgb(0, 255, 255)"),new i.Color("rgb(204, 255, 255)")]},particleCount:100,alive:!0,duration:5,maxAge:{value:4}},s.emitters.yellowGlow={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.4},velocity:{value:new i.Vector3(.2,.4,.4)},acceleration:{value:new i.Vector3(0,.4,0),distribution:o.default.distributions.BOX},size:{value:[1.2,0],spread:[.4,0]},opacity:{value:[1,0]},color:{value:[new i.Color("rgb(51, 51, 0)"),new i.Color("rgb(255, 255, 0)"),new i.Color("rgb(204, 255, 255)")]},particleCount:100,alive:!0,duration:5,maxAge:{value:2}},s.emitters.hintGlow1={group:"particleWave",type:o.default.distributions.SPHERE,position:{radius:6,spread:new i.Vector3(.2,.2,.2),spreadClamp:new i.Vector3(.08,.08,.08)},velocity:{value:new i.Vector3(.2,.4,.4)},acceleration:{value:0,distribution:o.default.distributions.BOX},size:{value:[.6,0],spread:[.16,.4]},opacity:{value:[1,1]},color:{value:[new i.Color("blue"),new i.Color("white")]},particleCount:300,alive:!0,duration:5,maxAge:{value:1}},s.emitters.hintGlow2={group:"particleWave",type:o.default.distributions.SPHERE,position:{radius:3.2,spread:new i.Vector3(.2,.2,.2),spreadClamp:new i.Vector3(2,2,2)},velocity:{value:new i.Vector3(.2,.4,.4)},acceleration:{value:0,distribution:o.default.distributions.BOX},size:{value:[.6,0],spread:[.16,.4]},opacity:{value:[1,1]},color:{value:[new i.Color("blue"),new i.Color("white")]},particleCount:200,alive:!0,duration:5,maxAge:{value:1}},s.emitters.hintGlow3={group:"particleWave",type:o.default.distributions.SPHERE,position:{radius:1.6,spread:new i.Vector3(.2,.2,.2),spreadClamp:new i.Vector3(.08,.08,.08)},velocity:{value:new i.Vector3(.2,.4,.4)},acceleration:{value:0,distribution:o.default.distributions.BOX},size:{value:[.6,0],spread:[.16,.4]},opacity:{value:[1,1]},color:{value:[new i.Color("blue"),new i.Color("blue")]},particleCount:50,alive:!0,duration:5,maxAge:{value:1}},s.emitters.blueHintGlow={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(4,4,4),radius:8},velocity:{value:new i.Vector3(.2,.4,.4)},acceleration:{value:0,distribution:o.default.distributions.BOX},size:{value:[1.2,0],spread:[.4,4]},opacity:{value:[1,1]},color:{value:[new i.Color("rgb(0, 51, 51)"),new i.Color("rgb(0, 51, 255)"),new i.Color("rgb(204, 255, 255)")]},particleCount:100,alive:!0,duration:5,maxAge:{value:2}},s.emitters.megaExplosion={group:"default",type:o.default.distributions.SPHERE,position:{spread:{x:4,y:4,z:4},radius:22},velocity:{value:new i.Vector3(200,4,4)},acceleration:{value:{x:0,y:0,z:0}},size:{value:[8,.8],spread:[4,0]},opacity:{value:[1,0]},color:{value:[new i.Color(1,.5,0),new i.Color(0,0,1)]},particleCount:4e3,alive:!0,duration:.1,maxAge:{value:.5}},s.emitters.smallExplosion={group:"default",type:o.default.distributions.SPHERE,position:{spread:{x:.16,y:.16,z:.16},radius:.2},velocity:{value:new i.Vector3(8,4,4)},acceleration:{value:{x:0,y:20,z:0}},size:{value:[1.6,.2],spread:[.8,.16]},opacity:{value:[1,0]},color:{value:[new i.Color(1,.5,0),new i.Color(0,0,1)]},particleCount:50,alive:!0,duration:.05,maxAge:{value:.3}},s.emitters.explosion={group:"default",type:o.default.distributions.SPHERE,position:{radius:.2},velocity:{value:new i.Vector3(12,4,4)},acceleration:{value:new i.Vector3(0,0,0)},size:{value:[1.6,.2],spread:[.8,.16]},opacity:{value:[1,0]},color:{value:[new i.Color(1,.5,0),new i.Color(0,0,1)]},particleCount:1500,alive:!0,duration:.05,maxAge:{value:.3},activeMultiplier:1},s.emitters.smallSmoke={group:"smoke",type:o.default.distributions.SPHERE,position:{value:new i.Vector3(0,0,0),spread:{x:4,y:4,z:4},radius:.6},velocity:{value:new i.Vector3(2,2,0),spread:new i.Vector3(.8,1.6,4)},acceleration:{value:new i.Vector3(0,.8,0),distribution:o.default.distributions.BOX},size:{value:[2,3.2],spread:[1.6,3.2]},opacity:{value:[.6,0]},color:{value:[new i.Color(0,0,1),new i.Color(.1,.1,.1)]},particleCount:50,alive:!0,duration:.4,maxAge:{value:1.2}},s.emitters.smoke={group:"smoke",type:o.default.distributions.SPHERE,position:{value:new i.Vector3(0,0,0),spread:{x:4,y:4,z:4},radius:1.2},velocity:{value:new i.Vector3(2.4,2,0),spread:new i.Vector3(1.6,1.6,4)},acceleration:{value:new i.Vector3(0,.8,0),distribution:o.default.distributions.BOX},size:{value:[2,3.2],spread:[1.6,3.2]},opacity:{value:[.6,0]},color:{value:[new i.Color(0,0,1),new i.Color(.1,.1,.1)]},particleCount:100,alive:!0,duration:.5,maxAge:{value:1.5},activeMultiplier:1},s.emitters.flash={group:"default",particleCount:50,position:{spread:new i.Vector3(.2,.2,.2)},velocity:{spread:new i.Vector3(1.2),distribution:o.default.distributions.SPHERE},size:{value:[.08,.8,.8,.8]},maxAge:{value:2},activeMultiplier:2e3,opacity:{value:[.5,.25,0,0]}},s.emitters.debris={group:"default",particleCount:100,type:o.default.distributions.SPHERE,position:{radius:.1},maxAge:{value:2},activeMultiplier:40,velocity:{value:new i.Vector3(4)},acceleration:{value:new i.Vector3(0,.8,0),distribution:o.default.distributions.SPHERE},size:{value:.08},drag:{value:1},color:{value:[new i.Color(1,1,1),new i.Color(1,1,0),new i.Color(1,0,0),new i.Color(.4,.2,.1)]},opacity:{value:[.4,0]}},s.emitters.missile={group:"default",type:o.default.distributions.BOX,position:{spread:new i.Vector3(0,0,0),radius:.02},acceleration:{value:new i.Vector3(0,0,0),distribution:o.default.distributions.BOX},size:{value:[.8,0],spread:[0,1]},opacity:{value:[1,0]},color:{value:[new i.Color("rgb(255, 31, 31)"),new i.Color("rgb(255, 0, 0)"),new i.Color("rgb(255, 255, 51)")]},particleCount:50,alive:!0,duration:5,maxAge:{value:.5}},s.emitters.trail={group:"default",type:o.default.distributions.BOX,position:{spread:new i.Vector3(0,0,0),radius:.4},acceleration:{value:new i.Vector3(0,0,0),distribution:o.default.distributions.Box},size:{value:[3.6,.01],spread:[0,1.2]},opacity:{value:[.25,0]},color:{value:[new i.Color("rgb(153, 0, 153)"),new i.Color("rgb(255, 51, 255)"),new i.Color("rgb(255, 204, 255)")]},particleCount:50,alive:!0,duration:5,maxAge:{value:2}},s.emitters.powerup_speed={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:0},velocity:{value:new i.Vector3(0,0,0)},acceleration:{value:0,distribution:o.default.distributions.BOX},size:{value:[6,6]},opacity:{value:[1,1]},color:{value:[new i.Color("rgba(255, 51, 0, 0.1)")]},particleCount:2,alive:!0,maxAge:{value:2}},s.emitters.glow_lightGreen={group:"fading",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:0},velocity:{value:new i.Vector3(0,0,0)},acceleration:{value:0,distribution:o.default.distributions.BOX},size:{value:[6.5,6.5]},opacity:{value:[.15]},color:{value:[new i.Color("rgb(148,255,198)")]},particleCount:2,alive:!0,maxAge:{value:1}},s.emitters.powerup_blue={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:0},velocity:{value:new i.Vector3(0,0,0)},acceleration:{value:0,distribution:o.default.distributions.BOX},size:{value:[6,6]},opacity:{value:[.5,.5]},color:{value:[new i.Color("rgb(3,85,255)")]},particleCount:2,alive:!0,maxAge:{value:2}},s.emitters.powerup_electric={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.38},velocity:{value:new i.Vector3(-.25,0,0)},acceleration:{value:0,distribution:o.default.distributions.BOX},size:{value:[1,1],spread:2},opacity:{value:[0,.8,0]},color:{value:[new i.Color("rgb(111,183,255)")]},particleCount:40,alive:!0,maxAge:{value:.45}},s.emitters.powerup_smoke_character={group:"normalSmoke",type:o.default.distributions.BOX,position:{value:new i.Vector3(0,-.25,0),spread:new i.Vector3(.2,.1,.2)},velocity:{value:new i.Vector3(0,-.5,0)},acceleration:{value:0,distribution:o.default.distributions.BOX},size:{value:[.6,8]},opacity:{value:[.3,.3,.3,0,0]},color:{value:[new i.Color("rgb(175, 175, 175)")]},particleCount:100,alive:!0,maxAge:{value:2}},s.emitters.powerup_chili_character_smoke={group:"normalSmoke",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.1},velocity:{value:new i.Vector3(.5,0,0)},acceleration:{value:0,distribution:o.default.distributions.BOX},size:{value:[.6,8]},opacity:{value:[.5,.5,.5,0,0]},color:{value:[new i.Color("rgb(175, 175, 175)")]},particleCount:100,alive:!0,maxAge:{value:5}},s.emitters.powerup_chili_character_fire={group:"normalSmoke",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.1},velocity:{value:new i.Vector3(0,-.01,0)},acceleration:{value:0,distribution:o.default.distributions.BOX},size:{value:[.25,1]},angle:{spread:6.28},opacity:{value:[0,.2,.5,.5,0]},color:{value:[new i.Color("rgb(255, 255, 255)"),new i.Color("rgb(255, 255, 0)"),new i.Color("rgb(255, 200, 0)"),new i.Color("rgb(255, 100, 0)"),new i.Color("rgb(150, 0, 0)"),new i.Color("rgb(150, 0, 0)")]},particleCount:100,alive:!0,maxAge:{value:.15}},s.emitters.collectible={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:0},velocity:{value:new i.Vector3(0,0,0)},acceleration:{value:0,distribution:o.default.distributions.BOX},size:{value:[6,6]},opacity:{value:[.1,.2]},color:{value:[new i.Color("rgba(245, 255, 160, 0.3)")]},particleCount:2,alive:!0,maxAge:{value:2}},s.emitters.powerup_chili={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:0},velocity:{value:new i.Vector3(0,0,0)},acceleration:{value:0,distribution:o.default.distributions.BOX},size:{value:[6,6]},opacity:{value:[1,1]},color:{value:[new i.Color("rgba(255, 20, 0, 0.1)")]},particleCount:2,alive:!0,maxAge:{value:2}},s.emitters.portal_layer1_version1={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.4},velocity:{value:new i.Vector3(.8,4,2)},acceleration:{value:new i.Vector3(0,.8,0),distribution:o.default.distributions.SPHERE},size:{value:[3.6,.01],spread:[0,1.2]},opacity:{value:[.25,0]},color:{value:[new i.Color("rgb(153, 0, 153)"),new i.Color("rgb(255, 51, 255)"),new i.Color("rgb(255, 204, 255)")]},particleCount:50,alive:!0,duration:5,maxAge:{value:2}},s.emitters.portal_background={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:0},velocity:{value:new i.Vector3(0,0,0)},acceleration:{value:0,distribution:o.default.distributions.BOX},size:{value:[4,4]},opacity:{value:[.3,.3]},color:{value:[new i.Color("rgb(178, 102, 255)")]},particleCount:2,alive:!0,maxAge:{value:2}},s.emitters.portal_layer1_version2={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.2},velocity:{value:new i.Vector3(.8,.8,.8)},size:{value:[7,.5],spread:[1.6,0]},opacity:{value:[.35,0]},color:{value:[new i.Color("rgb(153, 0, 153)"),new i.Color("rgb(255, 51, 255)"),new i.Color("rgb(255, 204, 255)")]},particleCount:5,alive:!0,duration:2,maxAge:{value:1.5}},s.emitters.portal_layer2_version1={group:"fading",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.8},velocity:{value:new i.Vector3(.8,4,2)},acceleration:{value:new i.Vector3(0,.8,0),distribution:o.default.distributions.SPHERE},size:{value:[3.6,.01],spread:[0,1.6]},opacity:{value:[.25,0]},color:{value:[new i.Color("rgb(127, 0, 255)"),new i.Color("rgb(178, 102, 255)"),new i.Color("rgb(229, 204, 255)")]},particleCount:500,alive:!0,duration:5,maxAge:{value:4}},s.emitters.portal_layer2_version2={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.2},velocity:{value:new i.Vector3(.1,.1,.1)},acceleration:{value:new i.Vector3(0,.05,0),distribution:o.default.distributions.BOX},size:{value:[10,5],spread:[1.6,0]},opacity:{value:[.4,0]},color:{value:[new i.Color("rgb(127, 0, 255)"),new i.Color("rgb(178, 102, 255)"),new i.Color("rgb(229, 204, 255)")]},particleCount:9,alive:!0,duration:3,maxAge:{value:3}},s.emitters.finishLine={group:"default",type:o.default.distributions.SPHERE,position:{spread:new i.Vector3(0,0,0),radius:.7},velocity:{value:new i.Vector3(1.7,4,2),spread:new i.Vector3(.5,0,0)},acceleration:{value:new i.Vector3(.1,.8,0),distribution:o.default.distributions.BOX},size:{value:[3.9,.01],spread:[1.6,0]},opacity:{value:[.25,0]},color:{value:[new i.Color("rgb(40, 255, 100)"),new i.Color("rgb(50, 255, 100)"),new i.Color("rgb(60, 255, 100)")]},particleCount:100,alive:!0,duration:2,maxAge:{value:.75}},n.default=s},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(40),_=a(36),w=a(408),E=a(37),j=a(41),q=a(215),$=a(25),ne=a(58),ie=a(8),oe=a(178),se=a(19),le=a(43);class ParticleSystem extends y.default{constructor(){super(...arguments),this.particleGroups=new ne.SimpleCache}onInit(){this.particleGroup.on("entityAdded",this.handleEmitterAdded,this),this.particleGroup.on("entityUpdated",this.handleEmitterUpdated,this),this.particleGroup.on("entityRemoved",this.handleEmitterRemoved,this)}getOrCreateGroup(r){const n=$.default({texture:r.texture,wrapParticles:r.wrapParticles,fog:r.fog,depthTest:r.depthTest,depthWrite:r.depthWrite,blending:r.blending,wrapSpread:r.wrapSpread});let a=this.particleGroups.get(n);return a||(a=new q.default.Group({maxParticleCount:1e4,wrapParticles:r.wrapParticles,spread:r.wrapSpread,fog:r.fog,depthTest:r.depthTest,depthWrite:r.depthWrite,blending:r.blending,scale:300*window.innerHeight/1280,texture:{value:null}}),this.particleGroups.set(n,a),ie.assetManager.getLoader(oe.TextureLoader).load({name:"particle2",type:"diffuse"}).then(r=>{a.uniforms.texture.value=r}),a.mesh.frustumCulled=!1,this.scene.add(a.mesh),a)}cleanGroups(){for(const r of this.particleGroups.getUnused())this.scene.remove(r.mesh),r.dispose(),this.particleGroups.deleteItem(r)}updateEmitter(r){const{node:n,particleEmitter:a}=r;let i=!1;const o=$.default({texture:a.texture,wrapParticles:a.wrapParticles,fog:a.fog,depthTest:a.depthTest,depthWrite:a.depthWrite,blending:a.blending,wrapSpread:a.wrapSpread});this.particleGroups.free(a.currentHash);const s=this.getOrCreateGroup(a);if(a.currentHash!==o){if(a.emitter){const r=this.particleGroups.getUncounted(a.currentHash);r.removeEmitter(a.emitter),this.particleGroups.freeItem(r)}a.currentHash=o}a.emitter||(a.emitter=new q.default.Emitter({color:{value:[new se.Color,new se.Color]}})),a.emitter.particleCount!==a.particleCount&&(a.emitter.group&&a.emitter.remove(),a.emitter.particleCount=a.particleCount,i=!0),a.emitter.maxAge.value!==a.maxAge&&(a.emitter.disable(),a.emitter.maxAge.value=a.maxAge,a.emitter.group&&a.emitter.remove(),i=!0),a.emitter.group!==s&&s.addEmitter(a.emitter),a.emitter.position.value=n.position,a.emitter.position.spread=a.spread,a.emitter.position.spreadClamp=a.spreadClamp,a.emitter.velocity.value=a.velocity,a.emitter.velocity.spread=a.velocitySpread,a.emitter.acceleration.value=a.acceleration,a.emitter.acceleration.spread=a.accelerationSpread,a.emitter.color.value[0].copy(a.startColor),a.emitter.color.value[1].copy(a.startColor),a.emitter.color.value[2].copy(a.endColor),a.emitter.color.value[3].copy(a.endColor),a.emitter.color.value=a.emitter.color.value,a.emitter.opacity.value=a.opacity,a.emitter.opacity.spread=a.opacitySpread,i&&a.emitter.reset(),a.enabled?a.emitter.enable():a.emitter.disable(),this.cleanGroups()}handleEmitterAdded(r){this.updateEmitter(r)}handleEmitterUpdated(r){this.updateEmitter(r)}handleEmitterRemoved(r){const{particleEmitter:n}=r;n.emitter&&(n.emitter.group&&this.particleGroups.freeItem(n.emitter.group),n.emitter.disable(),n.emitter.remove())}updateFrame(r,n){if(le.atleast(le.cfg.particleEffects,le.SettingLevel.LOW)){for(let r=0;r<this.particleGroup.length;r++){const{node:n,particleEmitter:a}=this.particleGroup.entities[r];a.emitter&&(a.emitter.position.value=n.object.position)}for(const r of this.particleGroups.values())r.tick(n)}}}ParticleSystem.order=901,o([_.InjectGroup(j.default,w.default),s("design:type","function"==typeof(i=void 0!==E.default&&E.default)?i:Object)],ParticleSystem.prototype,"particleGroup",void 0),n.default=ParticleSystem},function(r,n,a){"use strict";var i,o,s,y,_,w,E,j,q,$=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},ne=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.SPEDistribution=void 0;const ie=a(42),oe=a(24),se=a(26),le=a(19);var pe;!function(r){r[r.SPHERE=0]="SPHERE"}(pe=n.SPEDistribution||(n.SPEDistribution={}));class ParticleEmitterComponent extends oe.default{constructor(){super(...arguments),this.currentHash=0,this.emitter=null,this.particleCount=1e3,this.alive=!0,this.continuous=!0,this.duration=3,this.maxAge=2,this.texture="particle2",this.fog=!0,this.depthTest=!0,this.depthWrite=!1,this.blending=le.AdditiveBlending,this.wrapParticles=!1,this.wrapSpread=new le.Vector3(2,2,2),this.type=pe.SPHERE,this.spread=new le.Vector3(1,1,1),this.spreadClamp=new le.Vector3(0,0,0),this.radius=0,this.velocity=new le.Vector3(0,5,0),this.velocitySpread=new le.Vector3(0,0,0),this.acceleration=new le.Vector3(0,0,0),this.accelerationSpread=new le.Vector3(0,0,0),this.startColor=new le.Color,this.endColor=new le.Color,this.size=[1,1],this.sizeSpread=[0],this.opacity=[1,0],this.opacitySpread=[0,0],this.disableInStudio=!0}}ParticleEmitterComponent.componentName="particleEmitter",$([se.Property({inspectorOptions:{pattern:ie.patterns.floatPositiveNotEmpty,minValue:0,maxValue:1e5}}),ne("design:type",Number)],ParticleEmitterComponent.prototype,"particleCount",void 0),$([se.Property(),ne("design:type",Boolean)],ParticleEmitterComponent.prototype,"alive",void 0),$([se.Property(),ne("design:type",Boolean)],ParticleEmitterComponent.prototype,"continuous",void 0),$([se.Property({inspectorOptions:{pattern:ie.patterns.floatPositiveNotEmpty,minValue:0}}),ne("design:type",Number)],ParticleEmitterComponent.prototype,"duration",void 0),$([se.Property({inspector:"Range",inspectorOptions:{min:.1,max:20,step:.01}}),ne("design:type",Number)],ParticleEmitterComponent.prototype,"maxAge",void 0),$([se.Property({inspector:"Texture"}),ne("design:type",String)],ParticleEmitterComponent.prototype,"texture",void 0),$([se.Property(),ne("design:type",Boolean)],ParticleEmitterComponent.prototype,"fog",void 0),$([se.Property(),ne("design:type",Boolean)],ParticleEmitterComponent.prototype,"depthTest",void 0),$([se.Property(),ne("design:type",Boolean)],ParticleEmitterComponent.prototype,"depthWrite",void 0),$([se.Property({inspectorOptions:{pattern:ie.patterns.floatPositiveNotEmpty,minValue:0}}),ne("design:type",Number)],ParticleEmitterComponent.prototype,"blending",void 0),$([se.Property(),ne("design:type",Boolean)],ParticleEmitterComponent.prototype,"wrapParticles",void 0),$([se.Property({inspectorOptions:{pattern:ie.patterns.floatPositiveNotEmpty,minValue:0}}),ne("design:type","function"==typeof(i=void 0!==le.Vector3&&le.Vector3)?i:Object)],ParticleEmitterComponent.prototype,"wrapSpread",void 0),$([se.Property({inspectorOptions:{pattern:ie.patterns.floatPositiveNotEmpty,minValue:0}}),ne("design:type",Number)],ParticleEmitterComponent.prototype,"type",void 0),$([se.Property({inspectorOptions:{pattern:ie.patterns.floatPositiveNotEmpty,minValue:0}}),ne("design:type","function"==typeof(o=void 0!==le.Vector3&&le.Vector3)?o:Object)],ParticleEmitterComponent.prototype,"spread",void 0),$([se.Property({inspectorOptions:{pattern:ie.patterns.floatPositiveNotEmpty,minValue:0}}),ne("design:type","function"==typeof(s=void 0!==le.Vector3&&le.Vector3)?s:Object)],ParticleEmitterComponent.prototype,"spreadClamp",void 0),$([se.Property({inspectorOptions:{pattern:ie.patterns.floatPositiveNotEmpty,minValue:0}}),ne("design:type",Number)],ParticleEmitterComponent.prototype,"radius",void 0),$([se.Property({inspectorOptions:{pattern:ie.patterns.floatPositiveNotEmpty,minValue:0}}),ne("design:type","function"==typeof(y=void 0!==le.Vector3&&le.Vector3)?y:Object)],ParticleEmitterComponent.prototype,"velocity",void 0),$([se.Property({inspectorOptions:{pattern:ie.patterns.floatPositiveNotEmpty,minValue:0}}),ne("design:type","function"==typeof(_=void 0!==le.Vector3&&le.Vector3)?_:Object)],ParticleEmitterComponent.prototype,"velocitySpread",void 0),$([se.Property({inspectorOptions:{pattern:ie.patterns.floatPositiveNotEmpty,minValue:0}}),ne("design:type","function"==typeof(w=void 0!==le.Vector3&&le.Vector3)?w:Object)],ParticleEmitterComponent.prototype,"acceleration",void 0),$([se.Property({inspectorOptions:{pattern:ie.patterns.floatPositiveNotEmpty,minValue:0}}),ne("design:type","function"==typeof(E=void 0!==le.Vector3&&le.Vector3)?E:Object)],ParticleEmitterComponent.prototype,"accelerationSpread",void 0),$([se.Property(),ne("design:type","function"==typeof(j=void 0!==le.Color&&le.Color)?j:Object)],ParticleEmitterComponent.prototype,"startColor",void 0),$([se.Property(),ne("design:type","function"==typeof(q=void 0!==le.Color&&le.Color)?q:Object)],ParticleEmitterComponent.prototype,"endColor",void 0),$([se.Property({inspector:!1}),ne("design:type",Array)],ParticleEmitterComponent.prototype,"size",void 0),$([se.Property({inspector:!1}),ne("design:type",Array)],ParticleEmitterComponent.prototype,"sizeSpread",void 0),$([se.Property({inspector:!1}),ne("design:type",Array)],ParticleEmitterComponent.prototype,"opacity",void 0),$([se.Property({inspector:!1}),ne("design:type",Array)],ParticleEmitterComponent.prototype,"opacitySpread",void 0),$([se.Property({inspector:!1}),ne("design:type",Boolean)],ParticleEmitterComponent.prototype,"disableInStudio",void 0),n.default=ParticleEmitterComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(40),_=a(156),w=a(20);class ApplyPhysicsSystem extends y.default{updateTick(r,n){}}ApplyPhysicsSystem.order=999,o([_.InjectSystem(r=>w.default),s("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],ApplyPhysicsSystem.prototype,"physicsSystem",void 0),n.default=ApplyPhysicsSystem},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const w=a(411),E=a(36),j=a(156),q=a(37),$=a(40),ne=a(41),ie=a(335),oe=a(413),se=a(20),le=a(414);class CharacterControllerSystem extends $.default{onInit(){this.entityGroup.on("entityAdded",this.onEntityAdded,this),this.entityGroup.on("entityRemoved",this.onEntityRemoved,this),this.entityGroup.on("entityUpdated",this.onEntityUpdated,this)}async updatePhysicsObject(r){const{characterController:n}=r;n.object?(n.ignoreOldState=!0,n.object.updateProps()):(n.object=new le.CharacterController(this.physicsSystem.world,r),this.physicsSystem.world.addPhysicsObject(n.object),n.object.updateProps())}onEntityUpdated(r){this.updatePhysicsObject(r)}onEntityAdded(r){this.updatePhysicsObject(r)}onEntityRemoved(r){const{characterController:n}=r;n.object?(this.physicsSystem.world.removePhysicsObject(n.object),n.object=null):console.warn("Removed character controller but there wasnt any character controller")}updateTick(r,n){for(const r of this.entityGroup.entities){const{node:n,characterController:a}=r;if(!a.object)continue;let i=a;this.entityManager.hasComponent(r,oe.default)&&(i=this.entityManager.getComponent(r,oe.default).value);const o=a.object;o.setMaxSlope(a.maxSlope),o.setJumpSpeed(i.jumpSpeed),o.setFriction(i.friction),o.setDrag(i.drag),o.setGravity(i.gravity),o.setDeAccelerationMultiplier(a.deAccelerationMultiplier),o.setBunnyHopFactor(a.bunnyHopFactor),a.enableAirWalk?(o.setMaxWalkSpeed(a.maxFlySpeed),o.setWalkAcceleration(a.flyAcceleration),o.setMaxAirSpeed(a.maxFlySpeed),o.setAirAcceleration(a.flyAcceleration)):(o.setMaxWalkSpeed(i.maxWalkSpeed),o.setWalkAcceleration(i.walkAcceleration),o.setMaxAirSpeed(i.maxAirSpeed),o.setAirAcceleration(i.airAcceleration)),n.isDirty&&a.object.setPosition(n.position),a.object.setDirection(a.direction)}}}CharacterControllerSystem.order=500,y([E.InjectGroup(ne.default,ie.default),_("design:type","function"==typeof(i=void 0!==q.default&&q.default)?i:Object)],CharacterControllerSystem.prototype,"entityGroup",void 0),y([j.InjectSystem(()=>se.default),_("design:type","function"==typeof(o=void 0!==se.default&&se.default)?o:Object)],CharacterControllerSystem.prototype,"physicsSystem",void 0),y([j.InjectSystem(()=>w.default),_("design:type","function"==typeof(s=void 0!==w.default&&w.default)?s:Object)],CharacterControllerSystem.prototype,"statusEffectSystem",void 0),n.default=CharacterControllerSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(37),w=a(40),E=a(412);class StatusEffectSystem extends w.default{onInit(){}findEffects(r,n){const a=[];for(let i=0;i<this.group.length;i++){const o=this.group.entities[i],s=o.statusEffect;if(s.targetEntity===r.uid&&s.component===n.componentName){const r=this.entityManager.getComponent(o,s.component);a.push(r)}}return a}findEffectsEntities(r,n){const a=[];for(let i=0;i<this.group.length;i++){const o=this.group.entities[i],s=o.statusEffect;s.targetEntity===r.uid&&s.component===n.componentName&&a.push(o)}return a}addStatusEffect(r,n,a){const i=a.duration||10,o=this.entityManager.create();this.entityManager.addComponentSlow(o,E.default,{targetEntity:r.uid,component:n.componentName}),this.entityManager.addComponentSlow(o,n,a);const s=this.entityManager.getComponent(o,n);return s.timeLeft=i,s.duration=i,o}removeStatusEffect(r){this.entityManager.remove(r)}updateTick(r,n){for(let r=0;r<this.group.length;r++){const a=this.group.entities[r],i=a.statusEffect,o=this.entityManager.tryGetComponent(a,i.component);o.timeLeft-=n,o.timeLeft<=0&&this.entityManager.removeDeffered(a)}}}StatusEffectSystem.order=5,o([y.InjectGroup(E.default),s("design:type","function"==typeof(i=void 0!==_.default&&_.default)?i:Object)],StatusEffectSystem.prototype,"group",void 0),n.default=StatusEffectSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class StatusEffectComponent extends s.default{constructor(){super(...arguments),this.targetEntity=0,this.component="",this.duration=10,this.timeLeft=10}}StatusEffectComponent.componentName="statusEffect",i([y.Property(),o("design:type",Number)],StatusEffectComponent.prototype,"targetEntity",void 0),i([y.Property(),o("design:type",String)],StatusEffectComponent.prototype,"component",void 0),i([y.Property(),o("design:type",Number)],StatusEffectComponent.prototype,"duration",void 0),i([y.Property(),o("design:type",Number)],StatusEffectComponent.prototype,"timeLeft",void 0),n.default=StatusEffectComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(335),o=a(24);class ComputedCharacterControllerComponent extends o.default{constructor(){super(...arguments),this.value=new i.default}}ComputedCharacterControllerComponent.componentName="computedCharacterController",n.default=ComputedCharacterControllerComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CharacterController=void 0;const i=a(336),o=a(45),s=a(19),y=a(59);class CharacterController extends y.default{constructor(r,n){super(r,n),this.direction=new Ammo.btVector3(0,0,0),this.ammoTmpVec=new Ammo.btVector3(0,0,0),this.jumpNextTick=!1,this.createController(),r.on("preUpdate",this.preUpdate,this),r.on("postUpdate",this.postUpdate,this)}createController(){const{node:r,characterController:n}=this.entity,{tmpVec1:a,tmpTransform2:i,tmpQuat1:s}=this.world;this.shape=new Ammo.btCapsuleShape(o.PHYSICS_SCALE*n.radius,o.PHYSICS_SCALE*(n.height-2*n.radius)),a.setValue(r.position.x,r.position.y,r.position.z),s.setValue(r.rotation.x,r.rotation.y,r.rotation.z,r.rotation.w),i.setIdentity(),i.setOrigin(a),i.setRotation(s),a.setValue(0,0,0),this.shape.calculateLocalInertia(n.mass,a),this.ghostObject=new Ammo.btPairCachingGhostObject,this.ghostObject.setWorldTransform(i),this.ghostObject.setActivationState(o.PHYSICS_ACTIVATION_STATE.DISABLE_DEACTIVATION),this.ghostObject.setCollisionShape(this.shape),this.ghostObject.setCollisionFlags(o.PHYSICS_FLAGS.CF_CHARACTER_OBJECT|o.PHYSICS_FLAGS.CF_KINEMATIC_OBJECT),this.body=new Ammo.hbrKinematicCharacterController(this.ghostObject,this.shape,o.PHYSICS_SCALE*n.stepHeight),this.body.setJumpOffset(.1),this.body.setJumpSpeed(o.PHYSICS_SCALE*n.jumpSpeed),this.body.setFallSpeed(n.maxFallSpeed),this.body.setMaxSlope(n.maxSlope),this.updateGravity(),a.setValue(r.position.x*o.PHYSICS_SCALE,r.position.y*o.PHYSICS_SCALE,r.position.z*o.PHYSICS_SCALE),this.body.warp(a)}setBunnyHopEnabled(r){this.body.setBunnyHopEnabled(r)}setBunnyHopFactor(r){this.body.setBunnyHopFactor(r)}setMaxSlope(r){this.body.setMaxSlope(r)}setJumpSpeed(r){this.body.setJumpSpeed(o.PHYSICS_SCALE*r)}setFriction(r){this.body.setFriction(r)}setDrag(r){this.body.setDrag(r)}setMaxWalkSpeed(r){this.body.setMaxWalkSpeed(o.PHYSICS_SCALE*r)}setWalkAcceleration(r){this.body.setWalkAcceleration(o.PHYSICS_SCALE*r)}setMaxAirSpeed(r){this.body.setMaxAirSpeed(o.PHYSICS_SCALE*r)}setAirAcceleration(r){this.body.setAirAcceleration(o.PHYSICS_SCALE*r)}setDeAccelerationMultiplier(r){this.body.setDeAccelerationMultiplier(r)}setVelocity(r){this.ammoTmpVec.setValue(r.x*o.PHYSICS_SCALE,r.y*o.PHYSICS_SCALE,r.z*o.PHYSICS_SCALE),this.body.setLinearVelocity(this.ammoTmpVec)}setPosition(r){this.ammoTmpVec.setValue(r.x*o.PHYSICS_SCALE,r.y*o.PHYSICS_SCALE,r.z*o.PHYSICS_SCALE),this.body.warp(this.ammoTmpVec)}setDirection(r){this.direction.setValue(r.x,r.y,r.z)}jump(){this.body.canJump()&&this.body.jump()}updateGravity(){this.setGravity(this.entity.characterController.gravity)}setGravity(r){const n=this.world.tmpVec1;n.setValue(r.x,r.y,r.z),this.body.setGravity(n)}applyCentralImpulse(r){const{tmpVec2:n}=this.world;n.setValue(r.x,r.y,r.z),this.body.applyImpulse(n)}applyCentralForce(r){const{tmpVec2:n}=this.world;n.setValue(r.x,r.y,r.z),this.body.applyCentralForce(n)}updateActions(r){const{characterController:n}=this.entity,a=i.isCharacterAction(r,i.CharacterControllerAction.JUMP);a&&!n.enableAirWalk?this.jumpNextTick=!0:a||n.enableAirWalk||(this.jumpNextTick=!1)}preUpdate(){const{characterController:r}=this.entity;if(r.enableAirWalk){const n=i.isCharacterAction(r.actions,i.CharacterControllerAction.UP)?1:0,a=i.isCharacterAction(r.actions,i.CharacterControllerAction.DOWN)?-1:0;this.direction.setY(n+a)}const n=i.isCharacterAction(r.actions,i.CharacterControllerAction.SPEED)?r.speedModifier:1;this.body.setSpeedModifier(n),this.body.setWalkDirection(this.direction),this.body.preStep(this.world.world)}postUpdate(r){this.jumpNextTick&&this.body.canJump()&&(this.body.jump(),this.jumpNextTick=!1),this.body.playerStep(this.world.world,r)}getPointer(){return Ammo.getPointer(this.ghostObject)}add(){const{characterController:r}=this.entity;this.world.world.addCollisionObject(this.ghostObject,r.group,r.mask);const n=this.getPointer();this.world.bodyPointers.set(n,this.uid)}remove(){this.world.world.removeCollisionObject(this.ghostObject);const r=this.getPointer();this.world.bodyPointers.delete(r)}destroy(){this.world.removeListener("preUpdate",this.preUpdate,this),this.world.removeListener("postUpdate",this.postUpdate,this),Ammo.destroy(this.shape),Ammo.destroy(this.ghostObject),Ammo.destroy(this.body)}reset(){const{world:r}=this.world;this.body.reset(r)}updateGroupMask(){this.remove(),this.add()}updateProps(){const{node:r,characterController:n}=this.entity,{tmpVec1:a,tmpVec2:i}=this.world;a.setValue(r.position.x*o.PHYSICS_SCALE,r.position.y*o.PHYSICS_SCALE,r.position.z*o.PHYSICS_SCALE),this.body.warp(a),i.setValue(o.PHYSICS_SCALE*n.localVelocity.x,o.PHYSICS_SCALE*n.localVelocity.y,o.PHYSICS_SCALE*n.localVelocity.z),n.enableAirWalk&&n.canAirWalk?(this.setGravity(new s.Vector3),this.body.setLinearDamping(.999),this.body.setAirWalking(!0)):(this.setGravity(n.gravity),this.body.setLinearDamping(0),this.body.setAirWalking(!1),this.body.setLinearVelocity(i)),this.updateGroupMask()}extrapolate(r){const{node:n,characterController:a}=this.entity;a.onGround=this.body.onGround(),n.isDirty=!0,n.position.x+=r*a.velocity.x,n.position.y+=r*a.velocity.y,n.position.z+=r*a.velocity.z}syncState(r){const{node:n,characterController:a}=this.entity;n.isDirty=!0,a.onGround=this.body.onGround(),a.canJump=this.body.canJump();const i=this.ghostObject.getWorldTransform(),s=this.body.getLinearVelocity(),y=this.body.getLocalLinearVelocity();a.velocity.x=s.x()*o.PHYSICS_SCALE_INV,a.velocity.y=s.y()*o.PHYSICS_SCALE_INV,a.velocity.z=s.z()*o.PHYSICS_SCALE_INV,a.localVelocity.x=y.x()*o.PHYSICS_SCALE_INV,a.localVelocity.y=y.y()*o.PHYSICS_SCALE_INV,a.localVelocity.z=y.z()*o.PHYSICS_SCALE_INV;const _=i.getOrigin();n.position.x=_.x()*o.PHYSICS_SCALE_INV,n.position.y=_.y()*o.PHYSICS_SCALE_INV,n.position.z=_.z()*o.PHYSICS_SCALE_INV}}n.CharacterController=CharacterController},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(156),w=a(43),E=a(288),j=a(289),q=a(153),$=a(154),ne=a(336),ie=a(159),oe=a(19),se=a(62),le=a(36),pe=a(37),he=a(40),me=a(197),ge=a(41),ye=a(335),_e=a(337);class PlayerControlSystem extends he.default{constructor(){super(...arguments),this.tmpVec1=new oe.Vector3}updateTick(r,n){{const r=this.entityManager.getOrCreateSingleton(E.InputState).latestSnapshot(),a=this.entityManager.getOrCreateSingleton(q.PlayerState);if(!a.playerEntity)return;this.updateTickInternal(a.playerEntity,this.entityManager.currentTickNumber,r,n)}const a=this.entityManager.getOrCreateSingleton(j.NetworkState);for(let r=0;r<a.networkClients.length;r++){const i=a.networkClients[r],o=i.getCorrespondingSnapshot(this.entityManager.currentTickNumber);null!==o?this.updateTickInternal(i.playerEntity,this.entityManager.currentTickNumber,o,n):console.log("[PlayerControlSystem]: Networked client has no input, skipping")}}resimulateEntities(r,n,a,i){for(let o=0;o<r.length;o++)this.updateTickInternal(r[o],n,a,i)}updateTickInternal(r,n,a,i){if(!(this.entityManager.hasComponent(r,ge.default)&&this.entityManager.hasComponent(r,ye.default)&&this.entityManager.hasComponent(r,_e.default)))return;const{characterController:o,playerControl:s}=r;if(!o.object)return;if(o.direction.set(0,0,0),s.lockControls)return;const y=this.tmpVec1;a.projectMovementWithCameraOntoWorldUp(y),o.direction.copy(y),w.cfg.shooterAllowLookingAwayFromCamera&&r.avatar&&(se.fuzzyEqual(y.x,0)&&se.fuzzyEqual(y.z,0)||(r.avatar.lookDirection.copy(y),r.avatar.lookDirection.y=0)),a.modifier1.isDown()?o.setAction(ne.CharacterControllerAction.SPEED):a.modifier1.isUp()&&o.unsetAction(ne.CharacterControllerAction.SPEED),a.action3.isDown()?o.setAction(ne.CharacterControllerAction.DOWN):a.action3.isUp()&&o.unsetAction(ne.CharacterControllerAction.DOWN),a.emoteAction1.isDown()&&this.entityManager.updateComponent(r,me.default,{state:$.AvatarState.EMOTE_1}),a.action1.isDown()?(o.setAction(ne.CharacterControllerAction.UP),o.setAction(ne.CharacterControllerAction.JUMP),o.object.updateActions(o.actions),n-s.lastJumpTickNumber<=15&&o.canAirWalk&&this.entityManager.updateComponent(r,ye.default,{enableAirWalk:!o.enableAirWalk}),s.lastJumpTickNumber=n):a.action1.isUp()&&(o.unsetAction(ne.CharacterControllerAction.UP|ne.CharacterControllerAction.JUMP),o.object.updateActions(o.actions))}}PlayerControlSystem.order=5,s([le.InjectGroup(ge.default,ye.default,_e.default),y("design:type","function"==typeof(i=void 0!==pe.default&&pe.default)?i:Object)],PlayerControlSystem.prototype,"entityGroup",void 0),s([_.InjectSystem(()=>ie.default),y("design:type","function"==typeof(o=void 0!==ie.default&&ie.default)?o:Object)],PlayerControlSystem.prototype,"renderSystem",void 0),n.default=PlayerControlSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(417),o=a(18),s=window.GAMEKIT||o.default.request("gk")||"snap";class TouchGPSystem extends i.default{constructor(){super("shooter"===s?["stick"]:["jump","shoot","stick"])}}n.default=TouchGPSystem},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(156),w=a(139),E=a(8),j=a(18),q=a(336),$=a(159),ne=a(19),ie=a(366),oe=a(36),se=a(37),le=a(40),pe=a(41),he=a(335),me=a(337),ge=a(144),ye=a(34);class TouchGPObject extends le.default{constructor(r=[]){super(),this.tmpQuaternion=new ne.Quaternion,this.moveStickTouchID=-1,this.camTouchID=-1,this.lastTap=j.default.now(),this.lastTapAction="",this.orgPos={left:null,bottom:null},this.touchStartPosition={x:0,y:0},this.startStickPosition=new ne.Vector2(75,75),this.moveStickRadius=.42*Math.min(window.innerWidth,window.innerHeight),this.stickCenter=new ne.Vector2,this.lastDragPosition=new ne.Vector2,this.tmpVec4=new ne.Vector2,this.clientPos=new ne.Vector2,this.cxy=new ne.Vector2,this.accumulatedDelta=new ne.Vector2,this.control={},this.inAirWalk=!0,this.touchMoveKiller=r=>{r.cancelable&&(r.preventDefault(),r.stopPropagation())},this.onTouchStart=r=>{if(r.target!=this.canvas)return;const{changedTouches:n}=r;r.cancelable&&(r.preventDefault(),r.stopPropagation());const{clientHeight:a}=this.$mainWrapper;for(let r=0;r<n.length;++r){const{identifier:i,clientX:o,clientY:s}=n[r],y=this.tmpVec4.set(this.startStickPosition.x,a-this.startStickPosition.y);this.clientPos.set(o,s),this.touchStartPosition.x=o,this.touchStartPosition.y=s;const _=y.distanceTo(this.clientPos);this.tmpVec4.set(o,a-s),_<=this.moveStickRadius?(this.positionStick(),this.stickCenter.set(o,s),ge.TouchInputProxy.MoveBegin.set(o,s),ge.TouchInputProxy.MoveEnd.set(o,s),this.moveStickTouchID=i):_>this.moveStickRadius&&this.entityGroup.entities.length&&(this.camTouchID=i,this.lastDragPosition.x=o,this.lastDragPosition.y=s,ge.TouchInputProxy.TouchAimSurface=!0)}},this.onTouchMove=r=>{if(r.target!=this.canvas)return;const{changedTouches:n}=r;for(let r=0;r<n.length;++r){const{identifier:a,clientX:i,clientY:o}=n[r];a===this.camTouchID&&this.handleLook(i,o),a===this.moveStickTouchID&&ge.TouchInputProxy.MoveEnd.set(i,o)}},this.onTouchEnd=r=>{if(r.target!=this.canvas)return;const{changedTouches:n}=r;for(let r=0;r<n.length;++r){const{identifier:a}=n[r];this.camTouchID===a&&(this.camTouchID=-1,ge.TouchInputProxy.TouchAimSurface=!1),this.moveStickTouchID===a&&(this.moveStickTouchID=-1,this.control.stick.el.style.left=this.orgPos.left,this.control.stick.el.style.bottom=this.orgPos.bottom,ge.TouchInputProxy.MoveBegin.set(0,0),ge.TouchInputProxy.MoveEnd.set(0,0))}},this.onScreenOrientationChangeEvent=()=>{},this.onBlur=()=>{this.moveStickTouchID=-1,this.camTouchID=-1},this.handleFlyDown=()=>{this.handleCrouch()},this.handleFlyDownRelease=()=>{this.handleCrouchRelease()},this.handleFlyUpWrapper=r=>{r.cancelable&&r.preventDefault(),this.handleFlyUp()},this.handleJump=r=>{r.cancelable&&r.preventDefault(),ge.TouchInputProxy.JumpButton=!0},this.handleJumpRelease=()=>{ge.TouchInputProxy.JumpButton=!1},this.handleStartWalkingWrapper=r=>{r.cancelable&&r.preventDefault(),this.handleStartWalking()},this.handleFlyUpRelease=()=>{this.unsetPlayerActions(q.CharacterControllerAction.UP|q.CharacterControllerAction.JUMP)},this.handleStartWalking=()=>{for(const r of this.entityGroup.entities){const{playerControl:n}=r;n.lockControls||this.isDoubleTab("walk")&&(this.setAirWalk(r,!1),n.lastJumpTickNumber=this.entityManager.currentTickNumber)}},this.handleJumpStudio=r=>{r.cancelable&&r.preventDefault();for(const r of this.entityGroup.entities){const{characterController:n,playerControl:a}=r;a.lockControls||(n.setAction(q.CharacterControllerAction.UP),this.isDoubleTab("jump")&&n.canAirWalk?this.setAirWalk(r,!n.enableAirWalk):(n.setAction(q.CharacterControllerAction.JUMP),n.object.updateActions(n.actions)),a.lastJumpTickNumber=this.entityManager.currentTickNumber)}},this.handleJumpStudioRelease=()=>{this.unsetPlayerActions(q.CharacterControllerAction.UP|q.CharacterControllerAction.JUMP)},this.visibleControls=r}setVisibleControls(r,n=""){if(j.default.isTouchDevice()){for(const r in this.control)this.control.hasOwnProperty(r)&&this.control[r]&&(this.control[r].el.style.display="none");for(let n=0;n<r.length;n++){const a=r[n];this.control[a]&&(this.control[a].el.style.display="block")}this.visibleControls=r,this.$gamePadWrapper.className="touch-gamepad "+n}}onInit(){j.default.isTouchDevice()&&(this.$mainWrapper=document.body.querySelector(".main-wrapper"),this.$container=document.body.querySelector("#ui-root-container"),this.canvas=E.default.container.querySelector("canvas"),this.setup(),this.visibleControls&&this.visibleControls.length>0&&this.setVisibleControls(this.visibleControls),this.entityManager.on("restartGame",this.releaseInputs.bind(this)))}releaseInputs(){this.moveStickTouchID=-1,this.camTouchID=-1,ge.TouchInputProxy.MoveBegin.set(0,0),ge.TouchInputProxy.MoveEnd.set(0,0)}addControl(r){const n=`<div class="control-common ${r.className}" style="display: none; background-image: url(${ye.getCachedFileUri(r.image)});"></div>`;this.$gamePadWrapper=ie.addMarkup(n,"touch-gamepad");const a=r.className.split(" ")[0];this.control[r.id]=Object.assign(r,{el:this.$gamePadWrapper.querySelector("."+a)}),r.start&&this.control[r.id].el.addEventListener("touchstart",r.start),r.end&&this.control[r.id].el.addEventListener("touchend",r.end),this.control[r.id].el.addEventListener("touchmove",this.touchMoveKiller)}removeControl(r){this.control[r]&&(this.control[r].start&&this.control[r].el.removeEventListener("touchstart",this.control[r].start),this.control[r].end&&this.control[r].el.removeEventListener("touchend",this.control[r].end),this.control[r].el.removeEventListener("touchmove",this.touchMoveKiller),this.control[r].el.remove(),delete this.control[r])}setup(){const r=`<div class="control-common controlstick" style="display: none; background-image: url(${ye.getCachedFileUri("https://cdn.hibervr.com/images/icons/stick.png")});"></div>`;this.$gamePadWrapper=ie.addMarkup(r,"touch-gamepad"),this.control.stick={el:document.getElementsByClassName("controlstick")[0]},this.orgPos.left=this.control.stick.el.style.left,this.orgPos.bottom=this.control.stick.el.style.bottom,this.addControl({id:"flyDown",className:"fly-down gamepad-button-shadow",image:w.SNAP_SVG_ICON_PATH+"UI/UI_down.svg",start:this.handleFlyDown,end:this.handleFlyDownRelease}),this.addControl({id:"flyUp",className:"fly-up gamepad-button-shadow",image:w.SNAP_SVG_ICON_PATH+"UI/UI_up.svg",start:this.handleFlyUpWrapper,end:this.handleFlyUpRelease}),this.addControl({id:"jump",className:"jump-btn",image:"https://cdn.hibervr.com/images/icons/jump.png",start(r){r.cancelable&&r.preventDefault(),ge.TouchInputProxy.JumpButton=!0},end(r){r.cancelable&&r.preventDefault(),ge.TouchInputProxy.JumpButton=!1}}),this.addControl({id:"shoot",className:"shoot-btn",image:"https://cdn.hibervr.com/images/icons/shoot.png",start(){ge.TouchInputProxy.ShootButton=!0},end(){ge.TouchInputProxy.ShootButton=!1}}),this.addControl({id:"jumpStudio",className:"jump-studio-btn gamepad-button-small gamepad-button-left gamepad-button-shadow",image:w.SNAP_SVG_ICON_PATH+"UI/UI_walk.svg",start:this.handleJumpStudio,end:this.handleJumpStudioRelease}),this.addControl({id:"walk",className:"walk-btn gamepad-button-small gamepad-button-left gamepad-button-shadow",image:w.SNAP_SVG_ICON_PATH+"UI/UI_fly.svg",start:this.handleStartWalkingWrapper}),document.body.addEventListener("touchstart",this.onTouchStart,{capture:!1,passive:!1}),document.body.addEventListener("touchmove",this.onTouchMove,{capture:!1,passive:!1}),document.body.addEventListener("touchend",this.onTouchEnd,{capture:!1,passive:!1}),this.canvas.addEventListener("orientationchange",this.onScreenOrientationChangeEvent,!1),this.canvas.addEventListener("blur",this.onBlur,!1),this.canvas.addEventListener("touchcancel",this.onBlur,!1)}handleSpeed(){this.setPlayerActions(q.CharacterControllerAction.SPEED)}handleReleaseSpeed(){this.unsetPlayerActions(q.CharacterControllerAction.SPEED)}handleCrouch(){this.setPlayerActions(q.CharacterControllerAction.DOWN|q.CharacterControllerAction.CROUCH)}handleCrouchRelease(){this.unsetPlayerActions(q.CharacterControllerAction.DOWN|q.CharacterControllerAction.CROUCH)}handleLook(r,n){this.cxy.set(r,n);const a=this.lastDragPosition.sub(this.cxy);this.accumulatedDelta.add(a),this.lastDragPosition.set(r,n)}positionStick(){this.control.stick.el.style.left=this.tmpVec4.x-39+"px",this.control.stick.el.style.bottom=this.tmpVec4.y-51+"px"}isAClick(){let r=!0;return(Math.abs(this.clientPos.x-this.touchStartPosition.x)>30||Math.abs(this.clientPos.y-this.touchStartPosition.y)>30)&&(r=!1),r}show(){this.$gamePadWrapper&&(this.$gamePadWrapper.style.display="block")}hide(){this.$gamePadWrapper&&(this.$gamePadWrapper.style.display="none")}handleFlyUp(){this.setPlayerActions(q.CharacterControllerAction.UP)}isDoubleTab(r){const n=j.default.now()-this.lastTap<500&&this.lastTapAction===r;return this.lastTap=j.default.now(),this.lastTapAction=r,n}setAirWalk(r,n=!0){this.inAirWalk=n,this.entityManager.updateComponent(r,he.default,{enableAirWalk:this.inAirWalk}),this.entityManager.emit("airWalkStateChange",{state:this.inAirWalk})}setPlayerActions(r){for(const n of this.entityGroup.entities){const{characterController:a}=n;if(!a.object)return;a.setAction(r),a.object.updateActions(a.actions)}}unsetPlayerActions(r){for(const n of this.entityGroup.entities){const{characterController:a}=n;if(!a.object)return;a.unsetAction(r),a.object.updateActions(a.actions)}}updateFrame(r,n){const a=this.accumulatedDelta.x,i=.8*this.accumulatedDelta.y;this.accumulatedDelta.x-=a,this.accumulatedDelta.y-=i,ge.TouchInputProxy.CameraSinceLastTickIS.x+=-a,ge.TouchInputProxy.CameraSinceLastTickIS.y+=i,ge.TouchInputProxy.CameraSinceLastFrameIS.x+=-a,ge.TouchInputProxy.CameraSinceLastFrameIS.y+=i}onDispose(){this.$container.removeChild(this.$gamePadWrapper),this.$gamePadWrapper=null,this.$mainWrapper=null,this.$container=null;for(const r in this.control)this.control.hasOwnProperty(r)&&this.removeControl(r);document.body.removeEventListener("touchstart",this.onTouchStart),document.body.removeEventListener("touchmove",this.onTouchMove),document.body.removeEventListener("touchend",this.onTouchEnd),this.canvas.removeEventListener("orientationchange",this.onScreenOrientationChangeEvent),this.canvas.removeEventListener("blur",this.onBlur),this.canvas.removeEventListener("touchleave",this.onBlur),this.canvas.removeEventListener("touchcancel",this.onBlur),this.canvas.removeEventListener("touchleave",this.onBlur),this.canvas.removeEventListener("touchcancel",this.onBlur),super.onDispose()}}TouchGPObject.order=5,s([oe.InjectGroup(pe.default,he.default,me.default),y("design:type","function"==typeof(i=void 0!==se.default&&se.default)?i:Object)],TouchGPObject.prototype,"entityGroup",void 0),s([_.InjectSystem(()=>$.default),y("design:type","function"==typeof(o=void 0!==$.default&&$.default)?o:Object)],TouchGPObject.prototype,"renderSystem",void 0),n.default=TouchGPObject},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(156),w=a(334),E=a(153),j=a(159),q=a(19),$=a(419),ne=a(36),ie=a(37),oe=a(40),se=a(41);class UpdateAimTargetsSystem extends oe.default{constructor(){super(...arguments),this.tmpTransform=new se.Transform,this.tmpVec1=new q.Vector3,this.tmpVec2=new q.Vector3,this.tmpVec3=new q.Vector3,this.tmpPt1=new q.Vector3,this.tmpPt2=new q.Vector3}updateFrame(r,n){const a=this.entityManager.getOrCreateSingleton(E.PlayerState);if(!a||!a.playerEntity)return;const{playerControl:i,aim:o}=a.playerEntity;if(!o)return;const{camera:s}=this.renderSystem,y=this.tmpVec1,_=this.tmpVec2;let w=-1,j=Number.MAX_SAFE_INTEGER,q=null;for(let n=0;n<this.aimTargetGroup.length;n++){const a=this.aimTargetGroup.entities[n],{node:E,aimTarget:ne,health:ie}=a,oe=E.getInterpolatedAbsoluteTransform(this.tmpTransform,r);y.copy(oe.position),y.y-=.5*ne.height,_.copy(oe.position),_.y+=.5*ne.height;const se=this.tmpVec3.copy(i.lookDirection).multiplyScalar(1e3).add(s.position),le=this.tmpPt1,pe=this.tmpPt2;if($.closestLinePoints(y,_,s.position,se,le,pe),le.distanceTo(pe)>ne.radius||(null==ie?void 0:ie.isDead)||!ne.enableAimMagnetism){ne.intersectsTarget=!1;continue}const he=s.position.distanceTo(pe);if(ne.aimTargetDistance=he,ne.intersectsTarget=!0,ne.centerPosition.copy(le),ne.aimTargetPosition.copy(pe),he<0||(null==ie?void 0:ie.isDead)||!ne.enableAimMagnetism)ne.intersectsTarget=!1;else{if(o.magnetismTargetUid===a.uid){j=he,w=a.uid,q=ne;break}he<j&&(j=he,w=a.uid,q=ne)}}q?(o.prevMagnetismTargetUid=o.magnetismTargetUid,o.magnetismTargetDistance=j,o.magnetismTargetUid=w,o.magnetismTargetPosition.copy(q.aimTargetPosition),o.centerPosition.copy(q.centerPosition)):(o.prevMagnetismTargetUid=o.magnetismTargetUid,o.magnetismTargetDistance=0,o.magnetismTargetUid=-1,o.magnetismTargetPosition.set(0,0,0),o.centerPosition.set(0,0,0))}}UpdateAimTargetsSystem.order=11,s([ne.InjectGroup(se.default,w.AimTargetComponent),y("design:type","function"==typeof(i=void 0!==ie.default&&ie.default)?i:Object)],UpdateAimTargetsSystem.prototype,"aimTargetGroup",void 0),s([_.InjectSystem(()=>j.default),y("design:type","function"==typeof(o=void 0!==j.default&&j.default)?o:Object)],UpdateAimTargetsSystem.prototype,"renderSystem",void 0),n.default=UpdateAimTargetsSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.closestLinePoints=n.constrainToSegment=void 0;const i=a(19),o=a(283),s=new i.Vector3,y=new i.Vector3,_=new i.Vector3,w=new i.Vector3,E=new i.Vector3,j=new i.Vector3,q=new i.Vector3,$=new i.Vector3,ne=new i.Vector3,ie=new i.Vector3,oe=new i.Vector3,dot=(r,n)=>r.x*n.x+r.y*n.y+r.z*n.z;n.constrainToSegment=(r,n,a)=>{const i=s.subVectors(a,n),w=y.subVectors(r,n),E=dot(w,i)/dot(i,i);return _.lerpVectors(n,a,o.clamp(E,0,1))},n.closestLinePoints=(r,a,i,s,y,_)=>{const se=w.subVectors(s,i),le=dot(se,se),pe=q.subVectors(r,E.copy(se).multiplyScalar(dot(j.subVectors(r,i),se)/le)),he=$.subVectors(a,E.copy(se).multiplyScalar(dot(j.subVectors(a,i),se)/le)),me=ne.subVectors(he,pe);let ge=dot(ie.subVectors(i,pe),me)/dot(me,me);ge=pe!=he?ge:0;const ye=oe.lerpVectors(r,a,o.clamp(ge,0,1));_.copy(n.constrainToSegment(ye,i,s)),y.copy(n.constrainToSegment(_,r,a))}},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const w=a(36),E=a(156),j=a(37),q=a(43),$=a(421),ne=a(8),ie=a(342),oe=a(334),se=a(288),le=a(153),pe=a(45),he=a(20),me=a(60),ge=a(159),ye=a(19),_e=a(423),ve=a(166),Se=a(40),we=a(41),Me=a(335),Te=a(337);class UpdatePlayerCameraSystem extends Se.default{constructor(){super(...arguments),this.tmpCam=new ye.Camera,this.tmpRay=new me.Ray,this.tmpRayCastRes=new me.RayCastRes,this.vecPool=new ve.TempVectorPool,this.tmpTransform1=new we.Transform,this.tmpTransform2=new we.Transform,this.tmpQuat1=new ye.Quaternion}updateFrame(r,n){this.vecPool.reset();const a=this.entityManager.getOrCreateSingleton(le.PlayerState);if(!a.playerEntity)return;if(!(this.entityManager.hasComponent(a.playerEntity,we.default)&&this.entityManager.hasComponent(a.playerEntity,Me.default)&&this.entityManager.hasComponent(a.playerEntity,Te.default)))return;const i=a.playerEntity;i.playerControl.mode===Te.ViewMode.FIRST_PERSON?this.firstPersonCamera(i,r,n):i.playerControl.mode===Te.ViewMode.THIRD_PERSON&&this.thirdPersonCamera(i,r,n)}firstPersonCamera(r,n,a){var i;const o=this.entityManager.getOrCreateSingleton(se.InputState),{node:s,playerControl:y,characterController:_}=r;let w=y.getLookDirectionLongitude(),E=y.getLookDirectionLatitude();const j=!!(null===(i=o.latestSnapshot())||void 0===i?void 0:i.wasTouchInput);y.lookSpeed=Te.pccDefaultLookSpeed(j),w+=o.frameSnapshot.cameraIS.x*y.lookSpeed*a,E+=o.frameSnapshot.cameraIS.y*y.lookSpeed*a,E=Math.max(-85,Math.min(85,E)),y.setLookDirectionFromLongitudeLatitude(w,E);const q=s.getInterpolatedAbsoluteTransform(this.tmpTransform1,n),$=this.vecPool.get().copy(q.position);$.y+=.5*_.height;const{camera:ne}=this.renderSystem;ne.position.copy($),ne.lookAt(this.vecPool.get().copy(ne.position).add(y.lookDirection)),ne.updateMatrix(),ne.updateMatrixWorld(!0)}thirdPersonCamera(r,n,a){var i;const o=this.entityManager.getOrCreateSingleton(se.InputState),{node:s,characterController:y,playerControl:_}=r,{camera:w}=this.renderSystem;{const r=_.getLookDirectionLongitude(),n=_.getLookDirectionLatitude();_.setLookDirectionFromLongitudeLatitude(r,n)}const E=s.getInterpolatedAbsoluteTransform(this.tmpTransform1,n),j=this.vecPool.get().copy(E.position),$=this.vecPool.get().copy(j);$.y+=.25*y.height;const ne=this.calculateCameraOffsetPosition(_,$,r.uid),ie=!!(null===(i=o.latestSnapshot())||void 0===i?void 0:i.wasTouchInput);if(r.aim&&ie){const a=this.performAimMagnetism(r,o,ne,n);_.lookDirection.copy(a)}else r.playerControl.lookSpeed=Te.pccDefaultLookSpeed(ie);let oe=_.getLookDirectionLongitude(),le=_.getLookDirectionLatitude();oe+=o.frameSnapshot.cameraIS.x*_.lookSpeed*a,le+=o.frameSnapshot.cameraIS.y*_.lookSpeed*a,le=Math.max(-85,Math.min(85,le)),_.setLookDirectionFromLongitudeLatitude(oe,le);const pe=this.calculateCameraOffsetPosition(_,$,r.uid),he=this.calculateFinalCameraPosition(_,pe,r.uid,a);!q.cfg.shooterAllowLookingAwayFromCamera&&r.avatar&&r.avatar.lookDirection.copy(r.playerControl.lookDirection);const me=this.vecPool.get().copy(he).add(_.lookDirection);if(q.cfg.cameraRecoilEnabled){const r=this.vecPool.get().set(_.cameraRecoilOffset.x,_.cameraRecoilOffset.y,0);me.add(r)}_.cameraRecoilOffset.x>0&&(_.cameraRecoilOffset.x-=Math.min(.005,_.cameraRecoilOffset.x)),_.cameraRecoilOffset.y>0&&(_.cameraRecoilOffset.y-=Math.min(.005,_.cameraRecoilOffset.y)),w.position.copy(he),w.lookAt(me),w.updateMatrix(),w.updateMatrixWorld(!0)}calculateCameraOffsetPosition(r,n,a){const i=this.vecPool.get().copy(n);if(!_e.fuzzyEqualVec3(r.cameraOffset,this.vecPool.get().set(0,0,0))){this.tmpCam.position.copy(n),this.tmpCam.lookAt(this.vecPool.get().copy(n).add(r.lookDirection));const a=this.vecPool.get().copy(r.cameraOffset).applyQuaternion(this.tmpCam.quaternion),o=a.length();a.normalize();const s=o;i.add(a.multiplyScalar(s))}return i}calculateFinalCameraPosition(r,n,a,i){const o=this.vecPool.get(r.lookDirection).negate();let s=0;{const r=this.renderSystem.camera.fov*(Math.PI/180)*this.renderSystem.camera.aspect;s=ie.NEAR_PLANE_DIST*Math.tan(.5*r)}let y=r.maxCameraDistance;for(let i=0;i<2;i++){let _;0===i?_=this.vecPool.get().set(s,0,0).applyQuaternion(this.tmpCam.quaternion):1===i&&(_=this.vecPool.get().set(-s,0,0).applyQuaternion(this.tmpCam.quaternion)),this.tmpRay.originWS.copy(n).add(_),this.tmpRay.dirWS.copy(o),this.tmpRay.minDistWS=0,this.tmpRay.maxDistWS=r.maxCameraDistance,this.physicsSystem.rayCastSaneAPI(this.tmpRay,this.tmpRayCastRes,pe.PHYSICS_GROUPS.LocalPlayer,pe.PHYSICS_GROUPS.DefaultFilter|pe.PHYSICS_GROUPS.StaticFilter|pe.PHYSICS_GROUPS.KinematicFilter),this.tmpRayCastRes.hit&&this.tmpRayCastRes.uid!==a&&(y=Math.min(y,this.tmpRayCastRes.distWS-ie.NEAR_PLANE_DIST))}return r.currCameraDistance<=y?r.currCameraDistance=Math.min(y,r.currCameraDistance+8*i):(r.currCameraDistance=Math.max(y,r.currCameraDistance-12*i),r.currCameraDistance=Math.min(r.currCameraDistance,r.maxCameraDistance)),this.vecPool.get(o).multiplyScalar(r.currCameraDistance).add(n)}performAimSlowDown(r,n,a,i){var o;const{playerControl:s}=a,{camera:y}=this.renderSystem;if(a.aim.magnetismTargetUid<0)return;const _=this.entityManager.getEntity(a.aim.magnetismTargetUid);if(this.entityManager.getComponent(_,we.default),!this.entityManager.getComponent(_,oe.AimTargetComponent).enableAimMagnetism)return;const w=this.vecPool.get(),E=this.vecPool.get();$.getAimTargetHitInfo(_,s.lookDirection,n,i,w,E);const j=w,q=this.vecPool.get().subVectors(E,j),ne=q.length();q.normalize(),q.applyQuaternion(this.tmpQuat1.copy(y.quaternion).inverse()),q.z=0,q.normalize();const ie=this.vecPool.get().set(r.frameSnapshot.cameraIS.x,r.frameSnapshot.cameraIS.y,0),se=q.dot(ie),le=!!(null===(o=r.latestSnapshot())||void 0===o?void 0:o.wasTouchInput);(se>0||ne<.3)&&(s.lookSpeed=.3*Te.pccDefaultLookSpeed(le))}performAimMagnetism(r,n,a,i){var o;const s=!!(null===(o=n.latestSnapshot())||void 0===o?void 0:o.wasTouchInput),y=r.characterController;if(!ne.isTouchDevice)return r.playerControl.lookSpeed=Te.pccDefaultLookSpeed(s),r.playerControl.lookDirection;const _=this.vecPool.get().copy(r.playerControl.lookDirection);if(r.health&&r.health.isDead)return r.playerControl.lookSpeed=Te.pccDefaultLookSpeed(s),_;if(-1===r.aim.magnetismTargetUid||r.aim.aimTargetDistance>0&&r.aim.aimTargetDistance<r.aim.magnetismTargetDistance-2*y.radius)return r.playerControl.lookSpeed=Te.pccDefaultLookSpeed(s),_;const w=this.entityManager.getEntity(r.aim.magnetismTargetUid);if(!w)return r.playerControl.lookSpeed=Te.pccDefaultLookSpeed(s),_;const E=w.node.getInterpolatedAbsoluteTransform(this.tmpTransform2,i).position,j=this.vecPool.get().copy(E).sub(w.aimTarget.prevPosition);w.aimTarget.prevPosition.copy(E);const q=this.vecPool.get().copy(w.aimTarget.aimTargetPosition);if(q.sub(r.node.position),q.y-=1,q.normalize(),r.playerControl.lookDirection.dot(q)<0)return _;if(this.performAimSlowDown(n,a,r,i),r.aim.magnetismTargetUid!==r.aim.prevMagnetismTargetUid)return _;const $=this.vecPool.get().copy(w.aimTarget.aimTargetPosition).add(j);_.copy($).sub(a).normalize();const ie=w.aimTarget.aimTargetDistance-1.6,oe=Math.max(Math.min(.6*ie*ie,.6),0),se=this.vecPool.get().copy(r.playerControl.lookDirection).lerp(_,oe);return 1-se.dot(r.playerControl.lookDirection)>.025?r.playerControl.lookDirection:se}}UpdatePlayerCameraSystem.order=10,y([E.InjectSystem(()=>ge.default),_("design:type","function"==typeof(i=void 0!==ge.default&&ge.default)?i:Object)],UpdatePlayerCameraSystem.prototype,"renderSystem",void 0),y([E.InjectSystem(r=>he.default),_("design:type","function"==typeof(o=void 0!==he.default&&he.default)?o:Object)],UpdatePlayerCameraSystem.prototype,"physicsSystem",void 0),y([w.InjectGroup(we.default,oe.AimTargetComponent),_("design:type","function"==typeof(s=void 0!==j.default&&j.default)?s:Object)],UpdatePlayerCameraSystem.prototype,"aimTargetGroup",void 0),n.default=UpdatePlayerCameraSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getAimTargetHitInfo=void 0;const i=a(41),o=a(19),s=a(419),y=a(422),_=new i.Transform,w=new o.Vector3,E=new o.Vector3,j=new o.Vector3;n.getAimTargetHitInfo=(r,n,a,i,o,q)=>{const{node:$,aimTarget:ne,avatar:ie}=r;$.getInterpolatedAbsoluteTransform(_,i),ie&&y.getPlayerPosition(_,ie,_.position);const oe=w.copy(_.position);oe.y-=.5*ne.height-ne.innerRadius;const se=E.copy(_.position);se.y+=.5*ne.height-ne.innerRadius;const le=o,pe=q,he=j.copy(n).multiplyScalar(1e3).add(a);s.closestLinePoints(oe,se,a,he,le,pe)}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getPlayerTransform=n.getPlayerPosition=void 0;const i=a(19),o=a(193),s=new i.Vector3;n.getPlayerPosition=(r,n,a)=>{const i=s.set(0,0,0);return n.mesh&&n.mesh.skeleton&&(n.mesh.skeleton.bones[0].getWorldPosition(i).divideScalar(100).applyQuaternion(r.rotation),i.y+=o.AVATAR_Y_OFFSET),a.set(r.position.x+i.x,r.position.y+i.y,r.position.z+i.z),a},n.getPlayerTransform=(r,n,a)=>{const i=s.set(0,0,0);return n.mesh&&n.mesh.skeleton?(n.mesh.skeleton.bones[0].getWorldPosition(i).divideScalar(100).applyQuaternion(r.rotation),i.y+=o.AVATAR_Y_OFFSET,a.rotation.multiplyQuaternions(r.rotation,n.mesh.skeleton.bones[0].quaternion)):a.rotation.copy(r.rotation),a.position.set(r.position.x+i.x,r.position.y+i.y,r.position.z+i.z),a}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fuzzyEqualVec3=void 0,n.fuzzyEqualVec3=(r,n,a=.001)=>Math.abs(r.x-n.x)<a&&Math.abs(r.y-n.y)<a&&Math.abs(r.z-n.z)<a},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(6),o=a(40),s=a(8),y=a(125),_=a(133),w=a(322),E=a(320);class StatusUpdateSystem extends o.default{constructor(){super(...arguments),this.activeTimeout=3e4,this.lastActiveTickNumber=0,this.startTime=Date.now(),this.prevTime=Date.now(),this.isFirst=!0,this.intervalS=30,this.firstS=5,this.updateIntervalHandle=null}onInit(){window.addEventListener("beforeunload",this.handleBeforeUnload,!1),window.addEventListener("mousedown",()=>this.setActive()),window.addEventListener("touchstart",()=>this.setActive()),window.addEventListener("keydown",()=>this.setActive()),setTimeout(()=>{const r=s.entityManager.getOrCreateSingleton(_.default);w.GASend(r.isEditMode?"studio_v2":"game_v2",r.gamekit+"_start_game",r.projectId,1)},1e3)}handleBeforeUnload(r){const n=s.entityManager.getOrCreateSingleton(_.default);w.GASend(n.isEditMode?"studio_v2":"game_v2",n.gamekit+"_exit_unload",n.projectId,1)}setActive(){this.lastActiveTickNumber=s.entityManager.currentTickNumber}updateTick(){const r=this.entityManager.getOrCreateSingleton(E.default),n=Date.now(),a=n-this.prevTime,i=1e3*(this.isFirst?this.firstS:this.intervalS);(r.isNewRound||a>i)&&(this.prevTime=n,this.updateStatus(a,r.isNewRound,this.isFirst),this.isFirst=!1,r.isNewRound=!1)}async updateStatus(r,n,a){const o=Date.now()-this.startTime,s=this.entityManager.getOrCreateSingleton(_.default);if(w.GASend(s.isEditMode?"studio_v2":"game_v2",s.gamekit+"_timespent",s.projectId,o),s.isTryMode)return;const E={mode:s.isEditMode?1:0,id:s.projectId,message:"",isNewRound:n,isFirst:a,time:r},{studioUrl:j}=i.default,q=await(await y.request(`${j}/api/project/${E.id}/status`,{method:"POST",body:JSON.stringify(E)},"application/json")).json(),$=document.querySelector("h1.xp-text");q.xp>0?$.textContent=`+${q.xp}xp`:-1===q.xp&&($.classList.add("small"),$.textContent="Daily max for playing reached! Good job!"),$.classList.add("in"),setTimeout(()=>{$.classList.remove("in")},2500)}onDispose(){clearInterval(this.updateIntervalHandle),window.removeEventListener("beforeunload",this.handleBeforeUnload)}}StatusUpdateSystem.order=5,n.default=StatusUpdateSystem},function(r,n,a){"use strict";!function(r){Object.defineProperty(n,"__esModule",{value:!0}),n.genericGameLeft=n.diveTrack=n.getInstance=n.getCommonTrackingData=void 0;const i=a(426),o=a(6),s=a(125),y=a(224),_=a(13),w=a(225),E=a(133),j=a(8),q=a(78),$=a(450),ne=Date.now();n.getCommonTrackingData=()=>{var r;const n=window.INIT_DATA,a=window.GAME_SESSION_ID,i=(null===(r=w.NetworkLayer.instance)||void 0===r?void 0:r.roomId)||_.roomId,o=y.getCurrentGamekitStr().toLowerCase();return"snap"===o?{mode:j.entityManager.getOrCreateSingleton(E.default).projectType===q.EditMode.FREE_MODE?"advanced":"basic",id:n.id,gs_session_id:a,gs_duration:Math.round((Date.now()-ne)/1e3),room_id:i}:{type:o,name:n.title,id:n.id,gs_session_id:a,gs_duration:Math.round((Date.now()-ne)/1e3),room_id:i}},n.getInstance=()=>{if(o.default.isNative)return null;try{i.DiveSDK.instance||i.DiveSDK.Init({AppToken:"ce97524e-e1a2-44f3-87b6-d8c35efbb49a",HashKey:"4A5C232AB89A543BACD4F",Logger:{level:o.default.devMode?i.LogLevels.DEBUG:i.LogLevels.DISABLED},Environment:o.default.environment,AnalyticsURL:"https://a.hiber.dive.games/hw",GameVersion:"1.57.1",HasIdentityConsent:!0,ApiURL:"https://api.hiber.dive.games",ShowLogs:!1}).SetGameVersion("1.57.1")}catch(r){}return i.DiveSDK.getInstance()},n.diveTrack=async(a,i)=>{if(r.browser&&!$.default()){if(o.default.isNative)return window.ReactNativeWebView?void window.ReactNativeWebView.postMessage(JSON.stringify({action:"track_event",value:{eventName:a,eventProperties:Object.assign(Object.assign({},n.getCommonTrackingData()),i)}})):void 0;try{const r=n.getInstance();if(!r)return void console.warn("No dive instance available???");const o=s.getCookie("dont_track"),y=s.getUserID(),_=s.getRID();if(o)return;if(i)return void r.SetPlayerId(y||_||"unknown").RecordEvent(a,Object.assign(Object.assign({},n.getCommonTrackingData()),i));r.RecordEvent(a)}catch(r){}return"done"}};const ie=performance.now();n.genericGameLeft=function genericGameLeft(){return n.diveTrack("gameLeft",{g_duration:(performance.now()-ie)/1e3,is_fake:0})}}(a(2))},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=a(427);Object.defineProperty(n,"AppLaunched",{enumerable:!0,get:()=>i.default});var o=a(436);Object.defineProperty(n,"ErrorCreated",{enumerable:!0,get:()=>o.default});var s=a(437);Object.defineProperty(n,"ScreenViewed",{enumerable:!0,get:()=>s.default});var y=a(439);Object.defineProperty(n,"Settings",{enumerable:!0,get:()=>y.default});var _=a(440);Object.defineProperty(n,"DiveSDK",{enumerable:!0,get:()=>_.default});var w=a(428);Object.defineProperty(n,"Event",{enumerable:!0,get:()=>w.default});var E=a(432);Object.defineProperty(n,"EventBody",{enumerable:!0,get:()=>E.default});var j=a(434);Object.defineProperty(n,"LogLevels",{enumerable:!0,get:()=>j.default});var q=a(449);Object.defineProperty(n,"AppState",{enumerable:!0,get:()=>q.default})},function(r,n,a){"use strict";var i,o=this&&this.__extends||(i=function(r,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])})(r,n)},function(r,n){function __(){this.constructor=r}i(r,n),r.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(428),y=a(429),_=a(431),w=a(435),E=function(r){function AppLaunched(){var n=this,a={device:"",user_agent:"",connection:"",id_type:_.default.id_type,id_value:null,lang:"",os_version:"",is_refreshed:0,query_string_params:{},screen:{}};if(y.default.isClient()){var i=new w.UAParser,o=i.getDevice().vendor||i.getDevice().model?i.getDevice().vendor+" "+i.getDevice().model:i.getCPU().architecture?"pc":"unknown",s=void 0;(s=y.default.getCookie(y.default.COOKIE_ID_KEY))||y.default.setCookie(y.default.COOKIE_ID_KEY,s=y.default.uuidv4(),0);var E=window.screen?{height:window.screen.height,width:window.screen.width}:{};a={device:o,user_agent:null===navigator||void 0===navigator?void 0:navigator.userAgent,connection:"",id_type:_.default.id_type,id_value:s,lang:null===navigator||void 0===navigator?void 0:navigator.language,os_version:null===navigator||void 0===navigator?void 0:navigator.platform,is_refreshed:0,query_string_params:{},screen:E}}return(n=r.call(this,"appLaunched",a)||this).setQueryStringParams(),n}return o(AppLaunched,r),AppLaunched.prototype.GetDevice=function(){return this.getEventBody().getJson().device},AppLaunched.prototype.GetUserAgent=function(){return this.getEventBody().getJson().user_agent},AppLaunched.prototype.GetConnection=function(){return this.getEventBody().getJson().connection},AppLaunched.prototype.SetConnection=function(r){return this.getEventBody().getJson().connection=r,this},AppLaunched.prototype.GetIdType=function(){return this.getEventBody().getJson().id_type},AppLaunched.prototype.setQueryStringParams=function(){return y.default.isClient()&&(this.getEventBody().getJson().query_string_params=y.default.getQueryStringParams(window.location.search)),this},AppLaunched.prototype.GetIdValue=function(){return this.getEventBody().getJson().id_value},AppLaunched.prototype.GetLang=function(){return this.getEventBody().getJson().lang},AppLaunched.prototype.GetOsVersion=function(){return this.getEventBody().getJson().os_version},AppLaunched.prototype.SetIsRefreshed=function(r){return this.getEventBody().getJson().is_refreshed=r,this},AppLaunched.prototype.GetIsRefreshed=function(){return this.getEventBody().getJson().is_refreshed},AppLaunched.prototype._isPrefab=function(){return!0},AppLaunched}(s.default);n.default=E},function(r,n,a){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(r){for(var n,a=1,i=arguments.length;a<i;a++)for(var o in n=arguments[a])({}).hasOwnProperty.call(n,o)&&(r[o]=n[o]);return r}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var o=a(429),s=a(431),y=a(432),_=a(433),w=a(434),E=function(){function Event(r,n){this.header={name:"",player_id:null,s_session_id:null,game_ver:"",app_token:"",platform:s.default.platform,env:"dev",device_id:"",c_session_id:"",uuid:o.default.uuidv4(),timezone:(new Date).toString().split("GMT")[1].split(" (")[0],ts:"",timestamp_utc:"",unixts:0,sdk_ver:s.default.version,body:{}};var a=new Date,i=new Date(+a-6e4*a.getTimezoneOffset());if(this.header.ts=o.default.toISO8601(i),this.header.unixts=Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds())/1e3,this.header.timestamp_utc=o.default.toISO8601(a),this.header.uuid=o.default.uuidv4(),this.header.player_id=o.default.getCookie(o.default.PLAYER_ID_KEY),this.header.game_ver=o.default.getCookie(o.default.GAME_VER_KEY),this.header.c_session_id=o.default.getClientSessionId(),this.setSessionRestartedFrom(),o.default.isClient()){var y=void 0;(y=o.default.getCookie(o.default.COOKIE_ID_KEY))||o.default.setCookie(o.default.COOKIE_ID_KEY,y=o.default.uuidv4(),0),this.header.device_id=y}this.setName(r),this.setEventBody(n),this.SetPlatform(s.default.platform)}return Event.prototype._setTs=function(r){return this.header.ts=r,this},Event.prototype._setUnixts=function(r){return this.header.unixts=r,this},Event.prototype._mergeEventBody=function(r){var n=r.getJson();for(var a in n)this.eventBody.AddParam(a,n[a])},Event.prototype.getEventBody=function(){return this.eventBody},Event.prototype.setEventBody=function(r){return r instanceof y.default?this.eventBody=r:this.eventBody=new y.default(r),this},Event.prototype.toJson=function(){try{return this.header.c_session_id=o.default.getClientSessionId(),this.header=i(i({},this.header),Event.customHeaderParams),this.header.body=this.eventBody?this.eventBody.getJson():{},this.header}catch(r){return _.default.getInstance().add("Event error. Couldn't stringify event. Error says \""+r+'"',w.default.ERROR),{}}},Event.prototype.SetAppToken=function(r){return this.header.app_token=r,this},Event.prototype._isPrefab=function(){return!1},Event.prototype.setSessionRestartedFrom=function(){var r=o.default.getClientSessionRestartedFrom();r&&r.length>0&&(this.header.c_session_restarted_from=r)},Event.prototype.setName=function(r){if(!this._isPrefab()&&-1!==o.default.prefabEvents.indexOf(r))throw Error("An event with the name "+r+" cannot be created because there is a prefab event with the same name. Modify the name or try the prefab.");return this.header.name=r,this},Event.prototype.getName=function(){return this.header.name},Event.prototype.SetPlayerLevel=function(r){return this.header.level_before=r,this},Event.prototype.GetPlayerLevel=function(){return this.header.level_before},Event.prototype.SetPlayerXp=function(r){return this.header.xp_before=r,this},Event.prototype.GetPlayerXp=function(){return this.header.xp_before},Event.prototype.SetPlayerId=function(r){return o.default.setCookie(o.default.PLAYER_ID_KEY,r,0),this.header.player_id=r,this},Event.prototype.GetPlayerId=function(){return this.header.player_id},Event.prototype.SetServerSessionId=function(r){return this.header.s_session_id=r,this},Event.prototype.GetServerSessionId=function(){return this.header.s_session_id},Event.prototype.SetGameVersion=function(r){return o.default.setCookie(o.default.GAME_VER_KEY,r,0),this.header.game_ver=r,this},Event.prototype.GetGameVersion=function(){return this.header.game_ver},Event.prototype.GetClientSessionId=function(){return this.header.c_session_id},Event.prototype.SetPlatform=function(r){return this.header.platform=r,this},Event.prototype.GetPlatform=function(){return this.header.platform},Event.prototype.SetEnv=function(r){return this.header.env=r,this},Event.prototype.getEnv=function(){return this.header.env},Event.prototype.getUuid=function(){return this.header.uuid},Event.prototype.getTimezone=function(){return this.header.timezone},Event.prototype.getUnixts=function(){return this.header.unixts},Event.prototype.getTs=function(){return this.header.ts},Event.prototype.getTimestampUTC=function(){return this.header.timestamp_utc},Event.prototype.addCustomHeader=function(r,n){return this.SetCustomHeaderParam(r,n)},Event.prototype.SetCustomHeaderParam=function(r,n){return this.header[r]=n,this},Event.SetCustomHeaderParam=function(r,n){this.customHeaderParams[r]=n},Event.ResetCustomHeaders=function(){this.customHeaderParams={}},Event.customHeaderParams={},Event}();n.default=E},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=a(430),o=a(428),s=function(){function Utils(){}return Utils.patchCookie=function(r){if(r&&Utils.isClient()){var n=new Date(0);document.cookie=Utils.COOKIE_ID_KEY+"="+Math.random()+";path=/;expires="+n.toUTCString()+";"}},Utils.refreshCookieIfExists=function(r,n){var a=Utils.getCookie(r);a&&this.setCookie(r,a,n)},Utils.processDiveParameters=function(r,n){Utils.isClient()&&Object.entries(r).forEach((function(r){var a=r[0],i=r[1];-1!==a.indexOf(Utils.PARAMETER_PREFIX)&&(a!==Utils.DIVE_CID_KEY||a===Utils.DIVE_CID_KEY&&!Utils.getCookie(Utils.DIVE_CID_KEY))&&Utils.setCookie(a,i,n)}))},Utils.refreshAllDiveCookies=function(r){var n=Utils.getAllDiveCookies();Object.entries(n).forEach((function(n){var a=n[0],i=n[1];Utils.setCookie(a,i,r)}))},Utils.getAllDiveCookies=function(){var r={};if(Utils.isClient())for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var i=n[a].split("=");-1!==i[0].indexOf(Utils.PARAMETER_PREFIX)&&(r[(i[0]+"").trim()]=unescape(i.slice(1).join("=")))}return r},Utils.processQueryStringParams=function(r){if(Utils.isClient()){var n=Utils.getQueryStringParams(window.location.search),a=Utils.getReferrerQueryString();a&&(n=Object.assign(Utils.getQueryStringParams(a),n)),Utils.processDiveParameters(n,r)}},Utils.getReferrerQueryString=function(){var r=null;if(Utils.isClient()&&document.referrer){var n=document.referrer.split("?");n.length>1&&(r=n[1])}return r},Utils.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(r){var n=16*Math.random()|0;return("x"===r?n:3&n|8).toString(16)}))},Utils.getDeviceId=function(){var r;return(r=Utils.getCookie(Utils.COOKIE_ID_KEY))||Utils.setCookie(Utils.COOKIE_ID_KEY,r=Utils.uuidv4(),0),r},Utils.paramsToObject=function(r){var n,a=r.split("=");return a[0]?(a[0].startsWith("dive_")&&o.default.SetCustomHeaderParam(a[0],a[1]),(n={})[a[0]]=a[1]||null,n):{}},Utils.getQueryStringParams=function(r){return r.replace("?","").split("&").map(this.paramsToObject).reduce((function(r,n){return r?Object.assign(r,n):{}}))},Utils.digest=function(r,n){return i.default.sha1_hmac(r,n)},Utils.firstSession=function(){return!this.isClient()||!this.getCookie(Utils.SESSION_ID_KEY)},Utils.setClientSessionIdCookie=function(r){var n=Utils.getCookie(Utils.SESSION_ID_KEY);n||(n=Utils.uuidv4()),this.setCookie(Utils.SESSION_ID_KEY,n,r)},Utils.removeClientSessionIdCookie=function(){this.removeCookie(Utils.SESSION_ID_KEY)},Utils.removeDiveCookies=function(){this.removeCookie(Utils.VIEWED_BEFORE_KEY),this.removeCookie(Utils.SESSION_ID_KEY),this.removeCookie(Utils.PLAYER_ID_KEY),this.removeCookie(Utils.GAME_VER_KEY),this.removeCookie(Utils.DIVE_CID_KEY)},Utils.refreshClientSessionId=function(r){var n=Utils.getCookie(Utils.SESSION_ID_KEY);n||(this.setClientSessionRestartedFromIdCookie(),n=Utils.uuidv4()),this.setCookie(Utils.SESSION_ID_KEY,n,r)},Utils.setClientSessionRestartedFromIdCookie=function(){var r=Utils.getCookie(Utils.SESSION_ID_KEY);r||this.setCookie(Utils.SESSION_RESTARTED_FROM_KEY,r)},Utils.getClientSessionId=function(){return this.getCookie(Utils.SESSION_ID_KEY)},Utils.getClientSessionRestartedFrom=function(){return this.getCookie(Utils.SESSION_RESTARTED_FROM_KEY)},Utils.inArray=function(r,n){return Array.isArray(r)?-1!==r.indexOf(n):!!Array.isArray(n)&&-1!==n.indexOf(r)},Utils.utcToLocal=function(r){return new Date(r.getTime()-6e4*r.getTimezoneOffset())},Utils.setSettings=function(r){this.setCookie(Utils.REMOTE_SETTINGS_KEY,JSON.stringify(r))},Utils.getSettings=function(){var r=this.getCookie(Utils.REMOTE_SETTINGS_KEY);return r?JSON.parse(r):null},Utils.getRemoteConfig=function(){var r=this.getCookie(Utils.REMOTE_CONFIG_KEY);return r?JSON.parse(r):null},Utils.setRemoteConfig=function(r){this.setCookie(Utils.REMOTE_CONFIG_KEY,JSON.stringify(r))},Utils.isIPV4Address=function(r){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(r)},Utils.PARAMETER_PREFIX="dive_",Utils.SESSION_ID_KEY="dive_csid",Utils.SESSION_RESTARTED_FROM_KEY="dive_csrid",Utils.VIEWED_BEFORE_KEY="dive_vbk",Utils.DIVE_CID_KEY="dive_cid",Utils.COOKIE_ID_KEY="COOKIEID",Utils.TRACKING_STOPPED_KEY="tracking_stopped",Utils.PLAYER_ID_KEY="dive_plid",Utils.GAME_VER_KEY="dive_gmv",Utils.REMOTE_CONFIG_KEY="dive_rc",Utils.REMOTE_SETTINGS_KEY="dive_rs",Utils.prefabEvents=["appLaunched","beacon","errorCreated","screenViewed","sdkStarted"],Utils.setCookie=function(r,n,a){if(Utils.isClient()){var i;if(void 0!==a){var o=new Date(2147483647e3);a&&(o=new Date).setTime(o.getTime()+1e3*a),i=r+"="+n+";path=/;expires="+o.toUTCString()+";"}else i=r+"="+n+";path=/;";document.cookie=i}},Utils.getCookie=function(r){if(Utils.isClient()){var n=document.cookie.match("(^|;) ?"+r+"=([^;]*)(;|$)");return n?n[2]:null}},Utils.removeCookie=function(r){var n=new Date(0);document.cookie=r+"=;path=/;expires="+n.toUTCString()+";"},Utils.toISO8601=function(r){return r.toISOString().split(".")[0]+"Z"},Utils.isClient=function(){return"undefined"!=typeof window||"undefined"!=typeof document},Utils}();n.default=s,new(function(){function WindowStateManager(r,n){this._LOCALSTORAGE_KEY="DIVE_WINDOW_STATE_MANAGER",this.RECHECK_WINDOW_DELAY_MS=100,this._initialized=!1,this._unloaded=!1,this._isNewWindowPromotedToMain=!1,this._onWindowUpdated=n,this._isNewWindowPromotedToMain=r,this._windowId=Date.now().toString(),this.bindUnload(),this.determineWindowState.call(this),this._initialized=!0,this._onWindowUpdated.call(this)}return WindowStateManager.prototype.determineWindowState=function(){var r=this,n=this._isMainWindow;this._windowArray=localStorage.getItem(this._LOCALSTORAGE_KEY),null===this._windowArray||"NaN"===this._windowArray?this._windowArray=[]:this._windowArray=JSON.parse(this._windowArray),this._initialized?this._windowArray.length<=1||(this._isNewWindowPromotedToMain?this._windowArray[this._windowArray.length-1]:this._windowArray[0])===this._windowId?this._isMainWindow=!0:this._isMainWindow=!1:0===this._windowArray.length?(this._isMainWindow=!0,this._windowArray[0]=this._windowId,localStorage.setItem(this._LOCALSTORAGE_KEY,JSON.stringify(this._windowArray))):(this._isMainWindow=!1,this._windowArray.push(this._windowId),localStorage.setItem(this._LOCALSTORAGE_KEY,JSON.stringify(this._windowArray))),n!==this._isMainWindow&&this._onWindowUpdated.call(this),setTimeout((function(){r.determineWindowState.call(r)}),this.RECHECK_WINDOW_DELAY_MS)},WindowStateManager.prototype.removeWindow=function(){var r=localStorage.getItem(this._LOCALSTORAGE_KEY);if(null!=r){for(var n=JSON.parse(r),a=0,i=n.length;a<i;a++)if(n[a]===this._windowId){n.splice(a,1),0==n.length&&s.removeDiveCookies(),this._unloaded=!0;break}localStorage.setItem(this._LOCALSTORAGE_KEY,JSON.stringify(n))}},WindowStateManager.prototype.bindUnload=function(){var r=this;window.addEventListener("beforeunload",(function(){r._unloaded||r.removeWindow()})),window.addEventListener("unload",(function(){r._unloaded||r.removeWindow()}))},WindowStateManager.prototype.isMainWindow=function(){return this._isMainWindow},WindowStateManager.prototype.resetWindows=function(){localStorage.removeItem(this._LOCALSTORAGE_KEY)},WindowStateManager}())(!1,(function windowUpdated(){}))},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function Crypt(){}return Crypt.sha1_hmac=function(r,n){var a,i,o,s,y,_;for(n&&n.length>64&&(n=Crypt.sha1(n,!0)),s=[],_=n?n.length:0,y=0;y<64;++y)s[y]=_>y?n.charCodeAt(y):0;for(a="",i="",y=0;y<64;++y)a+=String.fromCharCode(92^s[y]),i+=String.fromCharCode(54^s[y]);return o=Crypt.sha1(i+r,!0),Crypt.sha1(a+o)},Crypt.sha1=function(r,n){function rotate_left(r,n){return r<<n|r>>>32-n}function cvt_hex(r,n){var a,i,o="";for(a=7;a>=0;a--)i=r>>>4*a&15,o+=n?String.fromCharCode(i):i.toString(16);return o}var a,i,o,s,y,_,w,E,j,q,$=Array(80),ne=1732584193,ie=4023233417,oe=2562383102,se=271733878,le=3285377520,pe=r.length,he=[];for(i=0;i<pe-3;i+=4)o=r.charCodeAt(i)<<24|r.charCodeAt(i+1)<<16|r.charCodeAt(i+2)<<8|r.charCodeAt(i+3),he.push(o);switch(pe%4){case 0:i=2147483648;break;case 1:i=r.charCodeAt(pe-1)<<24|8388608;break;case 2:i=r.charCodeAt(pe-2)<<24|r.charCodeAt(pe-1)<<16|32768;break;case 3:i=r.charCodeAt(pe-3)<<24|r.charCodeAt(pe-2)<<16|r.charCodeAt(pe-1)<<8|128}for(he.push(i);he.length%16!=14;)he.push(0);for(he.push(pe>>>29),he.push(pe<<3&4294967295),a=0;a<he.length;a+=16){for(i=0;i<16;i++)$[i]=he[a+i];for(i=16;i<=79;i++)$[i]=rotate_left($[i-3]^$[i-8]^$[i-14]^$[i-16],1);s=ne,y=ie,_=oe,w=se,E=le;var me=void 0;for(i=0;i<=19;i++)me=rotate_left(s,5)+(y&_|~y&w)+E+$[i]+1518500249&4294967295,E=w,w=_,_=rotate_left(y,30),y=s,s=me;for(i=20;i<=39;i++)me=rotate_left(s,5)+(y^_^w)+E+$[i]+1859775393&4294967295,E=w,w=_,_=rotate_left(y,30),y=s,s=me;for(i=40;i<=59;i++)me=rotate_left(s,5)+(y&_|y&w|_&w)+E+$[i]+2400959708&4294967295,E=w,w=_,_=rotate_left(y,30),y=s,s=me;for(i=60;i<=79;i++)me=rotate_left(s,5)+(y^_^w)+E+$[i]+3395469782&4294967295,E=w,w=_,_=rotate_left(y,30),y=s,s=me;ne=ne+s&4294967295,ie=ie+y&4294967295,oe=oe+_&4294967295,se=se+w&4294967295,le=le+E&4294967295}if(j=(cvt_hex(ne)+cvt_hex(ie)+cvt_hex(oe)+cvt_hex(se)+cvt_hex(le)).toLowerCase(),!n)return j;for(q="";j.length;)q+=String.fromCharCode(parseInt(j.substr(0,2),16)),j=j.substr(2);return q},Crypt}();n.default=i},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function Globals(){}return Globals.version="TS Dive SDK 1.5.2",Globals.settings_url="https://public.dive.games/sdk",Globals.events_path="/events",Globals.id_type="COOKIEID",Globals.platform="web",Globals.SESSION_ID_KEY="suid",Globals.DIGEST_KEY="dive-digest",Globals.COOKIE_PATCH=!0,Globals}();n.default=i},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function EventBody(r){this.json={},this.json=r||{}}return EventBody.prototype.getJson=function(){return this.json},EventBody.prototype.AddParam=function(r,n){return this.json||(this.json={}),this.json[r]=n,this},EventBody}();n.default=i},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=a(434),o=a(429),s=function(){function Logger(r){this.settings=r}return Logger.getInstance=function(r){return Logger.instance||(Logger.instance=new Logger(r||Logger.DEFAULT_SETTINGS)),Logger.instance},Logger.prototype.add=function(r,n){this.settings.level.code>=n.code&&(o.default.isClient()?console.log("%c["+n.name+"] ["+(new Date).toISOString()+"] - "+r,n.style):console.log("["+n.name+"] ["+(new Date).toISOString()+"] - "+r))},Logger.DEFAULT_SETTINGS={level:i.default.DISABLED},Logger}();n.default=s},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function LogLevels(){}return LogLevels.DISABLED={code:0,name:"DISABLED",style:null},LogLevels.ERROR={code:1,name:"ERROR",style:"background: #bc1601; color: #fafafa"},LogLevels.WARNING={code:2,name:"WARNING",style:"background: #F6F35F; color: #1a1a1a"},LogLevels.INFO={code:3,name:"INFO",style:"background: #BFE8A5; color: #1a1a1a"},LogLevels.DEBUG={code:4,name:"DEBUG",style:null},LogLevels}();n.default=i},function(r,n,a){var i;!function(a,o){"use strict";var s="model",y="name",_="type",w="vendor",E="version",j="mobile",q="tablet",$="smarttv",ne={extend(r,n){var a={};for(var i in r)n[i]&&n[i].length%2==0?a[i]=n[i].concat(r[i]):a[i]=r[i];return a},has:(r,n)=>"string"==typeof r&&-1!==n.toLowerCase().indexOf(r.toLowerCase()),lowerize:r=>r.toLowerCase(),major:r=>"string"==typeof r?r.replace(/[^\d\.]/g,"").split(".")[0]:o,trim:(r,n)=>(r=r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),undefined===n?r:r.substring(0,255))},ie={rgx(r,n){for(var a,i,s,y,_,w,E=0;E<n.length&&!_;){var j=n[E],q=n[E+1];for(a=i=0;a<j.length&&!_;)if(_=j[a++].exec(r))for(s=0;s<q.length;s++)w=_[++i],"object"==typeof(y=q[s])&&y.length>0?2==y.length?"function"==typeof y[1]?this[y[0]]=y[1].call(this,w):this[y[0]]=y[1]:3==y.length?"function"!=typeof y[1]||y[1].exec&&y[1].test?this[y[0]]=w?w.replace(y[1],y[2]):o:this[y[0]]=w?y[1].call(this,w,y[2]):o:4==y.length&&(this[y[0]]=w?y[3].call(this,w.replace(y[1],y[2])):o):this[y]=w||o;E+=2}},str(r,n){for(var a in n)if("object"==typeof n[a]&&n[a].length>0){for(var i=0;i<n[a].length;i++)if(ne.has(n[a][i],r))return"?"===a?o:a}else if(ne.has(n[a],r))return"?"===a?o:a;return r}},oe={browser:{oldSafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}},oldEdge:{version:{.1:"12.",21:"13.",31:"14.",39:"15.",41:"16.",42:"17.",44:"18."}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},se={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[E,[y,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[E,[y,"Edge"]],[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6})\b.+version\/([\w\.-]+)/i,/(opera)(?:.+version\/|[\/\s]+)([\w\.]+)/i],[y,E],[/opios[\/\s]+([\w\.]+)/i],[E,[y,"Opera Mini"]],[/\sopr\/([\w\.]+)/i],[E,[y,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(ba?idubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i,/(rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([\w\.]+)/i,/(weibo)__([\d\.]+)/i],[y,E],[/(?:[\s\/]uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[E,[y,"UCBrowser"]],[/(?:windowswechat)?\sqbcore\/([\w\.]+)\b.*(?:windowswechat)?/i],[E,[y,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[E,[y,"WeChat"]],[/konqueror\/([\w\.]+)/i],[E,[y,"Konqueror"]],[/trident.+rv[:\s]([\w\.]{1,9})\b.+like\sgecko/i],[E,[y,"IE"]],[/yabrowser\/([\w\.]+)/i],[E,[y,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[y,/(.+)/,"$1 Secure Browser"],E],[/focus\/([\w\.]+)/i],[E,[y,"Firefox Focus"]],[/opt\/([\w\.]+)/i],[E,[y,"Opera Touch"]],[/coc_coc_browser\/([\w\.]+)/i],[E,[y,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[E,[y,"Dolphin"]],[/coast\/([\w\.]+)/i],[E,[y,"Opera Coast"]],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[E,[y,"MIUI Browser"]],[/fxios\/([\w\.-]+)/i],[E,[y,"Firefox"]],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[y,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[y,/(.+)/,"$1 Browser"],E],[/(comodo_dragon)\/([\w\.]+)/i],[[y,/_/g," "],E],[/\s(electron)\/([\w\.]+)\ssafari/i,/(tesla)(?:\sqtcarbrowser|\/(20[12]\d\.[\w\.-]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/\s]?([\w\.]+)/i],[y,E],[/(MetaSr)[\/\s]?([\w\.]+)/i,/(LBBROWSER)/i],[y],[/;fbav\/([\w\.]+);/i],[E,[y,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[y,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/\s]([\w\.-]+)/i],[y,E],[/\bgsa\/([\w\.]+)\s.*safari\//i],[E,[y,"GSA"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[E,[y,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[y,"Chrome WebView"],E],[/droid.+\sversion\/([\w\.]+)\b.+(?:mobile\ssafari|safari)/i],[E,[y,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[y,E],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[E,[y,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[E,y],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[y,[E,ie.str,oe.browser.oldSafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[y,E],[/(navigator|netscape)\/([\w\.-]+)/i],[[y,"Netscape"],E],[/ile\svr;\srv:([\w\.]+)\).+firefox/i],[E,[y,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[y,E]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",ne.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|armv?8e?l?)\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",ne.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?:64|(?=v(?:[1-7]|[5-7]1)l?|;|eabi))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",ne.lowerize]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus\s10)/i],[s,[w,"Samsung"],[_,q]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy\snexus)/i,/\ssamsung[\s-]([\w-]+)/i,/sec-(sgh\w+)/i],[s,[w,"Samsung"],[_,j]],[/\((ip(?:hone|od)[\s\w]*);/i],[s,[w,"Apple"],[_,j]],[/\((ipad);[\w\s\),;-]+apple/i,/applecoremedia\/[\w\.]+\s\((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[s,[w,"Apple"],[_,q]],[/\b((?:agr|ags[23]|bah2?|sht?)-a?[lw]\d{2})/i],[s,[w,"Huawei"],[_,q]],[/d\/huawei([\w\s-]+)[;\)]/i,/\b(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?|ele-l\d\d)/i,/\b(\w{2,4}-[atu][ln][01259][019])[;\)\s]/i],[s,[w,"Huawei"],[_,j]],[/\b(poco[\s\w]+)(?:\sbuild|\))/i,/\b;\s(\w+)\sbuild\/hm\1/i,/\b(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/\b(redmi[\s\-_]?(?:note|k)?[\w\s_]+)(?:\sbuild|\))/i,/\b(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[s,/_/g," "],[w,"Xiaomi"],[_,j]],[/\b(mi[\s\-_]?(?:pad)(?:[\w\s_]+))(?:\sbuild|\))/i],[[s,/_/g," "],[w,"Xiaomi"],[_,q]],[/;\s(\w+)\sbuild.+\soppo/i,/\s(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007)\b/i],[s,[w,"OPPO"],[_,j]],[/\svivo\s(\w+)(?:\sbuild|\))/i,/\s(v[12]\d{3}\w?[at])(?:\sbuild|;)/i],[s,[w,"Vivo"],[_,j]],[/\s(rmx[12]\d{3})(?:\sbuild|;)/i],[s,[w,"Realme"],[_,j]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)\b[\w\s]+build\//i,/\smot(?:orola)?[\s-](\w*)/i,/((?:moto[\s\w\(\)]+|xt\d{3,4}|nexus\s6)(?=\sbuild|\)))/i],[s,[w,"Motorola"],[_,j]],[/\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[s,[w,"Motorola"],[_,q]],[/((?=lg)?[vl]k\-?\d{3})\sbuild|\s3\.[\s\w;-]{10}lg?-([06cv9]{3,4})/i],[s,[w,"LG"],[_,q]],[/(lm-?f100[nv]?|nexus\s[45])/i,/lg[e;\s\/-]+((?!browser|netcast)\w+)/i,/\blg(\-?[\d\w]+)\sbuild/i],[s,[w,"LG"],[_,j]],[/(ideatab[\w\-\s]+)/i,/lenovo\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+)|yt[\d\w-]{6}|tb[\d\w-]{6})/i],[s,[w,"Lenovo"],[_,q]],[/(?:maemo|nokia).*(n900|lumia\s\d+)/i,/nokia[\s_-]?([\w\.-]*)/i],[[s,/_/g," "],[w,"Nokia"],[_,j]],[/droid.+;\s(pixel\sc)[\s)]/i],[s,[w,"Google"],[_,q]],[/droid.+;\s(pixel[\s\daxl]{0,6})(?:\sbuild|\))/i],[s,[w,"Google"],[_,j]],[/droid.+\s([c-g]\d{4}|so[-l]\w+|xq-a\w[4-7][12])(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[w,"Sony"],[_,j]],[/sony\stablet\s[ps]\sbuild\//i,/(?:sony)?sgp\w+(?:\sbuild\/|\))/i],[[s,"Xperia Tablet"],[w,"Sony"],[_,q]],[/\s(kb2005|in20[12]5|be20[12][59])\b/i,/\ba000(1)\sbuild/i,/\boneplus\s(a\d{4})[\s)]/i],[s,[w,"OnePlus"],[_,j]],[/(alexa)webm/i,/(kf[a-z]{2}wi)(\sbuild\/|\))/i,/(kf[a-z]+)(\sbuild\/|\)).+silk\//i],[s,[w,"Amazon"],[_,q]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[s,"Fire Phone"],[w,"Amazon"],[_,j]],[/\((playbook);[\w\s\),;-]+(rim)/i],[s,w,[_,q]],[/((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10;\s(\w+)/i],[s,[w,"BlackBerry"],[_,j]],[/(?:\b|asus_)(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus\s7|padfone|p00[cj])/i],[s,[w,"ASUS"],[_,q]],[/\s(z[es]6[027][01][km][ls]|zenfone\s\d\w?)\b/i],[s,[w,"ASUS"],[_,j]],[/(nexus\s9)/i],[s,[w,"HTC"],[_,q]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[w,[s,/_/g," "],[_,j]],[/droid[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[s,[w,"Acer"],[_,q]],[/droid.+;\s(m[1-5]\snote)\sbuild/i,/\bmz-([\w-]{2,})/i],[s,[w,"Meizu"],[_,j]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i,/(microsoft);\s(lumia[\s\w]+)/i,/(lenovo)[_\s-]?([\w-]+)/i,/linux;.+(jolla);/i,/droid.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[w,s,[_,j]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i,/[;\/]\s?(le[\s\-]+pan)[\s\-]+(\w{1,9})\sbuild/i,/[;\/]\s?(trinity)[\-\s]*(t\d{3})\sbuild/i,/\b(gigaset)[\s\-]+(q\w{1,9})\sbuild/i,/\b(vodafone)\s([\w\s]+)(?:\)|\sbuild)/i],[w,s,[_,q]],[/\s(surface\sduo)\s/i],[s,[w,"Microsoft"],[_,q]],[/droid\s[\d\.]+;\s(fp\du?)\sbuild/i],[s,[w,"Fairphone"],[_,j]],[/\s(u304aa)\sbuild/i],[s,[w,"AT&T"],[_,j]],[/sie-(\w*)/i],[s,[w,"Siemens"],[_,j]],[/[;\/]\s?(rct\w+)\sbuild/i],[s,[w,"RCA"],[_,q]],[/[;\/\s](venue[\d\s]{2,7})\sbuild/i],[s,[w,"Dell"],[_,q]],[/[;\/]\s?(q(?:mv|ta)\w+)\sbuild/i],[s,[w,"Verizon"],[_,q]],[/[;\/]\s(?:barnes[&\s]+noble\s|bn[rt])([\w\s\+]*)\sbuild/i],[s,[w,"Barnes & Noble"],[_,q]],[/[;\/]\s(tm\d{3}\w+)\sbuild/i],[s,[w,"NuVision"],[_,q]],[/;\s(k88)\sbuild/i],[s,[w,"ZTE"],[_,q]],[/;\s(nx\d{3}j)\sbuild/i],[s,[w,"ZTE"],[_,j]],[/[;\/]\s?(gen\d{3})\sbuild.*49h/i],[s,[w,"Swiss"],[_,j]],[/[;\/]\s?(zur\d{3})\sbuild/i],[s,[w,"Swiss"],[_,q]],[/[;\/]\s?((zeki)?tb.*\b)\sbuild/i],[s,[w,"Zeki"],[_,q]],[/[;\/]\s([yr]\d{2})\sbuild/i,/[;\/]\s(dragon[\-\s]+touch\s|dt)(\w{5})\sbuild/i],[[w,"Dragon Touch"],s,[_,q]],[/[;\/]\s?(ns-?\w{0,9})\sbuild/i],[s,[w,"Insignia"],[_,q]],[/[;\/]\s?((nxa|Next)-?\w{0,9})\sbuild/i],[s,[w,"NextBook"],[_,q]],[/[;\/]\s?(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05]))\sbuild/i],[[w,"Voice"],s,[_,j]],[/[;\/]\s?(lvtel\-)?(v1[12])\sbuild/i],[[w,"LvTel"],s,[_,j]],[/;\s(ph-1)\s/i],[s,[w,"Essential"],[_,j]],[/[;\/]\s?(v(100md|700na|7011|917g).*\b)\sbuild/i],[s,[w,"Envizen"],[_,q]],[/[;\/]\s?(trio[\s\w\-\.]+)\sbuild/i],[s,[w,"MachSpeed"],[_,q]],[/[;\/]\s?tu_(1491)\sbuild/i],[s,[w,"Rotor"],[_,q]],[/(shield[\w\s]+)\sbuild/i],[s,[w,"Nvidia"],[_,q]],[/(sprint)\s(\w+)/i],[w,s,[_,j]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[w,"Microsoft"],[_,j]],[/droid\s[\d\.]+;\s(cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[s,[w,"Zebra"],[_,q]],[/droid\s[\d\.]+;\s(ec30|ps20|tc[2-8]\d[kx])\)/i],[s,[w,"Zebra"],[_,j]],[/\s(ouya)\s/i,/(nintendo)\s([wids3utch]+)/i],[w,s,[_,"console"]],[/droid.+;\s(shield)\sbuild/i],[s,[w,"Nvidia"],[_,"console"]],[/(playstation\s[345portablevi]+)/i],[s,[w,"Sony"],[_,"console"]],[/[\s\(;](xbox(?:\sone)?(?!;\sxbox))[\s\);]/i],[s,[w,"Microsoft"],[_,"console"]],[/smart-tv.+(samsung)/i],[w,[_,$]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[w,"Samsung"],[_,$]],[/(?:linux;\snetcast.+smarttv|lg\snetcast\.tv-201\d)/i],[[w,"LG"],[_,$]],[/(apple)\s?tv/i],[w,[s,"Apple TV"],[_,$]],[/crkey/i],[[s,"Chromecast"],[w,"Google"],[_,$]],[/droid.+aft([\w])(\sbuild\/|\))/i],[s,[w,"Amazon"],[_,$]],[/\(dtv[\);].+(aquos)/i],[s,[w,"Sharp"],[_,$]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[w,ne.trim],[s,ne.trim],[_,$]],[/[\s\/\(](android\s|smart[-\s]?|opera\s)tv[;\)\s]/i],[[_,$]],[/((pebble))app\/[\d\.]+\s/i],[w,s,[_,"wearable"]],[/droid.+;\s(glass)\s\d/i],[s,[w,"Google"],[_,"wearable"]],[/droid\s[\d\.]+;\s(wt63?0{2,3})\)/i],[s,[w,"Zebra"],[_,"wearable"]],[/(tesla)(?:\sqtcarbrowser|\/20[12]\d\.[\w\.-]+)/i],[w,[_,"embedded"]],[/droid .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[s,[_,j]],[/droid .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[s,[_,q]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[_,ne.lowerize]],[/(android[\w\.\s\-]{0,9});.+build/i],[s,[w,"Generic"]],[/(phone)/i],[[_,j]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[E,[y,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[E,[y,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[y,E],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[E,y]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[y,E],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)(?!.+xbox)/i],[y,[E,ie.str,oe.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[y,"Windows"],[E,ie.str,oe.os.windows.version]],[/ip[honead]{2,4}\b(?:.*os\s([\w]+)\slike\smac|;\sopera)/i,/cfnetwork\/.+darwin/i],[[E,/_/g,"."],[y,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)(?!.+haiku)/i],[[y,"Mac OS"],[E,/_/g,"."]],[/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/\((series40);/i],[y,E],[/\(bb(10);/i],[E,[y,"BlackBerry"]],[/(?:symbian\s?os|symbos|s60(?=;)|series60)[\/\s-]?([\w\.]*)/i],[E,[y,"Symbian"]],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[y,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[E,[y,"webOS"]],[/crkey\/([\d\.]+)/i],[E,[y,"Chromecast"]],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[y,"Chromium OS"],E],[/(nintendo|playstation)\s([wids345portablevuch]+)/i,/(xbox);\s+xbox\s([^\);]+)/i,/(mint)[\/\s\(\)]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?=\slinux)|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus|raspbian)(?:\sgnu\/linux)?(?:\slinux)?[\/\s-]?(?!chrom|package)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i,/\s([frentopc-]{0,4}bsd|dragonfly)\s?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku)\s(\w+)/i],[y,E],[/(sunos)\s?([\w\.\d]*)/i],[[y,"Solaris"],E],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[y,E]]},UAParser=function(r,n){if("object"==typeof r&&(n=r,r=o),!(this instanceof UAParser))return new UAParser(r,n).getResult();var i=r||(undefined!==a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),s=n?ne.extend(se,n):se;return this.getBrowser=function(){var r={name:o,version:o};return ie.rgx.call(r,i,s.browser),r.major=ne.major(r.version),r},this.getCPU=function(){var r={architecture:o};return ie.rgx.call(r,i,s.cpu),r},this.getDevice=function(){var r={vendor:o,model:o,type:o};return ie.rgx.call(r,i,s.device),r},this.getEngine=function(){var r={name:o,version:o};return ie.rgx.call(r,i,s.engine),r},this.getOS=function(){var r={name:o,version:o};return ie.rgx.call(r,i,s.os),r},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(r){return i="string"==typeof r&&r.length>255?ne.trim(r,255):r,this},this.setUA(i),this};UAParser.VERSION="0.7.28",UAParser.BROWSER={NAME:y,MAJOR:"major",VERSION:E},UAParser.CPU={ARCHITECTURE:"architecture"},UAParser.DEVICE={MODEL:s,VENDOR:w,TYPE:_,CONSOLE:"console",MOBILE:j,SMARTTV:$,TABLET:q,WEARABLE:"wearable",EMBEDDED:"embedded"},UAParser.ENGINE={NAME:y,VERSION:E},UAParser.OS={NAME:y,VERSION:E},undefined!==n?(undefined!==r&&r.exports&&(n=r.exports=UAParser),n.UAParser=UAParser):o===(i=UAParser)||(r.exports=i);var le=undefined!==a&&(a.jQuery||a.Zepto);if(le&&!le.ua){var pe=new UAParser;le.ua=pe.getResult(),le.ua.get=function(){return pe.getUA()},le.ua.set=function(r){pe.setUA(r);var n=pe.getResult();for(var a in n)le.ua[a]=n[a]}}}("object"==typeof window?window:this)},function(r,n,a){"use strict";var i,o=this&&this.__extends||(i=function(r,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])})(r,n)},function(r,n){function __(){this.constructor=r}i(r,n),r.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(n,"__esModule",{value:!0});var s=function(r){function ErrorCreated(){return r.call(this,"errorCreated",{code:"",description:""})||this}return o(ErrorCreated,r),ErrorCreated.prototype.GetCode=function(){return this.getEventBody().getJson().code},ErrorCreated.prototype.SetCode=function(r){return this.getEventBody().getJson().code=r,this},ErrorCreated.prototype.GetDescription=function(){return this.getEventBody().getJson().description},ErrorCreated.prototype.SetDescription=function(r){return this.getEventBody().getJson().description=r,this},ErrorCreated.prototype._isPrefab=function(){return!0},ErrorCreated}(a(428).default);n.default=s},function(r,n,a){"use strict";var i,o=this&&this.__extends||(i=function(r,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])})(r,n)},function(r,n){function __(){this.constructor=r}i(r,n),r.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(438),y=a(428),_=a(429),w=function(r){function ScreenViewed(){return r.call(this,"screenViewed",{viewed:"",viewed_before:_.default.getCookie(_.default.VIEWED_BEFORE_KEY)?_.default.getCookie(_.default.VIEWED_BEFORE_KEY):"",screen_before_milliseconds:s.default.EndViewedScreen()?s.default.EndViewedScreen():""})||this}return o(ScreenViewed,r),ScreenViewed.prototype.GetViewed=function(){return this.getEventBody().getJson().viewed},ScreenViewed.prototype.GetViewedBefore=function(){return this.getEventBody().getJson().viewed_before},ScreenViewed.prototype.SetViewed=function(r,n){return this.getEventBody().getJson().viewed=r,_.default.setCookie(_.default.VIEWED_BEFORE_KEY,r,n),this},ScreenViewed.prototype._isPrefab=function(){return!0},ScreenViewed}(y.default);n.default=w},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=a(439),o=a(432),s=a(440),y=a(428),_=a(433),w=a(434),E=a(429),j=function(){function CheckpointNode(r,n){this._name=r,this._id=E.default.uuidv4(),this._timestamp=performance.now(),this._ignoreDowntime=n}return Object.defineProperty(CheckpointNode.prototype,"name",{get(){return this._name},enumerable:!1,configurable:!0}),Object.defineProperty(CheckpointNode.prototype,"id",{get(){return this._id},enumerable:!1,configurable:!0}),CheckpointNode.prototype.createStartEventBody=function(){return{name:this._name,id:this._id}},CheckpointNode.prototype.createEndEventBody=function(){return{name:this._name,id:this._id,total_milliseconds:Math.round(100*this.calculateElapsedTime())/100}},CheckpointNode.prototype.subtractDowntime=function(r){this._ignoreDowntime&&(this._timestamp+=r)},CheckpointNode.prototype.calculateElapsedTime=function(){return performance.now()-this._timestamp},CheckpointNode}(),q=function(){function Checkpoint(){if(this instanceof Checkpoint)throw Error("A Checkpoint class cannot be instantiated.")}return Checkpoint.Start=function(r,n){if(void 0===n&&(n=!0),this._findCheckpointIndex(r)>-1)return _.default.getInstance().add('Checkpoints names are unique, you have to end the "'+r+'" checkpoint before starting a new one with the same name.',w.default.WARNING),null;var a=new j(r,n);return this._checkpoints.push(a),new y.default("checkpointStarted",a.createStartEventBody())},Checkpoint.End=function(r){var n=this._findCheckpointIndex(r);if(-1===n)return _.default.getInstance().add('WARNING: No checkpoint found with the name "'+r+'".',w.default.WARNING),null;var a=this._checkpoints[n];this._checkpoints.splice(n,1);var i=this._calculateDowntime();return i&&a.subtractDowntime(i),new y.default("checkpointEnded",a.createEndEventBody())},Checkpoint.StartDowntime=function(){this._lastActivityTimestamp=performance.now()},Checkpoint.EndDowntime=function(){var r=this._calculateDowntime();if(r){var n=i.default.getInstance().get("session_lifetime_sec",900);if(0!=n&&r>n){E.default.refreshClientSessionId(n);var a=Math.round(r/1e3*100)/100,y=new o.default({total_seconds:a});s.default.getInstance().RecordEvent("appResumed",y)}this._lastActivityTimestamp=null,this._checkpoints.forEach((function(n){n.subtractDowntime(r)}))}},Checkpoint.EndViewedScreen=function(){var r=this._findCheckpointIndex("dive_screen_track");if(-1===r)return 0;var n=0,a=new j("dive_screen_track",!0);return r>-1?(n=Math.round(100*this._checkpoints[r].calculateElapsedTime())/100,this._checkpoints[r]=a):this._checkpoints.push(a),n},Checkpoint.Reset=function(){this._checkpoints=[],this._lastActivityTimestamp=null},Checkpoint._findCheckpointIndex=function(r){return this._checkpoints.findIndex((function(n){return n.name===r}))},Checkpoint._calculateDowntime=function(){return this._lastActivityTimestamp?performance.now()-this._lastActivityTimestamp:0},Checkpoint._lastActivityTimestamp=null,Checkpoint._checkpoints=[],Checkpoint}();n.default=q},function(r,n,a){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(r){for(var n,a=1,i=arguments.length;a<i;a++)for(var o in n=arguments[a])({}).hasOwnProperty.call(n,o)&&(r[o]=n[o]);return r}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var o=a(431),s=a(433),y=a(434),_=a(429),w={is_sdk_enabled:1,is_beacon_enabled:1,beacon_freq_sec:60,tracking_url:"",retries_no:3,retries_sleep_sec:10,request_timeout_sec:100,session_lifetime_sec:0,api_url:""},E=function(){function Settings(r){this.results=!1,this.token=r}return Settings.getInstance=function(r){return!Settings.instance&&r&&(Settings.instance=new Settings(r)),Settings.instance},Settings.prototype.init=function(){var r=this;if(!this.results){var n="";return"undefined"!=typeof window&&(n=window.location.origin),fetch(o.default.settings_url+"/"+this.token+".json",{headers:{origin:n}}).then((function(r){return r.json()})).then((function(n){r.data=i(i({},w),r.tryGetSettingsForPlatfrom(n)),r.results=!0,_.default.setSettings(r.data),s.default.getInstance().add("Remote Settings loaded",y.default.INFO),Promise.resolve(r.data)})).catch((function(n){s.default.getInstance().add('Can not retrieve Settings data from "'+o.default.settings_url+"/"+r.token+'.json". Error says "'+n+'"',y.default.WARNING);var a=_.default.getSettings();a?(s.default.getInstance().add("Remote Settings loaded from local storage",y.default.INFO),r.data=a,r.results=!0,Promise.resolve(r.data)):(s.default.getInstance().add("Remote Settings loaded from defaults",y.default.INFO),r.data=w,Promise.resolve(r.data))}))}return Promise.resolve(this.data)},Settings.prototype.tryGetSettingsForPlatfrom=function(r){var n=r[o.default.platform];return null==n&&(n=r.default),n},Settings.prototype.hasResults=function(){return this.results},Settings.prototype.get=function(r,n){return void 0!==this.data[r]?this.data[r]:void 0!==n?n:null},Settings.prototype.getApiURL=function(){return this.get("api_url","")},Settings}();n.default=E},function(r,n,a){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(r){for(var n,a=1,i=arguments.length;a<i;a++)for(var o in n=arguments[a])({}).hasOwnProperty.call(n,o)&&(r[o]=n[o]);return r}).apply(this,arguments)},o=this&&this.__awaiter||function(r,n,a,i){return new(a||(a=Promise))((function(o,s){function fulfilled(r){try{step(i.next(r))}catch(r){s(r)}}function rejected(r){try{step(i.throw(r))}catch(r){s(r)}}function step(r){r.done?o(r.value):function adopt(r){return r instanceof a?r:new a((function(n){n(r)}))}(r.value).then(fulfilled,rejected)}step((i=i.apply(r,n||[])).next())}))},s=this&&this.__generator||function(r,n){var a,i,o,s,y={label:0,sent(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(s){return function(_){return function step(s){if(a)throw new TypeError("Generator is already executing.");for(;y;)try{if(a=1,i&&(o=2&s[0]?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return y.label++,{value:s[1],done:!1};case 5:y.label++,i=s[1],s=[0];continue;case 7:s=y.ops.pop(),y.trys.pop();continue;default:if(!((o=(o=y.trys).length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){y=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){y.label=s[1];break}if(6===s[0]&&y.label<o[1]){y.label=o[1],o=s;break}if(o&&y.label<o[2]){y.label=o[2],y.ops.push(s);break}o[2]&&y.ops.pop(),y.trys.pop();continue}s=n.call(r,y)}catch(r){s=[6,r],i=0}finally{a=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,_])}}};Object.defineProperty(n,"__esModule",{value:!0});var y=a(434),_=a(441),w=a(433),E=a(442),j=a(439),q=a(443),$=a(428),ne=a(431),ie=a(429),oe=a(444),se=a(427),le=a(436),pe=a(437),he=a(445),me=a(438),ge=a(446),ye=a(447),_e=a(448),ve=a(449),Se=function(){function DiveSDK(r){var n=this;this.env="",this.game_ver="",this.current_level=0,this.player_xp=0,this.player_id="",this.s_sessionid="",this.sdkStarted=!1,this.appLauchedSent=!1,this.remoteConfig=new _e.DiveRemoteConfig,this.beaconScheduler=new E.default((function(){})),this.token=r.AppToken,this.env=r.Environment,this.game_ver=r.GameVersion,_.default.getInstance(r),w.default.getInstance(r.Logger),j.default.getInstance(r.AppToken),this.initSettings().then((function(){n.trackingStopped()?w.default.getInstance().add("SDK is Opt Out. Cal SetOptOut(false) and call Init ",y.default.INFO):w.default.getInstance().add("SDK initializated",y.default.INFO)})),ve.default.getInstance().onBackground((function(){return n.appBackground()})).onForeground((function(){return n.appForeground()}))}return Object.defineProperty(DiveSDK.prototype,"SdkStarted",{get(){return this.sdkStarted},enumerable:!1,configurable:!0}),DiveSDK.prototype.initSettings=function(){var r=this;return this.onSettingsLoaded=j.default.getInstance().init().then((function(){r.begin()})),this.onSettingsLoaded},DiveSDK.prototype.SetOptOut=function(r){var n=this,a=ie.default.getCookie(ie.default.TRACKING_STOPPED_KEY);if(r){if(null===a){var i=new he.default;this.s_sessionid&&i.SetServerSessionId(this.s_sessionid),this.token&&i.SetAppToken(this.token),this.env&&i.SetEnv(this.env),this.game_ver&&i.SetGameVersion(this.game_ver),this.player_id&&i.SetPlayerId(this.player_id),this.current_level&&i.SetPlayerLevel(this.current_level),this.player_xp&&i.SetPlayerXp(this.player_xp),this.s_sessionid&&i.SetServerSessionId(this.s_sessionid),this.postEvent(i).then((function(){n.beaconScheduler.stop(),ie.default.setCookie(ie.default.TRACKING_STOPPED_KEY,!0,0)})).catch((function(r){w.default.getInstance().add("Error sending the event "+i.getName()+" "+JSON.stringify(i.toJson(),null,2)+' via fallback url. Error says "'+r+'"',y.default.WARNING)}))}}else a&&ie.default.removeCookie(ie.default.TRACKING_STOPPED_KEY);return this},DiveSDK.prototype.SetDiveCid=function(r){ie.default.setCookie(ie.default.DIVE_CID_KEY,r,this.getSessionLifeTimeSec())},DiveSDK.prototype.trackingStopped=function(){var r=ie.default.getCookie(ie.default.TRACKING_STOPPED_KEY);return null!==r&&r},DiveSDK.Init=function(r){return DiveSDK.instance&&(w.default.getInstance().add("DiveSDK Instance is already running. Re-initializing SDK",y.default.INFO),this.reset()),this.init(r)},DiveSDK.init=function(r){return r&&r.AppToken&&r.HashKey||w.default.getInstance({level:y.default.ERROR}).add("You must set AppToken and HashKey",y.default.ERROR),r&&!r.GameVersion&&w.default.getInstance({level:y.default.WARNING}).add("Missing parameter GameVersion. You must set GameVersion when calling DiveSDK.Init().",y.default.WARNING),DiveSDK.instance=new DiveSDK(i(i({},this.DEFAULT_CONFIG),r)),DiveSDK.instance},DiveSDK.reset=function(){me.default.Reset(),DiveSDK.instance.player_xp=0,DiveSDK.instance.game_ver="",DiveSDK.instance.player_id="",DiveSDK.instance.current_level=0,DiveSDK.instance.s_sessionid="",DiveSDK.instance.ResetCustomHeaders(),DiveSDK.instance.beaconScheduler.stop(),ie.default.setClientSessionRestartedFromIdCookie(),ie.default.removeDiveCookies()},DiveSDK.getInstance=function(){if(!DiveSDK.instance)throw Error("Method DiveSdk.getInstance(token,settings) is deprecated. Call DiveSdk.Init(settings) now. Then, you can use DiveSdk.getInstance() (without parameters) to get the initializated instance");return DiveSDK.instance},DiveSDK.prototype.begin=function(){var r=this;this.trackingStopped()||(this.sdkStarted=!0,ie.default.firstSession()&&ie.default.isClient()&&(this.refreshClientSessionIdCookie(),this.RecordEvent(new q.default)),this.onSettingsLoaded.then((function(){r.refreshClientSessionIdCookie(),r.initBeaconScheduler();var n=j.default.getInstance().getApiURL();""!=n&&_.default.getInstance().setApiURL(n),j.default.getInstance().get("is_clean_orphan_cookies_enabled")&&(w.default.getInstance().add("Running device_id patch",y.default.DEBUG),ie.default.patchCookie(1===j.default.getInstance().get("is_clean_orphan_cookies_enabled")))})),ie.default.processQueryStringParams(this.getSessionLifeTimeSec()))},DiveSDK.prototype.SetPlayerXp=function(r){return this.player_xp=r,this},DiveSDK.prototype.SetGameVersion=function(r){return this.game_ver=r,this},DiveSDK.prototype.SetPlayerId=function(r){return this.player_id=r,this},DiveSDK.prototype.SetPlayerLevel=function(r){return this.current_level=r,this},DiveSDK.prototype.SetServerSessionId=function(r){return this.s_sessionid=r,this},DiveSDK.prototype.SetCustomHeaderParam=function(r,n){return w.default.getInstance().add("Set Custom Headers for all events -> "+r+" : "+n+".",y.default.INFO),$.default.SetCustomHeaderParam(r,n),this},DiveSDK.prototype.ResetCustomHeaders=function(){$.default.ResetCustomHeaders()},DiveSDK.prototype.ensureMissingSetters=function(){return this.s_sessionid&&this.s_sessionid.length||w.default.getInstance().add("Missing parameter s_session_id. You must call SetServerSessionId before call Launch.",y.default.WARNING),this.player_id&&this.player_id.length||w.default.getInstance().add("Missing parameter player_id. You must call SetPlayerId before call Launch.",y.default.WARNING),this},DiveSDK.prototype.GetDeviceId=function(){return ie.default.getDeviceId()},DiveSDK.prototype.Launch=function(r){if(!this.trackingStopped()){this.ensureMissingSetters();var n=new se.default;return r&&n._mergeEventBody(r),this.appLauchedSent&&w.default.getInstance().add("The launch method is being called more than once.",y.default.WARNING),this.appLauchedSent=!0,DiveSDK.getInstance().RecordEvent(n)}return this},DiveSDK.prototype.RecordError=function(r,n){if(!this.trackingStopped()){var a=new le.default;return a.SetCode(r).SetDescription(n),DiveSDK.getInstance().RecordEvent(a)}return this},DiveSDK.prototype.ScreenViewed=function(r){if(!this.trackingStopped()){var n=new pe.default;return n.SetViewed(r,this.getSessionLifeTimeSec()),DiveSDK.getInstance().RecordEvent(n)}return this},DiveSDK.prototype.refreshViewedBeforeKey=function(){return ie.default.refreshCookieIfExists(ie.default.VIEWED_BEFORE_KEY,this.getSessionLifeTimeSec()),this},DiveSDK.prototype.refreshClientSessionIdCookie=function(){return ie.default.setClientSessionIdCookie(this.getSessionLifeTimeSec()),this},DiveSDK.prototype.refreshAllDiveCookies=function(){return ie.default.refreshAllDiveCookies(this.getSessionLifeTimeSec()),this},DiveSDK.prototype.getSessionLifeTimeSec=function(){return j.default.getInstance().get("session_lifetime_sec")?j.default.getInstance().get("session_lifetime_sec"):900},DiveSDK.prototype.initBeaconScheduler=function(){var r=this;!this.trackingStopped()&&ie.default.isClient()&&(this.beaconScheduler=new E.default((function(){r.refreshClientSessionIdCookie().refreshViewedBeforeKey().refreshAllDiveCookies(),j.default.getInstance().get("is_beacon_enabled",0)&&r.RecordEvent(new oe.default)}),{repeating_time:1e3*j.default.getInstance().get("beacon_freq_sec",5)}).start())},DiveSDK.prototype.postEvent=function(r){var n;if(!this.trackingStopped()){var a="*";"undefined"!=typeof window&&(a=window.location.origin);var i=JSON.stringify([r.toJson()]);return fetch(j.default.getInstance().get("tracking_url")+ne.default.events_path,{method:"POST",body:i,headers:(n={Authorization:"Bearer "+this.token},n[ne.default.DIGEST_KEY]=ie.default.digest(i,_.default.getInstance().getHashKey()),n["Content-type"]="application/json",n.origin=a,n)}).then((function(n){404===n.status?w.default.getInstance().add("There was an error trying to send the event. Server return status code 404",y.default.WARNING):w.default.getInstance().add("Event "+r.getName()+" "+JSON.stringify(r.toJson(),null,2)+" sent",y.default.INFO)}))}return new Promise((function(){}))},DiveSDK.prototype.postEventFallback=function(r){var n;if(!this.trackingStopped()){var a="*";"undefined"!=typeof window&&(a=window.location.origin);var i=JSON.stringify([r.toJson()]);return fetch(_.default.getInstance().getAnalyticsURL()+ne.default.events_path,{method:"POST",body:i,headers:(n={Authorization:"Bearer "+this.token},n[ne.default.DIGEST_KEY]=ie.default.digest(i,_.default.getInstance().getHashKey()),n["Content-type"]="application/json",n.origin=a,n)}).then((function(n){404===n.status?w.default.getInstance().add("Error sending the event "+r.getName()+" "+JSON.stringify(r.toJson(),null,2)+" via fallback url. Response code: "+n.status,y.default.WARNING):w.default.getInstance().add("Event "+r.getName()+" "+JSON.stringify(r.toJson(),null,2)+" sent to fallback url",y.default.INFO)})).catch((function(n){w.default.getInstance().add("Error sending the event "+r.getName()+" "+JSON.stringify(r.toJson(),null,2)+' via fallback url. Error says "'+n+'"',y.default.WARNING)}))}return this},DiveSDK.prototype.RecordEvent=function(r,n){var a=this;return!this.trackingStopped()&&ie.default.isClient()&&this.onSettingsLoaded.then((function(){return a.sendEvent(r,n)})),this},DiveSDK.prototype.StartCheckpoint=function(r){if(!this.trackingStopped()){var n=me.default.Start(r);n&&DiveSDK.getInstance().RecordEvent(n)}return this},DiveSDK.prototype.EndCheckpoint=function(r){if(!this.trackingStopped()){var n=me.default.End(r);n&&DiveSDK.getInstance().RecordEvent(n)}return this},DiveSDK.prototype.appBackground=function(){if(!this.trackingStopped()){me.default.StartDowntime();var r=new ge.default;DiveSDK.getInstance().RecordEvent(r)}},DiveSDK.prototype.appForeground=function(){if(!this.trackingStopped()){me.default.EndDowntime();var r=new ye.default;DiveSDK.getInstance().RecordEvent(r)}},DiveSDK.prototype.sendEvent=function(r,n){var a=this;if(!this.trackingStopped()){var i=r instanceof $.default?r:new $.default(r,n||{});if(this.token&&i.SetAppToken(this.token),this.env&&i.SetEnv(this.env),this.game_ver&&i.SetGameVersion(this.game_ver),this.player_id&&i.SetPlayerId(this.player_id),this.current_level&&i.SetPlayerLevel(this.current_level),this.player_xp&&i.SetPlayerXp(this.player_xp),this.s_sessionid&&i.SetServerSessionId(this.s_sessionid),1===j.default.getInstance().get("is_sdk_enabled"))try{this.postEvent(i).catch((function(r){w.default.getInstance().add("Event "+i.getName()+' submission failed. Error says "'+r+'"',y.default.WARNING);var n=new E.default((function(r){w.default.getInstance().add("Implementing event submission retries. Retrie number: "+r,y.default.DEBUG),a.postEvent(i).then((function(){n.stop()})).catch((function(n){w.default.getInstance().add("Event resubmission failed on retrie number: "+r+". Server says "+n,y.default.WARNING)}))}),{repeating_time:1e3*j.default.getInstance().get("retries_sleep_sec"),iterations:j.default.getInstance().get("retries_no")});return n.start(),a}))}catch(r){w.default.getInstance().add("Event submission failed. Error says "+r,y.default.WARNING)}else null===j.default.getInstance().get("is_sdk_enabled")&&(_.default.getInstance().getAnalyticsURL()&&this.postEventFallback(i),ie.default.isClient()||!1===j.default.getInstance().hasResults()&&this.initSettings())}return this},DiveSDK.prototype.GetRemoteConfig=function(r,n,a){var i=this;if(null===_.default.getInstance().getApiURL()||void 0===_.default.getInstance().getApiURL()||""===_.default.getInstance().getApiURL())return w.default.getInstance().add("ApiURL is not set. Add ApiURL to RemoteSettings and Re-initialize SDK",y.default.WARNING),a("ApiURL is not set. Add ApiURL to RemoteSettings and Re-initialize SDK");var j=this.loadRemoteConfig(null);if(this.remoteConfig.loaded&&null!==j)n(j);else{var q=_.default.getInstance().getApiURL()+"/remoteConfig/player?api_key="+this.token+"&player_id="+r;try{this.fetchRemoteConfig(q).then((function(r){return o(i,void 0,void 0,(function(){var i;return s(this,(function(o){switch(o.label){case 0:return 404===r.status&&w.default.getInstance().add("Fetching "+q+" Failed With Status 404",y.default.WARNING),[4,r.json()];case 1:return i=o.sent(),w.default.getInstance().add("Config Server responded: "+JSON.stringify(i,null,2),y.default.DEBUG),[2,null!==(j=this.loadRemoteConfig(i))?n(j):a("Fetching Remote Config From "+q+" Failed With Status 404")]}}))}))})).catch((function(r){w.default.getInstance().add('Fetching Remote Config Failed. Error says "'+r+'"',y.default.WARNING);var _=new E.default((function(r){w.default.getInstance().add("Fetching Remote Config retries. Retry number: "+r,y.default.DEBUG),i.fetchRemoteConfig(q).then((function(r){return o(i,void 0,void 0,(function(){var n;return s(this,(function(a){switch(a.label){case 0:return 404===r.status&&w.default.getInstance().add("Fetching "+q+" Failed With Status 404",y.default.WARNING),[4,r.json()];case 1:return n=a.sent(),w.default.getInstance().add("Config Server responded: "+JSON.stringify(n,null,2),y.default.DEBUG),j=this.loadRemoteConfig(n),_.stop(),[2]}}))}))})).catch((function(n){w.default.getInstance().add("Fetching Remote Config Failed on retry number: "+r+". Server says "+n,y.default.WARNING)}))}),{repeating_time:100,iterations:3});_.start(),_.onEnd=function(){null!==j?n(j):a("Fetching Remote Config Failed")}}))}catch(r){var $="Fetching Remote Config Failed. Error says "+r;w.default.getInstance().add($,y.default.WARNING),a($)}}},DiveSDK.prototype.loadRemoteConfig=function(r){var n=this.remoteConfig.GetRemoteConfig(r);return null!==n&&n.metadataExperiments&&this.SetCustomHeaderParam("metadata_experiments",n.metadataExperiments),null!==n&&n.configVersion&&this.SetCustomHeaderParam("config_version",n.configVersion),n},DiveSDK.prototype.fetchRemoteConfig=function(r){return fetch(r,{method:"GET",headers:{origin:"*"}})},DiveSDK.DEFAULT_CONFIG={AppToken:"",Environment:"",HashKey:"",HasIdentityConsent:!0,Logger:{level:y.default.DEBUG},AnalyticsURL:"",GameVersion:"",ShowLogs:!0,ApiURL:""},DiveSDK}();n.default=Se},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=a(434),o=function(){function Config(r){this.config=r}return Config.getInstance=function(r){return!Config.instance&&r&&(Config.instance=new Config(r)),Config.instance},Config.prototype.getSettings=function(){return this.config},Config.prototype.getHashKey=function(){return this.config.HashKey},Config.prototype.getLogger=function(){return void 0!==this.config.Logger?this.config.Logger:{level:i.default.DISABLED}},Config.prototype.getIdentityConsent=function(){return void 0===this.config.HasIdentityConsent||this.config.HasIdentityConsent},Config.prototype.getAnalyticsURL=function(){return this.config.AnalyticsURL},Config.prototype.getEnvironment=function(){return this.config.Environment},Config.prototype.getApiURL=function(){return this.config.ApiURL},Config.prototype.getAppToken=function(){return this.config.AppToken},Config.prototype.setApiURL=function(r){this.config.ApiURL=r},Config}();n.default=o},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function Scheduler(r,n,a){this._iteration=1,this.state={},this.handler=function(r,n){},this.onStart=function(){},this.onEnd=function(){},this.settings=n||Scheduler.DEFAULT_SETTINGS,this.handler=r||this.handler,this.state=a||this.state}return Scheduler.prototype.start=function(){var r=this;return(void 0===this.settings.iterations||this.settings.iterations>0)&&(void 0===this.settings.iterations?this._interval=setInterval((function(){r.onStart.call(r,r.state),r.handler.call(r,r._iteration++,r.state)}),this.settings.repeating_time):this._interval=setInterval((function(){r.run()}),this.settings.repeating_time)),this},Scheduler.prototype.run=function(){this._iteration<=this.settings.iterations?(this.onStart.call(this,this.state),this.handler.call(this,this._iteration++,this.state)):this.settings.iterations&&this.stop()},Scheduler.prototype.stop=function(){this._iteration--,clearInterval(this._interval),this.onEnd.call(this,this._iteration,this.state)},Scheduler.DEFAULT_SETTINGS={repeating_time:2e3,iterations:1},Scheduler}();n.default=i},function(r,n,a){"use strict";var i,o=this&&this.__extends||(i=function(r,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])})(r,n)},function(r,n){function __(){this.constructor=r}i(r,n),r.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(428),y=a(429),_=function(r){function SdkStarted(){var n=r.call(this,"sdkStarted",{location_href:"",query_string_params:{},notifications_enabled:"",navigator_app_code_name:"",navigator_app_name:"",navigator_app_version:"",navigator_cookie_enabled:!1,navigator_product:""})||this;return n.prefab=!0,n.setLocationHref().setQueryStringParams().setNotificationsEnabled().setNavigatorAppCodeName().setNavigatorAppName().setNavigatorAppVersion().setNavigatorCookieEnabled().setNavigatorProduct().setScreen().setLanguage(),n.prefab=!0,n}return o(SdkStarted,r),SdkStarted.prototype.setQueryStringParams=function(){return y.default.isClient()&&(this.getEventBody().getJson().query_string_params=y.default.getQueryStringParams(window.location.search)),this},SdkStarted.prototype.setLocationHref=function(){return y.default.isClient()&&(this.getEventBody().getJson().location_href=window.location.href),this},SdkStarted.prototype.setLanguage=function(){return window.navigator.language&&(this.getEventBody().getJson().lang=navigator.language),this},SdkStarted.prototype.setNotificationsEnabled=function(){return y.default.isClient()&&"undefined"!=typeof Notification&&(this.getEventBody().getJson().notifications_enabled=Notification.permission),this},SdkStarted.prototype.setNavigatorAppCodeName=function(){return y.default.isClient()&&navigator&&void 0!==navigator.appCodeName&&(this.getEventBody().getJson().navigator_app_code_name=navigator.appCodeName),this},SdkStarted.prototype.setNavigatorAppName=function(){return y.default.isClient()&&navigator&&void 0!==navigator.appName&&(this.getEventBody().getJson().navigator_app_name=navigator.appName),this},SdkStarted.prototype.setNavigatorAppVersion=function(){return y.default.isClient()&&navigator&&void 0!==navigator.appVersion&&(this.getEventBody().getJson().navigator_app_version=navigator.appVersion),this},SdkStarted.prototype.setNavigatorCookieEnabled=function(){return y.default.isClient()&&(this.getEventBody().getJson().navigator_cookie_enabled=navigator.cookieEnabled),this},SdkStarted.prototype.setNavigatorProduct=function(){return y.default.isClient()&&navigator&&void 0!==navigator.product&&(this.getEventBody().getJson().navigator_product=navigator.product),this},SdkStarted.prototype.setScreen=function(){if(y.default.isClient()){var r=void 0!==window.screen?{height:window.screen.height,width:window.screen.width}:{};this.getEventBody().getJson().screen=r}return this},SdkStarted.prototype._isPrefab=function(){return!0},SdkStarted}(s.default);n.default=_},function(r,n,a){"use strict";var i,o=this&&this.__extends||(i=function(r,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])})(r,n)},function(r,n){function __(){this.constructor=r}i(r,n),r.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(n,"__esModule",{value:!0});var s=function(r){function Beacon(){return r.call(this,"beacon",{})||this}return o(Beacon,r),Beacon.prototype._isPrefab=function(){return!0},Beacon}(a(428).default);n.default=s},function(r,n,a){"use strict";var i,o=this&&this.__extends||(i=function(r,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])})(r,n)},function(r,n){function __(){this.constructor=r}i(r,n),r.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(428),y=a(429),_=a(431),w=a(435),E=function(r){function TrackingStopped(){var n=this,a={device:"",user_agent:"",connection:"",id_type:_.default.id_type,id_value:null,lang:"",os_version:"",is_refreshed:0,query_string_params:{}};if(y.default.isClient()){var i=new w.UAParser,o=i.getDevice().vendor||i.getDevice().model?i.getDevice().vendor+" "+i.getDevice().model:i.getCPU().architecture?"pc":"unknown",s=void 0;(s=y.default.getCookie(y.default.COOKIE_ID_KEY))||y.default.setCookie(y.default.COOKIE_ID_KEY,s=y.default.uuidv4(),0),a={device:o,user_agent:null===navigator||void 0===navigator?void 0:navigator.userAgent,connection:"",id_type:_.default.id_type,id_value:s,lang:null===navigator||void 0===navigator?void 0:navigator.language,os_version:null===navigator||void 0===navigator?void 0:navigator.platform,is_refreshed:0,query_string_params:{}}}return(n=r.call(this,"trackingStopped",a)||this).setQueryStringParams(),n}return o(TrackingStopped,r),TrackingStopped.prototype.GetDevice=function(){return this.getEventBody().getJson().device},TrackingStopped.prototype.GetUserAgent=function(){return this.getEventBody().getJson().user_agent},TrackingStopped.prototype.GetConnection=function(){return this.getEventBody().getJson().connection},TrackingStopped.prototype.SetConnection=function(r){return this.getEventBody().getJson().connection=r,this},TrackingStopped.prototype.GetIdType=function(){return this.getEventBody().getJson().id_type},TrackingStopped.prototype.setQueryStringParams=function(){return y.default.isClient()&&(this.getEventBody().getJson().query_string_params=y.default.getQueryStringParams(window.location.search)),this},TrackingStopped.prototype.GetIdValue=function(){return this.getEventBody().getJson().id_value},TrackingStopped.prototype.GetLang=function(){return this.getEventBody().getJson().lang},TrackingStopped.prototype.GetOsVersion=function(){return this.getEventBody().getJson().os_version},TrackingStopped.prototype.SetIsRefreshed=function(r){return this.getEventBody().getJson().is_refreshed=r,this},TrackingStopped.prototype.GetIsRefreshed=function(){return this.getEventBody().getJson().is_refreshed},TrackingStopped.prototype._isPrefab=function(){return!0},TrackingStopped}(s.default);n.default=E},function(r,n,a){"use strict";var i,o=this&&this.__extends||(i=function(r,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])})(r,n)},function(r,n){function __(){this.constructor=r}i(r,n),r.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(428),y=a(438),_=function(r){function AppBackground(){var n=y.default.Start("dive_background_checkpoint",!1);if(!n)throw Error("An error occurred while trying to instantiate the appBackground event. It may be because an instance of this event already exists.");return r.call(this,"appBackground",{id:n.getUuid()})||this}return o(AppBackground,r),AppBackground.prototype._isPrefab=function(){return!0},AppBackground}(s.default);n.default=_},function(r,n,a){"use strict";var i,o=this&&this.__extends||(i=function(r,n){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)n.hasOwnProperty(a)&&(r[a]=n[a])})(r,n)},function(r,n){function __(){this.constructor=r}i(r,n),r.prototype=null===n?Object.create(n):(__.prototype=n.prototype,new __)});Object.defineProperty(n,"__esModule",{value:!0});var s=a(428),y=a(438),_=function(r){function AppForeground(){var n=y.default.End("dive_background_checkpoint");if(!n)throw Error("An error occurred while trying to instantiate the appForeground event. This may be because an instance of the appBackground event was not created before.");var a=n.getEventBody().getJson().total_milliseconds/1e3;return r.call(this,"appForeground",{id:n.getUuid(),total_seconds:Math.round(100*a)/100})||this}return o(AppForeground,r),AppForeground.prototype._isPrefab=function(){return!0},AppForeground}(s.default);n.default=_},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.DiveRemoteConfig=n.RemoteConfig=void 0;var i=a(429),o=function(){function RemoteConfig(r){this.params=r}return RemoteConfig.prototype.GetValueOrDefault=function(r,n){var a=this.params.find((function(n){return n.key==r}));return a?a.value:n},RemoteConfig}();n.RemoteConfig=o;var s=function(){function DiveRemoteConfig(){this.config=null,this.loaded=!1}return DiveRemoteConfig.prototype.GetRemoteConfig=function(r){if(null===r&&null!==this.config)return this.config;if(null===r){if(null===(r=i.default.getRemoteConfig()))return null}else this.loaded=!0;return this.config={configVersion:r.config_version,metadataExperiments:r.metadata_experiments,remoteConfig:new o(r.remote_config)},i.default.setRemoteConfig(r),this.config},DiveRemoteConfig}();n.DiveRemoteConfig=s},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function AppState(){if(void 0!==document.hidden)this.visibilityChange="visibilitychange";else if(void 0!==document.mozHidden)this.visibilityChange="mozvisibilitychange";else if(void 0!==document.msHidden)this.visibilityChange="msvisibilitychange";else{if(void 0===document.webkitHidden)throw Error("Page Visibility API not supported.");this.visibilityChange="webkitvisibilitychange"}document.addEventListener(this.visibilityChange,this.handleVisibilityChange,!1)}return AppState.getInstance=function(){return AppState.instance||(AppState.instance=new AppState),AppState.instance},AppState.prototype.onBackground=function(r){return this.onBackgroundCallback=r,this},AppState.prototype.onForeground=function(r){return this.onForegroundCallback=r,this},AppState.prototype.handleVisibilityChange=function(){switch(document.visibilityState){case"hidden":AppState.instance.onBackgroundCallback();break;case"visible":AppState.instance.onForegroundCallback()}},AppState}();n.default=i},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=()=>{if("undefined"!=typeof window){const r=/(googlebot\/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)/i,n=navigator.userAgent;if(r.test(n))return!0}return!1}},,,,,,function(r,n,a){"use strict";r.exports=a(457)},function(r,n,a){"use strict";var i=a(458),o="function"==typeof Symbol&&Symbol.for,s=o?Symbol.for("react.element"):60103,y=o?Symbol.for("react.portal"):60106,_=o?Symbol.for("react.fragment"):60107,w=o?Symbol.for("react.strict_mode"):60108,E=o?Symbol.for("react.profiler"):60114,j=o?Symbol.for("react.provider"):60109,q=o?Symbol.for("react.context"):60110,$=o?Symbol.for("react.forward_ref"):60112,ne=o?Symbol.for("react.suspense"):60113,ie=o?Symbol.for("react.memo"):60115,oe=o?Symbol.for("react.lazy"):60116,se="function"==typeof Symbol&&Symbol.iterator;function C(r){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var le={isMounted:()=>!1,enqueueForceUpdate(){},enqueueReplaceState(){},enqueueSetState(){}},pe={};function F(r,n,a){this.props=r,this.context=n,this.refs=pe,this.updater=a||le}function G(){}function H(r,n,a){this.props=r,this.context=n,this.refs=pe,this.updater=a||le}F.prototype.isReactComponent={},F.prototype.setState=function(r,n){if("object"!=typeof r&&"function"!=typeof r&&null!=r)throw Error(C(85));this.updater.enqueueSetState(this,r,n,"setState")},F.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")},G.prototype=F.prototype;var he=H.prototype=new G;he.constructor=H,i(he,F.prototype),he.isPureReactComponent=!0;var me={current:null},ge={}.hasOwnProperty,ye={key:!0,ref:!0,__self:!0,__source:!0};function M(r,n,a){var i,o={},y=null,_=null;if(null!=n)for(i in void 0!==n.ref&&(_=n.ref),void 0!==n.key&&(y=""+n.key),n)ge.call(n,i)&&!ye.hasOwnProperty(i)&&(o[i]=n[i]);var w=arguments.length-2;if(1===w)o.children=a;else if(1<w){for(var E=Array(w),j=0;j<w;j++)E[j]=arguments[j+2];o.children=E}if(r&&r.defaultProps)for(i in w=r.defaultProps)void 0===o[i]&&(o[i]=w[i]);return{$$typeof:s,type:r,key:y,ref:_,props:o,_owner:me.current}}function O(r){return"object"==typeof r&&null!==r&&r.$$typeof===s}var _e=/\/+/g,ve=[];function R(r,n,a,i){if(ve.length){var o=ve.pop();return o.result=r,o.keyPrefix=n,o.func=a,o.context=i,o.count=0,o}return{result:r,keyPrefix:n,func:a,context:i,count:0}}function S(r){r.result=null,r.keyPrefix=null,r.func=null,r.context=null,r.count=0,10>ve.length&&ve.push(r)}function V(r,n,a){return null==r?0:function T(r,n,a,i){var o=typeof r;"undefined"!==o&&"boolean"!==o||(r=null);var _=!1;if(null===r)_=!0;else switch(o){case"string":case"number":_=!0;break;case"object":switch(r.$$typeof){case s:case y:_=!0}}if(_)return a(i,r,""===n?"."+U(r,0):n),1;if(_=0,n=""===n?".":n+":",Array.isArray(r))for(var w=0;w<r.length;w++){var E=n+U(o=r[w],w);_+=T(o,E,a,i)}else if("function"==typeof(E=null===r||"object"!=typeof r?null:"function"==typeof(E=se&&r[se]||r["@@iterator"])?E:null))for(r=E.call(r),w=0;!(o=r.next()).done;)_+=T(o=o.value,E=n+U(o,w++),a,i);else if("object"===o)throw Error(C(31,"[object Object]"==(a=""+r)?"object with keys {"+Object.keys(r).join(", ")+"}":a,""));return _}(r,"",n,a)}function U(r,n){return"object"==typeof r&&null!==r&&null!=r.key?function escape(r){var n={"=":"=0",":":"=2"};return"$"+(""+r).replace(/[=:]/g,(function(r){return n[r]}))}(r.key):n.toString(36)}function W(r,n){r.func.call(r.context,n,r.count++)}function aa(r,n,a){var i=r.result,o=r.keyPrefix;r=r.func.call(r.context,n,r.count++),Array.isArray(r)?X(r,i,a,(function(r){return r})):null!=r&&(O(r)&&(r=function N(r,n){return{$$typeof:s,type:r.type,key:n,ref:r.ref,props:r.props,_owner:r._owner}}(r,o+(!r.key||n&&n.key===r.key?"":(""+r.key).replace(_e,"$&/")+"/")+a)),i.push(r))}function X(r,n,a,i,o){var s="";null!=a&&(s=(""+a).replace(_e,"$&/")+"/"),V(r,aa,n=R(n,s,i,o)),S(n)}var Se={current:null};function Z(){var r=Se.current;if(null===r)throw Error(C(321));return r}var we={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:me,IsSomeRendererActing:{current:!1},assign:i};n.Children={map(r,n,a){if(null==r)return r;var i=[];return X(r,i,null,n,a),i},forEach(r,n,a){if(null==r)return r;V(r,W,n=R(null,null,n,a)),S(n)},count:r=>V(r,(function(){return null}),null),toArray(r){var n=[];return X(r,n,null,(function(r){return r})),n},only(r){if(!O(r))throw Error(C(143));return r}},n.Component=F,n.Fragment=_,n.Profiler=E,n.PureComponent=H,n.StrictMode=w,n.Suspense=ne,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=we,n.cloneElement=function(r,n,a){if(null==r)throw Error(C(267,r));var o=i({},r.props),y=r.key,_=r.ref,w=r._owner;if(null!=n){if(void 0!==n.ref&&(_=n.ref,w=me.current),void 0!==n.key&&(y=""+n.key),r.type&&r.type.defaultProps)var E=r.type.defaultProps;for(j in n)ge.call(n,j)&&!ye.hasOwnProperty(j)&&(o[j]=void 0===n[j]&&void 0!==E?E[j]:n[j])}var j=arguments.length-2;if(1===j)o.children=a;else if(1<j){E=Array(j);for(var q=0;q<j;q++)E[q]=arguments[q+2];o.children=E}return{$$typeof:s,type:r.type,key:y,ref:_,props:o,_owner:w}},n.createContext=function(r,n){return void 0===n&&(n=null),(r={$$typeof:q,_calculateChangedBits:n,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:j,_context:r},r.Consumer=r},n.createElement=M,n.createFactory=function(r){var n=M.bind(null,r);return n.type=r,n},n.createRef=function(){return{current:null}},n.forwardRef=function(r){return{$$typeof:$,render:r}},n.isValidElement=O,n.lazy=function(r){return{$$typeof:oe,_ctor:r,_status:-1,_result:null}},n.memo=function(r,n){return{$$typeof:ie,type:r,compare:void 0===n?null:n}},n.useCallback=function(r,n){return Z().useCallback(r,n)},n.useContext=function(r,n){return Z().useContext(r,n)},n.useDebugValue=function(){},n.useEffect=function(r,n){return Z().useEffect(r,n)},n.useImperativeHandle=function(r,n,a){return Z().useImperativeHandle(r,n,a)},n.useLayoutEffect=function(r,n){return Z().useLayoutEffect(r,n)},n.useMemo=function(r,n){return Z().useMemo(r,n)},n.useReducer=function(r,n,a){return Z().useReducer(r,n,a)},n.useRef=function(r){return Z().useRef(r)},n.useState=function(r){return Z().useState(r)},n.version="16.13.1"},function(r,n,a){"use strict";var i=Object.getOwnPropertySymbols,o={}.hasOwnProperty,s={}.propertyIsEnumerable;function toObject(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}r.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var n={},a=0;a<10;a++)n["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(r){return n[r]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(r){i[r]=r})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(r,n){for(var a,y,_=toObject(r),w=1;w<arguments.length;w++){for(var E in a=Object(arguments[w]))o.call(a,E)&&(_[E]=a[E]);if(i){y=i(a);for(var j=0;j<y.length;j++)s.call(a,y[j])&&(_[y[j]]=a[y[j]])}}return _}},function(r,n,a){"use strict";a.r(n),function(r){a.d(n,"ServerStyleSheet",(function(){return bt})),a.d(n,"StyleSheetConsumer",(function(){return $e})),a.d(n,"StyleSheetContext",(function(){return Xe})),a.d(n,"StyleSheetManager",(function(){return StyleSheetManager})),a.d(n,"ThemeConsumer",(function(){return gt})),a.d(n,"ThemeContext",(function(){return mt})),a.d(n,"ThemeProvider",(function(){return ThemeProvider})),a.d(n,"__PRIVATE__",(function(){return St})),a.d(n,"createGlobalStyle",(function(){return createGlobalStyle})),a.d(n,"css",(function(){return css})),a.d(n,"isStyledComponent",(function(){return isStyledComponent})),a.d(n,"keyframes",(function(){return keyframes})),a.d(n,"useTheme",(function(){return xt})),a.d(n,"version",(function(){return Ct})),a.d(n,"withTheme",(function(){return withTheme}));var i=a(460),o=a(456),s=a.n(o),y=a(462),_=a.n(y),w=a(463),E=a(464),j=a(1379),q=a(465),$=a.n(q);function _extends(){return(_extends=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var i in a)({}).hasOwnProperty.call(a,i)&&(r[i]=a[i])}return r}).apply(this,arguments)}var interleave=function(r,n){for(var a=[r[0]],i=0,o=n.length;i<o;i+=1)a.push(n[i],r[i+1]);return a},isPlainObject=function(r){return null!==r&&"object"==typeof r&&"[object Object]"===(r.toString?r.toString():{}.toString.call(r))&&!Object(i.typeOf)(r)},ne=Object.freeze([]),ie=Object.freeze({});function isFunction(r){return"function"==typeof r}function getComponentName(r){return r.displayName||r.name||"Component"}function isStyledComponent(r){return r&&"string"==typeof r.styledComponentId}var oe=void 0!==r&&(r.env.REACT_APP_SC_ATTR||r.env.SC_ATTR)||"data-styled",se="undefined"!=typeof window&&"HTMLElement"in window,le="boolean"==typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||void 0!==r&&(r.env.REACT_APP_SC_DISABLE_SPEEDY||r.env.SC_DISABLE_SPEEDY)||!1,pe={},he=function getNonce(){return a.nc};function throwStyledComponentsError(r){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];throw Error("An error occurred. See https://github.com/styled-components/styled-components/blob/master/packages/styled-components/src/utils/errors.md#"+r+" for more information."+(a.length>0?" Additional arguments: "+a.join(", "):""))}var me=function makeStyleTag(r){var n=document.head,a=r||n,i=document.createElement("style"),o=function findLastStyleTag(r){for(var n=r.childNodes,a=n.length;a>=0;a--){var i=n[a];if(i&&1===i.nodeType&&i.hasAttribute(oe))return i}}(a),s=void 0!==o?o.nextSibling:null;i.setAttribute(oe,"active"),i.setAttribute("data-styled-version","5.1.1");var y=he();return y&&i.setAttribute("nonce",y),a.insertBefore(i,s),i},ge=function(){function CSSOMTag(r){var n=this.element=me(r);n.appendChild(document.createTextNode("")),this.sheet=function getSheet(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,a=0,i=n.length;a<i;a++){var o=n[a];if(o.ownerNode===r)return o}throwStyledComponentsError(17)}(n),this.length=0}var r=CSSOMTag.prototype;return r.insertRule=function insertRule(r,n){try{return this.sheet.insertRule(n,r),this.length++,!0}catch(r){return!1}},r.deleteRule=function deleteRule(r){this.sheet.deleteRule(r),this.length--},r.getRule=function getRule(r){var n=this.sheet.cssRules[r];return void 0!==n&&"string"==typeof n.cssText?n.cssText:""},CSSOMTag}(),ye=function(){function TextTag(r){var n=this.element=me(r);this.nodes=n.childNodes,this.length=0}var r=TextTag.prototype;return r.insertRule=function insertRule(r,n){if(r<=this.length&&r>=0){var a=document.createTextNode(n),i=this.nodes[r];return this.element.insertBefore(a,i||null),this.length++,!0}return!1},r.deleteRule=function deleteRule(r){this.element.removeChild(this.nodes[r]),this.length--},r.getRule=function getRule(r){return r<this.length?this.nodes[r].textContent:""},TextTag}(),_e=function(){function VirtualTag(r){this.rules=[],this.length=0}var r=VirtualTag.prototype;return r.insertRule=function insertRule(r,n){return r<=this.length&&(this.rules.splice(r,0,n),this.length++,!0)},r.deleteRule=function deleteRule(r){this.rules.splice(r,1),this.length--},r.getRule=function getRule(r){return r<this.length?this.rules[r]:""},VirtualTag}(),ve=function(){function DefaultGroupedTag(r){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=r}var r=DefaultGroupedTag.prototype;return r.indexOfGroup=function indexOfGroup(r){for(var n=0,a=0;a<r;a++)n+=this.groupSizes[a];return n},r.insertRules=function insertRules(r,n){if(r>=this.groupSizes.length){for(var a=this.groupSizes,i=a.length,o=i;r>=o;)(o<<=1)<0&&throwStyledComponentsError(16,""+r);this.groupSizes=new Uint32Array(o),this.groupSizes.set(a),this.length=o;for(var s=i;s<o;s++)this.groupSizes[s]=0}for(var y=this.indexOfGroup(r+1),_=0,w=n.length;_<w;_++)this.tag.insertRule(y,n[_])&&(this.groupSizes[r]++,y++)},r.clearGroup=function clearGroup(r){if(r<this.length){var n=this.groupSizes[r],a=this.indexOfGroup(r),i=a+n;this.groupSizes[r]=0;for(var o=a;o<i;o++)this.tag.deleteRule(a)}},r.getGroup=function getGroup(r){var n="";if(r>=this.length||0===this.groupSizes[r])return n;for(var a=this.groupSizes[r],i=this.indexOfGroup(r),o=i+a,s=i;s<o;s++)n+=this.tag.getRule(s)+"/*!sc*/\n";return n},DefaultGroupedTag}(),Se=new Map,we=new Map,Me=1,Te=function getGroupForId(r){if(Se.has(r))return Se.get(r);var n=Me++;return Se.set(r,n),we.set(n,r),n},Ae=function getIdForGroup(r){return we.get(r)},ke=function setGroupForId(r,n){n>=Me&&(Me=n+1),Se.set(r,n),we.set(n,r)},Re="style["+oe+'][data-styled-version="5.1.1"]',Oe=RegExp("^"+oe+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Ne=function rehydrateNamesFromContent(r,n,a){for(var i,o=a.split(","),s=0,y=o.length;s<y;s++)(i=o[s])&&r.registerName(n,i)},Fe=function rehydrateSheetFromTag(r,n){for(var a=n.innerHTML.split("/*!sc*/\n"),i=[],o=0,s=a.length;o<s;o++){var y=a[o].trim();if(y){var _=y.match(Oe);if(_){var w=0|parseInt(_[1],10),E=_[2];0!==w&&(ke(E,w),Ne(r,E,_[3]),r.getTag().insertRules(w,i)),i.length=0}else i.push(y)}}},je=se,Be={isServer:!se,useCSSOMInjection:!le},Ue=function(){function StyleSheet(r,n,a){void 0===r&&(r=Be),void 0===n&&(n={}),this.options=_extends({},Be,{},r),this.gs=n,this.names=new Map(a),!this.options.isServer&&se&&je&&(je=!1,function rehydrateSheet(r){for(var n=document.querySelectorAll(Re),a=0,i=n.length;a<i;a++){var o=n[a];o&&"active"!==o.getAttribute(oe)&&(Fe(r,o),o.parentNode&&o.parentNode.removeChild(o))}}(this))}StyleSheet.registerId=function registerId(r){return Te(r)};var r=StyleSheet.prototype;return r.reconstructWithOptions=function reconstructWithOptions(r){return new StyleSheet(_extends({},this.options,{},r),this.gs,this.names)},r.allocateGSInstance=function allocateGSInstance(r){return this.gs[r]=(this.gs[r]||0)+1},r.getTag=function getTag(){return this.tag||(this.tag=function makeGroupedTag(r){return new ve(r)}(function makeTag(r){var n=r.isServer,a=r.useCSSOMInjection,i=r.target;return n?new _e(i):a?new ge(i):new ye(i)}(this.options)))},r.hasNameForId=function hasNameForId(r,n){return this.names.has(r)&&this.names.get(r).has(n)},r.registerName=function registerName(r,n){if(Te(r),this.names.has(r))this.names.get(r).add(n);else{var a=new Set;a.add(n),this.names.set(r,a)}},r.insertRules=function insertRules(r,n,a){this.registerName(r,n),this.getTag().insertRules(Te(r),a)},r.clearNames=function clearNames(r){this.names.has(r)&&this.names.get(r).clear()},r.clearRules=function clearRules(r){this.getTag().clearGroup(Te(r)),this.clearNames(r)},r.clearTag=function clearTag(){this.tag=void 0},r.toString=function toString(){return function outputSheet(r){for(var n=r.getTag(),a=n.length,i="",o=0;o<a;o++){var s=Ae(o);if(void 0!==s){var y=r.names.get(s),_=n.getGroup(o);if(void 0!==y&&0!==_.length){var w=oe+".g"+o+'[id="'+s+'"]',E="";void 0!==y&&y.forEach((function(r){r.length>0&&(E+=r+",")})),i+=""+_+w+'{content:"'+E+'"}/*!sc*/\n'}}}return i}(this)},StyleSheet}(),Ve=function phash(r,n){for(var a=n.length;a;)r=33*r^n.charCodeAt(--a);return r},We=function hash(r){return Ve(5381,r)},Ye=/^\s*\/\/.*$/gm;function createStylisInstance(r){var n,a,i,o=void 0===r?ie:r,s=o.options,y=void 0===s?ie:s,_=o.plugins,E=void 0===_?ne:_,j=new w.a(y),q=[],$=function insertRulePlugin(r){function toSheet(n){if(n)try{r(n+"}")}catch(r){}}return function ruleSheet(n,a,i,o,s,y,_,w,E,j){switch(n){case 1:if(0===E&&64===a.charCodeAt(0))return r(a+";"),"";break;case 2:if(0===w)return a+"/*|*/";break;case 3:switch(w){case 102:case 112:return r(i[0]+a),"";default:return a+(0===j?"/*|*/":"")}case-2:a.split("/*|*/}").forEach(toSheet)}}}((function(r){q.push(r)})),oe=function selfReferenceReplacer(r,i,o){return i>0&&-1!==o.slice(0,i).indexOf(a)&&o.slice(i-a.length,i)!==a?"."+n:r};function stringifyRules(r,o,s,y){void 0===y&&(y="&");var _=r.replace(Ye,""),w=o&&s?s+" "+o+" { "+_+" }":_;return n=y,i=RegExp("\\"+(a=o)+"\\b","g"),j(s||!o?"":o,w)}return j.use([].concat(E,[function selfReferenceReplacementPlugin(r,n,o){2===r&&o.length&&o[0].lastIndexOf(a)>0&&(o[0]=o[0].replace(i,oe))},$,function returnRulesPlugin(r){if(-2===r){var n=q;return q=[],n}}])),stringifyRules.hash=E.length?E.reduce((function(r,n){return n.name||throwStyledComponentsError(15),Ve(r,n.name)}),5381).toString():"",stringifyRules}var Xe=s.a.createContext(),$e=Xe.Consumer,et=s.a.createContext(),tt=(et.Consumer,new Ue),rt=createStylisInstance();function useStyleSheet(){return Object(o.useContext)(Xe)||tt}function useStylis(){return Object(o.useContext)(et)||rt}function StyleSheetManager(r){var n=Object(o.useState)(r.stylisPlugins),a=n[0],i=n[1],y=useStyleSheet(),w=Object(o.useMemo)((function(){var n=y;return r.sheet?n=r.sheet:r.target&&(n=n.reconstructWithOptions({target:r.target})),r.disableCSSOMInjection&&(n=n.reconstructWithOptions({useCSSOMInjection:!1})),n}),[r.disableCSSOMInjection,r.sheet,r.target]),E=Object(o.useMemo)((function(){return createStylisInstance({options:{prefix:!r.disableVendorPrefixes},plugins:a})}),[r.disableVendorPrefixes,a]);return Object(o.useEffect)((function(){_()(a,r.stylisPlugins)||i(r.stylisPlugins)}),[r.stylisPlugins]),s.a.createElement(Xe.Provider,{value:w},s.a.createElement(et.Provider,{value:E},r.children))}var nt=function(){function Keyframes(r,n){var a=this;this.inject=function(r){r.hasNameForId(a.id,a.name)||r.insertRules(a.id,a.name,rt.apply(void 0,a.stringifyArgs))},this.toString=function(){return throwStyledComponentsError(12,a.name+"")},this.name=r,this.id="sc-keyframes-"+r,this.stringifyArgs=n}return Keyframes.prototype.getName=function getName(){return this.name},Keyframes}(),at=/([A-Z])/g,it=/^ms-/;function hyphenateStyleName(r){return r.replace(at,"-$1").toLowerCase().replace(it,"-ms-")}var ot=function isFalsish(r){return null==r||!1===r||""===r};function flatten(r,n,a){if(Array.isArray(r)){for(var i,o=[],s=0,y=r.length;s<y;s+=1)""!==(i=flatten(r[s],n,a))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return ot(r)?"":isStyledComponent(r)?"."+r.styledComponentId:isFunction(r)?function isStatelessFunction(r){return"function"==typeof r&&!(r.prototype&&r.prototype.isReactComponent)}(r)&&n?flatten(r(n),n,a):r:r instanceof nt?a?(r.inject(a),r.getName()):r:isPlainObject(r)?function objToCssArray(r,n){var a=[];return Object.keys(r).forEach((function(n){if(!ot(r[n])){if(isPlainObject(r[n]))return a.push.apply(a,objToCssArray(r[n],n)),a;if(isFunction(r[n]))return a.push(hyphenateStyleName(n)+":",r[n],";"),a;a.push(hyphenateStyleName(n)+": "+function addUnitIfNeeded(r,n){return null==n||"boolean"==typeof n||""===n?"":"number"!=typeof n||0===n||r in E.a?(n+"").trim():n+"px"}(n,r[n])+";")}return a})),n?[n+" {"].concat(a,["}"]):a}(r):r.toString()}function css(r){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return isFunction(r)||isPlainObject(r)?flatten(interleave(ne,[r].concat(a))):0===a.length&&1===r.length&&"string"==typeof r[0]?r:flatten(interleave(r,a))}var st=function isObject(r){return"function"==typeof r||"object"==typeof r&&null!==r&&!Array.isArray(r)},lt=function isValidKey(r){return"__proto__"!==r&&"constructor"!==r&&"prototype"!==r};function mixin(r,n,a){var i=r[a];st(n)&&st(i)?mixinDeep(i,n):r[a]=n}function mixinDeep(r){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];for(var o=0,s=a;o<s.length;o++){var y=s[o];if(st(y))for(var _ in y)lt(_)&&mixin(r,y[_],_)}return r}var ct=/(a)(d)/gi,pt=function getAlphabeticChar(r){return String.fromCharCode(r+(r>25?39:97))};function generateAlphabeticName(r){var n,a="";for(n=Math.abs(r);n>52;n=n/52|0)a=pt(n%52)+a;return(pt(n%52)+a).replace(ct,"$1-$2")}function isStaticRules(r){for(var n=0;n<r.length;n+=1){var a=r[n];if(isFunction(a)&&!isStyledComponent(a))return!1}return!0}var ut=function(){function ComponentStyle(r,n){this.rules=r,this.staticRulesId="",this.isStatic=isStaticRules(r),this.componentId=n,this.baseHash=We(n),Ue.registerId(n)}return ComponentStyle.prototype.generateAndInjectStyles=function generateAndInjectStyles(r,n,a){var i=this.componentId;if(this.isStatic&&!a.hash){if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))return this.staticRulesId;var o=flatten(this.rules,r,n).join(""),s=generateAlphabeticName(Ve(this.baseHash,o.length)>>>0);if(!n.hasNameForId(i,s)){var y=a(o,"."+s,void 0,i);n.insertRules(i,s,y)}return this.staticRulesId=s,s}for(var _=this.rules.length,w=Ve(this.baseHash,a.hash),E="",j=0;j<_;j++){var q=this.rules[j];if("string"==typeof q)E+=q;else{var $=flatten(q,r,n),ne=Array.isArray($)?$.join(""):$;w=Ve(w,ne+j),E+=ne}}var ie=generateAlphabeticName(w>>>0);if(!n.hasNameForId(i,ie)){var oe=a(E,"."+ie,void 0,i);n.insertRules(i,ie,oe)}return ie},ComponentStyle}(),dt=(new Set,function(r,n,a){return void 0===a&&(a=ie),r.theme!==a.theme&&r.theme||n||a.theme}),ht=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ft=/(^-|-$)/g;function escape(r){return r.replace(ht,"-").replace(ft,"")}function isTag(r){return"string"==typeof r&&!0}var generateComponentId=function(r){return generateAlphabeticName(We(r)>>>0)},mt=s.a.createContext(),gt=mt.Consumer;function ThemeProvider(r){var n=Object(o.useContext)(mt),a=Object(o.useMemo)((function(){return function mergeTheme(r,n){return r?isFunction(r)?r(n):Array.isArray(r)||"object"!=typeof r?throwStyledComponentsError(8):n?_extends({},n,{},r):r:throwStyledComponentsError(14)}(r.theme,n)}),[r.theme,n]);return r.children?s.a.createElement(mt.Provider,{value:a},r.children):null}var yt={};function createStyledComponent(r,n,a){var i=isStyledComponent(r),y=!isTag(r),_=n.displayName,w=void 0===_?function generateDisplayName(r){return isTag(r)?"styled."+r:"Styled("+getComponentName(r)+")"}(r):_,E=n.componentId,q=void 0===E?function generateId(r,n){var a="string"!=typeof r?"sc":escape(r);yt[a]=(yt[a]||0)+1;var i=a+"-"+generateComponentId(a+yt[a]);return n?n+"-"+i:i}(n.displayName,n.parentComponentId):E,oe=n.attrs,se=void 0===oe?ne:oe,le=n.displayName&&n.componentId?escape(n.displayName)+"-"+n.componentId:n.componentId||q,pe=i&&r.attrs?[].concat(r.attrs,se).filter(Boolean):se,he=n.shouldForwardProp;i&&r.shouldForwardProp&&(he=he?function shouldForwardProp(a,i){return r.shouldForwardProp(a,i)&&n.shouldForwardProp(a,i)}:r.shouldForwardProp);var me,ge=new ut(i?r.componentStyle.rules.concat(a):a,le),ye=function forwardRef(r,n){return function useStyledComponentImpl(r,n,a){var i=r.attrs,s=r.componentStyle,y=r.defaultProps,_=r.foldedComponentIds,w=r.shouldForwardProp,E=r.styledComponentId,q=r.target;Object(o.useDebugValue)(E);var $=function useResolvedAttrs(r,n,a){void 0===r&&(r=ie);var i=_extends({},n,{theme:r}),o={};return a.forEach((function(r){var n,a,s,y=r;for(n in isFunction(y)&&(y=y(i)),y)i[n]=o[n]="className"===n?(a=o[n],s=y[n],a&&s?a+" "+s:a||s):y[n]})),[i,o]}(dt(n,Object(o.useContext)(mt),y)||ie,n,i),ne=$[0],oe=$[1],se=function useInjectedStyle(r,n,a,i){var s=useStyleSheet(),y=useStylis(),_=r.isStatic&&!n?r.generateAndInjectStyles(ie,s,y):r.generateAndInjectStyles(a,s,y);return Object(o.useDebugValue)(_),_}(s,i.length>0,ne),le=a,pe=oe.$as||n.$as||oe.as||n.as||q,he=isTag(pe),me=oe!==n?_extends({},n,{},oe):n,ge=w||he&&j.a,ye={};for(var _e in me)"$"!==_e[0]&&"as"!==_e&&("forwardedAs"===_e?ye.as=me[_e]:ge&&!ge(_e,j.a)||(ye[_e]=me[_e]));return n.style&&oe.style!==n.style&&(ye.style=_extends({},n.style,{},oe.style)),ye.className=[].concat(_,E,se!==E?se:null,n.className,oe.className).filter(Boolean).join(" "),ye.ref=le,Object(o.createElement)(pe,ye)}(me,r,n)};return ye.displayName=w,(me=s.a.forwardRef(ye)).attrs=pe,me.componentStyle=ge,me.displayName=w,me.shouldForwardProp=he,me.foldedComponentIds=i?[].concat(r.foldedComponentIds,r.styledComponentId):ne,me.styledComponentId=le,me.target=i?r.target:r,me.withComponent=function withComponent(r){var i=n.componentId,o=function _objectWithoutPropertiesLoose(r,n){if(null==r)return{};var a,i,o={},s=Object.keys(r);for(i=0;i<s.length;i++)a=s[i],n.indexOf(a)>=0||(o[a]=r[a]);return o}(n,["componentId"]),s=i&&i+"-"+(isTag(r)?r:escape(getComponentName(r)));return createStyledComponent(r,_extends({},o,{attrs:pe,componentId:s}),a)},Object.defineProperty(me,"defaultProps",{get:function get(){return this._foldedDefaultProps},set:function set(n){this._foldedDefaultProps=i?mixinDeep({},r.defaultProps,n):n}}),me.toString=function(){return"."+me.styledComponentId},y&&$()(me,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,self:!0,styledComponentId:!0,target:!0,withComponent:!0}),me}var _t=function styled(r){return function constructWithOptions(r,n,a){if(void 0===a&&(a=ie),!Object(i.isValidElementType)(n))return throwStyledComponentsError(1,n+"");var o=function templateFunction(){return r(n,a,css.apply(void 0,arguments))};return o.withConfig=function(i){return constructWithOptions(r,n,_extends({},a,{},i))},o.attrs=function(i){return constructWithOptions(r,n,_extends({},a,{attrs:[].concat(a.attrs,i).filter(Boolean)}))},o}(createStyledComponent,r)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(r){_t[r]=_t(r)}));var vt=function(){function GlobalStyle(r,n){this.rules=r,this.componentId=n,this.isStatic=isStaticRules(r)}var r=GlobalStyle.prototype;return r.createStyles=function createStyles(r,n,a,i){var o=i(flatten(this.rules,n,a).join(""),""),s=this.componentId+r;a.insertRules(s,s,o)},r.removeStyles=function removeStyles(r,n){n.clearRules(this.componentId+r)},r.renderStyles=function renderStyles(r,n,a,i){Ue.registerId(this.componentId+r),this.removeStyles(r,a),this.createStyles(r,n,a,i)},GlobalStyle}();function createGlobalStyle(r){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var y=css.apply(void 0,[r].concat(a)),_="sc-global-"+generateComponentId(JSON.stringify(y)),w=new vt(y,_);function GlobalStyleComponent(r){var n=useStyleSheet(),a=useStylis(),i=Object(o.useContext)(mt),s=Object(o.useRef)(null);null===s.current&&(s.current=n.allocateGSInstance(_));var y=s.current;if(w.isStatic)w.renderStyles(y,pe,n,a);else{var E=_extends({},r,{theme:dt(r,i,GlobalStyleComponent.defaultProps)});w.renderStyles(y,E,n,a)}return Object(o.useEffect)((function(){return function(){return w.removeStyles(y,n)}}),ne),null}return s.a.memo(GlobalStyleComponent)}function keyframes(r){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var o=css.apply(void 0,[r].concat(a)).join(""),s=generateComponentId(o);return new nt(s,[o,s,"@keyframes"])}var bt=function(){function ServerStyleSheet(){var r=this;this._emitSheetCSS=function(){var n=r.instance.toString(),a=he();return"<style "+[a&&'nonce="'+a+'"',oe+'="true"','data-styled-version="5.1.1"'].filter(Boolean).join(" ")+">"+n+"</style>"},this.getStyleTags=function(){return r.sealed?throwStyledComponentsError(2):r._emitSheetCSS()},this.getStyleElement=function(){var n;if(r.sealed)return throwStyledComponentsError(2);var a=((n={})[oe]="",n["data-styled-version"]="5.1.1",n.dangerouslySetInnerHTML={__html:r.instance.toString()},n),i=he();return i&&(a.nonce=i),[s.a.createElement("style",_extends({},a,{key:"sc-0-0"}))]},this.seal=function(){r.sealed=!0},this.instance=new Ue({isServer:!0}),this.sealed=!1}var r=ServerStyleSheet.prototype;return r.collectStyles=function collectStyles(r){return this.sealed?throwStyledComponentsError(2):s.a.createElement(StyleSheetManager,{sheet:this.instance},r)},r.interleaveWithNodeStream=function interleaveWithNodeStream(r){return throwStyledComponentsError(3)},ServerStyleSheet}(),withTheme=function(r){var n=s.a.forwardRef((function(n,a){var i=Object(o.useContext)(mt),y=r.defaultProps,_=dt(n,i,y);return s.a.createElement(r,_extends({},n,{theme:_,ref:a}))}));return $()(n,r),n.displayName="WithTheme("+getComponentName(r)+")",n},xt=function useTheme(){return Object(o.useContext)(mt)},St={StyleSheet:Ue,masterSheet:tt},Ct="5.1.1";n.default=_t}(a(2))},function(r,n,a){"use strict";r.exports=a(461)},function(r,n,a){"use strict";var i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,y=i?Symbol.for("react.fragment"):60107,_=i?Symbol.for("react.strict_mode"):60108,w=i?Symbol.for("react.profiler"):60114,E=i?Symbol.for("react.provider"):60109,j=i?Symbol.for("react.context"):60110,q=i?Symbol.for("react.async_mode"):60111,$=i?Symbol.for("react.concurrent_mode"):60111,ne=i?Symbol.for("react.forward_ref"):60112,ie=i?Symbol.for("react.suspense"):60113,oe=i?Symbol.for("react.suspense_list"):60120,se=i?Symbol.for("react.memo"):60115,le=i?Symbol.for("react.lazy"):60116,pe=i?Symbol.for("react.block"):60121,he=i?Symbol.for("react.fundamental"):60117,me=i?Symbol.for("react.responder"):60118,ge=i?Symbol.for("react.scope"):60119;function z(r){if("object"==typeof r&&null!==r){var n=r.$$typeof;switch(n){case o:switch(r=r.type){case q:case $:case y:case w:case _:case ie:return r;default:switch(r=r&&r.$$typeof){case j:case ne:case le:case se:case E:return r;default:return n}}case s:return n}}}function A(r){return z(r)===$}n.AsyncMode=q,n.ConcurrentMode=$,n.ContextConsumer=j,n.ContextProvider=E,n.Element=o,n.ForwardRef=ne,n.Fragment=y,n.Lazy=le,n.Memo=se,n.Portal=s,n.Profiler=w,n.StrictMode=_,n.Suspense=ie,n.isAsyncMode=function(r){return A(r)||z(r)===q},n.isConcurrentMode=A,n.isContextConsumer=function(r){return z(r)===j},n.isContextProvider=function(r){return z(r)===E},n.isElement=function(r){return"object"==typeof r&&null!==r&&r.$$typeof===o},n.isForwardRef=function(r){return z(r)===ne},n.isFragment=function(r){return z(r)===y},n.isLazy=function(r){return z(r)===le},n.isMemo=function(r){return z(r)===se},n.isPortal=function(r){return z(r)===s},n.isProfiler=function(r){return z(r)===w},n.isStrictMode=function(r){return z(r)===_},n.isSuspense=function(r){return z(r)===ie},n.isValidElementType=function(r){return"string"==typeof r||"function"==typeof r||r===y||r===$||r===w||r===_||r===ie||r===oe||"object"==typeof r&&null!==r&&(r.$$typeof===le||r.$$typeof===se||r.$$typeof===E||r.$$typeof===j||r.$$typeof===ne||r.$$typeof===he||r.$$typeof===me||r.$$typeof===ge||r.$$typeof===pe)},n.typeOf=z},function(r,n){r.exports=function shallowEqual(r,n,a,i){var o=a?a.call(i,r,n):void 0;if(void 0!==o)return!!o;if(r===n)return!0;if("object"!=typeof r||!r||"object"!=typeof n||!n)return!1;var s=Object.keys(r),y=Object.keys(n);if(s.length!==y.length)return!1;for(var _={}.hasOwnProperty.bind(n),w=0;w<s.length;w++){var E=s[w];if(!_(E))return!1;var j=r[E],q=n[E];if(!1===(o=a?a.call(i,j,q,E):void 0)||void 0===o&&j!==q)return!1}return!0}},function(r,n,a){"use strict";n.a=function stylis_min(r){function X(r,n,a){var i=n.trim().split(y);n=i;var o=i.length,s=r.length;switch(s){case 0:case 1:var _=0;for(r=0===s?"":r[0]+" ";_<o;++_)n[_]=Z(r,n[_],a).trim();break;default:var w=_=0;for(n=[];_<o;++_)for(var E=0;E<s;++E)n[w++]=Z(r[E]+" ",i[_],a).trim()}return n}function Z(r,n,a){var i=n.charCodeAt(0);switch(33>i&&(i=(n=n.trim()).charCodeAt(0)),i){case 38:return n.replace(_,"$1"+r.trim());case 58:return r.trim()+n.replace(_,"$1"+r.trim());default:if(0<1*a&&0<n.indexOf("\f"))return n.replace(_,(58===r.charCodeAt(0)?"":"$1")+r.trim())}return r+n}function P(r,n,a,y){var _=r+";",w=2*n+3*a+4*y;if(944===w){r=_.indexOf(":",9)+1;var E=_.substring(r,_.length-1).trim();return E=_.substring(0,r).trim()+E+";",1===ge||2===ge&&L(E,1)?"-webkit-"+E+E:E}if(0===ge||2===ge&&!L(_,1))return _;switch(w){case 1015:return 97===_.charCodeAt(10)?"-webkit-"+_+_:_;case 951:return 116===_.charCodeAt(3)?"-webkit-"+_+_:_;case 963:return 110===_.charCodeAt(5)?"-webkit-"+_+_:_;case 1009:if(100!==_.charCodeAt(4))break;case 969:case 942:return"-webkit-"+_+_;case 978:return"-webkit-"+_+"-moz-"+_+_;case 1019:case 983:return"-webkit-"+_+"-moz-"+_+"-ms-"+_+_;case 883:if(45===_.charCodeAt(8))return"-webkit-"+_+_;if(0<_.indexOf("image-set(",11))return _.replace(le,"$1-webkit-$2")+_;break;case 932:if(45===_.charCodeAt(4))switch(_.charCodeAt(5)){case 103:return"-webkit-box-"+_.replace("-grow","")+"-webkit-"+_+"-ms-"+_.replace("grow","positive")+_;case 115:return"-webkit-"+_+"-ms-"+_.replace("shrink","negative")+_;case 98:return"-webkit-"+_+"-ms-"+_.replace("basis","preferred-size")+_}return"-webkit-"+_+"-ms-"+_+_;case 964:return"-webkit-"+_+"-ms-flex-"+_+_;case 1023:if(99!==_.charCodeAt(8))break;return"-webkit-box-pack"+(E=_.substring(_.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+_+"-ms-flex-pack"+E+_;case 1005:return o.test(_)?_.replace(i,":-webkit-")+_.replace(i,":-moz-")+_:_;case 1e3:switch(n=(E=_.substring(13).trim()).indexOf("-")+1,E.charCodeAt(0)+E.charCodeAt(n)){case 226:E=_.replace(q,"tb");break;case 232:E=_.replace(q,"tb-rl");break;case 220:E=_.replace(q,"lr");break;default:return _}return"-webkit-"+_+"-ms-"+E+_;case 1017:if(-1===_.indexOf("sticky",9))break;case 975:switch(n=(_=r).length-10,w=(E=(33===_.charCodeAt(n)?_.substring(0,n):_).substring(r.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|E.charCodeAt(7))){case 203:if(111>E.charCodeAt(8))break;case 115:_=_.replace(E,"-webkit-"+E)+";"+_;break;case 207:case 102:_=_.replace(E,"-webkit-"+(102<w?"inline-":"")+"box")+";"+_.replace(E,"-webkit-"+E)+";"+_.replace(E,"-ms-"+E+"box")+";"+_}return _+";";case 938:if(45===_.charCodeAt(5))switch(_.charCodeAt(6)){case 105:return E=_.replace("-items",""),"-webkit-"+_+"-webkit-box-"+E+"-ms-flex-"+E+_;case 115:return"-webkit-"+_+"-ms-flex-item-"+_.replace(ie,"")+_;default:return"-webkit-"+_+"-ms-flex-line-pack"+_.replace("align-content","").replace(ie,"")+_}break;case 973:case 989:if(45!==_.charCodeAt(3)||122===_.charCodeAt(4))break;case 931:case 953:if(!0===se.test(r))return 115===(E=r.substring(r.indexOf(":")+1)).charCodeAt(0)?P(r.replace("stretch","fill-available"),n,a,y).replace(":fill-available",":stretch"):_.replace(E,"-webkit-"+E)+_.replace(E,"-moz-"+E.replace("fill-",""))+_;break;case 962:if(_="-webkit-"+_+(102===_.charCodeAt(5)?"-ms-"+_:"")+_,211===a+y&&105===_.charCodeAt(13)&&0<_.indexOf("transform",10))return _.substring(0,_.indexOf(";",27)+1).replace(s,"$1-webkit-$2")+_}return _}function L(r,n){var a=r.indexOf(1===n?":":"{"),i=r.substring(0,3!==n?a:10);return a=r.substring(a+1,r.length-1),Se(2!==n?i:i.replace(oe,"$1"),a,n)}function ea(r,n){var a=P(n,n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2));return a!==n+";"?a.replace(ne," or ($1)").substring(4):"("+n+")"}function H(r,n,a,i,o,s,y,_,w,E){for(var j,q=0,$=n;q<ve;++q)switch(j=_e[q].call(B,r,$,a,i,o,s,y,_,w,E)){case void 0:case!1:case!0:case null:break;default:$=j}if($!==n)return $}function U(r){return void 0!==(r=r.prefix)&&(Se=null,r?"function"!=typeof r?ge=1:(ge=2,Se=r):ge=0),U}function B(r,i){var o=r;if(33>o.charCodeAt(0)&&(o=o.trim()),o=[o],0<ve){var s=H(-1,i,o,o,he,pe,0,0,0,0);void 0!==s&&"string"==typeof s&&(i=s)}var y=function M(r,i,o,s,y){for(var _,q,ne,ie,oe,se=0,le=0,_e=0,Se=0,Me=0,Te=0,Ae=ne=_=0,ke=0,Re=0,Oe=0,Ne=0,Fe=o.length,je=Fe-1,Be="",Ue="",Ve="",We="";ke<Fe;){if(q=o.charCodeAt(ke),ke===je&&0!==le+Se+_e+se&&(0!==le&&(q=47===le?10:47),Se=_e=se=0,Fe++,je++),0===le+Se+_e+se){if(ke===je&&(0<Re&&(Be=Be.replace(a,"")),0<Be.trim().length)){switch(q){case 32:case 9:case 59:case 13:case 10:break;default:Be+=o.charAt(ke)}q=59}switch(q){case 123:for(_=(Be=Be.trim()).charCodeAt(0),ne=1,Ne=++ke;ke<Fe;){switch(q=o.charCodeAt(ke)){case 123:ne++;break;case 125:ne--;break;case 47:switch(q=o.charCodeAt(ke+1)){case 42:case 47:e:{for(Ae=ke+1;Ae<je;++Ae)switch(o.charCodeAt(Ae)){case 47:if(42===q&&42===o.charCodeAt(Ae-1)&&ke+2!==Ae){ke=Ae+1;break e}break;case 10:if(47===q){ke=Ae+1;break e}}ke=Ae}}break;case 91:q++;case 40:q++;case 34:case 39:for(;ke++<je&&o.charCodeAt(ke)!==q;);}if(0===ne)break;ke++}switch(ne=o.substring(Ne,ke),0===_&&(_=(Be=Be.replace(n,"").trim()).charCodeAt(0)),_){case 64:switch(0<Re&&(Be=Be.replace(a,"")),q=Be.charCodeAt(1)){case 100:case 109:case 115:case 45:Re=i;break;default:Re=ye}if(Ne=(ne=M(i,Re,ne,q,y+1)).length,0<ve&&(oe=H(3,ne,Re=X(ye,Be,Oe),i,he,pe,Ne,q,y,s),Be=Re.join(""),void 0!==oe&&0===(Ne=(ne=oe.trim()).length)&&(q=0,ne="")),0<Ne)switch(q){case 115:Be=Be.replace($,ea);case 100:case 109:case 45:ne=Be+"{"+ne+"}";break;case 107:ne=(Be=Be.replace(w,"$1 $2"))+"{"+ne+"}",ne=1===ge||2===ge&&L("@"+ne,3)?"@-webkit-"+ne+"@"+ne:"@"+ne;break;default:ne=Be+ne,112===s&&(Ue+=ne,ne="")}else ne="";break;default:ne=M(i,X(i,Be,Oe),ne,s,y+1)}Ve+=ne,ne=Oe=Re=Ae=_=0,Be="",q=o.charCodeAt(++ke);break;case 125:case 59:if(1<(Ne=(Be=(0<Re?Be.replace(a,""):Be).trim()).length))switch(0===Ae&&(_=Be.charCodeAt(0),45===_||96<_&&123>_)&&(Ne=(Be=Be.replace(" ",":")).length),0<ve&&void 0!==(oe=H(1,Be,i,r,he,pe,Ue.length,s,y,s))&&0===(Ne=(Be=oe.trim()).length)&&(Be="\0\0"),_=Be.charCodeAt(0),q=Be.charCodeAt(1),_){case 0:break;case 64:if(105===q||99===q){We+=Be+o.charAt(ke);break}default:58!==Be.charCodeAt(Ne-1)&&(Ue+=P(Be,_,q,Be.charCodeAt(2)))}Oe=Re=Ae=_=0,Be="",q=o.charCodeAt(++ke)}}switch(q){case 13:case 10:47===le?le=0:0===1+_&&107!==s&&0<Be.length&&(Re=1,Be+="\0"),0<ve*we&&H(0,Be,i,r,he,pe,Ue.length,s,y,s),pe=1,he++;break;case 59:case 125:if(0===le+Se+_e+se){pe++;break}default:switch(pe++,ie=o.charAt(ke),q){case 9:case 32:if(0===Se+se+le)switch(Me){case 44:case 58:case 9:case 32:ie="";break;default:32!==q&&(ie=" ")}break;case 0:ie="\\0";break;case 12:ie="\\f";break;case 11:ie="\\v";break;case 38:0===Se+le+se&&(Re=Oe=1,ie="\f"+ie);break;case 108:if(0===Se+le+se+me&&0<Ae)switch(ke-Ae){case 2:112===Me&&58===o.charCodeAt(ke-3)&&(me=Me);case 8:111===Te&&(me=Te)}break;case 58:0===Se+le+se&&(Ae=ke);break;case 44:0===le+_e+Se+se&&(Re=1,ie+="\r");break;case 34:case 39:0===le&&(Se=Se===q?0:0===Se?q:Se);break;case 91:0===Se+le+_e&&se++;break;case 93:0===Se+le+_e&&se--;break;case 41:0===Se+le+se&&_e--;break;case 40:if(0===Se+le+se){if(0===_)switch(2*Me+3*Te){case 533:break;default:_=1}_e++}break;case 64:0===le+_e+Se+se+Ae+ne&&(ne=1);break;case 42:case 47:if(!(0<Se+se+_e))switch(le){case 0:switch(2*q+3*o.charCodeAt(ke+1)){case 235:le=47;break;case 220:Ne=ke,le=42}break;case 42:47===q&&42===Me&&Ne+2!==ke&&(33===o.charCodeAt(Ne+2)&&(Ue+=o.substring(Ne,ke+1)),ie="",le=0)}}0===le&&(Be+=ie)}Te=Me,Me=q,ke++}if(0<(Ne=Ue.length)){if(Re=i,0<ve&&void 0!==(oe=H(2,Ue,Re,r,he,pe,Ne,s,y,s))&&0===(Ue=oe).length)return We+Ue+Ve;if(Ue=Re.join(",")+"{"+Ue+"}",0!=ge*me){switch(2!==ge||L(Ue,2)||(me=0),me){case 111:Ue=Ue.replace(j,":-moz-$1")+Ue;break;case 112:Ue=Ue.replace(E,"::-webkit-input-$1")+Ue.replace(E,"::-moz-$1")+Ue.replace(E,":-ms-input-$1")+Ue}me=0}}return We+Ue+Ve}(ye,o,i,0,0);return 0<ve&&void 0!==(s=H(-2,y,o,o,he,pe,y.length,0,0,0))&&(y=s),me=0,pe=he=1,y}var n=/^\0+/g,a=/[\0\r\f]/g,i=/: */g,o=/zoo|gra/,s=/([,: ])(transform)/g,y=/,\r+?/g,_=/([\t\r\n ])*\f?&/g,w=/@(k\w+)\s*(\S*)\s*/,E=/::(place)/g,j=/:(read-only)/g,q=/[svh]\w+-[tblr]{2}/,$=/\(\s*(.*)\s*\)/g,ne=/([\s\S]*?);/g,ie=/-self|flex-/g,oe=/[^]*?(:[rp][el]a[\w-]+)[^]*/,se=/stretch|:\s*\w+\-(?:conte|avail)/,le=/([^-])(image-set\()/,pe=1,he=1,me=0,ge=1,ye=[],_e=[],ve=0,Se=null,we=0;return B.use=function T(r){switch(r){case void 0:case null:ve=_e.length=0;break;default:if("function"==typeof r)_e[ve++]=r;else if("object"==typeof r)for(var n=0,a=r.length;n<a;++n)T(r[n]);else we=0|!!r}return T},B.set=U,void 0!==r&&U(r),B}},function(r,n,a){"use strict";n.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(r,n,a){"use strict";var i=a(460),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},y={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_={};function getStatics(r){return i.isMemo(r)?y:_[r.$$typeof]||o}_[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_[i.Memo]=y;var w=Object.defineProperty,E=Object.getOwnPropertyNames,j=Object.getOwnPropertySymbols,q=Object.getOwnPropertyDescriptor,$=Object.getPrototypeOf,ne=Object.prototype;r.exports=function hoistNonReactStatics(r,n,a){if("string"!=typeof n){if(ne){var i=$(n);i&&i!==ne&&hoistNonReactStatics(r,i,a)}var o=E(n);j&&(o=o.concat(j(n)));for(var y=getStatics(r),_=getStatics(n),ie=0;ie<o.length;++ie){var oe=o[ie];if(!(s[oe]||a&&a[oe]||_&&_[oe]||y&&y[oe])){var se=q(n,oe);try{w(r,oe,se)}catch(r){}}}}return r}},,,function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GameModel=n.GameState=n.EGamekit=void 0;const i=a(18),o=a(227);var s,y;!function(r){r[r.PLATFORMER=0]="PLATFORMER",r[r.SHOOTER=1]="SHOOTER",r[r.PLAYGROUND=2]="PLAYGROUND",r[r.CREATE=3]="CREATE",r[r.NONE=4]="NONE"}(s=n.EGamekit||(n.EGamekit={})),function(r){r[r.PREVIEW_PLAY=0]="PREVIEW_PLAY",r[r.PLAY=1]="PLAY",r[r.CREATE=2]="CREATE"}(y=n.GameState||(n.GameState={}));class GameModel{static inStudio(){return"snap"===(window.GAMEKIT||i.default.request("gk")||"snap")}}n.GameModel=GameModel,GameModel.gamekit=new o.Observable(s.NONE),GameModel.isPlaying=new o.Observable(!1),GameModel.gameState=o.Computed1(GameModel.gamekit,r=>r===s.CREATE?y.CREATE:GameModel.inStudio()?y.PREVIEW_PLAY:y.PLAY),GameModel.canPlayWhileConnecting=o.Computed1(GameModel.gamekit,r=>r!==s.SHOOTER)},,,function(r,n,a){"use strict";var i,o,s,y,_=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},w=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const E=a(472),j=a(291),q=a(473),$=a(474),ne=a(499),ie=a(36),oe=a(156),se=a(37),le=a(40),pe=a(8),he=a(155),me=a(165),ge=a(41),ye=a(391),_e=a(301),ve=a(337),Se=a(19),we=a(481),Me=a(500);class PlatformerSystem extends le.default{constructor(){super(),this.currentCode=[,,,,,,,,,,],this.lastPlayedHurtingSound=0,this.moreStuff=r=>{const n=[38,38,40,40,37,39,37,39,66,65];this.currentCode.shift(),this.currentCode.push(r.keyCode);let a=!0;for(let r=0;r<this.currentCode.length;r++)if(this.currentCode[r]!==n[r]){a=!1;break}if(!a)return;const i=this.playerGroup.entities[0],o=this.entityManager.create();this.entityManager.addComponentSlow(o,ge.default,{parent:i.index,position:{x:0,y:.7,z:.1},isStatic:!1}),this.entityManager.addComponentSlow(o,_e.default,{preset:"maxProjectile",runOnce:!1}),this.entityManager.addComponentSlow(o,me.default,{color:new Se.Color("#5998ff"),strength:1.25}),o.node.setParent(i)}}onInit(){ne.default.setup(),this.playerGroup.on("entityUpdated",this.handlePlayerUpdated,this),this.entityManager.on("checkpointActivated",this.handleActivatedCheckpoint,this),this.entityManager.on("initContext",()=>{}),this.stuff()}async handleActivatedCheckpoint(){const r=this.playerGroup.entities[0];r&&r.health.hp>0&&this.respawnSystem.saveState()}handlePlayerUpdated(r){const{health:n}=r;if(n.tookDamage){this.overlaySystem.damage();const r=performance.now();r-this.lastPlayedHurtingSound>500&&(this.entityManager.getSystem(he.default).playSoundSlow("splat",{volume:.4}),this.lastPlayedHurtingSound=r)}}startGame(){this.entityManager.getOrCreateSingleton(q.default).totalGems=this.gemSystem.getGemCount(),this.gemSystem.updateGemDisplay();const r=this.entityManager.getOrCreateSingleton(E.default);this.entityManager.resetComponent(r),this.entityManager.getSystem($.default).checkGemsCollected(),this.respawnSystem.respawnPlayer(),this.respawnSystem.saveState()}restart(){this.entityManager.emit("restartGame"),this.respawnSystem.resetState(),this.entityManager.getSystem($.default).checkGemsCollected(),pe.inputManager.enablePointerLock()}stuff(){window.addEventListener("keydown",this.moreStuff)}updateTick(r,n){we.PlatformerTrack.updateDuration(this.entityManager,n)}onDispose(){window.removeEventListener("keydown",this.moreStuff)}}PlatformerSystem.order=5,_([oe.InjectSystem(()=>Me.default),w("design:type","function"==typeof(i=void 0!==Me.default&&Me.default)?i:Object)],PlatformerSystem.prototype,"respawnSystem",void 0),_([oe.InjectSystem(()=>$.default),w("design:type","function"==typeof(o=void 0!==$.default&&$.default)?o:Object)],PlatformerSystem.prototype,"gemSystem",void 0),_([oe.InjectSystem(()=>ye.default),w("design:type","function"==typeof(s=void 0!==ye.default&&ye.default)?s:Object)],PlatformerSystem.prototype,"overlaySystem",void 0),_([ie.InjectGroup(ge.default,ve.default,j.default),w("design:type","function"==typeof(y=void 0!==se.default&&se.default)?y:Object)],PlatformerSystem.prototype,"playerGroup",void 0),n.default=PlatformerSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(24),_=a(26),w=a(19);class FinishLineSingletonComponent extends y.default{constructor(){super(...arguments),this.lastPos=new w.Vector3,this.logTime=0,this.log=[],this.time=0,this.hasFinished=!1}}FinishLineSingletonComponent.componentName="finishLineSingleton",o([_.Property({inspector:!1}),s("design:type","function"==typeof(i=void 0!==w.Vector3&&w.Vector3)?i:Object)],FinishLineSingletonComponent.prototype,"lastPos",void 0),o([_.Property({inspector:!1}),s("design:type",Number)],FinishLineSingletonComponent.prototype,"logTime",void 0),o([_.Property({inspector:!1}),s("design:type",Array)],FinishLineSingletonComponent.prototype,"log",void 0),o([_.Property({inspector:!1}),s("design:type",Number)],FinishLineSingletonComponent.prototype,"time",void 0),o([_.Property({inspector:!1}),s("design:type",Boolean)],FinishLineSingletonComponent.prototype,"hasFinished",void 0),n.default=FinishLineSingletonComponent},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class GemStateComponent extends s.default{constructor(){super(...arguments),this.totalGems=0}}GemStateComponent.componentName="gemState",i([y.Property(),o("design:type",Number)],GemStateComponent.prototype,"totalGems",void 0),n.default=GemStateComponent},function(r,n,a){"use strict";var i,o,s,y,_,w=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},E=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const j=a(475),q=a(36),$=a(156),ne=a(37),ie=a(40),oe=a(22),se=a(66),le=a(155),pe=a(41),he=a(391),me=a(403),ge=a(65),ye=a(337),_e=a(172),ve=a(473),Se=a(497),we=a(498),Me=a(18),Te=a(34);class LegacyGemSystem extends ie.default{constructor(){super(...arguments),this.startMessageFlased=!1,this.element=null,this.currentGemThumbnail="",this.tmpTransform=new pe.Transform}onInit(){this.startMessageFlased=!1,this.gems.on("collisionEnter",this.handleEnterGem,this),this.gems.on("entityAdded",this.handleGemAdded,this),this.bags.on("entityUpdated",this.updateGemDisplay,this),this.createElement()}createElement(){this.element=document.createElement("div"),this.element.classList.add("game-info-display"),this.element.innerHTML='\n      <div class="gems-counter-background"></div>\n      <div class="gems-text">\n        <span class="gems-count-and-total">\n          <span class="gems-counter">0</span>/<span class="gems-total">0</span>\n        </span>\n        <span class="gems-type">\n        </span>\n      </div>\n    ';const{style:r}=this.element.querySelector(".gems-type");r.backgroundImage=`url(${Te.getCachedFileUri("https://cdn.hibervr.com/thumbs/artifacts/Gem.png")})`,this.element.style.position="absolute",this.element.style.display="none";const n=document.querySelector(".preview");n&&n.appendChild(this.element)}checkGemsCollected(){this.getCollectedGemsCount()>=this.getTotalGemCount()&&(this.entityManager.getSystem(j.default).pingFinishLines(),this.overlaySystem.flashMessage(se.default.findTheGoal,void 0,null,{hideCrossHair:!0}))}handleEnterGem(r,n){if(!n.legacyGemBag)return;const a=r.node.getAbsoluteTransform(this.tmpTransform);this.particleSystem.playEffect("smallExplosion",a.position);let i="pick_up";r.legacyGem&&r.legacyGem.sound&&(i=Array.isArray(r.legacyGem.sound)?Me.default.randFromArray(r.legacyGem.sound):r.legacyGem.sound),this.audioSystem.playPositionalSound(i,a.position,.5),this.entityManager.removeDeffered(r),n.legacyGemBag.count+=1,this.updateGemDisplay(),this.checkGemsCollected()}handleGemAdded(r){const n=document.querySelector(".gems-counter"),a=document.querySelector(".gems-total");a&&n&&(a.textContent=this.getTotalGemCount().toString(),n.textContent=this.getCollectedGemsCount().toString());const i=this.entityManager.tryGetComponent(r,_e.default);if(i&&oe.default[i.geometry]){if(!this.element)return;const{style:r}=this.element.querySelector(".gems-type");r.backgroundImage=`url(${Te.getCachedFileUri(oe.default[i.geometry].thumbnail||"")})`}}updateGemDisplay(){if(!this.element)return;this.getTotalGemCount()>0&&"none"===this.element.style.display&&(this.element.style.display="block",this.startMessageFlased||(this.overlaySystem.flashMessage(se.default.findAllGems,1500,null,{hideCrossHair:!0}),this.startMessageFlased=!0)),0===this.getTotalGemCount()&&"block"===this.element.style.display&&(this.element.style.display="none");const r=document.querySelector(".gems-counter"),n=document.querySelector(".gems-total");r&&(r.textContent=this.getCollectedGemsCount().toString()),n&&(n.textContent=this.getTotalGemCount().toString())}getGemThumbnail(){return this.currentGemThumbnail}getGemCount(){return this.gems.length}getTotalGemCount(){return this.entityManager.getOrCreateSingleton(ve.default).totalGems}getCollectedGemsCount(){const r=this.bags.entities[0];return r?r.legacyGemBag.count:0}onDispose(){this.element&&(this.element.remove(),this.element=null)}}LegacyGemSystem.order=5,w([q.InjectGroup(pe.default,ge.default,we.default),E("design:type","function"==typeof(i=void 0!==ne.default&&ne.default)?i:Object)],LegacyGemSystem.prototype,"gems",void 0),w([q.InjectGroup(Se.default,ye.default),E("design:type","function"==typeof(o=void 0!==ne.default&&ne.default)?o:Object)],LegacyGemSystem.prototype,"bags",void 0),w([$.InjectSystem(r=>me.default),E("design:type","function"==typeof(s=void 0!==me.default&&me.default)?s:Object)],LegacyGemSystem.prototype,"particleSystem",void 0),w([$.InjectSystem(r=>le.default),E("design:type","function"==typeof(y=void 0!==le.default&&le.default)?y:Object)],LegacyGemSystem.prototype,"audioSystem",void 0),w([$.InjectSystem(r=>he.default),E("design:type","function"==typeof(_=void 0!==he.default&&he.default)?_:Object)],LegacyGemSystem.prototype,"overlaySystem",void 0),n.default=LegacyGemSystem},function(r,n,a){"use strict";var i,o,s,y,_=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},w=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const E=a(291),j=a(474),q=a(36),$=a(156),ne=a(37),ie=a(40),oe=a(476),se=a(125),le=a(83),pe=a(18),he=a(66),me=a(13),ge=a(155),ye=a(169),_e=a(154),ve=a(197),Se=a(165),we=a(41),Me=a(301),Te=a(403),Ae=a(65),ke=a(337),Re=a(133),Oe=a(481),Ne=a(322),Fe=a(138),je=a(496),Be=a(472);class FinishLineSystem extends ie.default{constructor(){super(),this.posBuffer=new Float32Array(3),this.posView=new Uint32Array(this.posBuffer.buffer),this.tmpTransform=new we.Transform,this.lastFinishData=new Be.default}onInit(){this.group.on("collisionEnter",this.handleCollision,this),this.entityManager.getOrCreateSingleton(Be.default),this.entityManager.on("beforeUpdateState",this.handleUpdateState,this)}handleUpdateState(){}handleCollision(r,n){if(!n.playerControl)return;if(this.gemSystem.getCollectedGemsCount()<this.gemSystem.getTotalGemCount())return void this.entityManager.getSystem(ge.default).playPositionalSound("error",r.node.position);if(n.health&&n.health.hp<=0)return;const a=this.entityManager.getOrCreateSingleton(Be.default);if(a.hasFinished)return;n.avatar&&(this.entityManager.updateComponent(n,ve.default,{state:_e.AvatarState.DANCING_GOAL}),this.entityManager.updateComponent(n,ke.default,{lockControls:!0}),this.entityManager.updateComponent(n,E.default,{invulnerable:!0})),this.entityManager.getSystem(ge.default).playPositionalSound("success",r.node.position);const i=this.entityManager.create();this.entityManager.addComponentSlow(i,we.default,{position:r.node.position}),this.entityManager.addComponentSlow(i,Me.default,{preset:"fireworks",runOnce:!1}),a.hasFinished=!0,this.lastFinishData.fromComponent(a),Ne.GASend("game_v2","cleared_level","",1),this.showVictoryScreen(),this.entityManager.emit("gameFinished"),Oe.PlatformerTrack.gameWon(this.entityManager)}pingFinishLines(){for(const r of this.group){const n=r.node.getAbsoluteTransform(this.tmpTransform);this.entityManager.getSystem(ge.default).playPositionalSound("shields1",n.position,ye.AUDIO_DEFAULT_VOLUME,20),this.entityManager.getSystem(Te.default).playEffect("hintGlow",n.position),this.entityManager.addComponentSlow(r,Me.default,{preset:"finishLine",runOnce:!1}),this.entityManager.addComponentSlow(r,ye.default,{loop:!0,sound:"portal_trip",refDistance:1,rolloffFactor:1,volume:.5,playOnce:!1}),this.entityManager.addComponentSlow(r,Se.default,{strength:4,color:{r:0,g:1,b:0}})}}getFinishText(){return pe.default.randFromArray([he.default.victory,he.default.goodWork,he.default.awesome])}showVictoryScreenLocal(){const r=this.lastFinishData,n=this.entityManager.getSystem("StudioSystem"),a=se.isSignedIn()||n&&n.isCreativeModePreview,i=Fe.loadLocalGameData("time",0),o=!i||i>r.time,s=r.time;o&&Fe.saveLocalGameData("time",r.time),this.finishScreenSystem.update({bestTime:i,bigText:this.getFinishText(),currentTime:s,rank:0,record:o,totalPlayers:0,loggedIn:a})}showVictoryScreen(){const r=this.entityManager.getOrCreateSingleton(Re.default),n=this.lastFinishData,a=this.entityManager.getSystem("StudioSystem"),i=se.isSignedIn()||a&&a.isCreativeModePreview;this.finishScreenSystem.show({bestTime:0,bigText:this.getFinishText(),currentTime:n.time,rank:0,record:!1,totalPlayers:0,loading:!0,loggedIn:i}),me.isDebugMode||!se.isSignedIn()||r.isTryMode||r.isEditMode?this.showVictoryScreenLocal():le.default.postScore(r.projectId,n.time,"time",{log:pe.default.arrayToBase64(new Uint32Array(n.log).buffer)}).then(r=>{r.statusCode?this.showVictoryScreenLocal():this.finishScreenSystem.update({bestTime:r.bestScore,bigText:this.getFinishText(),currentTime:r.score,rank:r.currentRank,record:r.beatScore,totalPlayers:r.totalPlayers,loading:!1,loggedIn:!0})})}updateTick(r,n){const a=this.playerGroup.entities[0];if(!a)return;const i=this.entityManager.getOrCreateSingleton(Be.default);i.hasFinished||(i.time+=n,i.logTime+=n,i.logTime>1&&(i.logTime=0,this.posBuffer[0]=i.lastPos.x-a.node.position.x,this.posBuffer[1]=i.lastPos.y-a.node.position.y,this.posBuffer[2]=i.lastPos.z-a.node.position.z,i.log.push(this.posView[0],this.posView[1],this.posView[2]),i.lastPos.copy(a.node.position)))}}FinishLineSystem.order=5,_([q.InjectGroup(je.default,Ae.default),w("design:type","function"==typeof(i=void 0!==ne.default&&ne.default)?i:Object)],FinishLineSystem.prototype,"group",void 0),_([q.InjectGroup(we.default,ke.default),w("design:type","function"==typeof(o=void 0!==ne.default&&ne.default)?o:Object)],FinishLineSystem.prototype,"playerGroup",void 0),_([$.InjectSystem(r=>j.default),w("design:type","function"==typeof(s=void 0!==j.default&&j.default)?s:Object)],FinishLineSystem.prototype,"gemSystem",void 0),_([$.InjectSystem(r=>oe.default),w("design:type","function"==typeof(y=void 0!==oe.default&&oe.default)?y:Object)],FinishLineSystem.prototype,"finishScreenSystem",void 0),n.default=FinishLineSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(475),o=a(477),s=a(480),y=a(125),_=a(18),w=a(66),E=a(133),j=a(485),q=a(322),$=a(494),ne=a(40),ie=a(471),oe=a(495),se=a(34);class FinishScreenSystem extends ne.default{constructor(){super(...arguments),this.finishScreenOpen=!1,this.replayFn=()=>{document.body.querySelector(".outer.create-mode")?q.GASend("game_v2","endgame_replay_CM_button","restart",1):q.GASend("game_v2","endgame_replay_button","restart",1),this.entityManager.getSystem(ie.default).restart()},this.exitFn=()=>{const r=document.body.querySelector(".outer.create-mode");this.$exitBtn.style.display="none",r?(q.GASend("game_v2","endgame_replay_button","restart",1),this.entityManager.getSystem("StudioSystem").togglePreview(!1)):(q.GASend("game_v2","endgame_exit_button","exit",1),j.exit())},this.wrapperClickFn=r=>{r.stopPropagation()},this.signInFn=async r=>{r.stopPropagation(),q.GASend("game_v2","endgame_signIn_button","signIn",1);const n=await o.default();n&&n.token&&this.entityManager.getSystem(i.default).showVictoryScreen()},this.signUpFn=async r=>{r.stopPropagation(),q.GASend("game_v2","endgame_signOut_button","signOut",1);const n=await s.default();n&&n.token&&this.entityManager.getSystem(i.default).showVictoryScreen()}}onInit(){this.$mainWrapper=document.body.querySelector(".main-wrapper"),this.$container=this.$mainWrapper.querySelector(".preview"),this.$container.insertAdjacentHTML("beforeend",`\n      <div id="finish-screen-wrapper" class="finish-screen">\n        <div class="finish-screen-top">\n          <div class="top-section">\n            <div class="big-text outlined-big"></div>\n          </div>\n          <div class="middle-section">\n            <div class="fs-text signin-ui">\n              <div class="fs-button2 sign-in">Log In</div> or <div class="fs-button2 sign-up">Sign Up</div> to save your score\n            </div>\n          </div>\n          <div class="left-section"></div>\n          <div class="right-section">\n            <div class="fs-text fs-button replay">\n              Play again <i class="far fa-play-circle"></i>\n            </div>\n            <div class="fs-text fs-button exit">\n              Exit <i class="fas fa-sign-out-alt"></i>\n            </div>\n          </div>\n        </div>\n        <div class="bottom-slide-up">\n          <div class="bottom-slide-up-top-bar">\n            <div class="bottom-slide-up-label">\n              ${w.default.recomendedText} <i class="more-games-arrow fa fa-arrow-down fa-2x bounce" href="#"></i>\n            </div>\n          </div>\n          <div class="bottom-slide-up-inner"></div>\n        </div>\n      </div>\n      `),this.$FSWrapper=document.body.querySelector("#finish-screen-wrapper"),this.$bigText=this.$FSWrapper.querySelector(".big-text"),this.$leftSection=this.$FSWrapper.querySelector(".left-section"),this.$bottomSlideSection=this.$FSWrapper.querySelector(".bottom-slide-up"),this.$replayBtn=this.$FSWrapper.querySelector(".fs-button.replay"),this.$exitBtn=this.$FSWrapper.querySelector(".fs-button.exit"),this.$signInBtn=this.$FSWrapper.querySelector(".fs-button2.sign-in"),this.$signUpBtn=this.$FSWrapper.querySelector(".fs-button2.sign-up"),this.$FSWrapper.addEventListener("mousedown",this.wrapperClickFn,!1),this.$replayBtn.addEventListener("mousedown",this.replayFn,!1),this.$exitBtn.addEventListener("mousedown",this.exitFn,!1),this.$signInBtn.addEventListener("mousedown",this.signInFn,!1),this.$signUpBtn.addEventListener("mousedown",this.signUpFn,!1),this.entityManager.on("restartGame",this.handleGameRestart,this)}handleGameRestart(){this.hide()}show(r){this.finishScreenOpen=!0,oe.OverlayingUI.opened(),this.update(r),r.loggedIn&&(document.querySelector(".signin-ui").style.display="none");const n=document.querySelector(".pointer-lock-activate-display");n&&n.classList.add("hidden"),this.$FSWrapper.style.display="block"}update(r){this.$bigText&&(this.$bigText.innerHTML=r.bigText);let n="";r.record&&(n+=`<div class="fs-text blink">Personal Record: <div class="fs-text-data">${_.default.getTimeString(r.currentTime)}</div></div>`),!r.record&&r.currentTime&&(n+=`<div class="fs-text">Current time: <div class="fs-text-data">${_.default.getTimeString(r.currentTime)}</div></div>`),!r.record&&r.bestTime&&(n+=`<div class="fs-text">Your best time: <div class="fs-text-data">${_.default.getTimeString(r.bestTime)}</div></div>`),r.rank&&(n+=`<div class="fs-text">Rank: <div class="fs-text-data">${r.rank}</div> of <div class="fs-text-data">${r.totalPlayers}</div></div>`),r.failed&&(n+=`<div class="fs-text">${w.default.failedToSaveScore}</div>`),r.loading&&(n+=`<div class="fs-text">${w.default.savingScore}</div>`),this.$leftSection.innerHTML=n}async loadRecommendations(){if(this.entityManager.getOrCreateSingleton(E.default).isEditMode)return;const r=await y.fetchRecommendedProjects(5);let n="";const a=[];r.forEach(r=>{const i=r.project.thumbnail?r.project.thumbnail.medium.url:"https://cdn.hibervr.com/static/images/defaultImage_dark.png";a.push(i),n+=`\n      <div data-url="${r.project.playUrl}&recommended=true" class="rec-wrapper" style="width: 20%;">\n        <img alt="" src="${se.getCachedFileUri(i)}" />\n        <div class="rec-title">${r.project.title}</div>\n      </div>\n      `}),$.preloadImages(a).then(r=>{this.timer1=setTimeout(()=>{this.$bottomSlideSection&&this.$bottomSlideSection.classList.add("expanded")},150)}),this.$bottomSlideSection.querySelector(".bottom-slide-up-inner").innerHTML=n,this.$signUpBtn=this.$FSWrapper.querySelector(".rec-wrapper"),this.$FSWrapper.addEventListener("mousedown",this.wrapperClickFn,!1);const i=document.querySelectorAll(".rec-wrapper");for(let r=0;r<i.length;r++)i[r].addEventListener("click",r=>{const n=r.target.dataset.url;location.href=n,this.hide()})}hide(){this.finishScreenOpen&&oe.OverlayingUI.closed(),this.finishScreenOpen=!1,this.$FSWrapper&&(this.$FSWrapper.style.display="none");const r=document.querySelector(".pointer-lock-activate-display");r&&r.classList.remove("hidden"),clearTimeout(this.timer1),this.$bottomSlideSection.classList.remove("expanded")}onDispose(){this.$FSWrapper.parentNode&&this.$FSWrapper.parentNode.removeChild(this.$FSWrapper),this.$FSWrapper.removeEventListener("mousedown",this.wrapperClickFn,!1),this.$replayBtn.removeEventListener("mousedown",this.replayFn,!1),this.$exitBtn.removeEventListener("mousedown",this.exitFn,!1),this.$signInBtn.removeEventListener("mousedown",this.signInFn,!1),this.$signUpBtn.removeEventListener("mousedown",this.signUpFn,!1),this.$FSWrapper=null,this.$bigText=null,this.$leftSection=null,this.$bottomSlideSection=null,this.$replayBtn=null,this.$exitBtn=null,this.$mainWrapper=null,this.$container=null,this.$FSWrapper=null;const r=document.querySelector(".pointer-lock-activate-display");r&&r.classList.remove("hidden"),clearTimeout(this.timer1),this.$bottomSlideSection&&this.$bottomSlideSection.classList.remove("expanded"),super.onDispose()}}n.default=FinishScreenSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(478),o=a(125),s=a(479);n.default=()=>new Promise((r,n)=>{i.default.open({classes:"medium-style",data:[{fn:"addText",text:"<h1>Log In</h1>",classes:"prompt-text"},{fn:"addTextInput",label:"Username",id:"username",clearButton:!1,change(r){i.default.panel.hideAllErrors()}},{fn:"addPasswordInput",label:"Password",id:"password",clearButton:!1,change(r){i.default.panel.hideAllErrors()}},{fn:"addButton",label:"Log In",classes:"dimmedColor",async click(n){const a={username:i.default.panel.childElementObjects.username.getValue(),password:i.default.panel.childElementObjects.password.getValue()};n.elementObject.showLoader();const{username:y,password:_}=a,w=await o.signInUser({username:y,password:_});if(!w)return i.default.panel.childElementObjects.password.showError("An unkown error occured, if this keeps happening please contact support."),void n.elementObject.hideLoader();if(!w.data.loginUser){const r=w.errors[0].fields._error[0].defaultMessage;return i.default.panel.childElementObjects.password.showError(r),void n.elementObject.hideLoader()}const{user:E,token:j}=w.data.loginUser;s.CreateTrack.createLoggedIn(E),await o.setAuth({token:j,userId:E.id}),parent.postMessage(JSON.stringify({user:E,token:j,login:!0}),"*"),i.default.close(),n.elementObject.hideLoader(),r({token:j,user:E,action:"signin"})}},{fn:"addButton",label:"Close",classes:"dimmedColor",click(n){i.default.panel.hideAllErrors(),n.elementObject.hideLoader(),i.default.close(),r()}}]})})},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.YEAR_DROPDOWN=n.DAY_DROPDOWN=n.MOUNTH_DROPDOWN=void 0;const i=a(40),o=a(368),s=a(66),y=a(8),_=a(140);class MessageBox extends i.default{static open(r){MessageBox.plane=document.createElement("div"),MessageBox.plane.classList.add("ui-root-plane"),document.querySelector("#ui-root-container").appendChild(MessageBox.plane),y.inputManager.enableChannel(_.InputChannel.MODAL),MessageBox.panel=new o.Panel("#ui-root-container",{id:"MessageBox",classes:"message-box "+r.classes,visible:!1,width:r.width,height:r.height,title:r.title});for(let n=0;n<r.data.length;n++){const a=r.data[n];MessageBox.panel[a.fn](a)}MessageBox.panel.$elementWrapper.style.opacity=0,MessageBox.panel.show();const n=MessageBox.panel.$elementWrapper.offsetHeight+20;MessageBox.panel.$elementWrapper.style.top="calc(50% - "+.5*n+"px)",MessageBox.panel.$elementWrapper.style.height=n+"px",MessageBox.panel.$elementWrapper.style.opacity=1}static close(){y.inputManager.disableChannel(_.InputChannel.MODAL),MessageBox.panel.remove(),document.querySelector("#ui-root-container").removeChild(MessageBox.plane)}static alert(r="",n=null,a=s.default.ok){MessageBox.open({classes:"alert-style",data:[{fn:"addText",text:r,classes:"prompt-text"},{fn:"addButton",label:a,classes:"dimmedColor centerH",click(){MessageBox.close(),n&&n(!0)}}]})}static prompt(r="",n=null,a=s.default.ok,i=s.default.cancel){MessageBox.open({classes:"prompt-style",data:[{fn:"addText",text:r,classes:"prompt-text"},{fn:"addButton",label:a,classes:"dimmedColor",click(){MessageBox.close(),n&&n(!0)}},{fn:"addButton",label:i,classes:"dimmedColor",click(){MessageBox.close(),n&&n(!1)}}]})}}n.default=MessageBox,n.MOUNTH_DROPDOWN=(()=>{const r=[{key:"- - - ",value:""}];for(let n=1;n<13;n++)r.push({key:n+"",value:n+""});return r})(),n.DAY_DROPDOWN=(()=>{const r=[{key:"- - - ",value:""}];for(let n=1;n<32;n++)r.push({key:n+"",value:n+""});return r})();const w=[{key:"- - - ",value:""}],E=(new Date).getFullYear();for(let r=E;r>E-120;r--)w.push({key:r+"",value:r+""});n.YEAR_DROPDOWN=w},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.CreateTrack=void 0;const i=a(22),o=a(158),s=a(163),y=a(133),_=a(172),w=a(425);class CreateTrack{static createInit(){w.diveTrack("createInit",{is_edit:!0,is_start_over:!1})}static createStartOver(){w.diveTrack("createInit",{is_edit:!1,is_start_over:!0})}static createLoaded(){w.diveTrack("createLoaded",{})}static createItemAdded(r){if(!r)return;const n=this.mergeItemData(r);for(let r=0;r<n.length;r++){const a=n[r];w.diveTrack("createItemAdded",{item_id:a.id,item_category:a.category,quantity:a.quantity})}}static createItemRemoved(r){if(!r)return;const n=this.mergeItemData(r);for(let r=0;r<n.length;r++){const a=n[r];w.diveTrack("createItemRemoved",{item_id:a.id,item_category:a.category,quantity:a.quantity})}}static createMusicSet(r){var n;const a=(null===(n=o.default[r])||void 0===n?void 0:n.category)||"unknown";w.diveTrack("createMusicSet",{music_id:r,music_category:a})}static createScreenshotTook(){w.diveTrack("createScreenshotTook",{})}static createBackgroundSet(r){w.diveTrack("createBackgroundSet",{background_id:r})}static createSaved(){w.diveTrack("createSaved",{})}static createPublishInit(){w.diveTrack("createPublishInit",{})}static createPublished(r){const n=this.mergeItemData(r.getGroup(_.default).entities),a=r.getOrCreateSingleton(y.default),i=r.getGroup(s.default).entities[0];i&&w.diveTrack("createPublished",{difficulty:a.projectDifficulty,is_comments_on:!a.projectDisableComments,background_id:i.environment.skybox,music_id:i.environment.music,items:n,thumbnail_count:a.thumbnailCount})}static createLeft(){w.diveTrack("createLeft",{is_fake:0,g_duration:(performance.now()-this.startTimeMS)/1e3})}static mergeItemData(r){var n;const a=[];for(let o=0;o<r.length;o++){const s=r[o];if(!s.model)continue;const y=s.model.geometry;let _=a.find(r=>r.id===y);_||(_={category:(null===(n=i.default[s.model.geometry])||void 0===n?void 0:n.category)||"unknown",id:y,quantity:0},a.push(_)),_.quantity++}return a}static createLoggedIn(r){w.diveTrack("userLoggedIn",{username:r.username,fb_id:r.facebookId||"",login_type:"user",published_games:r.totalPublishedGames||0})}}n.CreateTrack=CreateTrack,CreateTrack.startTimeMS=performance.now()},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(478),o=a(125),s=a(481),y=a(484),isString=r=>"string"==typeof r,isNumber=r=>"number"==typeof r;n.default=()=>new Promise((r,n)=>{i.default.open({classes:"medium-style",data:[{fn:"addText",text:"<h1>Sign Up</h1>",classes:"prompt-text"},{fn:"addSelect",options:i.MOUNTH_DROPDOWN,label:"Birthday, Month",id:"month",change(r){r?i.default.panel.childElementObjects.month.hideError():i.default.panel.childElementObjects.month.showError("month cannot be empty")}},{fn:"addSelect",options:i.DAY_DROPDOWN,label:"Day",id:"day",change(r){r?i.default.panel.childElementObjects.day.hideError():i.default.panel.childElementObjects.day.showError("day cannot be empty")}},{fn:"addSelect",options:i.YEAR_DROPDOWN,label:"Year",id:"year",change(r){r?i.default.panel.childElementObjects.year.hideError():i.default.panel.childElementObjects.year.showError("year cannot be empty")}},{fn:"addTextInput",label:"Username",id:"username",clearButton:!1,change(r){r?r.length<3||r.length>18?i.default.panel.childElementObjects.username.showError("Usernames can be 3 - 18 characters long"):i.default.panel.childElementObjects.username.hideError():i.default.panel.childElementObjects.username.showError("Username cannot be empty")}},{fn:"addPasswordInput",label:"Password",id:"password",clearButton:!1,change(r){r?i.default.panel.childElementObjects.password.hideError():i.default.panel.childElementObjects.password.showError("password cannot be empty")}},{fn:"addText",text:'<p>By clicking Sign Up, you are agreeing to the HiberWorld<a target="_blank" href="https://hiber.mv/terms-of-use/"> Terms of service </a>and<a target="_blank" href="https://hiber.mv/privacy-policy/"> Privacy Policy </a></p>',classes:"prompt-text"},{fn:"addButton",label:"Sign Up",classes:"dimmedColor",async click(n){n.elementObject.showLoader();const a={month:i.default.panel.childElementObjects.month.getValue(),day:i.default.panel.childElementObjects.day.getValue(),year:i.default.panel.childElementObjects.year.getValue(),username:i.default.panel.childElementObjects.username.getValue(),password:i.default.panel.childElementObjects.password.getValue()},{month:_,day:w,year:E,username:j,password:q}=a,$=[];if(Object.entries(a).map(([r,n])=>{n||$.push({key:r,value:n,message:r+" cannot be empty"})}),$.length>0)return $.map(r=>{i.default.panel.childElementObjects[r.key].showError(r.message)}),void n.elementObject.hideLoader();const ne=isNumber(E)&&isNumber(_)&&isNumber(w)?new Date(E,_-1,w):new Date;if(Date.now()<(null==ne?void 0:ne.getTime()))return i.default.panel.childElementObjects.year.showError("Invalid birtdate."),void n.elementObject.hideLoader();const ie=isString(j)&&isString(q)&&await o.signUpUser({username:j,password:q,birthdate:ne});if(!ie)return i.default.panel.childElementObjects.password.showError("Unkown error occured, please contact support if this keeps happening."),void n.elementObject.hideLoader();if(!ie.data){const r=ie.errors[0].fields;return Object.keys(r).map(n=>{r[n].map(({defaultMessage:r})=>{"birthdate"==n&&(n="year"),i.default.panel.childElementObjects[n]&&i.default.panel.childElementObjects[n].showError(r)})}),void n.elementObject.hideLoader()}const{user:oe,token:se}=ie.data.createUser;await o.setAuth({token:se,userId:oe.id}),await s.PlatformerTrack.sendUserCreatedEvent(o.getRID()),await s.PlatformerTrack.sendUserSignUpEvent(oe.username),await y.sleep(100),i.default.close(),n.elementObject.hideLoader(),parent.postMessage(JSON.stringify({user:oe,token:se,login:!0}),"*"),r({token:se,user:oe,action:"signup"})}},{fn:"addButton",label:"Close",classes:"dimmedColor",click(n){n.elementObject.hideLoader(),i.default.close(),r()}}]})})},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PlatformerTrack=n.Reason=n.LevelState=void 0;const i=a(482),o=a(18),s=a(425),y=a(1376),_=a(483);var w,E;!function(r){r[r.INITIAL=0]="INITIAL",r[r.LOADED=1]="LOADED",r[r.RESTARTED=2]="RESTARTED",r[r.PLAYING=3]="PLAYING",r[r.CHECKPOINT_REACHED=4]="CHECKPOINT_REACHED",r[r.CHECKPOINT_RESPAWNED=5]="CHECKPOINT_RESPAWNED",r[r.DIED=6]="DIED",r[r.SUCCEEDED=7]="SUCCEEDED",r[r.EXIT=8]="EXIT"}(w=n.LevelState||(n.LevelState={})),function(r){r[r.LOADED=0]="LOADED",r[r.RESTART=1]="RESTART",r[r.DEATH=2]="DEATH",r[r.SUCCESS=3]="SUCCESS",r[r.EXIT=4]="EXIT"}(E=n.Reason||(n.Reason={}));class PlatformerTrack{static async track(r,n){o.default.inStudio()||await s.diveTrack(r,n)}static canTransitionTo(r,n){switch(r){case w.LOADED:if(n===w.LOADED)return!1;break;case w.RESTARTED:if(n===w.RESTARTED)return!1;break;case w.PLAYING:if(n===w.PLAYING)return!1;break;case w.CHECKPOINT_REACHED:break;case w.DIED:if(n===w.DIED)return!1;break;case w.SUCCEEDED:if(n===w.SUCCEEDED)return!1;break;case w.EXIT:if(n===w.EXIT)return!1}return!0}static updateDuration(r,n){_.GameTimerModel.paused.value()||(this.durationS+=n)}static gameInit(r){PlatformerTrack.track("gameInit",{origin:"unknown"})}static transitionTo(r,n){return!!this.canTransitionTo(this.state,n)&&(this.handleTransition(r,this.state,n),this.state=n,!0)}static handleTransition(r,n,a){const o=r.getGroup(i.default).entities.length,s=r.getGroup(i.default).entities.reduce((r,n)=>r+(n.checkpoint.activated?1:0),0);if(a===w.LOADED){let r=E.LOADED;n===w.DIED?r=E.DEATH:n===w.RESTARTED||n===w.CHECKPOINT_RESPAWNED?r=E.RESTART:n===w.SUCCEEDED&&(r=E.SUCCESS),0===s?(n!==w.DIED&&n!==w.RESTARTED&&n!==w.CHECKPOINT_RESPAWNED||this.sendGameFinishedEvent(r),a===w.LOADED&&0===s&&(this.attempts=0,this.durationS=0,this.sessionId=y.v4()),this.sendGameLoadedEvent(r,o)):this.sendGameCheckpointRestartedEvent(r,s)}a===w.CHECKPOINT_REACHED&&this.sendGameCheckpointReachedEvent(s),a===w.DIED&&this.sendGameLifeLostEvent(s),a===w.SUCCEEDED&&this.sendGameFinishedEvent(E.SUCCESS),a===w.EXIT&&(this.sendGameFinishedEvent(E.EXIT),this.sendGameLeftEvent())}static gameLoaded(r){this.transitionTo(r,w.LOADED)}static stepBack(r){this.transitionTo(r,w.CHECKPOINT_RESPAWNED)}static gameRestarted(r){this.transitionTo(r,w.RESTARTED)}static gameCheckpointReached(r){this.transitionTo(r,w.CHECKPOINT_REACHED)}static playerDied(r){this.transitionTo(r,w.DIED)}static gameWon(r){this.transitionTo(r,w.SUCCEEDED)}static gameLeft(r){this.transitionTo(r,w.EXIT)}static async sendUserSignUpEvent(r){await PlatformerTrack.track("userSignedUp",{username:r,login_type:"user",id:""})}static async sendUserCreatedEvent(r){await PlatformerTrack.track("userCreated",{guest_player_id:r})}static sendGameCheckpointRestartedEvent(r,n){PlatformerTrack.track("gameCheckpointRestarted",{checkpoints_collected:n,g_duration:this.durationS,g_session_id:this.sessionId,reason:E[r].toLowerCase()})}static sendGameLoadedEvent(r,n){PlatformerTrack.track("gameLoaded",{total_checkpoints:n,reason:E[r].toLowerCase(),g_duration:this.durationS,g_session_id:this.sessionId})}static sendGameCheckpointReachedEvent(r){PlatformerTrack.track("gameCheckpointReached",{number:r,g_duration:this.durationS,g_session_id:this.sessionId})}static sendGameLifeLostEvent(r){PlatformerTrack.track("gameLifeLost",{checkpoint_number:r,failures:this.attempts,g_duration:this.durationS,g_session_id:this.sessionId})}static sendGameFinishedEvent(r){PlatformerTrack.track("gameFinished",{g_duration:this.durationS,g_session_id:this.sessionId,reason:E[r].toLowerCase()})}static sendGameLeftEvent(){PlatformerTrack.track("gameLeft",{failures:this.attempts,g_duration:this.durationS,g_session_id:this.sessionId,is_fake:0})}}n.PlatformerTrack=PlatformerTrack,PlatformerTrack.attempts=0,PlatformerTrack.durationS=0,PlatformerTrack.state=w.INITIAL,PlatformerTrack.sessionId=y.v4(),PlatformerTrack.lastAttemptsUpdate=0,PlatformerTrack.lastDurationUpdate=performance.now()},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class CheckpointComponent extends s.default{constructor(){super(...arguments),this.activated=!1}}CheckpointComponent.componentName="checkpoint",i([y.Property({inspector:!1}),o("design:type",Boolean)],CheckpointComponent.prototype,"activated",void 0),n.default=CheckpointComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GameTimerModel=void 0;const i=a(227);class GameTimerModel{}n.GameTimerModel=GameTimerModel,GameTimerModel.paused=new i.Observable(!1)},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sleep=void 0,n.sleep=async r=>new Promise(n=>setTimeout(n,r))},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.exit=void 0;const i=a(8),o=a(133),s=a(13),y=a(134),_=a(6),w=a(18),E=a(425),j=a(479),q=a(468),$=a(481),ne=a(486),ie=a(484);n.exit=async()=>{const r=i.entityManager.getOrCreateSingleton(o.default);if(w.default.inStudio()?j.CreateTrack.createLeft():q.GameModel.gamekit.value()===q.EGamekit.PLATFORMER?$.PlatformerTrack.gameLeft(i.entityManager):q.GameModel.gamekit.value()===q.EGamekit.SHOOTER?ne.ShooterTrack.gameLeft():E.genericGameLeft(),await ie.sleep(500),window.ReactNativeWebView)window.ReactNativeWebView.postMessage(JSON.stringify({action:"navigate",value:"back"}));else if(window.parent!==window)parent.postMessage(JSON.stringify({action:s.wasRecommended?"switch-game":"exit",gameId:r.projectId}),"*");else{const n=document.referrer.split("/")[2],a=_.default.appUrl.split("/")[2];if(n&&n.includes(a))window.history.back();else{const n=y.Base64Helper.fromNumber(+r.projectId);window.history.pushState(void 0,"","/"),window.location.href=`${_.default.appUrl}/p/${n}/?wasPlaying=true`}}}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ShooterTrack=void 0;const i=a(425),o=a(18),s=a(487);class ShooterTrack{static track(r,n){o.default.inStudio()||i.diveTrack(r,n)}static playerDied(){this.deaths++,ShooterTrack.track("gameLifeLost",{failures:this.deaths})}static durationS(){return(performance.now()-this.startTimeMS)/1e3}static gameFinished(r){ShooterTrack.track("gameFinished",{rank:r,failures:this.deaths,g_duration:this.durationS()}),this.deaths=0,this.startTimeMS=0}static gameLoaded(){ShooterTrack.track("gameLoaded",{})}static gameLeft(){ShooterTrack.track("gameLeft",{failures:this.deaths,g_duration:this.durationS(),is_fake:0})}static init(){s.ShooterModel.roundOver.on(r=>{ShooterTrack.gameFinished(r)}),s.ShooterModel.killedByPlayer.on(()=>{ShooterTrack.playerDied()})}}n.ShooterTrack=ShooterTrack,ShooterTrack.deaths=0,ShooterTrack.startTimeMS=performance.now(),ShooterTrack.init()},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.handleChangedState=n.ShooterModel=void 0;const i=a(317),o=a(488),s=a(8),y=a(222),_=a(227),w=a(319),E=a(323),j=a(489),q=a(493);class ShooterModel{static getPlayerClientID(){return s.default.shooterCommunicator.getClientId()}}function handleChangedState(r){var n;ShooterModel.gameState.value()===i.ShooterGameState.POST_GAME&&r!==i.ShooterGameState.POST_GAME&&ShooterModel.gameRestart.emit(),r===i.ShooterGameState.ACTIVE_GAME&&ShooterModel.gameBegin.emit(),r===i.ShooterGameState.POST_GAME&&ShooterModel.roundOver.emit((null===(n=q.PlayerScoringModel.thisPlayer())||void 0===n?void 0:n.placement)||1/0),ShooterModel.gameState.set(r)}n.ShooterModel=ShooterModel,ShooterModel.killedByPlayer=new y.Event,ShooterModel.killedPlayerConfirmation=new y.Event,ShooterModel.gameStatePlayerDataChanged=new y.Event,ShooterModel.gameState=new _.Observable(i.ShooterGameState.INITIALIZING),ShooterModel.spreadChange=new y.Event,ShooterModel.shotSpread=new _.Observable(0),ShooterModel.hitPlayer=new y.Event,ShooterModel.aimingAtTarget=new _.Observable(j.AimPlayerResult.NONE),ShooterModel.PlayerDamaged=new y.Event,ShooterModel.HealthChanged=new y.Event,ShooterModel.gameTime=new _.Observable(0),ShooterModel.scoreLimit=new _.Observable(0),ShooterModel.playerRequestScoreScreenVisible=new _.Observable(!1),ShooterModel.gameRequestScoreScreenVisible=new _.Observable(!1),ShooterModel.roundOver=new y.Event,ShooterModel.gameRestart=new y.Event,ShooterModel.gameBegin=new y.Event,ShooterModel.playerJoined=new y.Event,ShooterModel.playerLeft=new y.Event,n.handleChangedState=handleChangedState,s.default.shooterCommunicator.killedByPlayer.on(r=>{ShooterModel.killedByPlayer.emit(r)}),s.default.shooterCommunicator.killedPlayerConfirmation.on(r=>{ShooterModel.killedPlayerConfirmation.emit(r)}),s.default.shooterCommunicator.gameStateRulesData.on(r=>{handleChangedState(r)}),o.default.PlayerDamaged.on(r=>{ShooterModel.PlayerDamaged.emit(r)}),s.default.shooterCommunicator.playerAdded.on(r=>{ShooterModel.gameState.value()!=i.ShooterGameState.ACTIVE_GAME&&(ShooterModel.playerJoined.emit(r.username),E.playSound("join_game"))}),s.default.shooterCommunicator.playerRemoved.on(r=>{ShooterModel.playerLeft.emit(r),ShooterModel.gameState.value()!=i.ShooterGameState.ACTIVE_GAME&&E.playSound("leave_game")}),w.default.gameTimeObservable.subscribe(r=>{ShooterModel.gameTime.set(r)}),w.default.scoreLimitObservable.subscribe(r=>{ShooterModel.scoreLimit.set(r)})},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(291),w=a(36),E=a(37),j=a(40),q=a(8),$=a(153),ne=a(321),ie=a(41),oe=a(335),se=a(45),le=a(337),pe=a(19),he=a(222),me=a(317),ge=a(324),ye=a(294),_e=a(39),ve=a(292),Se=a(299),we=a(487);class ShooterHealthSystem extends j.default{constructor(){super(...arguments),this.el=null,this.barEl=null,this.textEl=null,this.lastHealthStoredInHealthbar=-1,this.tmpVec1=new pe.Vector3,this.circleVector=new pe.Vector2,this.prevHealth=-1,this.PlayerDamagedData={damage:0,angleDegrees:0}}onInit(){this.createHealthUI()}onDispose(){this.el&&(this.el.remove(),this.el=null,this.barEl=null,this.textEl=null)}updateTick(r,n){const a=this.entityManager.getOrCreateSingleton($.PlayerState);if(!a.playerEntity||a.playerEntity.isFree)return void console.warn("WUT? No player entity?");const i=a.playerEntity,o=i.health;if(this.updateHealthBar(o),this.prevHealth!=o.hp){if(o.hp<this.prevHealth&&r-o.lastDamageTick<30){this.tmpVec1.copy(o.damageOrigin);const r=this.playerGroup.entities[0];r.node.object.updateMatrix(),r.node.object.updateMatrixWorld(),r.node.object.worldToLocal(this.tmpVec1),this.circleVector.set(-this.tmpVec1.x,this.tmpVec1.y+this.tmpVec1.z).normalize();const n=180*Math.atan2(this.circleVector.y,this.circleVector.x)/Math.PI;this.PlayerDamagedData.angleDegrees=n,this.PlayerDamagedData.damage=Math.min((this.prevHealth-o.hp)/o.maxHealth,1),ShooterHealthSystem.PlayerDamaged.emit(this.PlayerDamagedData)}this.prevHealth=o.hp}if(o.hp<=0&&!q.entityManager.hasComponent(i,ge.default)){if(q.entityManager.hasComponent(i,le.default)&&(i.playerControl.lockControls=!0),q.entityManager.hasComponent(i,oe.default)){const r=this.tmpVec1.copy(o.damageOrigin).multiplyScalar(30);i.characterController.applyCentralImpulse(r)}const r=this.entityManager.getOrCreateSingleton(me.default);q.entityManager.addComponentSlow(i,ge.default);const n=q.entityManager.getComponent(i,ge.default);if(r.state===me.ShooterGameState.ACTIVE_GAME?n.respawnTimer=5:n.respawnTimer=0,this.entityManager.hasComponent(i,oe.default)&&(this.entityManager.getComponent(i,oe.default).removeFromGroup(se.PHYSICS_GROUPS.CharacterAliveFilter),q.entityManager.updateComponent(i,oe.default,{})),this.entityManager.hasComponent(i,ye.default)){const r=this.entityManager.getComponent(i,ye.default),n=r.drone();if(n){q.entityManager.addComponentSlow(n,ve.default,{ticksLeft:120});const r=this.entityManager.tryGetComponent(n,Se.default);r&&(r.target.position.y+=30,r.movementSpeedMeterPerSec=1.5)}r.droneUid=_e.ENTITY_INVALID_UID}if(r.state===me.ShooterGameState.ACTIVE_GAME){const r=q.shooterCommunicator.playerUIDToClientID(o.lastDamageCausedByEntityUid),n=q.shooterCommunicator.getUsername(r);we.ShooterModel.killedByPlayer.emit(n||"Environment")}const a=q.entityManager.getOrCreateSingleton(ne.ShooterCommunicatorEventQueues);a.playerDied=!0,a.playerDeathCause=o.lastDamageCause,a.playerDeathEntityUid=o.lastDamageCausedByEntityUid,a.lastAssister=i.health.lastAssister,a.assisters=i.health.assisters,i.health.clearAssists()}}createHealthUI(){this.el=document.createElement("div"),this.el.classList.add("health-info-display");const r=document.createElement("div");r.classList.add("health-info-bar"),this.barEl=r,this.el.appendChild(r),q.container.appendChild(this.el)}updateHealthBar(r){if(!this.barEl)return;if(r.hp===this.lastHealthStoredInHealthbar)return;let n=0,a=r.hp;r.hp>=r.maxHealth&&(n=r.hp-r.maxHealth,a=r.maxHealth),this.barEl.style.width=100*a/r.maxHealth+"%",this.barEl.style.borderRightWidth=1.5*n+"px",this.lastHealthStoredInHealthbar=r.hp}showHealthUI(){this.el&&(this.el.style.display="flex")}hideHealthUI(){this.el&&(this.el.style.display="none")}}ShooterHealthSystem.order=5,ShooterHealthSystem.PlayerDamaged=new he.Event,s([w.InjectGroup(ie.default,le.default),y("design:type","function"==typeof(i=void 0!==E.default&&E.default)?i:Object)],ShooterHealthSystem.prototype,"playerGroup",void 0),s([w.InjectGroup(_.default),y("design:type","function"==typeof(o=void 0!==E.default&&E.default)?o:Object)],ShooterHealthSystem.prototype,"healthGroup",void 0),n.default=ShooterHealthSystem},function(r,n,a){"use strict";(function(r){var i,o,s,y,_,w=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},E=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.FireWeaponSystem=n.AimPlayerResult=void 0;const j=a(291),q=a(36),$=a(156),ne=a(37),ie=a(40),oe=a(8),se=a(193),le=a(487),pe=a(334),he=a(288),me=a(153),ge=a(197),ye=a(41),_e=a(335),ve=a(45),Se=a(20),we=a(60),Me=a(337),Te=a(159),Ae=a(19),ke=a(419),Re=a(490),Oe=a(491),Ne=a(323),Fe=a(492),je=a(333),Be=a(297),Ue=a(300),Ve=a(298),We=a(328),Ye=a(422),Xe=a(306),$e=a(329);var et;!function(r){r[r.NONE=0]="NONE",r[r.ENEMY=1]="ENEMY",r[r.TEAM=2]="TEAM",r[r.NEUTRAL=3]="NEUTRAL"}(et=n.AimPlayerResult||(n.AimPlayerResult={}));class FireWeaponSystem extends ie.default{constructor(){super(...arguments),this.tmpVec2=new Ae.Vector3,this.tmpVec3=new Ae.Vector3,this.tmpVec4=new Ae.Vector3,this.tmpVec5=new Ae.Vector3,this.tmpVec6=new Ae.Vector3,this.tmpVec7=new Ae.Vector3,this.tmpVec8=new Ae.Vector3,this.tmpVec9=new Ae.Vector3,this.tmpVec10=new Ae.Vector3,this.tmpVec11=new Ae.Vector3,this.tmpVec12=new Ae.Vector3,this.tmpVec13=new Ae.Vector3,this.tmpVec14=new Ae.Vector3,this.lastTick=0,this.time=0,this.lastTickAimedAtPlayer=0,this.ticksAimedAtPlayer=0,this.autoFireDelayTicks=2,this.tmpTransform=new ye.Transform,this.tmpTransform2=new ye.Transform,this.isTouchDevice=r.browser&&!0===window.matchMedia("(any-pointer: coarse)").matches,this.length=.5,this.width=.18,this.nPyramids=3,this.alpha=.5,this.weaponLightStrength=1.6,this.hitLightStrength=2,this.missLightStrenth=4,this.visualSpread=0,this.tempRayCastRes=new we.RayCastRes,this.tempRay=new we.Ray,this.tmpMat=new Ae.Matrix4,this.upVector=new Ae.Vector3(0,1,0),this.upEuler=(new Ae.Quaternion).setFromEuler(new Ae.Euler(1.57079633,0,0))}updateTick(r,n){this.lastTick=r,this.time+=n}updateFrame(r,n){var a,i;const o=oe.entityManager.getOrCreateSingleton(me.PlayerState).playerEntity;if(!o)return;const s=this.entityManager.getOrCreateSingleton(he.InputState).frameSnapshot,y=null===(i=null===(a=oe.entityManager.getOrCreateSingleton(me.PlayerState).playerEntity)||void 0===a?void 0:a.droneOwnership)||void 0===i?void 0:i.drone();if(!y)return;const _=Xe.WeaponStatsMap.get(y.drone.type),w=!o.playerControl.lockControls&&this.lastTick-y.drone.lastShotTick>_.ticksBetweenShots,E=this.aimingAtPlayer(_),j=E===et.ENEMY;le.ShooterModel.aimingAtTarget.set(E),j&&this.lastTickAimedAtPlayer!=this.lastTick&&(this.lastTickAimedAtPlayer=this.lastTick,this.ticksAimedAtPlayer+=1,this.ticksAimedAtPlayer=Math.min(this.ticksAimedAtPlayer,5)),!j&&this.ticksAimedAtPlayer>0&&(this.ticksAimedAtPlayer-=.25),s.action2.isPressed()&&s.wasTouchInput?this.renderSystem.camera.fov=Math.max(50,this.renderSystem.camera.fov-200*n):this.renderSystem.camera.fov=Math.min(70,this.renderSystem.camera.fov+150*n);const q=this.isTouchDevice&&s.touchAimSurface.isPressed()&&this.ticksAimedAtPlayer>=this.autoFireDelayTicks+_.autoFireDelay&&w,$=w&&s.action2.isPressed(),ne=Math.abs(_.maxSpread-_.minSpread);if(q||$){const n=ne*(this.entityManager.tickTimeMs/_.spreadRecoveryTimeMs),a=Math.max((this.lastTick-y.drone.lastShotTick-1)*n,0),i=ne*(_.ticksBetweenShots*this.entityManager.tickTimeMs/_.spreadRampUpTimeMs);y.drone.currentSpread=Math.max(Math.min(_.maxSpread,y.drone.currentSpread-a),_.minSpread),y.drone.lastShotTick=this.lastTick,this.shoot(y,r),y.drone.currentSpread=Math.max(Math.min(y.drone.currentSpread+i,_.maxSpread),_.minSpread),this.visualSpread=y.drone.currentSpread,le.ShooterModel.shotSpread.set(Math.floor(600*this.visualSpread))}else if(y.drone.lastShotTick+2<this.lastTick){const r=this.visualSpread,a=ne*n*(1e3/_.spreadRecoveryTimeMs);this.visualSpread=Math.max(r-a,_.minSpread),le.ShooterModel.shotSpread.set(Math.floor(600*this.visualSpread))}}aimingAtPlayer(r){const n=oe.entityManager.getOrCreateSingleton(me.PlayerState).playerEntity,a=n.aim,i=n.characterController;if(a.magnetismTargetUid<=0)return et.NONE;if(a.magnetismTargetDistance>r.effectiveRange)return et.NONE;if(a.aimTargetDistance>0&&a.aimTargetDistance<a.magnetismTargetDistance-2*i.radius)return et.NONE;const o=this.entityManager.getEntity(a.magnetismTargetUid);if(!o)return et.NONE;if(!this.entityManager.hasComponent(o,ge.default))return et.NONE;const s=a.centerPosition.distanceTo(a.magnetismTargetPosition)<=.25,y=this.entityManager.getComponent(n,Be.default),_=this.entityManager.getComponent(o,Be.default),w=y.team!==Ve.Team.NEUTRAL&&_.team===y.team;if(s)return w?et.TEAM:et.ENEMY;const E=this.entityManager.getSystem(Te.default).camera,j=this.tmpVec6.subVectors(E.position,a.centerPosition).normalize(),q=this.tmpVec5.set(0,0,1).applyQuaternion(E.quaternion);return Math.acos(j.dot(q))*(180/Math.PI)>3*this.calculateMaxAimAngle(r,a.magnetismTargetDistance)?et.NONE:w?et.TEAM:et.ENEMY}getClosestAimTarget(r,n,a){const i=this.tmpTransform2;let o=null,s=9999999;for(let y=0;y<this.aimTargetGroup.length;y++){const _=this.aimTargetGroup.entities[y],{node:w,aimTarget:E,health:j,avatar:q}=_;if(j&&j.isDead)continue;w.getInterpolatedAbsoluteTransform(i,a),q&&Ye.getPlayerPosition(i,q,i.position);const $=this.tmpVec3.copy(i.position);$.y-=.5*E.height;const ne=this.tmpVec4.copy(i.position);ne.y+=.5*E.height;const ie=this.tmpVec11,oe=this.tmpVec12,se=this.tmpVec14.copy(n).multiplyScalar(1e3).add(r);ke.closestLinePoints($,ne,r,se,ie,oe);const le=ie.distanceTo(oe)-E.innerRadius;s>le&&(s=le,o=_)}return o}shoot(r,n){const a=oe.entityManager.getOrCreateSingleton(me.PlayerState).playerEntity;if(a.playerControl.lockControls)return;const i=this.entityManager.getComponent(a,Be.default),o=Xe.WeaponStatsMap.get(r.drone.type),s=r.node.getInterpolatedAbsoluteTransform(this.tmpTransform,n),y=this.tmpVec7;y.copy(s.position);const{playerControl:_}=a,{camera:w}=this.renderSystem,E=this.tmpVec8.copy(_.lookDirection).multiplyScalar(1e3).add(w.position),q=this.getClosestAimTarget(w.position,_.lookDirection,n);this.getTargetHitPoint(q,w.position,_.lookDirection,n,E,o,y);const $=r.drone.currentSpread,ne=Re.getRandomPointInSphere(this.tmpVec2).multiplyScalar($),ie=this.tmpVec9.copy(E).sub(y).normalize().add(ne).normalize(),he=this.getTargetHitPoint(q,y,ie,n,E,o,y),ge=-1!==he,ye=this.entityManager.getOrCreateSingleton(We.default);if(ye.shotFired=!0,ye.weaponType=r.drone.type,ye.hitPointType=Xe.HitPointType.BODY,ye.visualOrigin.copy(y),ge){ye.hit=!0;const r=this.entityManager.getEntity(he);if(r&&this.entityManager.hasComponent(r,pe.AimTargetComponent)){const s=r.node.getInterpolatedAbsoluteTransform(this.tmpTransform2,n);r.avatar&&Ye.getPlayerPosition(s,r.avatar,s.position);const y=r.aimTarget,_=this.tmpVec3.copy(s.position);_.y-=.5*y.height-y.innerRadius;const w=this.tmpVec4.copy(s.position);w.y+=.5*y.height-y.innerRadius;const q=ke.constrainToSegment(E,_,w).sub(s.position),$=y.height-(q.y-se.AVATAR_Y_OFFSET),ne=y.critHeightThreshold>=$;let ie=ne?Xe.HitPointType.CRITICAL:Xe.HitPointType.BODY;this.entityManager.hasComponent(r,je.default)&&(ie=Xe.HitPointType.DRONE);const pe=Xe.getWeaponDamage(this.entityManager,o,ie),he=oe.shooterCommunicator.uidToPlayerEntity(r.uid),me=this.entityManager.getComponent(he,Be.default),ge=me.team!==Ve.Team.NEUTRAL&&me.team===i.team;if(ge||Ue.createDamageNumber(this.entityManager,r.node.position,pe,ne),Ne.playSound("impactBody",.3,!1),ye.hitPlayer=!0,ye.hitPlayerEntityId=r.uid,ye.hitPointType=ie,!ge&&this.entityManager.hasComponent(he,j.default)){const r=this.entityManager.getComponent(he,j.default);r.damage(pe,j.DamageCause.WEAPON_FIRE,a.node.position,a.uid),r.isDead&&(r.hp=1),le.ShooterModel.hitPlayer.emit(!0)}}else ye.hitPlayer=!1}else ye.hit=!1,ye.hitPlayer=!1;return ye.visualDestination.copy(E),oe.entityManager.getOrCreateSingleton($e.WeaponVfxQueue).shotVfxDeferred(y,E,ge,r.drone.type,r.drone,r.uid,he,!0),a.playerControl.cameraRecoilOffset.set(0,.005*o.recoil),ye.hitPlayer}getTargetHitPoint(r,n,a,i,o,s,y){const _=o.copy(a).multiplyScalar(s.maxRange).add(n);this.tempRay.dirWS.copy(a),this.tempRay.originWS.copy(n),this.tempRay.maxDistWS=s.maxRange,this.physicsSystem.rayCastSaneAPI(this.tempRay,this.tempRayCastRes,ve.PHYSICS_GROUPS.LocalPlayer,ve.PHYSICS_GROUPS.DefaultFilter|ve.PHYSICS_GROUPS.StaticFilter|ve.PHYSICS_GROUPS.KinematicFilter);const w=this.tempRayCastRes.distWS,E=this.tempRayCastRes.hit,j=this.tempRayCastRes.uid;if(E&&_.copy(this.tempRayCastRes.posWS),!r)return E?j:-1;const q=r.node.getInterpolatedAbsoluteTransform(this.tmpTransform2,i);r.avatar&&Ye.getPlayerPosition(q,r.avatar,q.position);const $=r.aimTarget,ne=this.tmpVec3.copy(q.position);ne.y-=.5*$.height-$.innerRadius;const ie=this.tmpVec4.copy(q.position);ie.y+=.5*$.height-$.innerRadius;const oe=this.tmpVec11,se=this.tmpVec12;ke.closestLinePoints(ne,ie,n,_,oe,se);const le=oe.distanceTo(se)-$.innerRadius,pe=this.tmpVec10.copy(a),he=s.effectiveRange,me=s.aimAssistStrength;if(le>0&&le<=me){const r=n.distanceTo(se),i=me*Math.min(Math.max(.1*(he+4-r),0),1),o=this.tmpVec13.subVectors(oe,se).normalize().multiplyScalar(Math.min(.75*i,le));pe.copy(se).add(o).sub(n).normalize();const y=this.calculateMaxAimAngle(s,r);a.dot(pe)<1?Math.acos(a.dot(pe))*(180/Math.PI)>y&&pe.copy(a):pe.copy(a)}const ge=Oe.intersectCapsule(n,pe,ne,ie,$.innerRadius);if(ge>s.maxRange)return-1;if(ge<0||E&&w<ge)return E?j:-1;const ye=this.tmpVec12.copy(pe).multiplyScalar(ge).add(n);return this.tmpVec13.copy(ye).sub(y).normalize().dot(a)<0?E?j:-1:(o.copy(ye),r.uid)}calculateMaxAimAngle(r,n){return r.aimAssistStrength*Math.min(Math.max(.1*(r.effectiveRange+4-n),0),1)*.5}RotateTowards(r,n,a){return this.tmpMat.lookAt(r,n,this.upVector),a.setFromRotationMatrix(this.tmpMat),a.multiply(this.upEuler),a}}FireWeaponSystem.order=12,w([q.InjectGroup(ye.default,_e.default,Me.default,Fe.default),E("design:type","function"==typeof(i=void 0!==ne.default&&ne.default)?i:Object)],FireWeaponSystem.prototype,"playerGroup",void 0),w([q.InjectGroup(ye.default,je.default),E("design:type","function"==typeof(o=void 0!==ne.default&&ne.default)?o:Object)],FireWeaponSystem.prototype,"weaponSlotGroup",void 0),w([q.InjectGroup(ye.default,pe.AimTargetComponent),E("design:type","function"==typeof(s=void 0!==ne.default&&ne.default)?s:Object)],FireWeaponSystem.prototype,"aimTargetGroup",void 0),w([$.InjectSystem(r=>Se.default),E("design:type","function"==typeof(y=void 0!==Se.default&&Se.default)?y:Object)],FireWeaponSystem.prototype,"physicsSystem",void 0),w([$.InjectSystem(()=>Te.default),E("design:type","function"==typeof(_=void 0!==Te.default&&Te.default)?_:Object)],FireWeaponSystem.prototype,"renderSystem",void 0),n.FireWeaponSystem=FireWeaponSystem}).call(this,a(2))},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getRandomPointInSphere=void 0,n.getRandomPointInSphere=r=>{const n=Math.random(),a=Math.random(),i=2*n*Math.PI,o=Math.acos(2*a-1),s=Math.cbrt(Math.random()),y=Math.sin(i),_=Math.cos(i),w=Math.sin(o),E=s*w*_,j=s*w*y,q=s*Math.cos(o);return r.x=E,r.y=j,r.z=q,r}},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.intersectCapsule=void 0;const i=a(19),o=new i.Vector3,s=new i.Vector3,y=new i.Vector3,dot=(r,n)=>r.x*n.x+r.y*n.y+r.z*n.z;n.intersectCapsule=(r,n,a,i,_)=>{const w=o.subVectors(i,a),E=s.subVectors(r,a),j=dot(w,w),q=dot(w,n),$=dot(w,E),ne=j-q*q;let ie=j*dot(n,E)-$*q,oe=j*dot(E,E)-$*$-_*_*j,se=ie*ie-ne*oe;if(se>=0){const a=(-ie-Math.sqrt(se))/ne,o=$+a*q;if(o>0&&o<j)return a;const s=o<=0?E:y.subVectors(r,i);if(ie=dot(n,s),oe=dot(s,s)-_*_,se=ie*ie-oe,se>0)return-ie-Math.sqrt(se)}return-1}},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const w=a(24),E=a(19),j=a(26);class AimComponent extends w.default{constructor(){super(...arguments),this.aimTargetDistance=-1,this.aimTargetPosition=new E.Vector3,this.targetUid=0,this.prevTargetUid=0,this.magnetismTargetDistance=-1,this.magnetismTargetPosition=new E.Vector3,this.magnetismTargetUid=-1,this.prevMagnetismTargetUid=-1,this.centerPosition=new E.Vector3}}AimComponent.componentName="aim",y([j.Property(),_("design:type",Number)],AimComponent.prototype,"aimTargetDistance",void 0),y([j.Property(),_("design:type","function"==typeof(i=void 0!==E.Vector3&&E.Vector3)?i:Object)],AimComponent.prototype,"aimTargetPosition",void 0),y([j.Property(),_("design:type",Number)],AimComponent.prototype,"targetUid",void 0),y([j.Property(),_("design:type",Number)],AimComponent.prototype,"prevTargetUid",void 0),y([j.Property(),_("design:type",Number)],AimComponent.prototype,"magnetismTargetDistance",void 0),y([j.Property(),_("design:type","function"==typeof(o=void 0!==E.Vector3&&E.Vector3)?o:Object)],AimComponent.prototype,"magnetismTargetPosition",void 0),y([j.Property(),_("design:type",Number)],AimComponent.prototype,"magnetismTargetUid",void 0),y([j.Property(),_("design:type",Number)],AimComponent.prototype,"prevMagnetismTargetUid",void 0),y([j.Property(),_("design:type","function"==typeof(s=void 0!==E.Vector3&&E.Vector3)?s:Object)],AimComponent.prototype,"centerPosition",void 0),n.default=AimComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PlayerScoringModel=n.ScoreRowsModel=n.sortScores=n.ScoreRowModel=void 0;const i=a(487),o=a(227),s=a(222),y=a(13),_=a(8),w=a(14),E=a(319);class ScoreRowModel{constructor(){this.placement=0,this.username="",this.clientId=0,this.score=0,this.kills=0,this.assists=0,this.deaths=0,this.used=!1,this.isUser=!1}}n.ScoreRowModel=ScoreRowModel,n.sortScores=(r,n)=>!r.used&&n.used?1:r.used&&!n.used?-1:n.score-r.score;class ScoreRowsModel{constructor(){this.scoreRows=Array(16).fill(0).map(r=>new ScoreRowModel),this.scoreChanged=new s.Event,this.teamScore=new o.Observable(0)}updateRows(r,a){const o=this.scoreRows,s=i.ShooterModel.getPlayerClientID();let y=0;for(const r of o)r.used=!1;let _=0;for(let n=0;n<r.length;n++){const i=r[n];i.isConnected&&a(i)&&(o[_].placement=0,o[_].clientId=i.clientId,o[_].username=i.username,o[_].score=i.score,o[_].kills=i.kills,o[_].assists=i.assists,o[_].deaths=i.deaths,o[_].isUser=i.clientId===s,o[_].used=!0,_++),a(i)&&(y+=i.score)}this.teamScore.set(y),o.sort(n.sortScores);let w=0,E=-1;for(let n=0;n<r.length;n++){const r=o[n];r&&(E!==r.score&&(w++,E=r.score),o[n].placement=w)}this.scoreChanged.emit(o)}}n.ScoreRowsModel=ScoreRowsModel;class PlayerScoringModel{static isFFA(){return y.shooterGameMode===w.GameMode.FreeForAll}static thisPlayer(){return this.FFARows.scoreRows.find(r=>r.isUser&&r.used)}static updateQuickScore(){const r=this.FFARows,n=r.scoreRows.find(r=>r.isUser&&r.used),a=r.scoreRows[0];if(n)if(this.QuickScoreFirstRow.setAndReTrigger(a),a.isUser){const n=r.scoreRows[1];n.used&&this.QuickScoreSecondRow.setAndReTrigger(n)}else this.QuickScoreSecondRow.setAndReTrigger(n)}static Init(){E.default.playerDataChanged.on(r=>{const n=_.default.shooterCommunicator.getClientId(),a=r.find(r=>r.isConnected&&r.clientId==n);this.isFFA()?this.FFARows.updateRows(r,()=>!0):(this.BlueRows.updateRows(r,r=>r.team===(null==a?void 0:a.team)),this.RedRows.updateRows(r,r=>r.team!==(null==a?void 0:a.team))),this.updateQuickScore()})}}n.PlayerScoringModel=PlayerScoringModel,PlayerScoringModel.FFARows=new ScoreRowsModel,PlayerScoringModel.RedRows=new ScoreRowsModel,PlayerScoringModel.BlueRows=new ScoreRowsModel,PlayerScoringModel.QuickScoreFirstRow=new o.Observable(new ScoreRowModel),PlayerScoringModel.QuickScoreSecondRow=new o.Observable(new ScoreRowModel),PlayerScoringModel.Init()},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.preloadImages=void 0,n.preloadImages=r=>Promise.all(r.map(r=>new Promise((n,a)=>{if(!r)return void n(null);const i=new Image;i.onload=()=>{n(i)},i.onerror=i.onabort=()=>{n(null)},i.src=r})))},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.OverlayingUI=void 0;const i=a(8),o=a(140);class OverlayingUI{static opened(){const r=this.open;this.open=!0,i.inputManager.enableChannel(o.InputChannel.MODAL),r||i.inputManager.disablePointerLock()}static closed(){this.open&&i.inputManager.enablePointerLock(),i.inputManager.disableChannel(o.InputChannel.MODAL),this.open=!1}}n.OverlayingUI=OverlayingUI,OverlayingUI.open=!1},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class FinishLineComponent extends s.default{constructor(){super(...arguments),this.soundEffect="",this.particleEffect=""}}FinishLineComponent.componentName="finishLine",i([y.Property(),o("design:type",String)],FinishLineComponent.prototype,"soundEffect",void 0),i([y.Property(),o("design:type",String)],FinishLineComponent.prototype,"particleEffect",void 0),n.default=FinishLineComponent},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class LegacyGemBagComponent extends s.default{constructor(){super(...arguments),this.count=0}}LegacyGemBagComponent.componentName="legacyGemBag",i([y.Property(),o("design:type",Number)],LegacyGemBagComponent.prototype,"count",void 0),n.default=LegacyGemBagComponent},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26),_=a(42);class LegacyGemComponent extends s.default{constructor(){super(...arguments),this.sound="pick_up",this.volume=1}}LegacyGemComponent.componentName="legacyGem",i([y.Property({inspector:"Sound"}),o("design:type",Object)],LegacyGemComponent.prototype,"sound",void 0),i([y.Property({inspectorOptions:{pattern:_.patterns.floatPositiveNotEmpty,minValue:0,maxValue:1}}),o("design:type",Number)],LegacyGemComponent.prototype,"volume",void 0),n.default=LegacyGemComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(40),o=a(8),s=a(18);class InitLoader extends i.default{static setup(){o.assetManager.on("begin",()=>{s.default.isTouchDevice()||document.body.querySelector(".outer").classList.add("is-loading")}),o.assetManager.on("progress",r=>{const n=document.querySelector(".loadbar-wrapper .loadbar");n&&(n.style.width=100*r.progress+"%")}),o.assetManager.on("finished",()=>{s.default.isTouchDevice()||document.body.querySelector(".outer").classList.remove("is-loading");const r=document.querySelector(".init-loader");r&&r.remove()})}}n.default=InitLoader},function(r,n,a){"use strict";var i,o,s,y,_=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},w=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const E=a(472),j=a(36),q=a(156),$=a(37),ne=a(40),ie=a(501),oe=a(18),se=a(41),le=a(391),pe=a(335),he=a(337),me=a(133),ge=a(19),ye=a(481),_e=a(322),ve=a(502);class PlatformerRespawnSystem extends ne.default{constructor(){super(),this.tmpTransform=new se.Transform,this.initialState=null,this.lastState=null,this.htmlDiv=null,this.fadeInDelayMs=500,this.fadeInDelayEnabled=!1}delayedFadeInOverlay(){this.fadeInDelayMs=500,this.fadeInDelayEnabled=!0}fadeInOverlay(){this.htmlDiv&&this.overlaySystem.removeElement(this.htmlDiv),this.htmlDiv=this.overlaySystem.fadeIn()}fadeOutOverlay(){this.htmlDiv&&this.overlaySystem.fadeOut(this.htmlDiv,()=>{this.htmlDiv=null})}saveState(){this.initialState?this.lastState=this.entityManager.serializeJSON({skipComponents:[E.default]}):this.initialState=this.entityManager.serializeJSON({skipComponents:[me.default]})}loadState(){this.fadeInDelayEnabled=!1,this.fadeOutOverlay(),this.lastState?this.entityManager.unserializeJSON(this.lastState||this.initialState,{skipComponents:[E.default]}):this.initialState&&this.entityManager.unserializeJSON(this.initialState);for(const r of this.playerGroup)this.resetPlayer(r);ye.PlatformerTrack.gameLoaded(this.entityManager)}resetState(){this.fadeInDelayEnabled=!1,this.htmlDiv&&(this.overlaySystem.removeElement(this.htmlDiv),this.htmlDiv=null),this.lastState=null,this.initialState?(this.entityManager.unserializeJSON(this.initialState),ye.PlatformerTrack.gameLoaded(this.entityManager)):this.respawnPlayer()}resetPlayer(r){var n,a;r.characterController.velocity.set(0,0,0),r.characterController.localVelocity.set(0,0,0),null===(n=r.characterController.object)||void 0===n||n.setVelocity(r.characterController.localVelocity),null===(a=r.characterController.object)||void 0===a||a.reset(),r.health&&(r.health.restoreToFullHealth(),r.health.invulnerable=!1),r.playerControl.lockControls=!1}respawnPlayer(){var r;if(!this.spawnPointGroup.length)return;const n=this.spawnPointGroup.entities[0].node.getAbsoluteTransform(this.tmpTransform),a=oe.default.getRoll(n.rotation);for(const i of this.playerGroup){i.node.position.copy(n.position),i.node.rotation.setFromAxisAngle(new ge.Vector3(0,1,0),a+1*Math.PI),i.node.isDirty=!0;const{playerControl:o}=i;o.setLookDirectionFromLongitudeLatitude(180/Math.PI*-a-90,0),null===(r=i.characterController.object)||void 0===r||r.setPosition(n.position),this.resetPlayer(i),this.entityManager.hasComponent(i,ve.default)&&this.entityManager.removeComponent(i,ve.default)}}updateTick(r,n){this.fadeInDelayEnabled&&(this.fadeInDelayMs-=1e3*n,this.fadeInDelayMs<=0&&(this.fadeInOverlay(),this.fadeInDelayEnabled=!1));const a=this.playerGroup.entities[0];if(a&&(a.health&&a.health.isDead&&!this.entityManager.hasComponent(a,ve.default)&&(a.playerControl.lockControls=!0,a.health.invulnerable=!0,this.entityManager.addComponentBegin(a,ve.default).respawnTimer=.9,this.entityManager.addComponentFinalize(),_e.GASend("game_v2","died","unknown",1),ye.PlatformerTrack.playerDied(this.entityManager),this.delayedFadeInOverlay()),this.entityManager.hasComponent(a,ve.default))){const r=this.entityManager.getComponent(a,ve.default);r.respawnTimer-=this.entityManager.tickTimeMs/1e3,r.respawnTimer<=0&&this.loadState()}}onDispose(){this.htmlDiv&&(this.overlaySystem.removeElement(this.htmlDiv),this.htmlDiv=null)}}PlatformerRespawnSystem.order=5,_([j.InjectGroup(se.default,pe.default,he.default),w("design:type","function"==typeof(i=void 0!==$.default&&$.default)?i:Object)],PlatformerRespawnSystem.prototype,"playerGroup",void 0),_([j.InjectGroup(se.default,ve.default),w("design:type","function"==typeof(o=void 0!==$.default&&$.default)?o:Object)],PlatformerRespawnSystem.prototype,"respawningPlayers",void 0),_([j.InjectGroup(se.default,ie.default),w("design:type","function"==typeof(s=void 0!==$.default&&$.default)?s:Object)],PlatformerRespawnSystem.prototype,"spawnPointGroup",void 0),_([q.InjectSystem(()=>le.default),w("design:type","function"==typeof(y=void 0!==le.default&&le.default)?y:Object)],PlatformerRespawnSystem.prototype,"overlaySystem",void 0),n.default=PlatformerRespawnSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(24);class SpawnPointComponent extends i.default{constructor(){super(...arguments),this.currentScore=0}}SpawnPointComponent.componentName="spawnPoint",n.default=SpawnPointComponent},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class PlatformerRespawningComponent extends s.default{constructor(){super(...arguments),this.respawnTimer=0}}PlatformerRespawningComponent.componentName="platformerRespawning",i([y.Property({inspector:!1}),o("design:type",Number)],PlatformerRespawningComponent.prototype,"respawnTimer",void 0),n.default=PlatformerRespawningComponent},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const w=a(36),E=a(37),j=a(40),q=a(501),$=a(18),ne=a(41),ie=a(335),oe=a(337),se=a(19),le=a(504),pe=a(505);class PlaygroundRespawnSystem extends j.default{constructor(){super(),this.tmpTransform=new ne.Transform}respawnPlayer(){var r,n;if(!this.spawnPointGroup.length)return;const a=this.spawnPointGroup.entities[0].node.getAbsoluteTransform(this.tmpTransform),i=$.default.getRoll(a.rotation);for(const o of this.playerGroup){o.node.position.copy(a.position),o.node.rotation.setFromAxisAngle(new se.Vector3(0,1,0),i+1*Math.PI),o.node.isDirty=!0;const{playerControl:s}=o;s.setLookDirectionFromLongitudeLatitude(180/Math.PI*-i-90,0),null===(r=o.characterController.object)||void 0===r||r.setPosition(a.position),o.characterController.velocity.set(0,0,0),o.characterController.localVelocity.set(0,0,0),null===(n=o.characterController.object)||void 0===n||n.setVelocity(o.characterController.localVelocity),o.health&&o.health.restoreToFullHealth(),this.entityManager.hasComponent(o,pe.default)&&this.entityManager.removeComponent(o,pe.default)}}updateTick(){const r=this.playerGroup.entities[0];if(r&&(r.health&&r.health.isDead&&!this.entityManager.hasComponent(r,pe.default)&&(this.entityManager.addComponentBegin(r,pe.default).respawnTimer=1,this.entityManager.addComponentFinalize(),le.PlaygroundTrack.playerDied()),this.entityManager.hasComponent(r,pe.default))){const n=this.entityManager.getComponent(r,pe.default);n.respawnTimer-=this.entityManager.tickTimeMs/1e3,n.respawnTimer<=0&&this.respawnPlayer()}}}PlaygroundRespawnSystem.order=5,y([w.InjectGroup(ne.default,ie.default,oe.default),_("design:type","function"==typeof(i=void 0!==E.default&&E.default)?i:Object)],PlaygroundRespawnSystem.prototype,"playerGroup",void 0),y([w.InjectGroup(ne.default,pe.default),_("design:type","function"==typeof(o=void 0!==E.default&&E.default)?o:Object)],PlaygroundRespawnSystem.prototype,"respawningPlayers",void 0),y([w.InjectGroup(ne.default,q.default),_("design:type","function"==typeof(s=void 0!==E.default&&E.default)?s:Object)],PlaygroundRespawnSystem.prototype,"spawnPointGroup",void 0),n.default=PlaygroundRespawnSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PlaygroundTrack=void 0;const i=a(425),o=a(18);class PlaygroundTrack{static track(r,n){o.default.inStudio()||i.diveTrack(r,n)}static durationS(){return(performance.now()-this.startTimeMS)/1e3}static playerDied(){this.deaths++,PlaygroundTrack.track("gameLifeLost",{failures:this.deaths})}static gameLoaded(){PlaygroundTrack.track("gameLoaded",{})}}n.PlaygroundTrack=PlaygroundTrack,PlaygroundTrack.deaths=0,PlaygroundTrack.startTimeMS=performance.now()},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class PlaygroundRespawningComponent extends s.default{constructor(){super(...arguments),this.respawnTimer=0}}PlaygroundRespawningComponent.componentName="playgroundRespawning",i([y.Property({inspector:!1}),o("design:type",Number)],PlaygroundRespawningComponent.prototype,"respawnTimer",void 0),n.default=PlaygroundRespawningComponent},,function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bindImg=n.bind=n.useSrcBinding=n.useVisibleBinding=n.useBlockVisibleBinding=n.useClassBinding=n.useTextBinding=n.useBinding=void 0;const i=a(456);function useTextBinding(r,n){i.useEffect(()=>{const a=n.subscribe(n=>{r.current&&(r.current.textContent=n)});return r.current&&(r.current.textContent=n.value()),a.unsubscribe},[])}function useVisibleBinding(r,n,a){i.useEffect(()=>{const updateVisiblity=n=>{r.current&&(r.current.style.display=n?a:"none")},i=n.subscribe(r=>{updateVisiblity(r)});return updateVisiblity(n.value()),i.unsubscribe},[])}function useSrcBinding(r,n){i.useEffect(()=>{const a=n.subscribe(n=>{r.current&&(r.current.src=n)});return r.current&&(r.current.src=n.value()),a.unsubscribe},[])}function bind({text:r,visibility:n,display:a="flex",src:o}){const s=i.useRef(null);return r&&useTextBinding(s,r),n&&useVisibleBinding(s,n,a),s}n.useBinding=function useBinding(r,n,a){i.useEffect(()=>{const i=n.subscribe(n=>{r.current&&a(r.current,n)});return r.current&&a(r.current,n.value()),i.unsubscribe},[])},n.useTextBinding=useTextBinding,n.useClassBinding=function useClassBinding(r,n,a){i.useEffect(()=>{const updateClass=n=>{r.current&&(n?r.current.classList.add(a):r.current.classList.remove(a))},i=n.subscribe(r=>{updateClass(r)});return updateClass(n.value()),i.unsubscribe},[])},n.useBlockVisibleBinding=function useBlockVisibleBinding(r,n){i.useEffect(()=>{const updateVisiblity=n=>{r.current&&(r.current.style.display=n?"block":"none")},a=n.subscribe(r=>{updateVisiblity(r)});return updateVisiblity(n.value()),a.unsubscribe},[])},n.useVisibleBinding=useVisibleBinding,n.useSrcBinding=useSrcBinding,n.bind=bind,n.bindImg=function bindImg(r){const n=bind(r);return r.src&&useSrcBinding(n,r.src),n}},,function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.OptionsModel=void 0;const i=a(8),o=a(510),s=a(139),y=a(227),_=a(322),w=a(340),E=function getStoredSoundSetting(){if(w.SettingsStorage.allSoundOn.isSet())return w.SettingsStorage.allSoundOn.get();{const r=!o.keep.get("isMuted");return w.SettingsStorage.allSoundOn.set(r),r}}();class OptionsModel{static SoundOn(){_.GASend("game_v2","menu_sound_on","menu",1),i.audioListener.setMasterVolume(s.DEFAULT_VOLUME),o.keep.set("allSoundOn",!0),OptionsModel.isSoundOn.set(!0),w.SettingsStorage.allSoundOn.set(!0)}static SoundOff(){_.GASend("game_v2","menu_sound_off","menu",1),i.audioListener.setMasterVolume(0),o.keep.set("allSoundOn",!1),OptionsModel.isSoundOn.set(!1),w.SettingsStorage.allSoundOn.set(!1)}static init(){E||i.audioListener.setMasterVolume(0)}}n.OptionsModel=OptionsModel,OptionsModel.isSoundOn=new y.Observable(E),OptionsModel.init()},function(r,n,a){"use strict";a.r(n),a.d(n,"keep",(function(){return i}));const i=function(){function save(r,n){localStorage.setItem(r,JSON.stringify(n))}function load(r){const n=localStorage.getItem(r);if(n){let r;try{r=JSON.parse(n)}catch(n){r={}}return r}}return{define:function _define(r,n){let a=load(r);return void 0===a&&(save(r,n),a=load(r)),a},get:function _get(r){return load(r)},set:function _set(r,n){save(r,n)},keys:{}}}()},,,,,,,,,,,,,,,,,,function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ToggleComponent=n.Toggle=n.ToggleStatusText=n.ToggleSwitch=n.ToggleInput=n.ToggleLabel=void 0;const i=a(507),o=a(456),s=a(459),y=a(529);function Toggle({isOn:r,switchOff:a,switchOn:s}){const y=o.useRef(null),_=o.useRef(null);return i.useBinding(y,r,(r,n)=>{r.checked=n}),i.useBinding(_,r,(r,n)=>{r.style.background=n?"#506700":"#444"}),o.createElement(n.ToggleLabel,{ref:_},o.createElement(n.ToggleInput,{ref:y,onChange(r){r.target.checked?s():a()}}),o.createElement(n.ToggleSwitch,{className:"switch"}))}n.ToggleLabel=s.default.label`
  cursor: pointer;
  background: #444;
  padding: ${"4px"} !important;
  margin: 0 !important;
  width: ${"2em"};
  height: ${"calc(2em /2)"};
  border-radius: calc(${"calc(2em /2)"} + ${"4px"} / 2);
  display: flex;
  flex-direction: column;
`,n.ToggleInput=s.default.input.attrs({type:"checkbox"})`
  position: absolute;
  opacity: 0;
  width: 0;
  height: 0;
  &:checked {
    + .switch {
      grid-template-columns: 1fr 1fr 0fr; 
      &::after {
        background: #b9f100;
        grid-column: 2;
      }
      &::before {
        content: 'On';
        grid-column: 1;
      }
    }
`,n.ToggleSwitch=s.default.div`
  height: 100%;
  display: grid;
  grid-template-columns: 0fr 1fr 1fr;
  transition: 0.2s;
  //ICYMI, pseudo elements are treated as grid items
  &::after {
    content: '';
    border-radius: 50%;
    background: #ccc;
    grid-column: 2;
    grid-row: 1;
    transition: background 0.2s;
  }
  &::before {
    content: 'Off';
    font-size: 0.5em;
    grid-column: 3;
    text-align: center;
    align-self: center;
  }
`,n.ToggleStatusText=s.default.span`
  font-size: 0.8em;
  grid-column: 3;
  text-align: center;
  align-self: center;
`,n.Toggle=Toggle,n.ToggleComponent=class ToggleComponent{static Mount(r,n,a,i){y.render(o.createElement(Toggle,{isOn:n,switchOff:a,switchOn:i}),r)}static Unmount(r){y.unmountComponentAtNode(r)}}},function(r,n,a){"use strict";!function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(r){console.error(r)}}(),r.exports=a(530)},function(r,n,a){"use strict";var i=a(456),o=a(458),s=a(531);function u(r){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!i)throw Error(u(227));function ba(r,n,a,i,o,s,y,_,w){var E=[].slice.call(arguments,3);try{n.apply(a,E)}catch(r){this.onError(r)}}var y=!1,_=null,w=!1,E=null,j={onError(r){y=!0,_=r}};function ja(r,n,a,i,o,s,w,E,q){y=!1,_=null,ba.apply(j,arguments)}var q=null,$=null,ne=null;function oa(r,n,a){var i=r.type||"unknown-event";r.currentTarget=ne(a),function ka(r,n,a,i,o,s,j,q,$){if(ja.apply(this,arguments),y){if(!y)throw Error(u(198));var ne=_;y=!1,_=null,w||(w=!0,E=ne)}}(i,n,void 0,r),r.currentTarget=null}var ie=null,oe={};function ra(){if(ie)for(var r in oe){var n=oe[r],a=ie.indexOf(r);if(!(-1<a))throw Error(u(96,r));if(!se[a]){if(!n.extractEvents)throw Error(u(97,r));for(var i in se[a]=n,a=n.eventTypes){var o=void 0,s=a[i],y=n,_=i;if(le.hasOwnProperty(_))throw Error(u(99,_));le[_]=s;var w=s.phasedRegistrationNames;if(w){for(o in w)w.hasOwnProperty(o)&&ua(w[o],y,_);o=!0}else s.registrationName?(ua(s.registrationName,y,_),o=!0):o=!1;if(!o)throw Error(u(98,i,r))}}}}function ua(r,n,a){if(pe[r])throw Error(u(100,r));pe[r]=n,he[r]=n.eventTypes[a].dependencies}var se=[],le={},pe={},he={};function xa(r){var n,a=!1;for(n in r)if(r.hasOwnProperty(n)){var i=r[n];if(!oe.hasOwnProperty(n)||oe[n]!==i){if(oe[n])throw Error(u(102,n));oe[n]=i,a=!0}}a&&ra()}var me=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ge=null,ye=null,_e=null;function Ca(r){if(r=$(r)){if("function"!=typeof ge)throw Error(u(280));var n=r.stateNode;n&&(n=q(n),ge(r.stateNode,r.type,n))}}function Da(r){ye?_e?_e.push(r):_e=[r]:ye=r}function Ea(){if(ye){var r=ye,n=_e;if(_e=ye=null,Ca(r),n)for(r=0;r<n.length;r++)Ca(n[r])}}function Fa(r,n){return r(n)}function Ga(r,n,a,i,o){return r(n,a,i,o)}function Ha(){}var ve=Fa,Se=!1,we=!1;function La(){null===ye&&null===_e||(Ha(),Ea())}function Ma(r,n,a){if(we)return r(n,a);we=!0;try{return ve(r,n,a)}finally{we=!1,La()}}var Me=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Te={}.hasOwnProperty,Ae={},ke={};function v(r,n,a,i,o,s){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=a,this.propertyName=r,this.type=n,this.sanitizeURL=s}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(r){Re[r]=new v(r,0,!1,r,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(r){var n=r[0];Re[n]=new v(n,1,!1,r[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(r){Re[r]=new v(r,2,!1,r.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(r){Re[r]=new v(r,2,!1,r,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(r){Re[r]=new v(r,3,!1,r.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(r){Re[r]=new v(r,3,!0,r,null,!1)})),["capture","download"].forEach((function(r){Re[r]=new v(r,4,!1,r,null,!1)})),["cols","rows","size","span"].forEach((function(r){Re[r]=new v(r,6,!1,r,null,!1)})),["rowSpan","start"].forEach((function(r){Re[r]=new v(r,5,!1,r.toLowerCase(),null,!1)}));var Oe=/[\-:]([a-z])/g;function Va(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(r){var n=r.replace(Oe,Va);Re[n]=new v(n,1,!1,r,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(r){var n=r.replace(Oe,Va);Re[n]=new v(n,1,!1,r,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(r){var n=r.replace(Oe,Va);Re[n]=new v(n,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(r){Re[r]=new v(r,1,!1,r.toLowerCase(),null,!1)})),Re.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(r){Re[r]=new v(r,1,!1,r.toLowerCase(),null,!0)}));var Ne=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Xa(r,n,a,i){var o=Re.hasOwnProperty(n)?Re[n]:null;(null!==o?0===o.type:!i&&2<n.length&&("o"===n[0]||"O"===n[0])&&("n"===n[1]||"N"===n[1]))||(function Ta(r,n,a,i){if(null==n||function Sa(r,n,a,i){if(null!==a&&0===a.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==a?!a.acceptsBooleans:"data-"!==(r=r.toLowerCase().slice(0,5))&&"aria-"!==r);default:return!1}}(r,n,a,i))return!0;if(i)return!1;if(null!==a)switch(a.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}(n,a,o,i)&&(a=null),i||null===o?function Ra(r){return!!Te.call(ke,r)||!Te.call(Ae,r)&&(Me.test(r)?ke[r]=!0:(Ae[r]=!0,!1))}(n)&&(null===a?r.removeAttribute(n):r.setAttribute(n,""+a)):o.mustUseProperty?r[o.propertyName]=null===a?3!==o.type&&"":a:(n=o.attributeName,i=o.attributeNamespace,null===a?r.removeAttribute(n):(a=3===(o=o.type)||4===o&&!0===a?"":""+a,i?r.setAttributeNS(i,n,a):r.setAttribute(n,a))))}Ne.hasOwnProperty("ReactCurrentDispatcher")||(Ne.ReactCurrentDispatcher={current:null}),Ne.hasOwnProperty("ReactCurrentBatchConfig")||(Ne.ReactCurrentBatchConfig={suspense:null});var Fe=/^(.*)[\\\/]/,je="function"==typeof Symbol&&Symbol.for,Be=je?Symbol.for("react.element"):60103,Ue=je?Symbol.for("react.portal"):60106,Ve=je?Symbol.for("react.fragment"):60107,We=je?Symbol.for("react.strict_mode"):60108,Ye=je?Symbol.for("react.profiler"):60114,Xe=je?Symbol.for("react.provider"):60109,$e=je?Symbol.for("react.context"):60110,et=je?Symbol.for("react.concurrent_mode"):60111,tt=je?Symbol.for("react.forward_ref"):60112,rt=je?Symbol.for("react.suspense"):60113,nt=je?Symbol.for("react.suspense_list"):60120,at=je?Symbol.for("react.memo"):60115,it=je?Symbol.for("react.lazy"):60116,ot=je?Symbol.for("react.block"):60121,st="function"==typeof Symbol&&Symbol.iterator;function nb(r){return null===r||"object"!=typeof r?null:"function"==typeof(r=st&&r[st]||r["@@iterator"])?r:null}function pb(r){if(null==r)return null;if("function"==typeof r)return r.displayName||r.name||null;if("string"==typeof r)return r;switch(r){case Ve:return"Fragment";case Ue:return"Portal";case Ye:return"Profiler";case We:return"StrictMode";case rt:return"Suspense";case nt:return"SuspenseList"}if("object"==typeof r)switch(r.$$typeof){case $e:return"Context.Consumer";case Xe:return"Context.Provider";case tt:var n=r.render;return n=n.displayName||n.name||"",r.displayName||(""!==n?"ForwardRef("+n+")":"ForwardRef");case at:return pb(r.type);case ot:return pb(r.render);case it:if(r=1===r._status?r._result:null)return pb(r)}return null}function qb(r){var n="";do{e:switch(r.tag){case 3:case 4:case 6:case 7:case 10:case 9:var a="";break e;default:var i=r._debugOwner,o=r._debugSource,s=pb(r.type);a=null,i&&(a=pb(i.type)),i=s,s="",o?s=" (at "+o.fileName.replace(Fe,"")+":"+o.lineNumber+")":a&&(s=" (created by "+a+")"),a="\n    in "+(i||"Unknown")+s}n+=a,r=r.return}while(r);return n}function rb(r){switch(typeof r){case"boolean":case"number":case"object":case"string":case"undefined":return r;default:return""}}function sb(r){var n=r.type;return(r=r.nodeName)&&"input"===r.toLowerCase()&&("checkbox"===n||"radio"===n)}function xb(r){r._valueTracker||(r._valueTracker=function tb(r){var n=sb(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,n),i=""+r[n];if(!r.hasOwnProperty(n)&&void 0!==a&&"function"==typeof a.get&&"function"==typeof a.set){var o=a.get,s=a.set;return Object.defineProperty(r,n,{configurable:!0,get(){return o.call(this)},set(r){i=""+r,s.call(this,r)}}),Object.defineProperty(r,n,{enumerable:a.enumerable}),{getValue(){return i},setValue(r){i=""+r},stopTracking(){r._valueTracker=null,delete r[n]}}}}(r))}function yb(r){if(!r)return!1;var n=r._valueTracker;if(!n)return!0;var a=n.getValue(),i="";return r&&(i=sb(r)?r.checked?"true":"false":r.value),(r=i)!==a&&(n.setValue(r),!0)}function zb(r,n){var a=n.checked;return o({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=a?a:r._wrapperState.initialChecked})}function Ab(r,n){var a=null==n.defaultValue?"":n.defaultValue,i=null!=n.checked?n.checked:n.defaultChecked;a=rb(null!=n.value?n.value:a),r._wrapperState={initialChecked:i,initialValue:a,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function Bb(r,n){null!=(n=n.checked)&&Xa(r,"checked",n,!1)}function Cb(r,n){Bb(r,n);var a=rb(n.value),i=n.type;if(null!=a)"number"===i?(0===a&&""===r.value||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if("submit"===i||"reset"===i)return void r.removeAttribute("value");n.hasOwnProperty("value")?Db(r,n.type,a):n.hasOwnProperty("defaultValue")&&Db(r,n.type,rb(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(r.defaultChecked=!!n.defaultChecked)}function Eb(r,n,a){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var i=n.type;if(!("submit"!==i&&"reset"!==i||void 0!==n.value&&null!==n.value))return;n=""+r._wrapperState.initialValue,a||n===r.value||(r.value=n),r.defaultValue=n}""!==(a=r.name)&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,""!==a&&(r.name=a)}function Db(r,n,a){"number"===n&&r.ownerDocument.activeElement===r||(null==a?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}function Gb(r,n){return r=o({children:void 0},n),(n=function Fb(r){var n="";return i.Children.forEach(r,(function(r){null!=r&&(n+=r)})),n}(n.children))&&(r.children=n),r}function Hb(r,n,a,i){if(r=r.options,n){n={};for(var o=0;o<a.length;o++)n["$"+a[o]]=!0;for(a=0;a<r.length;a++)o=n.hasOwnProperty("$"+r[a].value),r[a].selected!==o&&(r[a].selected=o),o&&i&&(r[a].defaultSelected=!0)}else{for(a=""+rb(a),n=null,o=0;o<r.length;o++){if(r[o].value===a)return r[o].selected=!0,void(i&&(r[o].defaultSelected=!0));null!==n||r[o].disabled||(n=r[o])}null!==n&&(n.selected=!0)}}function Ib(r,n){if(null!=n.dangerouslySetInnerHTML)throw Error(u(91));return o({},n,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Jb(r,n){var a=n.value;if(null==a){if(a=n.children,n=n.defaultValue,null!=a){if(null!=n)throw Error(u(92));if(Array.isArray(a)){if(!(1>=a.length))throw Error(u(93));a=a[0]}n=a}null==n&&(n=""),a=n}r._wrapperState={initialValue:rb(a)}}function Kb(r,n){var a=rb(n.value),i=rb(n.defaultValue);null!=a&&((a=""+a)!==r.value&&(r.value=a),null==n.defaultValue&&r.defaultValue!==a&&(r.defaultValue=a)),null!=i&&(r.defaultValue=""+i)}function Lb(r){var n=r.textContent;n===r._wrapperState.initialValue&&""!==n&&null!==n&&(r.value=n)}function Nb(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ob(r,n){return null==r||"http://www.w3.org/1999/xhtml"===r?Nb(n):"http://www.w3.org/2000/svg"===r&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":r}var lt,ct,pt=(ct=function(r,n){if("http://www.w3.org/2000/svg"!==r.namespaceURI||"innerHTML"in r)r.innerHTML=n;else{for((lt=lt||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=lt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;n.firstChild;)r.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(r,n,a,i){MSApp.execUnsafeLocalFunction((function(){return ct(r,n)}))}:ct);function Rb(r,n){if(n){var a=r.firstChild;if(a&&a===r.lastChild&&3===a.nodeType)return void(a.nodeValue=n)}r.textContent=n}function Sb(r,n){var a={};return a[r.toLowerCase()]=n.toLowerCase(),a["Webkit"+r]="webkit"+n,a["Moz"+r]="moz"+n,a}var ut={animationend:Sb("Animation","AnimationEnd"),animationiteration:Sb("Animation","AnimationIteration"),animationstart:Sb("Animation","AnimationStart"),transitionend:Sb("Transition","TransitionEnd")},dt={},ht={};function Wb(r){if(dt[r])return dt[r];if(!ut[r])return r;var n,a=ut[r];for(n in a)if(a.hasOwnProperty(n)&&n in ht)return dt[r]=a[n];return r}me&&(ht=document.createElement("div").style,"AnimationEvent"in window||(delete ut.animationend.animation,delete ut.animationiteration.animation,delete ut.animationstart.animation),"TransitionEvent"in window||delete ut.transitionend.transition);var ft=Wb("animationend"),mt=Wb("animationiteration"),gt=Wb("animationstart"),yt=Wb("transitionend"),_t="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vt=new("function"==typeof WeakMap?WeakMap:Map);function cc(r){var n=vt.get(r);return void 0===n&&(n=new Map,vt.set(r,n)),n}function dc(r){var n=r,a=r;if(r.alternate)for(;n.return;)n=n.return;else{r=n;do{0!=(1026&(n=r).effectTag)&&(a=n.return),r=n.return}while(r)}return 3===n.tag?a:null}function ec(r){if(13===r.tag){var n=r.memoizedState;if(null===n&&null!==(r=r.alternate)&&(n=r.memoizedState),null!==n)return n.dehydrated}return null}function fc(r){if(dc(r)!==r)throw Error(u(188))}function hc(r){if(!(r=function gc(r){var n=r.alternate;if(!n){if(null===(n=dc(r)))throw Error(u(188));return n!==r?null:r}for(var a=r,i=n;;){var o=a.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(i=o.return)){a=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===a)return fc(o),r;if(s===i)return fc(o),n;s=s.sibling}throw Error(u(188))}if(a.return!==i.return)a=o,i=s;else{for(var y=!1,_=o.child;_;){if(_===a){y=!0,a=o,i=s;break}if(_===i){y=!0,i=o,a=s;break}_=_.sibling}if(!y){for(_=s.child;_;){if(_===a){y=!0,a=s,i=o;break}if(_===i){y=!0,i=s,a=o;break}_=_.sibling}if(!y)throw Error(u(189))}}if(a.alternate!==i)throw Error(u(190))}if(3!==a.tag)throw Error(u(188));return a.stateNode.current===a?r:n}(r)))return null;for(var n=r;;){if(5===n.tag||6===n.tag)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===r)break;for(;!n.sibling;){if(!n.return||n.return===r)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}function ic(r,n){if(null==n)throw Error(u(30));return null==r?n:Array.isArray(r)?Array.isArray(n)?(r.push.apply(r,n),r):(r.push(n),r):Array.isArray(n)?[r].concat(n):[r,n]}function jc(r,n,a){Array.isArray(r)?r.forEach(n,a):r&&n.call(a,r)}var bt=null;function lc(r){if(r){var n=r._dispatchListeners,a=r._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!r.isPropagationStopped();i++)oa(r,n[i],a[i]);else n&&oa(r,n,a);r._dispatchListeners=null,r._dispatchInstances=null,r.isPersistent()||r.constructor.release(r)}}function mc(r){if(null!==r&&(bt=ic(bt,r)),r=bt,bt=null,r){if(jc(r,lc),bt)throw Error(u(95));if(w)throw r=E,w=!1,E=null,r}}function nc(r){return(r=r.target||r.srcElement||window).correspondingUseElement&&(r=r.correspondingUseElement),3===r.nodeType?r.parentNode:r}function oc(r){if(!me)return!1;var n=(r="on"+r)in document;return n||((n=document.createElement("div")).setAttribute(r,"return;"),n="function"==typeof n[r]),n}var xt=[];function qc(r){r.topLevelType=null,r.nativeEvent=null,r.targetInst=null,r.ancestors.length=0,10>xt.length&&xt.push(r)}function rc(r,n,a,i){if(xt.length){var o=xt.pop();return o.topLevelType=r,o.eventSystemFlags=i,o.nativeEvent=n,o.targetInst=a,o}return{topLevelType:r,eventSystemFlags:i,nativeEvent:n,targetInst:a,ancestors:[]}}function sc(r){var n=r.targetInst,a=n;do{if(!a){r.ancestors.push(a);break}var i=a;if(3===i.tag)i=i.stateNode.containerInfo;else{for(;i.return;)i=i.return;i=3!==i.tag?null:i.stateNode.containerInfo}if(!i)break;5!==(n=a.tag)&&6!==n||r.ancestors.push(a),a=tc(i)}while(a);for(a=0;a<r.ancestors.length;a++){n=r.ancestors[a];var o=nc(r.nativeEvent);i=r.topLevelType;var s=r.nativeEvent,y=r.eventSystemFlags;0===a&&(y|=64);for(var _=null,w=0;w<se.length;w++){var E=se[w];E&&(E=E.extractEvents(i,n,s,o,y))&&(_=ic(_,E))}mc(_)}}function uc(r,n,a){if(!a.has(r)){switch(r){case"scroll":vc(n,"scroll",!0);break;case"focus":case"blur":vc(n,"focus",!0),vc(n,"blur",!0),a.set("blur",null),a.set("focus",null);break;case"cancel":case"close":oc(r)&&vc(n,r,!0);break;case"invalid":case"submit":case"reset":break;default:-1===_t.indexOf(r)&&F(r,n)}a.set(r,null)}}var St,Ct,wt,Pt=!1,Mt=[],Tt=null,Et=null,At=null,kt=new Map,Rt=new Map,Ot=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Lt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Kc(r,n,a,i,o){return{blockedOn:r,topLevelType:n,eventSystemFlags:32|a,nativeEvent:o,container:i}}function Lc(r,n){switch(r){case"focus":case"blur":Tt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":kt.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(n.pointerId)}}function Mc(r,n,a,i,o,s){return null===r||r.nativeEvent!==s?(r=Kc(n,a,i,o,s),null!==n&&null!==(n=Nc(n))&&Ct(n),r):(r.eventSystemFlags|=i,r)}function Pc(r){var n=tc(r.target);if(null!==n){var a=dc(n);if(null!==a)if(13===(n=a.tag)){if(null!==(n=ec(a)))return r.blockedOn=n,void s.unstable_runWithPriority(r.priority,(function(){wt(a)}))}else if(3===n&&a.stateNode.hydrate)return void(r.blockedOn=3===a.tag?a.stateNode.containerInfo:null)}r.blockedOn=null}function Qc(r){if(null!==r.blockedOn)return!1;var n=Rc(r.topLevelType,r.eventSystemFlags,r.container,r.nativeEvent);if(null!==n){var a=Nc(n);return null!==a&&Ct(a),r.blockedOn=n,!1}return!0}function Sc(r,n,a){Qc(r)&&a.delete(n)}function Tc(){for(Pt=!1;0<Mt.length;){var r=Mt[0];if(null!==r.blockedOn){null!==(r=Nc(r.blockedOn))&&St(r);break}var n=Rc(r.topLevelType,r.eventSystemFlags,r.container,r.nativeEvent);null!==n?r.blockedOn=n:Mt.shift()}null!==Tt&&Qc(Tt)&&(Tt=null),null!==Et&&Qc(Et)&&(Et=null),null!==At&&Qc(At)&&(At=null),kt.forEach(Sc),Rt.forEach(Sc)}function Uc(r,n){r.blockedOn===n&&(r.blockedOn=null,Pt||(Pt=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Tc)))}function Vc(r){function b(n){return Uc(n,r)}if(0<Mt.length){Uc(Mt[0],r);for(var n=1;n<Mt.length;n++){var a=Mt[n];a.blockedOn===r&&(a.blockedOn=null)}}for(null!==Tt&&Uc(Tt,r),null!==Et&&Uc(Et,r),null!==At&&Uc(At,r),kt.forEach(b),Rt.forEach(b),n=0;n<Ot.length;n++)(a=Ot[n]).blockedOn===r&&(a.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Pc(n),null===n.blockedOn&&Ot.shift()}var It={},Dt=new Map,Ft=new Map,jt=["abort","abort",ft,"animationEnd",mt,"animationIteration",gt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",yt,"transitionEnd","waiting","waiting"];function ad(r,n){for(var a=0;a<r.length;a+=2){var i=r[a],o=r[a+1],s="on"+(o[0].toUpperCase()+o.slice(1));s={phasedRegistrationNames:{bubbled:s,captured:s+"Capture"},dependencies:[i],eventPriority:n},Ft.set(i,n),Dt.set(i,s),It[o]=s}}ad("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),ad("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),ad(jt,2);for(var Bt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zt=0;zt<Bt.length;zt++)Ft.set(Bt[zt],0);var Gt=s.unstable_UserBlockingPriority,Ut=s.unstable_runWithPriority,Vt=!0;function F(r,n){vc(n,r,!1)}function vc(r,n,a){var i=Ft.get(n);switch(void 0===i?2:i){case 0:i=gd.bind(null,n,1,r);break;case 1:i=hd.bind(null,n,1,r);break;default:i=id.bind(null,n,1,r)}a?r.addEventListener(n,i,!0):r.addEventListener(n,i,!1)}function gd(r,n,a,i){Se||Ha();var o=id,s=Se;Se=!0;try{Ga(o,r,n,a,i)}finally{(Se=s)||La()}}function hd(r,n,a,i){Ut(Gt,id.bind(null,r,n,a,i))}function id(r,n,a,i){if(Vt)if(0<Mt.length&&-1<Nt.indexOf(r))r=Kc(null,r,n,a,i),Mt.push(r);else{var o=Rc(r,n,a,i);if(null===o)Lc(r,i);else if(-1<Nt.indexOf(r))r=Kc(o,r,n,a,i),Mt.push(r);else if(!function Oc(r,n,a,i,o){switch(n){case"focus":return Tt=Mc(Tt,r,n,a,i,o),!0;case"dragenter":return Et=Mc(Et,r,n,a,i,o),!0;case"mouseover":return At=Mc(At,r,n,a,i,o),!0;case"pointerover":var s=o.pointerId;return kt.set(s,Mc(kt.get(s)||null,r,n,a,i,o)),!0;case"gotpointercapture":return s=o.pointerId,Rt.set(s,Mc(Rt.get(s)||null,r,n,a,i,o)),!0}return!1}(o,r,n,a,i)){Lc(r,i),r=rc(r,i,null,n);try{Ma(sc,r)}finally{qc(r)}}}}function Rc(r,n,a,i){if(null!==(a=tc(a=nc(i)))){var o=dc(a);if(null===o)a=null;else{var s=o.tag;if(13===s){if(null!==(a=ec(o)))return a;a=null}else if(3===s){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;a=null}else o!==a&&(a=null)}}r=rc(r,i,a,n);try{Ma(sc,r)}finally{qc(r)}return null}var Wt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ht=["Webkit","ms","Moz","O"];function ld(r,n,a){return null==n||"boolean"==typeof n||""===n?"":a||"number"!=typeof n||0===n||Wt.hasOwnProperty(r)&&Wt[r]?(""+n).trim():n+"px"}function md(r,n){for(var a in r=r.style,n)if(n.hasOwnProperty(a)){var i=0===a.indexOf("--"),o=ld(a,n[a],i);"float"===a&&(a="cssFloat"),i?r.setProperty(a,o):r[a]=o}}Object.keys(Wt).forEach((function(r){Ht.forEach((function(n){n=n+r.charAt(0).toUpperCase()+r.substring(1),Wt[n]=Wt[r]}))}));var Yt=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function od(r,n){if(n){if(Yt[r]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(u(137,r,""));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(u(60));if("object"!=typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(u(61))}if(null!=n.style&&"object"!=typeof n.style)throw Error(u(62,""))}}function pd(r,n){if(-1===r.indexOf("-"))return"string"==typeof n.is;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qt="http://www.w3.org/1999/xhtml";function rd(r,n){var a=cc(r=9===r.nodeType||11===r.nodeType?r:r.ownerDocument);n=he[n];for(var i=0;i<n.length;i++)uc(n[i],r,a)}function sd(){}function td(r){if(void 0===(r=r||("undefined"!=typeof document?document:void 0)))return null;try{return r.activeElement||r.body}catch(n){return r.body}}function ud(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function vd(r,n){var a,i=ud(r);for(r=0;i;){if(3===i.nodeType){if(a=r+i.textContent.length,r<=n&&a>=n)return{node:i,offset:n-r};r=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ud(i)}}function xd(){for(var r=window,n=td();n instanceof r.HTMLIFrameElement;){try{var a="string"==typeof n.contentWindow.location.href}catch(r){a=!1}if(!a)break;n=td((r=n.contentWindow).document)}return n}function yd(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return n&&("input"===n&&("text"===r.type||"search"===r.type||"tel"===r.type||"url"===r.type||"password"===r.type)||"textarea"===n||"true"===r.contentEditable)}var Xt=null,$t=null;function Fd(r,n){switch(r){case"button":case"input":case"select":case"textarea":return!!n.autoFocus}return!1}function Gd(r,n){return"textarea"===r||"option"===r||"noscript"===r||"string"==typeof n.children||"number"==typeof n.children||"object"==typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var Kt="function"==typeof setTimeout?setTimeout:void 0,Jt="function"==typeof clearTimeout?clearTimeout:void 0;function Jd(r){for(;null!=r;r=r.nextSibling){var n=r.nodeType;if(1===n||3===n)break}return r}function Kd(r){r=r.previousSibling;for(var n=0;r;){if(8===r.nodeType){var a=r.data;if("$"===a||"$!"===a||"$?"===a){if(0===n)return r;n--}else"/$"===a&&n++}r=r.previousSibling}return null}var Qt=Math.random().toString(36).slice(2),Zt="__reactInternalInstance$"+Qt,er="__reactEventHandlers$"+Qt,tr="__reactContainere$"+Qt;function tc(r){var n=r[Zt];if(n)return n;for(var a=r.parentNode;a;){if(n=a[tr]||a[Zt]){if(a=n.alternate,null!==n.child||null!==a&&null!==a.child)for(r=Kd(r);null!==r;){if(a=r[Zt])return a;r=Kd(r)}return n}a=(r=a).parentNode}return null}function Nc(r){return!(r=r[Zt]||r[tr])||5!==r.tag&&6!==r.tag&&13!==r.tag&&3!==r.tag?null:r}function Pd(r){if(5===r.tag||6===r.tag)return r.stateNode;throw Error(u(33))}function Qd(r){return r[er]||null}function Rd(r){do{r=r.return}while(r&&5!==r.tag);return r||null}function Sd(r,n){var a=r.stateNode;if(!a)return null;var i=q(a);if(!i)return null;a=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(r=r.type)||"input"===r||"select"===r||"textarea"===r)),r=!i;break e;default:r=!1}if(r)return null;if(a&&"function"!=typeof a)throw Error(u(231,n,typeof a));return a}function Td(r,n,a){(n=Sd(r,a.dispatchConfig.phasedRegistrationNames[n]))&&(a._dispatchListeners=ic(a._dispatchListeners,n),a._dispatchInstances=ic(a._dispatchInstances,r))}function Ud(r){if(r&&r.dispatchConfig.phasedRegistrationNames){for(var n=r._targetInst,a=[];n;)a.push(n),n=Rd(n);for(n=a.length;0<n--;)Td(a[n],"captured",r);for(n=0;n<a.length;n++)Td(a[n],"bubbled",r)}}function Vd(r,n,a){r&&a&&a.dispatchConfig.registrationName&&(n=Sd(r,a.dispatchConfig.registrationName))&&(a._dispatchListeners=ic(a._dispatchListeners,n),a._dispatchInstances=ic(a._dispatchInstances,r))}function Wd(r){r&&r.dispatchConfig.registrationName&&Vd(r._targetInst,null,r)}function Xd(r){jc(r,Ud)}var rr=null,nr=null,ar=null;function ae(){if(ar)return ar;var r,n,a=nr,i=a.length,o="value"in rr?rr.value:rr.textContent,s=o.length;for(r=0;r<i&&a[r]===o[r];r++);var y=i-r;for(n=1;n<=y&&a[i-n]===o[s-n];n++);return ar=o.slice(r,1<n?1-n:void 0)}function be(){return!0}function ce(){return!1}function G(r,n,a,i){for(var o in this.dispatchConfig=r,this._targetInst=n,this.nativeEvent=a,r=this.constructor.Interface)r.hasOwnProperty(o)&&((n=r[o])?this[o]=n(a):"target"===o?this.target=i:this[o]=a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?be:ce,this.isPropagationStopped=ce,this}function ee(r,n,a,i){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,r,n,a,i),o}return new this(r,n,a,i)}function fe(r){if(!(r instanceof this))throw Error(u(279));r.destructor(),10>this.eventPool.length&&this.eventPool.push(r)}function de(r){r.eventPool=[],r.getPooled=ee,r.release=fe}o(G.prototype,{preventDefault(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():"unknown"!=typeof r.returnValue&&(r.returnValue=!1),this.isDefaultPrevented=be)},stopPropagation(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():"unknown"!=typeof r.cancelBubble&&(r.cancelBubble=!0),this.isPropagationStopped=be)},persist(){this.isPersistent=be},isPersistent:ce,destructor(){var r,n=this.constructor.Interface;for(r in n)this[r]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ce,this._dispatchInstances=this._dispatchListeners=null}}),G.Interface={type:null,target:null,currentTarget:()=>null,eventPhase:null,bubbles:null,cancelable:null,timeStamp:r=>r.timeStamp||Date.now(),defaultPrevented:null,isTrusted:null},G.extend=function(r){function b(){}function c(){return n.apply(this,arguments)}var n=this;b.prototype=n.prototype;var a=new b;return o(a,c.prototype),c.prototype=a,c.prototype.constructor=c,c.Interface=o({},n.Interface,r),c.extend=n.extend,de(c),c},de(G);var ir=G.extend({data:null}),or=G.extend({data:null}),sr=[9,13,27,32],lr=me&&"CompositionEvent"in window,cr=null;me&&"documentMode"in document&&(cr=document.documentMode);var pr=me&&"TextEvent"in window&&!cr,ur=me&&(!lr||cr&&8<cr&&11>=cr),dr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},hr=!1;function qe(r,n){switch(r){case"keyup":return-1!==sr.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function re(r){return"object"==typeof(r=r.detail)&&"data"in r?r.data:null}var fr=!1,mr={eventTypes:dr,extractEvents(r,n,a,i){var o;if(lr)e:{switch(r){case"compositionstart":var s=dr.compositionStart;break e;case"compositionend":s=dr.compositionEnd;break e;case"compositionupdate":s=dr.compositionUpdate;break e}s=void 0}else fr?qe(r,a)&&(s=dr.compositionEnd):"keydown"===r&&229===a.keyCode&&(s=dr.compositionStart);return s?(ur&&"ko"!==a.locale&&(fr||s!==dr.compositionStart?s===dr.compositionEnd&&fr&&(o=ae()):(nr="value"in(rr=i)?rr.value:rr.textContent,fr=!0)),s=ir.getPooled(s,n,a,i),(o||null!==(o=re(a)))&&(s.data=o),Xd(s),o=s):o=null,(r=pr?function te(r,n){switch(r){case"compositionend":return re(n);case"keypress":return 32!==n.which?null:(hr=!0," ");case"textInput":return" "===(r=n.data)&&hr?null:r;default:return null}}(r,a):function ue(r,n){if(fr)return"compositionend"===r||!lr&&qe(r,n)?(r=ae(),ar=nr=rr=null,fr=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ur&&"ko"!==n.locale?null:n.data;default:return null}}(r,a))?((n=or.getPooled(dr.beforeInput,n,a,i)).data=r,Xd(n)):n=null,null===o?n:null===n?o:[o,n]}},gr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xe(r){var n=r&&r.nodeName&&r.nodeName.toLowerCase();return"input"===n?!!gr[r.type]:"textarea"===n}var yr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function ze(r,n,a){return(r=G.getPooled(yr.change,r,n,a)).type="change",Da(a),Xd(r),r}var _r=null,vr=null;function Ce(r){mc(r)}function De(r){if(yb(Pd(r)))return r}function Ee(r,n){if("change"===r)return n}var br=!1;function Ge(){_r&&(_r.detachEvent("onpropertychange",He),vr=_r=null)}function He(r){if("value"===r.propertyName&&De(vr))if(r=ze(vr,r,nc(r)),Se)mc(r);else{Se=!0;try{Fa(Ce,r)}finally{Se=!1,La()}}}function Ie(r,n,a){"focus"===r?(Ge(),vr=a,(_r=n).attachEvent("onpropertychange",He)):"blur"===r&&Ge()}function Je(r){if("selectionchange"===r||"keyup"===r||"keydown"===r)return De(vr)}function Ke(r,n){if("click"===r)return De(n)}function Le(r,n){if("input"===r||"change"===r)return De(n)}me&&(br=oc("input")&&(!document.documentMode||9<document.documentMode));var xr={eventTypes:yr,_isInputEventSupported:br,extractEvents(r,n,a,i){var o=n?Pd(n):window,s=o.nodeName&&o.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===o.type)var y=Ee;else if(xe(o))if(br)y=Le;else{y=Je;var _=Ie}else(s=o.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(y=Ke);if(y&&(y=y(r,n)))return ze(y,a,i);_&&_(r,o,n),"blur"===r&&(r=o._wrapperState)&&r.controlled&&"number"===o.type&&Db(o,"number",o.value)}},Sr=G.extend({view:null,detail:null}),Cr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pe(r){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(r):!!(r=Cr[r])&&!!n[r]}function Qe(){return Pe}var wr=0,Pr=0,Mr=!1,Tr=!1,Er=Sr.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Qe,button:null,buttons:null,relatedTarget:r=>r.relatedTarget||(r.fromElement===r.srcElement?r.toElement:r.fromElement),movementX(r){if("movementX"in r)return r.movementX;var n=wr;return wr=r.screenX,Mr?"mousemove"===r.type?r.screenX-n:0:(Mr=!0,0)},movementY(r){if("movementY"in r)return r.movementY;var n=Pr;return Pr=r.screenY,Tr?"mousemove"===r.type?r.screenY-n:0:(Tr=!0,0)}}),Ar=Er.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),kr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Rr={eventTypes:kr,extractEvents(r,n,a,i,o){var s="mouseover"===r||"pointerover"===r,y="mouseout"===r||"pointerout"===r;if(s&&0==(32&o)&&(a.relatedTarget||a.fromElement)||!y&&!s)return null;if(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,y?(y=n,null!==(n=(n=a.relatedTarget||a.toElement)?tc(n):null)&&(n!==dc(n)||5!==n.tag&&6!==n.tag)&&(n=null)):y=null,y===n)return null;if("mouseout"===r||"mouseover"===r)var _=Er,w=kr.mouseLeave,E=kr.mouseEnter,j="mouse";else"pointerout"!==r&&"pointerover"!==r||(_=Ar,w=kr.pointerLeave,E=kr.pointerEnter,j="pointer");if(r=null==y?s:Pd(y),s=null==n?s:Pd(n),(w=_.getPooled(w,y,a,i)).type=j+"leave",w.target=r,w.relatedTarget=s,(a=_.getPooled(E,n,a,i)).type=j+"enter",a.target=s,a.relatedTarget=r,j=n,(i=y)&&j)e:{for(E=j,y=0,r=_=i;r;r=Rd(r))y++;for(r=0,n=E;n;n=Rd(n))r++;for(;0<y-r;)_=Rd(_),y--;for(;0<r-y;)E=Rd(E),r--;for(;y--;){if(_===E||_===E.alternate)break e;_=Rd(_),E=Rd(E)}_=null}else _=null;for(E=_,_=[];i&&i!==E&&(null===(y=i.alternate)||y!==E);)_.push(i),i=Rd(i);for(i=[];j&&j!==E&&(null===(y=j.alternate)||y!==E);)i.push(j),j=Rd(j);for(j=0;j<_.length;j++)Vd(_[j],"bubbled",w);for(j=i.length;0<j--;)Vd(i[j],"captured",a);return 0==(64&o)?[w]:[w,a]}},Or="function"==typeof Object.is?Object.is:function Ze(r,n){return r===n&&(0!==r||1/r==1/n)||r!=r&&n!=n},Nr={}.hasOwnProperty;function bf(r,n){if(Or(r,n))return!0;if("object"!=typeof r||null===r||"object"!=typeof n||null===n)return!1;var a=Object.keys(r),i=Object.keys(n);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++)if(!Nr.call(n,a[i])||!Or(r[a[i]],n[a[i]]))return!1;return!0}var Lr=me&&"documentMode"in document&&11>=document.documentMode,Ir={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Dr=null,Fr=null,jr=null,Br=!1;function jf(r,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;return Br||null==Dr||Dr!==td(a)?null:(a="selectionStart"in(a=Dr)&&yd(a)?{start:a.selectionStart,end:a.selectionEnd}:{anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},jr&&bf(jr,a)?null:(jr=a,(r=G.getPooled(Ir.select,Fr,r,n)).type="select",r.target=Dr,Xd(r),r))}var zr={eventTypes:Ir,extractEvents(r,n,a,i,o,s){if(!(s=!(o=s||(i.window===i?i.document:9===i.nodeType?i:i.ownerDocument)))){e:{o=cc(o),s=he.onSelect;for(var y=0;y<s.length;y++)if(!o.has(s[y])){o=!1;break e}o=!0}s=!o}if(s)return null;switch(o=n?Pd(n):window,r){case"focus":(xe(o)||"true"===o.contentEditable)&&(Dr=o,Fr=n,jr=null);break;case"blur":jr=Fr=Dr=null;break;case"mousedown":Br=!0;break;case"contextmenu":case"mouseup":case"dragend":return Br=!1,jf(a,i);case"selectionchange":if(Lr)break;case"keydown":case"keyup":return jf(a,i)}return null}},Gr=G.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ur=G.extend({clipboardData:r=>"clipboardData"in r?r.clipboardData:window.clipboardData}),Vr=Sr.extend({relatedTarget:null});function of(r){var n=r.keyCode;return"charCode"in r?0===(r=r.charCode)&&13===n&&(r=13):r=n,10===r&&(r=13),32<=r||13===r?r:0}var Wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qr=Sr.extend({key(r){if(r.key){var n=Wr[r.key]||r.key;if("Unidentified"!==n)return n}return"keypress"===r.type?13===(r=of(r))?"Enter":String.fromCharCode(r):"keydown"===r.type||"keyup"===r.type?Yr[r.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Qe,charCode:r=>"keypress"===r.type?of(r):0,keyCode:r=>"keydown"===r.type||"keyup"===r.type?r.keyCode:0,which:r=>"keypress"===r.type?of(r):"keydown"===r.type||"keyup"===r.type?r.keyCode:0}),Xr=Er.extend({dataTransfer:null}),$r=Sr.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Qe}),Kr=G.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Jr=Er.extend({deltaX:r=>"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0,deltaY:r=>"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0,deltaZ:null,deltaMode:null}),Qr={eventTypes:It,extractEvents(r,n,a,i){var o=Dt.get(r);if(!o)return null;switch(r){case"keypress":if(0===of(a))return null;case"keydown":case"keyup":r=qr;break;case"blur":case"focus":r=Vr;break;case"click":if(2===a.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":r=Er;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":r=Xr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":r=$r;break;case ft:case mt:case gt:r=Gr;break;case yt:r=Kr;break;case"scroll":r=Sr;break;case"wheel":r=Jr;break;case"copy":case"cut":case"paste":r=Ur;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":r=Ar;break;default:r=G}return Xd(n=r.getPooled(o,n,a,i)),n}};if(ie)throw Error(u(101));ie=[].slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),ra(),q=Qd,$=Nc,ne=Pd,xa({SimpleEventPlugin:Qr,EnterLeaveEventPlugin:Rr,ChangeEventPlugin:xr,SelectEventPlugin:zr,BeforeInputEventPlugin:mr});var Zr=[],en=-1;function H(r){0>en||(r.current=Zr[en],Zr[en]=null,en--)}function I(r,n){en++,Zr[en]=r.current,r.current=n}var tn={},rn={current:tn},nn={current:!1},an=tn;function Cf(r,n){var a=r.type.contextTypes;if(!a)return tn;var i=r.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var o,s={};for(o in a)s[o]=n[o];return i&&((r=r.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,r.__reactInternalMemoizedMaskedChildContext=s),s}function L(r){return null!=r.childContextTypes}function Df(){H(nn),H(rn)}function Ef(r,n,a){if(rn.current!==tn)throw Error(u(168));I(rn,n),I(nn,a)}function Ff(r,n,a){var i=r.stateNode;if(r=n.childContextTypes,"function"!=typeof i.getChildContext)return a;for(var s in i=i.getChildContext())if(!(s in r))throw Error(u(108,pb(n)||"Unknown",s));return o({},a,{},i)}function Gf(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||tn,an=rn.current,I(rn,r),I(nn,nn.current),!0}function Hf(r,n,a){var i=r.stateNode;if(!i)throw Error(u(169));a?(r=Ff(r,n,an),i.__reactInternalMemoizedMergedChildContext=r,H(nn),H(rn),I(rn,r)):H(nn),I(nn,a)}var sn=s.unstable_runWithPriority,ln=s.unstable_scheduleCallback,cn=s.unstable_cancelCallback,pn=s.unstable_requestPaint,un=s.unstable_now,dn=s.unstable_getCurrentPriorityLevel,hn=s.unstable_ImmediatePriority,mn=s.unstable_UserBlockingPriority,gn=s.unstable_NormalPriority,yn=s.unstable_LowPriority,_n=s.unstable_IdlePriority,vn={},bn=s.unstable_shouldYield,xn=void 0!==pn?pn:function(){},Sn=null,Cn=null,wn=!1,Pn=un(),Mn=1e4>Pn?un:function(){return un()-Pn};function ag(){switch(dn()){case hn:return 99;case mn:return 98;case gn:return 97;case yn:return 96;case _n:return 95;default:throw Error(u(332))}}function bg(r){switch(r){case 99:return hn;case 98:return mn;case 97:return gn;case 96:return yn;case 95:return _n;default:throw Error(u(332))}}function cg(r,n){return r=bg(r),sn(r,n)}function dg(r,n,a){return r=bg(r),ln(r,n,a)}function eg(r){return null===Sn?(Sn=[r],Cn=ln(hn,fg)):Sn.push(r),vn}function gg(){if(null!==Cn){var r=Cn;Cn=null,cn(r)}fg()}function fg(){if(!wn&&null!==Sn){wn=!0;var r=0;try{var n=Sn;cg(99,(function(){for(;r<n.length;r++){var a=n[r];do{a=a(!0)}while(null!==a)}})),Sn=null}catch(n){throw null!==Sn&&(Sn=Sn.slice(r+1)),ln(hn,gg),n}finally{wn=!1}}}function hg(r,n,a){return 1073741821-(1+((1073741821-r+n/10)/(a/=10)|0))*a}function ig(r,n){if(r&&r.defaultProps)for(var a in n=o({},n),r=r.defaultProps)void 0===n[a]&&(n[a]=r[a]);return n}var Tn={current:null},En=null,An=null,kn=null;function ng(){kn=An=En=null}function og(r){var n=Tn.current;H(Tn),r.type._context._currentValue=n}function pg(r,n){for(;null!==r;){var a=r.alternate;if(r.childExpirationTime<n)r.childExpirationTime=n,null!==a&&a.childExpirationTime<n&&(a.childExpirationTime=n);else{if(!(null!==a&&a.childExpirationTime<n))break;a.childExpirationTime=n}r=r.return}}function qg(r,n){En=r,kn=An=null,null!==(r=r.dependencies)&&null!==r.firstContext&&(r.expirationTime>=n&&(la=!0),r.firstContext=null)}function sg(r,n){if(kn!==r&&!1!==n&&0!==n)if("number"==typeof n&&1073741823!==n||(kn=r,n=1073741823),n={context:r,observedBits:n,next:null},null===An){if(null===En)throw Error(u(308));An=n,En.dependencies={expirationTime:0,firstContext:n,responders:null}}else An=An.next=n;return r._currentValue}var Rn=!1;function ug(r){r.updateQueue={baseState:r.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function vg(r,n){r=r.updateQueue,n.updateQueue===r&&(n.updateQueue={baseState:r.baseState,baseQueue:r.baseQueue,shared:r.shared,effects:r.effects})}function wg(r,n){return(r={expirationTime:r,suspenseConfig:n,tag:0,payload:null,callback:null,next:null}).next=r}function xg(r,n){if(null!==(r=r.updateQueue)){var a=(r=r.shared).pending;null===a?n.next=n:(n.next=a.next,a.next=n),r.pending=n}}function yg(r,n){var a=r.alternate;null!==a&&vg(a,r),null===(a=(r=r.updateQueue).baseQueue)?(r.baseQueue=n.next=n,n.next=n):(n.next=a.next,a.next=n)}function zg(r,n,a,i){var s=r.updateQueue;Rn=!1;var y=s.baseQueue,_=s.shared.pending;if(null!==_){if(null!==y){var w=y.next;y.next=_.next,_.next=w}y=_,s.shared.pending=null,null!==(w=r.alternate)&&null!==(w=w.updateQueue)&&(w.baseQueue=_)}if(null!==y){w=y.next;var E=s.baseState,j=0,q=null,$=null,ne=null;if(null!==w)for(var ie=w;;){if((_=ie.expirationTime)<i){var oe={expirationTime:ie.expirationTime,suspenseConfig:ie.suspenseConfig,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null};null===ne?($=ne=oe,q=E):ne=ne.next=oe,_>j&&(j=_)}else{null!==ne&&(ne=ne.next={expirationTime:1073741823,suspenseConfig:ie.suspenseConfig,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null}),Ag(_,ie.suspenseConfig);e:{var se=r,le=ie;switch(_=n,oe=a,le.tag){case 1:if("function"==typeof(se=le.payload)){E=se.call(oe,E,_);break e}E=se;break e;case 3:se.effectTag=-4097&se.effectTag|64;case 0:if(null==(_="function"==typeof(se=le.payload)?se.call(oe,E,_):se))break e;E=o({},E,_);break e;case 2:Rn=!0}}null!==ie.callback&&(r.effectTag|=32,null===(_=s.effects)?s.effects=[ie]:_.push(ie))}if(null===(ie=ie.next)||ie===w){if(null===(_=s.shared.pending))break;ie=y.next=_.next,_.next=w,s.baseQueue=y=_,s.shared.pending=null}}null===ne?q=E:ne.next=$,s.baseState=q,s.baseQueue=ne,Bg(j),r.expirationTime=j,r.memoizedState=E}}function Cg(r,n,a){if(r=n.effects,n.effects=null,null!==r)for(n=0;n<r.length;n++){var i=r[n],o=i.callback;if(null!==o){if(i.callback=null,i=o,o=a,"function"!=typeof i)throw Error(u(191,i));i.call(o)}}}var On=Ne.ReactCurrentBatchConfig,Nn=(new i.Component).refs;function Fg(r,n,a,i){a=null==(a=a(i,n=r.memoizedState))?n:o({},n,a),r.memoizedState=a,0===r.expirationTime&&(r.updateQueue.baseState=a)}var Ln={isMounted:r=>!!(r=r._reactInternalFiber)&&dc(r)===r,enqueueSetState(r,n,a){r=r._reactInternalFiber;var i=Gg(),o=On.suspense;(o=wg(i=Hg(i,r,o),o)).payload=n,null!=a&&(o.callback=a),xg(r,o),Ig(r,i)},enqueueReplaceState(r,n,a){r=r._reactInternalFiber;var i=Gg(),o=On.suspense;(o=wg(i=Hg(i,r,o),o)).tag=1,o.payload=n,null!=a&&(o.callback=a),xg(r,o),Ig(r,i)},enqueueForceUpdate(r,n){r=r._reactInternalFiber;var a=Gg(),i=On.suspense;(i=wg(a=Hg(a,r,i),i)).tag=2,null!=n&&(i.callback=n),xg(r,i),Ig(r,a)}};function Kg(r,n,a,i,o,s,y){return"function"==typeof(r=r.stateNode).shouldComponentUpdate?r.shouldComponentUpdate(i,s,y):!(n.prototype&&n.prototype.isPureReactComponent&&bf(a,i)&&bf(o,s))}function Lg(r,n,a){var i=!1,o=tn,s=n.contextType;return"object"==typeof s&&null!==s?s=sg(s):(o=L(n)?an:rn.current,s=(i=null!=(i=n.contextTypes))?Cf(r,o):tn),n=new n(a,s),r.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=Ln,r.stateNode=n,n._reactInternalFiber=r,i&&((r=r.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=s),n}function Mg(r,n,a,i){r=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(a,i),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(a,i),n.state!==r&&Ln.enqueueReplaceState(n,n.state,null)}function Ng(r,n,a,i){var o=r.stateNode;o.props=a,o.state=r.memoizedState,o.refs=Nn,ug(r);var s=n.contextType;"object"==typeof s&&null!==s?o.context=sg(s):(s=L(n)?an:rn.current,o.context=Cf(r,s)),zg(r,a,o,i),o.state=r.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(Fg(r,n,s,a),o.state=r.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(n=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),n!==o.state&&Ln.enqueueReplaceState(o,o.state,null),zg(r,a,o,i),o.state=r.memoizedState),"function"==typeof o.componentDidMount&&(r.effectTag|=4)}var In=Array.isArray;function Pg(r,n,a){if(null!==(r=a.ref)&&"function"!=typeof r&&"object"!=typeof r){if(a._owner){if(a=a._owner){if(1!==a.tag)throw Error(u(309));var i=a.stateNode}if(!i)throw Error(u(147,r));var o=""+r;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===o?n.ref:((n=function(r){var n=i.refs;n===Nn&&(n=i.refs={}),null===r?delete n[o]:n[o]=r})._stringRef=o,n)}if("string"!=typeof r)throw Error(u(284));if(!a._owner)throw Error(u(290,r))}return r}function Qg(r,n){if("textarea"!==r.type)throw Error(u(31,"[object Object]"==={}.toString.call(n)?"object with keys {"+Object.keys(n).join(", ")+"}":n,""))}function Rg(r){function b(n,a){if(r){var i=n.lastEffect;null!==i?(i.nextEffect=a,n.lastEffect=a):n.firstEffect=n.lastEffect=a,a.nextEffect=null,a.effectTag=8}}function c(n,a){if(!r)return null;for(;null!==a;)b(n,a),a=a.sibling;return null}function d(r,n){for(r=new Map;null!==n;)null!==n.key?r.set(n.key,n):r.set(n.index,n),n=n.sibling;return r}function e(r,n){return(r=Sg(r,n)).index=0,r.sibling=null,r}function f(n,a,i){return n.index=i,r?null!==(i=n.alternate)?(i=i.index)<a?(n.effectTag=2,a):i:(n.effectTag=2,a):a}function g(n){return r&&null===n.alternate&&(n.effectTag=2),n}function h(r,n,a,i){return null===n||6!==n.tag?((n=Tg(a,r.mode,i)).return=r,n):((n=e(n,a)).return=r,n)}function k(r,n,a,i){return null!==n&&n.elementType===a.type?((i=e(n,a.props)).ref=Pg(r,n,a),i.return=r,i):((i=Ug(a.type,a.key,a.props,null,r.mode,i)).ref=Pg(r,n,a),i.return=r,i)}function l(r,n,a,i){return null===n||4!==n.tag||n.stateNode.containerInfo!==a.containerInfo||n.stateNode.implementation!==a.implementation?((n=Vg(a,r.mode,i)).return=r,n):((n=e(n,a.children||[])).return=r,n)}function m(r,n,a,i,o){return null===n||7!==n.tag?((n=Wg(a,r.mode,i,o)).return=r,n):((n=e(n,a)).return=r,n)}function p(r,n,a){if("string"==typeof n||"number"==typeof n)return(n=Tg(""+n,r.mode,a)).return=r,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case Be:return(a=Ug(n.type,n.key,n.props,null,r.mode,a)).ref=Pg(r,null,n),a.return=r,a;case Ue:return(n=Vg(n,r.mode,a)).return=r,n}if(In(n)||nb(n))return(n=Wg(n,r.mode,a,null)).return=r,n;Qg(r,n)}return null}function x(r,n,a,i){var o=null!==n?n.key:null;if("string"==typeof a||"number"==typeof a)return null!==o?null:h(r,n,""+a,i);if("object"==typeof a&&null!==a){switch(a.$$typeof){case Be:return a.key===o?a.type===Ve?m(r,n,a.props.children,i,o):k(r,n,a,i):null;case Ue:return a.key===o?l(r,n,a,i):null}if(In(a)||nb(a))return null!==o?null:m(r,n,a,i,null);Qg(r,a)}return null}function z(r,n,a,i,o){if("string"==typeof i||"number"==typeof i)return h(n,r=r.get(a)||null,""+i,o);if("object"==typeof i&&null!==i){switch(i.$$typeof){case Be:return r=r.get(null===i.key?a:i.key)||null,i.type===Ve?m(n,r,i.props.children,o,i.key):k(n,r,i,o);case Ue:return l(n,r=r.get(null===i.key?a:i.key)||null,i,o)}if(In(i)||nb(i))return m(n,r=r.get(a)||null,i,o,null);Qg(n,i)}return null}function ca(n,a,i,o){for(var s=null,y=null,_=a,w=a=0,E=null;null!==_&&w<i.length;w++){_.index>w?(E=_,_=null):E=_.sibling;var j=x(n,_,i[w],o);if(null===j){null===_&&(_=E);break}r&&_&&null===j.alternate&&b(n,_),a=f(j,a,w),null===y?s=j:y.sibling=j,y=j,_=E}if(w===i.length)return c(n,_),s;if(null===_){for(;w<i.length;w++)null!==(_=p(n,i[w],o))&&(a=f(_,a,w),null===y?s=_:y.sibling=_,y=_);return s}for(_=d(n,_);w<i.length;w++)null!==(E=z(_,n,w,i[w],o))&&(r&&null!==E.alternate&&_.delete(null===E.key?w:E.key),a=f(E,a,w),null===y?s=E:y.sibling=E,y=E);return r&&_.forEach((function(r){return b(n,r)})),s}function D(n,a,i,o){var s=nb(i);if("function"!=typeof s)throw Error(u(150));if(null==(i=s.call(i)))throw Error(u(151));for(var y=s=null,_=a,w=a=0,E=null,j=i.next();null!==_&&!j.done;w++,j=i.next()){_.index>w?(E=_,_=null):E=_.sibling;var q=x(n,_,j.value,o);if(null===q){null===_&&(_=E);break}r&&_&&null===q.alternate&&b(n,_),a=f(q,a,w),null===y?s=q:y.sibling=q,y=q,_=E}if(j.done)return c(n,_),s;if(null===_){for(;!j.done;w++,j=i.next())null!==(j=p(n,j.value,o))&&(a=f(j,a,w),null===y?s=j:y.sibling=j,y=j);return s}for(_=d(n,_);!j.done;w++,j=i.next())null!==(j=z(_,n,w,j.value,o))&&(r&&null!==j.alternate&&_.delete(null===j.key?w:j.key),a=f(j,a,w),null===y?s=j:y.sibling=j,y=j);return r&&_.forEach((function(r){return b(n,r)})),s}return function(r,n,a,i){var o="object"==typeof a&&null!==a&&a.type===Ve&&null===a.key;o&&(a=a.props.children);var s="object"==typeof a&&null!==a;if(s)switch(a.$$typeof){case Be:e:{for(s=a.key,o=n;null!==o;){if(o.key===s){switch(o.tag){case 7:if(a.type===Ve){c(r,o.sibling),(n=e(o,a.props.children)).return=r,r=n;break e}break;default:if(o.elementType===a.type){c(r,o.sibling),(n=e(o,a.props)).ref=Pg(r,o,a),n.return=r,r=n;break e}}c(r,o);break}b(r,o),o=o.sibling}a.type===Ve?((n=Wg(a.props.children,r.mode,i,a.key)).return=r,r=n):((i=Ug(a.type,a.key,a.props,null,r.mode,i)).ref=Pg(r,n,a),i.return=r,r=i)}return g(r);case Ue:e:{for(o=a.key;null!==n;){if(n.key===o){if(4===n.tag&&n.stateNode.containerInfo===a.containerInfo&&n.stateNode.implementation===a.implementation){c(r,n.sibling),(n=e(n,a.children||[])).return=r,r=n;break e}c(r,n);break}b(r,n),n=n.sibling}(n=Vg(a,r.mode,i)).return=r,r=n}return g(r)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==n&&6===n.tag?(c(r,n.sibling),(n=e(n,a)).return=r,r=n):(c(r,n),(n=Tg(a,r.mode,i)).return=r,r=n),g(r);if(In(a))return ca(r,n,a,i);if(nb(a))return D(r,n,a,i);if(s&&Qg(r,a),void 0===a&&!o)switch(r.tag){case 1:case 0:throw r=r.type,Error(u(152,r.displayName||r.name||"Component"))}return c(r,n)}}var Dn=Rg(!0),Fn=Rg(!1),jn={},Bn={current:jn},zn={current:jn},Gn={current:jn};function ch(r){if(r===jn)throw Error(u(174));return r}function dh(r,n){switch(I(Gn,n),I(zn,r),I(Bn,jn),r=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ob(null,"");break;default:n=Ob(n=(r=8===r?n.parentNode:n).namespaceURI||null,r=r.tagName)}H(Bn),I(Bn,n)}function eh(){H(Bn),H(zn),H(Gn)}function fh(r){ch(Gn.current);var n=ch(Bn.current),a=Ob(n,r.type);n!==a&&(I(zn,r),I(Bn,a))}function gh(r){zn.current===r&&(H(Bn),H(zn))}var Un={current:0};function hh(r){for(var n=r;null!==n;){if(13===n.tag){var a=n.memoizedState;if(null!==a&&(null===(a=a.dehydrated)||"$?"===a.data||"$!"===a.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!=(64&n.effectTag))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===r)break;for(;null===n.sibling;){if(null===n.return||n.return===r)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function ih(r,n){return{responder:r,props:n}}var Vn=Ne.ReactCurrentDispatcher,Wn=Ne.ReactCurrentBatchConfig,Hn=0,Yn=null,qn=null,Xn=null,$n=!1;function Q(){throw Error(u(321))}function nh(r,n){if(null===n)return!1;for(var a=0;a<n.length&&a<r.length;a++)if(!Or(r[a],n[a]))return!1;return!0}function oh(r,n,a,i,o,s){if(Hn=s,Yn=n,n.memoizedState=null,n.updateQueue=null,n.expirationTime=0,Vn.current=null===r||null===r.memoizedState?Jn:Qn,r=a(i,o),n.expirationTime===Hn){s=0;do{if(n.expirationTime=0,!(25>s))throw Error(u(301));s+=1,Xn=qn=null,n.updateQueue=null,Vn.current=Zn,r=a(i,o)}while(n.expirationTime===Hn)}if(Vn.current=Kn,n=null!==qn&&null!==qn.next,Hn=0,Xn=qn=Yn=null,$n=!1,n)throw Error(u(300));return r}function th(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Xn?Yn.memoizedState=Xn=r:Xn=Xn.next=r,Xn}function uh(){if(null===qn){var r=Yn.alternate;r=null!==r?r.memoizedState:null}else r=qn.next;var n=null===Xn?Yn.memoizedState:Xn.next;if(null!==n)Xn=n,qn=r;else{if(null===r)throw Error(u(310));r={memoizedState:(qn=r).memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},null===Xn?Yn.memoizedState=Xn=r:Xn=Xn.next=r}return Xn}function vh(r,n){return"function"==typeof n?n(r):n}function wh(r){var n=uh(),a=n.queue;if(null===a)throw Error(u(311));a.lastRenderedReducer=r;var i=qn,o=i.baseQueue,s=a.pending;if(null!==s){if(null!==o){var y=o.next;o.next=s.next,s.next=y}i.baseQueue=o=s,a.pending=null}if(null!==o){o=o.next,i=i.baseState;var _=y=s=null,w=o;do{var E=w.expirationTime;if(E<Hn){var j={expirationTime:w.expirationTime,suspenseConfig:w.suspenseConfig,action:w.action,eagerReducer:w.eagerReducer,eagerState:w.eagerState,next:null};null===_?(y=_=j,s=i):_=_.next=j,E>Yn.expirationTime&&(Yn.expirationTime=E,Bg(E))}else null!==_&&(_=_.next={expirationTime:1073741823,suspenseConfig:w.suspenseConfig,action:w.action,eagerReducer:w.eagerReducer,eagerState:w.eagerState,next:null}),Ag(E,w.suspenseConfig),i=w.eagerReducer===r?w.eagerState:r(i,w.action);w=w.next}while(null!==w&&w!==o);null===_?s=i:_.next=y,Or(i,n.memoizedState)||(la=!0),n.memoizedState=i,n.baseState=s,n.baseQueue=_,a.lastRenderedState=i}return[n.memoizedState,a.dispatch]}function xh(r){var n=uh(),a=n.queue;if(null===a)throw Error(u(311));a.lastRenderedReducer=r;var i=a.dispatch,o=a.pending,s=n.memoizedState;if(null!==o){a.pending=null;var y=o=o.next;do{s=r(s,y.action),y=y.next}while(y!==o);Or(s,n.memoizedState)||(la=!0),n.memoizedState=s,null===n.baseQueue&&(n.baseState=s),a.lastRenderedState=s}return[s,i]}function yh(r){var n=th();return"function"==typeof r&&(r=r()),n.memoizedState=n.baseState=r,r=(r=n.queue={pending:null,dispatch:null,lastRenderedReducer:vh,lastRenderedState:r}).dispatch=zh.bind(null,Yn,r),[n.memoizedState,r]}function Ah(r,n,a,i){return r={tag:r,create:n,destroy:a,deps:i,next:null},null===(n=Yn.updateQueue)?(n={lastEffect:null},Yn.updateQueue=n,n.lastEffect=r.next=r):null===(a=n.lastEffect)?n.lastEffect=r.next=r:(i=a.next,a.next=r,r.next=i,n.lastEffect=r),r}function Bh(){return uh().memoizedState}function Ch(r,n,a,i){var o=th();Yn.effectTag|=r,o.memoizedState=Ah(1|n,a,void 0,void 0===i?null:i)}function Dh(r,n,a,i){var o=uh();i=void 0===i?null:i;var s=void 0;if(null!==qn){var y=qn.memoizedState;if(s=y.destroy,null!==i&&nh(i,y.deps))return void Ah(n,a,s,i)}Yn.effectTag|=r,o.memoizedState=Ah(1|n,a,s,i)}function Eh(r,n){return Ch(516,4,r,n)}function Fh(r,n){return Dh(516,4,r,n)}function Gh(r,n){return Dh(4,2,r,n)}function Hh(r,n){return"function"==typeof n?(r=r(),n(r),function(){n(null)}):null!=n?(r=r(),n.current=r,function(){n.current=null}):void 0}function Ih(r,n,a){return a=null!=a?a.concat([r]):null,Dh(4,2,Hh.bind(null,n,r),a)}function Jh(){}function Kh(r,n){return th().memoizedState=[r,void 0===n?null:n],r}function Lh(r,n){var a=uh();n=void 0===n?null:n;var i=a.memoizedState;return null!==i&&null!==n&&nh(n,i[1])?i[0]:(a.memoizedState=[r,n],r)}function Mh(r,n){var a=uh();n=void 0===n?null:n;var i=a.memoizedState;return null!==i&&null!==n&&nh(n,i[1])?i[0]:(r=r(),a.memoizedState=[r,n],r)}function Nh(r,n,a){var i=ag();cg(98>i?98:i,(function(){r(!0)})),cg(97<i?97:i,(function(){var i=Wn.suspense;Wn.suspense=void 0===n?null:n;try{r(!1),a()}finally{Wn.suspense=i}}))}function zh(r,n,a){var i=Gg(),o=On.suspense;o={expirationTime:i=Hg(i,r,o),suspenseConfig:o,action:a,eagerReducer:null,eagerState:null,next:null};var s=n.pending;if(null===s?o.next=o:(o.next=s.next,s.next=o),n.pending=o,s=r.alternate,r===Yn||null!==s&&s===Yn)$n=!0,o.expirationTime=Hn,Yn.expirationTime=Hn;else{if(0===r.expirationTime&&(null===s||0===s.expirationTime)&&null!==(s=n.lastRenderedReducer))try{var y=n.lastRenderedState,_=s(y,a);if(o.eagerReducer=s,o.eagerState=_,Or(_,y))return}catch(r){}Ig(r,i)}}var Kn={readContext:sg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useResponder:Q,useDeferredValue:Q,useTransition:Q},Jn={readContext:sg,useCallback:Kh,useContext:sg,useEffect:Eh,useImperativeHandle:(r,n,a)=>(a=null!=a?a.concat([r]):null,Ch(4,2,Hh.bind(null,n,r),a)),useLayoutEffect:(r,n)=>Ch(4,2,r,n),useMemo(r,n){var a=th();return n=void 0===n?null:n,r=r(),a.memoizedState=[r,n],r},useReducer(r,n,a){var i=th();return n=void 0!==a?a(n):n,i.memoizedState=i.baseState=n,r=(r=i.queue={pending:null,dispatch:null,lastRenderedReducer:r,lastRenderedState:n}).dispatch=zh.bind(null,Yn,r),[i.memoizedState,r]},useRef:r=>(r={current:r},th().memoizedState=r),useState:yh,useDebugValue:Jh,useResponder:ih,useDeferredValue(r,n){var a=yh(r),i=a[0],o=a[1];return Eh((function(){var a=Wn.suspense;Wn.suspense=void 0===n?null:n;try{o(r)}finally{Wn.suspense=a}}),[r,n]),i},useTransition(r){var n=yh(!1),a=n[0];return n=n[1],[Kh(Nh.bind(null,n,r),[n,r]),a]}},Qn={readContext:sg,useCallback:Lh,useContext:sg,useEffect:Fh,useImperativeHandle:Ih,useLayoutEffect:Gh,useMemo:Mh,useReducer:wh,useRef:Bh,useState:()=>wh(vh),useDebugValue:Jh,useResponder:ih,useDeferredValue(r,n){var a=wh(vh),i=a[0],o=a[1];return Fh((function(){var a=Wn.suspense;Wn.suspense=void 0===n?null:n;try{o(r)}finally{Wn.suspense=a}}),[r,n]),i},useTransition(r){var n=wh(vh),a=n[0];return n=n[1],[Lh(Nh.bind(null,n,r),[n,r]),a]}},Zn={readContext:sg,useCallback:Lh,useContext:sg,useEffect:Fh,useImperativeHandle:Ih,useLayoutEffect:Gh,useMemo:Mh,useReducer:xh,useRef:Bh,useState:()=>xh(vh),useDebugValue:Jh,useResponder:ih,useDeferredValue(r,n){var a=xh(vh),i=a[0],o=a[1];return Fh((function(){var a=Wn.suspense;Wn.suspense=void 0===n?null:n;try{o(r)}finally{Wn.suspense=a}}),[r,n]),i},useTransition(r){var n=xh(vh),a=n[0];return n=n[1],[Lh(Nh.bind(null,n,r),[n,r]),a]}},ta=null,na=null,ia=!1;function Rh(r,n){var a=Sh(5,null,null,0);a.elementType="DELETED",a.type="DELETED",a.stateNode=n,a.return=r,a.effectTag=8,null!==r.lastEffect?(r.lastEffect.nextEffect=a,r.lastEffect=a):r.firstEffect=r.lastEffect=a}function Th(r,n){switch(r.tag){case 5:var a=r.type;return null!==(n=1!==n.nodeType||a.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(r.stateNode=n,!0);case 6:return null!==(n=""===r.pendingProps||3!==n.nodeType?null:n)&&(r.stateNode=n,!0);case 13:default:return!1}}function Uh(r){if(ia){var n=na;if(n){var a=n;if(!Th(r,n)){if(!(n=Jd(a.nextSibling))||!Th(r,n))return r.effectTag=-1025&r.effectTag|2,ia=!1,void(ta=r);Rh(ta,a)}ta=r,na=Jd(n.firstChild)}else r.effectTag=-1025&r.effectTag|2,ia=!1,ta=r}}function Vh(r){for(r=r.return;null!==r&&5!==r.tag&&3!==r.tag&&13!==r.tag;)r=r.return;ta=r}function Wh(r){if(r!==ta)return!1;if(!ia)return Vh(r),ia=!0,!1;var n=r.type;if(5!==r.tag||"head"!==n&&"body"!==n&&!Gd(n,r.memoizedProps))for(n=na;n;)Rh(r,n),n=Jd(n.nextSibling);if(Vh(r),13===r.tag){if(!(r=null!==(r=r.memoizedState)?r.dehydrated:null))throw Error(u(317));e:{for(r=r.nextSibling,n=0;r;){if(8===r.nodeType){var a=r.data;if("/$"===a){if(0===n){na=Jd(r.nextSibling);break e}n--}else"$"!==a&&"$!"!==a&&"$?"!==a||n++}r=r.nextSibling}na=null}}else na=ta?Jd(r.stateNode.nextSibling):null;return!0}function Xh(){na=ta=null,ia=!1}var sa=Ne.ReactCurrentOwner,la=!1;function R(r,n,a,i){n.child=null===r?Fn(n,null,a,i):Dn(n,r.child,a,i)}function Zh(r,n,a,i,o){a=a.render;var s=n.ref;return qg(n,o),i=oh(r,n,a,i,s,o),null===r||la?(n.effectTag|=1,R(r,n,i,o),n.child):(n.updateQueue=r.updateQueue,n.effectTag&=-517,r.expirationTime<=o&&(r.expirationTime=0),$h(r,n,o))}function ai(r,n,a,i,o,s){if(null===r){var y=a.type;return"function"!=typeof y||bi(y)||void 0!==y.defaultProps||null!==a.compare||void 0!==a.defaultProps?((r=Ug(a.type,null,i,null,n.mode,s)).ref=n.ref,r.return=n,n.child=r):(n.tag=15,n.type=y,ci(r,n,y,i,o,s))}return y=r.child,o<s&&(o=y.memoizedProps,(a=null!==(a=a.compare)?a:bf)(o,i)&&r.ref===n.ref)?$h(r,n,s):(n.effectTag|=1,(r=Sg(y,i)).ref=n.ref,r.return=n,n.child=r)}function ci(r,n,a,i,o,s){return null!==r&&bf(r.memoizedProps,i)&&r.ref===n.ref&&(la=!1,o<s)?(n.expirationTime=r.expirationTime,$h(r,n,s)):di(r,n,a,i,s)}function ei(r,n){var a=n.ref;(null===r&&null!==a||null!==r&&r.ref!==a)&&(n.effectTag|=128)}function di(r,n,a,i,o){var s=L(a)?an:rn.current;return s=Cf(n,s),qg(n,o),a=oh(r,n,a,i,s,o),null===r||la?(n.effectTag|=1,R(r,n,a,o),n.child):(n.updateQueue=r.updateQueue,n.effectTag&=-517,r.expirationTime<=o&&(r.expirationTime=0),$h(r,n,o))}function fi(r,n,a,i,o){if(L(a)){var s=!0;Gf(n)}else s=!1;if(qg(n,o),null===n.stateNode)null!==r&&(r.alternate=null,n.alternate=null,n.effectTag|=2),Lg(n,a,i),Ng(n,a,i,o),i=!0;else if(null===r){var y=n.stateNode,_=n.memoizedProps;y.props=_;var w=y.context,E=a.contextType;E="object"==typeof E&&null!==E?sg(E):Cf(n,E=L(a)?an:rn.current);var j=a.getDerivedStateFromProps,q="function"==typeof j||"function"==typeof y.getSnapshotBeforeUpdate;q||"function"!=typeof y.UNSAFE_componentWillReceiveProps&&"function"!=typeof y.componentWillReceiveProps||(_!==i||w!==E)&&Mg(n,y,i,E),Rn=!1;var $=n.memoizedState;y.state=$,zg(n,i,y,o),w=n.memoizedState,_!==i||$!==w||nn.current||Rn?("function"==typeof j&&(Fg(n,a,j,i),w=n.memoizedState),(_=Rn||Kg(n,a,_,i,$,w,E))?(q||"function"!=typeof y.UNSAFE_componentWillMount&&"function"!=typeof y.componentWillMount||("function"==typeof y.componentWillMount&&y.componentWillMount(),"function"==typeof y.UNSAFE_componentWillMount&&y.UNSAFE_componentWillMount()),"function"==typeof y.componentDidMount&&(n.effectTag|=4)):("function"==typeof y.componentDidMount&&(n.effectTag|=4),n.memoizedProps=i,n.memoizedState=w),y.props=i,y.state=w,y.context=E,i=_):("function"==typeof y.componentDidMount&&(n.effectTag|=4),i=!1)}else y=n.stateNode,vg(r,n),_=n.memoizedProps,y.props=n.type===n.elementType?_:ig(n.type,_),w=y.context,E="object"==typeof(E=a.contextType)&&null!==E?sg(E):Cf(n,E=L(a)?an:rn.current),(q="function"==typeof(j=a.getDerivedStateFromProps)||"function"==typeof y.getSnapshotBeforeUpdate)||"function"!=typeof y.UNSAFE_componentWillReceiveProps&&"function"!=typeof y.componentWillReceiveProps||(_!==i||w!==E)&&Mg(n,y,i,E),Rn=!1,w=n.memoizedState,y.state=w,zg(n,i,y,o),$=n.memoizedState,_!==i||w!==$||nn.current||Rn?("function"==typeof j&&(Fg(n,a,j,i),$=n.memoizedState),(j=Rn||Kg(n,a,_,i,w,$,E))?(q||"function"!=typeof y.UNSAFE_componentWillUpdate&&"function"!=typeof y.componentWillUpdate||("function"==typeof y.componentWillUpdate&&y.componentWillUpdate(i,$,E),"function"==typeof y.UNSAFE_componentWillUpdate&&y.UNSAFE_componentWillUpdate(i,$,E)),"function"==typeof y.componentDidUpdate&&(n.effectTag|=4),"function"==typeof y.getSnapshotBeforeUpdate&&(n.effectTag|=256)):("function"!=typeof y.componentDidUpdate||_===r.memoizedProps&&w===r.memoizedState||(n.effectTag|=4),"function"!=typeof y.getSnapshotBeforeUpdate||_===r.memoizedProps&&w===r.memoizedState||(n.effectTag|=256),n.memoizedProps=i,n.memoizedState=$),y.props=i,y.state=$,y.context=E,i=j):("function"!=typeof y.componentDidUpdate||_===r.memoizedProps&&w===r.memoizedState||(n.effectTag|=4),"function"!=typeof y.getSnapshotBeforeUpdate||_===r.memoizedProps&&w===r.memoizedState||(n.effectTag|=256),i=!1);return gi(r,n,a,i,s,o)}function gi(r,n,a,i,o,s){ei(r,n);var y=0!=(64&n.effectTag);if(!i&&!y)return o&&Hf(n,a,!1),$h(r,n,s);i=n.stateNode,sa.current=n;var _=y&&"function"!=typeof a.getDerivedStateFromError?null:i.render();return n.effectTag|=1,null!==r&&y?(n.child=Dn(n,r.child,null,s),n.child=Dn(n,null,_,s)):R(r,n,_,s),n.memoizedState=i.state,o&&Hf(n,a,!0),n.child}function hi(r){var n=r.stateNode;n.pendingContext?Ef(0,n.pendingContext,n.pendingContext!==n.context):n.context&&Ef(0,n.context,!1),dh(r,n.containerInfo)}var pa,da,ha,fa={dehydrated:null,retryTime:0};function ji(r,n,a){var i,o=n.mode,s=n.pendingProps,y=Un.current,_=!1;if((i=0!=(64&n.effectTag))||(i=0!=(2&y)&&(null===r||null!==r.memoizedState)),i?(_=!0,n.effectTag&=-65):null!==r&&null===r.memoizedState||void 0===s.fallback||!0===s.unstable_avoidThisFallback||(y|=1),I(Un,1&y),null===r){if(void 0!==s.fallback&&Uh(n),_){if(_=s.fallback,(s=Wg(null,o,0,null)).return=n,0==(2&n.mode))for(r=null!==n.memoizedState?n.child.child:n.child,s.child=r;null!==r;)r.return=s,r=r.sibling;return(a=Wg(_,o,a,null)).return=n,s.sibling=a,n.memoizedState=fa,n.child=s,a}return o=s.children,n.memoizedState=null,n.child=Fn(n,null,o,a)}if(null!==r.memoizedState){if(o=(r=r.child).sibling,_){if(s=s.fallback,(a=Sg(r,r.pendingProps)).return=n,0==(2&n.mode)&&(_=null!==n.memoizedState?n.child.child:n.child)!==r.child)for(a.child=_;null!==_;)_.return=a,_=_.sibling;return(o=Sg(o,s)).return=n,a.sibling=o,a.childExpirationTime=0,n.memoizedState=fa,n.child=a,o}return a=Dn(n,r.child,s.children,a),n.memoizedState=null,n.child=a}if(r=r.child,_){if(_=s.fallback,(s=Wg(null,o,0,null)).return=n,s.child=r,null!==r&&(r.return=s),0==(2&n.mode))for(r=null!==n.memoizedState?n.child.child:n.child,s.child=r;null!==r;)r.return=s,r=r.sibling;return(a=Wg(_,o,a,null)).return=n,s.sibling=a,a.effectTag|=2,s.childExpirationTime=0,n.memoizedState=fa,n.child=s,a}return n.memoizedState=null,n.child=Dn(n,r,s.children,a)}function ki(r,n){r.expirationTime<n&&(r.expirationTime=n);var a=r.alternate;null!==a&&a.expirationTime<n&&(a.expirationTime=n),pg(r.return,n)}function li(r,n,a,i,o,s){var y=r.memoizedState;null===y?r.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:a,tailExpiration:0,tailMode:o,lastEffect:s}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=i,y.tail=a,y.tailExpiration=0,y.tailMode=o,y.lastEffect=s)}function mi(r,n,a){var i=n.pendingProps,o=i.revealOrder,s=i.tail;if(R(r,n,i.children,a),0!=(2&(i=Un.current)))i=1&i|2,n.effectTag|=64;else{if(null!==r&&0!=(64&r.effectTag))e:for(r=n.child;null!==r;){if(13===r.tag)null!==r.memoizedState&&ki(r,a);else if(19===r.tag)ki(r,a);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;null===r.sibling;){if(null===r.return||r.return===n)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}i&=1}if(I(Un,i),0==(2&n.mode))n.memoizedState=null;else switch(o){case"forwards":for(a=n.child,o=null;null!==a;)null!==(r=a.alternate)&&null===hh(r)&&(o=a),a=a.sibling;null===(a=o)?(o=n.child,n.child=null):(o=a.sibling,a.sibling=null),li(n,!1,o,a,s,n.lastEffect);break;case"backwards":for(a=null,o=n.child,n.child=null;null!==o;){if(null!==(r=o.alternate)&&null===hh(r)){n.child=o;break}r=o.sibling,o.sibling=a,a=o,o=r}li(n,!0,a,null,s,n.lastEffect);break;case"together":li(n,!1,null,null,void 0,n.lastEffect);break;default:n.memoizedState=null}return n.child}function $h(r,n,a){null!==r&&(n.dependencies=r.dependencies);var i=n.expirationTime;if(0!==i&&Bg(i),n.childExpirationTime<a)return null;if(null!==r&&n.child!==r.child)throw Error(u(153));if(null!==n.child){for(a=Sg(r=n.child,r.pendingProps),n.child=a,a.return=n;null!==r.sibling;)r=r.sibling,(a=a.sibling=Sg(r,r.pendingProps)).return=n;a.sibling=null}return n.child}function ri(r,n){switch(r.tailMode){case"hidden":n=r.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var i=null;null!==a;)null!==a.alternate&&(i=a),a=a.sibling;null===i?n||null===r.tail?r.tail=null:r.tail.sibling=null:i.sibling=null}}function si(r,n,a){var i=n.pendingProps;switch(n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return L(n.type)&&Df(),null;case 3:return eh(),H(nn),H(rn),(a=n.stateNode).pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==r&&null!==r.child||!Wh(n)||(n.effectTag|=4),null;case 5:gh(n),a=ch(Gn.current);var s=n.type;if(null!==r&&null!=n.stateNode)da(r,n,s,i,a),r.ref!==n.ref&&(n.effectTag|=128);else{if(!i){if(null===n.stateNode)throw Error(u(166));return null}if(r=ch(Bn.current),Wh(n)){i=n.stateNode,s=n.type;var y=n.memoizedProps;switch(i[Zt]=n,i[er]=y,s){case"iframe":case"object":case"embed":F("load",i);break;case"video":case"audio":for(r=0;r<_t.length;r++)F(_t[r],i);break;case"source":F("error",i);break;case"img":case"image":case"link":F("error",i),F("load",i);break;case"form":F("reset",i),F("submit",i);break;case"details":F("toggle",i);break;case"input":Ab(i,y),F("invalid",i),rd(a,"onChange");break;case"select":i._wrapperState={wasMultiple:!!y.multiple},F("invalid",i),rd(a,"onChange");break;case"textarea":Jb(i,y),F("invalid",i),rd(a,"onChange")}for(var _ in od(s,y),r=null,y)if(y.hasOwnProperty(_)){var w=y[_];"children"===_?"string"==typeof w?i.textContent!==w&&(r=["children",w]):"number"==typeof w&&i.textContent!==""+w&&(r=["children",""+w]):pe.hasOwnProperty(_)&&null!=w&&rd(a,_)}switch(s){case"input":xb(i),Eb(i,y,!0);break;case"textarea":xb(i),Lb(i);break;case"select":case"option":break;default:"function"==typeof y.onClick&&(i.onclick=sd)}a=r,n.updateQueue=a,null!==a&&(n.effectTag|=4)}else{switch(_=9===a.nodeType?a:a.ownerDocument,r===qt&&(r=Nb(s)),r===qt?"script"===s?((r=_.createElement("div")).innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):"string"==typeof i.is?r=_.createElement(s,{is:i.is}):(r=_.createElement(s),"select"===s&&(_=r,i.multiple?_.multiple=!0:i.size&&(_.size=i.size))):r=_.createElementNS(r,s),r[Zt]=n,r[er]=i,pa(r,n),n.stateNode=r,_=pd(s,i),s){case"iframe":case"object":case"embed":F("load",r),w=i;break;case"video":case"audio":for(w=0;w<_t.length;w++)F(_t[w],r);w=i;break;case"source":F("error",r),w=i;break;case"img":case"image":case"link":F("error",r),F("load",r),w=i;break;case"form":F("reset",r),F("submit",r),w=i;break;case"details":F("toggle",r),w=i;break;case"input":Ab(r,i),w=zb(r,i),F("invalid",r),rd(a,"onChange");break;case"option":w=Gb(r,i);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},w=o({},i,{value:void 0}),F("invalid",r),rd(a,"onChange");break;case"textarea":Jb(r,i),w=Ib(r,i),F("invalid",r),rd(a,"onChange");break;default:w=i}od(s,w);var E=w;for(y in E)if(E.hasOwnProperty(y)){var j=E[y];"style"===y?md(r,j):"dangerouslySetInnerHTML"===y?null!=(j=j?j.__html:void 0)&&pt(r,j):"children"===y?"string"==typeof j?("textarea"!==s||""!==j)&&Rb(r,j):"number"==typeof j&&Rb(r,""+j):"suppressContentEditableWarning"!==y&&"suppressHydrationWarning"!==y&&"autoFocus"!==y&&(pe.hasOwnProperty(y)?null!=j&&rd(a,y):null!=j&&Xa(r,y,j,_))}switch(s){case"input":xb(r),Eb(r,i,!1);break;case"textarea":xb(r),Lb(r);break;case"option":null!=i.value&&r.setAttribute("value",""+rb(i.value));break;case"select":r.multiple=!!i.multiple,null!=(a=i.value)?Hb(r,!!i.multiple,a,!1):null!=i.defaultValue&&Hb(r,!!i.multiple,i.defaultValue,!0);break;default:"function"==typeof w.onClick&&(r.onclick=sd)}Fd(s,i)&&(n.effectTag|=4)}null!==n.ref&&(n.effectTag|=128)}return null;case 6:if(r&&null!=n.stateNode)ha(0,n,r.memoizedProps,i);else{if("string"!=typeof i&&null===n.stateNode)throw Error(u(166));a=ch(Gn.current),ch(Bn.current),Wh(n)?(a=n.stateNode,i=n.memoizedProps,a[Zt]=n,a.nodeValue!==i&&(n.effectTag|=4)):((a=(9===a.nodeType?a:a.ownerDocument).createTextNode(i))[Zt]=n,n.stateNode=a)}return null;case 13:return H(Un),i=n.memoizedState,0!=(64&n.effectTag)?(n.expirationTime=a,n):(a=null!==i,i=!1,null===r?void 0!==n.memoizedProps.fallback&&Wh(n):(i=null!==(s=r.memoizedState),a||null===s||null!==(s=r.child.sibling)&&(null!==(y=n.firstEffect)?(n.firstEffect=s,s.nextEffect=y):(n.firstEffect=n.lastEffect=s,s.nextEffect=null),s.effectTag=8)),a&&!i&&0!=(2&n.mode)&&(null===r&&!0!==n.memoizedProps.unstable_avoidThisFallback||0!=(1&Un.current)?Ua===Pa&&(Ua=Aa):(Ua!==Pa&&Ua!==Aa||(Ua=Oa),0!==Ka&&null!==Ia&&(xi(Ia,za),yi(Ia,Ka)))),(a||i)&&(n.effectTag|=4),null);case 4:return eh(),null;case 10:return og(n),null;case 17:return L(n.type)&&Df(),null;case 19:if(H(Un),null===(i=n.memoizedState))return null;if(s=0!=(64&n.effectTag),null===(y=i.rendering)){if(s)ri(i,!1);else if(Ua!==Pa||null!==r&&0!=(64&r.effectTag))for(y=n.child;null!==y;){if(null!==(r=hh(y))){for(n.effectTag|=64,ri(i,!1),null!==(s=r.updateQueue)&&(n.updateQueue=s,n.effectTag|=4),null===i.lastEffect&&(n.firstEffect=null),n.lastEffect=i.lastEffect,i=n.child;null!==i;)y=a,(s=i).effectTag&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(r=s.alternate)?(s.childExpirationTime=0,s.expirationTime=y,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null):(s.childExpirationTime=r.childExpirationTime,s.expirationTime=r.expirationTime,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,y=r.dependencies,s.dependencies=null===y?null:{expirationTime:y.expirationTime,firstContext:y.firstContext,responders:y.responders}),i=i.sibling;return I(Un,1&Un.current|2),n.child}y=y.sibling}}else{if(!s)if(null!==(r=hh(y))){if(n.effectTag|=64,s=!0,null!==(a=r.updateQueue)&&(n.updateQueue=a,n.effectTag|=4),ri(i,!0),null===i.tail&&"hidden"===i.tailMode&&!y.alternate)return null!==(n=n.lastEffect=i.lastEffect)&&(n.nextEffect=null),null}else 2*Mn()-i.renderingStartTime>i.tailExpiration&&1<a&&(n.effectTag|=64,s=!0,ri(i,!1),n.expirationTime=n.childExpirationTime=a-1);i.isBackwards?(y.sibling=n.child,n.child=y):(null!==(a=i.last)?a.sibling=y:n.child=y,i.last=y)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=Mn()+500),a=i.tail,i.rendering=a,i.tail=a.sibling,i.lastEffect=n.lastEffect,i.renderingStartTime=Mn(),a.sibling=null,n=Un.current,I(Un,s?1&n|2:1&n),a):null}throw Error(u(156,n.tag))}function zi(r){switch(r.tag){case 1:L(r.type)&&Df();var n=r.effectTag;return 4096&n?(r.effectTag=-4097&n|64,r):null;case 3:if(eh(),H(nn),H(rn),0!=(64&(n=r.effectTag)))throw Error(u(285));return r.effectTag=-4097&n|64,r;case 5:return gh(r),null;case 13:return H(Un),4096&(n=r.effectTag)?(r.effectTag=-4097&n|64,r):null;case 19:return H(Un),null;case 4:return eh(),null;case 10:return og(r),null;default:return null}}function Ai(r,n){return{value:r,source:n,stack:qb(n)}}pa=function(r,n){for(var a=n.child;null!==a;){if(5===a.tag||6===a.tag)r.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},da=function(r,n,a,i,s){var y=r.memoizedProps;if(y!==i){var _,w,E=n.stateNode;switch(ch(Bn.current),r=null,a){case"input":y=zb(E,y),i=zb(E,i),r=[];break;case"option":y=Gb(E,y),i=Gb(E,i),r=[];break;case"select":y=o({},y,{value:void 0}),i=o({},i,{value:void 0}),r=[];break;case"textarea":y=Ib(E,y),i=Ib(E,i),r=[];break;default:"function"!=typeof y.onClick&&"function"==typeof i.onClick&&(E.onclick=sd)}for(_ in od(a,i),a=null,y)if(!i.hasOwnProperty(_)&&y.hasOwnProperty(_)&&null!=y[_])if("style"===_)for(w in E=y[_])E.hasOwnProperty(w)&&(a||(a={}),a[w]="");else"dangerouslySetInnerHTML"!==_&&"children"!==_&&"suppressContentEditableWarning"!==_&&"suppressHydrationWarning"!==_&&"autoFocus"!==_&&(pe.hasOwnProperty(_)?r||(r=[]):(r=r||[]).push(_,null));for(_ in i){var j=i[_];if(E=null!=y?y[_]:void 0,i.hasOwnProperty(_)&&j!==E&&(null!=j||null!=E))if("style"===_)if(E){for(w in E)!E.hasOwnProperty(w)||j&&j.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in j)j.hasOwnProperty(w)&&E[w]!==j[w]&&(a||(a={}),a[w]=j[w])}else a||(r||(r=[]),r.push(_,a)),a=j;else"dangerouslySetInnerHTML"===_?(j=j?j.__html:void 0,E=E?E.__html:void 0,null!=j&&E!==j&&(r=r||[]).push(_,j)):"children"===_?E===j||"string"!=typeof j&&"number"!=typeof j||(r=r||[]).push(_,""+j):"suppressContentEditableWarning"!==_&&"suppressHydrationWarning"!==_&&(pe.hasOwnProperty(_)?(null!=j&&rd(s,_),r||E===j||(r=[])):(r=r||[]).push(_,j))}a&&(r=r||[]).push("style",a),s=r,(n.updateQueue=s)&&(n.effectTag|=4)}},ha=function(r,n,a,i){a!==i&&(n.effectTag|=4)};var ma="function"==typeof WeakSet?WeakSet:Set;function Ci(r,n){var a=n.source,i=n.stack;null===i&&null!==a&&(i=qb(a)),null!==a&&pb(a.type),n=n.value,null!==r&&1===r.tag&&pb(r.type);try{console.error(n)}catch(r){setTimeout((function(){throw r}))}}function Fi(r){var n=r.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Ei(r,n)}else n.current=null}function Gi(r,n){switch(n.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&n.effectTag&&null!==r){var a=r.memoizedProps,i=r.memoizedState;n=(r=n.stateNode).getSnapshotBeforeUpdate(n.elementType===n.type?a:ig(n.type,a),i),r.__reactInternalSnapshotBeforeUpdate=n}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(u(163))}function Hi(r,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&r)===r){var i=a.destroy;a.destroy=void 0,void 0!==i&&i()}a=a.next}while(a!==n)}}function Ii(r,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&r)===r){var i=a.create;a.destroy=i()}a=a.next}while(a!==n)}}function Ji(r,n,a){switch(a.tag){case 0:case 11:case 15:case 22:return void Ii(3,a);case 1:if(r=a.stateNode,4&a.effectTag)if(null===n)r.componentDidMount();else{var i=a.elementType===a.type?n.memoizedProps:ig(a.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}return void(null!==(n=a.updateQueue)&&Cg(a,n,r));case 3:if(null!==(n=a.updateQueue)){if(r=null,null!==a.child)switch(a.child.tag){case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}Cg(a,n,r)}return;case 5:return r=a.stateNode,void(null===n&&4&a.effectTag&&Fd(a.type,a.memoizedProps)&&r.focus());case 6:case 4:case 12:return;case 13:return void(null===a.memoizedState&&(a=a.alternate,null!==a&&(a=a.memoizedState,null!==a&&(a=a.dehydrated,null!==a&&Vc(a)))));case 19:case 17:case 20:case 21:return}throw Error(u(163))}function Ki(r,n,a){switch("function"==typeof Bi&&Bi(n),n.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){var i=r.next;cg(97<a?97:a,(function(){var r=i;do{var a=r.destroy;if(void 0!==a){var o=n;try{a()}catch(r){Ei(o,r)}}r=r.next}while(r!==i)}))}break;case 1:Fi(n),"function"==typeof(a=n.stateNode).componentWillUnmount&&function Di(r,n){try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(n){Ei(r,n)}}(n,a);break;case 5:Fi(n);break;case 4:Mi(r,n,a)}}function Ni(r){var n=r.alternate;r.return=null,r.child=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.alternate=null,r.firstEffect=null,r.lastEffect=null,r.pendingProps=null,r.memoizedProps=null,r.stateNode=null,null!==n&&Ni(n)}function Oi(r){return 5===r.tag||3===r.tag||4===r.tag}function Pi(r){e:{for(var n=r.return;null!==n;){if(Oi(n)){var a=n;break e}n=n.return}throw Error(u(160))}switch(n=a.stateNode,a.tag){case 5:var i=!1;break;case 3:case 4:n=n.containerInfo,i=!0;break;default:throw Error(u(161))}16&a.effectTag&&(Rb(n,""),a.effectTag&=-17);e:t:for(a=r;;){for(;null===a.sibling;){if(null===a.return||Oi(a.return)){a=null;break e}a=a.return}for(a.sibling.return=a.return,a=a.sibling;5!==a.tag&&6!==a.tag&&18!==a.tag;){if(2&a.effectTag)continue t;if(null===a.child||4===a.tag)continue t;a.child.return=a,a=a.child}if(!(2&a.effectTag)){a=a.stateNode;break e}}i?function Qi(r,n,a){var i=r.tag,o=5===i||6===i;if(o)r=o?r.stateNode:r.stateNode.instance,n?8===a.nodeType?a.parentNode.insertBefore(r,n):a.insertBefore(r,n):(8===a.nodeType?(n=a.parentNode).insertBefore(r,a):(n=a).appendChild(r),null!==(a=a._reactRootContainer)&&void 0!==a||null!==n.onclick||(n.onclick=sd));else if(4!==i&&null!==(r=r.child))for(Qi(r,n,a),r=r.sibling;null!==r;)Qi(r,n,a),r=r.sibling}(r,a,n):function Ri(r,n,a){var i=r.tag,o=5===i||6===i;if(o)r=o?r.stateNode:r.stateNode.instance,n?a.insertBefore(r,n):a.appendChild(r);else if(4!==i&&null!==(r=r.child))for(Ri(r,n,a),r=r.sibling;null!==r;)Ri(r,n,a),r=r.sibling}(r,a,n)}function Mi(r,n,a){for(var i,o,s=n,y=!1;;){if(!y){y=s.return;e:for(;;){if(null===y)throw Error(u(160));switch(i=y.stateNode,y.tag){case 5:o=!1;break e;case 3:case 4:i=i.containerInfo,o=!0;break e}y=y.return}y=!0}if(5===s.tag||6===s.tag){e:for(var _=r,w=s,E=a,j=w;;)if(Ki(_,j,E),null!==j.child&&4!==j.tag)j.child.return=j,j=j.child;else{if(j===w)break e;for(;null===j.sibling;){if(null===j.return||j.return===w)break e;j=j.return}j.sibling.return=j.return,j=j.sibling}o?(_=i,w=s.stateNode,8===_.nodeType?_.parentNode.removeChild(w):_.removeChild(w)):i.removeChild(s.stateNode)}else if(4===s.tag){if(null!==s.child){i=s.stateNode.containerInfo,o=!0,s.child.return=s,s=s.child;continue}}else if(Ki(r,s,a),null!==s.child){s.child.return=s,s=s.child;continue}if(s===n)break;for(;null===s.sibling;){if(null===s.return||s.return===n)return;4===(s=s.return).tag&&(y=!1)}s.sibling.return=s.return,s=s.sibling}}function Si(r,n){switch(n.tag){case 0:case 11:case 14:case 15:case 22:return void Hi(3,n);case 1:return;case 5:var a=n.stateNode;if(null!=a){var i=n.memoizedProps,o=null!==r?r.memoizedProps:i;r=n.type;var s=n.updateQueue;if(n.updateQueue=null,null!==s){for(a[er]=i,"input"===r&&"radio"===i.type&&null!=i.name&&Bb(a,i),pd(r,o),n=pd(r,i),o=0;o<s.length;o+=2){var y=s[o],_=s[o+1];"style"===y?md(a,_):"dangerouslySetInnerHTML"===y?pt(a,_):"children"===y?Rb(a,_):Xa(a,y,_,n)}switch(r){case"input":Cb(a,i);break;case"textarea":Kb(a,i);break;case"select":n=a._wrapperState.wasMultiple,a._wrapperState.wasMultiple=!!i.multiple,null!=(r=i.value)?Hb(a,!!i.multiple,r,!1):n!==!!i.multiple&&(null!=i.defaultValue?Hb(a,!!i.multiple,i.defaultValue,!0):Hb(a,!!i.multiple,i.multiple?[]:"",!1))}}}return;case 6:if(null===n.stateNode)throw Error(u(162));return void(n.stateNode.nodeValue=n.memoizedProps);case 3:return void((n=n.stateNode).hydrate&&(n.hydrate=!1,Vc(n.containerInfo)));case 12:return;case 13:if(a=n,null===n.memoizedState?i=!1:(i=!0,a=n.child,Qa=Mn()),null!==a)e:for(r=a;;){if(5===r.tag)s=r.stateNode,i?"function"==typeof(s=s.style).setProperty?s.setProperty("display","none","important"):s.display="none":(s=r.stateNode,o=null!=(o=r.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,s.style.display=ld("display",o));else if(6===r.tag)r.stateNode.nodeValue=i?"":r.memoizedProps;else{if(13===r.tag&&null!==r.memoizedState&&null===r.memoizedState.dehydrated){(s=r.child.sibling).return=r,r=s;continue}if(null!==r.child){r.child.return=r,r=r.child;continue}}if(r===a)break;for(;null===r.sibling;){if(null===r.return||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}return void Ui(n);case 19:return void Ui(n);case 17:return}throw Error(u(163))}function Ui(r){var n=r.updateQueue;if(null!==n){r.updateQueue=null;var a=r.stateNode;null===a&&(a=r.stateNode=new ma),n.forEach((function(n){var i=Vi.bind(null,r,n);a.has(n)||(a.add(n),n.then(i,i))}))}}var ga="function"==typeof WeakMap?WeakMap:Map;function Xi(r,n,a){(a=wg(a,null)).tag=3,a.payload={element:null};var i=n.value;return a.callback=function(){ti||(ti=!0,ni=i),Ci(r,n)},a}function $i(r,n,a){(a=wg(a,null)).tag=3;var i=r.type.getDerivedStateFromError;if("function"==typeof i){var o=n.value;a.payload=function(){return Ci(r,n),i(o)}}var s=r.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(a.callback=function(){"function"!=typeof i&&(null===ii?ii=new Set([this]):ii.add(this),Ci(r,n));var a=n.stack;this.componentDidCatch(n.value,{componentStack:null!==a?a:""})}),a}var ya,_a=Math.ceil,va=Ne.ReactCurrentDispatcher,wa=Ne.ReactCurrentOwner,Pa=0,Aa=3,Oa=4,Na=0,Ia=null,Ba=null,za=0,Ua=Pa,Wa=null,Ya=1073741823,qa=1073741823,$a=null,Ka=0,Ja=!1,Qa=0,Za=null,ti=!1,ni=null,ii=null,oi=!1,pi=null,ui=90,_i=null,vi=0,wi=null,Ti=0;function Gg(){return 0!=(48&Na)?1073741821-(Mn()/10|0):0!==Ti?Ti:Ti=1073741821-(Mn()/10|0)}function Hg(r,n,a){if(0==(2&(n=n.mode)))return 1073741823;var i=ag();if(0==(4&n))return 99===i?1073741823:1073741822;if(0!=(16&Na))return za;if(null!==a)r=hg(r,0|a.timeoutMs||5e3,250);else switch(i){case 99:r=1073741823;break;case 98:r=hg(r,150,100);break;case 97:case 96:r=hg(r,5e3,250);break;case 95:r=2;break;default:throw Error(u(326))}return null!==Ia&&r===za&&--r,r}function Ig(r,n){if(50<vi)throw vi=0,wi=null,Error(u(185));if(null!==(r=xj(r,n))){var a=ag();1073741823===n?0!=(8&Na)&&0==(48&Na)?yj(r):(Z(r),0===Na&&gg()):Z(r),0==(4&Na)||98!==a&&99!==a||(null===_i?_i=new Map([[r,n]]):(void 0===(a=_i.get(r))||a>n)&&_i.set(r,n))}}function xj(r,n){r.expirationTime<n&&(r.expirationTime=n);var a=r.alternate;null!==a&&a.expirationTime<n&&(a.expirationTime=n);var i=r.return,o=null;if(null===i&&3===r.tag)o=r.stateNode;else for(;null!==i;){if(a=i.alternate,i.childExpirationTime<n&&(i.childExpirationTime=n),null!==a&&a.childExpirationTime<n&&(a.childExpirationTime=n),null===i.return&&3===i.tag){o=i.stateNode;break}i=i.return}return null!==o&&(Ia===o&&(Bg(n),Ua===Oa&&xi(o,za)),yi(o,n)),o}function zj(r){var n=r.lastExpiredTime;if(0!==n)return n;if(!Aj(r,n=r.firstPendingTime))return n;var a=r.lastPingedTime;return 2>=(r=a>(r=r.nextKnownPendingLevel)?a:r)&&n!==r?0:r}function Z(r){if(0!==r.lastExpiredTime)r.callbackExpirationTime=1073741823,r.callbackPriority=99,r.callbackNode=eg(yj.bind(null,r));else{var n=zj(r),a=r.callbackNode;if(0===n)null!==a&&(r.callbackNode=null,r.callbackExpirationTime=0,r.callbackPriority=90);else{var i=Gg();if(i=1073741823===n?99:1===n||2===n?95:0>=(i=10*(1073741821-n)-10*(1073741821-i))?99:250>=i?98:5250>=i?97:95,null!==a){var o=r.callbackPriority;if(r.callbackExpirationTime===n&&o>=i)return;a!==vn&&cn(a)}r.callbackExpirationTime=n,r.callbackPriority=i,n=1073741823===n?eg(yj.bind(null,r)):dg(i,Bj.bind(null,r),{timeout:10*(1073741821-n)-Mn()}),r.callbackNode=n}}}function Bj(r,n){if(Ti=0,n)return Cj(r,n=Gg()),Z(r),null;var a=zj(r);if(0!==a){if(n=r.callbackNode,0!=(48&Na))throw Error(u(327));if(Dj(),r===Ia&&a===za||Ej(r,a),null!==Ba){var i=Na;Na|=16;for(var o=Fj();;)try{Gj();break}catch(n){Hj(r,n)}if(ng(),Na=i,va.current=o,1===Ua)throw n=Wa,Ej(r,a),xi(r,a),Z(r),n;if(null===Ba)switch(o=r.finishedWork=r.current.alternate,r.finishedExpirationTime=a,i=Ua,Ia=null,i){case Pa:case 1:throw Error(u(345));case 2:Cj(r,2<a?2:a);break;case Aa:if(xi(r,a),a===(i=r.lastSuspendedTime)&&(r.nextKnownPendingLevel=Ij(o)),1073741823===Ya&&10<(o=Qa+500-Mn())){if(Ja){var s=r.lastPingedTime;if(0===s||s>=a){r.lastPingedTime=a,Ej(r,a);break}}if(0!==(s=zj(r))&&s!==a)break;if(0!==i&&i!==a){r.lastPingedTime=i;break}r.timeoutHandle=Kt(Jj.bind(null,r),o);break}Jj(r);break;case Oa:if(xi(r,a),a===(i=r.lastSuspendedTime)&&(r.nextKnownPendingLevel=Ij(o)),Ja&&(0===(o=r.lastPingedTime)||o>=a)){r.lastPingedTime=a,Ej(r,a);break}if(0!==(o=zj(r))&&o!==a)break;if(0!==i&&i!==a){r.lastPingedTime=i;break}if(1073741823!==qa?i=10*(1073741821-qa)-Mn():1073741823===Ya?i=0:(i=10*(1073741821-Ya)-5e3,0>(i=(o=Mn())-i)&&(i=0),(a=10*(1073741821-a)-o)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*_a(i/1960))-i)&&(i=a)),10<i){r.timeoutHandle=Kt(Jj.bind(null,r),i);break}Jj(r);break;case 5:if(1073741823!==Ya&&null!==$a){s=Ya;var y=$a;if(0>=(i=0|y.busyMinDurationMs)?i=0:(o=0|y.busyDelayMs,i=(s=Mn()-(10*(1073741821-s)-(0|y.timeoutMs||5e3)))<=o?0:o+i-s),10<i){xi(r,a),r.timeoutHandle=Kt(Jj.bind(null,r),i);break}}Jj(r);break;default:throw Error(u(329))}if(Z(r),r.callbackNode===n)return Bj.bind(null,r)}}return null}function yj(r){var n=r.lastExpiredTime;if(n=0!==n?n:1073741823,0!=(48&Na))throw Error(u(327));if(Dj(),r===Ia&&n===za||Ej(r,n),null!==Ba){var a=Na;Na|=16;for(var i=Fj();;)try{Kj();break}catch(n){Hj(r,n)}if(ng(),Na=a,va.current=i,1===Ua)throw a=Wa,Ej(r,n),xi(r,n),Z(r),a;if(null!==Ba)throw Error(u(261));r.finishedWork=r.current.alternate,r.finishedExpirationTime=n,Ia=null,Jj(r),Z(r)}return null}function Mj(r,n){var a=Na;Na|=1;try{return r(n)}finally{0===(Na=a)&&gg()}}function Nj(r,n){var a=Na;Na&=-2,Na|=8;try{return r(n)}finally{0===(Na=a)&&gg()}}function Ej(r,n){r.finishedWork=null,r.finishedExpirationTime=0;var a=r.timeoutHandle;if(-1!==a&&(r.timeoutHandle=-1,Jt(a)),null!==Ba)for(a=Ba.return;null!==a;){var i=a;switch(i.tag){case 1:null!=(i=i.type.childContextTypes)&&Df();break;case 3:eh(),H(nn),H(rn);break;case 5:gh(i);break;case 4:eh();break;case 13:case 19:H(Un);break;case 10:og(i)}a=a.return}Ia=r,Ba=Sg(r.current,null),za=n,Ua=Pa,Wa=null,qa=Ya=1073741823,$a=null,Ka=0,Ja=!1}function Hj(r,n){for(;;){try{if(ng(),Vn.current=Kn,$n)for(var a=Yn.memoizedState;null!==a;){var i=a.queue;null!==i&&(i.pending=null),a=a.next}if(Hn=0,Xn=qn=Yn=null,$n=!1,null===Ba||null===Ba.return)return Ua=1,Wa=n,Ba=null;e:{var o=r,s=Ba.return,y=Ba,_=n;if(n=za,y.effectTag|=2048,y.firstEffect=y.lastEffect=null,null!==_&&"object"==typeof _&&"function"==typeof _.then){var w=_;if(0==(2&y.mode)){var E=y.alternate;E?(y.updateQueue=E.updateQueue,y.memoizedState=E.memoizedState,y.expirationTime=E.expirationTime):(y.updateQueue=null,y.memoizedState=null)}var j=0!=(1&Un.current),q=s;do{var $;if($=13===q.tag){var ne=q.memoizedState;if(null!==ne)$=null!==ne.dehydrated;else{var ie=q.memoizedProps;$=void 0!==ie.fallback&&(!0!==ie.unstable_avoidThisFallback||!j)}}if($){var oe=q.updateQueue;if(null===oe){var se=new Set;se.add(w),q.updateQueue=se}else oe.add(w);if(0==(2&q.mode)){if(q.effectTag|=64,y.effectTag&=-2981,1===y.tag)if(null===y.alternate)y.tag=17;else{var le=wg(1073741823,null);le.tag=2,xg(y,le)}y.expirationTime=1073741823;break e}_=void 0,y=n;var pe=o.pingCache;if(null===pe?(pe=o.pingCache=new ga,_=new Set,pe.set(w,_)):void 0===(_=pe.get(w))&&(_=new Set,pe.set(w,_)),!_.has(y)){_.add(y);var he=Oj.bind(null,o,w,y);w.then(he,he)}q.effectTag|=4096,q.expirationTime=n;break e}q=q.return}while(null!==q);_=Error((pb(y.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+qb(y))}5!==Ua&&(Ua=2),_=Ai(_,y),q=s;do{switch(q.tag){case 3:w=_,q.effectTag|=4096,q.expirationTime=n,yg(q,Xi(q,w,n));break e;case 1:w=_;var me=q.type,ge=q.stateNode;if(0==(64&q.effectTag)&&("function"==typeof me.getDerivedStateFromError||null!==ge&&"function"==typeof ge.componentDidCatch&&(null===ii||!ii.has(ge)))){q.effectTag|=4096,q.expirationTime=n,yg(q,$i(q,w,n));break e}}q=q.return}while(null!==q)}Ba=Pj(Ba)}catch(r){n=r;continue}break}}function Fj(){var r=va.current;return va.current=Kn,null===r?Kn:r}function Ag(r,n){r<Ya&&2<r&&(Ya=r),null!==n&&r<qa&&2<r&&(qa=r,$a=n)}function Bg(r){r>Ka&&(Ka=r)}function Kj(){for(;null!==Ba;)Ba=Qj(Ba)}function Gj(){for(;null!==Ba&&!bn();)Ba=Qj(Ba)}function Qj(r){var n=ya(r.alternate,r,za);return r.memoizedProps=r.pendingProps,null===n&&(n=Pj(r)),wa.current=null,n}function Pj(r){Ba=r;do{var n=Ba.alternate;if(r=Ba.return,0==(2048&Ba.effectTag)){if(n=si(n,Ba,za),1===za||1!==Ba.childExpirationTime){for(var a=0,i=Ba.child;null!==i;){var o=i.expirationTime,s=i.childExpirationTime;o>a&&(a=o),s>a&&(a=s),i=i.sibling}Ba.childExpirationTime=a}if(null!==n)return n;null!==r&&0==(2048&r.effectTag)&&(null===r.firstEffect&&(r.firstEffect=Ba.firstEffect),null!==Ba.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=Ba.firstEffect),r.lastEffect=Ba.lastEffect),1<Ba.effectTag&&(null!==r.lastEffect?r.lastEffect.nextEffect=Ba:r.firstEffect=Ba,r.lastEffect=Ba))}else{if(null!==(n=zi(Ba)))return n.effectTag&=2047,n;null!==r&&(r.firstEffect=r.lastEffect=null,r.effectTag|=2048)}if(null!==(n=Ba.sibling))return n;Ba=r}while(null!==Ba);return Ua===Pa&&(Ua=5),null}function Ij(r){var n=r.expirationTime;return n>(r=r.childExpirationTime)?n:r}function Jj(r){var n=ag();return cg(99,Sj.bind(null,r,n)),null}function Sj(r,n){do{Dj()}while(null!==pi);if(0!=(48&Na))throw Error(u(327));var a=r.finishedWork,i=r.finishedExpirationTime;if(null===a)return null;if(r.finishedWork=null,r.finishedExpirationTime=0,a===r.current)throw Error(u(177));r.callbackNode=null,r.callbackExpirationTime=0,r.callbackPriority=90,r.nextKnownPendingLevel=0;var o=Ij(a);if(r.firstPendingTime=o,i<=r.lastSuspendedTime?r.firstSuspendedTime=r.lastSuspendedTime=r.nextKnownPendingLevel=0:i<=r.firstSuspendedTime&&(r.firstSuspendedTime=i-1),i<=r.lastPingedTime&&(r.lastPingedTime=0),i<=r.lastExpiredTime&&(r.lastExpiredTime=0),r===Ia&&(Ba=Ia=null,za=0),1<a.effectTag?null!==a.lastEffect?(a.lastEffect.nextEffect=a,o=a.firstEffect):o=a:o=a.firstEffect,null!==o){var s=Na;Na|=32,wa.current=null,Xt=Vt;var y=xd();if(yd(y)){if("selectionStart"in y)var _={start:y.selectionStart,end:y.selectionEnd};else e:{var w=(_=(_=y.ownerDocument)&&_.defaultView||window).getSelection&&_.getSelection();if(w&&0!==w.rangeCount){_=w.anchorNode;var E=w.anchorOffset,j=w.focusNode;w=w.focusOffset;try{_.nodeType,j.nodeType}catch(r){_=null;break e}var q=0,$=-1,ne=-1,ie=0,oe=0,se=y,le=null;t:for(;;){for(var pe;se!==_||0!==E&&3!==se.nodeType||($=q+E),se!==j||0!==w&&3!==se.nodeType||(ne=q+w),3===se.nodeType&&(q+=se.nodeValue.length),null!==(pe=se.firstChild);)le=se,se=pe;for(;;){if(se===y)break t;if(le===_&&++ie===E&&($=q),le===j&&++oe===w&&(ne=q),null!==(pe=se.nextSibling))break;le=(se=le).parentNode}se=pe}_=-1===$||-1===ne?null:{start:$,end:ne}}else _=null}_=_||{start:0,end:0}}else _=null;$t={activeElementDetached:null,focusedElem:y,selectionRange:_},Vt=!1,Za=o;do{try{Tj()}catch(r){if(null===Za)throw Error(u(330));Ei(Za,r),Za=Za.nextEffect}}while(null!==Za);Za=o;do{try{for(y=r,_=n;null!==Za;){var he=Za.effectTag;if(16&he&&Rb(Za.stateNode,""),128&he){var me=Za.alternate;if(null!==me){var ge=me.ref;null!==ge&&("function"==typeof ge?ge(null):ge.current=null)}}switch(1038&he){case 2:Pi(Za),Za.effectTag&=-3;break;case 6:Pi(Za),Za.effectTag&=-3,Si(Za.alternate,Za);break;case 1024:Za.effectTag&=-1025;break;case 1028:Za.effectTag&=-1025,Si(Za.alternate,Za);break;case 4:Si(Za.alternate,Za);break;case 8:Mi(y,E=Za,_),Ni(E)}Za=Za.nextEffect}}catch(r){if(null===Za)throw Error(u(330));Ei(Za,r),Za=Za.nextEffect}}while(null!==Za);if(ge=$t,me=xd(),he=ge.focusedElem,_=ge.selectionRange,me!==he&&he&&he.ownerDocument&&function wd(r,n){return!(!r||!n)&&(r===n||(!r||3!==r.nodeType)&&(n&&3===n.nodeType?wd(r,n.parentNode):"contains"in r?r.contains(n):!!r.compareDocumentPosition&&!!(16&r.compareDocumentPosition(n))))}(he.ownerDocument.documentElement,he)){null!==_&&yd(he)&&(me=_.start,void 0===(ge=_.end)&&(ge=me),"selectionStart"in he?(he.selectionStart=me,he.selectionEnd=Math.min(ge,he.value.length)):(ge=(me=he.ownerDocument||document)&&me.defaultView||window).getSelection&&(ge=ge.getSelection(),E=he.textContent.length,y=Math.min(_.start,E),_=void 0===_.end?y:Math.min(_.end,E),!ge.extend&&y>_&&(E=_,_=y,y=E),E=vd(he,y),j=vd(he,_),E&&j&&(1!==ge.rangeCount||ge.anchorNode!==E.node||ge.anchorOffset!==E.offset||ge.focusNode!==j.node||ge.focusOffset!==j.offset)&&((me=me.createRange()).setStart(E.node,E.offset),ge.removeAllRanges(),y>_?(ge.addRange(me),ge.extend(j.node,j.offset)):(me.setEnd(j.node,j.offset),ge.addRange(me))))),me=[];for(ge=he;ge=ge.parentNode;)1===ge.nodeType&&me.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for("function"==typeof he.focus&&he.focus(),he=0;he<me.length;he++)(ge=me[he]).element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}Vt=!!Xt,$t=Xt=null,r.current=a,Za=o;do{try{for(he=r;null!==Za;){var ye=Za.effectTag;if(36&ye&&Ji(he,Za.alternate,Za),128&ye){me=void 0;var _e=Za.ref;if(null!==_e){var ve=Za.stateNode;switch(Za.tag){case 5:me=ve;break;default:me=ve}"function"==typeof _e?_e(me):_e.current=me}}Za=Za.nextEffect}}catch(r){if(null===Za)throw Error(u(330));Ei(Za,r),Za=Za.nextEffect}}while(null!==Za);Za=null,xn(),Na=s}else r.current=a;if(oi)oi=!1,pi=r,ui=n;else for(Za=o;null!==Za;)n=Za.nextEffect,Za.nextEffect=null,Za=n;if(0===(n=r.firstPendingTime)&&(ii=null),1073741823===n?r===wi?vi++:(vi=0,wi=r):vi=0,"function"==typeof Li&&Li(a.stateNode,i),Z(r),ti)throw ti=!1,r=ni,ni=null,r;return 0!=(8&Na)||gg(),null}function Tj(){for(;null!==Za;){var r=Za.effectTag;0!=(256&r)&&Gi(Za.alternate,Za),0==(512&r)||oi||(oi=!0,dg(97,(function(){return Dj(),null}))),Za=Za.nextEffect}}function Dj(){if(90!==ui){var r=97<ui?97:ui;return ui=90,cg(r,Vj)}}function Vj(){if(null===pi)return!1;var r=pi;if(pi=null,0!=(48&Na))throw Error(u(331));var n=Na;for(Na|=32,r=r.current.firstEffect;null!==r;){try{var a=r;if(0!=(512&a.effectTag))switch(a.tag){case 0:case 11:case 15:case 22:Hi(5,a),Ii(5,a)}}catch(n){if(null===r)throw Error(u(330));Ei(r,n)}a=r.nextEffect,r.nextEffect=null,r=a}return Na=n,gg(),!0}function Wj(r,n,a){xg(r,n=Xi(r,n=Ai(a,n),1073741823)),null!==(r=xj(r,1073741823))&&Z(r)}function Ei(r,n){if(3===r.tag)Wj(r,r,n);else for(var a=r.return;null!==a;){if(3===a.tag){Wj(a,r,n);break}if(1===a.tag){var i=a.stateNode;if("function"==typeof a.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===ii||!ii.has(i))){xg(a,r=$i(a,r=Ai(n,r),1073741823)),null!==(a=xj(a,1073741823))&&Z(a);break}}a=a.return}}function Oj(r,n,a){var i=r.pingCache;null!==i&&i.delete(n),Ia===r&&za===a?Ua===Oa||Ua===Aa&&1073741823===Ya&&Mn()-Qa<500?Ej(r,za):Ja=!0:Aj(r,a)&&(0!==(n=r.lastPingedTime)&&n<a||(r.lastPingedTime=a,Z(r)))}function Vi(r,n){var a=r.stateNode;null!==a&&a.delete(n),0==(n=0)&&(n=Hg(n=Gg(),r,null)),null!==(r=xj(r,n))&&Z(r)}ya=function(r,n,a){var i=n.expirationTime;if(null!==r){var o=n.pendingProps;if(r.memoizedProps!==o||nn.current)la=!0;else{if(i<a){switch(la=!1,n.tag){case 3:hi(n),Xh();break;case 5:if(fh(n),4&n.mode&&1!==a&&o.hidden)return n.expirationTime=n.childExpirationTime=1,null;break;case 1:L(n.type)&&Gf(n);break;case 4:dh(n,n.stateNode.containerInfo);break;case 10:i=n.memoizedProps.value,o=n.type._context,I(Tn,o._currentValue),o._currentValue=i;break;case 13:if(null!==n.memoizedState)return 0!==(i=n.child.childExpirationTime)&&i>=a?ji(r,n,a):(I(Un,1&Un.current),null!==(n=$h(r,n,a))?n.sibling:null);I(Un,1&Un.current);break;case 19:if(i=n.childExpirationTime>=a,0!=(64&r.effectTag)){if(i)return mi(r,n,a);n.effectTag|=64}if(null!==(o=n.memoizedState)&&(o.rendering=null,o.tail=null),I(Un,Un.current),!i)return null}return $h(r,n,a)}la=!1}}else la=!1;switch(n.expirationTime=0,n.tag){case 2:if(i=n.type,null!==r&&(r.alternate=null,n.alternate=null,n.effectTag|=2),r=n.pendingProps,o=Cf(n,rn.current),qg(n,a),o=oh(null,n,i,r,o,a),n.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(n.tag=1,n.memoizedState=null,n.updateQueue=null,L(i)){var s=!0;Gf(n)}else s=!1;n.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,ug(n);var y=i.getDerivedStateFromProps;"function"==typeof y&&Fg(n,i,y,r),o.updater=Ln,n.stateNode=o,o._reactInternalFiber=n,Ng(n,i,r,a),n=gi(null,n,i,!0,s,a)}else n.tag=0,R(null,n,o,a),n=n.child;return n;case 16:e:{if(o=n.elementType,null!==r&&(r.alternate=null,n.alternate=null,n.effectTag|=2),r=n.pendingProps,function ob(r){if(-1===r._status){r._status=0;var n=r._ctor;n=n(),r._result=n,n.then((function(n){0===r._status&&(n=n.default,r._status=1,r._result=n)}),(function(n){0===r._status&&(r._status=2,r._result=n)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,n.type=o,s=n.tag=function Xj(r){if("function"==typeof r)return bi(r)?1:0;if(null!=r){if((r=r.$$typeof)===tt)return 11;if(r===at)return 14}return 2}(o),r=ig(o,r),s){case 0:n=di(null,n,o,r,a);break e;case 1:n=fi(null,n,o,r,a);break e;case 11:n=Zh(null,n,o,r,a);break e;case 14:n=ai(null,n,o,ig(o.type,r),i,a);break e}throw Error(u(306,o,""))}return n;case 0:return i=n.type,o=n.pendingProps,di(r,n,i,o=n.elementType===i?o:ig(i,o),a);case 1:return i=n.type,o=n.pendingProps,fi(r,n,i,o=n.elementType===i?o:ig(i,o),a);case 3:if(hi(n),i=n.updateQueue,null===r||null===i)throw Error(u(282));if(i=n.pendingProps,o=null!==(o=n.memoizedState)?o.element:null,vg(r,n),zg(n,i,null,a),(i=n.memoizedState.element)===o)Xh(),n=$h(r,n,a);else{if((o=n.stateNode.hydrate)&&(na=Jd(n.stateNode.containerInfo.firstChild),ta=n,o=ia=!0),o)for(a=Fn(n,null,i,a),n.child=a;a;)a.effectTag=-3&a.effectTag|1024,a=a.sibling;else R(r,n,i,a),Xh();n=n.child}return n;case 5:return fh(n),null===r&&Uh(n),i=n.type,o=n.pendingProps,s=null!==r?r.memoizedProps:null,y=o.children,Gd(i,o)?y=null:null!==s&&Gd(i,s)&&(n.effectTag|=16),ei(r,n),4&n.mode&&1!==a&&o.hidden?(n.expirationTime=n.childExpirationTime=1,n=null):(R(r,n,y,a),n=n.child),n;case 6:return null===r&&Uh(n),null;case 13:return ji(r,n,a);case 4:return dh(n,n.stateNode.containerInfo),i=n.pendingProps,null===r?n.child=Dn(n,null,i,a):R(r,n,i,a),n.child;case 11:return i=n.type,o=n.pendingProps,Zh(r,n,i,o=n.elementType===i?o:ig(i,o),a);case 7:return R(r,n,n.pendingProps,a),n.child;case 8:case 12:return R(r,n,n.pendingProps.children,a),n.child;case 10:e:{i=n.type._context,o=n.pendingProps,y=n.memoizedProps,s=o.value;var _=n.type._context;if(I(Tn,_._currentValue),_._currentValue=s,null!==y)if(_=y.value,0==(s=Or(_,s)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(_,s):1073741823))){if(y.children===o.children&&!nn.current){n=$h(r,n,a);break e}}else for(null!==(_=n.child)&&(_.return=n);null!==_;){var w=_.dependencies;if(null!==w){y=_.child;for(var E=w.firstContext;null!==E;){if(E.context===i&&0!=(E.observedBits&s)){1===_.tag&&((E=wg(a,null)).tag=2,xg(_,E)),_.expirationTime<a&&(_.expirationTime=a),null!==(E=_.alternate)&&E.expirationTime<a&&(E.expirationTime=a),pg(_.return,a),w.expirationTime<a&&(w.expirationTime=a);break}E=E.next}}else y=10===_.tag&&_.type===n.type?null:_.child;if(null!==y)y.return=_;else for(y=_;null!==y;){if(y===n){y=null;break}if(null!==(_=y.sibling)){_.return=y.return,y=_;break}y=y.return}_=y}R(r,n,o.children,a),n=n.child}return n;case 9:return o=n.type,i=(s=n.pendingProps).children,qg(n,a),i=i(o=sg(o,s.unstable_observedBits)),n.effectTag|=1,R(r,n,i,a),n.child;case 14:return s=ig(o=n.type,n.pendingProps),ai(r,n,o,s=ig(o.type,s),i,a);case 15:return ci(r,n,n.type,n.pendingProps,i,a);case 17:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:ig(i,o),null!==r&&(r.alternate=null,n.alternate=null,n.effectTag|=2),n.tag=1,L(i)?(r=!0,Gf(n)):r=!1,qg(n,a),Lg(n,i,o),Ng(n,i,o,a),gi(null,n,i,!0,r,a);case 19:return mi(r,n,a)}throw Error(u(156,n.tag))};var Li=null,Bi=null;function Zj(r,n,a,i){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Sh(r,n,a,i){return new Zj(r,n,a,i)}function bi(r){return!(!(r=r.prototype)||!r.isReactComponent)}function Sg(r,n){var a=r.alternate;return null===a?((a=Sh(r.tag,n,r.key,r.mode)).elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=n,a.effectTag=0,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null),a.childExpirationTime=r.childExpirationTime,a.expirationTime=r.expirationTime,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,n=r.dependencies,a.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Ug(r,n,a,i,o,s){var y=2;if(i=r,"function"==typeof r)bi(r)&&(y=1);else if("string"==typeof r)y=5;else e:switch(r){case Ve:return Wg(a.children,o,s,n);case et:y=8,o|=7;break;case We:y=8,o|=1;break;case Ye:return(r=Sh(12,a,n,8|o)).elementType=Ye,r.type=Ye,r.expirationTime=s,r;case rt:return(r=Sh(13,a,n,o)).type=rt,r.elementType=rt,r.expirationTime=s,r;case nt:return(r=Sh(19,a,n,o)).elementType=nt,r.expirationTime=s,r;default:if("object"==typeof r&&null!==r)switch(r.$$typeof){case Xe:y=10;break e;case $e:y=9;break e;case tt:y=11;break e;case at:y=14;break e;case it:y=16,i=null;break e;case ot:y=22;break e}throw Error(u(130,null==r?r:typeof r,""))}return(n=Sh(y,a,n,o)).elementType=r,n.type=i,n.expirationTime=s,n}function Wg(r,n,a,i){return(r=Sh(7,r,i,n)).expirationTime=a,r}function Tg(r,n,a){return(r=Sh(6,r,null,n)).expirationTime=a,r}function Vg(r,n,a){return(n=Sh(4,null!==r.children?r.children:[],r.key,n)).expirationTime=a,n.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},n}function ak(r,n,a){this.tag=n,this.current=null,this.containerInfo=r,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=a,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Aj(r,n){var a=r.firstSuspendedTime;return r=r.lastSuspendedTime,0!==a&&a>=n&&r<=n}function xi(r,n){var a=r.firstSuspendedTime,i=r.lastSuspendedTime;a<n&&(r.firstSuspendedTime=n),(i>n||0===a)&&(r.lastSuspendedTime=n),n<=r.lastPingedTime&&(r.lastPingedTime=0),n<=r.lastExpiredTime&&(r.lastExpiredTime=0)}function yi(r,n){n>r.firstPendingTime&&(r.firstPendingTime=n);var a=r.firstSuspendedTime;0!==a&&(n>=a?r.firstSuspendedTime=r.lastSuspendedTime=r.nextKnownPendingLevel=0:n>=r.lastSuspendedTime&&(r.lastSuspendedTime=n+1),n>r.nextKnownPendingLevel&&(r.nextKnownPendingLevel=n))}function Cj(r,n){var a=r.lastExpiredTime;(0===a||a>n)&&(r.lastExpiredTime=n)}function bk(r,n,a,i){var o=n.current,s=Gg(),y=On.suspense;s=Hg(s,o,y);e:if(a){t:{if(dc(a=a._reactInternalFiber)!==a||1!==a.tag)throw Error(u(170));var _=a;do{switch(_.tag){case 3:_=_.stateNode.context;break t;case 1:if(L(_.type)){_=_.stateNode.__reactInternalMemoizedMergedChildContext;break t}}_=_.return}while(null!==_);throw Error(u(171))}if(1===a.tag){var w=a.type;if(L(w)){a=Ff(a,w,_);break e}}a=_}else a=tn;return null===n.context?n.context=a:n.pendingContext=a,(n=wg(s,y)).payload={element:r},null!==(i=void 0===i?null:i)&&(n.callback=i),xg(o,n),Ig(o,s),s}function ck(r){if(!(r=r.current).child)return null;switch(r.child.tag){case 5:default:return r.child.stateNode}}function dk(r,n){null!==(r=r.memoizedState)&&null!==r.dehydrated&&r.retryTime<n&&(r.retryTime=n)}function ek(r,n){dk(r,n),(r=r.alternate)&&dk(r,n)}function fk(r,n,a){var i=new ak(r,n,a=null!=a&&!0===a.hydrate),o=Sh(3,null,null,2===n?7:1===n?3:0);i.current=o,o.stateNode=i,ug(o),r[tr]=i.current,a&&0!==n&&function Jc(r,n){var a=cc(n);Nt.forEach((function(r){uc(r,n,a)})),Lt.forEach((function(r){uc(r,n,a)}))}(0,9===r.nodeType?r:r.ownerDocument),this._internalRoot=i}function gk(r){return!(!r||1!==r.nodeType&&9!==r.nodeType&&11!==r.nodeType&&(8!==r.nodeType||" react-mount-point-unstable "!==r.nodeValue))}function ik(r,n,a,i,o){var s=a._reactRootContainer;if(s){var y=s._internalRoot;if("function"==typeof o){var _=o;o=function(){var r=ck(y);_.call(r)}}bk(n,y,r,o)}else{if(s=a._reactRootContainer=function hk(r,n){if(n||(n=!(!(n=r?9===r.nodeType?r.documentElement:r.firstChild:null)||1!==n.nodeType||!n.hasAttribute("data-reactroot"))),!n)for(var a;a=r.lastChild;)r.removeChild(a);return new fk(r,0,n?{hydrate:!0}:void 0)}(a,i),y=s._internalRoot,"function"==typeof o){var w=o;o=function(){var r=ck(y);w.call(r)}}Nj((function(){bk(n,y,r,o)}))}return ck(y)}function jk(r,n,a){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ue,key:null==i?null:""+i,children:r,containerInfo:n,implementation:a}}function kk(r,n){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!gk(n))throw Error(u(200));return jk(r,n,null,a)}fk.prototype.render=function(r){bk(r,this._internalRoot,null,null)},fk.prototype.unmount=function(){var r=this._internalRoot,n=r.containerInfo;bk(null,r,null,(function(){n[tr]=null}))},St=function(r){if(13===r.tag){var n=hg(Gg(),150,100);Ig(r,n),ek(r,n)}},Ct=function(r){13===r.tag&&(Ig(r,3),ek(r,3))},wt=function(r){if(13===r.tag){var n=Gg();Ig(r,n=Hg(n,r,null)),ek(r,n)}},ge=function(r,n,a){switch(n){case"input":if(Cb(r,a),n=a.name,"radio"===a.type&&null!=n){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<a.length;n++){var i=a[n];if(i!==r&&i.form===r.form){var o=Qd(i);if(!o)throw Error(u(90));yb(i),Cb(i,o)}}}break;case"textarea":Kb(r,a);break;case"select":null!=(n=a.value)&&Hb(r,!!a.multiple,n,!1)}},Fa=Mj,Ga=function(r,n,a,i,o){var s=Na;Na|=4;try{return cg(98,r.bind(null,n,a,i,o))}finally{0===(Na=s)&&gg()}},Ha=function(){0==(49&Na)&&(function Lj(){if(null!==_i){var r=_i;_i=null,r.forEach((function(r,n){Cj(n,r),Z(n)})),gg()}}(),Dj())},ve=function(r,n){var a=Na;Na|=2;try{return r(n)}finally{0===(Na=a)&&gg()}};var Wi={Events:[Nc,Pd,Qd,xa,le,Xd,function(r){jc(r,Wd)},Da,Ea,id,mc,Dj,{current:!1}]};!function(r){var n=r.findFiberByHostInstance;!function Yj(r){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)return!0;try{var a=n.inject(r);Li=function(r){try{n.onCommitFiberRoot(a,r,void 0,64==(64&r.current.effectTag))}catch(r){}},Bi=function(r){try{n.onCommitFiberUnmount(a,r)}catch(r){}}}catch(r){}}(o({},r,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ne.ReactCurrentDispatcher,findHostInstanceByFiber:r=>null===(r=hc(r))?null:r.stateNode,findFiberByHostInstance:r=>n?n(r):null,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:tc,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wi,n.createPortal=kk,n.findDOMNode=function(r){if(null==r)return null;if(1===r.nodeType)return r;var n=r._reactInternalFiber;if(void 0===n){if("function"==typeof r.render)throw Error(u(188));throw Error(u(268,Object.keys(r)))}return null===(r=hc(n))?null:r.stateNode},n.flushSync=function(r,n){if(0!=(48&Na))throw Error(u(187));var a=Na;Na|=1;try{return cg(99,r.bind(null,n))}finally{Na=a,gg()}},n.hydrate=function(r,n,a){if(!gk(n))throw Error(u(200));return ik(null,r,n,!0,a)},n.render=function(r,n,a){if(!gk(n))throw Error(u(200));return ik(null,r,n,!1,a)},n.unmountComponentAtNode=function(r){if(!gk(r))throw Error(u(40));return!!r._reactRootContainer&&(Nj((function(){ik(null,null,r,!1,(function(){r._reactRootContainer=null,r[tr]=null}))})),!0)},n.unstable_batchedUpdates=Mj,n.unstable_createPortal=function(r,n){return kk(r,n,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},n.unstable_renderSubtreeIntoContainer=function(r,n,a,i){if(!gk(a))throw Error(u(200));if(null==r||void 0===r._reactInternalFiber)throw Error(u(38));return ik(r,n,a,!1,i)},n.version="16.13.1"},function(r,n,a){"use strict";r.exports=a(532)},function(r,n,a){"use strict";var i,o,s,y,_;if("undefined"==typeof window||"function"!=typeof MessageChannel){var w=null,E=null,t=function(){if(null!==w)try{var r=n.unstable_now();w(!0,r),w=null}catch(r){throw setTimeout(t,0),r}},j=Date.now();n.unstable_now=function(){return Date.now()-j},i=function(r){null!==w?setTimeout(i,0,r):(w=r,setTimeout(t,0))},o=function(r,n){E=setTimeout(r,n)},s=function(){clearTimeout(E)},y=function(){return!1},_=n.unstable_forceFrameRate=function(){}}else{var q=window.performance,$=window.Date,ne=window.setTimeout,ie=window.clearTimeout;if(void 0!==console){var oe=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof oe&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof q&&"function"==typeof q.now)n.unstable_now=function(){return q.now()};else{var se=$.now();n.unstable_now=function(){return $.now()-se}}var le=!1,pe=null,he=-1,me=5,ge=0;y=function(){return n.unstable_now()>=ge},_=function(){},n.unstable_forceFrameRate=function(r){0>r||125<r?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):me=0<r?Math.floor(1e3/r):5};var ye=new MessageChannel,_e=ye.port2;ye.port1.onmessage=function(){if(null!==pe){var r=n.unstable_now();ge=r+me;try{pe(!0,r)?_e.postMessage(null):(le=!1,pe=null)}catch(r){throw _e.postMessage(null),r}}else le=!1},i=function(r){pe=r,le||(le=!0,_e.postMessage(null))},o=function(r,a){he=ne((function(){r(n.unstable_now())}),a)},s=function(){ie(he),he=-1}}function J(r,n){var a=r.length;r.push(n);e:for(;;){var i=a-1>>>1,o=r[i];if(!(void 0!==o&&0<K(o,n)))break e;r[i]=n,r[a]=o,a=i}}function L(r){return void 0===(r=r[0])?null:r}function M(r){var n=r[0];if(void 0!==n){var a=r.pop();if(a!==n){r[0]=a;e:for(var i=0,o=r.length;i<o;){var s=2*(i+1)-1,y=r[s],_=s+1,w=r[_];if(void 0!==y&&0>K(y,a))void 0!==w&&0>K(w,y)?(r[i]=w,r[_]=a,i=_):(r[i]=y,r[s]=a,i=s);else{if(!(void 0!==w&&0>K(w,a)))break e;r[i]=w,r[_]=a,i=_}}}return n}return null}function K(r,n){var a=r.sortIndex-n.sortIndex;return 0!==a?a:r.id-n.id}var ve=[],Se=[],we=1,Me=null,Te=3,Ae=!1,ke=!1,Re=!1;function V(r){for(var n=L(Se);null!==n;){if(null===n.callback)M(Se);else{if(!(n.startTime<=r))break;M(Se),n.sortIndex=n.expirationTime,J(ve,n)}n=L(Se)}}function W(r){if(Re=!1,V(r),!ke)if(null!==L(ve))ke=!0,i(X);else{var n=L(Se);null!==n&&o(W,n.startTime-r)}}function X(r,a){ke=!1,Re&&(Re=!1,s()),Ae=!0;var i=Te;try{for(V(a),Me=L(ve);null!==Me&&(!(Me.expirationTime>a)||r&&!y());){var _=Me.callback;if(null!==_){Me.callback=null,Te=Me.priorityLevel;var w=_(Me.expirationTime<=a);a=n.unstable_now(),"function"==typeof w?Me.callback=w:Me===L(ve)&&M(ve),V(a)}else M(ve);Me=L(ve)}if(null!==Me)var E=!0;else{var j=L(Se);null!==j&&o(W,j.startTime-a),E=!1}return E}finally{Me=null,Te=i,Ae=!1}}function Y(r){switch(r){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var Oe=_;n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(r){r.callback=null},n.unstable_continueExecution=function(){ke||Ae||(ke=!0,i(X))},n.unstable_getCurrentPriorityLevel=function(){return Te},n.unstable_getFirstCallbackNode=function(){return L(ve)},n.unstable_next=function(r){switch(Te){case 1:case 2:case 3:var n=3;break;default:n=Te}var a=Te;Te=n;try{return r()}finally{Te=a}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=Oe,n.unstable_runWithPriority=function(r,n){switch(r){case 1:case 2:case 3:case 4:case 5:break;default:r=3}var a=Te;Te=r;try{return n()}finally{Te=a}},n.unstable_scheduleCallback=function(r,a,y){var _=n.unstable_now();if("object"==typeof y&&null!==y){var w=y.delay;w="number"==typeof w&&0<w?_+w:_,y="number"==typeof y.timeout?y.timeout:Y(r)}else y=Y(r),w=_;return r={id:we++,callback:a,priorityLevel:r,startTime:w,expirationTime:y=w+y,sortIndex:-1},w>_?(r.sortIndex=w,J(Se,r),null===L(ve)&&r===L(Se)&&(Re?s():Re=!0,o(W,w-_))):(r.sortIndex=y,J(ve,r),ke||Ae||(ke=!0,i(X))),r},n.unstable_shouldYield=function(){var r=n.unstable_now();V(r);var a=L(ve);return a!==Me&&null!==Me&&null!==a&&null!==a.callback&&a.startTime<=r&&a.expirationTime<Me.expirationTime||y()},n.unstable_wrapCallback=function(r){var n=Te;return function(){var a=Te;Te=n;try{return r.apply(this,arguments)}finally{Te=a}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26),_=a(42);class TrackTargetComponent extends s.default{constructor(){super(...arguments),this.channel=0}}TrackTargetComponent.componentName="target",i([y.Property({inspectorOptions:{pattern:_.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],TrackTargetComponent.prototype,"channel",void 0),n.default=TrackTargetComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(37),w=a(40),E=a(41),j=a(151);class LerpTransformTargetSystem extends w.default{updateTick(r,n){for(let r=0,a=this.transformableGroup.length;r<a;r++){const a=this.transformableGroup.entities[r];a.node.position.distanceTo(a.lerpTransformTarget.target.position)>5?(a.node.position.copy(a.lerpTransformTarget.target.position),a.node.rotation.copy(a.lerpTransformTarget.target.rotation),a.node.skipInterpolate=!0):(a.node.position.lerp(a.lerpTransformTarget.target.position,20*n),a.node.rotation.slerp(a.lerpTransformTarget.target.rotation,20*n),a.node.skipInterpolate=!1)}}}LerpTransformTargetSystem.order=5,o([y.InjectGroup(E.default,j.default),s("design:type","function"==typeof(i=void 0!==_.default&&_.default)?i:Object)],LerpTransformTargetSystem.prototype,"transformableGroup",void 0),n.default=LerpTransformTargetSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(41),_=a(36),w=a(37),E=a(40),j=a(292);class RemoveAfterTicksSystem extends E.default{updateTick(r,n){for(let r=0;r<this.entityGroup.length;r++){const n=this.entityGroup.entities[r],a=n.removeAfterTicks.ticksLeft-1;a<=0?this.entityManager.remove(n):n.removeAfterTicks.ticksLeft=a}}}RemoveAfterTicksSystem.order=5,o([_.InjectGroup(y.default,j.default),s("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],RemoveAfterTicksSystem.prototype,"entityGroup",void 0),n.default=RemoveAfterTicksSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.GameKit=void 0,n.GameKit=class GameKit{constructor(){this.assetRules={}}static systems(){return[]}static importSystemsContext(r,n){r.keys().forEach(a=>{const i=r(a).default;n.push(i)})}getSystems(){return this.constructor.systems()}async preInit(){}async init(){await this.onInit()}async onInit(){}updateTick(r,n){}dispose(){}hotReloadGamekit(){}get name(){return this.constructor.name.toLowerCase()}}},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(24),_=a(26),w=a(19);class DieOnFallComponent extends y.default{constructor(){super(...arguments),this.currentFallDistance=0,this.fallHeight=50,this.checkGround=!0,this.lastPosition=new w.Vector3}}DieOnFallComponent.componentName="dieOnFall",o([_.Property(),s("design:type",Number)],DieOnFallComponent.prototype,"fallHeight",void 0),o([_.Property(),s("design:type",Boolean)],DieOnFallComponent.prototype,"checkGround",void 0),o([_.Property({inspector:!1}),s("design:type","function"==typeof(i=void 0!==w.Vector3&&w.Vector3)?i:Object)],DieOnFallComponent.prototype,"lastPosition",void 0),n.default=DieOnFallComponent},,function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(291),w=a(36),E=a(156),j=a(37),q=a(40),$=a(41),ne=a(20),ie=a(60),oe=a(19),se=a(607),le=new oe.Vector3(0,-1,0),pe=new oe.Vector3;class DieOnFallSystem extends q.default{constructor(){super(),this.zeroVec=new oe.Vector3(0,0,0),this.tmpRay=new ie.Ray,this.tmpRayCastRes=new ie.RayCastRes}updateTick(r,n){if(r%2!=0)for(let r=0;r<this.group.length;r++){const{node:n,dieOnFall:a}=this.group.entities[r],i=pe.copy(n.position).sub(a.lastPosition);a.lastPosition.copy(n.position),i.y>=0||a.checkGround&&(this.tmpRay.dirWS.copy(le),this.tmpRay.minDistWS=0,this.tmpRay.maxDistWS=1e3,this.tmpRay.originWS.copy(n.position),this.physicsSystem.rayCastSaneAPI(this.tmpRay,this.tmpRayCastRes),this.tmpRayCastRes.hit)?a.currentFallDistance=0:a.currentFallDistance>=a.fallHeight?(a.currentFallDistance=0,this.group.entities[r].health.isAlive&&(this.group.entities[r].health.damage(99999,_.DamageCause.FALL,this.zeroVec,0),this.entityManager.updateComponent(this.group.entities[r],_.default,{}))):a.currentFallDistance-=i.y}}}DieOnFallSystem.order=5,s([E.InjectSystem(()=>ne.default),y("design:type","function"==typeof(i=void 0!==ne.default&&ne.default)?i:Object)],DieOnFallSystem.prototype,"physicsSystem",void 0),s([w.InjectGroup($.default,_.default,se.default),y("design:type","function"==typeof(o=void 0!==j.default&&j.default)?o:Object)],DieOnFallSystem.prototype,"group",void 0),n.default=DieOnFallSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(40),_=a(41),w=a(611),E=a(65),j=a(36),q=a(37),$=a(8),ne=a(46),ie=a(291),oe=a(323);class HealthPickupSystem extends y.default{constructor(){super()}onInit(){this.healthPickupGroup.on("entityAdded",this.onEntityAdded,this),this.healthPickupGroup.on("collisionEnter",this.onCollisionEnter,this)}onEntityAdded(r){r.rigidBody&&this.entityManager.updateComponent(r,E.default,{physicality:ne.Physicality.GHOST})}onCollisionEnter(r,n){n.health&&n.health.hp<n.health.maxHealth&&(this.healthIncrement(r.healthPickup.hp,n),$.entityManager.remove(r),oe.playSoundSlow("pick_up_health"))}healthIncrement(r,n){n.health.addHealth(r),$.entityManager.updateComponent(n,ie.default,{})}}HealthPickupSystem.order=5,o([j.InjectGroup(_.default,w.default),s("design:type","function"==typeof(i=void 0!==q.default&&q.default)?i:Object)],HealthPickupSystem.prototype,"healthPickupGroup",void 0),n.default=HealthPickupSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26),_=a(42);class HealthPickupComponent extends s.default{constructor(){super(...arguments),this.enabled=!0,this.hp=100,this.activated=!0}}HealthPickupComponent.componentName="healthPickup",i([y.Property(),o("design:type",Boolean)],HealthPickupComponent.prototype,"enabled",void 0),i([y.Property({inspectorOptions:{pattern:_.patterns.floatPositiveNotEmpty,minValue:0}}),o("design:type",Number)],HealthPickupComponent.prototype,"hp",void 0),i([y.Property({inspector:!1}),o("design:type",Boolean)],HealthPickupComponent.prototype,"activated",void 0),n.default=HealthPickupComponent},,function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(156),_=a(40),w=a(364);class ToolSystemBase extends _.default{constructor(){super(...arguments),this.name="<ToolName>",this.isEquipped=!1}onInit(){this.toolSystem.registerTool(this)}onEquip(r){}onEquip2(r,n){}onUnEquip(){}unEquip(){this.isEquipped=!1,this.onUnEquip()}equip(r){this.isEquipped=!0,this.onEquip(r)}onDispose(){this.unEquip()}}o([y.InjectSystem(r=>w.default),s("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],ToolSystemBase.prototype,"toolSystem",void 0),n.default=ToolSystemBase},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(615),w=a(36),E=a(156),j=a(37),q=a(40),$=a(288),ne=a(155),ie=a(23),oe=a(41),se=a(335),le=a(46),pe=a(65),he=a(337),me=a(172),ge=a(19);class TempShooterSystem extends q.default{constructor(){super(...arguments),this.tmpVec1=new ge.Vector3,this.tmpVec2=new ge.Vector3}updateTick(r,n){const a=this.entityManager.getOrCreateSingleton($.InputState).latestSnapshot();for(const r of this.playerGroup.entities)a.action2.isDown()&&this.shootGone()}shootGone(){const r=this.playerGroup.entities[0];if(!r)return;const n=this.tmpVec1.copy(r.node.position),a=this.tmpVec2.copy(r.playerControl.lookDirection);a.multiplyScalar(.5),n.add(a),n.y+=.6,this.createShot(n,r.playerControl.lookDirection,6e3,r.characterController.velocity),this.audioSystem.playMixedSoundSlow(["swosh1","swosh2"],{volume:.2})}createShot(r,n,a,i){const o=this.entityManager.create();this.entityManager.addComponentSlow(o,oe.default,{scale:{x:.3,y:.3,z:.3},position:r}),this.entityManager.addComponentSlow(o,me.default,{geometry:"sphere"}),this.entityManager.addComponentSlow(o,ie.default,{material:"T_steel_01"}),this.entityManager.addComponentSlow(o,pe.default,{physicality:le.Physicality.DYNAMIC,mask:0,ccd:!0}),this.entityManager.addComponentSlow(o,_.default,{});const s=this.tmpVec1.copy(n).multiplyScalar(a);return o.rigidBody.applyCentralImpulse(s),o}}s([w.InjectGroup(oe.default,se.default,he.default),y("design:type","function"==typeof(i=void 0!==j.default&&j.default)?i:Object)],TempShooterSystem.prototype,"playerGroup",void 0),s([E.InjectSystem(r=>ne.default),y("design:type","function"==typeof(o=void 0!==ne.default&&ne.default)?o:Object)],TempShooterSystem.prototype,"audioSystem",void 0),n.default=TempShooterSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class ProjectileComponent extends s.default{constructor(){super(...arguments),this.lived=0,this.damage=50,this.explode=!0,this.canDamageAvatar=!0,this.lifespan=4}}ProjectileComponent.componentName="projectile",i([y.Property(),o("design:type",Number)],ProjectileComponent.prototype,"lived",void 0),i([y.Property(),o("design:type",Number)],ProjectileComponent.prototype,"damage",void 0),i([y.Property(),o("design:type",Boolean)],ProjectileComponent.prototype,"explode",void 0),i([y.Property(),o("design:type",Boolean)],ProjectileComponent.prototype,"canDamageAvatar",void 0),i([y.Property(),o("design:type",Number)],ProjectileComponent.prototype,"lifespan",void 0),n.default=ProjectileComponent},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(36),w=a(37),E=a(40),j=a(18),q=a(41),$=a(335),ne=a(337),ie=a(501),oe=a(19);class SpawnPointSystem extends E.default{constructor(){super(),this.tmpTransform=new q.Transform}spawnEntities(){var r,n;if(!this.spawnPointGroup.length)return;const a=this.spawnPointGroup.entities[0].node.getAbsoluteTransform(this.tmpTransform),i=j.default.getRoll(a.rotation);for(const o of this.playerGroup){o.node.position.copy(a.position),o.node.rotation.setFromAxisAngle(new oe.Vector3(0,1,0),i+1*Math.PI),o.node.isDirty=!0;const{playerControl:s}=o;s.setLookDirectionFromLongitudeLatitude(180/Math.PI*-i-90,0),null===(r=o.characterController.object)||void 0===r||r.setPosition(a.position),o.characterController.velocity.set(0,0,0),o.characterController.localVelocity.set(0,0,0),null===(n=o.characterController.object)||void 0===n||n.setVelocity(o.characterController.localVelocity),o.health&&o.health.restoreToFullHealth()}}}SpawnPointSystem.order=5,s([_.InjectGroup(q.default,$.default,ne.default),y("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],SpawnPointSystem.prototype,"playerGroup",void 0),s([_.InjectGroup(q.default,ie.default),y("design:type","function"==typeof(o=void 0!==w.default&&w.default)?o:Object)],SpawnPointSystem.prototype,"spawnPointGroup",void 0),n.default=SpawnPointSystem},function(r,n,a){var i={"./accelerationVolume/AccelerationVolumeSystem.ts":618,"./airfloat/AirFloatSystem.ts":620,"./boosterPlate/BoosterPlateSystem.ts":623,"./checkpoint/CheckpointSystem.ts":625,"./collideDamage/CollideDamageSystem.ts":626,"./deathVolume/DeathVolumeSystem.ts":628,"./destructible/DestructibleSystem.ts":630,"./explosion/ExplosionSystem.ts":632,"./finishLine/FinishLineSystem.ts":475,"./fireworks/ExplodeExplosivesSystem.ts":633,"./fireworks/TriggerFireworksSystem.ts":636,"./fireworks/TriggerNearbyExplosivesSystem.ts":638,"./fireworks/TriggerProximitySensorSystem.ts":639,"./health/HealthSystem.ts":641,"./healthUI/HealthUISystem.ts":642,"./invisible/InvisibleSystem.ts":643,"./launchPad/LaunchPadSystem.ts":645,"./legacy/LegacyAllGemsCollectedTriggerSystem.ts":647,"./legacy/LegacyGemSystem.ts":474,"./legacy/LegacyVolumeTriggerSystem.ts":649,"./move/MoveSystem.ts":651,"./playSoundTrigger/PlaySoundTriggerSystem.ts":658,"./powerUp/CharacterPowerUpSystem.ts":660,"./powerUp/PowerUpSystem.ts":662,"./projectile/ProjectileSystem.ts":664,"./projectileTrap/MissileSystem.ts":665,"./projectileTrap/ProjectileTrapSystem.ts":667,"./pulsatingLight/PulsatingLightSystem.ts":670,"./roll/RollSystem.ts":672,"./rollingPet/RollingPetSystem.ts":674,"./rotate/RotateSystem.ts":676,"./rotateTest/RotateTestSystem.ts":678,"./shooter/ShooterSystem.ts":680,"./spawner/ObjectSpawnerSystem.ts":682,"./statusEffects/StatusEffectSystem.ts":411,"./teleport/TeleporterSystem.ts":685,"./track/TrackSystem.ts":688,"./traits/UpdateTraitsSystem.ts":690,"./trampoline/TrampolineSystem.ts":691};function webpackContext(r){var n=webpackContextResolve(r);return a(n)}function webpackContextResolve(r){if(!a.o(i,r)){var n=Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}return i[r]}webpackContext.keys=function webpackContextKeys(){return Object.keys(i)},webpackContext.resolve=webpackContextResolve,r.exports=webpackContext,webpackContext.id=617},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(37),w=a(40),E=a(41),j=a(65),q=a(19),$=a(619),ne=a(45);class AccelerationVolumeSystem extends w.default{constructor(){super(...arguments),this.tmpVec1=new q.Vector3,this.tmpVec2=new q.Vector3,this.tmpVec3=new q.Vector3,this.tmpVec4=new q.Vector3,this.tmpVec5=new q.Vector3,this.tmpTransform1=new E.Transform,this.tmpTransform2=new E.Transform}onInit(){this.gravGroup.on("collisionEnter",this.handleCollisionEnter,this),this.gravGroup.on("collisionStay",this.handleCollisionStay,this),this.gravGroup.on("collisionLeave",this.handleCollisionLeave,this)}handleCollisionEnter(r,n){n.characterController&&n.characterController.object&&(n.characterController.gravity.copy(r.accelerationVolume.gravity),n.characterController.object.updateGravity())}handleCollisionLeave(r,n){n.characterController&&n.characterController.object&&(n.characterController.gravity.set(0,ne.DEFAULT_GRAVITY,0),n.characterController.object.updateGravity())}handleCollisionStay(r,n,a){n.characterController&&this.applyForceCharacterController(r,n,a)}applyForceCharacterController(r,n,a){if(!n.characterController)return;const i=r.node.getAbsoluteTransform(this.tmpTransform1),o=n.node.getAbsoluteTransform(this.tmpTransform2),s=r.accelerationVolume;s.direction.normalize();const y=this.tmpVec5.copy(s.direction).applyQuaternion(i.rotation);s.invertDirection&&y.negate();const _=this.tmpVec4.copy(y).multiplyScalar(s.force*a);if(s.moveTowardsCenter){const r=this.tmpVec1.copy(y).multiplyScalar(999999).negate().add(i.position),n=this.tmpVec2.copy(o.position).sub(r).dot(y),s=r.add(this.tmpVec2.copy(y).multiplyScalar(n)),w=s.distanceTo(o.position),E=this.tmpVec3.copy(s).sub(o.position).normalize().multiplyScalar(20*w*a);_.add(E)}n.characterController&&n.characterController.applyCentralForce(_)}}AccelerationVolumeSystem.order=5,o([y.InjectGroup(E.default,j.default,$.default),s("design:type","function"==typeof(i=void 0!==_.default&&_.default)?i:Object)],AccelerationVolumeSystem.prototype,"gravGroup",void 0),n.default=AccelerationVolumeSystem},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(24),w=a(26),E=a(19);class AccelerationVolumeComponent extends _.default{constructor(){super(...arguments),this.force=50,this.invertDirection=!1,this.moveTowardsCenter=!0,this.direction=new E.Vector3(0,1,0),this.gravity=new E.Vector3(0,0,0)}}AccelerationVolumeComponent.componentName="accelerationVolume",s([w.Property(),y("design:type",Number)],AccelerationVolumeComponent.prototype,"force",void 0),s([w.Property(),y("design:type",Boolean)],AccelerationVolumeComponent.prototype,"invertDirection",void 0),s([w.Property(),y("design:type",Boolean)],AccelerationVolumeComponent.prototype,"moveTowardsCenter",void 0),s([w.Property({advanced:!0}),y("design:type","function"==typeof(i=void 0!==E.Vector3&&E.Vector3)?i:Object)],AccelerationVolumeComponent.prototype,"direction",void 0),s([w.Property({advanced:!0}),y("design:type","function"==typeof(o=void 0!==E.Vector3&&E.Vector3)?o:Object)],AccelerationVolumeComponent.prototype,"gravity",void 0),n.default=AccelerationVolumeComponent},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(603),w=a(621),E=a(36),j=a(37),q=a(40),$=a(41),ne=a(171),ie=a(46),oe=a(65),se=a(19),le=a(622);class AirFloatSystem extends q.default{constructor(){super(),this.nextRaycastRangeIdx=0,this.MAX_RAYCASTS_PER_TICK=6,this.tmpVec1=new se.Vector3,this.tmpVec2=new se.Vector3}onInit(){this.airfloatGroup.on("entityAdded",this.onEntityAdded,this)}onEntityAdded(r){r.rigidBody&&this.entityManager.updateComponent(r,oe.default,{physicality:ie.Physicality.KINEMATIC}),r.traits&&this.entityManager.updateComponent(r,w.default,{physicality:ie.Physicality.KINEMATIC})}updateTick(r,n){const a=this.entityManager.getSystem(ne.default);for(let r=0;r<this.airfloatGroup.length;r++){const i=this.airfloatGroup.entities[r],{node:o,airfloat:s}=i;if(!s.enabled)continue;const y=Math.max(o.scale.x,o.scale.y,o.scale.z),_=Math.sqrt(2*y*y);s.time+=n;const[w,E]=this.findTarget(i);if(!w||E>s.maxDistance*s.maxDistance){s.velocity.set(0,0,0);continue}const j=Math.sin(s.time*s.speed*s.randomSpeed+s.phase)*s.distance*s.randomSpeed,q=Math.sin(s.time*s.speed*s.randomSpeed+.1*s.phase)*s.distance*s.randomSpeed,$=w.object.position.y+1,ne=E>s.minDistance*s.minDistance+y?-1:1;this.tmpVec1.subVectors(o.position,w.position),this.tmpVec1.multiplyScalar(ne),o.position.y<$&&(this.tmpVec1.y+=.1*s.speed),this.tmpVec1.x+=j,this.tmpVec1.y+=j,this.tmpVec1.z+=q;const ie=this.tmpVec1.normalize(),oe=this.tmpVec2.copy(s.velocity).normalize(),se=s.velocity.dot(ie);let le=n*s.speed;if(se+le>s.maxSpeed&&(le=Math.max(s.maxSpeed-se,0)),s.velocity.add(this.tmpVec1.multiplyScalar(le)),this.nextRaycastRangeIdx<=r&&r<this.nextRaycastRangeIdx+this.MAX_RAYCASTS_PER_TICK){const r=a.intersectsRay(o.object.position,oe,!1);for(const a of r){if(a.distance>_+.25)break;{const r=this.tmpVec1.copy(o.position).sub(a.object.position).normalize();s.velocity.sub(this.tmpVec2.copy(r).multiplyScalar(r.dot(s.velocity)))}{const r=this.tmpVec1.copy(o.position).sub(a.object.position).normalize();s.velocity.add(r.multiplyScalar(50*n))}}}this.nextRaycastRangeIdx+=this.MAX_RAYCASTS_PER_TICK,this.nextRaycastRangeIdx>=this.airfloatGroup.length&&(this.nextRaycastRangeIdx=0),this.tmpVec1.copy(s.velocity).multiplyScalar(n),o.position.add(this.tmpVec1)}}findTarget(r){const{node:n,airfloat:a}=r;let i=null,o=Number.MAX_SAFE_INTEGER;for(let s=0;s<this.targetGroup.length;s++){const y=this.targetGroup.entities[s],{node:_,target:w}=y;if(!w.enabled)continue;if(r.uid===y.uid)continue;if(a.channel!==w.channel)continue;const E=_.position.distanceToSquared(n.position);E<o&&(i=_,o=E)}return[i,o]}}AirFloatSystem.order=5,s([E.InjectGroup($.default,le.default),y("design:type","function"==typeof(i=void 0!==j.default&&j.default)?i:Object)],AirFloatSystem.prototype,"airfloatGroup",void 0),s([E.InjectGroup($.default,_.default),y("design:type","function"==typeof(o=void 0!==j.default&&j.default)?o:Object)],AirFloatSystem.prototype,"targetGroup",void 0),n.default=AirFloatSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(24),_=a(26),w=a(46),E=a(66).default.traitsDisplayName;class TraitsComponent extends y.default{constructor(){super(...arguments),this.physicality=w.Physicality.STATIC}}TraitsComponent.componentName="traits",TraitsComponent.displayName=E,o([_.Property({inspector:"Select",inspectorOptions:{displayName:"Type",enum:w.Physicality}}),s("design:type","function"==typeof(i=void 0!==w.Physicality&&w.Physicality)?i:Object)],TraitsComponent.prototype,"physicality",void 0),n.default=TraitsComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(24),_=a(26),w=a(19),E=a(42);class AirFloatComponent extends y.default{constructor(){super(...arguments),this.velocity=new w.Vector3,this.phase=0,this.enabled=!0,this.minDistance=0,this.maxDistance=50,this.channel=0,this.distance=.01,this.speed=2,this.maxSpeed=8,this.randomSpeed=.02,this.time=0}}AirFloatComponent.componentName="airfloat",o([_.Property({inspector:!1}),s("design:type","function"==typeof(i=void 0!==w.Vector3&&w.Vector3)?i:Object)],AirFloatComponent.prototype,"velocity",void 0),o([_.Property({inspector:!1}),s("design:type",Number)],AirFloatComponent.prototype,"phase",void 0),o([_.Property(),s("design:type",Boolean)],AirFloatComponent.prototype,"enabled",void 0),o([_.Property({inspectorOptions:{pattern:E.patterns.floatPositiveNotEmpty,minValue:0,maxValue:50}}),s("design:type",Number)],AirFloatComponent.prototype,"minDistance",void 0),o([_.Property({inspectorOptions:{pattern:E.patterns.floatPositiveNotEmpty,minValue:0,maxValue:50}}),s("design:type",Number)],AirFloatComponent.prototype,"maxDistance",void 0),o([_.Property({inspectorOptions:{pattern:E.patterns.floatPositiveNotEmpty,minValue:0}}),s("design:type",Number)],AirFloatComponent.prototype,"channel",void 0),o([_.Property({advanced:!0}),s("design:type",Number)],AirFloatComponent.prototype,"distance",void 0),o([_.Property({advanced:!0}),s("design:type",Number)],AirFloatComponent.prototype,"speed",void 0),o([_.Property({advanced:!1}),s("design:type",Number)],AirFloatComponent.prototype,"maxSpeed",void 0),o([_.Property({inspector:!1}),s("design:type",Number)],AirFloatComponent.prototype,"randomSpeed",void 0),o([_.Property({inspector:!1}),s("design:type",Number)],AirFloatComponent.prototype,"time",void 0),n.default=AirFloatComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(37),w=a(40),E=a(41),j=a(65),q=a(624),$=a(19);class BoosterPlateSystem extends w.default{constructor(){super(...arguments),this.dirWS=new $.Vector3,this.forwardDir=new $.Vector3(0,0,-1),this.tmpTransform=new E.Transform}onInit(){this.group.on("collisionEnter",this.handleCollisionEnter,this),this.group.on("collisionStay",this.handleCollisionStay,this)}handleCollisionEnter(r,n){}handleCollisionStay(r,n,a){n.characterController&&this.applyForceOnCharacterController(r,n,a)}applyForceOnCharacterController(r,n,a){const i=n.characterController,o=r.boosterPlate,s=r.node;if(!i)return;const y=s.getAbsoluteTransform(this.tmpTransform);this.dirWS.set(0,0,0),this.dirWS.copy(this.forwardDir).applyQuaternion(y.rotation);const _=i.velocity.length();let w=o.force;_>o.maxSpeed&&(w/=_);const E=this.dirWS.multiplyScalar(a*w);i.applyCentralForce(E)}}BoosterPlateSystem.order=5,o([y.InjectGroup(E.default,j.default,q.default),s("design:type","function"==typeof(i=void 0!==_.default&&_.default)?i:Object)],BoosterPlateSystem.prototype,"group",void 0),n.default=BoosterPlateSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class BoosterPlateComponent extends s.default{constructor(){super(...arguments),this.force=400,this.maxSpeed=15}}BoosterPlateComponent.componentName="boosterPlate",i([y.Property({inspector:"Range",inspectorOptions:{min:50,max:400,step:1}}),o("design:type",Number)],BoosterPlateComponent.prototype,"force",void 0),i([y.Property({inspector:"Range",inspectorOptions:{min:1,max:25,step:1}}),o("design:type",Number)],BoosterPlateComponent.prototype,"maxSpeed",void 0),n.default=BoosterPlateComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(37),w=a(40),E=a(8),j=a(155),q=a(41),$=a(403),ne=a(65),ie=a(481),oe=a(322),se=a(482);class CheckpointSystem extends w.default{constructor(){super()}onInit(){this.checkpointGroup.on("collisionEnter",this.handleActivation,this)}handleActivation(r,n){n.playerControl&&!r.checkpoint.activated&&(n.health&&n.health.hp<=0||(r.checkpoint.activated=!0,this.entityManager.getSystem(j.default).playPositionalSound("success_low",r.node.position),this.entityManager.getSystem($.default).playEffect("explosion",r.node.position),E.entityManager.emit("checkpointActivated"),ie.PlatformerTrack.gameCheckpointReached(this.entityManager),oe.GASend("game_v2","entered_checkpoint","",1)))}resetAll(){for(let r=0;r<this.checkpointGroup.length;r++){const{checkpoint:n}=this.checkpointGroup.entities[r];n.activated=!1}}}CheckpointSystem.order=5,o([y.InjectGroup(q.default,ne.default,se.default),s("design:type","function"==typeof(i=void 0!==_.default&&_.default)?i:Object)],CheckpointSystem.prototype,"checkpointGroup",void 0),n.default=CheckpointSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(291),_=a(36),w=a(37),E=a(40),j=a(65),q=a(627),$=a(19);class CollideDamageSystem extends E.default{constructor(){super(...arguments),this.zeroVec=new $.Vector3(0,0,0)}onInit(){this.collidedDamageGroup.on("collisionEnter",this.handleStartColliding,this),this.collidedDamageGroup.on("collisionStay",this.handleColliding,this)}doDamage(r,n,a){const{collideDamage:i}=r;i.time+=a,i.time>=i.damageTickInterval&&i.damage>0&&(i.time=0,n.health.damage(i.damage*i.damageTickInterval,y.DamageCause.COLLIDE_DAMAGE,this.zeroVec,r.uid),this.entityManager.updateComponent(n,y.default,{}))}handleColliding(r,n,a){n.health&&this.doDamage(r,n,a)}handleStartColliding(r,n,a){const{collideDamage:i,health:o}=r;n.health&&i.damage>0&&i.enabled&&(n.health.damage(i.damage,y.DamageCause.COLLIDE_DAMAGE,this.zeroVec,r.uid),this.entityManager.updateComponent(n,y.default,{})),i.selfDamage&&o&&i.enabled&&(o.damage(i.selfDamage,y.DamageCause.COLLIDE_DAMAGE,this.zeroVec,n.uid),this.entityManager.updateComponent(r,y.default,{}))}}CollideDamageSystem.order=5,o([_.InjectGroup(j.default,q.default),s("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],CollideDamageSystem.prototype,"collidedDamageGroup",void 0),n.default=CollideDamageSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26),_=a(42);class CollideDamageComponent extends s.default{constructor(){super(...arguments),this.avatarOnly=!0,this.damage=50,this.selfDamage=0,this.damageTickInterval=1,this.time=0}}CollideDamageComponent.componentName="collideDamage",i([y.Property(),o("design:type",Boolean)],CollideDamageComponent.prototype,"avatarOnly",void 0),i([y.Property({inspectorOptions:{pattern:_.patterns.floatPositiveNotEmpty,minValue:0}}),o("design:type",Number)],CollideDamageComponent.prototype,"damage",void 0),i([y.Property({inspectorOptions:{pattern:_.patterns.floatPositiveNotEmpty,minValue:0}}),o("design:type",Number)],CollideDamageComponent.prototype,"selfDamage",void 0),i([y.Property({inspectorOptions:{pattern:_.patterns.floatPositiveNotEmpty,minValue:1}}),o("design:type",Number)],CollideDamageComponent.prototype,"damageTickInterval",void 0),i([y.Property({inspector:!1}),o("design:type",Number)],CollideDamageComponent.prototype,"time",void 0),n.default=CollideDamageComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(291),_=a(36),w=a(37),E=a(40),j=a(41),q=a(65),$=a(629),ne=a(19);class DeathVolumeSystem extends E.default{constructor(){super(),this.zeroVec=new ne.Vector3(0,0,0)}onInit(){this.group.on("collisionEnter",this.handleDamage,this),this.group.on("collisionStay",this.handleTickDamage,this)}doDamage(r,n,a){const{deathVolume:i}=r;i.time+=a,i.time>=i.damageTickInterval&&(i.time=0,n.health.damage(i.dps*i.damageTickInterval,y.DamageCause.DEATH_VOLUME,this.zeroVec,r.uid),this.entityManager.updateComponent(n,y.default,{}))}handleDamage(r,n){n.health&&this.doDamage(r,n,999999)}handleTickDamage(r,n,a){n.health&&this.doDamage(r,n,a)}}DeathVolumeSystem.order=5,o([_.InjectGroup(j.default,q.default,$.default),s("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],DeathVolumeSystem.prototype,"group",void 0),n.default=DeathVolumeSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class DeathVolumeComponent extends s.default{constructor(){super(...arguments),this.dps=50,this.damageTickInterval=1,this.time=0}}DeathVolumeComponent.componentName="deathVolume",i([y.Property(),o("design:type",Number)],DeathVolumeComponent.prototype,"dps",void 0),i([y.Property(),o("design:type",Number)],DeathVolumeComponent.prototype,"damageTickInterval",void 0),i([y.Property({inspector:!1}),o("design:type",Number)],DeathVolumeComponent.prototype,"time",void 0),n.default=DeathVolumeComponent},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const w=a(291),E=a(36),j=a(156),q=a(37),$=a(40),ne=a(155),ie=a(41),oe=a(403),se=a(631);class DestructibleSystem extends $.default{constructor(){super(...arguments),this.tmpTransform=new ie.Transform}onInit(){this.group.on("entityUpdated",this.handleEntityUpdated,this)}checkDestroyed(r){const{node:n,health:a,destructible:i}=r;if(a.hp>0||!i.enabled)return;i.enabled=!1;const o=n.getAbsoluteTransform(this.tmpTransform).position;this.legacyParticleSystem.playEffect(i.soundDestruction,o),this.audioSystem.playPositionalSound(i.soundDestruction,o,i.soundDestructionVolume,1,.2),this.entityManager.removeDeffered(r)}handleEntityUpdated(r){this.checkDestroyed(r)}}DestructibleSystem.order=901,y([E.InjectGroup(w.default,se.default),_("design:type","function"==typeof(i=void 0!==q.default&&q.default)?i:Object)],DestructibleSystem.prototype,"group",void 0),y([j.InjectSystem(r=>oe.default),_("design:type","function"==typeof(o=void 0!==oe.default&&oe.default)?o:Object)],DestructibleSystem.prototype,"legacyParticleSystem",void 0),y([j.InjectSystem(r=>ne.default),_("design:type","function"==typeof(s=void 0!==ne.default&&ne.default)?s:Object)],DestructibleSystem.prototype,"audioSystem",void 0),n.default=DestructibleSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class DestructibleComponent extends s.default{constructor(){super(...arguments),this.soundDestruction="explosion",this.soundDestructionVolume=.5}}DestructibleComponent.componentName="destructible",i([y.Property({inspector:"Sound"}),o("design:type",String)],DestructibleComponent.prototype,"soundDestruction",void 0),i([y.Property({inspector:"Range",inspectorOptions:{min:0,max:1,step:.01}}),o("design:type",Number)],DestructibleComponent.prototype,"soundDestructionVolume",void 0),n.default=DestructibleComponent},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(40);class ExplosionSystem extends i.default{}ExplosionSystem.order=5,n.default=ExplosionSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(37),w=a(40),E=a(155),j=a(169),q=a(41),$=a(634),ne=a(635);class ExplodeExplosivesSystem extends w.default{updateTick(r,n){for(let r=0;r<this.explosivesGroup.length;r++){const n=this.explosivesGroup.entities[r];n.triggerable.triggeredJustNow&&(n.explosive.explode=!0,this.entityManager.getSystem(E.default).playPositionalSound("explosion",n.node.position,j.AUDIO_DEFAULT_VOLUME,3))}}}ExplodeExplosivesSystem.order=51,o([y.InjectGroup(q.default,ne.default,$.default),s("design:type","function"==typeof(i=void 0!==_.default&&_.default)?i:Object)],ExplodeExplosivesSystem.prototype,"explosivesGroup",void 0),n.default=ExplodeExplosivesSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class ExplosiveComponent extends s.default{constructor(){super(...arguments),this.blastRadius=2.45,this.explodeTime=10,this.explode=!1,this.hasExploded=!1,this.destroyOnExplosion=!0,this.currentExplodeTime=0}}ExplosiveComponent.componentName="explosive",i([y.Property(),o("design:type",Object)],ExplosiveComponent.prototype,"blastRadius",void 0),i([y.Property({inspector:!1}),o("design:type",Object)],ExplosiveComponent.prototype,"explode",void 0),i([y.Property({inspector:!1}),o("design:type",Object)],ExplosiveComponent.prototype,"hasExploded",void 0),i([y.Property({inspector:!1}),o("design:type",Object)],ExplosiveComponent.prototype,"destroyOnExplosion",void 0),n.default=ExplosiveComponent},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class TriggerableComponent extends s.default{constructor(){super(...arguments),this.triggeredJustNow=!1,this.isTriggered=!1}trigger(){this.triggeredJustNow=!0,this.isTriggered=!0}}TriggerableComponent.componentName="triggerable",i([y.Property({inspector:!1}),o("design:type",Object)],TriggerableComponent.prototype,"triggeredJustNow",void 0),i([y.Property({inspector:!1}),o("design:type",Object)],TriggerableComponent.prototype,"isTriggered",void 0),n.default=TriggerableComponent},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(36),w=a(37),E=a(40),j=a(637),q=a(635),$=a(41),ne=a(172),ie=a(23),oe=new $.Transform;class ParticlePool{constructor(r){this.poolIndex=0,this.particlePool=r}get(){const r=this.particlePool[this.poolIndex];return this.poolIndex+=1,this.poolIndex>this.particlePool.length-1&&(this.poolIndex=0),r}}class TriggerFireworksSystem extends E.default{constructor(){super(...arguments),this.particlesPerEmitter=new Map,this.particlesPerMaterial=new Map}updateTick(r,n){for(let r=0;r<this.triggerableFireworkGroup.length;r++){const n=this.triggerableFireworkGroup.entities[r];if(n.triggerable.triggeredJustNow){const r=this.entityManager.time;for(let a=0;a<n.fireworkEmitter.nOfParticles;a++){const i=this.particlesPerMaterial.get(n.fireworkEmitter.particleEffectMaterial);i&&this.triggerParticle(n,a,r,i)}n.triggerable.triggeredJustNow=!1}}}onInit(){this.fireworkGroup.on("entityAdded",this.onFireworkAdded,this);for(let r=0;r<this.triggerableFireworkGroup.length;r++){const n=this.triggerableFireworkGroup.entities[r],a=n.fireworkEmitter.particleEffectMaterial;if(!this.particlesPerMaterial.has(a)){const r=Array(400);for(let i=0;i<r.length;i++)r[i]=this.createTriggeredParticle(n,i,a);this.particlesPerMaterial.set(n.fireworkEmitter.particleEffectMaterial,new ParticlePool(r))}}}onFireworkAdded(r){this.entityManager.hasComponent(r,q.default)||this.loadParticlesForEmitter(r)}triggerParticle(r,n,a,i){const o=i.get();o.node.scale.y=a,o.node.scale.z=n,o.node.position.copy(r.node.position)}createTriggeredParticle(r,n,a){const i=this.entityManager.create();this.entityManager.addComponentBegin(i,ne.default).geometry="plane";const o=this.entityManager.addComponentBegin(i,ie.default);o.material=a,o.opacity=0,o.uvType=0,o.color=r.material.color,o.colorStrength=r.material.colorStrength,r.fireworkEmitter.blendMode==ie.BlendingMode.AdditiveBlending&&n%4!=0?i.material.blending=ie.BlendingMode.AdditiveBlending:i.material.blending=ie.BlendingMode.NoBlending;const s=this.entityManager.addComponentBegin(i,$.default);return oe.scale.x=1,oe.scale.y=9999999,s.initializeTransform(oe),this.entityManager.addComponentFinalize(),i}loadParticlesForEmitter(r){r.node.getAbsoluteTransform(oe);const n=[...Array(r.fireworkEmitter.nOfParticles).keys()].map(n=>{const a=this.entityManager.create();this.entityManager.addComponentBegin(a,ne.default).geometry="plane";const i=this.entityManager.addComponentBegin(a,ie.default);i.material=r.fireworkEmitter.particleEffectMaterial,i.opacity=.9,i.uvType=0,i.color.copy(r.material.color),i.colorStrength=r.material.colorStrength,r.fireworkEmitter.blendMode==ie.BlendingMode.AdditiveBlending&&n%4!=0?i.blending=ie.BlendingMode.AdditiveBlending:i.blending=ie.BlendingMode.NoBlending;const o=this.entityManager.addComponentBegin(a,$.default);return oe.scale.x=1,oe.scale.y=-1,oe.scale.z=n,o.initializeTransform(oe),this.entityManager.addComponentFinalize(),a});this.particlesPerEmitter.set(r.uid,n)}}TriggerFireworksSystem.order=53,s([_.InjectGroup($.default,q.default,j.default),y("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],TriggerFireworksSystem.prototype,"triggerableFireworkGroup",void 0),s([_.InjectGroup($.default,j.default),y("design:type","function"==typeof(o=void 0!==w.default&&w.default)?o:Object)],TriggerFireworksSystem.prototype,"fireworkGroup",void 0),n.default=TriggerFireworksSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(24),_=a(26),w=a(23);class FireworkEmitterComponent extends y.default{constructor(){super(...arguments),this.particleEffectMaterial="particle_firework",this.nOfParticles=15,this.blendMode=w.BlendingMode.AdditiveBlending}}FireworkEmitterComponent.componentName="fireworkEmitter",o([_.Property(),s("design:type",String)],FireworkEmitterComponent.prototype,"particleEffectMaterial",void 0),o([_.Property(),s("design:type",Number)],FireworkEmitterComponent.prototype,"nOfParticles",void 0),o([_.Property(),s("design:type","function"==typeof(i=void 0!==w.BlendingMode&&w.BlendingMode)?i:Object)],FireworkEmitterComponent.prototype,"blendMode",void 0),n.default=FireworkEmitterComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(37),w=a(40),E=a(41),j=a(634),q=a(635);class TriggerNearbyExplosivesSystem extends w.default{updateTick(r,n){if(r%6!=0)return;let a=0;for(let r=0;r<this.explosivesGroup.length;r++){const n=this.explosivesGroup.entities[r];if(n.explosive.explode&&!n.explosive.hasExploded&&(this.explodeNearbyExplosives(n),n.node.scale.x+=.2,n.node.scale.y+=.2,n.node.scale.z+=.2,n.explosive.hasExploded=!0,n.explosive.destroyOnExplosion&&this.entityManager.remove(n),a++>4))return}}explodeNearbyExplosives(r){for(let n=0;n<this.explosivesGroup.entities.length;n++){const a=this.explosivesGroup.entities[n];if(a.explosive.explode||a.explosive.hasExploded)continue;const i=new E.Transform,o=new E.Transform;r.node.getAbsoluteTransform(i),a.node.getAbsoluteTransform(o),i.position.distanceToSquared(o.position)<r.explosive.blastRadius*r.explosive.blastRadius&&(a.explosive.explode=!0,a.explosive.hasExploded=!1,a.explosive.currentExplodeTime=a.explosive.explodeTime,a.triggerable.trigger())}}}TriggerNearbyExplosivesSystem.order=52,o([y.InjectGroup(E.default,q.default,j.default),s("design:type","function"==typeof(i=void 0!==_.default&&_.default)?i:Object)],TriggerNearbyExplosivesSystem.prototype,"explosivesGroup",void 0),n.default=TriggerNearbyExplosivesSystem},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(36),w=a(37),E=a(40),j=a(197),q=a(41),$=a(635),ne=a(640);class TrigerProximitySensorSystem extends E.default{updateTick(r,n){for(let r=0;r<this.proximitySensorGroup.length;r++){const n=this.proximitySensorGroup.entities[r],a=this.isPlayerWithinDistance(n.node.position,n.proximitySensor.radius),i=n.triggerable.isTriggered;a&&(n.triggerable.triggeredJustNow=!i,n.triggerable.isTriggered=!0),a||(n.triggerable.isTriggered=!1,n.triggerable.triggeredJustNow=!1)}}isPlayerWithinDistance(r,n){return this.closestDistanceToPlayer(r)<n*n}closestDistanceToPlayer(r){let n=Number.MAX_SAFE_INTEGER;for(let a=0;a<this.playerGroup.length;a++){const{node:i}=this.playerGroup.entities[a],o=i.position.distanceToSquared(r);o<n&&(n=o)}return n}}TrigerProximitySensorSystem.order=50,s([_.InjectGroup(q.default,$.default,ne.default),y("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],TrigerProximitySensorSystem.prototype,"proximitySensorGroup",void 0),s([_.InjectGroup(q.default,j.default),y("design:type","function"==typeof(o=void 0!==w.default&&w.default)?o:Object)],TrigerProximitySensorSystem.prototype,"playerGroup",void 0),n.default=TrigerProximitySensorSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class ProximitySensorComponent extends s.default{constructor(){super(...arguments),this.radius=6,this.reactToGhosts=!1}}ProximitySensorComponent.componentName="proximitySensor",i([y.Property(),o("design:type",Number)],ProximitySensorComponent.prototype,"radius",void 0),i([y.Property(),o("design:type",Boolean)],ProximitySensorComponent.prototype,"reactToGhosts",void 0),n.default=ProximitySensorComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(37),w=a(40),E=a(291);class HealthSystem extends w.default{onInit(){this.healthGroup.on("entityUpdated",this.handleHealthUpdated,this)}handleHealthUpdated(r){r.health.tookDamage&&this.entityManager.updateComponentDeferred(r,E.default,{tookDamage:!1})}}HealthSystem.order=5,o([y.InjectGroup(E.default),s("design:type","function"==typeof(i=void 0!==_.default&&_.default)?i:Object)],HealthSystem.prototype,"healthGroup",void 0),n.default=HealthSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(291),_=a(36),w=a(37),E=a(40),j=a(8),q=a(337);class HealthUISystem extends E.default{constructor(){super(),this.el=null,this.barEl=null,this.textEl=null,this.lastHealthStoredInHealthbar=0}onInit(){this.createHealthUI()}showHealthUI(){this.el&&(this.el.style.display="flex")}createHealthUI(){this.el=document.createElement("div"),this.el.classList.add("health-info-display");const r=document.createElement("div");r.classList.add("health-info-bar"),this.barEl=r,this.el.appendChild(r),j.container.appendChild(this.el),this.barEl.style.borderRightWidth="0"}updateHealthBar(r){this.barEl&&this.lastHealthStoredInHealthbar!==r.hp&&(this.barEl.style.width=100*r.hp/r.maxHealth+"%",this.lastHealthStoredInHealthbar=r.hp)}hideHealthUI(){this.el&&(this.el.style.display="none")}updateTick(){const r=this.playerGroup.entities[0];r&&r.health&&this.updateHealthBar(r.health)}onDispose(){this.el&&(this.el.remove(),this.el=null,this.barEl=null,this.textEl=null)}}HealthUISystem.order=5,o([_.InjectGroup(q.default,y.default),s("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],HealthUISystem.prototype,"playerGroup",void 0),n.default=HealthUISystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(40),_=a(41),w=a(644),E=a(36),j=a(37),q=a(172);class InvisibleSystem extends y.default{constructor(){super()}onInit(){this.invisibleGroup.on("entityAdded",this.onEntityAdded,this),this.invisibleGroup.on("entityRemoved",this.onEntityRemoved,this)}onEntityAdded(r){this.entityManager.updateComponent(r,q.default,{enabled:!1})}onEntityRemoved(r){this.entityManager.updateComponent(r,q.default,{enabled:!0})}}InvisibleSystem.order=5,o([E.InjectGroup(_.default,q.default,w.default),s("design:type","function"==typeof(i=void 0!==j.default&&j.default)?i:Object)],InvisibleSystem.prototype,"invisibleGroup",void 0),n.default=InvisibleSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class InvisibleComponent extends s.default{constructor(){super(...arguments),this.enabled=!0,this.activated=!1}}InvisibleComponent.componentName="invisible",i([y.Property(),o("design:type",Boolean)],InvisibleComponent.prototype,"enabled",void 0),n.default=InvisibleComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(37),w=a(40),E=a(41),j=a(335),q=a(65),$=a(19),ne=a(646);class LaunchPadSystem extends w.default{constructor(){super(...arguments),this.tmpVec1=new $.Vector3,this.localDir=new $.Vector3,this.tempTransform=new E.Transform}onInit(){this.group.on("collisionEnter",this.handleCollisionEnter,this)}handleCollisionEnter(r,n,a){n.characterController&&this.applyForceOnCharacterController(r,n)}applyForceOnCharacterController(r,n){const a=n.characterController,i=r.node;if(!a)return;a.velocity.set(0,0,0),a.localVelocity.set(0,0,0),this.entityManager.updateComponent(n,j.default,{});const o=this.tmpVec1.set(0,0,0),s=r.launchPad.force,y=r.launchPad.launchAngle/90;this.localDir.set(0,y,-1+y).normalize(),i.getAbsoluteTransform(this.tempTransform),o.copy(this.localDir).applyQuaternion(this.tempTransform.rotation);const _=o.multiplyScalar(s);a.applyCentralForce(_)}}LaunchPadSystem.order=5,o([y.InjectGroup(E.default,q.default,ne.default),s("design:type","function"==typeof(i=void 0!==_.default&&_.default)?i:Object)],LaunchPadSystem.prototype,"group",void 0),n.default=LaunchPadSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class LaunchPadComponent extends s.default{constructor(){super(...arguments),this.force=31.5,this.launchAngle=45}}LaunchPadComponent.componentName="launchPad",i([y.Property({inspector:"Range",inspectorOptions:{min:30,max:100,step:1}}),o("design:type",Number)],LaunchPadComponent.prototype,"force",void 0),i([y.Property({inspector:"Range",inspectorOptions:{min:0,max:90,step:1}}),o("design:type",Number)],LaunchPadComponent.prototype,"launchAngle",void 0),n.default=LaunchPadComponent},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const w=a(36),E=a(156),j=a(37),q=a(40),$=a(155),ne=a(41),ie=a(65),oe=a(648),se=a(474);class LegacyAllGemsCollectedTriggerSystem extends q.default{onInit(){this.entityGroup.on("entityAdded",this.onEntityAdded,this),this.entityGroup.on("entityUpdated",this.onEntityUpdated,this),this.entityGroup.on("collisionEnter",this.onEnteredGhost,this),this.entityGroup.on("collisionLeave",this.onLeftGhost,this)}triggerTargets(r){const{allGemsCollectedTrigger:n}=r,{active:a}=n;for(const i of n.targets){if(!i)continue;const n=this.entityManager.getEntity(i.entity)||r;n[i.component]&&(i.onState||i.offState)&&this.entityManager.updateComponent(n,i.component,Object.assign({},a?i.onState:i.offState))}}onEnteredGhost(r){const n=this.legacyGemSystem.getCollectedGemsCount();r.allGemsCollectedTrigger.gemsRequired>n&&this.audioSystem.playSoundSlow("error"),r.allGemsCollectedTrigger.gemsRequired<=n&&r.allGemsCollectedTrigger.cooldown<=0&&(r.allGemsCollectedTrigger.cooldown=3,r.allGemsCollectedTrigger.active=!0,this.triggerTargets(r),r.allGemsCollectedTrigger.triggerSound&&(this.audioSystem.playSoundSlow(r.allGemsCollectedTrigger.triggerSoundType),r.allGemsCollectedTrigger.triggerSound=!1))}onLeftGhost(r){r.allGemsCollectedTrigger.stayOpen||(r.allGemsCollectedTrigger.active=!1,this.triggerTargets(r))}onEntityAdded(r){this.triggerTargets(r)}onEntityUpdated(r){this.triggerTargets(r)}updateTick(r,n){for(let r=0;r<this.entityGroup.entities.length;r++){const a=this.entityGroup.entities[r];a.allGemsCollectedTrigger.cooldown>0&&(a.allGemsCollectedTrigger.cooldown-=1*n)}}}y([w.InjectGroup(ne.default,ie.default,oe.default),_("design:type","function"==typeof(i=void 0!==j.default&&j.default)?i:Object)],LegacyAllGemsCollectedTriggerSystem.prototype,"entityGroup",void 0),y([E.InjectSystem(()=>$.default),_("design:type","function"==typeof(o=void 0!==$.default&&$.default)?o:Object)],LegacyAllGemsCollectedTriggerSystem.prototype,"audioSystem",void 0),y([E.InjectSystem(()=>se.default),_("design:type","function"==typeof(s=void 0!==se.default&&se.default)?s:Object)],LegacyAllGemsCollectedTriggerSystem.prototype,"legacyGemSystem",void 0),n.default=LegacyAllGemsCollectedTriggerSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class LegacyAllGemsCollectedTriggerComponent extends s.default{constructor(){super(...arguments),this.triggerType="toggle",this.active=!1,this.avatarOnly=!0,this.enabled=!0,this.stayOpen=!1,this.gemsRequired=2,this.triggerSound=!0,this.cooldown=0,this.triggerSoundType="whoosh_crystal_reverse",this.targets=[]}}LegacyAllGemsCollectedTriggerComponent.componentName="allGemsCollectedTrigger",i([y.Property(),o("design:type",String)],LegacyAllGemsCollectedTriggerComponent.prototype,"triggerType",void 0),i([y.Property(),o("design:type",Boolean)],LegacyAllGemsCollectedTriggerComponent.prototype,"active",void 0),i([y.Property(),o("design:type",Boolean)],LegacyAllGemsCollectedTriggerComponent.prototype,"avatarOnly",void 0),i([y.Property(),o("design:type",Boolean)],LegacyAllGemsCollectedTriggerComponent.prototype,"enabled",void 0),i([y.Property(),o("design:type",Boolean)],LegacyAllGemsCollectedTriggerComponent.prototype,"stayOpen",void 0),i([y.Property(),o("design:type",Number)],LegacyAllGemsCollectedTriggerComponent.prototype,"gemsRequired",void 0),i([y.Property(),o("design:type",Boolean)],LegacyAllGemsCollectedTriggerComponent.prototype,"triggerSound",void 0),i([y.Property(),o("design:type",Number)],LegacyAllGemsCollectedTriggerComponent.prototype,"cooldown",void 0),i([y.Property({inspector:"Sound"}),o("design:type",String)],LegacyAllGemsCollectedTriggerComponent.prototype,"triggerSoundType",void 0),i([y.Property(),o("design:type",Array)],LegacyAllGemsCollectedTriggerComponent.prototype,"targets",void 0),n.default=LegacyAllGemsCollectedTriggerComponent},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(40),w=a(36),E=a(37),j=a(41),q=a(65),$=a(650),ne=a(156),ie=a(181);class LegacyVolumeTriggerSystem extends _.default{constructor(){super()}onInit(){this.group.on("entityUpdated",this.onEntityUpdated,this),this.group.on("collisionEnter",this.onEnteredGhost,this),this.group.on("collisionLeave",this.onLeftGhost,this)}onEnteredGhost(r){r.legacyVolumeTrigger.active=!0,this.triggerTargets(r)}onLeftGhost(r){r.legacyVolumeTrigger.active=!1,this.triggerTargets(r)}triggerTargets(r){const{legacyVolumeTrigger:n}=r,{active:a}=n;for(const i of n.targets){const n=this.entityManager.getEntity(i.entity)||this.nodeSystem.getEntityByIdentifier(i.entity)||r;n&&n[i.component]&&(i.onState||i.offState)&&this.entityManager.updateComponent(n,i.component,Object.assign({},a?i.onState:i.offState))}}onEntityUpdated(r){this.triggerTargets(r)}}s([w.InjectGroup(j.default,q.default,$.default),y("design:type","function"==typeof(i=void 0!==E.default&&E.default)?i:Object)],LegacyVolumeTriggerSystem.prototype,"group",void 0),s([ne.InjectSystem(r=>ie.default),y("design:type","function"==typeof(o=void 0!==ie.default&&ie.default)?o:Object)],LegacyVolumeTriggerSystem.prototype,"nodeSystem",void 0),n.default=LegacyVolumeTriggerSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class LegacyVolumeTriggerComponent extends s.default{constructor(){super(...arguments),this.triggerType="toggle",this.active=!1,this.targets=[]}}LegacyVolumeTriggerComponent.componentName="legacyVolumeTrigger",i([y.Property(),o("design:type",String)],LegacyVolumeTriggerComponent.prototype,"triggerType",void 0),i([y.Property(),o("design:type",Boolean)],LegacyVolumeTriggerComponent.prototype,"active",void 0),i([y.Property(),o("design:type",Array)],LegacyVolumeTriggerComponent.prototype,"targets",void 0),n.default=LegacyVolumeTriggerComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(652),_=a(36),w=a(37),E=a(41),j=a(46),q=a(65),$=a(19),ne=a(653),ie=a(654),oe=a(621);class MoveSystem extends y.default{constructor(){super(),this.tmpVec1=new $.Vector3}onInit(){super.init(this.moveGroup),this.moveGroup.on("entityAdded",this.onEntityAdded,this)}onEntityAdded(r){r.rigidBody&&r.rigidBody.physicality!==j.Physicality.KINEMATIC&&r.rigidBody.physicality!==j.Physicality.GHOST&&this.entityManager.updateComponent(r,q.default,{physicality:j.Physicality.KINEMATIC}),r.traits&&r.traits.physicality!==j.Physicality.KINEMATIC&&r.traits.physicality!==j.Physicality.GHOST&&this.entityManager.updateComponent(r,oe.default,{physicality:j.Physicality.KINEMATIC})}updateTick(r,n){for(let a=0;a<this.moveGroup.length;a++){const i=this.moveGroup.entities[a],{move:o}=i;o.enabled&&super.updateProgressTick(r,n,i,o)}}handleProgressUpdate(r,n){const a=ne.seek(n,0,1,r.move.easing);this.updateFromProgress(r.move,r.node,a)}updateFromProgress(r,n,a){const i=a-r.lastValue;r.lastValue=a;const o=this.tmpVec1.copy(r.moveOffset).multiplyScalar(i);r.relativeToRotation&&o.applyQuaternion(n.rotation),n.position.add(o)}getProgressBaseComponent(r){return r.move}}MoveSystem.order=5,o([_.InjectGroup(E.default,ie.default),s("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],MoveSystem.prototype,"moveGroup",void 0),n.default=MoveSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(40),_=a(81),w=a(82),E=a(41),j=a(36),q=a(603),$=a(37),ne=a(176);class ProgressSystemBase extends y.default{init(r){r.on("entityAdded",this.onProgressEntityAdded,this)}onProgressEntityAdded(r){this.getProgressBaseComponent(r).originalPosition.copy(r.node.position),this.handleProgressUpdate(r,0)}updateProgressTick(r,n,a,i){if(i.activateWhenNearby&&!i.activated){if(!this.anyWithinDistance(i.originalPosition,i.activationDistance))return;i.activated=!0}if(i.resetWhenLeave&&i.activated&&!this.anyWithinDistance(i.originalPosition,i.activationDistance)&&!this.anyWithinDistance(a.node.position,i.activationDistance))return i.activated=!1,i.progress=0,this.handleProgressUpdate(a,0),void(i.lastValue=0);const o=this.getProgress(n,i);this.handleProgressUpdate(a,o)}anyWithinDistance(r,n){const[a,i]=this.findClosest(r);return!!(a&&i<n*n)}findClosest(r){let n=null,a=Number.MAX_SAFE_INTEGER;for(let i=0;i<this.targetGroup.length;i++){const{node:o,target:s}=this.targetGroup.entities[i];if(!s.enabled)continue;const y=o.position.distanceToSquared(r);y<a&&(n=o,a=y)}return[n,a]}getProgress(r,n){n.mode===_.ProgressMode.YOYO&&(n.active?(n.progress<=0||n.progress>=1)&&(n.direction=2*(n.progress<=0?1:-1)):n.direction=2*(n.active?1:-1)),n.mode===_.ProgressMode.ONCE&&(n.active?n.direction=1:n.direction=-1),n.mode===_.ProgressMode.RESTART&&n.progress>1&&(n.progress=0),n.progress<0&&(n.progress=0),n.progress>1&&(n.progress=1);const a=n.speedMode===w.SpeedMode.SyncToMusic?ne.BPMSync.getK():1;return n.progress+=n.direction*n.speed*r*a%1,Math.min(Math.max(n.progress,0),1)}}ProgressSystemBase.order=5,o([j.InjectGroup(E.default,q.default),s("design:type","function"==typeof(i=void 0!==$.default&&$.default)?i:Object)],ProgressSystemBase.prototype,"targetGroup",void 0),n.default=ProgressSystemBase},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.seek=void 0;const i=a(80);n.seek=(r,n,a,s)=>(o[s]||(s=i.Easing.IN_OUT_QUAD),o[s](r,n,a-n,1));const o={[i.Easing.LINEAR](r,n,a,i){return a*r/i+n},[i.Easing.EASE_IN_QUAD](r,n,a,i){return a*(r/=i)*r+n},[i.Easing.EASE_OUT_QUAD](r,n,a,i){return-a*(r/=i)*(r-2)+n},[i.Easing.IN_OUT_QUAD](r,n,a,i){return(r/=i/2)<1?a/2*r*r+n:-a/2*(--r*(r-2)-1)+n},easeInCubic(r,n,a,i){return a*(r/=i)*r*r+n},easeOutCubic(r,n,a,i){return a*((r=r/i-1)*r*r+1)+n},[i.Easing.IN_OUT_CUBIC](r,n,a,i){return(r/=i/2)<1?a/2*r*r*r+n:a/2*((r-=2)*r*r+2)+n},easeInQuart(r,n,a,i){return a*(r/=i)*r*r*r+n},easeOutQuart(r,n,a,i){return-a*((r=r/i-1)*r*r*r-1)+n},[i.Easing.IN_OUT_QUART](r,n,a,i){return(r/=i/2)<1?a/2*r*r*r*r+n:-a/2*((r-=2)*r*r*r-2)+n},easeInQuint(r,n,a,i){return a*(r/=i)*r*r*r*r+n},easeOutQuint(r,n,a,i){return a*((r=r/i-1)*r*r*r*r+1)+n},easeInOutQuint(r,n,a,i){return(r/=i/2)<1?a/2*r*r*r*r*r+n:a/2*((r-=2)*r*r*r*r+2)+n},easeInSine(r,n,a,i){return-a*Math.cos(r/i*(Math.PI/2))+a+n},easeOutSine(r,n,a,i){return a*Math.sin(r/i*(Math.PI/2))+n},[i.Easing.IN_OUT_SINE](r,n,a,i){return-a/2*(Math.cos(Math.PI*r/i)-1)+n},easeInExpo(r,n,a,i){return 0===r?n:a*Math.pow(2,10*(r/i-1))+n},easeOutExpo(r,n,a,i){return r===i?n+a:a*(1-Math.pow(2,-10*r/i))+n},[i.Easing.IN_OUT_EXPO](r,n,a,i){return 0===r?n:r===i?n+a:(r/=i/2)<1?a/2*Math.pow(2,10*(r-1))+n:a/2*(2-Math.pow(2,-10*--r))+n},easeInCirc(r,n,a,i){return-a*(Math.sqrt(1-(r/=i)*r)-1)+n},easeOutCirc(r,n,a,i){return a*Math.sqrt(1-(r=r/i-1)*r)+n},[i.Easing.IN_OUT_CIRCLE](r,n,a,i){return(r/=i/2)<1?-a/2*(Math.sqrt(1-r*r)-1)+n:a/2*(Math.sqrt(1-(r-=2)*r)+1)+n},[i.Easing.SPIKE](r,n,a,i){const o=(r/=i)*r,s=o*r;return n+a*(-3.15*s*o+9.1*o*o+-6.5*s+1.7*o+-.15*r)},[i.Easing.FLICKER](r,n,a,i){const o=(r/=i)*r,s=o*r;return n+a*(76*s*o+-235*o*o+260*s+-120*o+20*r)},easeInElastic(r,n,a,i){let o=1.70158,s=0,y=a;return 0===r?n:1==(r/=i)?n+a:(s||(s=.3*i),y<Math.abs(a)?(y=a,o=s/4):o=s/(2*Math.PI)*Math.asin(a/y),-y*Math.pow(2,10*(r-=1))*Math.sin(2*Math.PI*(r*i-o)/s)+n)},easeOutElastic(r,n,a,i){let o=1.70158,s=0,y=a;return 0===r?n:1==(r/=i)?n+a:(s||(s=.3*i),y<Math.abs(a)?(y=a,o=s/4):o=s/(2*Math.PI)*Math.asin(a/y),y*Math.pow(2,-10*r)*Math.sin(2*Math.PI*(r*i-o)/s)+a+n)},[i.Easing.IN_OUT_ELASTIC](r,n,a,i){let o=1.70158,s=0,y=a;return 0===r?n:2==(r/=i/2)?n+a:(s||(s=.3*1.5*i),y<Math.abs(a)?(y=a,o=s/4):o=s/(2*Math.PI)*Math.asin(a/y),r<1?y*Math.pow(2,10*(r-=1))*Math.sin(2*Math.PI*(r*i-o)/s)*-.5+n:y*Math.pow(2,-10*(r-=1))*Math.sin(2*Math.PI*(r*i-o)/s)*.5+a+n)},easeInBack(r,n,a,i,o){return void 0===o&&(o=1.70158),a*(r/=i)*r*((o+1)*r-o)+n},easeOutBack(r,n,a,i,o){return void 0===o&&(o=1.70158),a*((r=r/i-1)*r*((o+1)*r+o)+1)+n},easeInOutBack(r,n,a,i,o){return void 0===o&&(o=1.70158),(r/=i/2)<1?a/2*r*r*((1+(o*=1.525))*r-o)+n:a/2*((r-=2)*r*((1+(o*=1.525))*r+o)+2)+n},easeInBounce(r,n,a,i){return a-o.easeOutBounce(i-r,0,a,i)+n},easeOutBounce(r,n,a,i){return(r/=i)<1/2.75?7.5625*a*r*r+n:r<2/2.75?a*(7.5625*(r-=1.5/2.75)*r+.75)+n:r<2.5/2.75?a*(7.5625*(r-=2.25/2.75)*r+.9375)+n:a*(7.5625*(r-=2.625/2.75)*r+.984375)+n},[i.Easing.IN_OUT_BOUNCE](r,n,a,i){return r<i/2?.5*o.easeInBounce(2*r,0,a,i)+n:.5*o.easeOutBounce(2*r-i,0,a,i)+.5*a+n}}},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(655),_=a(26),w=a(19);class MoveComponent extends y.default{constructor(){super(...arguments),this.moveOffset=new w.Vector3(0,2,0),this.relativeToRotation=!0}}MoveComponent.componentName="move",o([_.Property(),s("design:type","function"==typeof(i=void 0!==w.Vector3&&w.Vector3)?i:Object)],MoveComponent.prototype,"moveOffset",void 0),o([_.Property(),s("design:type",Boolean)],MoveComponent.prototype,"relativeToRotation",void 0),n.default=MoveComponent},function(r,n,a){"use strict";var i,o,s,y,_=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},w=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const E=a(24),j=a(26),q=a(80),$=a(81),ne=a(82),ie=a(42),oe=a(656),se=a(19);class ProgressComponentBase extends E.default{constructor(){super(...arguments),this.active=!0,this.mode=$.ProgressMode.YOYO,this.speedMode=ne.SpeedMode.SyncToMusic,this.direction=1,this.progress=0,this.easing=q.Easing.IN_OUT_QUAD,this.speed=oe.SpeedList.OnceEvery1Sec.value,this.lastValue=0,this.activateWhenNearby=!1,this.activated=!1,this.activationDistance=50,this.resetWhenLeave=!1,this.originalPosition=new se.Vector3(0,2,0)}}_([j.Property(),w("design:type",Boolean)],ProgressComponentBase.prototype,"active",void 0),_([j.Property({inspector:"Select",inspectorOptions:{enum:$.ProgressMode}}),w("design:type","function"==typeof(i=void 0!==$.ProgressMode&&$.ProgressMode)?i:Object)],ProgressComponentBase.prototype,"mode",void 0),_([j.Property({inspector:"Select",inspectorOptions:{options:oe.SpeedModeList}}),w("design:type","function"==typeof(o=void 0!==ne.SpeedMode&&ne.SpeedMode)?o:Object)],ProgressComponentBase.prototype,"speedMode",void 0),_([j.Property({inspector:!1,inspectorOptions:{pattern:ie.patterns.floatPositiveNegative}}),w("design:type",Number)],ProgressComponentBase.prototype,"direction",void 0),_([j.Property({inspector:"Range",inspectorOptions:{min:0,max:1,step:.05}}),w("design:type",Number)],ProgressComponentBase.prototype,"progress",void 0),_([j.Property({inspector:"Select",inspectorOptions:{enum:q.Easing}}),w("design:type","function"==typeof(s=void 0!==q.Easing&&q.Easing)?s:Object)],ProgressComponentBase.prototype,"easing",void 0),_([j.Property({inspector:"Select",inspectorOptions:{options:oe.SpeedList}}),w("design:type",Number)],ProgressComponentBase.prototype,"speed",void 0),_([j.Property({inspector:!1}),w("design:type",Number)],ProgressComponentBase.prototype,"lastValue",void 0),_([j.Property(),w("design:type",Boolean)],ProgressComponentBase.prototype,"activateWhenNearby",void 0),_([j.Property({inspector:!1}),w("design:type",Boolean)],ProgressComponentBase.prototype,"activated",void 0),_([j.Property({inspectorOptions:{pattern:ie.patterns.floatPositiveNotEmpty,minValue:0},requirePropertyOn:"activateWhenNearby"}),w("design:type",Number)],ProgressComponentBase.prototype,"activationDistance",void 0),_([j.Property({requirePropertyOn:"activateWhenNearby"}),w("design:type",Boolean)],ProgressComponentBase.prototype,"resetWhenLeave",void 0),_([j.Property({inspector:!1}),w("design:type","function"==typeof(y=void 0!==se.Vector3&&se.Vector3)?y:Object)],ProgressComponentBase.prototype,"originalPosition",void 0),n.default=ProgressComponentBase},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SpeedModeList=n.SpeedList=void 0;const i=a(657),o=a(66),s=a(82);n.SpeedList=i.SelectListNumber({EightTimesPerSec:{key:o.default.eightTimesPerSec,value:8},FourTimesPerSec:{key:o.default.fourTimesPerSec,value:4},TwiceTimesPerSec:{key:o.default.twicePerSec,value:2},OnceEvery1Sec:{key:o.default.onceEvery1Sec,value:1},OnceEvery2Sec:{key:o.default.onceEvery2Sec,value:.5},OnceEvery4Sec:{key:o.default.onceEvery4Sec,value:1/4},OnceEvery8Sec:{key:o.default.onceEvery8Sec,value:1/8},OnceEvery16Sec:{key:o.default.onceEvery16Sec,value:1/16},OnceEvery32Sec:{key:o.default.onceEvery32Sec,value:1/32},OnceEvery64Sec:{key:o.default.onceEvery64Sec,value:1/64}}),n.SpeedModeList=i.SelectListNumber({Normal:{key:"Normal",value:s.SpeedMode.Normal},SyncToMusic:{key:o.default.syncToMusic,value:s.SpeedMode.SyncToMusic}})},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SelectList=n.SelectListNumber=void 0,n.SelectListNumber=r=>r,n.SelectList=r=>r},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(40),w=a(37),E=a(36),j=a(156),q=a(659),$=a(65),ne=a(41),ie=a(155);class PlaySoundTriggerSystem extends _.default{constructor(){super(...arguments),this.tmpTransform=new ne.Transform}onInit(){this.group.on("collisionEnter",this.handleCollision,this)}handleCollision(r,n){const{node:a,playSoundTrigger:i,projectile:o}=r,s=a.getAbsoluteTransform(this.tmpTransform);i.playOnBulletHit,this.audioSystem.playPositionalSound(i.soundFile,s.position).node.setParent(r)}}PlaySoundTriggerSystem.order=5,s([E.InjectGroup(ne.default,$.default,q.default),y("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],PlaySoundTriggerSystem.prototype,"group",void 0),s([j.InjectSystem(r=>ie.default),y("design:type","function"==typeof(o=void 0!==ie.default&&ie.default)?o:Object)],PlaySoundTriggerSystem.prototype,"audioSystem",void 0),n.default=PlaySoundTriggerSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class PlaySoundTriggerComponent extends s.default{constructor(){super(...arguments),this.avatarOnly=!0,this.soundFile="cartoon-bat-squeak",this.playOnBulletHit=!1}}PlaySoundTriggerComponent.componentName="playSoundTrigger",i([y.Property(),o("design:type",Boolean)],PlaySoundTriggerComponent.prototype,"avatarOnly",void 0),i([y.Property({inspector:"Sound"}),o("design:type",String)],PlaySoundTriggerComponent.prototype,"soundFile",void 0),i([y.Property(),o("design:type",Boolean)],PlaySoundTriggerComponent.prototype,"playOnBulletHit",void 0),n.default=PlaySoundTriggerComponent},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const w=a(412),E=a(411),j=a(36),q=a(156),$=a(37),ne=a(40),ie=a(167),oe=a(41),se=a(335),le=a(413),pe=a(197),he=a(396),me=a(301),ge=a(198),ye=a(661);class CharacterPowerUpSystem extends ne.default{onInit(){this.group.on("entityAdded",this.handleEntityAdded,this),this.group.on("entityRemoved",this.handleEntityRemoved,this)}handleEntityAdded(r){const n=this.entityManager.getEntity(r.statusEffect.targetEntity),a=r.characterAttributes;n&&n.characterController&&(this.entityManager.addComponentSlow(n,le.default),a.soundActive&&this.entityManager.addComponentSlow(r,ie.default,{sound:a.soundActive,playOnce:!1,volume:a.soundActiveVolume}))}handleEntityRemoved(r){const n=this.entityManager.getEntity(r.statusEffect.targetEntity);n&&n.characterController}updateTick(){for(const r of this.entityGroup.entities){const{characterController:n,computedCharacterController:a,avatar:i,health:o}=r;if(!n.object)continue;a.value.maxWalkSpeed=n.maxWalkSpeed,a.value.walkAcceleration=n.walkAcceleration,a.value.maxAirSpeed=n.maxAirSpeed,a.value.airAcceleration=n.airAcceleration,a.value.jumpSpeed=n.jumpSpeed,a.value.friction=n.friction,a.value.drag=n.drag,a.value.gravity.y=n.gravity.y;const s=this.statusEffectSystem.findEffects(r,ye.default);let y=ge.Visual.none,_=s.length?9999999:0,w=!1,E=1,j=1,q=1,$=1,ne=1,ie=1,oe=1,se=1;for(let r=0;r<s.length;r++){const n=s[r];switch(n.stackBehavior){case ye.StackBehavior.STACK_ADDITIVE:E+=.01*n.maxWalkSpeed,j+=.01*n.walkAcceleration,q+=.01*n.maxAirSpeed,$+=.01*n.airAcceleration,ne+=.01*n.jumpSpeed,ie+=.01*n.friction,oe+=.01*n.drag,se+=.01*n.gravity;break;case ye.StackBehavior.STACK_MULTIPLICATIVE:case ye.StackBehavior.OVERRIDE:default:E*=.01*n.maxWalkSpeed,j*=.01*n.walkAcceleration,q*=.01*n.maxAirSpeed,$*=.01*n.airAcceleration,ne*=.01*n.jumpSpeed,ie*=.01*n.friction,oe*=.01*n.drag,se*=.01*n.gravity}n.invulnerable&&(w=!0),(i.visualTimeLeft<=0||_>n.duration)&&(y=n.visual,_=n.timeLeft)}if(a.value.maxWalkSpeed*=E,a.value.walkAcceleration*=j,a.value.maxAirSpeed*=q,a.value.airAcceleration*=$,a.value.jumpSpeed*=ne,a.value.friction*=ie,a.value.drag*=oe,a.value.gravity.y*=se,o.invulnerable=w,i.visualTimeLeft=_,i.visual!==y){i.visual=y,this.entityManager.hasComponent(r,me.default)&&this.entityManager.removeComponent(r,me.default);const n=he.default.particleEffectForVisual(i.visual);n&&this.entityManager.addComponentSlow(r,me.default,{preset:n,runOnce:!1})}}}onDispose(){}}CharacterPowerUpSystem.order=5,y([j.InjectGroup(w.default,ye.default),_("design:type","function"==typeof(i=void 0!==$.default&&$.default)?i:Object)],CharacterPowerUpSystem.prototype,"group",void 0),y([j.InjectGroup(oe.default,se.default,pe.default,le.default),_("design:type","function"==typeof(o=void 0!==$.default&&$.default)?o:Object)],CharacterPowerUpSystem.prototype,"entityGroup",void 0),y([q.InjectSystem(()=>E.default),_("design:type","function"==typeof(s=void 0!==E.default&&E.default)?s:Object)],CharacterPowerUpSystem.prototype,"statusEffectSystem",void 0),n.default=CharacterPowerUpSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.StackBehavior=void 0;const y=a(198),_=a(24),w=a(26),E=a(42);var j;!function(r){r[r.OVERRIDE=0]="OVERRIDE",r[r.STACK_ADDITIVE=1]="STACK_ADDITIVE",r[r.STACK_MULTIPLICATIVE=2]="STACK_MULTIPLICATIVE"}(j=n.StackBehavior||(n.StackBehavior={}));class CharacterAttributesComponent extends _.default{constructor(){super(...arguments),this.duration=10,this.timeLeft=0,this.group=0,this.stackBehavior=j.OVERRIDE,this.invulnerable=!0,this.maxWalkSpeed=100,this.walkAcceleration=100,this.maxAirSpeed=100,this.airAcceleration=100,this.jumpSpeed=100,this.friction=100,this.drag=100,this.gravity=100,this.visual=y.Visual.none,this.soundActive="",this.soundActiveVolume=1}}CharacterAttributesComponent.componentName="characterAttributes",o([w.Property({inspector:"Range",inspectorOptions:{max:120,min:1,step:1}}),s("design:type",Number)],CharacterAttributesComponent.prototype,"duration",void 0),o([w.Property({inspector:!1}),s("design:type",Number)],CharacterAttributesComponent.prototype,"timeLeft",void 0),o([w.Property({advanced:!0,inspectorOptions:{pattern:E.patterns.intPositiveNotEmpty}}),s("design:type",Number)],CharacterAttributesComponent.prototype,"group",void 0),o([w.Property({advanced:!0,inspector:"Select",inspectorOptions:{enum:j}}),s("design:type",Number)],CharacterAttributesComponent.prototype,"stackBehavior",void 0),o([w.Property(),s("design:type",Boolean)],CharacterAttributesComponent.prototype,"invulnerable",void 0),o([w.Property({inspector:"Range",inspectorOptions:{displayName:"Ground Speed %",max:1e3,min:0,step:10}}),s("design:type",Number)],CharacterAttributesComponent.prototype,"maxWalkSpeed",void 0),o([w.Property({advanced:!0,inspector:"Range",inspectorOptions:{displayName:"Ground Acceleration %",max:1e3,min:0,step:10}}),s("design:type",Number)],CharacterAttributesComponent.prototype,"walkAcceleration",void 0),o([w.Property({inspector:"Range",inspectorOptions:{displayName:"Air Speed %",max:1e3,min:0,step:10}}),s("design:type",Number)],CharacterAttributesComponent.prototype,"maxAirSpeed",void 0),o([w.Property({advanced:!0,inspector:"Range",inspectorOptions:{displayName:"Air Acceleration %",max:1e3,min:0,step:10}}),s("design:type",Number)],CharacterAttributesComponent.prototype,"airAcceleration",void 0),o([w.Property({inspector:"Range",inspectorOptions:{displayName:"Jump Power %",max:1e3,min:0,step:10}}),s("design:type",Number)],CharacterAttributesComponent.prototype,"jumpSpeed",void 0),o([w.Property({advanced:!0,inspector:"Range",inspectorOptions:{displayName:"Shoe Friction %",max:200,min:0,step:10}}),s("design:type",Number)],CharacterAttributesComponent.prototype,"friction",void 0),o([w.Property({advanced:!0,inspector:"Range",inspectorOptions:{displayName:"Air Resistance %",max:1e3,min:0,step:10}}),s("design:type",Number)],CharacterAttributesComponent.prototype,"drag",void 0),o([w.Property({inspector:"Range",inspectorOptions:{displayName:"Altered Gravity %",max:500,min:-50,step:5}}),s("design:type",Number)],CharacterAttributesComponent.prototype,"gravity",void 0),o([w.Property({inspector:"Select",inspectorOptions:{displayName:"Visual Effect",enum:y.Visual}}),s("design:type","function"==typeof(i=void 0!==y.Visual&&y.Visual)?i:Object)],CharacterAttributesComponent.prototype,"visual",void 0),o([w.Property({inspector:"Sound"}),s("design:type",String)],CharacterAttributesComponent.prototype,"soundActive",void 0),o([w.Property({inspector:"Range",inspectorOptions:{max:1,min:0,step:.01}}),s("design:type",Number)],CharacterAttributesComponent.prototype,"soundActiveVolume",void 0),n.default=CharacterAttributesComponent},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const w=a(411),E=a(36),j=a(156),q=a(37),$=a(40),ne=a(169),ie=a(41),oe=a(335),se=a(661),le=a(663);class PowerUpSystem extends $.default{constructor(){super(...arguments),this.tmpTransform1=new ie.Transform,this.tmpTransform2=new ie.Transform}updateTick(r){for(let r=0;r<this.powerUps.length;r++){const n=this.powerUps.entities[r],{node:a}=n,i=a.getAbsoluteTransform(this.tmpTransform1);for(let r=0;r<this.players.length;r++){const a=this.players.entities[r],{node:o}=a,s=o.getAbsoluteTransform(this.tmpTransform2),y=Math.max(i.scale.x,i.scale.y,i.scale.z);i.position.distanceToSquared(s.position)<y*y&&this.pickup(n,a)}}}pickup(r,n){const a=r.powerUp,i=this.statusEffectSystem.findEffectsEntities(n,se.default);for(let n=0;n<i.length;n++){const o=i[n];this.entityManager.getComponent(o,se.default).group===r.powerUp.group&&a.stackBehavior===se.StackBehavior.OVERRIDE&&this.entityManager.remove(o)}const o=this.statusEffectSystem.addStatusEffect(n,se.default,r.powerUp),s=this.entityManager.create();return this.entityManager.addComponentSlow(s,ie.default,r.node),this.entityManager.addComponentSlow(s,ne.default,{sound:r.powerUp.soundPickup,volume:r.powerUp.soundPickupVolume}),this.entityManager.remove(r),o}}PowerUpSystem.order=5,y([E.InjectGroup(ie.default,le.default),_("design:type","function"==typeof(i=void 0!==q.default&&q.default)?i:Object)],PowerUpSystem.prototype,"powerUps",void 0),y([E.InjectGroup(ie.default,oe.default),_("design:type","function"==typeof(o=void 0!==q.default&&q.default)?o:Object)],PowerUpSystem.prototype,"players",void 0),y([j.InjectSystem(r=>w.default),_("design:type","function"==typeof(s=void 0!==w.default&&w.default)?s:Object)],PowerUpSystem.prototype,"statusEffectSystem",void 0),n.default=PowerUpSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(26),y=a(661);class PowerUpComponent extends y.default{constructor(){super(...arguments),this.soundPickup="",this.soundPickupVolume=1}}PowerUpComponent.id=0,PowerUpComponent.componentName="powerUp",i([s.Property({inspector:"Sound"}),o("design:type",String)],PowerUpComponent.prototype,"soundPickup",void 0),i([s.Property({inspector:"Range",inspectorOptions:{max:1,min:0,step:.01}}),o("design:type",Number)],PowerUpComponent.prototype,"soundPickupVolume",void 0),n.default=PowerUpComponent},function(r,n,a){"use strict";var i,o,s,y=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},_=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const w=a(40),E=a(36),j=a(41),q=a(65),$=a(37),ne=a(403),ie=a(156),oe=a(291),se=a(155),le=a(615),pe=a(46),he=a(19);class ProjectileSystem extends w.default{constructor(){super(...arguments),this.zeroVec=new he.Vector3(0,0,0)}onInit(){this.projectileGroup.on("collisionEnter",this.handleCollision,this)}handleCollision(r,n){n.rigidBody.physicality!==pe.Physicality.GHOST&&(r.projectile.explode&&(this.audioSystem.playPositionalSound("boom",r.node.position,.6,5),this.particleSystem.playEffect("hit_sparks",r.node.position)),n.health&&(n.health.damage(r.projectile.damage,oe.DamageCause.PLATFORMER_PROJECTILE,this.zeroVec,r.uid),this.entityManager.updateComponent(n,oe.default,{})),this.entityManager.removeDeffered(r))}updateTick(r,n){if(r%2!=0)for(let r=0;r<this.projectileGroup.length;r++){const a=this.projectileGroup.entities[r],{node:i,projectile:o}=a;o.lived+=n,o.lived>=o.lifespan&&(a.projectile.explode&&(this.audioSystem.playPositionalSound("boom",i.position,.6),this.particleSystem.playEffect("hit_sparks",i.position)),this.entityManager.removeDeffered(a))}}}ProjectileSystem.order=5,y([E.InjectGroup(j.default,q.default,le.default),_("design:type","function"==typeof(i=void 0!==$.default&&$.default)?i:Object)],ProjectileSystem.prototype,"projectileGroup",void 0),y([ie.InjectSystem(()=>ne.default),_("design:type","function"==typeof(o=void 0!==ne.default&&ne.default)?o:Object)],ProjectileSystem.prototype,"particleSystem",void 0),y([ie.InjectSystem(()=>se.default),_("design:type","function"==typeof(s=void 0!==se.default&&se.default)?s:Object)],ProjectileSystem.prototype,"audioSystem",void 0),n.default=ProjectileSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(291),_=a(36),w=a(37),E=a(40),j=a(41),q=a(65),$=a(172),ne=a(19),ie=a(666),oe=new ne.Vector3(0,1,0);class MissileSystem extends E.default{constructor(){super(...arguments),this.tmpVec1=new ne.Vector3,this.tmpVec2=new ne.Vector3,this.tmpVec3=new ne.Vector3,this.tmpVec4=new ne.Vector3,this.tmpMat1=new ne.Matrix4,this.tmpTransform1=new j.Transform,this.tmpTransform2=new j.Transform}onInit(){this.missiles.on("entityAdded",this.handleEntityAdded,this)}handleEntityAdded(r){const{missile:n}=r,a=this.entityManager.getEntity(n.targetEntity);if(!a)return;const i=a.node.getAbsoluteTransform(this.tmpTransform1);n.targetLastPosition.copy(i.position)}updateTick(r,n){for(let r=0;r<this.missiles.length;r++){const a=this.missiles.entities[r],{node:i,missile:o}=a,s=i.getAbsoluteTransform(this.tmpTransform1),_=this.entityManager.getEntity(o.targetEntity);if(!_){this.entityManager.removeDeffered(a);continue}const w=_.node.getAbsoluteTransform(this.tmpTransform2),E=this.tmpVec4.copy(w.position).sub(o.targetLastPosition).multiplyScalar(2);o.targetLastPosition.copy(w.position);const j=this.tmpVec1.copy(w.position).sub(s.position).add(E).lengthSq(),q=this.tmpVec1.copy(w.position).sub(s.position).add(E).normalize(),$=this.tmpVec2.copy(o.velocity).normalize();$.dot(q)<0&&j<400&&q.copy($);const ne=this.tmpVec3.crossVectors($,q);ne.length()<.01&&ne.normalize().multiplyScalar(.01),o.velocity.applyAxisAngle(ne,o.turnRate*n);const ie=o.velocity.dot(q);let se=n*o.speed;ie+se>o.maxSpeed&&(se=Math.max(o.maxSpeed-ie,0)),o.velocity.add(q.multiplyScalar(se));const le=this.tmpVec1.copy(o.velocity).multiplyScalar(n);i.position.add(le),this.tmpVec1.set(0,0,0),this.tmpMat1.lookAt(this.tmpVec1,$,oe),i.rotation.setFromRotationMatrix(this.tmpMat1),i.isDirty=!0,o.lived+=n,o.lifetime<=o.lived&&a.health&&this.entityManager.updateComponent(a,y.default,{hp:0})}}}MissileSystem.order=5,o([_.InjectGroup(j.default,$.default,q.default,ie.default),s("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],MissileSystem.prototype,"missiles",void 0),n.default=MissileSystem},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(24),w=a(26),E=a(19);class MissileComponent extends _.default{constructor(){super(...arguments),this.damage=20,this.speed=10,this.maxSpeed=50,this.turnRate=3,this.lifetime=5,this.lived=0,this.velocity=new E.Vector3,this.direction=new E.Vector3,this.targetEntity=0,this.targetLastPosition=new E.Vector3}}MissileComponent.componentName="missile",s([w.Property(),y("design:type",Number)],MissileComponent.prototype,"damage",void 0),s([w.Property(),y("design:type",Number)],MissileComponent.prototype,"speed",void 0),s([w.Property(),y("design:type",Number)],MissileComponent.prototype,"maxSpeed",void 0),s([w.Property(),y("design:type",Number)],MissileComponent.prototype,"turnRate",void 0),s([w.Property(),y("design:type",Number)],MissileComponent.prototype,"lifetime",void 0),s([w.Property({inspector:!1}),y("design:type",Number)],MissileComponent.prototype,"lived",void 0),s([w.Property(),y("design:type","function"==typeof(i=void 0!==E.Vector3&&E.Vector3)?i:Object)],MissileComponent.prototype,"velocity",void 0),s([w.Property(),y("design:type","function"==typeof(o=void 0!==E.Vector3&&E.Vector3)?o:Object)],MissileComponent.prototype,"direction",void 0),s([w.Property(),y("design:type",Number)],MissileComponent.prototype,"targetEntity",void 0),n.default=MissileComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(627),_=a(631),w=a(291),E=a(36),j=a(37),q=a(40),$=a(18),ne=a(169),ie=a(41),oe=a(301),se=a(45),le=a(46),pe=a(65),he=a(172),me=a(19),ge=a(668),ye=a(666),_e=a(669);class ProjectileTrapSystem extends q.default{constructor(){super(),this.vec3=new me.Vector3,this.tmpVec1=new me.Vector3,this.tmpVec2=new me.Vector3,this.tmpVec3=new me.Vector3,this.tmpQuat1=new me.Quaternion,this.tmpQuat2=new me.Quaternion,this.tmpTransform=new ie.Transform}onInit(){this.projectileTrapGroup.on("collisionEnter",this.onCollisionEnter,this)}getPerpX(r){const n=this.tmpVec1.copy(r),a=this.tmpVec2.copy(r).multiplyScalar(2),i=this.tmpVec3.copy(r).add(new me.Vector3(0,1,0));return a.sub(n),i.sub(n),a.cross(i),a}onCollisionEnter(r,n){if(!n.playerControl)return;const{projectileTrap:a}=r;this.tmpVec1.set(0,1,0),this.tmpVec2.set(1,0,0),this.tmpQuat1.setFromAxisAngle(this.tmpVec1,ge.MathUtils.degToRad(a.projectileSpawnDirection)),this.tmpQuat2.setFromAxisAngle(this.tmpVec2,.5*Math.PI),this.tmpQuat2.premultiply(this.tmpQuat1);for(let r=0;r<1;r++){const i=this.tmpVec2.set(0,0,-1),o=.5*a.projectileSpawnAngle;i.applyAxisAngle(this.tmpVec1,ge.MathUtils.degToRad(a.projectileSpawnDirection+$.default.rand(-o,o))),i.multiplyScalar(a.projectileDistanceFromPlayer+$.default.rand(-1.6,1.6));const s=n.node.getAbsoluteTransform(this.tmpTransform);i.x+=s.position.x,i.y+=s.position.y+.4+$.default.rand(.4,.8)*r,i.z+=s.position.z,this.spawnMissile(n,i)}}spawnMissile(r,n){const a=this.entityManager.create();this.entityManager.addComponentSlow(a,ie.default,{position:n,scale:{x:.3,y:.3,z:.3}}),this.entityManager.addComponentSlow(a,he.default,{geometry:"Missile2"}),this.entityManager.addComponentSlow(a,pe.default,{physicality:le.Physicality.KINEMATIC,group:se.PHYSICS_GROUPS.DefaultFilter,mask:se.PHYSICS_GROUPS.CharacterFilter|se.PHYSICS_GROUPS.KinematicFilter|se.PHYSICS_GROUPS.DefaultFilter|se.PHYSICS_GROUPS.StaticFilter}),this.entityManager.addComponentSlow(a,w.default,{hp:50}),this.entityManager.addComponentSlow(a,_.default,{}),this.entityManager.addComponentSlow(a,y.default,{selfDamage:100}),this.entityManager.addComponentSlow(a,ye.default,{targetEntity:r.uid,speed:15,turnRate:5}),this.entityManager.addComponentSlow(a,ne.default,{sound:"missile",loop:!0,playOnce:!1,refDistance:2,volume:.8});const i=this.entityManager.create();this.entityManager.addComponentSlow(i,ie.default,{parent:a.index,position:{x:0,z:0,y:0}}),this.entityManager.addComponentSlow(a,oe.default,{preset:"missile",runOnce:!1})}spawnProjectiles(r){}}ProjectileTrapSystem.order=5,o([E.InjectGroup(ie.default,_e.default),s("design:type","function"==typeof(i=void 0!==j.default&&j.default)?i:Object)],ProjectileTrapSystem.prototype,"projectileTrapGroup",void 0),n.default=ProjectileTrapSystem},function(r,n,a){"use strict";a.r(n),a.d(n,"MathUtils",(function(){return s}));const i=[];for(let r=0;r<256;r++)i[r]=(r<16?"0":"")+r.toString(16);let o=1234567;const s={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID(){const r=4294967295*Math.random()|0,n=4294967295*Math.random()|0,a=4294967295*Math.random()|0,o=4294967295*Math.random()|0;return(i[255&r]+i[r>>8&255]+i[r>>16&255]+i[r>>24&255]+"-"+i[255&n]+i[n>>8&255]+"-"+i[n>>16&15|64]+i[n>>24&255]+"-"+i[63&a|128]+i[a>>8&255]+"-"+i[a>>16&255]+i[a>>24&255]+i[255&o]+i[o>>8&255]+i[o>>16&255]+i[o>>24&255]).toUpperCase()},clamp:(r,n,a)=>Math.max(n,Math.min(a,r)),euclideanModulo:(r,n)=>(r%n+n)%n,mapLinear:(r,n,a,i,o)=>i+(r-n)*(o-i)/(a-n),lerp:(r,n,a)=>(1-a)*r+a*n,smoothstep:(r,n,a)=>r<=n?0:r>=a?1:(r=(r-n)/(a-n))*r*(3-2*r),smootherstep:(r,n,a)=>r<=n?0:r>=a?1:(r=(r-n)/(a-n))*r*r*(r*(6*r-15)+10),randInt:(r,n)=>r+Math.floor(Math.random()*(n-r+1)),randFloat:(r,n)=>r+Math.random()*(n-r),randFloatSpread:r=>r*(.5-Math.random()),seededRandom:r=>(void 0!==r&&(o=r%2147483647),o=16807*o%2147483647,(o-1)/2147483646),degToRad:r=>r*s.DEG2RAD,radToDeg:r=>r*s.RAD2DEG,isPowerOfTwo:r=>0==(r&r-1)&&0!==r,ceilPowerOfTwo:r=>Math.pow(2,Math.ceil(Math.log(r)/Math.LN2)),floorPowerOfTwo:r=>Math.pow(2,Math.floor(Math.log(r)/Math.LN2)),setQuaternionFromProperEuler(r,n,a,i,o){const s=Math.cos,y=Math.sin,_=s(a/2),w=y(a/2),E=s((n+i)/2),j=y((n+i)/2),q=s((n-i)/2),$=y((n-i)/2),ne=s((i-n)/2),ie=y((i-n)/2);switch(o){case"XYX":r.set(_*j,w*q,w*$,_*E);break;case"YZY":r.set(w*$,_*j,w*q,_*E);break;case"ZXZ":r.set(w*q,w*$,_*j,_*E);break;case"XZX":r.set(_*j,w*ie,w*ne,_*E);break;case"YXY":r.set(w*ne,_*j,w*ie,_*E);break;case"ZYZ":r.set(w*ie,w*ne,_*j,_*E);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+o)}}}},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class ProjectileTrapComponent extends s.default{constructor(){super(...arguments),this.projectileDistanceFromPlayer=12,this.amountOfProjectiles=0,this.projectileSpawnDirection=270,this.projectileSpawnAngle=20}}ProjectileTrapComponent.componentName="projectileTrap",i([y.Property({inspector:"Range",inspectorOptions:{min:1,max:40,step:.1}}),o("design:type",Number)],ProjectileTrapComponent.prototype,"projectileDistanceFromPlayer",void 0),i([y.Property({inspector:!1,advanced:!0}),o("design:type",Number)],ProjectileTrapComponent.prototype,"amountOfProjectiles",void 0),i([y.Property({inspector:"Range",inspectorOptions:{min:0,max:360,step:.1}}),o("design:type",Number)],ProjectileTrapComponent.prototype,"projectileSpawnDirection",void 0),i([y.Property({inspector:"Range",inspectorOptions:{min:0,max:360,step:.1}}),o("design:type",Number)],ProjectileTrapComponent.prototype,"projectileSpawnAngle",void 0),n.default=ProjectileTrapComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(652),_=a(36),w=a(37),E=a(165),j=a(41),q=a(19),$=a(653),ne=a(671);class PulsatingLightSystem extends y.default{constructor(){super(...arguments),this.tmpVec1=new q.Vector3,this.tmpColor=new q.Color(16777215)}onInit(){super.init(this.group);for(let r=0;r<this.group.length;r++){const n=this.group.entities[r],{pulsatingLight:a,material:i}=n;i&&a.originColor.copy(i.color)}}updateTick(r,n){for(let a=0;a<this.group.length;a++){const i=this.group.entities[a],{pulsatingLight:o}=i;o.enabled&&super.updateProgressTick(r,n,i,o)}}handleProgressUpdate(r,n){const{pulsatingLight:a,material:i,light:o,node:s,model:y}=r;let _=$.seek(n,a.startStrength,a.endStrength,a.easing);_=_<0?0:_;const w=.2+_/a.endStrength*.8;this.tmpColor.r=a.originColor.r*w,this.tmpColor.g=a.originColor.g*w,this.tmpColor.b=a.originColor.b*w,i&&(i.color.set(this.tmpColor),i.colorStrength=_),y&&y.instance&&y.instance.setColor(this.tmpColor),s.isDirty=!0,o.strength=_}getProgressBaseComponent(r){return r.pulsatingLight}}PulsatingLightSystem.order=5,o([_.InjectGroup(j.default,ne.default,E.default),s("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],PulsatingLightSystem.prototype,"group",void 0),n.default=PulsatingLightSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(655),y=a(26),_=a(19);class PulsatingLightComponent extends s.default{constructor(){super(...arguments),this.originColor=new _.Color,this.startStrength=1,this.endStrength=5}}PulsatingLightComponent.componentName="pulsatingLight",i([y.Property({advanced:!0}),o("design:type",Number)],PulsatingLightComponent.prototype,"startStrength",void 0),i([y.Property({advanced:!0}),o("design:type",Number)],PulsatingLightComponent.prototype,"endStrength",void 0),n.default=PulsatingLightComponent},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(603),w=a(621),E=a(36),j=a(37),q=a(40),$=a(41),ne=a(46),ie=a(65),oe=a(19),se=a(673);class RollSystem extends q.default{constructor(){super(),this.tmpVec1=new oe.Vector3}onInit(){this.rollGroup.on("entityAdded",this.onEntityAdded,this)}onEntityAdded(r){r.rigidBody&&this.entityManager.updateComponent(r,ie.default,{physicality:ne.Physicality.DYNAMIC}),r.traits&&this.entityManager.updateComponent(r,w.default,{physicality:ne.Physicality.DYNAMIC})}updateTick(r,n){for(let r=0;r<this.rollGroup.length;r++){const a=this.rollGroup.entities[r],{node:i,roll:o}=a;if(!o.enabled||!a.rigidBody)continue;const[s,y]=this.findTarget(a);if(!s||y>o.maxDistance*o.maxDistance)continue;this.tmpVec1.subVectors(i.position,s.position).normalize();const _=this.tmpVec1.multiplyScalar(-o.force*n);a.rigidBody.object&&a.rigidBody.object.applyCentralForce(_)}}findTarget(r){const{node:n,roll:a}=r;let i=null,o=Number.MAX_SAFE_INTEGER;for(let s=0;s<this.targetGroup.length;s++){const y=this.targetGroup.entities[s],{node:_,target:w}=y;if(!w.enabled||r.uid===y.uid||a.channel!==w.channel)continue;const E=_.position.distanceToSquared(n.position);E<o&&(i=_,o=E)}return[i,o]}}RollSystem.order=5,s([E.InjectGroup($.default,se.default),y("design:type","function"==typeof(i=void 0!==j.default&&j.default)?i:Object)],RollSystem.prototype,"rollGroup",void 0),s([E.InjectGroup($.default,_.default),y("design:type","function"==typeof(o=void 0!==j.default&&j.default)?o:Object)],RollSystem.prototype,"targetGroup",void 0),n.default=RollSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26),_=a(19),w=a(42);class RollComponent extends s.default{constructor(){super(...arguments),this.velocity=new _.Vector3,this.phase=4*Math.random(),this.enabled=!0,this.force=2e4,this.channel=0,this.maxDistance=200,this.minDistance=4}}RollComponent.componentName="roll",RollComponent.displayName="Rolling Stalker",i([y.Property(),o("design:type",Boolean)],RollComponent.prototype,"enabled",void 0),i([y.Property({inspectorOptions:{pattern:w.patterns.floatPositiveNotEmpty,minValue:0}}),o("design:type",Number)],RollComponent.prototype,"force",void 0),i([y.Property({inspectorOptions:{pattern:w.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],RollComponent.prototype,"channel",void 0),i([y.Property({advanced:!0,inspectorOptions:{pattern:w.patterns.floatPositiveNotEmpty,minValue:0}}),o("design:type",Number)],RollComponent.prototype,"maxDistance",void 0),i([y.Property({advanced:!0,inspectorOptions:{pattern:w.patterns.floatPositiveNotEmpty,minValue:0}}),o("design:type",Number)],RollComponent.prototype,"minDistance",void 0),n.default=RollComponent},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(603),w=a(621),E=a(36),j=a(37),q=a(40),$=a(41),ne=a(46),ie=a(65),oe=a(19),se=a(675);class RollingPetSystem extends q.default{constructor(){super(),this.tmpVec1=new oe.Vector3}onInit(){this.rollGroup.on("entityAdded",this.onEntityAdded,this)}onEntityAdded(r){r.rigidBody&&this.entityManager.updateComponent(r,ie.default,{physicality:ne.Physicality.DYNAMIC}),r.traits&&this.entityManager.updateComponent(r,w.default,{physicality:ne.Physicality.DYNAMIC})}updateTick(r,n){if(r%2!=0)for(let r=0;r<this.rollGroup.length;r++){const a=this.rollGroup.entities[r],{node:i,rollingPet:o}=a;if(!o.enabled)continue;const s=Math.max(i.scale.x,i.scale.y,i.scale.z),[y,_]=this.findTarget(a);if(!y||_>o.maxDistance*o.maxDistance)continue;const w=Math.sin(o.time*o.speed*o.randomSpeed+o.phase)*o.distance*o.randomSpeed,E=Math.sin(o.time*o.speed*o.randomSpeed+.1*o.phase)*o.distance*o.randomSpeed,j=_>o.minDistance*o.minDistance+s?-1:1;this.tmpVec1.subVectors(i.position,y.position).normalize(),this.tmpVec1.multiplyScalar(j),this.tmpVec1.x+=w,this.tmpVec1.z+=E,o.time+=n;const q=this.tmpVec1.multiplyScalar(o.force*n);if(a.rigidBody.object.applyCentralForce(q),o.jumping&&(o.jumpTimer-=n,o.jumpTimer<=0)){const r=this.tmpVec1.set(0,Math.abs(w),0).multiplyScalar(1e4);o.jumpTimer=10*Math.random(),a.rigidBody.object.applyCentralImpulse(r)}}}findTarget({node:r,rollingPet:n}){let a=null,i=Number.MAX_SAFE_INTEGER;for(let o=0;o<this.targetGroup.length;o++){const{node:s,target:y}=this.targetGroup.entities[o];if(!y.enabled)continue;if(n.channel!==y.channel)continue;const _=s.position.distanceToSquared(r.position);_<i&&(a=s,i=_)}return[a,i]}}RollingPetSystem.order=5,s([E.InjectGroup($.default,ie.default,se.default),y("design:type","function"==typeof(i=void 0!==j.default&&j.default)?i:Object)],RollingPetSystem.prototype,"rollGroup",void 0),s([E.InjectGroup($.default,_.default),y("design:type","function"==typeof(o=void 0!==j.default&&j.default)?o:Object)],RollingPetSystem.prototype,"targetGroup",void 0),n.default=RollingPetSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26),_=a(19),w=a(42);class RollingPetComponent extends s.default{constructor(){super(...arguments),this.velocity=new _.Vector3,this.phase=4*Math.random(),this.jumpTimer=.16*Math.random(),this.randomSpeed=2.25*Math.random(),this.time=0,this.enabled=!0,this.force=3e3,this.channel=0,this.maxDistance=20,this.jumping=!0,this.speed=5,this.distance=.01,this.minDistance=4,this.maxSpeed=2}}RollingPetComponent.componentName="rollingPet",i([y.Property(),o("design:type",Boolean)],RollingPetComponent.prototype,"enabled",void 0),i([y.Property({inspectorOptions:{pattern:w.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],RollingPetComponent.prototype,"force",void 0),i([y.Property({advanced:!0,inspectorOptions:{pattern:w.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],RollingPetComponent.prototype,"channel",void 0),i([y.Property({advanced:!0,inspectorOptions:{pattern:w.patterns.floatPositiveNotEmpty,minValue:0}}),o("design:type",Number)],RollingPetComponent.prototype,"maxDistance",void 0),i([y.Property({advanced:!0}),o("design:type",Boolean)],RollingPetComponent.prototype,"jumping",void 0),i([y.Property({inspectorOptions:{pattern:w.patterns.floatPositiveNotEmpty,minValue:0}}),o("design:type",Number)],RollingPetComponent.prototype,"speed",void 0),i([y.Property({advanced:!0,inspectorOptions:{pattern:w.patterns.floatPositiveNotEmpty,minValue:4}}),o("design:type",Number)],RollingPetComponent.prototype,"distance",void 0),i([y.Property({advanced:!0,inspectorOptions:{pattern:w.patterns.floatPositiveNotEmpty,minValue:4}}),o("design:type",Number)],RollingPetComponent.prototype,"minDistance",void 0),i([y.Property({advanced:!0,inspectorOptions:{pattern:w.patterns.floatPositiveNotEmpty,minValue:0}}),o("design:type",Number)],RollingPetComponent.prototype,"maxSpeed",void 0),n.default=RollingPetComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(652),_=a(621),w=a(36),E=a(37),j=a(18),q=a(41),$=a(46),ne=a(65),ie=a(19),oe=a(653),se=a(677);class RotateSystem extends y.default{constructor(){super(),this.currentRotationAxis=new ie.Vector3,this.tmpVec1=new ie.Vector3}onInit(){super.init(this.rotateGroup),this.rotateGroup.on("entityAdded",this.onEntityAdded,this),this.rotateGroup.on("entityUpdated",this.onEntityUpdated,this)}onEntityAdded(r){r.rigidBody&&r.rigidBody.physicality!==$.Physicality.KINEMATIC&&r.rigidBody.physicality!==$.Physicality.GHOST&&this.entityManager.updateComponent(r,ne.default,{physicality:$.Physicality.KINEMATIC}),r.traits&&r.traits.physicality!==$.Physicality.KINEMATIC&&r.traits.physicality!==$.Physicality.GHOST&&this.entityManager.updateComponent(r,_.default,{physicality:$.Physicality.KINEMATIC}),r.rotate.rotationAxis.normalize()}onEntityUpdated(r){r.rotate.rotationAxis.normalize()}updateTick(r,n){for(let a=0;a<this.rotateGroup.length;a++){const i=this.rotateGroup.entities[a];i.rotate.enabled&&super.updateProgressTick(r,n,i,i.rotate)}}handleProgressUpdate(r,n){const{rotate:a,node:i,model:o}=r;if(!(null==o?void 0:o.instance))return;const s=o.instance.geometry.boundingBox.getSize(this.tmpVec1).multiply(i.scale);a.worldPivotPoint.set(.5*s.x*a.pivotOffset.x,.5*s.y*a.pivotOffset.y,.5*s.z*a.pivotOffset.z),a.worldPivotPoint.applyQuaternion(i.rotation),a.worldPivotPoint.add(i.position);const y=oe.seek(n,a.startValue,a.endValue,a.easing),_=y-a.lastValue;a.lastValue=y,this.currentRotationAxis.copy(a.rotationAxis).applyQuaternion(i.rotation),j.default.rotateAroundWorldAxis(i,a.worldPivotPoint,_,this.currentRotationAxis),i.rotation.normalize(),i.isDirty=!0}getProgressBaseComponent(r){return r.rotate}}RotateSystem.order=5,o([w.InjectGroup(q.default,se.default),s("design:type","function"==typeof(i=void 0!==E.default&&E.default)?i:Object)],RotateSystem.prototype,"rotateGroup",void 0),n.default=RotateSystem},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(655),w=a(42),E=a(26),j=a(19);class RotateComponent extends _.default{constructor(){super(...arguments),this.worldPivotPoint=new j.Vector3,this.active=!0,this.pivotOffset=new j.Vector3,this.rotationAxis=new j.Vector3(0,1,0),this.startValue=0,this.endValue=2*Math.PI}}RotateComponent.componentName="rotate",s([E.Property(),y("design:type",Boolean)],RotateComponent.prototype,"active",void 0),s([E.Property({inspectorOptions:{pattern:w.patterns.floatPositiveNegative}}),y("design:type","function"==typeof(i=void 0!==j.Vector3&&j.Vector3)?i:Object)],RotateComponent.prototype,"pivotOffset",void 0),s([E.Property({inspectorOptions:{pattern:w.patterns.floatPositiveNegative}}),y("design:type","function"==typeof(o=void 0!==j.Vector3&&j.Vector3)?o:Object)],RotateComponent.prototype,"rotationAxis",void 0),s([E.Property({advanced:!0}),y("design:type",Number)],RotateComponent.prototype,"startValue",void 0),s([E.Property({advanced:!0}),y("design:type",Number)],RotateComponent.prototype,"endValue",void 0),n.default=RotateComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(37),w=a(40),E=a(41),j=a(19),q=a(679);class RotateTestSystem extends w.default{constructor(){super(...arguments),this.tmpQuat=new j.Quaternion,this.upVector=new j.Vector3(0,1,0)}updateTick(r,n){this.tmpQuat.setFromAxisAngle(this.upVector,.5*n);for(let r=0;r<this.rotateGroup.entities.length;r++)this.rotateGroup.entities[r].node.rotation.multiply(this.tmpQuat)}}RotateTestSystem.order=500,o([y.InjectGroup(E.default,q.default),s("design:type","function"==typeof(i=void 0!==_.default&&_.default)?i:Object)],RotateTestSystem.prototype,"rotateGroup",void 0),n.default=RotateTestSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(24);class RotateTestComponent extends i.default{}RotateTestComponent.componentName="rotateTest",n.default=RotateTestComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(627),_=a(631),w=a(291),E=a(36),j=a(37),q=a(40),$=a(23),ne=a(41),ie=a(46),oe=a(65),se=a(172),le=a(19),pe=a(681);class ShooterSystem extends q.default{constructor(){super(...arguments),this.tmpVector1=new le.Vector3,this.tmpVector2=new le.Vector3}shoot({node:r,shooter:n},a,i){const o=this.entityManager.create();this.entityManager.addComponentSlow(o,ne.default,{position:a,scale:{x:.2,y:.2,z:.2}}),this.entityManager.addComponentSlow(o,se.default,{geometry:n.geometry}),this.entityManager.addComponentSlow(o,$.default,{material:n.material}),this.entityManager.addComponentSlow(o,oe.default,{physicality:ie.Physicality.DYNAMIC,mass:n.mass}),this.entityManager.addComponentSlow(o,y.default,{damage:50,selfDamage:200}),this.entityManager.addComponentSlow(o,w.default,{hp:50}),this.entityManager.addComponentSlow(o,_.default,{soundDestruction:n.soundDestruction}),o.rigidBody.applyCentralImpulse(i.multiplyScalar(n.force))}updateTick(r,n){if(r%2!=0)for(let r=0;r<this.shooterGroup.length;r++){const a=this.shooterGroup.entities[r],{node:i,shooter:o,model:s}=a;if(!s.instance)continue;if(o.shootCooldown-=n,o.shootCooldown>0)continue;console.log(o.interval),o.shootCooldown=o.interval;const y=s.instance.geometry.boundingSphere.radius*Math.max(i.scale.x,i.scale.y,i.scale.z),_=this.tmpVector1.set(0,0,1).applyQuaternion(i.rotation),w=this.tmpVector2.copy(_).multiplyScalar(y).add(i.position);this.shoot(a,w,_)}}}ShooterSystem.order=5,o([E.InjectGroup(ne.default,pe.default,se.default),s("design:type","function"==typeof(i=void 0!==j.default&&j.default)?i:Object)],ShooterSystem.prototype,"shooterGroup",void 0),n.default=ShooterSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26),_=a(42);class ShooterComponent extends s.default{constructor(){super(...arguments),this.interval=3,this.far=25,this.mass=20,this.force=1500,this.material="T_steel_01",this.geometry="sphere",this.soundDestruction="boom_blast",this.shootOffset=Math.random(),this.shootCooldown=0}}ShooterComponent.componentName="shooter",i([y.Property({inspectorOptions:{pattern:_.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],ShooterComponent.prototype,"interval",void 0),i([y.Property({inspectorOptions:{pattern:_.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],ShooterComponent.prototype,"far",void 0),i([y.Property({inspectorOptions:{pattern:_.patterns.floatPositiveNotEmpty,minValue:0}}),o("design:type",Number)],ShooterComponent.prototype,"mass",void 0),i([y.Property({inspectorOptions:{pattern:_.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],ShooterComponent.prototype,"force",void 0),i([y.Property({inspector:"Material"}),o("design:type",String)],ShooterComponent.prototype,"material",void 0),i([y.Property({inspector:"Geometry"}),o("design:type",String)],ShooterComponent.prototype,"geometry",void 0),i([y.Property({inspector:"Sound"}),o("design:type",String)],ShooterComponent.prototype,"soundDestruction",void 0),i([y.Property({inspectorOptions:{pattern:_.patterns.floatPositiveNotEmpty,minValue:0}}),o("design:type",Number)],ShooterComponent.prototype,"shootOffset",void 0),i([y.Property({inspector:!1}),o("design:type",Number)],ShooterComponent.prototype,"shootCooldown",void 0),n.default=ShooterComponent},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(36),w=a(37),E=a(40),j=a(41),q=a(683),$=a(684);class ObjectSpawnerSystem extends E.default{onInit(){this.spawnerGroup.on("entityAdded",this.onEntityAdded,this),this.spawnerGroup.on("entityUpdated",this.onComponentAdded,this),this.spawneesGroup.on("entityRemoved",this.onSpawneeRemoved,this)}onEntityAdded(r){for(let n=0;n<r.componentIds.length;n++){if(r.componentIds[n]===q.default.id)continue;const a=r.componentIds[n];this.entityManager.updateComponent(r,a,{enabled:!1})}r.spawn.currentTime=999,r.spawn.shouldSpawn=!0}onComponentAdded(r){}onSpawneeRemoved(r){const{wave:n}=r,a=this.entityManager.getEntity(n.channel);a&&(a.spawn.currentTime=0,a.spawn.shouldSpawn=!0)}updateTick(r,n){if(r%2!=0)for(let r=0;r<this.spawnerGroup.length;r++){const a=this.spawnerGroup.entities[r],{spawn:i}=a;i.enabled&&(i.currentTime+=n,!i.shouldSpawn||i.currentTime<=i.respawnTime||(this.spawnWave(a),i.shouldSpawn=!1))}}spawnObject(r){const{componentIds:n}=r,a=this.entityManager.create();for(let i=0;i<n.length;i++){const o=n[i];if(o===q.default.id)continue;const s=this.entityManager.getComponentClassById(o),y=this.entityManager.getComponent(r,o),_=this.entityManager.addComponentBegin(a,s);_.fromComponent(y),_.enabled=!0}this.entityManager.addComponentBegin(a,$.default).channel=r.index,this.entityManager.addComponentFinalize()}spawnWave(r){const{spawn:n}=r;if(!n.enabled)return;if(n.numberOfWaves>0&&n.currentWave<n.numberOfWaves)return;const a=this.getNumOwnedEntities(r);if(!(a>=n.maxQuantity*n.waveMultiplier||a>n.minQuantity)){n.currentWave++;for(let a=0;a<n.maxQuantity*n.waveMultiplier;a++)this.spawnObject(r)}}getNumOwnedEntities(r){let n=0;for(let a=0;a<this.spawneesGroup.entities.length;a++)this.spawneesGroup.entities[a].wave.channel===r.index&&n++;return n}}s([_.InjectGroup(j.default,q.default),y("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],ObjectSpawnerSystem.prototype,"spawnerGroup",void 0),s([_.InjectGroup(j.default,$.default),y("design:type","function"==typeof(o=void 0!==w.default&&w.default)?o:Object)],ObjectSpawnerSystem.prototype,"spawneesGroup",void 0),n.default=ObjectSpawnerSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0}),n.WaveMode=void 0;const s=a(42),y=a(24),_=a(26);var w;(w=n.WaveMode||(n.WaveMode={}))[w.KEEP_UP=0]="KEEP_UP",w[w.WAVES=1]="WAVES";class SpawnerComponent extends y.default{constructor(){super(...arguments),this.enabled=!0,this.maxQuantity=1,this.minQuantity=0,this.respawnTime=3,this.numberOfWaves=0,this.waveMultiplier=1,this.currentTime=0,this.currentWave=0,this.shouldSpawn=!1}}SpawnerComponent.componentName="spawn",i([_.Property(),o("design:type",Boolean)],SpawnerComponent.prototype,"enabled",void 0),i([_.Property({inspectorOptions:{pattern:s.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],SpawnerComponent.prototype,"maxQuantity",void 0),i([_.Property({advanced:!0,inspectorOptions:{pattern:s.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],SpawnerComponent.prototype,"minQuantity",void 0),i([_.Property({advanced:!0,inspectorOptions:{pattern:s.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],SpawnerComponent.prototype,"respawnTime",void 0),i([_.Property({advanced:!0,inspectorOptions:{pattern:s.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],SpawnerComponent.prototype,"numberOfWaves",void 0),i([_.Property({advanced:!0,inspectorOptions:{pattern:s.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],SpawnerComponent.prototype,"waveMultiplier",void 0),i([_.Property({inspector:!1}),o("design:type",Number)],SpawnerComponent.prototype,"currentTime",void 0),i([_.Property({inspector:!1}),o("design:type",Number)],SpawnerComponent.prototype,"currentWave",void 0),i([_.Property({advanced:!0}),o("design:type",Boolean)],SpawnerComponent.prototype,"shouldSpawn",void 0),n.default=SpawnerComponent},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class WaveComponent extends s.default{constructor(){super(...arguments),this.enabled=!0,this.channel=0}}WaveComponent.componentName="wave",i([y.Property(),o("design:type",Boolean)],WaveComponent.prototype,"enabled",void 0),i([y.Property(),o("design:type",Number)],WaveComponent.prototype,"channel",void 0),n.default=WaveComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(37),w=a(40),E=a(18),j=a(155),q=a(41),$=a(403),ne=a(45),ie=a(46),oe=a(65),se=a(686),le=a(687),pe=a(169);class TeleporterSystem extends w.default{constructor(){super(),this.destinations=null}onInit(){this.teleporterGroup.on("entityAdded",this.onEntityAdded,this),this.teleporterGroup.on("collisionEnter",this.onCollisionEnter,this),this.teleporterGroup.on("collisionLeave",this.onCollisionLeave,this)}onEntityAdded(r){r.rigidBody&&this.entityManager.updateComponent(r,oe.default,{physicality:ie.Physicality.GHOST,group:ne.PHYSICS_GROUPS.DefaultFilter,mask:ne.PHYSICS_GROUPS.DefaultFilter|ne.PHYSICS_GROUPS.CharacterFilter})}onCollisionEnter(r,n){r.teleporter.active||n.teleportCooldown?n.teleportCooldown&&this.entityManager.removeComponent(n,se.default):this.triggerTeleportation(r,n)}onCollisionLeave(r,n){}triggerTeleportation(r,n){if(!r)return;const a=this.findDestination(r);if(a){const r=a.node.position;this.entityManager.addComponentSlow(n,se.default,{}),this.entityManager.updateComponent(n,q.default,{position:r}),this.entityManager.getSystem(j.default).playPositionalSound("long_wispy_woosh",r,pe.AUDIO_DEFAULT_VOLUME,3),this.entityManager.getSystem($.default).playEffect("explosion",r)}}findDestination({index:r,node:n,teleporter:a}){const i=[];for(let n=0;n<this.teleporterGroup.entities.length;n++){const o=this.teleporterGroup.entities[n];o.teleporter.enabled&&o.index!==r&&!o.teleporter.arrived&&o.teleporter.channel===a.channel&&(o.teleporter.arrived||i.push(o))}return i[E.default.rand(0,i.length-1)]}}TeleporterSystem.order=5,o([y.InjectGroup(q.default,le.default),s("design:type","function"==typeof(i=void 0!==_.default&&_.default)?i:Object)],TeleporterSystem.prototype,"teleporterGroup",void 0),n.default=TeleporterSystem},function(r,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=a(24);class TeleportCooldownComponent extends i.default{}TeleportCooldownComponent.componentName="teleportCooldown",n.default=TeleportCooldownComponent},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26),_=a(42);class TeleporterComponent extends s.default{constructor(){super(...arguments),this.enabled=!0,this.channel=0,this.active=!1,this.arrived=!1,this.triggerType="toggle"}}TeleporterComponent.componentName="teleporter",i([y.Property(),o("design:type",Boolean)],TeleporterComponent.prototype,"enabled",void 0),i([y.Property({inspectorOptions:{pattern:_.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],TeleporterComponent.prototype,"channel",void 0),i([y.Property({inspector:!1}),o("design:type",Boolean)],TeleporterComponent.prototype,"active",void 0),i([y.Property({inspector:!1}),o("design:type",Boolean)],TeleporterComponent.prototype,"arrived",void 0),i([y.Property({inspector:!1}),o("design:type",String)],TeleporterComponent.prototype,"triggerType",void 0),n.default=TeleporterComponent},function(r,n,a){"use strict";var i,o,s=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},y=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const _=a(621),w=a(36),E=a(37),j=a(40),q=a(41),$=a(46),ne=a(65),ie=a(19),oe=a(689),se=a(603);class TrackSystem extends j.default{constructor(){super(...arguments),this.upVec=new ie.Vector3(0,1,0),this.tmpMatrix4=new ie.Matrix4,this.tmpTransform=new q.Transform,this.tmpTransform2=new q.Transform}onInit(){this.trackGroup.on("entityAdded",this.onEntityAdded,this)}onEntityAdded(r){r.rigidBody&&this.entityManager.updateComponent(r,ne.default,{physicality:$.Physicality.KINEMATIC}),r.traits&&this.entityManager.updateComponent(r,_.default,{physicality:$.Physicality.KINEMATIC})}updateTick(r,n){for(let r=0;r<this.trackGroup.length;r++){const n=this.trackGroup.entities[r];n.track.enabled&&this.findTarget(n)}}findTarget(r){const{node:n,track:a}=r;let i=null,o=Number.MAX_SAFE_INTEGER;for(let s=0;s<this.targetGroup.length;s++){const y=this.targetGroup.entities[s],{node:_,target:w}=y;if(!w.enabled||r.uid===y.uid||a.channel!==w.channel)continue;const E=_.position.distanceToSquared(n.position);E<o&&(i=_,o=E)}if(i&&o<a.maxDistance*a.maxDistance){const r=n.getAbsoluteTransform(this.tmpTransform),a=i.getAbsoluteTransform(this.tmpTransform2);this.tmpMatrix4.lookAt(r.position.negate(),a.position.negate(),this.upVec),n.rotation.setFromRotationMatrix(this.tmpMatrix4)}}}TrackSystem.order=5,s([w.InjectGroup(q.default,oe.default),y("design:type","function"==typeof(i=void 0!==E.default&&E.default)?i:Object)],TrackSystem.prototype,"trackGroup",void 0),s([w.InjectGroup(q.default,se.default),y("design:type","function"==typeof(o=void 0!==E.default&&E.default)?o:Object)],TrackSystem.prototype,"targetGroup",void 0),n.default=TrackSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26),_=a(42);class TrackComponent extends s.default{constructor(){super(...arguments),this.currentVelocity=0,this.maxDistance=250,this.channel=0,this.acceleration=100,this.maxVelocity=200}}TrackComponent.componentName="track",i([y.Property({inspectorOptions:{pattern:_.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],TrackComponent.prototype,"maxDistance",void 0),i([y.Property({inspectorOptions:{pattern:_.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],TrackComponent.prototype,"channel",void 0),i([y.Property({advanced:!0,inspectorOptions:{pattern:_.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],TrackComponent.prototype,"acceleration",void 0),i([y.Property({advanced:!0,inspectorOptions:{pattern:_.patterns.intPositiveNotEmpty,minValue:0}}),o("design:type",Number)],TrackComponent.prototype,"maxVelocity",void 0),n.default=TrackComponent},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(37),w=a(40),E=a(41),j=a(65),q=a(621);class UpdateTraitsSystem extends w.default{onInit(){this.physicalityGroup.on("entityAdded",this.handlePhysicalEntityAdded,this)}handlePhysicalEntityAdded(r){this.entityManager.updateComponent(r,j.default,{physicality:r.traits.physicality})}}UpdateTraitsSystem.order=5,o([y.InjectGroup(E.default,j.default,q.default),s("design:type","function"==typeof(i=void 0!==_.default&&_.default)?i:Object)],UpdateTraitsSystem.prototype,"physicalityGroup",void 0),n.default=UpdateTraitsSystem},function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(36),_=a(37),w=a(40),E=a(155),j=a(41),q=a(65),$=a(19),ne=a(692),ie=a(169);class TrampolineSystem extends w.default{constructor(){super(...arguments),this.tmpTransform=new j.Transform}onInit(){this.tramps.on("collisionEnter",this.handleCollisionEnter,this)}handleCollisionEnter(r,n,a){n.characterController&&this.applyForceCharacter(r,n)}applyForceCharacter(r,n){if(!n.characterController||n.characterController.velocity.y>=0)return;const a=Math.min(-n.characterController.velocity.y*r.trampoline.forceMultiplier,r.trampoline.maxForce),i=new $.Vector3(0,a,0);if(n.characterController.applyCentralImpulse(i),r.trampoline.soundEffect){const n=r.node.getAbsoluteTransform(this.tmpTransform);this.entityManager.getSystem(E.default).playPositionalSound(r.trampoline.soundEffect,n.position,ie.AUDIO_DEFAULT_VOLUME,2)}}}TrampolineSystem.order=5,o([y.InjectGroup(j.default,q.default,ne.default),s("design:type","function"==typeof(i=void 0!==_.default&&_.default)?i:Object)],TrampolineSystem.prototype,"tramps",void 0),n.default=TrampolineSystem},function(r,n,a){"use strict";var i=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},o=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const s=a(24),y=a(26);class TrampolineComponent extends s.default{constructor(){super(...arguments),this.forceMultiplier=4,this.maxForce=9999,this.soundEffect="jump"}}TrampolineComponent.componentName="trampoline",i([y.Property(),o("design:type",Number)],TrampolineComponent.prototype,"forceMultiplier",void 0),i([y.Property(),o("design:type",Number)],TrampolineComponent.prototype,"maxForce",void 0),i([y.Property({inspector:"Sound"}),o("design:type",String)],TrampolineComponent.prototype,"soundEffect",void 0),n.default=TrampolineComponent},,function(r,n,a){"use strict";var i;Object.defineProperty(n,"__esModule",{value:!0}),n.Tags=void 0,(i=n.Tags||(n.Tags={}))[i.STATIS=0]="STATIS",i[i.ANIMATED=1]="ANIMATED",i[i._GK_PLATFORMER=2]="_GK_PLATFORMER",i[i._GK_SHOOTER=3]="_GK_SHOOTER",i[i.WALL=4]="WALL",i[i.FLOOR=5]="FLOOR",i[i.COLLIDEDAMAGE=6]="COLLIDEDAMAGE",i[i.POWERUP=7]="POWERUP",i[i.SHOOTER=8]="SHOOTER",i[i.COLLECTIBLE=9]="COLLECTIBLE",i[i.DESTRUCTIBLE=10]="DESTRUCTIBLE",i[i.FALLING_WATER=11]="FALLING_WATER",i[i.STAIRLIKE=12]="STAIRLIKE"},,,function(r,n,a){"use strict";var i,o=this&&this.__decorate||function(r,n,a,i){var o,s=arguments.length,y=s<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,a):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)y=Reflect.decorate(r,n,a,i);else for(var _=r.length-1;_>=0;_--)(o=r[_])&&(y=(s<3?o(y):s>3?o(n,a,y):o(n,a))||y);return s>3&&y&&Object.defineProperty(n,a,y),y},s=this&&this.__metadata||function(r,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,n)};Object.defineProperty(n,"__esModule",{value:!0});const y=a(41),_=a(36),w=a(37),E=a(40),j=a(305),q=a(19),$=a(302);class AccelerationSystem extends E.default{constructor(){super(...arguments),this.tmpVec1=new q.Vector3}updateFrame(r,n){for(let r=0;r<this.entityGroup.length;r++){const{velocity:a,acceleration:i}=this.entityGroup.entities[r];this.tmpVec1.copy(i.value),this.tmpVec1.multiplyScalar(n),a.value.add(this.tmpVec1)}}}AccelerationSystem.order=14,o([_.InjectGroup(y.default,j.default,$.default),s("design:type","function"==typeof(i=void 0!==w.default&&w.default)?i:Object)],AccelerationSystem.prototype,"entityGroup",void 0),n.default=AccelerationSystem},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(r,n,a){"use strict";a.r(n);var i="\n#define PHONG\n#define USE_MAP \n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\n\nvarying vec4 vWorldPos;\nvarying float fresnel;\nvarying float distToCamera;\nvarying vec2 vUv;\n\nuniform float time;\n\nvec4 blend(vec4 colorA,vec4 colorB){\nreturn colorA*(1.-colorB.a)+colorB;\n}\n  \nvec4 offBlend(vec4 colorA,vec4 colorB) {\nreturn colorA*(1.-colorB.a)+colorB*colorB.a;\n}\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n//ios: #include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n#define M_PI 3.14159265358979323846\n#define randomNumber 10.288 // For laptops :(\n//#define randomNumber 43758.5453123\n\nmat2 makem2(float theta) {\n    float c = cos(theta);   \n    float s = sin(theta);\n    return mat2(c, -s, s, c);\n}\n\n// 2D Random\nfloat random3(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * 43758.5453123);\n}\n\nvec2 random2(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*43758.5453123);\n}\n\nfloat noise(vec2 st) {\n    st = st * 8.0;\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    float a = random3(i);\n    float b = random3(i + vec2(1.0, 0.0));\n    float c = random3(i + vec2(0.0, 1.0));\n    float d = random3(i + vec2(1.0, 1.0));\n    vec2 u = f*f*(3.0-2.0*f);\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\nfloat fbm(in vec2 p) {\n    float z = 2.;\n    float rz = 0.;\n    vec2 bp = p;\n    for (float i = 1.; i < 6.0; i++) {\n        rz += abs((noise(p) - 0.5) * 2.0) / z;\n        z = z * 2.;\n        p = p * 2.;\n    }\n    return rz;\n}\n\nfloat dualfbm(vec2 p) {\n    float distortion = 0.5;\n    float speed = 0.1;\n    vec2 p2 = p * distortion;\n    vec2 basis = vec2(fbm(p2 - time * speed * 1.6), fbm(p2 + time * speed * 1.7));\n    basis = (basis - .5) * .2;\n    p += basis;\n    return fbm(p * makem2(time *  speed * 0.2));\n}\n\nvec3 heatColor(float temp) {\n    temp = pow(temp, 1.0);\n    return vec3(pow(temp, 1.0), pow(temp, 5.5), pow(temp, 5.0) * 0.00);\n}\n\nvec3 heatColor2(float temp) {\n    temp = pow(temp, 2.0);\n\treturn vec3(pow(temp, 1.0), pow(temp, 10.0) * .8, pow(temp, 10.0) * 0.1);\n}\n\nvec3 overlay(vec3 colorA,vec3 colorB , float alpha){\nalpha = clamp(alpha, 0., 1.);\nreturn colorA*(1.-alpha)+colorB*alpha;\n}\n\nvec4 lava(vec2 p) {\n    float contrast = 1.1;\n    float zoom  = 0.001;\n    vec2 pos = p* zoom + time * 0.01;\n    float val = 1.0 -dualfbm(pos);\n    vec3 color = heatColor(val);\n    color = ( (color - 0.5 ) * max( contrast, 0.0 ) ) + 0.5;\n    float distToCamera = length(cameraPosition.xyz - vWorldPos.xyz);\n    vec3 colorFar = vec3(1.0 , .8 , .1) * .65;\n    vec3 final = overlay(color, colorFar, min(pow(distToCamera, 1.5) * 0.0015, .9));\n    //float opacity = (distToCamera * distToCamera) / 10.0 - 0.5;\n    return vec4(final, opacity);\n}\n\n\nvoid main() {\t\n\tvec4 diffuseColor =  vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t #include <logdepthbuf_fragment>\n\t //ios: #include <map_fragment>8\n\t #include <color_fragment>\n   #include <alphamap_fragment>\n\t #include <alphatest_fragment>\n\t #include <specularmap_fragment>\n   //ios:#include <normal_fragment_begin>\n   //ios:#include <normal_fragment_maps>\n   //ios:#include <emissivemap_fragment>\n\n\t// accumulation\n\t//ios:#include <lights_phong_fragment>\n\t//ios:#include <lights_fragment_begin>\n\t//ios:#include <lights_fragment_maps>\n\t//ios:#include <lights_fragment_end>\n\n  // modulation \n  #include <aomap_fragment>\n  \n  //ios: #include <envmap_fragment>\n  gl_FragColor = lava((vWorldPos.xz + vWorldPos.y * 0.25) * 10.0);\n\n  #include <tonemapping_fragment>\n  #include <encodings_fragment>\n  #include <fog_fragment>\n  #include <premultiplied_alpha_fragment>\n  #include <dithering_fragment>\n}\n",o="\n#define PHONG\n#define USE_MAP\n#define USE_ENVMAP\n\nvarying vec3 vViewPosition;\nvarying vec4 vWorldPos;\nvarying float distToCamera;\nvarying vec3 positionLocal;\nvarying vec2 vUv;\nuniform float time;\nuniform float opacity;\n\nvarying vec3 vNormal;\n\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n#define M_PI 3.14159265358979323846\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz + vec3(100.0,0.,0.);\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\tvNormal = normalize(transformedNormal);\n\n\tvWorldPos = worldPosition;\n\tvUv = uv;\n\tvec4 cs_position = modelViewMatrix * gl_Position;\n\tdistToCamera = -cs_position.z;\n  positionLocal = position;\n}\n",s="#define PHONG\n#undef USE_MAP\n#undef BOX_MAPPING\n\n#define USE_ENVMAP\n\nvarying vec3 vViewPosition;\nvarying vec3 vWorldPos;\nvarying vec3 vCameraPosition;\nuniform float time;\nuniform vec3 playerPosition;\n\nvarying vec3 vNormal;\nvarying vec3 vWorldNormal;\nvarying float visible;\nvarying float yUv;\n\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n//#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n#define M_PI 3.14159265358979323846\n\nvoid main() {\n  #include <uv2_vertex>\n  #include <color_vertex>\n\n  #include <beginnormal_vertex>\n  #include <morphnormal_vertex>\n  #include <skinbase_vertex>\n  #include <skinnormal_vertex>\n  #include <defaultnormal_vertex>\n\n\n  #include <begin_vertex>\n  #include <morphtarget_vertex>\n  #include <skinning_vertex>\n  #include <displacementmap_vertex>\n  #include <project_vertex>\n  #include <logdepthbuf_vertex>\n  #include <clipping_planes_vertex>\n\n  vViewPosition = - mvPosition.xyz;\n\n  #include <worldpos_vertex>\n  #include <envmap_vertex>\n  //  #include <shadowmap_vertex>\n  #include <fog_vertex>\n  vNormal = normalize(transformedNormal);\n\n  vWorldPos = worldPosition.xyz;\n  yUv = uv.y;\n  vec4 cs_position = modelViewMatrix * gl_Position;\n\n  vWorldNormal = inverseTransformDirection(vNormal, viewMatrix);\n\n  float zAxis = abs(dot(vec3(0.0, 0.0, 1.0), objectNormal));\n\n  visible = step(0.1, zAxis);\n}",y="#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\nvarying vec3 vWorldPos;\nvarying float vOpacity;\n\nuniform float time;\nuniform vec3 playerPosition;\n\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n\n\n#define randomNumber 10.288 // For laptops\n//#define randomNumber 43758.5453123\n\nvec4 particle() {\n  return texture2D( map, vUv) * vec4(vColor, vOpacity);\n}\n\nvoid main() {   \n  gl_FragColor = particle();\n}",_="#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\nvarying vec3 vWorldPos;\nvarying float vOpacity;\n\nuniform float time;\nuniform vec3 playerPosition;\n\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n\n\nvec4 particle() {\n    float lineOpacity = max(1.0 - abs(vUv.x - 0.5) * 2.0, 0.0) * vUv.y;\n   return vec4(vColor, vOpacity * lineOpacity * 1.0);\n\n}\n\nvoid main() {   \n  gl_FragColor = particle();\n}",w=a(149),E=a(148);const j={en_p_metal_object_01:{name:"en_p_metal_object_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"en_p_metal_object_01/en_p_metal_object_01_albedo",sizes:[128,256,512],formats:["astc","dxt","etc2","pvrtc","jpg","png"]},normal:{path:"en_p_metal_object_01/en_p_metal_object_01_normal",sizes:[128,256,512],formats:["astc","dxt","etc2","pvrtc","jpg","png"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},encoding:"br",preferedSize:"512"},en_p_flower_stone_01:{name:"en_p_flower_stone_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"en_p_flower_stone_01/en_p_flower_stone_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc2","pvrtc","jpg","png"]},normal:{path:"en_p_flower_stone_01/en_p_flower_stone_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"en_p_flower_stone_01/en_p_flower_stone_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},encoding:"br",preferedSize:"512"},t_vanic_fire_01:{name:"t_vanic_fire_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"t_vanic_fire_01/t_vanic_fire_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc2","pvrtc","jpg","png"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},encoding:"br",preferedSize:"512"},t_water_ring_01:{name:"t_water_ring_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"t_water_ring_01/t_water_ring_01_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc2","pvrtc","jpg","png"]},normal:{path:"t_water_ring_01/t_water_ring_01_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},encoding:"br",preferedSize:"512"},en_p_asteriod_01:{name:"en_p_asteriod_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"en_p_asteriod_01/en_p_asteriod_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"en_p_asteriod_01/en_p_asteriod_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"en_p_asteriod_01/en_p_asteriod_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},encoding:"br",preferedSize:"512"},EN_P_pug_01:{name:"EN_P_pug_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_pug_01/EN_P_pug_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_pug_01/EN_P_pug_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_pug_01/EN_P_pug_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_fireworksTube_01_rainbow:{name:"EN_P_fireworksTube_01_rainbow",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_fireworksTube_01_rainbow/EN_P_fireworksTube_01_rainbow_albedo",sizes:[128,256,512],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"EN_P_fireworksTube_01_rainbow/EN_P_fireworksTube_01_rainbow_normal",sizes:[128,256,512],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_fireworksTube_01_rainbow/EN_P_fireworksTube_01_rainbow_specular",sizes:[128,256,512],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},GPL_explosiveCrate_01:{name:"GPL_explosiveCrate_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"GPL_explosiveCrate_01/GPL_explosiveCrate_01_albedo",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"GPL_explosiveCrate_01/GPL_explosiveCrate_01_normal",sizes:[128,256,512],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"GPL_explosiveCrate_01/GPL_explosiveCrate_01_specular",sizes:[128,256,512],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specfic:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_fireworksTube_01:{name:"EN_P_fireworksTube_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_fireworksTube_01/EN_P_fireworksTube_01_albedo",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_fireworksTube_01/EN_P_fireworksTube_01_normal",sizes:[128,256,512],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_fireworksTube_01/EN_P_fireworksTube_01_specular",sizes:[128,256,512],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},CH_PL_astronaut_01:{name:"Astronaut",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"CH_PL_astronaut_01/CH_PL_astronaut_01_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"CH_PL_astronaut_01/CH_PL_astronaut_01_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"CH_PL_astronaut_01/CH_PL_astronaut_01_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},GPL_moonGravityPowerUp_01:{name:"Moon Gravity PowerUp",origin:{license:"",credits:"",url:""},tags:"",category:"gameplay",textures:{diffuse:{path:"GPL_moonGravityPowerUp_01/GPL_moonGravityPowerUp_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"GPL_moonGravityPowerUp_01/GPL_moonGravityPowerUp_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"GPL_moonGravityPowerUp_01/GPL_moonGravityPowerUp_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},specific:!0,listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_wood_04:{name:"Hardwood",origin:{license:"",credits:"",url:""},tags:"",category:"Wood",textures:{diffuse:{path:"T_wood_04/T_wood_04_albedo",sizes:[128,256,512,1024,2048,4096],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_wood_04/T_wood_04_normal",sizes:[128,256,512,1024,2048,4096],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_wood_04/T_wood_04_specular",sizes:[128,256,512,1024,2048,4096],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_wood_03:{name:"Darkwood",origin:{license:"",credits:"",url:""},tags:"",category:"Wood",textures:{diffuse:{path:"T_wood_03/T_wood_03_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_wood_03/T_wood_03_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_wood_03/T_wood_03_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_wood_02:{name:"Chestnut Wood",origin:{license:"",credits:"",url:""},tags:"",category:"Wood",textures:{diffuse:{path:"T_wood_02/T_wood_02_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_wood_02/T_wood_02_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_wood_02/T_wood_02_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_wood_01:{name:"Lightwood",origin:{license:"",credits:"",url:""},tags:"",category:"Wood",textures:{diffuse:{path:"T_wood_01/T_wood_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_wood_01/T_wood_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_wood_01/T_wood_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_stoneWall_01:{name:"Stone Wall",origin:{license:"",credits:"",url:""},tags:"",category:"Pavement",textures:{diffuse:{path:"T_stoneWall_01/T_stoneWall_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_stoneWall_01/T_stoneWall_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_stoneWall_01/T_stoneWall_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_stoneFloor_04:{name:"Stone Pavement",origin:{license:"",credits:"",url:""},tags:"",category:"Floors",textures:{diffuse:{path:"T_stoneFloor_04/T_stoneFloor_04_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_stoneFloor_04/T_stoneFloor_04_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_stoneFloor_04/T_stoneFloor_04_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_stoneFloor_03:{name:"Ancient Stone Pavement",origin:{license:"",credits:"",url:""},tags:"",category:"Floors",textures:{diffuse:{path:"T_stoneFloor_03/T_stoneFloor_03_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_stoneFloor_03/T_stoneFloor_03_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_stoneFloor_03/T_stoneFloor_03_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_stoneFloor_02:{name:"Rough Stone Pavement",origin:{license:"",credits:"",url:""},tags:"",category:"Floors",textures:{diffuse:{path:"T_stoneFloor_02/T_stoneFloor_02_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_stoneFloor_02/T_stoneFloor_02_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_stoneFloor_02/T_stoneFloor_02_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_stoneFloor_01:{name:"Darkstone Pavement ",origin:{license:"",credits:"",url:""},tags:"",category:"Floors",textures:{diffuse:{path:"T_stoneFloor_01/T_stoneFloor_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_stoneFloor_01/T_stoneFloor_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_stoneFloor_01/T_stoneFloor_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_steel_01:{name:"Steel",origin:{license:"",credits:"",url:""},tags:"",category:"Metal",textures:{diffuse:{path:"T_steel_01/T_steel_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_steel_01/T_steel_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_steel_01/T_steel_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_sandstone_01:{name:"Sand stone",origin:{license:"",credits:"",url:""},tags:"",category:"Rock",textures:{diffuse:{path:"T_sandstone_01/T_sandstone_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_sandstone_01/T_sandstone_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_sandstone_01/T_sandstone_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_rustyMetal_02:{name:"Rusty Metal 2",origin:{license:"",credits:"",url:""},tags:"",category:"Metal",textures:{diffuse:{path:"T_rustyMetal_02/T_rustyMetal_02_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_rustyMetal_02/T_rustyMetal_02_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_rustyMetal_02/T_rustyMetal_02_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_rustyMetal_01:{name:"Rusty Metal",origin:{license:"",credits:"",url:""},tags:"",category:"Metal",textures:{diffuse:{path:"T_rustyMetal_01/T_rustyMetal_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_rustyMetal_01/T_rustyMetal_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_rustyMetal_01/T_rustyMetal_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_planks_05:{name:"Planks 4",origin:{license:"",credits:"",url:""},tags:"",category:"Planks",textures:{diffuse:{path:"T_planks_05/T_planks_05_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_planks_05/T_planks_05_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_planks_05/T_planks_05_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_planks_04:{name:"Darkwood Planks",origin:{license:"",credits:"",url:""},tags:"",category:"Planks",textures:{diffuse:{path:"T_planks_04/T_planks_04_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_planks_04/T_planks_04_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_planks_04/T_planks_04_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_planks_03:{name:"Chestnut Planks",origin:{license:"",credits:"",url:""},tags:"",category:"Planks",textures:{diffuse:{path:"T_planks_03/T_planks_03_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_planks_03/T_planks_03_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_planks_03/T_planks_03_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_planks_02:{name:"Hardwood Planks",origin:{license:"",credits:"",url:""},tags:"",category:"Planks",textures:{diffuse:{path:"T_planks_02/T_planks_02_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_planks_02/T_planks_02_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_planks_02/T_planks_02_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_ice_01:{name:"Ice",origin:{license:"",credits:"",url:""},tags:"",category:"Snow and ice",textures:{diffuse:{path:"T_ice_01/T_ice_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_ice_01/T_ice_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_ice_01/T_ice_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_granite_01:{name:"Granite",origin:{license:"",credits:"",url:""},tags:"",category:"Rock",textures:{diffuse:{path:"T_granite_01/T_granite_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_granite_01/T_granite_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_granite_01/T_granite_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_gold_01:{name:"Gold",origin:{license:"",credits:"",url:""},tags:"",category:"Metal",textures:{diffuse:{path:"T_gold_01/T_gold_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_gold_01/T_gold_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_gold_01/T_gold_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_dirt_01:{name:"Dirt",origin:{license:"",credits:"",url:""},tags:"",category:"Dirt",textures:{diffuse:{path:"T_dirt_01/T_dirt_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_dirt_01/T_dirt_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_dirt_01/T_dirt_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_bricks_01:{name:"Red Bricks",origin:{license:"",credits:"",url:""},tags:"",category:"Bricks",textures:{diffuse:{path:"T_bricks_01/T_bricks_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_bricks_01/T_bricks_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_bricks_01/T_bricks_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_antiSlipMetal_01:{name:"Anti Slip Metal",origin:{license:"",credits:"",url:""},tags:"",category:"Metal",textures:{diffuse:{path:"T_antiSlipMetal_01/T_antiSlipMetal_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_antiSlipMetal_01/T_antiSlipMetal_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"T_antiSlipMetal_01/T_antiSlipMetal_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},GPL_weaponSpawner_01_waterDrone:{name:"GPL_weaponSpawner_01_waterDrone",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"GPL_weaponSpawner_01_waterDrone/GPL_weaponSpawner_01_waterDrone_albedo",sizes:[128,256,512,1024,2048],formats:["etc2","pvrtc","jpg","png","astc","dxt","etc1"]},normal:{path:"GPL_weaponSpawner_01_waterDrone/GPL_weaponSpawner_01_waterDrone_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"GPL_weaponSpawner_01_waterDrone/GPL_weaponSpawner_01_waterDrone_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},W_droneWaterGun_04:{name:"W_droneWaterGun_04",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"W_droneWaterGun_04/W_droneWaterGun_04_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"W_droneWaterGun_04/W_droneWaterGun_04_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"W_droneWaterGun_04/W_droneWaterGun_04_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_sand_03:{name:"Beach sand",origin:{license:"",credits:"",url:""},tags:"",category:"Sand",textures:{diffuse:{path:"T_sand_03/T_sand_03_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_sand_03/T_sand_03_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_sand_03/T_sand_03_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_sand_02:{name:"Wet sand",origin:{license:"",credits:"",url:""},tags:"",category:"Sand",textures:{diffuse:{path:"T_sand_02/T_sand_02_albedo",sizes:[128,256,512,1024,2048],formats:["pvrtc","jpg","png","astc","dxt","etc1","etc2"]},normal:{path:"T_sand_02/T_sand_02_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_sand_02/T_sand_02_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_seagull_01:{name:"EN_P_seagull_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_seagull_01/EN_P_seagull_01_albedo",sizes:[128,256,512,1024],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"EN_P_seagull_01/EN_P_seagull_01_normal",sizes:[128,256,512,1024],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_seagull_01/EN_P_seagull_01_specular",sizes:[128,256,512,1024],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_reed_01:{name:"EN_P_reed_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_reed_01/EN_P_reed_01_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_reed_01/EN_P_reed_01_normal",sizes:[128,256,512,1024],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_reed_01/EN_P_reed_01_specular",sizes:[128,256,512,1024],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_M_dock_01:{name:"EN_M_dock_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_dock_01/EN_M_dock_01_albedo",sizes:[128,256,512,1024],formats:["etc1","etc2","pvrtc","jpg","png","astc","dxt"]},normal:{path:"EN_M_dock_01/EN_M_dock_01_normal",sizes:[128,256,512,1024],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_M_dock_01/EN_M_dock_01_specular",sizes:[128,256,512,1024],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_towel_01:{name:"EN_P_towel_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_towel_01/EN_P_towel_01_albedo",sizes:[128,256,512,1024,2048],formats:["png","astc","dxt","etc1","etc2","pvrtc","jpg"]},normal:{path:"EN_P_towel_01/EN_P_towel_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_towel_01/EN_P_towel_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_starfish_01:{name:"EN_P_starfish_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_starfish_01/EN_P_starfish_01_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_starfish_01/EN_P_starfish_01_normal",sizes:[128,256,512,1024],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_starfish_01/EN_P_starfish_01_specular",sizes:[128,256,512,1024],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_seashell_01:{name:"EN_P_seashell_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_seashell_01/EN_P_seashell_01_albedo",sizes:[128,256,512,1024,2048],formats:["pvrtc","jpg","png","astc","dxt","etc1","etc2"]},normal:{path:"EN_P_seashell_01/EN_P_seashell_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_seashell_01/EN_P_seashell_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_parasol_01:{name:"EN_P_parasol_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_parasol_01/EN_P_parasol_01_albedo",sizes:[256,512,1024,2048,128],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},normal:{path:"EN_P_parasol_01/EN_P_parasol_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_parasol_01/EN_P_parasol_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_palmTree_02:{name:"EN_P_palmTree_02",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_palmTree_02/EN_P_palmTree_02_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"EN_P_palmTree_02/EN_P_palmTree_02_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_palmTree_02/EN_P_palmTree_02_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_loungeChair_01:{name:"EN_P_loungeChair_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_loungeChair_01/EN_P_loungeChair_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_loungeChair_01/EN_P_loungeChair_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_loungeChair_01/EN_P_loungeChair_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_lilypadLeaf_01:{name:"EN_P_lilypadLeaf_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_lilypadLeaf_01/EN_P_lilypadLeaf_01_albedo",sizes:[128,256,512,1024],formats:["png","astc","dxt","etc1","etc2","pvrtc","jpg"]},normal:{path:"EN_P_lilypadLeaf_01/EN_P_lilypadLeaf_01_normal",sizes:[128,256,512,1024],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_lilypadLeaf_01/EN_P_lilypadLeaf_01_specular",sizes:[128,256,512,1024],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_lilypadFlower_01:{name:"EN_P_lilypadFlower_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_lilypadFlower_01/EN_P_lilypadFlower_01_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_lilypadFlower_01/EN_P_lilypadFlower_01_normal",sizes:[128,256,512,1024],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_lilypadFlower_01/EN_P_lilypadFlower_01_specular",sizes:[128,256,512,1024],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_latte_01:{name:"EN_P_latte_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_latte_01/EN_P_latte_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_latte_01/EN_P_latte_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_latte_01/EN_P_latte_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_inflatableMattress_01:{name:"EN_P_inflatableMattress_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_inflatableMattress_01/EN_P_inflatableMattress_01_albedo",sizes:[1024,512,256,128,2048],formats:["jpg","pvrtc","etc2","etc1","dxt","astc","png"]},specular:{path:"EN_P_inflatableMattress_01/EN_P_inflatableMattress_01_specular",sizes:[2048,1024,512,256,128],formats:["png","pvrtc","etc2","etc1","dxt","astc","jpg"]},normal:{path:"EN_P_inflatableMattress_01/EN_P_inflatableMattress_01_normal",sizes:[2048,1024,512,256,128],formats:["png","pvrtc","etc2","etc1","dxt","astc","jpg"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_fruitBowl_01:{name:"EN_P_fruitBowl_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_fruitBowl_01/EN_P_fruitBowl_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_fruitBowl_01/EN_P_fruitBowl_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_fruitBowl_01/EN_P_fruitBowl_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_cocktail_01:{name:"EN_P_cocktail_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_cocktail_01/EN_P_cocktail_01_albedo",sizes:[128,256,512,1024,2048],formats:["png","astc","dxt","etc1","etc2","pvrtc","jpg"]},normal:{path:"EN_P_cocktail_01/EN_P_cocktail_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_cocktail_01/EN_P_cocktail_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_beachBall_01:{name:"EN_P_beachBall_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_beachBall_01/EN_P_beachBall_01_albedo",sizes:[128,256,512,1024,2048],formats:["png","astc","dxt","etc1","etc2","pvrtc","jpg"]},normal:{path:"EN_P_beachBall_01/EN_P_beachBall_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_beachBall_01/EN_P_beachBall_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_BBQ_01:{name:"EN_P_BBQ_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_BBQ_01/EN_P_BBQ_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_BBQ_01/EN_P_BBQ_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_BBQ_01/EN_P_BBQ_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_sand_01:{name:"Red Sand",origin:{license:"",credits:"",url:""},tags:"",category:"Sand",textures:{diffuse:{path:"T_sand_01/T_sand_01_albedo",sizes:[256,512,1024,2048,128],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_sand_01/T_sand_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_sand_01/T_sand_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},encoding:"",preferedSize:"512"},EN_M_houseDoorFrame_01_blue:{name:"EN_M_houseDoorFrame_01_blue",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_houseDoorFrame_01_blue/EN_M_houseDoorFrame_01_blue_albedo",sizes:[128,256,512,1024,2048],formats:["etc1","etc2","pvrtc","jpg","png","astc","dxt"]},normal:{path:"EN_M_houseDoorFrame_01_blue/EN_M_houseDoorFrame_01_blue_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_M_houseDoorFrame_01_blue/EN_M_houseDoorFrame_01_blue_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_M_houseWall_01_blue:{name:"EN_M_houseWall_01_blue",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_houseWall_01_blue/EN_M_houseWall_01_blue_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"EN_M_houseWall_01_blue/EN_M_houseWall_01_blue_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_M_houseWall_01_blue/EN_M_houseWall_01_blue_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_M_houseWindow_01_blue:{name:"EN_M_houseWindow_01_blue",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_houseWindow_01_blue/EN_M_houseWindow_01_blue_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_houseWindow_01_blue/EN_M_houseWindow_01_blue_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_M_houseWindow_01_blue/EN_M_houseWindow_01_blue_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_M_door_01:{name:"EN_M_door_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_door_01/EN_M_door_01_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"EN_M_door_01/EN_M_door_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_M_door_01/EN_M_door_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_woodFloor_01:{name:"Wooden Floor Tiles 01",origin:{license:"",credits:"",url:""},tags:"",category:"Planks",textures:{diffuse:{path:"T_woodFloor_01/T_woodFloor_01_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"T_woodFloor_01/T_woodFloor_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_woodFloor_01/T_woodFloor_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_grass_01:{name:"Green Grass",origin:{license:"",credits:"",url:""},tags:"",category:"Grass",textures:{diffuse:{path:"T_grass_01/T_grass_01_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"T_grass_01/T_grass_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]},specular:{path:"T_grass_01/T_grass_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_M_houseDoorFrame_01_yellow:{name:"EN_M_houseDoorFrame_01_yellow",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_houseDoorFrame_01_yellow/EN_M_houseDoorFrame_01_yellow_albedo",sizes:[128,256,512,1024,2048],formats:["etc1","etc2","pvrtc","jpg","png","astc","dxt"]},normal:{path:"EN_M_houseDoorFrame_01_yellow/EN_M_houseDoorFrame_01_yellow_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_M_houseDoorFrame_01_yellow/EN_M_houseDoorFrame_01_yellow_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_M_houseWindow_01_yellow:{name:"EN_M_houseWindow_01_yellow",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_houseWindow_01_yellow/EN_M_houseWindow_01_yellow_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_houseWindow_01_yellow/EN_M_houseWindow_01_yellow_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_M_houseWindow_01_yellow/EN_M_houseWindow_01_yellow_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},encoding:"br",preferedSize:"512"},EN_M_houseWall_01_yellow:{name:"EN_M_houseWall_01_yellow",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_houseWall_01_yellow/EN_M_houseWall_01_yellow_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_houseWall_01_yellow/EN_M_houseWall_01_yellow_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_M_houseWall_01_yellow/EN_M_houseWall_01_yellow_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},encoding:"br",preferedSize:"512"},EN_P_plate_01:{name:"EN_P_plate_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_plate_01/EN_P_plate_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_plate_01/EN_P_plate_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_plate_01/EN_P_plate_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_ceilingLamp_01:{name:"EN_P_ceilingLamp_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_ceilingLamp_01/EN_P_ceilingLamp_01_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"EN_P_ceilingLamp_01/EN_P_ceilingLamp_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_ceilingLamp_01/EN_P_ceilingLamp_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_carpet_01:{name:"T_carpet_01",origin:{license:"",credits:"",url:""},tags:"",category:"Interior",textures:{diffuse:{path:"T_carpet_01/T_carpet_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_carpet_01/T_carpet_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_carpet_01/T_carpet_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_floorTiles_02:{name:"T_floorTiles_02",origin:{license:"",credits:"",url:""},tags:"",category:"Interior",textures:{diffuse:{path:"T_floorTiles_02/T_floorTiles_02_albedo",sizes:[128,256,512,1024,2048],formats:["pvrtc","jpg","png","astc","dxt","etc1","etc2"]},normal:{path:"T_floorTiles_02/T_floorTiles_02_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_floorTiles_02/T_floorTiles_02_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_floorTiles_01:{name:"T_floorTiles_01",origin:{license:"",credits:"",url:""},tags:"",category:"Interior",textures:{diffuse:{path:"T_floorTiles_01/T_floorTiles_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_floorTiles_01/T_floorTiles_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_floorTiles_01/T_floorTiles_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_table_01:{name:"EN_P_table_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_table_01/EN_P_table_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_table_01/EN_P_table_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]},specular:{path:"EN_P_table_01/EN_P_table_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_pottedPlant_01:{name:"EN_P_pottedPlant_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_pottedPlant_01/EN_P_pottedPlant_01_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"EN_P_pottedPlant_01/EN_P_pottedPlant_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_pottedPlant_01/EN_P_pottedPlant_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_couch_01:{name:"EN_P_couch_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_couch_01/EN_P_couch_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_couch_01/EN_P_couch_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]},specular:{path:"EN_P_couch_01/EN_P_couch_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_floorLamp_01:{name:"EN_P_floorLamp_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_floorLamp_01/EN_P_floorLamp_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_floorLamp_01/EN_P_floorLamp_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]},specular:{path:"EN_P_floorLamp_01/EN_P_floorLamp_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_chair_01:{name:"EN_P_chair_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_chair_01/EN_P_chair_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_chair_01/EN_P_chair_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]},specular:{path:"EN_P_chair_01/EN_P_chair_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_bed_01:{name:"EN_P_bed_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_bed_01/EN_P_bed_01_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"EN_P_bed_01/EN_P_bed_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]},specular:{path:"EN_P_bed_01/EN_P_bed_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_M_sciFiStair_01:{name:"EN_M_sciFiStair_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_sciFiStair_01/EN_M_sciFiStair_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_sciFiStair_01/EN_M_sciFiStair_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_sciFiStair_01/EN_M_sciFiStair_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_M_sciFiFence_01:{name:"EN_M_sciFiFence_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_sciFiFence_01/EN_M_sciFiFence_01_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"EN_M_sciFiFence_01/EN_M_sciFiFence_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_M_sciFiFence_01/EN_M_sciFiFence_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_M_bunkerNew_02:{name:"EN_M_bunkerNew_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_bunkerNew_01/EN_M_bunkerNew_01_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},specular:{path:"EN_M_bunkerNew_01/EN_M_bunkerNew_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_stayHome_02:{name:"EN_P_stayHome_02",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_stayHome_02/EN_P_stayHome_02_albedo",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_stayHome_02/EN_P_stayHome_02_normal",sizes:[128,256,512],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_stayHome_02/EN_P_stayHome_02_specular",sizes:[128,256,512],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_stayHome_01:{name:"EN_P_stayHome_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_stayHome_01/EN_P_stayHome_01_albedo",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_stayHome_01/EN_P_stayHome_01_normal",sizes:[128,256,512],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_stayHome_01/EN_P_stayHome_01_specular",sizes:[128,256,512],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_sciFiBox_02:{name:"SciFi Block 02",origin:{license:"",credits:"",url:""},tags:"",category:"Sci Fi",textures:{diffuse:{path:"EN_P_sciFiBox_02/EN_P_sciFiBox_02_albedo",sizes:[128,256,512],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"EN_P_sciFiBox_02/EN_P_sciFiBox_02_normal",sizes:[128,256,512],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_sciFiBox_02/EN_P_sciFiBox_02_specular",sizes:[128,256,512],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_scifiFloorTile_03:{name:"SciFi Floor Tile 3",origin:{license:"",credits:"",url:""},tags:"",category:"Sci Fi",textures:{diffuse:{path:"T_scifiFloorTile_03/T_scifiFloorTile_03_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"T_scifiFloorTile_03/T_scifiFloorTile_03_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_scifiFloorTile_03/T_scifiFloorTile_03_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},specific:!0,preferedSize:"512"},T_scifiFloorTile_04:{name:"SciFi Floor Tile 4",origin:{license:"",credits:"",url:""},tags:"",category:"Sci Fi",textures:{diffuse:{path:"T_scifiFloorTile_04/T_scifiFloorTile_04_albedo",sizes:[128,256,512,1024,2048],formats:["etc2","pvrtc","jpg","png","astc","dxt","etc1"]},normal:{path:"T_scifiFloorTile_04/T_scifiFloorTile_04_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_scifiFloorTile_04/T_scifiFloorTile_04_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},specific:!0,preferedSize:"512"},T_scifiFloorTile_05:{name:"SciFi Floor tiles 5",origin:{license:"",credits:"",url:""},tags:"",category:"Sci Fi",textures:{diffuse:{path:"T_scifiFloorTile_05/T_scifiFloorTile_05_albedo",sizes:[128,256,512,1024,2048],formats:["etc2","pvrtc","jpg","png","astc","dxt","etc1"]},normal:{path:"T_scifiFloorTile_05/T_scifiFloorTile_05_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_scifiFloorTile_05/T_scifiFloorTile_05_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},specific:!0,preferedSize:"512"},T_sciFiWall_02:{name:"SciFi Wall 2",origin:{license:"",credits:"",url:""},tags:"",category:"Sci Fi",textures:{diffuse:{path:"T_sciFiWall_02/T_sciFiWall_02_albedo",sizes:[128,256,512,1024,2048],formats:["png","astc","dxt","etc1","etc2","pvrtc","jpg"]},normal:{path:"T_sciFiWall_02/T_sciFiWall_02_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_sciFiWall_02/T_sciFiWall_02_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_sciFiWall_01:{name:"SciFi Wall",origin:{license:"",credits:"",url:""},tags:"",category:"Sci Fi",textures:{diffuse:{path:"T_sciFiWall_01/T_sciFiWall_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_sciFiWall_01/T_sciFiWall_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_sciFiWall_01/T_sciFiWall_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_P_sciFIBarrel_01_red:{name:"EN_P_sciFIBarrel_01_red",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_sciFIBarrel_01_red/EN_P_sciFIBarrel_01_red_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"EN_P_sciFIBarrel_01_red/EN_P_sciFIBarrel_01_red_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_sciFIBarrel_01_red/EN_P_sciFIBarrel_01_red_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},specific:!0,preferedSize:"512"},EN_P_sciFIBarrel_01_yellow:{name:"EN_P_sciFIBarrel_01_yellow",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_sciFIBarrel_01_yellow/EN_P_sciFIBarrel_01_yellow_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"EN_P_sciFIBarrel_01_yellow/EN_P_sciFIBarrel_01_yellow_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_sciFIBarrel_01_yellow/EN_P_sciFIBarrel_01_yellow_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},specific:!0,preferedSize:"512"},EN_P_sciFIBarrel_01_blue:{name:"EN_P_sciFIBarrel_01_blue",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_sciFIBarrel_01_blue/EN_P_sciFIBarrel_01_blue_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"EN_P_sciFIBarrel_01_blue/EN_P_sciFIBarrel_01_blue_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"EN_P_sciFIBarrel_01_blue/EN_P_sciFIBarrel_01_blue_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},specific:!0,preferedSize:"512"},T_scrapMetal_01:{name:"Scrap Metal",origin:{license:"",credits:"",url:""},tags:"",category:"Metal",textures:{diffuse:{path:"T_scrapMetal_01/T_scrapMetal_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"T_scrapMetal_01/T_scrapMetal_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_scrapMetal_01/T_scrapMetal_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!0,props:{specular:1118481,shininess:75,displacementScale:1},preferedSize:"512"},T_planksMetal_01:{name:"Metal Planks",origin:{license:"",credits:"",url:""},tags:"",category:"Planks",textures:{diffuse:{path:"T_planksMetal_01/T_planksMetal_01_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc1","etc2","pvrtc","jpg","png","astc"]},normal:{path:"T_planksMetal_01/T_planksMetal_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_planksMetal_01/T_planksMetal_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!0,props:{specular:1118481,shininess:75,displacementScale:1},preferedSize:"512"},T_planks_01:{name:"Lightwood Planks",origin:{license:"",credits:"",url:""},tags:"",category:"Planks",textures:{diffuse:{path:"T_planks_01/T_planks_01_albedo",sizes:[128,256,512,1024,2048],formats:["etc2","pvrtc","jpg","png","astc","dxt"]},normal:{path:"T_planks_01/T_planks_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_planks_01/T_planks_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!0,props:{specular:1118481,shininess:75,displacementScale:1},preferedSize:"512"},GPL_weaponSpawner_01_red:{name:"GPL_weaponSpawner_01_red",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"GPL_weaponSpawner_01_red/GPL_weaponSpawner_01_red_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc2","pvrtc","jpg","png","astc"]},normal:{path:"GPL_weaponSpawner_01_red/GPL_weaponSpawner_01_red_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]},specular:{path:"GPL_weaponSpawner_01_red/GPL_weaponSpawner_01_red_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},specific:!0,preferedSize:"512"},GPL_weaponSpawner_01_blue:{name:"GPL_weaponSpawner_01_blue",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"GPL_weaponSpawner_01_blue/GPL_weaponSpawner_01_blue_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc2","pvrtc","jpg","png"]},normal:{path:"GPL_weaponSpawner_01_blue/GPL_weaponSpawner_01_blue_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]},specular:{path:"GPL_weaponSpawner_01_blue/GPL_weaponSpawner_01_blue_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},specific:!0,preferedSize:"512"},T_scifiFloorTile_014:{name:"T_scifiFloorTile_014",origin:{license:"",credits:"",url:""},tags:"",category:"Sci Fi",textures:{diffuse:{path:"T_scifiFloorTile_014/T_scifiFloorTile_014_albedo",sizes:[128,256,512,1024,2048],formats:["etc1","etc2","pvrtc","jpg","png","astc","dxt"]},normal:{path:"T_scifiFloorTile_014/T_scifiFloorTile_014_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_scifiFloorTile_014/T_scifiFloorTile_014_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_scifiFloorTile_05:{name:"T_scifiFloorTile_05",origin:{license:"",credits:"",url:""},tags:"",category:"Sci Fi",textures:{diffuse:{path:"T_scifiFloorTile_05/T_scifiFloorTile_05_albedo",sizes:[128,256,512,1024,2048],formats:["etc2","pvrtc","jpg","png","astc","dxt","etc1"]},normal:{path:"T_scifiFloorTile_05/T_scifiFloorTile_05_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_scifiFloorTile_05/T_scifiFloorTile_05_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_scifiFloorTile_03:{name:"T_scifiFloorTile_03",origin:{license:"",credits:"",url:""},tags:"",category:"Sci Fi",textures:{diffuse:{path:"T_scifiFloorTile_03/T_scifiFloorTile_03_albedo",sizes:[128,256,512,1024,2048],formats:["etc1","etc2","pvrtc","jpg","png","astc","dxt"]},normal:{path:"T_scifiFloorTile_03/T_scifiFloorTile_03_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_scifiFloorTile_03/T_scifiFloorTile_03_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_scifiFloorTile_02:{name:"T_scifiFloorTile_02",origin:{license:"",credits:"",url:""},tags:"",category:"Sci Fi",textures:{diffuse:{path:"T_scifiFloorTile_02/T_scifiFloorTile_02_albedo",sizes:[128,256,512,1024,2048],formats:["pvrtc","jpg","png","astc","dxt","etc1","etc2"]},normal:{path:"T_scifiFloorTile_02/T_scifiFloorTile_02_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_scifiFloorTile_02/T_scifiFloorTile_02_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},T_scifiFloorTile_01:{name:"T_scifiFloorTile_01",origin:{license:"",credits:"",url:""},tags:"",category:"Sci Fi",textures:{diffuse:{path:"T_scifiFloorTile_01/T_scifiFloorTile_01_albedo",sizes:[256,512,1024,2048,128],formats:["etc1","etc2","pvrtc","jpg","png","astc","dxt"]},normal:{path:"T_scifiFloorTile_01/T_scifiFloorTile_01_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]},specular:{path:"T_scifiFloorTile_01/T_scifiFloorTile_01_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc1","etc2","pvrtc"]}},listed:!0,props:{specular:1118481,shininess:100,displacementScale:1},preferedSize:"512"},EN_M_sciFiWalk_01_turn:{name:"EN_M_sciFiWalk_01_turn",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_sciFiWalk_01_turn/EN_M_sciFiWalk_01_turn_albedo",sizes:[128,256,512,1024,2048],formats:["dxt","etc2","pvrtc","jpg","png","astc"]},normal:{path:"EN_M_sciFiWalk_01_turn/EN_M_sciFiWalk_01_turn_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]},specular:{path:"EN_M_sciFiWalk_01_turn/EN_M_sciFiWalk_01_turn_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:0,displacementScale:1},specific:!0,preferedSize:"512"},EN_M_sciFiWalk_01_straight:{name:"EN_M_sciFiWalk_01_straight",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_sciFiWalk_01_straight/EN_M_sciFiWalk_01_straight_albedo",sizes:[128,256,512,1024,2048],formats:["pvrtc","jpg","png","astc","dxt","etc2"]},normal:{path:"EN_M_sciFiWalk_01_straight/EN_M_sciFiWalk_01_straight_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]},specular:{path:"EN_M_sciFiWalk_01_straight/EN_M_sciFiWalk_01_straight_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},specific:!0,preferedSize:"512"},EN_M_sciFiWalk_01_middle:{name:"EN_M_sciFiWalk_01_middle",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_sciFiWalk_01_middle/EN_M_sciFiWalk_01_middle_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_sciFiWalk_01_middle/EN_M_sciFiWalk_01_middle_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]},specular:{path:"EN_M_sciFiWalk_01_middle/EN_M_sciFiWalk_01_middle_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},specific:!0,preferedSize:"512"},EN_M_sciFiWalk_01:{name:"EN_M_sciFiWalk_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_sciFiWalk_01/EN_M_sciFiWalk_01_half_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_sciFiWalk_01/EN_M_sciFiWalk_01_half_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]},specular:{path:"EN_M_sciFiWalk_01/EN_M_sciFiWalk_01_half_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},specific:!0,preferedSize:"512"},EN_M_sciFiPlatformSupport_02:{name:"EN_M_sciFiPlatformSupport_02",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_sciFiPlatformSupport_02/EN_M_sciFiPlatformSupport_02_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_sciFiPlatformSupport_02/EN_M_sciFiPlatformSupport_02_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]},specular:{path:"EN_M_sciFiPlatformSupport_02/EN_M_sciFiPlatformSupport_02_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},specific:!0,preferedSize:"512"},EN_M_sciFiPlatformRamp_02:{name:"EN_M_sciFiPlatformRamp_02",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_M_sciFiPlatformRamp_02/EN_M_sciFiPlatformRamp_02_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_sciFiPlatformRamp_02/EN_M_sciFiPlatformRamp_02_normal",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]},specular:{path:"EN_M_sciFiPlatformRamp_02/EN_M_sciFiPlatformRamp_02_specular",sizes:[128,256,512,1024,2048],formats:["jpg","png","astc","dxt","etc2","pvrtc"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},specific:!0,preferedSize:"512"},EN_M_sciFiPlatform_02:{name:"EN_M_sciFiPlatform_02",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{normal:{path:"EN_M_sciFiPlatform_02/EN_M_sciFiPlatform_02_normal",sizes:[2048,1024,512,256,128],formats:["png","pvrtc","etc2","dxt","astc","jpg"]},diffuse:{path:"EN_M_sciFiPlatform_02/EN_M_sciFiPlatform_02_albedo",sizes:[2048,1024,512,256,128],formats:["png","pvrtc","etc2","dxt","astc","jpg"]},specular:{path:"EN_M_sciFiPlatform_02/EN_M_sciFiPlatform_02_specular",sizes:[2048,1024,512,256,128],formats:["pvrtc","etc2","dxt","astc","jpg","png"]}},listed:!1,props:{specular:1118481,shininess:100,displacementScale:1},specific:!0,preferedSize:"512"},W_droneStarter_01_LOD1:{name:"W_droneStarter_01_LOD1",origin:{license:"",credits:"Nils",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"W_droneStarter_01_LOD1/W_droneStarter_01_LOD1_albedo",sizes:[128,256,512],formats:["astc","dxt","etc2","pvrtc","etc1","jpg","png"]},normal:{path:"W_droneStarter_01_LOD1/W_droneStarter_01_LOD1_normal",sizes:[128,256,512],formats:["astc","dxt","etc2","pvrtc","etc1","jpg","png"]},specular:{path:"W_droneStarter_01_LOD1/W_droneStarter_01_LOD1_specular",sizes:[128,256,512],formats:["astc","dxt","etc2","pvrtc","etc1","jpg","png"]}},rating:3,preferedSize:256,specific:!0,listed:!1,props:{specular:1118481,shininess:0,displacementScale:1}},W_dronePepprer_01_LOD1:{name:"W_dronePepprer_01_LOD1",origin:{license:"y",credits:"Nils Frleta",url:"y"},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"W_dronePepprer_01_LOD1/W_dronePepprer_01_LOD1_albedo",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"W_dronePepprer_01_LOD1/W_dronePepprer_01_LOD1_normal",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"W_dronePepprer_01_LOD1/W_dronePepprer_01_LOD1_specular",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:256,specific:!0,listed:!0,props:{specular:1118481,shininess:100,displacementScale:1}},W_droneUpgrade_01:{name:"W_droneUpgrade_01",origin:{license:"",credits:"Nils",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"W_droneUpgrade_01/W_droneUpgrade_01_albedo",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc2","pvrtc","etc1","jpg","png"]},normal:{path:"W_droneUpgrade_01/W_droneUpgrade_01_normal",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc2","pvrtc","etc1","jpg","png"]},specular:{path:"W_droneUpgrade_01/W_droneUpgrade_01_specular",sizes:[128,256,512,1024,2048],formats:["astc","dxt","etc2","pvrtc","etc1","jpg","png"]}},rating:3,preferedSize:256,specific:!0,listed:!1,props:{specular:1118481,shininess:100,displacementScale:1}},GPL_launchpad_01:{name:"GPL_launchpad_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{normal:{path:"GPL_launchpad_01/GPL_launchpad_01_normal",sizes:[512,128,256],formats:["pvrtc","png","jpg","astc","dxt","etc1","etc2"]},specular:{path:"GPL_launchpad_01/GPL_launchpad_01_specular",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","png","jpg"]},diffuse:{path:"GPL_launchpad_01/GPL_launchpad_01_albedo",sizes:[128,256,512],formats:["png","jpg","astc","dxt","etc1","etc2","pvrtc"]}},preferedSize:512,specific:!0,listed:!1,props:{specular:1118481,shininess:100}},W_droneRanged_01:{name:"W_droneRanged_01",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"",category:"",textures:{diffuse:{path:"W_droneRanged_01/W_droneRanged_01_albedo",sizes:[128,256,512],formats:["jpg","astc","dxt","etc1","etc2","pvrtc","png"]},normal:{path:"W_droneRanged_01/W_droneRanged_01_normal",sizes:[128,256,512],formats:["jpg","astc","dxt","etc1","etc2","pvrtc","png"]},specular:{path:"W_droneRanged_01/W_droneRanged_01_specular",sizes:[128,256,512],formats:["jpg","astc","dxt","etc1","etc2","pvrtc","png"]}},preferedSize:256,specific:!0,listed:!1,props:{specular:1118481,shininess:100}},EN_P_crystal_03:{name:"EN_P_crystal_03",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_crystal_03/EN_P_crystal_03_albedo",sizes:[128,256,512],formats:["jpg","astc","dxt","etc1","etc2","pvrtc","png"]},normal:{path:"EN_P_crystal_03/EN_P_crystal_03_normal",sizes:[128,256,512],formats:["jpg","astc","dxt","etc1","etc2","pvrtc","png"]},specular:{path:"EN_P_crystal_03/EN_P_crystal_03_specular",sizes:[128,256,512],formats:["jpg","astc","dxt","etc1","etc2","pvrtc","png"]}},preferedSize:512,specific:!0,listed:!1,props:{specular:1118481,shininess:100}},EN_P_crystal_02:{name:"EN_P_crystal_02",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{diffuse:{path:"EN_P_crystal_02/EN_P_crystal_02_albedo",sizes:[128,256,512],formats:["jpg","astc","dxt","etc1","etc2","pvrtc","png"]},normal:{path:"EN_P_crystal_02/EN_P_crystal_02_normal",sizes:[128,256,512],formats:["jpg","astc","dxt","etc1","etc2","pvrtc","png"]},specular:{path:"EN_P_crystal_02/EN_P_crystal_02_specular",sizes:[128,256,512],formats:["jpg","astc","dxt","etc1","etc2","pvrtc","png"]}},preferedSize:512,specific:!0,listed:!1,props:{specular:1118481,shininess:100}},EN_P_crystal_01:{name:"EN_P_crystal_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{specular:{path:"EN_P_crystal_01/EN_P_crystal_01_specular",sizes:[512,256,128],formats:["png","pvrtc","jpg","etc2","etc1","astc","dxt"]},normal:{path:"EN_P_crystal_01/EN_P_crystal_01_normal",sizes:[512,256,128],formats:["png","jpg","pvrtc","etc1","astc","etc2","dxt"]},diffuse:{path:"EN_P_crystal_01/EN_P_crystal_01_albedo",sizes:[512,256,128],formats:["png","pvrtc","jpg","etc2","etc1","dxt","astc"]}},preferedSize:512,specific:!0,listed:!1,props:{specular:1118481,shininess:100}},EN_P_crystalCluster_01:{name:"EN_P_crystalCluster_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{specular:{path:"EN_P_crystalCluster_01/EN_P_crystalCluster_01_specular",sizes:[512,256,128],formats:["png","jpg","astc","pvrtc","etc2","etc1","dxt"]},normal:{path:"EN_P_crystalCluster_01/EN_P_crystalCluster_01_normal",sizes:[512,256,128],formats:["png","pvrtc","jpg","etc2","astc","etc1","dxt"]},diffuse:{path:"EN_P_crystalCluster_01/EN_P_crystalCluster_01_albedo",sizes:[512,256,128],formats:["jpg","etc2","pvrtc","astc","etc1","dxt","png"]}},preferedSize:512,specific:!0,listed:!1,props:{specular:1118481,shininess:100}},EN_P_largeRock_01:{name:"EN_P_largeRock_01",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{specular:{path:"EN_P_largeRock_01/EN_P_largeRock_01_specular",sizes:[2048,512,256,128,1024],formats:["pvrtc","etc2","etc1","dxt","astc","png","jpg"]},normal:{path:"EN_P_largeRock_01/EN_P_largeRock_01_normal",sizes:[2048,512,256,1024,128],formats:["png","jpg","pvrtc","etc2","etc1","dxt","astc"]},diffuse:{path:"EN_P_largeRock_01/EN_P_largeRock_01_albedo",sizes:[2048,512,256,128,1024],formats:["png","pvrtc","etc2","jpg","etc1","dxt","astc"]}},preferedSize:1024,specific:!0,listed:!1,props:{specular:1118481,shininess:150}},EN_P_largeRock_02:{name:"EN_P_largeRock_02",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{specular:{path:"EN_P_largeRock_02/EN_P_largeRock_02_specular",sizes:[2048,512,256,128,1024],formats:["pvrtc","etc2","etc1","dxt","astc","png","jpg"]},normal:{path:"EN_P_largeRock_02/EN_P_largeRock_02_normal",sizes:[2048,512,256,128,1024],formats:["png","jpg","pvrtc","etc2","dxt","etc1","astc"]},diffuse:{path:"EN_P_largeRock_02/EN_P_largeRock_02_albedo",sizes:[512,256,2048,128,1024],formats:["jpg","png","pvrtc","etc1","etc2","astc","dxt"]}},preferedSize:1024,specific:!0,listed:!1,props:{specular:1118481,shininess:150}},EN_P_crystalCluster_02:{name:"EN_P_crystalCluster_02",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{specular:{path:"EN_P_crystalCluster_02/EN_P_crystalCluster_02_specular",sizes:[512,256,128],formats:["png","jpg","pvrtc","astc","etc2","etc1","dxt"]},normal:{path:"EN_P_crystalCluster_02/EN_P_crystalCluster_02_normal",sizes:[512,256,128],formats:["png","etc2","jpg","etc1","astc","dxt","pvrtc"]},diffuse:{path:"EN_P_crystalCluster_02/EN_P_crystalCluster_02_albedo",sizes:[512,256,128],formats:["png","etc1","etc2","jpg","dxt","pvrtc","astc"]}},preferedSize:512,specific:!0,listed:!1,props:{specular:1118481,shininess:150}},EN_P_crystalCluster_03:{name:"EN_P_crystalCluster_03",origin:{license:"",credits:"",url:""},tags:"",category:"",textures:{specular:{path:"EN_P_crystalCluster_03/EN_P_crystalCluster_03_specular",sizes:[512,256,128],formats:["png","jpg","pvrtc","astc","etc2","etc1","dxt"]},normal:{path:"EN_P_crystalCluster_03/EN_P_crystalCluster_03_normal",sizes:[512,256,128],formats:["png","etc2","jpg","etc1","astc","dxt","pvrtc"]},diffuse:{path:"EN_P_crystalCluster_03/EN_P_crystalCluster_03_albedo",sizes:[512,256,128],formats:["png","etc1","etc2","jpg","dxt","pvrtc","astc"]}},preferedSize:512,specific:!0,listed:!1,props:{specular:1118481,shininess:150}},EN_P_largeRock_03:{name:"EN_P_largeRock_03",origin:{license:"",credits:"Nils Frleta",url:""},tags:"default",category:"default",textures:{specular:{path:"EN_P_largeRock_03/EN_P_largeRock_03_specular",sizes:[2048,512,256,128,1024],formats:["pvrtc","etc2","etc1","dxt","astc","jpg","png"]},normal:{path:"EN_P_largeRock_03/EN_P_largeRock_03_normal",sizes:[2048,512,256,128,1024],formats:["png","jpg","pvrtc","etc2","etc1","dxt","astc"]},diffuse:{path:"EN_P_largeRock_03/EN_P_largeRock_03_albedo",sizes:[2048,512,256,128,1024],formats:["png","pvrtc","etc2","etc1","jpg","dxt","astc"]}},preferedSize:1024,specific:!0,listed:!1,props:{specular:1118481,shininess:150}},EN_P_sciFiBox_01:{name:"EN_P_sciFiBox_01",origin:{license:"",credits:"Nils Frleta",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_P_sciFiBox_01/EN_P_sciFiBox_01_albedo",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_P_sciFiBox_01/EN_P_sciFiBox_01_normal",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_P_sciFiBox_01/EN_P_sciFiBox_01_specular",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_sciFiPlatformSupport_01:{name:"EN_M_sciFiPlatformSupport_01",origin:{license:"",credits:"Nils Frleta",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_sciFiPlatformSupport_01/EN_M_sciFiPlatformSupport_01_albedo",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_sciFiPlatformSupport_01/EN_M_sciFiPlatformSupport_01_normal",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_sciFiPlatformSupport_01/EN_M_sciFiPlatformSupport_01_specular",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_sciFiPlatformRamp_01:{name:"EN_M_sciFiPlatformRamp_01",origin:{license:"",credits:"Nils Frleta",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_sciFiPlatformRamp_01/EN_M_sciFiPlatformRamp_01_albedo",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_sciFiPlatformRamp_01/EN_M_sciFiPlatformRamp_01_normal",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_sciFiPlatformRamp_01/EN_M_sciFiPlatformRamp_01_specular",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_sciFiPlatform_01:{name:"EN_M_sciFiPlatform_01",origin:{license:"",credits:"Nils Frleta",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_sciFiPlatform_01/EN_M_sciFiPlatform_01_albedo",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_sciFiPlatform_01/EN_M_sciFiPlatform_01_normal",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_sciFiPlatform_01/EN_M_sciFiPlatform_01_specular",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_sciFiLargeWall_03:{name:"EN_M_sciFiLargeWall_03",origin:{license:"",credits:"Nils Frleta",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_sciFiLargeWall_03/EN_M_sciFiLargeWall_03_albedo",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_sciFiLargeWall_03/EN_M_sciFiLargeWall_03_normal",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_sciFiLargeWall_03/EN_M_sciFiLargeWall_03_specular",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_sciFiLargeWall_02:{name:"EN_M_sciFiLargeWall_02",origin:{license:"",credits:"Nils Frleta",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_sciFiLargeWall_02/EN_M_sciFiLargeWall_02_albedo",sizes:[128,256,512],formats:["astc","dxt","etc2","pvrtc","etc1","jpg","png"]},normal:{path:"EN_M_sciFiLargeWall_02/EN_M_sciFiLargeWall_02_normal",sizes:[128,256,512],formats:["astc","dxt","etc2","pvrtc","etc1","jpg","png"]},specular:{path:"EN_M_sciFiLargeWall_02/EN_M_sciFiLargeWall_02_specular",sizes:[128,256,512],formats:["astc","dxt","etc2","pvrtc","etc1","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_sciFiLargeWall_01:{name:"EN_M_sciFiLargeWall_01",origin:{license:"",credits:"Nils Frleta",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_sciFiLargeWall_01/EN_M_sciFiLargeWall_01_albedo",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_sciFiLargeWall_01/EN_M_sciFiLargeWall_01_normal",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_sciFiLargeWall_01/EN_M_sciFiLargeWall_01_specular",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_sciFiLargeFloor_01:{name:"EN_M_sciFiLargeFloor_01",origin:{license:"",credits:"Nils Frleta",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_sciFiLargeFloor_01/EN_M_sciFiLargeFloor_01_albedo",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_sciFiLargeFloor_01/EN_M_sciFiLargeFloor_01_normal",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_sciFiLargeFloor_01/EN_M_sciFiLargeFloor_01_specular",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_sciFiLargeCeiling_01:{name:"EN_M_sciFiLargeCeiling_01",origin:{license:"",credits:"Nils Frleta",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_sciFiLargeCeiling_01/EN_M_sciFiLargeCeiling_01_albedo",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_sciFiLargeCeiling_01/EN_M_sciFiLargeCeiling_01_normal",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_sciFiLargeCeiling_01/EN_M_sciFiLargeCeiling_01_specular",sizes:[128,256,512],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_prefab_sciFi_stairs_01:{name:"EN_M_prefab_sciFi_stairs_01",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_prefab_sciFi_stairs_01/EN_M_prefab_sciFi_stairs_01_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_prefab_sciFi_stairs_01/EN_M_prefab_sciFi_stairs_01_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_prefab_sciFi_stairs_01/EN_M_prefab_sciFi_stairs_01_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_prefab_sciFi_side_01:{name:"EN_M_prefab_sciFi_side_01",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_prefab_sciFi_side_01/EN_M_prefab_sciFi_side_01_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_prefab_sciFi_side_01/EN_M_prefab_sciFi_side_01_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_prefab_sciFi_side_01/EN_M_prefab_sciFi_side_01_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},emissive:{path:"EN_M_prefab_sciFi_side_01/EN_M_prefab_sciFi_side_01_emissive",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_prefab_sciFi_side_02:{name:"EN_M_prefab_sciFi_side_02",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_prefab_sciFi_side_02/EN_M_prefab_sciFi_side_02_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_prefab_sciFi_side_02/EN_M_prefab_sciFi_side_02_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_prefab_sciFi_side_02/EN_M_prefab_sciFi_side_02_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},emissive:{path:"EN_M_prefab_sciFi_side_02/EN_M_prefab_sciFi_side_02_emissive",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_prefab_sciFi_pillar_02:{name:"EN_M_prefab_sciFi_pillar_02",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_prefab_sciFi_pillar_02/EN_M_prefab_sciFi_pillar_02_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_prefab_sciFi_pillar_02/EN_M_prefab_sciFi_pillar_02_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_prefab_sciFi_pillar_02/EN_M_prefab_sciFi_pillar_02_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},emissive:{path:"EN_M_prefab_sciFi_pillar_02/EN_M_prefab_sciFi_pillar_02_emissive",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_prefab_sciFi_middle_01:{name:"EN_M_prefab_sciFi_middle_01",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_prefab_sciFi_middle_01/EN_M_prefab_sciFi_middle_01_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_prefab_sciFi_middle_01/EN_M_prefab_sciFi_middle_01_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_prefab_sciFi_middle_01/EN_M_prefab_sciFi_middle_01_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},emissive:{path:"EN_M_prefab_sciFi_middle_01/EN_M_prefab_sciFi_middle_01_emissive",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_prefab_sciFi_door_01:{name:"EN_M_prefab_sciFi_door_01",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_prefab_sciFi_door_01/EN_M_prefab_sciFi_door_01_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_prefab_sciFi_door_01/EN_M_prefab_sciFi_door_01_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_prefab_sciFi_door_01/EN_M_prefab_sciFi_door_01_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},emissive:{path:"EN_M_prefab_sciFi_door_01/EN_M_prefab_sciFi_door_01_emissive",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_prefab_sciFi_corner_01:{name:"EN_M_prefab_sciFi_corner_01",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_prefab_sciFi_corner_01/EN_M_prefab_sciFi_corner_01_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_prefab_sciFi_corner_01/EN_M_prefab_sciFi_corner_01_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_prefab_sciFi_corner_01/EN_M_prefab_sciFi_corner_01_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},emissive:{path:"EN_M_prefab_sciFi_corner_01/EN_M_prefab_sciFi_corner_01_emissive",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_prefab_sciFi_battlementTower_02:{name:"EN_M_prefab_sciFi_battlementTower_02",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_prefab_sciFi_battlementTower_02/EN_M_prefab_sciFi_battlementTower_02_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_prefab_sciFi_battlementTower_02/EN_M_prefab_sciFi_battlementTower_02_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_prefab_sciFi_battlementTower_02/EN_M_prefab_sciFi_battlementTower_02_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_prefab_sciFi_battlementStair_03:{name:"EN_M_prefab_sciFi_battlementStair_03",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_prefab_sciFi_battlementStair_03/EN_M_prefab_sciFi_battlementStair_03_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_prefab_sciFi_battlementStair_03/EN_M_prefab_sciFi_battlementStair_03_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_prefab_sciFi_battlementStair_03/EN_M_prefab_sciFi_battlementStair_03_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_prefab_sciFi_battlementOuterCorner_01:{name:"EN_M_prefab_sciFi_battlementOuterCorner_01",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_prefab_sciFi_battlementOuterCorner_01/EN_M_prefab_sciFi_battlementOuterCorner_01_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_prefab_sciFi_battlementOuterCorner_01/EN_M_prefab_sciFi_battlementOuterCorner_01_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_prefab_sciFi_battlementOuterCorner_01/EN_M_prefab_sciFi_battlementOuterCorner_01_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_prefab_sciFi_battlementInnerCorner_01:{name:"EN_M_prefab_sciFi_battlementInnerCorner_01",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_prefab_sciFi_battlementInnerCorner_01/EN_M_prefab_sciFi_battlementInnerCorner_01_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_prefab_sciFi_battlementInnerCorner_01/EN_M_prefab_sciFi_battlementInnerCorner_01_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_prefab_sciFi_battlementInnerCorner_01/EN_M_prefab_sciFi_battlementInnerCorner_01_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_prefab_sciFi_battlement_03:{name:"EN_M_prefab_sciFi_battlement_03",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_prefab_sciFi_battlement_03/EN_M_prefab_sciFi_battlement_03_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_prefab_sciFi_battlement_03/EN_M_prefab_sciFi_battlement_03_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_prefab_sciFi_battlement_03/EN_M_prefab_sciFi_battlement_03_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_bunker_02:{name:"EN_M_bunker_02",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_bunker_02/EN_M_bunker_02_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_bunker_02/EN_M_bunker_02_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_bunker_02/EN_M_bunker_02_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_bunker_01:{name:"EN_M_bunker_01",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_bunker_01/EN_M_bunker_01_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_bunker_01/EN_M_bunker_01_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_bunker_01/EN_M_bunker_01_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},EN_M_battleWall_02:{name:"EN_M_battleWall_02",origin:{license:"",credits:"Henrik Andersson",url:""},tags:"default",category:"default",fallback:"#888888",textures:{diffuse:{path:"EN_M_battleWall_02/EN_M_battleWall_02_albedo",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},normal:{path:"EN_M_battleWall_02/EN_M_battleWall_02_normal",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]},specular:{path:"EN_M_battleWall_02/EN_M_battleWall_02_specular",sizes:[128,256,512,1024],formats:["astc","dxt","etc1","etc2","pvrtc","jpg","png"]}},rating:3,preferedSize:512,listed:!1,specific:!0,props:{specular:1118481,shininess:100,displacementScale:1}},Abstract_Abstract_003:{name:"Abstract_003",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Abstract",category:"Abstract",fallback:"#888888",textures:{diffuse:{path:"Abstract/Abstract_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Abstract/Abstract_003_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Abstract/Abstract_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Abstract/Abstract_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Abstract/Abstract_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:6105112,shininess:0,displacementScale:1}},Abstract_Abstract_004:{name:"Psychadelic Blue",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Organic",category:"Organic",fallback:"#888888",textures:{diffuse:{path:"Abstract/Abstract_004_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Abstract/Abstract_004_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Abstract/Abstract_004_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Abstract/Abstract_004_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Abstract/Abstract_004_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:10,displacementScale:1}},Abstract_Abstract_005:{name:"Rippled Metal",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Abstract/Abstract_005_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Abstract/Abstract_005_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Abstract/Abstract_005_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Abstract/Abstract_005_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Abstract/Abstract_005_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Abstract_Abstract_006:{name:"Abstract_006",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Abstract",category:"Abstract",fallback:"#888888",textures:{diffuse:{path:"Abstract/Abstract_006_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Abstract/Abstract_006_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Abstract/Abstract_006_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Abstract/Abstract_006_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Abstract/Abstract_006_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Abstract_arrow:{name:"Yellow arrow",tags:"Abstract",category:"Abstract",fallback:"#888888",textures:{diffuse:{path:"Abstract/Abstract_arrow",sizes:[256],formats:["jpg"]}},rating:3,listed:!1,legacy:!0,props:{}},Alien_Alien_flesh_002:{name:"Green Ripples",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Alien",category:"Organic",fallback:"#888888",textures:{diffuse:{path:"Alien/Alien_flesh_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Alien/Alien_flesh_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Alien/Alien_flesh_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Alien/Alien_flesh_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Alien/Alien_flesh_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Alien_Alien_Muscle_001:{name:"Alien Muscle",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Alien",category:"Organic",fallback:"#888888",textures:{diffuse:{path:"Alien/Alien_Muscle_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Alien/Alien_Muscle_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Alien/Alien_Muscle_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Alien/Alien_Muscle_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Alien/Alien_Muscle_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:10066329,shininess:30,displacementScale:1}},Aspen_Aspen_bark_001:{name:"Aspen bark",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Aspen",category:"Wood",fallback:"#888888",textures:{diffuse:{path:"Aspen/Aspen_bark_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Aspen/Aspen_bark_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Aspen/Aspen_bark_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Aspen/Aspen_bark_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Aspen/Aspen_bark_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Asphalt_Asphalt_001:{name:"Rough Asphalt",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Asphalt",category:"Asphalt",fallback:"#888888",textures:{diffuse:{path:"Asphalt/Asphalt_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Asphalt/Asphalt_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Asphalt/Asphalt_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Asphalt/Asphalt_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Asphalt/Asphalt_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Asphalt_Asphalt_002:{name:"Dark Asphalt",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Asphalt",category:"Asphalt",fallback:"#888888",textures:{diffuse:{path:"Asphalt/Asphalt_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Asphalt/Asphalt_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Asphalt/Asphalt_002_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Asphalt/Asphalt_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Asphalt/Asphalt_002_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Asphalt_p_Asphalt_001:{name:"Bright Asphalt",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Asphalt",category:"Asphalt",fallback:"#888888",textures:{diffuse:{path:"Asphalt_p/Asphalt_001_Color",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Asphalt_p/Asphalt_001_displace",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Asphalt_p/Asphalt_001_normal",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Asphalt_p/Asphalt_001_occlusion",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Asphalt_p/Asphalt_001_specular",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Avocado_Avocado_skin:{name:"Avocado_skin",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Avocado",category:"Organic",fallback:"#888888",textures:{diffuse:{path:"Avocado/Avocado_skin_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Avocado/Avocado_skin_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Avocado/Avocado_skin_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Avocado/Avocado_skin_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Avocado/Avocado_skin_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Bamboo_Bamboo_001:{name:"Woven Bamboo",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Bamboo",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Bamboo/Bamboo_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Bamboo/Bamboo_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Bamboo/Bamboo_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Bamboo/Bamboo_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Bamboo/Bamboo_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Basket_Basket_weave_001:{name:"Basket Weave",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Basket",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Basket/Basket_weave_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Basket/Basket_weave_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},alpha:{path:"Basket/Basket_weave_001_MASK02",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Basket/Basket_weave_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Basket/Basket_weave_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Basket/Basket_weave_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Black_Black_Marble_001:{name:"Impala Black",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Black",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"Black/Black_Marble_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Black/Black_Marble_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Black/Black_Marble_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Black/Black_Marble_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Black/Black_Marble_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Blue_Blue_Marble_001:{name:"Topaz Granite",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Blue",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"Blue/Blue_Marble_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Blue/Blue_Marble_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Blue/Blue_Marble_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Blue/Blue_Marble_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Blue/Blue_Marble_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Brick_Brick_wall_002:{name:"Red bricks",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Brick",category:"Bricks",fallback:"#888888",textures:{ao:{path:"Brick/Brick_wall_002_AO",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},diffuse:{path:"Brick/Brick_wall_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Brick/Brick_wall_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Brick/Brick_wall_002_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Brick/Brick_wall_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,props:{specular:1118481,shininess:0,displacementScale:1}},Brick_Brick_wall_006:{name:"Yellow bricks",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Brick",category:"Bricks",fallback:"#888888",textures:{diffuse:{path:"Brick/Brick_wall_006_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Brick/Brick_wall_006_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Brick/Brick_wall_006_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Brick/Brick_wall_006_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Brick/Brick_wall_006_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Brick_Brick_wall_007:{name:"Blue bricks",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Brick",category:"Bricks",fallback:"#888888",textures:{diffuse:{path:"Brick/Brick_wall_007_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Brick/Brick_wall_007_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Brick/Brick_wall_007_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Brick/Brick_wall_007_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Brick/Brick_wall_007_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Brick_Brick_wall_008:{name:"Basic bricks",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Brick",category:"Bricks",fallback:"#888888",textures:{diffuse:{path:"Brick/Brick_wall_008_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Brick/Brick_wall_008_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Brick/Brick_wall_008_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Brick/Brick_wall_008_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Brick/Brick_wall_008_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Brick_Wall_p_Brick_wall_002:{name:"Worn bricks",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Brick",category:"Bricks",fallback:"#888888",textures:{diffuse:{path:"Brick Wall_p/Brick_wall_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Brick Wall_p/Brick_wall_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Brick Wall_p/Brick_wall_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Brick Wall_p/Brick_wall_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Brick Wall_p/Brick_wall_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Brick_Wall_p_Brick_Wall_003:{name:"Small bricks",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Brick",category:"Bricks",fallback:"#888888",textures:{diffuse:{path:"Brick Wall_p/Brick_Wall_003_diffuse",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Brick Wall_p/Brick_Wall_003_displace",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Brick Wall_p/Brick_Wall_003_normal",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Brick Wall_p/Brick_Wall_003_occ",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Brick Wall_p/Brick_Wall_003_specular",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Brick_Wall_p_Brick_Wall_004:{name:"Subtle bricks",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Brick",category:"Bricks",fallback:"#888888",textures:{diffuse:{path:"Brick Wall_p/Brick_Wall_004_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Brick Wall_p/Brick_Wall_004_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Brick Wall_p/Brick_Wall_004_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Brick Wall_p/Brick_Wall_004_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Brick Wall_p/Brick_Wall_004_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},BridgeWood:{name:"Oak Planks",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"BridgeWood",category:"Planks",fallback:"#888888",textures:{diffuse:{path:"BridgeWood/BridgeWood_DIFFUSE",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"BridgeWood/BridgeWood_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"BridgeWood/BridgeWood_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"BridgeWood/BridgeWood_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1,roughness:.6,refractionRatio:.2,metalness:.2}},Burnt_Burnt_wood_001:{name:"Burnt Wood",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Burnt",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Burnt/Burnt_wood_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Burnt/Burnt_wood_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Burnt/Burnt_wood_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Burnt/Burnt_wood_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Burnt/Burnt_wood_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Camo_Camo_001:{name:"Camo_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Camo",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Camo/Camo_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Camo/Camo_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Camo/Camo_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Camo/Camo_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Camo/Camo_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Cardboard_p_Cardboard_001:{name:"Brown Cardboard",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Cardboard",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Cardboard_p/Cardboard_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Cardboard_p/Cardboard_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Cardboard_p/Cardboard_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Cardboard_p/Cardboard_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Cardboard_p/Cardboard_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Cardboard_p_Cardboard_002:{name:"Pale Cardboard",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Cardboard",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Cardboard_p/Cardboard_002_diffuse",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Cardboard_p/Cardboard_002_displace",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Cardboard_p/Cardboard_002_normal",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Cardboard_p/Cardboard_002_occ",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Cardboard_p/Cardboard_002_specular",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Concrete_Concrete_007:{name:"Wet Concrete",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Concrete",category:"Concrete",fallback:"#888888",textures:{diffuse:{path:"Concrete/Concrete_007_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Concrete/Concrete_007_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Concrete/Concrete_007_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Concrete/Concrete_007_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Concrete/Concrete_007_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Concrete_Concrete_008:{name:"Aggregate Concrete",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Concrete",category:"Concrete",fallback:"#888888",textures:{diffuse:{path:"Concrete/Concrete_008_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Concrete/Concrete_008_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Concrete/Concrete_008_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Concrete/Concrete_008_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Concrete/Concrete_008_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Concrete_p_Concrete_001:{name:"Plain Concrete",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Concrete",category:"Concrete",fallback:"#888888",textures:{diffuse:{path:"Concrete_p/Concrete_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Concrete_p/Concrete_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Concrete_p/Concrete_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Concrete_p/Concrete_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Concrete_p/Concrete_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Concrete_p_Concrete_002:{name:"Stained Concrete",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Concrete",category:"Concrete",fallback:"#888888",textures:{diffuse:{path:"Concrete_p/Concrete_002_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Concrete_p/Concrete_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Concrete_p/Concrete_002_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Concrete_p/Concrete_002_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Concrete_p/Concrete_002_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Concrete_p_Concrete_003:{name:"Brushed Concrete",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Concrete",category:"Concrete",fallback:"#888888",textures:{diffuse:{path:"Concrete_p/Concrete_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Concrete_p/Concrete_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Concrete_p/Concrete_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Concrete_p/Concrete_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Concrete_p/Concrete_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Cork_p_Cork_001:{name:"Cork",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Cork",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Cork_p/Cork_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Cork_p/Cork_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Cork_p/Cork_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Cork_p/Cork_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Cork_p/Cork_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Crystal_Crystal_001:{name:"Crystal_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Crystal",category:"Mineral",fallback:"#888888",textures:{diffuse:{path:"Crystal/Crystal_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Crystal/Crystal_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Crystal/Crystal_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Crystal/Crystal_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Crystal/Crystal_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Denim_Denim_001:{name:"Denim_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Denim",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Denim/Denim_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Denim/Denim_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Denim/Denim_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Denim/Denim_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Denim/Denim_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Dirt_Dirt_002:{name:"Gray Dirt",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Dirt",category:"Dirt",fallback:"#888888",textures:{diffuse:{path:"Dirt/Dirt_002_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Dirt/Dirt_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Dirt/Dirt_002_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Dirt/Dirt_002_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Dirt/Dirt_002_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Dirt_Dirt_003:{name:"Dirt_003",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Dirt",category:"Dirt",fallback:"#888888",textures:{diffuse:{path:"Dirt/Dirt_003_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Dirt/Dirt_003_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Dirt/Dirt_003_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Dirt/Dirt_003_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Dirt/Dirt_003_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Dirt_p_Dirt_001:{name:"Dry Dirt",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Dirt",category:"Dirt",fallback:"#888888",textures:{diffuse:{path:"Dirt_p/Dirt_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Dirt_p/Dirt_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Dirt_p/Dirt_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Dirt_p/Dirt_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Dirt_p/Dirt_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Dirt_p_Dirt_002:{name:"Defiled Dirt",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Dirt",category:"Dirt",fallback:"#888888",textures:{diffuse:{path:"Dirt_p/Dirt_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Dirt_p/Dirt_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Dirt_p/Dirt_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Dirt_p/Dirt_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Dirt_p/Dirt_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Dirt_p_Dirt_003:{name:"Coarse Dirt",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Dirt",category:"Dirt",fallback:"#888888",textures:{diffuse:{path:"Dirt_p/Dirt_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Dirt_p/Dirt_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Dirt_p/Dirt_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Dirt_p/Dirt_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Dirt_p/Dirt_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Dirt_p_Dirt_Cracked_001:{name:"Desert Dirt",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Dirt",category:"Dirt",fallback:"#888888",textures:{diffuse:{path:"Dirt_p/Dirt_Cracked_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Dirt_p/Dirt_Cracked_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Dirt_p/Dirt_Cracked_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Dirt_p/Dirt_Cracked_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Dirt_p/Dirt_Cracked_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Dried_Dried_Soil_001:{name:"Dried_Soil_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Dried",category:"Dirt",fallback:"#888888",textures:{diffuse:{path:"Dried/Dried_Soil_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Dried/Dried_Soil_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Dried/Dried_Soil_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Dried/Dried_Soil_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Dried/Dried_Soil_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Fabric_p_Fabric_001:{name:"Sackcloth",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Fabric",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Fabric_p/Fabric_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Fabric_p/Fabric_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Fabric_p/Fabric_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Fabric_p/Fabric_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Fabric_p/Fabric_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Fabric_p_Fabric_002:{name:"Woven Rope",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Fabric",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Fabric_p/Fabric_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Fabric_p/Fabric_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Fabric_p/Fabric_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Fabric_p/Fabric_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Fabric_p/Fabric_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Fabric_p_Fabric_003:{name:"Fabric_003",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Fabric",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Fabric_p/Fabric_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Fabric_p/Fabric_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Fabric_p/Fabric_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Fabric_p/Fabric_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Fabric_p/Fabric_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Fabric_p_Fabric_Denim_001:{name:"Fabric_Denim_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Fabric",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Fabric_p/Fabric_Denim_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Fabric_p/Fabric_Denim_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Fabric_p/Fabric_Denim_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Fabric_p/Fabric_Denim_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Fabric_p/Fabric_Denim_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Flooring_Flooring_Stone_001:{name:"Stone Tiles",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Flooring",category:"Tiles",fallback:"#888888",textures:{diffuse:{path:"Flooring/Flooring_Stone_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Flooring/Flooring_Stone_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Flooring/Flooring_Stone_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Flooring/Flooring_Stone_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Flooring/Flooring_Stone_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Grainy_Grainy_Wood_001:{name:"Bamboo Veneer",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Grainy",category:"Wood",fallback:"#888888",textures:{diffuse:{path:"Grainy/Grainy_Wood_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Grainy/Grainy_Wood_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Grainy/Grainy_Wood_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Grainy/Grainy_Wood_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Grainy/Grainy_Wood_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Grass_Grass_001:{name:"Basic Grass",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Grass",category:"Grass",fallback:"#888888",textures:{diffuse:{path:"Grass/Grass_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Grass/Grass_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Grass/Grass_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Grass/Grass_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Grass/Grass_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,props:{specular:1118481,shininess:0,displacementScale:1}},Grass_p_Grass_004:{name:"Grass_004",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Grass",category:"Grass",fallback:"#888888",textures:{diffuse:{path:"Grass_p/Grass_004_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Grass_p/Grass_004_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Grass_p/Grass_004_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Grass_p/Grass_004_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Grass_p/Grass_004_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Grass_p_Grass_005:{name:"Pale Grass",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Grass",category:"Grass",fallback:"#888888",textures:{diffuse:{path:"Grass_p/Grass_005_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Grass_p/Grass_005_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Grass_p/Grass_005_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Grass_p/Grass_005_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Grass_p/Grass_005_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,props:{specular:1118481,shininess:0,displacementScale:1}},Ice_Ice_001:{name:"Glorious Ice",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Ice",category:"Snow and ice",fallback:"#888888",textures:{diffuse:{path:"Ice/Ice_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Ice/Ice_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Ice/Ice_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Ice/Ice_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Ice/Ice_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,props:{specular:7767169,shininess:10,displacementScale:1}},Ice_Ice_002:{name:"Dirty Ice",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Ice",category:"Snow and ice",fallback:"#888888",textures:{diffuse:{path:"Ice/Ice_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Ice/Ice_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Ice/Ice_002_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Ice/Ice_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Ice/Ice_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,props:{specular:11057333,shininess:10,displacementScale:1}},Incrusted_Incrusted_Gems_001:{name:"Incrusted_Gems_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Incrusted",category:"Mineral",fallback:"#888888",textures:{diffuse:{path:"Incrusted/Incrusted_Gems_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Incrusted/Incrusted_Gems_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},alpha:{path:"Incrusted/Incrusted_Gems_001_MASK",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Incrusted/Incrusted_Gems_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Incrusted/Incrusted_Gems_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Incrusted/Incrusted_Gems_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Lava_Lava_001:{name:"Cracked Lava",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Lava",category:"Lava",fallback:"#888888",textures:{diffuse:{path:"Lava/Lava_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Lava/Lava_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Lava/Lava_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Lava/Lava_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Lava/Lava_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:6105112,shininess:13,displacementScale:1}},Lava_p_Lava_001:{name:"Spiteful Lava",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Lava",category:"Lava",fallback:"#888888",textures:{diffuse:{path:"Lava_p/Lava_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Lava_p/Lava_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Lava_p/Lava_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Lava_p/Lava_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Lava_p/Lava_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Lava_p_Lava_002:{name:"Flowing Lava",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Lava",category:"Lava",fallback:"#888888",textures:{diffuse:{path:"Lava_p/Lava_002_color",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Lava_p/Lava_002_displace",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Lava_p/Lava_002_normal",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Lava_p/Lava_002_occ",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Lava_p/Lava_002_spec",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,props:{specular:15751226,shininess:10,displacementScale:1}},Lava_slime:{name:"Green slime",tags:"slime",category:"Fluid",type:"shader",textures:{diffuse:{path:"fluid/green_slime",sizes:[256],formats:["jpg"]}},rating:3,listed:!0,props:{fragmentShader:"\n#define PHONG\n#define USE_MAP \n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\nvarying vec4 vWorldPos;\nvarying float distToCamera;\nvarying vec2 vUv;\n\nuniform float time;\n\nvec4 blend(vec4 colorA,vec4 colorB){\nreturn colorA*(1.-colorB.a)+colorB;\n}\n  \nvec4 offBlend(vec4 colorA,vec4 colorB) {\nreturn colorA*(1.-colorB.a)+colorB*colorB.a;\n}\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n//ios: #include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n#define M_PI 3.14159265358979323846\n\n\n// 2D Random\nfloat random3(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * 43758.5453123);\n}\n\nvec2 random2(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*43758.5453123);\n}\n\nfloat noise(vec2 st) {\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    float a = random3(i);\n    float b = random3(i + vec2(1.0, 0.0));\n    float c = random3(i + vec2(0.0, 1.0));\n    float d = random3(i + vec2(1.0, 1.0));\n    vec2 u = f*f*(3.0-2.0*f);\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\nfloat fbm(in vec2 st) {\n    float value = 0.0;\n    float amplitude = .5;\n    float frequency = 0.;\n    for (int i = 0; i < 6; i++) {\n        value += amplitude * noise(st);\n        st *= 2.;\n        amplitude *= .5;\n    }\n    return value;\n}\n\nvec4 heatColor(float temp) {\n\treturn vec4(temp, pow(temp, 4.0), pow(temp, 10.0), 1.0);\n}\n\nvec3 heatColor2(float temp) {\n    temp = pow(temp, 2.0);\n\treturn vec3(pow(temp, 1.0), pow(temp, 10.0) * .8, pow(temp, 10.0) * 0.1);\n}\n\nvec3 slime(float temp) {\n  //temp = pow(temp, 2.0);\n//return vec3(pow(temp, 3.0), pow(temp, 1.0), pow(temp, 10.0) * .1) * .9;\n\n  temp = pow(temp, 1.2);\n  return vec3(pow(temp, 4.0) * .65, pow(temp, 1.0), pow(temp, 10.0) * .1) * .9;\n}\n\n\nvec4 waterDetail(vec2 p, vec3 outgoingLight){\n\tvec2 pos = vec2(p*0.05);\n    vec2 movedPos = pos + time * 0.2;\n    float displaceMent = noise(pos * 0.7) - sin(movedPos.x * .5) * .1  ;\n    float val = fbm(movedPos + displaceMent * 0.8) * .5 + 0.56;\n    \n\tvec3 color = slime(val);\n\tvec3 colorFar = vec3(1.0 , .2 , .0);\n\tvec3 final = mix(color, colorFar, abs(distToCamera) * 0.1);\n\treturn vec4(color, 1.0);\n}\n\n\nvoid main() {\t\n\tvec4 diffuseColor =  vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t #include <logdepthbuf_fragment>\n\t //ios: #include <map_fragment>\n\t #include <color_fragment>\n   #include <alphamap_fragment>\n\t #include <alphatest_fragment>\n\t #include <specularmap_fragment>\n   //ios:#include <normal_fragment_begin>\n   //ios:#include <normal_fragment_maps>\n   //ios:#include <emissivemap_fragment>\n\n\t// accumulation\n\t//ios:#include <lights_phong_fragment>\n\t//ios:#include <lights_fragment_begin>\n\t//ios:#include <lights_fragment_maps>\n\t//ios:#include <lights_fragment_end>\n\n\t// modulation\n\t #include <aomap_fragment>\n\n  vec4 waterDetailColor=waterDetail((vWorldPos.xz + vWorldPos.y * 0.25) * 10.0, reflectedLight.directSpecular);\n\t//ios: #include <envmap_fragment>\n gl_FragColor = waterDetailColor;\n \n\t #include <tonemapping_fragment>\n\t #include <encodings_fragment>\n\t #include <fog_fragment>\n\t #include <premultiplied_alpha_fragment>\n\t #include <dithering_fragment>\n}\n",vertexShader:"\n#define PHONG\n#define USE_MAP\n#define USE_ENVMAP\n\nvarying vec3 vViewPosition;\nvarying vec4 vWorldPos;\nvarying float distToCamera;\nvarying vec2 vUv;\nuniform float time;\n\n#ifndef FLAT_SHADED\n\n\tvarying vec3 vNormal;\n\n#endif\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n#define M_PI 3.14159265358979323846\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n#ifndef FLAT_SHADED // Normal computed with derivatives when FLAT_SHADED\n\n\tvNormal = normalize( transformedNormal );\n\n#endif\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz + vec3(100.0,0.,0.);\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\n\tvWorldPos = worldPosition;\n\tvUv = uv;\n\tvec4 cs_position = modelViewMatrix * gl_Position;\n\tdistToCamera = -cs_position.z;\n\tgl_Position = gl_Position  + vec4(0.0, -0.1 + (cos(time + vWorldPos.x) + sin(time + vWorldPos.z)) * 0.01, 0.0, 0.0);\n}\n"}},Fluid_lava:{name:"Lava",tags:"lava",category:"Fluid",type:"shader",textures:{diffuse:{path:"fluid/lava",sizes:[256],formats:["jpg"]}},rating:3,listed:!0,props:{fragmentShader:"\n#define PHONG\n#define USE_MAP \n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\nvarying vec4 vWorldPos;\nvarying float distToCamera;\nvarying vec2 vUv;\n\nuniform float time;\n\nvec4 blend(vec4 colorA,vec4 colorB){\nreturn colorA*(1.-colorB.a)+colorB;\n}\n  \nvec4 offBlend(vec4 colorA,vec4 colorB) {\nreturn colorA*(1.-colorB.a)+colorB*colorB.a;\n}\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n//ios: #include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n#define M_PI 3.14159265358979323846\n#define randomNumber 10.288 // For laptops :(\n//#define randomNumber 43758.5453123\n\nmat2 makem2(float theta) {\n    float c = cos(theta);   \n    float s = sin(theta);\n    return mat2(c, -s, s, c);\n}\n\n// 2D Random\nfloat random3(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * 43758.5453123);\n}\n\nvec2 random2(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*43758.5453123);\n}\n\nfloat noise(vec2 st) {\n    st = st * 8.0;\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    float a = random3(i);\n    float b = random3(i + vec2(1.0, 0.0));\n    float c = random3(i + vec2(0.0, 1.0));\n    float d = random3(i + vec2(1.0, 1.0));\n    vec2 u = f*f*(3.0-2.0*f);\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\nfloat fbm(in vec2 p) {\n    float z = 2.;\n    float rz = 0.;\n    vec2 bp = p;\n    for (float i = 1.; i < 6.0; i++) {\n        rz += abs((noise(p) - 0.5) * 2.0) / z;\n        z = z * 2.;\n        p = p * 2.;\n    }\n    return rz;\n}\n\n\nfloat dualfbm(vec2 p) {\n    float distortion = 0.5;\n    float speed = 0.005;\n    vec2 p2 = p * distortion;\n    vec2 basis = vec2(fbm(p2 - time * speed * 1.6), fbm(p2 + time * speed * 1.7));\n    basis = (basis - .5) * .2;\n    p += basis;\n    return fbm(p * makem2(time *  speed * 0.2));\n}\n\n\n\nvec3 heatColor(float temp) {\n    temp = pow(temp, 1.0);\n    return vec3(pow(temp, 1.0), pow(temp, 5.5), pow(temp, 5.0) * 0.00);\n}\n\nvec3 heatColor2(float temp) {\n    temp = pow(temp, 2.0);\n\treturn vec3(pow(temp, 1.0), pow(temp, 10.0) * .8, pow(temp, 10.0) * 0.1);\n}\n\nvec3 overlay(vec3 colorA,vec3 colorB , float alpha){\nalpha = clamp(alpha, 0., 1.);\nreturn colorA*(1.-alpha)+colorB*alpha;\n}\n\nvec4 lava(vec2 p){\n    float contrast = 1.1;\n    float zoom  = 0.005;\n    vec2 pos = p* zoom + time * 0.01;\n    float val = 1.0 -dualfbm(pos);\n    vec3 color = heatColor(val);\n    color = ( (color - 0.5 ) * max( contrast, 0.0 ) ) + 0.5;\n    float distToCamera = length(cameraPosition.xyz - vWorldPos.xyz);\n    vec3 colorFar = vec3(1.0 , .8 , .1) * .65;\n    vec3 final = overlay(color, colorFar, min(pow(distToCamera, 1.5) * 0.0015, .9));\n    return vec4(final, 1.0);\n}\n\n\nvoid main() {\t\n\tvec4 diffuseColor =  vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t #include <logdepthbuf_fragment>\n\t //ios: #include <map_fragment>\n\t #include <color_fragment>\n   #include <alphamap_fragment>\n\t #include <alphatest_fragment>\n\t #include <specularmap_fragment>\n   //ios:#include <normal_fragment_begin>\n   //ios:#include <normal_fragment_maps>\n   //ios:#include <emissivemap_fragment>\n\n\t// accumulation\n\t//ios:#include <lights_phong_fragment>\n\t//ios:#include <lights_fragment_begin>\n\t//ios:#include <lights_fragment_maps>\n\t//ios:#include <lights_fragment_end>\n\n\t// modulation\n\t #include <aomap_fragment>\n\n\t//ios: #include <envmap_fragment>\n gl_FragColor = lava((vWorldPos.xz + vWorldPos.y * 0.25) * 10.0);\n \n\t #include <tonemapping_fragment>\n\t #include <encodings_fragment>\n\t #include <fog_fragment>\n\t #include <premultiplied_alpha_fragment>\n\t #include <dithering_fragment>\n}\n",vertexShader:"\n#define PHONG\n#define USE_MAP\n#define USE_ENVMAP\n\nvarying vec3 vViewPosition;\nvarying vec4 vWorldPos;\nvarying float distToCamera;\nvarying vec2 vUv;\nuniform float time;\n\nvarying vec3 vNormal;\n\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n#define M_PI 3.14159265358979323846\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz + vec3(100.0,0.,0.);\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\tvNormal = normalize(transformedNormal);\n\n\tvWorldPos = worldPosition;\n\tvUv = uv;\n\tvec4 cs_position = modelViewMatrix * gl_Position;\n\tdistToCamera = -cs_position.z;\n\tgl_Position = gl_Position  + vec4(0.0, -0.1 + (cos(time + vWorldPos.x) + sin(time + vWorldPos.z)) * 0.01, 0.0, 0.0);\n}\n"}},electricLaserBeam:{name:"Electric Laser beam",type:"shader",textures:{diffuse:{path:"fluid/green_slime",sizes:[256],formats:["jpg"]}},rating:3,listed:!1,props:{fragmentShader:"#define PHONG\n#define USE_MAP \n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\nvarying vec2 vUv;\nvarying vec3 vScale;\nvarying vec3 vViewPosition;\nvarying vec4 vWorldPos;\nvarying float fresnel;\nvarying float distToCamera;\n\nuniform float time;\n\nconst float count = 17.0;\nconst float speed = 5.0;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n// #include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n//ios: #include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n#define M_PI 3.14159265358979323846\n#define randomNumber 10.288 // For laptops :(\n//#define randomNumber 43758.5453123\n\nfloat Hash( vec2 p, in float s)\n{\n    vec3 p2 = vec3(p.xy,27.0 * abs(sin(s)));\n//    return fract(sin(dot(p2,vec3(27.1,61.7, 12.4)))*273758.5453123);\n    return fract(sin(dot(p2,vec3(27.1,61.7, 12.4)))*2.1);\n}\n\n\nfloat noise(in vec2 p, in float s)\n{\n    vec2 i = floor(p);\n    vec2 f = fract(p);\n    f *= f * (3.0-2.0*f);\n    \n    \n    return mix(mix(Hash(i + vec2(0.,0.), s), Hash(i + vec2(1.,0.), s),f.x),\n               mix(Hash(i + vec2(0.,1.), s), Hash(i + vec2(1.,1.), s),f.x),\n               f.y) * s;\n}\n\n\nfloat fbm(vec2 p)\n{\n    float v = -0.9;\n    v += noise(p*1., 0.40);\n    v += noise(p*2., 0.27);\n    v += noise(p*4., 0.10);\n    v += noise(p*8., 0.05);\n    return v;\n}\n\n\nvoid main() {\t\n\tvec4 diffuseColor =  vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t #include <logdepthbuf_fragment>\n\t//  #include <map_fragment>\n\t #include <color_fragment>\n   #include <alphamap_fragment>\n\t #include <alphatest_fragment>\n\t #include <specularmap_fragment>\n\n  //  #include <normal_fragment_begin>\n  //  #include <normal_fragment_maps>\n   //ios:#include <emissivemap_fragment>\n\n\t// accumulation\n\t//ios:#include <lights_phong_fragment>\n\t//ios:#include <lights_fragment_begin>\n\t//ios:#include <lights_fragment_maps>\n\t//ios:#include <lights_fragment_end>\n\n  // modulation \n  #include <aomap_fragment>\n\n  float worktime = time * speed;\n\n  vec2 uv = 1.0 * vec2(vUv.x, vUv.y * vScale.y);\n\n  float opacity = 0.0;\n\n  vec3 finalColor = vec3( 0.0 );\n  for( float i=1.; i <= count; ++i )\n  {\n      float t = abs(1.0 / ((uv.x + fbm( uv + worktime/i)) * (i*60.0)));\n      finalColor +=  t * vec3( i * diffuseColor.r * 0.5 + 0.1, i * diffuseColor.g * 0.5 + 0.1, i * diffuseColor.b * 0.5 + 0.1);\n      opacity += t * t * 2.0;\n  }\n\n  \n  \n  gl_FragColor = vec4(finalColor, opacity);\n\n  #include <tonemapping_fragment>\n  #include <encodings_fragment>\n  #include <fog_fragment>\n  #include <premultiplied_alpha_fragment>\n  #include <dithering_fragment>\n}",vertexShader:"#define PHONG\n#define USE_MAP\n#define USE_ENVMAP\n\nvarying vec3 vViewPosition;\nvarying vec4 vWorldPos;\nvarying float distToCamera;\nuniform float time;\n\nvarying vec3 vNormal;\nvarying vec3 vScale;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n#define M_PI 3.14159265358979323846\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz + vec3(100.0,0.,0.);\n\n  // vViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\tvNormal = normalize(transformedNormal);\n  vScale = instanceScale;\n\n\n  vUv = uv;\n\n\tvWorldPos = worldPosition;\n\tvec4 cs_position = modelViewMatrix * gl_Position;\n\tdistToCamera = -cs_position.z;\n\tgl_Position = gl_Position  + vec4(0.0, -0.1 + (cos(time + vWorldPos.x) + sin(time + vWorldPos.z)) * 0.01, 0.0, 0.0);\n}"}},Laser_beam:{name:"Laser beam",type:"shader",textures:{diffuse:{path:"fluid/green_slime",sizes:[256],formats:["jpg"]}},rating:3,listed:!1,props:{fragmentShader:i,vertexShader:o}},Laser_beam_wave:{name:"Laser beam wave",type:"shader",textures:{diffuse:{path:"fluid/green_slime",sizes:[256],formats:["jpg"]}},rating:3,listed:!1,props:{fragmentShader:i,vertexShader:"\n#define PHONG\n#define USE_MAP\n#define USE_ENVMAP\n\nvarying vec3 vViewPosition;\nvarying vec4 vWorldPos;\nvarying float distToCamera;\nvarying vec3 positionLocal;\nvarying vec2 vUv;\nuniform float time;\n\nvarying vec3 vNormal;\n\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n#define M_PI 3.14159265358979323846\n\nvoid main() {\n\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz + vec3(100.0,0.,0.);\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\tvNormal = normalize(transformedNormal);\n\n\tvWorldPos = worldPosition;\n\tvUv = uv;\n\tvec4 cs_position = modelViewMatrix * gl_Position;\n  distToCamera = -cs_position.z;\n  float distance = position.y;\n  float scale = sin(distance  * 10.0 + time * 28.0) * 0.5 + 0.5;\n  vec3 minNormal =normalize(transformedNormal);\n  float sizeMultiplyer = 2.0;\n  vec4 offset =  vec4(minNormal * vec3(-0.05, -0.1, 0.0 ) * scale, 0.0) * sizeMultiplyer;\n  gl_Position = gl_Position  + offset;\n  positionLocal = position;\n}\n"}},Rainbow_Beam:{name:"Rainbow spectrum",type:"shader",category:"Fluid",textures:{diffuse:{path:"fluid/rainbow",sizes:[256],formats:["jpg"]}},rating:3,listed:!0,props:{fragmentShader:"\n#define PHONG\n#define USE_MAP \n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\nvarying vec4 vWorldPos;\nvarying float fresnel;\nvarying float distToCamera;\nvarying vec3 positionLocal;\nvarying vec2 vUv;\n\nuniform float time;\n\nvec4 blend(vec4 colorA,vec4 colorB){\nreturn colorA*(1.-colorB.a)+colorB;\n}\n  \nvec4 offBlend(vec4 colorA,vec4 colorB) {\nreturn colorA*(1.-colorB.a)+colorB*colorB.a;\n}\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n//ios: #include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n#define M_PI 3.14159265358979323846\n#define randomNumber 10.288 // For laptops :(\n//#define randomNumber 43758.5453123\n\nmat2 makem2(float theta) {\n    float c = cos(theta);   \n    float s = sin(theta);\n    return mat2(c, -s, s, c);\n}\n\n// 2D Random\nfloat random3(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * 43758.5453123);\n}\n\nvec2 random2(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*43758.5453123);\n}\n\nfloat noise(vec2 st) {\n    st = st * 8.0;\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    float a = random3(i);\n    float b = random3(i + vec2(1.0, 0.0));\n    float c = random3(i + vec2(0.0, 1.0));\n    float d = random3(i + vec2(1.0, 1.0));\n    vec2 u = f*f*(3.0-2.0*f);\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\nfloat fbm(in vec2 p) {\n    float z = 2.;\n    float rz = 0.;\n    vec2 bp = p;\n    for (float i = 1.; i < 6.0; i++) {\n        rz += abs((noise(p) - 0.5) * 2.0) / z;\n        z = z * 2.;\n        p = p * 2.;\n    }\n    return rz;\n}\n\nfloat dualfbm(vec2 p) {\n    float distortion = 0.5;\n    float speed = 0.1;\n    vec2 p2 = p * distortion;\n    vec2 basis = vec2(fbm(p2 - time * speed * 1.6), fbm(p2 + time * speed * 1.7));\n    basis = (basis - .5) * .2;\n    p += basis;\n    return fbm(p * makem2(time *  speed * 0.2));\n}\n\nvec3 heatColor(float temp) {\n    temp = pow(temp, 1.0);\n    return vec3(pow(temp, 1.0), pow(temp, 5.5), pow(temp, 5.0) * 0.00);\n}\n\nvec3 heatColor2(float temp) {\n    temp = pow(temp, 2.0);\n\treturn vec3(pow(temp, 1.0), pow(temp, 10.0) * .8, pow(temp, 10.0) * 0.1);\n}\n\nvec3 overlay(vec3 colorA,vec3 colorB , float alpha){\nalpha = clamp(alpha, 0., 1.);\nreturn colorA*(1.-alpha)+colorB*alpha;\n}\n\nfloat hue2rgb(float f1, float f2, float hue) {\n  if (hue < 0.0)\n      hue += 1.0;\n  else if (hue > 1.0)\n      hue -= 1.0;\n  float res;\n  if ((6.0 * hue) < 1.0)\n      res = f1 + (f2 - f1) * 6.0 * hue;\n  else if ((2.0 * hue) < 1.0)\n      res = f2;\n  else if ((3.0 * hue) < 2.0)\n      res = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\n  else\n      res = f1;\n  return res;\n}\n\nvec3 hsl2rgb(vec3 hsl) {\n  vec3 rgb;\n  \n  if (hsl.y == 0.0) {\n      rgb = vec3(hsl.z); // Luminance\n  } else {\n      float f2;\n      \n      if (hsl.z < 0.5)\n          f2 = hsl.z * (1.0 + hsl.y);\n      else\n          f2 = hsl.z + hsl.y - hsl.y * hsl.z;\n          \n      float f1 = 2.0 * hsl.z - f2;\n      \n      rgb.r = hue2rgb(f1, f2, hsl.x + (1.0/3.0));\n      rgb.g = hue2rgb(f1, f2, hsl.x);\n      rgb.b = hue2rgb(f1, f2, hsl.x - (1.0/3.0));\n  }   \n  return rgb;\n}\n\nvec3 hsl2rgb(float h, float s, float l) {\n  return hsl2rgb(vec3(h, s, l));\n}\n\nvoid main() {\t\n\tvec4 diffuseColor =  vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\n\t #include <logdepthbuf_fragment>\n\t //ios: #include <map_fragment>8\n\t #include <color_fragment>\n   #include <alphamap_fragment>\n\t #include <alphatest_fragment>\n\t #include <specularmap_fragment>\n   //ios:#include <normal_fragment_begin>\n   //ios:#include <normal_fragment_maps>\n   //ios:#include <emissivemap_fragment>\n\n\t// accumulation\n\t//ios:#include <lights_phong_fragment>\n\t//ios:#include <lights_fragment_begin>\n\t//ios:#include <lights_fragment_maps>\n\t//ios:#include <lights_fragment_end>\n\n  // modulation \n  #include <aomap_fragment>\n  \n  //ios: #include <envmap_fragment>\n  gl_FragColor = vec4(hsl2rgb(sin(time * 1.0 + pow(positionLocal.y + 0.5, 2.0) * 1.5) * 0.5 + 0.5, 0.8, 0.5), 1.0);\n\n  #include <tonemapping_fragment>\n  #include <encodings_fragment>\n  #include <fog_fragment>\n  #include <premultiplied_alpha_fragment>\n  #include <dithering_fragment>\n}\n",vertexShader:o}},circularProgress:{name:"Circular progress",type:"shader",textures:{diffuse:{path:"fluid/green_slime",sizes:[256],formats:["jpg"]}},rating:3,listed:!1,props:{fragmentShader:w.default,vertexShader:E.default}},Leather_Leather_001:{name:"Checkered Leather",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Leather",category:"Leather",fallback:"#888888",textures:{diffuse:{path:"Leather/Leather_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Leather/Leather_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Leather/Leather_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Leather/Leather_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Leather/Leather_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Leather_Leather_002:{name:"Brown Fine Leather",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Leather",category:"Leather",fallback:"#888888",textures:{diffuse:{path:"Leather/Leather_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Leather/Leather_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Leather/Leather_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Leather/Leather_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Leather/Leather_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Leather_Leather_003:{name:"Gray Leather",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Leather",category:"Leather",fallback:"#888888",textures:{diffuse:{path:"Leather/Leather_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Leather/Leather_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Leather/Leather_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Leather/Leather_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Leather/Leather_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Leather_Leather_004:{name:"Blue Leather",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Leather",category:"Leather",fallback:"#888888",textures:{diffuse:{path:"Leather/Leather_004_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Leather/Leather_004_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Leather/Leather_004_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Leather/Leather_004_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Leather/Leather_004_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Leather_p_Leather_001:{name:"Red Leather",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Leather",category:"Leather",fallback:"#888888",textures:{diffuse:{path:"Leather_p/Leather_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Leather_p/Leather_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Leather_p/Leather_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Leather_p/Leather_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Leather_p/Leather_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Leather_p_Leather_002:{name:"Coarse Leather",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Leather",category:"Leather",fallback:"#888888",textures:{diffuse:{path:"Leather_p/Leather_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Leather_p/Leather_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Leather_p/Leather_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Leather_p/Leather_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Leather_p/Leather_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Leather_p_Leather_003:{name:"Ewww Leather",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Leather",category:"Leather",fallback:"#888888",textures:{diffuse:{path:"Leather_p/Leather_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Leather_p/Leather_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Leather_p/Leather_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Leather_p/Leather_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Leather_p/Leather_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Leather_p_Leather_004:{name:"Colored Croc",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Leather",category:"Leather",fallback:"#888888",textures:{diffuse:{path:"Leather_p/Leather_004_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Leather_p/Leather_004_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Leather_p/Leather_004_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Leather_p/Leather_004_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Leather_p/Leather_004_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:4473924,shininess:30,displacementScale:1}},Leather_p_Leather_005:{name:"Leather_005",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Leather",category:"Leather",fallback:"#888888",textures:{diffuse:{path:"Leather_p/Leather_005_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Leather_p/Leather_005_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Leather_p/Leather_005_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Leather_p/Leather_005_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Leather_p/Leather_005_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Leather_p_Leather_padded_001:{name:"Leather_padded_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Leather",category:"Leather",fallback:"#888888",textures:{diffuse:{path:"Leather_p/Leather_padded_001_color",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Leather_p/Leather_padded_001_disp",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Leather_p/Leather_padded_001_normal",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Leather_p/Leather_padded_001_occ",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Leather_p/Leather_padded_001_spec",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},marble_marble_coloured_001:{name:"Polluted Marble",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"marble",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"marble/marble_coloured_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"marble/marble_coloured_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"marble/marble_coloured_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"marble/marble_coloured_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"marble/marble_coloured_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Marble_p_Marble_001:{name:"Blue Marble",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Marble",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"Marble_p/Marble_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Marble_p/Marble_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Marble_p/Marble_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Marble_p/Marble_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Marble_p/Marble_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Marble_p_Marble_002:{name:"Grainy Marble",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Marble",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"Marble_p/Marble_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Marble_p/Marble_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Marble_p/Marble_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Marble_p/Marble_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Marble_p/Marble_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Marble_p_Marble_Grey_001:{name:"Antartide Marble",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Marble",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"Marble_p/Marble_Grey_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Marble_p/Marble_Grey_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Marble_p/Marble_Grey_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Marble_p/Marble_Grey_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Marble_p/Marble_Grey_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Marble_p_Marble_Grey_002:{name:"Bianco Catalina",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Marble",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"Marble_p/Marble_Grey_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Marble_p/Marble_Grey_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Marble_p/Marble_Grey_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Marble_p/Marble_Grey_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Marble_p/Marble_Grey_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Marble_p_Marble_Grey_003:{name:" Bianco Sardo",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Marble",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"Marble_p/Marble_Grey_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Marble_p/Marble_Grey_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Marble_p/Marble_Grey_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Marble_p/Marble_Grey_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Marble_p/Marble_Grey_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Marble_p_Marble_Red_001:{name:"Red Granite",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Marble",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"Marble_p/Marble_Red_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Marble_p/Marble_Red_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Marble_p/Marble_Red_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Marble_p/Marble_Red_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Marble_p/Marble_Red_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Marble_p_Marble_Red_002:{name:"Barcelona Granite",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Marble",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"Marble_p/Marble_Red_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Marble_p/Marble_Red_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Marble_p/Marble_Red_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Marble_p/Marble_Red_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Marble_p/Marble_Red_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Metal_Metal_Alien_001:{name:"Cosmic Metal",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{ao:{path:"Metal/Metal_Alien_001_AO",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},diffuse:{path:"Metal/Metal_Alien_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_Alien_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Metal/Metal_Alien_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_Alien_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Metal_Metal_Crystals_001:{name:"Metal_Crystals_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_Crystals_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_Crystals_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_Crystals_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_Crystals_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_Crystals_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Metal_Metal_Crystals_002:{name:"Metal_Crystals_002",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_Crystals_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_Crystals_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_Crystals_002_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_Crystals_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_Crystals_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Metal_Metal_dented_001:{name:"Dented Metal",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_dented_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_dented_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_dented_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_dented_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_dented_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Metal_Metal_galvanized_001:{name:"Galvanized Metal",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_galvanized_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_galvanized_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_galvanized_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_galvanized_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_galvanized_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Metal_Metal_grunge_001:{name:"Scratched Green",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_grunge_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_grunge_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_grunge_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_grunge_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_grunge_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Metal_Metal_grunge_002:{name:"Scratched Brown",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_grunge_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_grunge_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_grunge_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_grunge_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_grunge_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Metal_Metal_grunge_003:{name:"Heavy Metal",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_grunge_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_grunge_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_grunge_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_grunge_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_grunge_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Metal_Metal_Mesh_001:{name:"Fine Metal Mesh",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_Mesh_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_Mesh_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_Mesh_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_Mesh_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_Mesh_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Metal_Metal_panel_001:{name:"Hexagon Plates",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_panel_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_panel_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Metal/Metal_panel_001_NORMAL",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_panel_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Metal/Metal_panel_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:3355443,shininess:50,displacementScale:1}},Metal_Metal_Plate_002:{name:"Willow Leaf",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_Plate_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_Plate_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_Plate_002_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_Plate_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Metal/Metal_Plate_002_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_Metal_Plate_003:{name:"Diamond Plate",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_Plate_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_Plate_003_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Metal/Metal_Plate_003_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_Plate_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Metal/Metal_Plate_003_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_Metal_Plate_004:{name:"Punched Metal",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_Plate_004_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_Plate_004_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Metal/Metal_Plate_004_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_Plate_004_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Metal/Metal_Plate_004_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:6710886,shininess:20,displacementScale:1}},Metal_Metal_Rusted_001:{name:"Rusted 1",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_Rusted_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_Rusted_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_Rusted_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_Rusted_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_Rusted_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:10,displacementScale:1}},Metal_Metal_Rusted_002:{name:"Rusted 2",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_Rusted_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_Rusted_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_Rusted_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_Rusted_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_Rusted_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:10,displacementScale:1}},Metal_Metal_Rusted_003:{name:"Rusted 3",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_Rusted_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_Rusted_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_Rusted_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_Rusted_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_Rusted_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:10,displacementScale:1}},Metal_Metal_Rusted_004:{name:"Rusted 4",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_Rusted_004_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_Rusted_004_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_Rusted_004_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_Rusted_004_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_Rusted_004_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:10,displacementScale:1}},Metal_Metal_Rusted_005:{name:"Rusted 5",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_Rusted_005_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_Rusted_005_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_Rusted_005_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_Rusted_005_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_Rusted_005_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:10,displacementScale:1}},Metal_Metal_Rusted_006:{name:"Rusted 6",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_Rusted_006_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_Rusted_006_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_Rusted_006_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_Rusted_006_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_Rusted_006_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:10,displacementScale:1}},Metal_Metal_Rusted_007:{name:"Rusted 7",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_Rusted_007_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_Rusted_007_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Metal/Metal_Rusted_007_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Metal/Metal_Rusted_007_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Metal/Metal_Rusted_007_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:10,displacementScale:1}},Metal_Metal_scratched_003:{name:"Scratched Metal 1",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_scratched_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_scratched_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_scratched_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_scratched_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_scratched_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_Metal_scratched_004:{name:"Metal_scratched_004",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_scratched_004_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_scratched_004_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_scratched_004_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_scratched_004_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_scratched_004_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_Metal_scratched_005:{name:"Scratched Metal 2",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_scratched_005_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_scratched_005_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_scratched_005_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_scratched_005_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_scratched_005_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_Metal_scratched_006:{name:"Scratched Metal 3",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_scratched_006_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_scratched_006_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal/Metal_scratched_006_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_scratched_006_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal/Metal_scratched_006_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_Metal_Weave_002:{name:"Metal Weave",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal/Metal_Weave_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal/Metal_Weave_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Metal/Metal_Weave_002_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal/Metal_Weave_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Metal/Metal_Weave_002_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_p_Metal_Bronze_001:{name:"Bronze",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/Metal_Bronze_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/Metal_Bronze_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/Metal_Bronze_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/Metal_Bronze_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/Metal_Bronze_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_p_Metal_Bronze_green_001:{name:"Oxidated Bronze",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/Metal_Bronze_green_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/Metal_Bronze_green_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/Metal_Bronze_green_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/Metal_Bronze_green_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/Metal_Bronze_green_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_p_Metal_Chain_mail_001:{name:"Metal_Chain_mail_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/Metal_Chain_mail_001_color",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/Metal_Chain_mail_001_displace",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/Metal_Chain_mail_001_normal",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/Metal_Chain_mail_001_occ",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/Metal_Chain_mail_001_spec",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_p_Metal_foil_001:{name:"Metal_foil_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/Metal_foil_001_color",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/Metal_foil_001_disp",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/Metal_foil_001_normal",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/Metal_foil_001_occ",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/Metal_foil_001_spec",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_p_metal_galvanised_001:{name:"Galvanized Steel",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/metal_galvanised_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/metal_galvanised_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/metal_galvanised_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/metal_galvanised_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/metal_galvanised_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_p_Metal_Gold_Foil_001:{name:"Golden Foil",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/Metal_Gold_Foil_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/Metal_Gold_Foil_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/Metal_Gold_Foil_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/Metal_Gold_Foil_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/Metal_Gold_Foil_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_p_Metal_Gold_Foil_002:{name:"Gold",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/Metal_Gold_Foil_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/Metal_Gold_Foil_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/Metal_Gold_Foil_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/Metal_Gold_Foil_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/Metal_Gold_Foil_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_p_Metal_plate_001:{name:"Checker Plate",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/Metal_plate_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/Metal_plate_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/Metal_plate_001_NORM",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/Metal_plate_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/Metal_plate_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_p_Metal_plate_002:{name:"Lentil Plate",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/Metal_plate_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/Metal_plate_002_displace",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/Metal_plate_002_normal",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/Metal_plate_002_occlusion",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/Metal_plate_002_specular",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_p_Metal_plate_003:{name:"Square Metal Plates",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/Metal_plate_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/Metal_plate_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/Metal_plate_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/Metal_plate_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/Metal_plate_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_p_Metal_Rusted_001:{name:"Bright Worn Metal",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/Metal_Rusted_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/Metal_Rusted_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/Metal_Rusted_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/Metal_Rusted_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/Metal_Rusted_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_p_Metal_Rusted_002:{name:"Rusted 8",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/Metal_Rusted_002",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/Metal_Rusted_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/Metal_Rusted_002_normal",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/Metal_Rusted_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/Metal_Rusted_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,props:{specular:8947848,shininess:10,displacementScale:1}},Metal_p_Metal_Rusted_003:{name:"Rusted 9",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/Metal_Rusted_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/Metal_Rusted_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/Metal_Rusted_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/Metal_Rusted_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/Metal_Rusted_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:10,displacementScale:1}},Metal_p_Metal_rusted_painted_001:{name:"Cracked Rust",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/Metal_rusted_painted_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/Metal_rusted_painted_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/Metal_rusted_painted_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/Metal_rusted_painted_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/Metal_rusted_painted_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:3355443,shininess:0,displacementScale:1}},Metal_p_Metal_scratched_001:{name:"Scratched Metal 4",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/Metal_scratched_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/Metal_scratched_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/Metal_scratched_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/Metal_scratched_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/Metal_scratched_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Metal_p_Metal_weave_001:{name:"Chain Mail",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",category:"Metal",fallback:"#888888",textures:{diffuse:{path:"Metal_p/Metal_weave_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_p/Metal_weave_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_p/Metal_weave_001_NORMAL",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_p/Metal_weave_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_p/Metal_weave_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:20,displacementScale:1}},Moon_Moon_001:{name:"Shit that we dont want, please just disapear already",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Moon",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Moon/Moon_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Moon/Moon_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Moon/Moon_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Moon/Moon_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Moon/Moon_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Orange_Orange_001:{name:"Orange Skin",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Orange",category:"Organic",fallback:"#888888",textures:{diffuse:{path:"Orange/Orange_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Orange/Orange_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Orange/Orange_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Orange/Orange_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Orange/Orange_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Organic_Organic_matter_001:{name:"Tumor",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Organic",category:"Organic",fallback:"#888888",textures:{diffuse:{path:"Organic/Organic_matter_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Organic/Organic_matter_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Organic/Organic_matter_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Organic/Organic_matter_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Organic/Organic_matter_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Organic_p_Organic_Snake_skin_001:{name:"Snake Skin",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Organic",category:"Organic",fallback:"#888888",textures:{diffuse:{path:"Organic_p/Organic_Snake_skin_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Organic_p/Organic_Snake_skin_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Organic_p/Organic_Snake_skin_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Organic_p/Organic_Snake_skin_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Organic_p/Organic_Snake_skin_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Organic_p_Organic_Strawberry_001:{name:"Strawberry",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Organic",category:"Organic",fallback:"#888888",textures:{diffuse:{path:"Organic_p/Organic_Strawberry_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Organic_p/Organic_Strawberry_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Organic_p/Organic_Strawberry_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Organic_p/Organic_Strawberry_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Organic_p/Organic_Strawberry_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Painted_Wall_p_Painted_wall_001:{name:"Yellow Concrete",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Painted",category:"Concrete",fallback:"#888888",textures:{diffuse:{path:"Painted Wall_p/Painted_wall_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Painted Wall_p/Painted_wall_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Painted Wall_p/Painted_wall_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Painted Wall_p/Painted_wall_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Painted Wall_p/Painted_wall_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Painted_Wall_p_Painted_wall_002:{name:"Blue Concrete",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Painted",category:"Concrete",fallback:"#888888",textures:{diffuse:{path:"Painted Wall_p/Painted_wall_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Painted Wall_p/Painted_wall_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Painted Wall_p/Painted_wall_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Painted Wall_p/Painted_wall_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Painted Wall_p/Painted_wall_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Painted_Wall_p_Painted_wall_003:{name:"Green Concrete",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Painted",category:"Concrete",fallback:"#888888",textures:{diffuse:{path:"Painted Wall_p/Painted_wall_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Painted Wall_p/Painted_wall_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Painted Wall_p/Painted_wall_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Painted Wall_p/Painted_wall_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Painted Wall_p/Painted_wall_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Particle_Particle_Board_001:{name:"Flakeboard",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Particle",category:"Planks",fallback:"#888888",textures:{diffuse:{path:"Particle/Particle_Board_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Particle/Particle_Board_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Particle/Particle_Board_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Particle/Particle_Board_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Particle/Particle_Board_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Pavement_Pavement_005:{name:"Interlocker Bricks",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Pavement",category:"Pavement",fallback:"#888888",textures:{diffuse:{path:"Pavement/Pavement_005_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Pavement/Pavement_005_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Pavement/Pavement_005_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Pavement/Pavement_005_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Pavement/Pavement_005_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Pavement_Pavement_006:{name:"Gray Herringbone",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Pavement",category:"Pavement",fallback:"#888888",textures:{diffuse:{path:"Pavement/Pavement_006_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Pavement/Pavement_006_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Pavement/Pavement_006_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Pavement/Pavement_006_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Pavement/Pavement_006_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Pavement_Pavement_Brick_001:{name:"Bright Herringbone",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Pavement",category:"Pavement",fallback:"#888888",textures:{diffuse:{path:"Pavement/Pavement_Brick_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Pavement/Pavement_Brick_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Pavement/Pavement_Brick_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Pavement/Pavement_Brick_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Pavement/Pavement_Brick_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Pavement_p_Pavement_Brick_001:{name:"Bright Herringbone",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Pavement",category:"Pavement",fallback:"#888888",textures:{diffuse:{path:"Pavement_p/Pavement_Brick_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Pavement_p/Pavement_Brick_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Pavement_p/Pavement_Brick_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Pavement_p/Pavement_Brick_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Pavement_p/Pavement_Brick_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Pavement_p_Pavement_Brick_002:{name:"Tango Bricks",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Pavement",category:"Pavement",fallback:"#888888",textures:{diffuse:{path:"Pavement_p/Pavement_Brick_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Pavement_p/Pavement_Brick_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Pavement_p/Pavement_Brick_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Pavement_p/Pavement_Brick_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Pavement_p/Pavement_Brick_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Pavement_p_Pavement_Brick_003:{name:"Irregular Square",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Pavement",category:"Pavement",fallback:"#888888",textures:{diffuse:{path:"Pavement_p/Pavement_Brick_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Pavement_p/Pavement_Brick_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Pavement_p/Pavement_Brick_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Pavement_p/Pavement_Brick_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Pavement_p/Pavement_Brick_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Pavement_p_Pavement_Brick_004:{name:"Brick Herringbone",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Pavement",category:"Pavement",fallback:"#888888",textures:{diffuse:{path:"Pavement_p/Pavement_Brick_004_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Pavement_p/Pavement_Brick_004_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Pavement_p/Pavement_Brick_004_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Pavement_p/Pavement_Brick_004_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Pavement_p/Pavement_Brick_004_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Pavement_p_Pavement_Stone_001:{name:"Cobble Stones",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Pavement",category:"Pavement",fallback:"#888888",textures:{diffuse:{path:"Pavement_p/Pavement_Stone_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Pavement_p/Pavement_Stone_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Pavement_p/Pavement_Stone_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Pavement_p/Pavement_Stone_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Pavement_p/Pavement_Stone_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},pbr_bark1_bark1:{name:"Dark Oak Bark",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"bark1",category:"Wood",fallback:"#888888",textures:{diffuse:{path:"pbr/bark1/bark1-albedo",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"pbr/bark1/bark1-ao",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"pbr/bark1/bark1-height2",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},metalness:{path:"pbr/bark1/bark1-metalness",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"pbr/bark1/bark1-normal3",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"pbr/bark1/bark1-rough",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},pbr_charcoal_charcoal:{name:"Charcoal",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"charcoal",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"pbr/charcoal/charcoal-albedo2",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"pbr/charcoal/charcoal-height",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},metalness:{path:"pbr/charcoal/charcoal-metalness",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"pbr/charcoal/charcoal-normal",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},roughness:{path:"pbr/charcoal/charcoal-roughness",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},pbr_grass1_grass1:{name:"Vivid Grass",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"grass1",category:"Grass",fallback:"#888888",textures:{diffuse:{path:"pbr/grass1/grass1-albedo3",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"pbr/grass1/grass1-ao",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"pbr/grass1/grass1-height",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"pbr/grass1/grass1-normal2",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"pbr/grass1/grass1-rough",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},pbr_lunar_rock_lunar_rock:{name:"Lunar Rock",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"lunar",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"pbr/lunar-rock/lunar-rock-albedo",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"pbr/lunar-rock/lunar-rock-ao",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"pbr/lunar-rock/lunar-rock-height-u",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"pbr/lunar-rock/lunar-rock-normal-u",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},pbr_mossy_ground1_mossy_ground1:{name:"Mossy Grass",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"mossy",category:"Grass",fallback:"#888888",textures:{diffuse:{path:"pbr/mossy-ground1/mossy-ground1-albedo",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"pbr/mossy-ground1/mossy-ground1-ao",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"pbr/mossy-ground1/mossy-ground1-height",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"pbr/mossy-ground1/mossy-ground1-preview",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Portuguese_Portuguese_Floor_001:{name:"Portuguese Floor",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Portuguese",category:"Tiles",fallback:"#888888",textures:{diffuse:{path:"Portuguese/Portuguese_Floor_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Portuguese/Portuguese_Floor_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Portuguese/Portuguese_Floor_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Portuguese/Portuguese_Floor_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Portuguese/Portuguese_Floor_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Red_Red_Marble_001:{name:"Rosewood Granite",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Red",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"Red/Red_Marble_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Red/Red_Marble_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Red/Red_Marble_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Red/Red_Marble_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Red_Red_Marble_002:{name:"Pink Marble",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Red",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"Red/Red_Marble_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Red/Red_Marble_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Red/Red_Marble_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Red/Red_Marble_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rock_Rock_Ore_001:{name:"Dark Ore",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rock",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rock/Rock_Ore_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rock/Rock_Ore_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},metalness:{path:"Rock/Rock_Ore_001_METAL",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rock/Rock_Ore_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rock/Rock_Ore_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Rock/Rock_Ore_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rock/Rock_Ore_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rock_Rock_Ore_002:{name:"Blue Ore",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rock",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rock/Rock_Ore_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rock/Rock_Ore_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rock/Rock_Ore_002_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rock/Rock_Ore_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Rock/Rock_Ore_002_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:5138292,shininess:10,displacementScale:1}},Roofing_p_Roofing_001:{name:"Roofing_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Roofing",category:"Bricks",fallback:"#888888",textures:{diffuse:{path:"Roofing_p/Roofing_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Roofing_p/Roofing_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Roofing_p/Roofing_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Roofing_p/Roofing_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Roofing_p/Roofing_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Roofing_p_Roofing_002:{name:"Roofing_002",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Roofing",category:"Bricks",fallback:"#888888",textures:{diffuse:{path:"Roofing_p/Roofing_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Roofing_p/Roofing_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Roofing_p/Roofing_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Roofing_p/Roofing_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Roofing_p/Roofing_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_Marble_001:{name:"Allure Quartzite",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_Marble_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_Marble_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough/Rough_Marble_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough/Rough_Marble_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough/Rough_Marble_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_rock_001:{name:"Rough Rock 1",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_rock_002:{name:"Rough Rock 2",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_002_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_002_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_002_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_002_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_rock_003:{name:"Plain Sandstone",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_003_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_003_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_003_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_003_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_003_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_rock_004:{name:"Cracked Sandstone",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_004_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_004_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_004_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_004_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_004_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_rock_008:{name:"Rough Rock 3",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_008_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_008_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_008_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_008_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_008_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_rock_009:{name:"Rough Rock 4",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_009_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_009_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_009_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_009_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_009_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_rock_011:{name:"Rough Rock 5",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_011_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_011_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_011_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_011_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_011_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_rock_012:{name:"Rough Rock 6",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_012_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_012_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_012_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_012_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_012_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_rock_013:{name:"Rough Rock 7",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_013_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_013_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_013_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_013_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_013_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_rock_014:{name:"Rough Rock 8",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_014_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_014_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_014_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_014_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_014_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_rock_015:{name:"Rough Rock 9",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_015_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_015_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_015_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_015_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_015_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:20,displacementScale:1}},Rough_Rough_rock_017:{name:"Rough Rock 10",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_017_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_017_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_017_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_017_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_017_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_rock_018:{name:"Rough Rock 11",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_018_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_018_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_018_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_018_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_018_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_rock_019:{name:"Rough Rock 12",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_019_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_019_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_019_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_019_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_019_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_rock_020:{name:"Rough Rock 13",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_020_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_020_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_020_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_020_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_020_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rough_rock_021:{name:"Rough Rock 14",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough/Rough_rock_021_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough/Rough_rock_021_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_021_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough/Rough_rock_021_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough/Rough_rock_021_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rock_p_Rough_Rock_001:{name:"Rough Rock 15",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough Rock_p/Rough_Rock_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough Rock_p/Rough_Rock_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough Rock_p/Rough_Rock_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough Rock_p/Rough_Rock_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough Rock_p/Rough_Rock_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rock_p_Rough_rock_002:{name:"Rough Rock 16",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough Rock_p/Rough_rock_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough Rock_p/Rough_rock_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough Rock_p/Rough_rock_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough Rock_p/Rough_rock_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough Rock_p/Rough_rock_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rock_p_Rough_rock_003:{name:"Rough Rock 17",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough Rock_p/Rough_rock_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough Rock_p/Rough_rock_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough Rock_p/Rough_rock_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough Rock_p/Rough_rock_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough Rock_p/Rough_rock_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rock_p_Rough_rock_004:{name:"Rough Rock 18",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough Rock_p/Rough_rock_004_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough Rock_p/Rough_rock_004_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough Rock_p/Rough_rock_004_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough Rock_p/Rough_rock_004_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough Rock_p/Rough_rock_004_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rock_p_Rough_rock_005:{name:"Rough Rock 19",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough Rock_p/Rough_rock_005_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough Rock_p/Rough_rock_005_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough Rock_p/Rough_rock_005_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough Rock_p/Rough_rock_005_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough Rock_p/Rough_rock_005_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rock_p_Rough_Rock_006:{name:"Rough Rock 20",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough Rock_p/Rough_Rock_006_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough Rock_p/Rough_Rock_006_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough Rock_p/Rough_Rock_006_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough Rock_p/Rough_Rock_006_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough Rock_p/Rough_Rock_006_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rough_Rock_p_Rough_Rock_007:{name:"Rough Rock 21",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Rough Rock_p/Rough_Rock_007_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rough Rock_p/Rough_Rock_007_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough Rock_p/Rough_Rock_007_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rough Rock_p/Rough_Rock_007_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rough Rock_p/Rough_Rock_007_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rubble_p_Rubble_002:{name:"Rubble_002",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rubble",category:"Stone",fallback:"#888888",textures:{diffuse:{path:"Rubble_p/Rubble_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rubble_p/Rubble_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rubble_p/Rubble_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rubble_p/Rubble_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rubble_p/Rubble_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rubble_p_Rubble_003:{name:"Rubble_003",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rubble",category:"Stone",fallback:"#888888",textures:{diffuse:{path:"Rubble_p/Rubble_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rubble_p/Rubble_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rubble_p/Rubble_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rubble_p/Rubble_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rubble_p/Rubble_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rug_Rug_001:{name:"Gray Rug",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rug",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Rug/Rug_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rug/Rug_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rug/Rug_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rug/Rug_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rug/Rug_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Rug_Rug_002:{name:"Brown Rug",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rug",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Rug/Rug_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Rug/Rug_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rug/Rug_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Rug/Rug_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Rug/Rug_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Sand_002_Sand_002:{name:"Rought Sand",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Sand 002",category:"Sand",fallback:"#888888",textures:{diffuse:{path:"Sand 002/Sand 002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Sand 002/Sand 002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Sand 002/Sand 002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Sand 002/Sand 002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,props:{specular:1118481,shininess:0,displacementScale:1}},sandstone_sandstone_rock_001:{name:"Rough Rock 22",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"sandstone",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"sandstone/sandstone_rock_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"sandstone/sandstone_rock_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"sandstone/sandstone_rock_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"sandstone/sandstone_rock_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"sandstone/sandstone_rock_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},sandstone_Sandstone_rock_002:{name:"Brown Dirt",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Sandstone",category:"Dirt",fallback:"#888888",textures:{diffuse:{path:"sandstone/Sandstone_rock_002_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"sandstone/Sandstone_rock_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"sandstone/Sandstone_rock_002_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"sandstone/Sandstone_rock_002_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"sandstone/Sandstone_rock_002_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Sand_p_Sand_001:{name:"Smooth Sand",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Sand",category:"Sand",fallback:"#888888",textures:{diffuse:{path:"Sand_p/Sand_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Sand_p/Sand_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Sand_p/Sand_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Sand_p/Sand_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Sand_p/Sand_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!1,props:{specular:1118481,shininess:0,displacementScale:1}},Sand_p_Sand_002:{name:"Hard Sand",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Sand",category:"Sand",fallback:"#888888",textures:{diffuse:{path:"Sand_p/Sand_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Sand_p/Sand_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Sand_p/Sand_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Sand_p/Sand_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Sand_p/Sand_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,props:{specular:1118481,shininess:0,displacementScale:1}},Scales_Scales_001:{name:"Scales",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Scales",category:"Organic",fallback:"#888888",textures:{diffuse:{path:"Scales/Scales_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Scales/Scales_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Scales/Scales_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Scales/Scales_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Scales/Scales_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Slate_Flooring_001_Slate_Flooring_001:{name:"Marble Tiles",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Slate Flooring 001",category:"Tiles",fallback:"#888888",textures:{diffuse:{path:"Slate Flooring 001/Slate Flooring 001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Slate Flooring 001/Slate Flooring 001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Slate Flooring 001/Slate Flooring 001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Slate Flooring 001/Slate Flooring 001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Slate Flooring 001/Slate Flooring 001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Stone_Stone_Floor_002:{name:"Nepean Rock",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Stone",category:"Pavement",fallback:"#888888",textures:{diffuse:{path:"Stone/Stone_Floor_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Stone/Stone_Floor_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Stone/Stone_Floor_002_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Stone/Stone_Floor_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Stone/Stone_Floor_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Stone_Stone_Floor_003:{name:"Crazy Pave",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Stone",category:"Pavement",fallback:"#888888",textures:{diffuse:{path:"Stone/Stone_Floor_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Stone/Stone_Floor_003_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Stone/Stone_Floor_003_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Stone/Stone_Floor_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Stone/Stone_Floor_003_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Stone_Stone_Floor_004:{name:"Rough Herringbone",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Stone",category:"Pavement",fallback:"#888888",textures:{diffuse:{path:"Stone/Stone_Floor_004_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Stone/Stone_Floor_004_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Stone/Stone_Floor_004_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Stone/Stone_Floor_004_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Stone/Stone_Floor_004_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Stone_Stone_Tiles_001:{name:"Tight Herringbone",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Stone",category:"Pavement",fallback:"#888888",textures:{diffuse:{path:"Stone/Stone_Tiles_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Stone/Stone_Tiles_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Stone/Stone_Tiles_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Stone/Stone_Tiles_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Stone/Stone_Tiles_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Stone_Stone_wall_001:{name:"Erratic Sandstone",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Stone",category:"Bricks",fallback:"#888888",textures:{diffuse:{path:"Stone/Stone_wall_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Stone/Stone_wall_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Stone/Stone_wall_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Stone/Stone_wall_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Stone/Stone_wall_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!1,props:{specular:1118481,shininess:0,displacementScale:1}},Stone_Stone_Wall_002:{name:"Stonewall",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Stone",category:"Bricks",fallback:"#888888",textures:{diffuse:{path:"Stone/Stone_Wall_002_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Stone/Stone_Wall_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Stone/Stone_Wall_002_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Stone/Stone_Wall_002_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Stone/Stone_Wall_002_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Stone_Stone_wall_005:{name:"Templestone",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Stone",category:"Bricks",fallback:"#888888",textures:{diffuse:{path:"Stone/Stone_wall_005_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Stone/Stone_wall_005_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Stone/Stone_wall_005_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Stone/Stone_wall_005_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Stone/Stone_wall_005_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Stone_wall_Stone_Wall_001:{name:"Stone_wall_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Stone",category:"Stone",fallback:"#888888",textures:{diffuse:{path:"Stone wall/Stone_Wall_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Stone wall/Stone_Wall_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Stone wall/Stone_Wall_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Stone wall/Stone_Wall_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Stone wall/Stone_Wall_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Stone_wall_Stone_Wall_002:{name:"Old English",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Stone",category:"Pavement",fallback:"#888888",textures:{diffuse:{path:"Stone wall/Stone_Wall_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Stone wall/Stone_Wall_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Stone wall/Stone_Wall_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Stone wall/Stone_Wall_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Stone wall/Stone_Wall_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Striped_Striped_Fabric_001:{name:"Yellow Stripes",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Striped",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Striped/Striped_Fabric_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Striped/Striped_Fabric_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Striped/Striped_Fabric_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Striped/Striped_Fabric_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Stylized_Stylized_Bark_001:{name:"Stylized Bark",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Stylized",category:"Wood",fallback:"#888888",textures:{diffuse:{path:"Stylized/Stylized_Bark_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Stylized/Stylized_Bark_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Stylized/Stylized_Bark_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Stylized/Stylized_Bark_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Stylized_Stylized_Bark_002:{name:"Ebony Veneer",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Stylized",category:"Wood",fallback:"#888888",textures:{diffuse:{path:"Stylized/Stylized_Bark_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Stylized/Stylized_Bark_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Stylized/Stylized_Bark_002_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Stylized/Stylized_Bark_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Stylized/Stylized_Bark_002_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Tiles_Tiles_001:{name:"Diamond Tiles",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Tiles",category:"Tiles",fallback:"#888888",textures:{diffuse:{path:"Tiles/Tiles_001_color",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Tiles/Tiles_001_disp",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Tiles/Tiles_001_normal",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Tiles/Tiles_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Tiles/Tiles_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Tiles_Tiles_002:{name:"White Tiles",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Tiles",category:"Tiles",fallback:"#888888",textures:{diffuse:{path:"Tiles/Tiles_002_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Tiles/Tiles_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Tiles/Tiles_002_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Tiles/Tiles_002_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Tiles/Tiles_002_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Tiles_Tiles_003:{name:"Granite Tiles",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Tiles",category:"Tiles",fallback:"#888888",textures:{diffuse:{path:"Tiles/Tiles_003_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Tiles/Tiles_003_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Tiles/Tiles_003_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Tiles/Tiles_003_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Tiles/Tiles_003_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Tiles_Tiles_004:{name:"Red Mosaic",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Tiles",category:"Tiles",fallback:"#888888",textures:{diffuse:{path:"Tiles/Tiles_004_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Tiles/Tiles_004_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Tiles/Tiles_004_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Tiles/Tiles_004_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Tiles/Tiles_004_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Tiles_Tiles_006:{name:"Blue Mosaic",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Tiles",category:"Tiles",fallback:"#888888",textures:{diffuse:{path:"Tiles/Tiles_006_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Tiles/Tiles_006_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Tiles/Tiles_006_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Tiles/Tiles_006_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Tiles/Tiles_006_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Tiles_Tiles_009:{name:"Brown Tiles",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Tiles",category:"Tiles",fallback:"#888888",textures:{diffuse:{path:"Tiles/Tiles_009_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Tiles/Tiles_009_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Tiles/Tiles_009_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Tiles/Tiles_009_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Tiles/Tiles_009_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Tiles_Tiles_010:{name:"Sky Tiles",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Tiles",category:"Tiles",fallback:"#888888",textures:{diffuse:{path:"Tiles/Tiles_010_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Tiles/Tiles_010_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Tiles/Tiles_010_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Tiles/Tiles_010_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Tiles/Tiles_010_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Tiles_Tiles_seamless_001_diffuse:{name:"Hipster Tiles",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Tiles",category:"Tiles",fallback:"#888888",textures:{diffuse:{path:"Tiles/Tiles_seamless_001_diffuse_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Tiles/Tiles_seamless_001_diffuse_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Tiles/Tiles_seamless_001_diffuse_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Tiles/Tiles_seamless_001_diffuse_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Tiles/Tiles_seamless_001_diffuse_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Tiles_007_Tiles_007:{name:" Halila Tiles",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Tiles 007",category:"Tiles",fallback:"#888888",textures:{diffuse:{path:"Tiles 007/Tiles 007_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Tiles 007/Tiles 007_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Tiles 007/Tiles 007_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Tiles 007/Tiles 007_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Volcanic_Volcanic_glass_001:{name:"Volcanic glass",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Volcanic",category:"Rock",fallback:"#341925",textures:{diffuse:{path:"Volcanic/Volcanic_glass_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Volcanic/Volcanic_glass_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Volcanic/Volcanic_glass_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Volcanic/Volcanic_glass_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Volcanic/Volcanic_glass_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:10235732,shininess:20,displacementScale:1}},Lustrous_Volcanic_glass:{name:"Lustrous Volcanic glass",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Volcanic",category:"Rock",fallback:"#888888",textures:{diffuse:{path:"Volcanic/Volcanic_glass_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Volcanic/Volcanic_glass_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Volcanic/Volcanic_glass_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Volcanic/Volcanic_glass_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Volcanic/Volcanic_glass_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:10066329,shininess:50,displacementScale:1}},Wall_Wall_damaged_001:{name:"Old Concrete",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wall",category:"Concrete",fallback:"#888888",textures:{diffuse:{path:"Wall/Wall_damaged_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wall/Wall_damaged_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wall/Wall_damaged_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wall/Wall_damaged_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wall_Wall_Stone_003:{name:"Medieval Bricks",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wall",category:"Bricks",fallback:"#888888",textures:{diffuse:{path:"Wall/Wall_Stone_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wall/Wall_Stone_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wall/Wall_Stone_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wall/Wall_Stone_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wall_Stone_004_Wall_Stone_004:{name:"Wall_Stone_004",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wall",category:"Stone",fallback:"#888888",textures:{diffuse:{path:"Wall Stone 004/Wall Stone 004_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wall Stone 004/Wall Stone 004_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wall Stone 004/Wall Stone 004_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wall Stone 004/Wall Stone 004_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wallpaper_Wallpaper_001:{name:"Worn Carpet",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wallpaper",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Wallpaper/Wallpaper_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wallpaper/Wallpaper_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wallpaper/Wallpaper_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wallpaper/Wallpaper_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wallpaper/Wallpaper_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},White_White_Marble_001_COLOR:{name:"Classic Marble",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"White",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"White/White_Marble_001_COLOR_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"White/White_Marble_001_COLOR_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"White/White_Marble_001_COLOR_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"White/White_Marble_001_COLOR_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"White/White_Marble_001_COLOR_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},White_White_Marble_002:{name:"Calacatta Marble",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"White",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"White/White_Marble_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"White/White_Marble_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"White/White_Marble_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"White/White_Marble_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"White/White_Marble_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},White_White_Marble_003:{name:"Augusta Marble",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"White",category:"Marble",fallback:"#888888",textures:{diffuse:{path:"White/White_Marble_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"White/White_Marble_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"White/White_Marble_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"White/White_Marble_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"White/White_Marble_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wooden_weave_001:{name:"Seamless Rattan",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wooden",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Wood/Wooden_weave_001_diffuse",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wooden_weave_001_displace",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wooden_weave_001_normal",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wooden_weave_001_occ",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wooden_weave_001_spec",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wooden_weave_002:{name:"Rattan Weave",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wooden",category:"Misc",fallback:"#888888",textures:{diffuse:{path:"Wood/Wooden_weave_002_color",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wooden_weave_002_disp",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wooden_weave_002_normal",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wooden_weave_002_occ",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wooden_weave_002_spec",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_bare_001:{name:"Teak Wood",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Wood",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_bare_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_bare_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_bare_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_bare_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_bare_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_bare_002:{name:"Oak Veneer",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Wood",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_bare_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_bare_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_bare_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_bare_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_bare_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_bare_003:{name:"Mahogny Wood",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Wood",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_bare_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_bare_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_bare_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_bare_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_bare_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_bark_001:{name:"Oak Bark",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Wood",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_bark_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_bark_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_bark_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_bark_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_bark_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_Birch_bark_001:{name:"Birch Bark",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Wood",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_Birch_bark_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_Birch_bark_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_Birch_bark_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_Birch_bark_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_Birch_bark_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_floor_001:{name:"Seamless Parquet",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Planks",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_floor_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_floor_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_floor_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_floor_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_floor_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_floor_002:{name:"Oak Parquet",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Planks",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_floor_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_floor_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_floor_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_floor_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_floor_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_floor_003:{name:"Black Oak",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Planks",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_floor_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_floor_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_floor_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_floor_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_floor_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_floor_004:{name:"Lacquered Parquet",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Planks",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_floor_004_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_floor_004_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_floor_004_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_floor_004_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_floor_004_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_painted_002:{name:"Flaked Red Paint",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Planks",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_painted_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_painted_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_painted_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_painted_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_painted_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_painted_003:{name:"Flaked White Paint",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Planks",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_painted_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_painted_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_painted_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_painted_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_painted_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_painted_plancks_001:{name:"Patina Planks",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Planks",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_painted_plancks_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_painted_plancks_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_painted_plancks_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_painted_plancks_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_painted_plancks_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_plancks_003:{name:"Tanned Floorboards",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Planks",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_plancks_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_plancks_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_plancks_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_plancks_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_plancks_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_plancks_004:{name:"Wood_plancks_004",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Planks",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_plancks_004_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_plancks_004_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_plancks_004_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_plancks_004_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_plancks_004_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_plancks_005_4K:{name:"Floarboards",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Planks",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_plancks_005_4K_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_plancks_005_4K_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Wood/Wood_plancks_005_4K_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_plancks_005_4K_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_plancks_005_4K_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_plancks_006:{name:"Nailed Bright Wood",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Planks",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_plancks_006_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_plancks_006_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_plancks_006_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_plancks_006_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_plancks_006_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_plank_007:{name:"Nailed Dark Wood",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Planks",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_plank_007_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_plank_007_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Wood/Wood_plank_007_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_plank_007_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Wood/Wood_plank_007_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_Roof_Tiles_001:{name:"Rustic Wood Roof",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Planks",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_Roof_Tiles_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_Roof_Tiles_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_Roof_Tiles_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_Roof_Tiles_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Wood/Wood_Roof_Tiles_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Wood_Wood_White_Cedar_001:{name:"Cedar Wood",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",category:"Wood",fallback:"#888888",textures:{diffuse:{path:"Wood/Wood_White_Cedar_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood/Wood_White_Cedar_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood/Wood_White_Cedar_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood/Wood_White_Cedar_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood/Wood_White_Cedar_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},Aspen_bark_001:{name:"Aspen_bark_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Aspen",textures:{diffuse:{path:"Aspen_bark_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Aspen_bark_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Aspen_bark_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Aspen_bark_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Aspen_bark_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Asphalt_001:{name:"Asphalt_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Asphalt",textures:{diffuse:{path:"Asphalt_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Asphalt_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Asphalt_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Asphalt_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Asphalt_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Black_Marble_001:{name:"Black_Marble_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Black",textures:{diffuse:{path:"Black_Marble_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Black_Marble_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Black_Marble_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Black_Marble_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Black_Marble_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:5,displacementScale:1,repeats:{x:1,y:1}}},Blue_Marble_001:{name:"Blue_Marble_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Blue",textures:{diffuse:{path:"Blue_Marble_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Blue_Marble_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Blue_Marble_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Blue_Marble_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Blue_Marble_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Brick_wall_002:{name:"Brick_wall_002",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Brick",textures:{ao:{path:"Brick_wall_002_AO",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},diffuse:{path:"Brick_wall_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Brick_wall_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Brick_wall_002_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Brick_wall_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Brick_wall_006:{name:"Brick_wall_006",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Brick",textures:{diffuse:{path:"Brick_wall_006_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Brick_wall_006_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Brick_wall_006_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Brick_wall_006_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Brick_wall_006_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,repeats:.5,props:{specular:1118481,shininess:10,displacementScale:1,repeats:.5}},Brick_wall_007:{name:"Brick_wall_007",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Brick",textures:{diffuse:{path:"Brick_wall_007_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Brick_wall_007_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Brick_wall_007_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Brick_wall_007_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Brick_wall_007_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,repeats:2,props:{specular:1118481,shininess:10,displacementScale:1,repeats:2}},Concrete_007:{name:"Concrete_007",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Concrete",textures:{diffuse:{path:"Concrete_007_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Concrete_007_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Concrete_007_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Concrete_007_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Concrete_007_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:3,displacementScale:1,repeats:{x:1,y:1}}},Concrete_008:{name:"Concrete_008",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Concrete",textures:{diffuse:{path:"Concrete_008_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Concrete_008_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Concrete_008_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Concrete_008_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Concrete_008_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Crystal_001:{name:"Crystal_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Crystal",textures:{diffuse:{path:"Crystal_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Crystal_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Crystal_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Crystal_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Crystal_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Dirt_002:{name:"Dirt_002",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Dirt",textures:{diffuse:{path:"Dirt_002_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Dirt_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Dirt_002_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Dirt_002_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Dirt_002_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Grainy_Wood_001:{name:"Grainy_Wood_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Grainy",textures:{diffuse:{path:"Grainy_Wood_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Grainy_Wood_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Grainy_Wood_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Grainy_Wood_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Grainy_Wood_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Lava_001:{name:"Lava_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Lava",textures:{diffuse:{path:"Lava_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Lava_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Lava_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Lava_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Lava_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Leather_002:{name:"Leather_002",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Leather",textures:{diffuse:{path:"Leather_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Leather_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Leather_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Leather_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Leather_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Leather_003:{name:"Leather_003",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Leather",textures:{diffuse:{path:"Leather_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Leather_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Leather_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Leather_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Leather_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Metal_galvanized_001:{name:"Metal_galvanized_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",textures:{diffuse:{path:"Metal_galvanized_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_galvanized_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_galvanized_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_galvanized_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_galvanized_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Metal_grunge_001:{name:"Metal_grunge_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",textures:{diffuse:{path:"Metal_grunge_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_grunge_001_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_grunge_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_grunge_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_grunge_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Metal_grunge_002:{name:"Metal_grunge_002",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",textures:{diffuse:{path:"Metal_grunge_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_grunge_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_grunge_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_grunge_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_grunge_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Metal_grunge_003:{name:"Metal_grunge_003",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",textures:{diffuse:{path:"Metal_grunge_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_grunge_003_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_grunge_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_grunge_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_grunge_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Metal_panel_001:{name:"Metal_panel_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",textures:{diffuse:{path:"Metal_panel_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_panel_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Metal_panel_001_NORMAL",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_panel_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Metal_panel_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Metal_Plate_004:{name:"Metal_Plate_004",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",textures:{diffuse:{path:"Metal_Plate_004_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_Plate_004_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Metal_Plate_004_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_Plate_004_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Metal_Plate_004_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,repeats:2,props:{specular:1118481,shininess:10,displacementScale:1,repeats:2}},Metal_Rusted_002:{name:"Metal_Rusted_002",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",textures:{diffuse:{path:"Metal_Rusted_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_Rusted_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_Rusted_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_Rusted_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_Rusted_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Metal_Rusted_004:{name:"Metal_Rusted_004",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",textures:{diffuse:{path:"Metal_Rusted_004_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_Rusted_004_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_Rusted_004_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_Rusted_004_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_Rusted_004_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Metal_Rusted_006:{name:"Metal_Rusted_006",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",textures:{diffuse:{path:"Metal_Rusted_006_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_Rusted_006_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_Rusted_006_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_Rusted_006_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_Rusted_006_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Metal_scratched_006:{name:"Metal_scratched_006",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Metal",textures:{diffuse:{path:"Metal_scratched_006_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Metal_scratched_006_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Metal_scratched_006_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Metal_scratched_006_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Metal_scratched_006_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Pavement_Brick_001:{name:"Pavement_Brick_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Pavement",textures:{diffuse:{path:"Pavement_Brick_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Pavement_Brick_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Pavement_Brick_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Pavement_Brick_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Pavement_Brick_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:3,displacementScale:1,repeats:{x:1,y:1}}},Red_Marble_001:{name:"Red_Marble_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Red",textures:{diffuse:{path:"Red_Marble_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Red_Marble_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Red_Marble_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Red_Marble_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:3,displacementScale:1,repeats:{x:1,y:1}}},Rough_rock_002:{name:"Rough_rock_002",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",textures:{diffuse:{path:"Rough_rock_002_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Rough_rock_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Rough_rock_002_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Rough_rock_002_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Rough_rock_002_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Rough_rock_008:{name:"Rough_rock_008",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Rough",textures:{diffuse:{path:"Rough_rock_008_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Rough_rock_008_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Rough_rock_008_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Rough_rock_008_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Rough_rock_008_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},sandstone_rock_001:{name:"sandstone_rock_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"sandstone",textures:{diffuse:{path:"sandstone_rock_001_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"sandstone_rock_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"sandstone_rock_001_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"sandstone_rock_001_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"sandstone_rock_001_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Sandstone_rock_002:{name:"Sandstone_rock_002",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Sandstone",textures:{diffuse:{path:"Sandstone_rock_002_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Sandstone_rock_002_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Sandstone_rock_002_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Sandstone_rock_002_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Sandstone_rock_002_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Stone_Floor_003:{name:"Stone_Floor_003",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Stone",textures:{diffuse:{path:"Stone_Floor_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Stone_Floor_003_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Stone_Floor_003_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Stone_Floor_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Stone_Floor_003_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:5,displacementScale:1,repeats:{x:1,y:1}}},Tiles_004:{name:"Tiles_004",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Tiles",textures:{diffuse:{path:"Tiles_004_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},displacement:{path:"Tiles_004_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Tiles_004_NRM",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},ao:{path:"Tiles_004_OCC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},specular:{path:"Tiles_004_SPEC",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Tiles_006:{name:"Tiles_006",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Tiles",textures:{diffuse:{path:"Tiles_006_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Tiles_006_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Tiles_006_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Tiles_006_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Tiles_006_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,repeats:2,props:{specular:1118481,shininess:5,displacementScale:1,repeats:2}},Tiles_009:{name:"Tiles_009",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Tiles",textures:{diffuse:{path:"Tiles_009_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Tiles_009_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Tiles_009_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Tiles_009_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Tiles_009_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Tiles_010:{name:"Tiles_010",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Tiles",textures:{diffuse:{path:"Tiles_010_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Tiles_010_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Tiles_010_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Tiles_010_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Tiles_010_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Wall_Stone_003:{name:"Wall_Stone_003",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wall",textures:{diffuse:{path:"Wall_Stone_003_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wall_Stone_003_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wall_Stone_003_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wall_Stone_003_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},White_Marble_002:{name:"White_Marble_002",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"White",textures:{diffuse:{path:"White_Marble_002_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"White_Marble_002_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"White_Marble_002_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"White_Marble_002_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"White_Marble_002_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Wood_plancks_004:{name:"Wood_plancks_004",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",textures:{diffuse:{path:"Wood_plancks_004_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood_plancks_004_DISP",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood_plancks_004_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood_plancks_004_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Wood_plancks_004_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:10,displacementScale:1,repeats:{x:1,y:1}}},Wood_Roof_Tiles_001:{name:"Wood_Roof_Tiles_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Wood",textures:{diffuse:{path:"Wood_Roof_Tiles_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Wood_Roof_Tiles_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Wood_Roof_Tiles_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Wood_Roof_Tiles_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"Wood_Roof_Tiles_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:1118481,shininess:3,displacementScale:1,repeats:{x:1,y:1}}},new2_desert_sand_desert_sand_1024:{name:"Desert Sand",tags:"sand",category:"Sand",textures:{ao:{path:"new2/desert_sand/desert_sand_1024_AO",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},diffuse:{path:"new2/desert_sand/desert_sand_1024_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"new2/desert_sand/desert_sand_1024_NORMAL",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},new2_rippled_sand_rippled_sand_1024:{name:"Rippled Sand",tags:"sand",category:"Sand",textures:{diffuse:{path:"new2/rippled_sand/rippled_sand_1024_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"new2/rippled_sand/rippled_sand_1024_NORMAL",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},new2_snow_Snow_1024:{name:"Snow",tags:"Snow",category:"Snow and ice",textures:{diffuse:{path:"new2/snow/Snow_1024_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"new2/snow/Snow_1024_NORMAL",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]}},rating:5,listed:!0,props:{specular:1118481,shininess:0,displacementScale:1}},new3_glass_house:{name:"Blue Facades",tags:"facades",category:"Misc",textures:{diffuse:{path:"new3/glass_house_COLOR",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"new3/glass_house_NORMAL",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]}},rating:5,listed:!0,props:{specular:2236962,shininess:50,displacementScale:1}},Fluid_water_particle:{name:"Water foam",tags:"water",category:"Fluid",type:"shader",textures:{diffuse:{path:"particles/splash1",sizes:[512],formats:["png"]}},rating:3,listed:!1,props:{disableDepthWrite:!0,fragmentShader:y,vertexShader:"#define PHONG\n#undef USE_MAP\n#undef BOX_MAPPING\n\n#define USE_ENVMAP\n\nvarying vec3 vViewPosition;\nvarying vec3 vWorldPos;\nvarying vec3 vCameraPosition;\nuniform float time;\nuniform vec3 playerPosition;\n\nvarying vec3 vNormal;\nvarying vec3 vWorldNormal;\nvarying float visible;\nvarying vec2 vUv;\nvarying float vOpacity;\n\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n#define M_PI 3.14159265358979323846\n\n\nmat4 rotationY( in float angle ) {\n\treturn mat4(cos(angle),\t0,\tsin(angle),\t0,\n\t\t\t \t\t\t\t0,\t\t1.0,\t\t\t 0,\t0,\n\t\t\t\t\t-sin(angle),\t0,\t\tcos(angle),\t0,\n\t\t\t\t\t\t\t0, \t\t0,\t\t\t\t0,\t1);\n}\n\nmat4 rotationZ( in float angle ) {\n\treturn mat4(cos(angle),\t-sin(angle),0,\t0,\n\t\t\t \t\t\t\tsin(angle), cos(angle),\t0,\t0,\n\t\t\t\t\t    0,      \t  0,\t        0,  0,\n\t\t\t\t\t\t\t0, \t\t      0,  \t\t\t  0, \t1);\n}\n\nvec4 billboard(vec3 instancePosition, float scale, float angle){\n\n  // object position of to vertex\n  vec3 vertexPos = position;\n\n  vec4 mvPosition = viewMatrix * modelMatrix * vec4( instancePosition, 1.0 );\n  mvPosition.xyz += (rotationZ(angle) * vec4(vertexPos * scale, 1.0)).xyz;\n  return projectionMatrix * mvPosition;\n}\n\n#define randomNumber 10.288 // For laptops\n\n\nfloat hash(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * randomNumber);\n}\n\nfloat hash13(vec3 p3)\n{\n\tp3  = fract(p3 * .1031);\n    p3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.x + p3.y) * p3.z);\n}\n\nvec2 particleRand(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*randomNumber);\n}\n\nvoid main() {\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\tvNormal = normalize(transformedNormal);\n\tvWorldPos = worldPosition.xyz;\n\tvUv = uv;\n\tvec4 cs_position = modelViewMatrix * gl_Position;\n  vec3 instancePosition = instanceOffset;\n\n  float forceSpeed = 2.25; //2.25\n  float frequency = 1.2;\n  float startScale = 1.4;\n  float endScale = 5.0;\n  float startOpacity = 1.0;\n  float endOpacity = 0.0;\n\n  float gravity = 2.0;\n  vec3 force = vec3(0.0, forceSpeed, 0.0);\n  float friction = 0.1;\n\n  float particleHash = hash13(instancePosition.xyz * 2.0);\n  float uniqueTime =  time + particleHash * 1.0;;\n  vec2 particleSeed2 = instancePosition.xz + instancePosition.y + floor(uniqueTime / frequency);\n  vec2 particleRandom2 = particleRand(particleSeed2);\n\n  float progress = mod(uniqueTime, frequency);\n  float scale = mix(startScale, endScale, progress);\n  vOpacity = mix(startOpacity, endOpacity, progress);\n\n  vec3 currentForce = force * progress * (max(1.0 - friction * progress, 0.0));\n\n  vec3 offsetPosition = instancePosition \n  + vec3(particleRandom2 * 0.15, 0.0) \n  + vec3(0., -gravity * pow(progress, 1.4),0.)\n  + currentForce;\n  gl_Position = billboard(offsetPosition, scale, particleSeed2.x);\n}"}},particle_jet:{name:"particle jet",tags:"water",category:"Fluid",type:"shader",textures:{diffuse:{path:"particles/splash1",sizes:[512],formats:["png"]}},rating:3,listed:!1,props:{disableDepthWrite:!0,fragmentShader:y,vertexShader:"#define PHONG\n#undef USE_MAP\n#undef BOX_MAPPING\n\n#define USE_ENVMAP\n\nvarying vec3 vViewPosition;\nvarying vec3 vWorldPos;\nvarying vec3 vCameraPosition;\nuniform float time;\nuniform vec3 playerPosition;\n\nvarying vec3 vNormal;\nvarying vec3 vWorldNormal;\nvarying float visible;\nvarying vec2 vUv;\nvarying float vOpacity;\n\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n#define M_PI 3.14159265358979323846\n\nmat4 rotationX( in float angle ) {\n\treturn mat4(\t1.0,\t\t0,\t\t\t0,\t\t\t0,\n\t\t\t \t\t0, \tcos(angle),\t-sin(angle),\t\t0,\n\t\t\t\t\t0, \tsin(angle),\t cos(angle),\t\t0,\n\t\t\t\t\t0, \t\t\t0,\t\t\t  0, \t\t1);\n}\n\nmat4 rotationMatrix(vec3 axis, float angle)\n{\n    axis = normalize(axis);\n    float s = sin(angle);\n    float c = cos(angle);\n    float oc = 1.0 - c;\n    \n    return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n                oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n                oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n                0.0,                                0.0,                                0.0,                                1.0);\n}\n\nmat4 rotationY( in float angle ) {\n\treturn mat4(cos(angle),\t0,\tsin(angle),\t0,\n\t\t\t \t\t\t\t0,\t\t1.0,\t\t\t 0,\t0,\n\t\t\t\t\t-sin(angle),\t0,\t\tcos(angle),\t0,\n\t\t\t\t\t\t\t0, \t\t0,\t\t\t\t0,\t1);\n}\n\nmat4 rotationZ( in float angle ) {\n\treturn mat4(cos(angle),\t-sin(angle),0,\t0,\n\t\t\t \t\t\t\tsin(angle), cos(angle),\t0,\t0,\n\t\t\t\t\t    0,      \t  0,\t        0,  0,\n\t\t\t\t\t\t\t0, \t\t      0,  \t\t\t  0, \t1);\n}\n\nvec4 billboard(vec3 instancePosition, vec3 scale, float angle){\n\n  // object position of vertex\n  vec3 vertexPos = position;\n\n  vec4 mvPosition = viewMatrix * modelMatrix * vec4( instancePosition, 1.0 );\n  mvPosition.xyz += (rotationZ(angle) * vec4(vertexPos * scale, 1.0)).xyz;\n  return projectionMatrix * mvPosition;\n}\n\nvec4 cylindricalBillboard(vec3 instancePosition, mat3 rot){\n  vec3 cameraPosUnRotated = (cameraPosition * rot).xyz;\n  vec3 instancePosUnRotated = (instancePosition* rot).xyz;\n  vec2 vector = normalize(cameraPosUnRotated.xz - instancePosUnRotated.xz);\n  float dirToCamera = atan(vector.y, vector.x);\n\n  vec3 rotatedPositon = vec3(position * 10.0);\n\n  return projectionMatrix * viewMatrix * modelMatrix * vec4(instancePosition + rotatedPositon.xyz, 1.0 );\n}\n\n\n#define POINT_TOWARDS_FORCE_DIRECTION TRUE\n\nmat3 calcLookAtMatrix(vec3 dir, float roll) {\n  vec3 rr = vec3(sin(roll), cos(roll), 0.0);\n  vec3 ww = normalize(dir);\n  vec3 uu = normalize(cross(ww, rr));\n  vec3 vv = normalize(cross(uu, ww));\n\n  return mat3(uu, vv, ww);\n}\n\nmat3 makeRotDir(vec3 dir) {\n  vec3 up = vec3(0.,1.,0.);\n  vec3 xAxis = normalize(cross(up, dir));\n  vec3 yAxis = normalize(cross(dir, xAxis));\n\nvec3 column1 = vec3(xAxis.x, yAxis.x, dir.x);\nvec3 column2 = vec3(xAxis.y, yAxis.y, dir.y);\nvec3 column3 = vec3(xAxis.z, yAxis.z, dir.z);\n\n  return mat3(column1, column2,column3);\n}\n\n\n\nvec4 cylindricalBillboard2(vec3 objectPosition, vec3 cylinderDirection, vec3 scale, float angle){\n  vec3 yAxis = vec3(0.0, 1.0 , 0.0);\n\n  vec3 axis = cross(normalize(cylinderDirection), yAxis);\n  float cylinderAngle = acos(dot(normalize(cylinderDirection), yAxis));\n  mat3 rotMatrix = mat3(rotationMatrix(axis, cylinderAngle));\n  vec3 cameraPosUnRotated = (cameraPosition * rotMatrix).xyz;\n  vec3 instancePosUnRotated = (objectPosition * rotMatrix).xyz;\n  vec2 vector = normalize(cameraPosUnRotated.xz - instancePosUnRotated.xz);\n  float dirToCamera = atan(vector.y, vector.x);\n\n  rotMatrix =  rotMatrix * mat3(rotationY(dirToCamera + M_PI * 1.5));\n  vec3 rotatedPositon = rotMatrix * mat3(rotationZ(angle)) * (vec4(position * scale* 4.0, 1.0)).xyz;\n  return projectionMatrix * viewMatrix * modelMatrix * vec4(objectPosition + rotatedPositon.xyz, 1.0 );\n}\n\n\nvec4 get_particle_vertext_pos(vec3 instancePosition,vec3 offsetPosition, vec3 force, vec3 scale, float angle, float progress){\n  #ifdef POINT_TOWARDS_FORCE_DIRECTION\n    return cylindricalBillboard2(offsetPosition, force, scale, angle);\n  #else\n    return billboard(offsetPosition, scale, angle);\n  #endif\n}\n\nvec3 get_offset(vec3 force, float friction, float gravity, float progress){\n vec3 currentForce = force  * (max(1.0 - friction * progress, 0.0));\n vec3 finalForce = ( vec3(0., -gravity * pow(progress * 1.2, 1.4),0.) + currentForce) * 1.0;\n return finalForce * progress;\n}\n\n#define randomNumber 10.288 // For laptops\n\n\nfloat hash(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * randomNumber);\n}\n\nfloat hash13(vec3 p3)\n{\n\tp3  = fract(p3 * .1031);\n    p3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.x + p3.y) * p3.z);\n}\n\nvec2 particleRand(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*randomNumber);\n}\n\nvoid main() {\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\tvNormal = normalize(transformedNormal);\n\tvWorldPos = worldPosition.xyz;\n\tvUv = uv;\n\n  float frequency = 2.0;//1.2;\n  vec3 instancePosition = instanceOffset;\n  vec3 hashInput = instancePosition.xyz * 1.0 + instanceScale.xyz;\n  float groupHash = hash13(instancePosition.xyz * 1.0);\n\n  float uniqueTime =  time * 0.01 + groupHash * 1.0 + instanceScale.z * 0.08;\n  float targetDistance = instanceScale.y;\n  float particleIndex = instanceScale.z;\n  vec2 particleSeed2 = hashInput.xy + hashInput.z + floor(uniqueTime / frequency);\n  vec2 particleRandom2 = particleRand(particleSeed2);\n\n  float forceSpeed = 112.0;//8.25; //2.25\n  float randomOffset = 0.0;\n  vec3 startScale = vec3(0.05, 1.0 , 0.05);\n  vec3 endScale = vec3(3.0, 12.0, 3.0);\n  float startOpacity = 1.0;\n  float endOpacity = 0.0;\n  float startAngle = 0.0;\n  float endAngle = particleRandom2.x;\n\n  float gravity = 70.0;\n\n  float dir = M_PI * groupHash;// + time;\n  float dir_x = cos(dir);\n  float dir_y = sin(dir);\n\n  float varianceSpeed = 2.0;\n  float bakedIndex =  particleIndex * 0.02 + groupHash;\n\n  vec3 force = vec3(0., forceSpeed, - forceSpeed * 0.08);\n  force = qrot(instanceRotation, force);\n  float friction = 0.1;\n\n  float impactSpeed = 0.7;\n  float progressFromImpact = max(time - instanceScale.x, 0.0) * impactSpeed / (frequency);\n  float progressFromEmitter = mod(uniqueTime * 0.1, frequency * 0.001);\n  float useImpactTime = step(1.0, instanceScale.x);\n  float progress = useImpactTime * progressFromImpact + progressFromEmitter * (1.0 - useImpactTime);\n\n\n  vec3 offsetCurrentFrame = get_offset(force, friction, gravity, progress);\n  vec3 offsetNextFrame = get_offset(force, friction, gravity, progress + 0.01);\n  vec3 velocity = offsetNextFrame - offsetCurrentFrame;\n  vec3 direction = normalize(velocity);\n  float offsetDistance = length(offsetCurrentFrame);\n\n  vec3 offsetPosition = instancePosition + offsetCurrentFrame;\n\n  float hitWall = step(0.99, offsetDistance / targetDistance);\n  float distanseProgress = offsetDistance / targetDistance;\n\n\n  // dont splash water when shooting down\n  float scaleUpWhenNegativeVelocity = step(0.0, force.y);\n  float fall = max(-velocity.y, 0.0);\n  float fallProgress =  smoothstep(0.0, 0.1, fall) * (0.5 + (fall - 0.1) * 3.0) * scaleUpWhenNegativeVelocity;// + max(.0, (progress - 0.05) * 5.0);\n  float hitWallProgress =  smoothstep(0.72, 0.8, distanseProgress) * (0.5 + (distanseProgress - 0.8) * 3.0);\n  float mergedProgress = fallProgress + hitWallProgress * 0.1;\n  startScale.y = pow(length(velocity) * 0.8, 3.0) + 0.2;\n  vec3 scale = mix(startScale, endScale,  mergedProgress * 0.2);\n  float angle = mix(startAngle, endAngle, mergedProgress * 0.2 );\n  vOpacity = mix(startOpacity, endOpacity, pow(mergedProgress * 0.15, 0.05)  + hitWall * 0.1 + progress * 0.1);\n  vColor = vec3(0.5922, 0.8353, 1.0) * 1.5;\n\n  gl_Position = get_particle_vertext_pos(instancePosition, offsetPosition, direction, scale, angle, progress);\n}"}},particle_jet_own:{name:"particle jet",tags:"water",category:"Fluid",type:"shader",textures:{diffuse:{path:"particles/splash1",sizes:[512],formats:["png"]}},rating:3,listed:!1,props:{disableDepthWrite:!0,fragmentShader:y,vertexShader:"#define PHONG\n#undef USE_MAP\n#undef BOX_MAPPING\n\n#define USE_ENVMAP\n\nvarying vec3 vViewPosition;\nvarying vec3 vWorldPos;\nvarying vec3 vCameraPosition;\nuniform float time;\nuniform vec3 playerPosition;\n\nvarying vec3 vNormal;\nvarying vec3 vWorldNormal;\nvarying float visible;\nvarying vec2 vUv;\nvarying float vOpacity;\n\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n#define M_PI 3.14159265358979323846\n\nmat4 rotationX( in float angle ) {\n\treturn mat4(\t1.0,\t\t0,\t\t\t0,\t\t\t0,\n\t\t\t \t\t0, \tcos(angle),\t-sin(angle),\t\t0,\n\t\t\t\t\t0, \tsin(angle),\t cos(angle),\t\t0,\n\t\t\t\t\t0, \t\t\t0,\t\t\t  0, \t\t1);\n}\n\nmat4 rotationMatrix(vec3 axis, float angle)\n{\n    axis = normalize(axis);\n    float s = sin(angle);\n    float c = cos(angle);\n    float oc = 1.0 - c;\n\n    return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n                oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n                oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n                0.0,                                0.0,                                0.0,                                1.0);\n}\n\nmat4 rotationY( in float angle ) {\n\treturn mat4(cos(angle),\t0,\tsin(angle),\t0,\n\t\t\t \t\t\t\t0,\t\t1.0,\t\t\t 0,\t0,\n\t\t\t\t\t-sin(angle),\t0,\t\tcos(angle),\t0,\n\t\t\t\t\t\t\t0, \t\t0,\t\t\t\t0,\t1);\n}\n\nmat4 rotationZ( in float angle ) {\n\treturn mat4(cos(angle),\t-sin(angle),0,\t0,\n\t\t\t \t\t\t\tsin(angle), cos(angle),\t0,\t0,\n\t\t\t\t\t    0,      \t  0,\t        0,  0,\n\t\t\t\t\t\t\t0, \t\t      0,  \t\t\t  0, \t1);\n}\n\nvec4 billboard(vec3 instancePosition, vec3 scale, float angle){\n\n  // object position of vertex\n  vec3 vertexPos = position;\n\n  vec4 mvPosition = viewMatrix * modelMatrix * vec4( instancePosition, 1.0 );\n  mvPosition.xyz += (rotationZ(angle) * vec4(vertexPos * scale, 1.0)).xyz;\n  return projectionMatrix * mvPosition;\n}\n\nvec4 cylindricalBillboard(vec3 instancePosition, mat3 rot){\n  vec3 cameraPosUnRotated = (cameraPosition * rot).xyz;\n  vec3 instancePosUnRotated = (instancePosition* rot).xyz;\n  vec2 vector = normalize(cameraPosUnRotated.xz - instancePosUnRotated.xz);\n  float dirToCamera = atan(vector.y, vector.x);\n\n  vec3 rotatedPositon = vec3(position * 10.0);\n\n  return projectionMatrix * viewMatrix * modelMatrix * vec4(instancePosition + rotatedPositon.xyz, 1.0 );\n}\n\n\n// #define POINT_TOWARDS_FORCE_DIRECTION\n\nmat3 calcLookAtMatrix(vec3 dir, float roll) {\n  vec3 rr = vec3(sin(roll), cos(roll), 0.0);\n  vec3 ww = normalize(dir);\n  vec3 uu = normalize(cross(ww, rr));\n  vec3 vv = normalize(cross(uu, ww));\n\n  return mat3(uu, vv, ww);\n}\n\nmat3 makeRotDir(vec3 dir) {\n  vec3 up = vec3(0.,1.,0.);\n  vec3 xAxis = normalize(cross(up, dir));\n  vec3 yAxis = normalize(cross(dir, xAxis));\n\nvec3 column1 = vec3(xAxis.x, yAxis.x, dir.x);\nvec3 column2 = vec3(xAxis.y, yAxis.y, dir.y);\nvec3 column3 = vec3(xAxis.z, yAxis.z, dir.z);\n\n  return mat3(column1, column2,column3);\n}\n\n\n\nvec4 cylindricalBillboard2(vec3 objectPosition, vec3 cylinderDirection, vec3 scale, float angle){\n  vec3 yAxis = vec3(0.0, 1.0 , 0.0);\n\n  vec3 axis = cross(normalize(cylinderDirection), yAxis);\n  float cylinderAngle = acos(dot(normalize(cylinderDirection), yAxis));\n  mat3 rotMatrix = mat3(rotationMatrix(axis, cylinderAngle));\n  vec3 cameraPosUnRotated = (cameraPosition * rotMatrix).xyz;\n  vec3 instancePosUnRotated = (objectPosition * rotMatrix).xyz;\n  vec2 vector = normalize(cameraPosUnRotated.xz - instancePosUnRotated.xz);\n  float dirToCamera = atan(vector.y, vector.x);\n\n  rotMatrix =  rotMatrix * mat3(rotationY(dirToCamera + M_PI * 1.5));\n  vec3 rotatedPositon = rotMatrix * mat3(rotationZ(angle)) * (vec4(position * scale* 4.0, 1.0)).xyz;\n  return projectionMatrix * viewMatrix * modelMatrix * vec4(objectPosition + rotatedPositon.xyz, 1.0 );\n}\n\n\nvec4 get_particle_vertext_pos(vec3 instancePosition,vec3 offsetPosition, vec3 force, vec3 scale, float angle, float progress){\n  #ifdef POINT_TOWARDS_FORCE_DIRECTION\n    return cylindricalBillboard2(offsetPosition, force, scale, angle);\n  #else\n    return billboard(offsetPosition, scale, angle);\n  #endif\n}\n\nvec3 get_offset(vec3 force, float friction, float gravity, float progress){\n vec3 currentForce = force  * (max(1.0 - friction * progress, 0.0));\n vec3 finalForce = ( vec3(0., -gravity * pow(progress * 1.2, 1.4),0.) + currentForce) * 1.0;\n return finalForce * progress;\n}\n\n#define randomNumber 10.288 // For laptops\n\n\nfloat hash(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * randomNumber);\n}\n\nfloat hash13(vec3 p3)\n{\n\tp3  = fract(p3 * .1031);\n    p3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.x + p3.y) * p3.z);\n}\n\nvec2 particleRand(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*randomNumber);\n}\n\nvoid main() {\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\tvNormal = normalize(transformedNormal);\n\tvWorldPos = worldPosition.xyz;\n\tvUv = uv;\n\n  float frequency = 2.0;//1.2;\n  vec3 instancePosition = instanceOffset;\n  vec3 hashInput = instancePosition.xyz * 1.0 + instanceScale.xyz;\n  float groupHash = hash13(instancePosition.xyz * 1.0);\n\n  float uniqueTime =  time * 0.01 + groupHash * 1.0 + instanceScale.z * 0.08;\n  float targetDistance = instanceScale.y;\n  float particleIndex = instanceScale.z;\n  vec2 particleSeed2 = hashInput.xy + hashInput.z + floor(uniqueTime / frequency);\n  vec2 particleRandom2 = particleRand(particleSeed2);\n\n  float forceSpeed = 108.0;//8.25; //2.25\n  float randomOffset = 0.0;\n  vec3 startScale = vec3(0.2, 0.3 , 0.2);\n  vec3 endScale = vec3(24., 24., 24.);\n  float startOpacity = 1.0;\n  float endOpacity = 0.0;\n  float startAngle = particleRandom2.y;\n  float endAngle = particleRandom2.x;\n\n  float gravity = 120.0;\n\n  float dir = M_PI * groupHash;// + time;\n  float dir_x = cos(dir);\n  float dir_y = sin(dir);\n\n  float varianceSpeed = 2.0;\n  float bakedIndex =  particleIndex * 0.02 + groupHash;\n\n  vec3 force = vec3(particleRandom2.x * 0.1, forceSpeed, - forceSpeed * 0.08 + particleRandom2.y * 0.1);\n  force = qrot(instanceRotation, force);\n  float friction = 0.1;\n\n  float impactSpeed = 0.7;\n  float progressFromImpact = max(time - instanceScale.x - 0.02, 0.0) * impactSpeed / (frequency);\n  float progressFromEmitter = mod(uniqueTime * 0.1, frequency * 0.001);\n  float useImpactTime = step(1.0, instanceScale.x);\n  float progress = useImpactTime * progressFromImpact + progressFromEmitter * (1.0 - useImpactTime);\n\n\n  vec3 offsetCurrentFrame = get_offset(force, friction, gravity, progress);\n  vec3 offsetNextFrame = get_offset(force, friction, gravity, progress + 0.01);\n  vec3 velocity = offsetNextFrame - offsetCurrentFrame;\n  vec3 direction = normalize(velocity);\n  float offsetDistance = length(offsetCurrentFrame);\n\n\n  float hitWall = step(0.99, offsetDistance / targetDistance);\n  float distanseProgress = offsetDistance / targetDistance;\n\n\n  vec3 offsetPosition = instancePosition + min(offsetDistance, targetDistance * 0.99) * normalize(offsetCurrentFrame);\n\n\n  float fall = max(-velocity.y, 0.0);\n  float fallProgress = 0.0;\n  \n  float hitWallProgress =  smoothstep(0.72, 0.8, distanseProgress) * (0.5 + (distanseProgress - 0.8) * 3.0);\n   float extraProgress = pow((progress - 0.01) * (6.0 + particleRandom2.x * 1.5), 2.2);\n  //float extraProgress = pow((progress - 0.01) * (7.0 + particleRandom2.x * 2.5), 2.0);\n\n  float mergedProgress = max(hitWallProgress * 0.5 + extraProgress * 0.2, extraProgress);\n  \n  vec3 scale = mix(startScale, endScale,  mergedProgress * 0.2);\n  scale += max(.0, extraProgress);\n  float angle = mix(startAngle, endAngle, mergedProgress * 0.2 );\n  // Fade ut quicker if we dont hit object\n  vOpacity = mix(startOpacity, endOpacity, pow(mergedProgress * 0.3, 0.05) + extraProgress * 0.05 * (1.0 - hitWall) + hitWallProgress * 0.016);\n  vColor = vec3(0.5922, 0.8353, 1.0) * 1.5;\n\n  gl_Position = get_particle_vertext_pos(instancePosition, offsetPosition, direction, scale, angle, progress);\n}"}},particle_firework:{name:"particle firework",tags:"water",category:"Fluid",type:"shader",textures:{diffuse:{path:"particles/splash1",sizes:[512],formats:["png"]}},rating:3,listed:!1,props:{disableDepthWrite:!0,fragmentShader:_,vertexShader:"#undef USE_MAP\n#undef BOX_MAPPING\n\n#define USE_ENVMAP\n\nvarying vec3 vViewPosition;\nvarying vec3 vWorldPos;\nvarying vec3 vCameraPosition;\nuniform float time;\nuniform vec3 playerPosition;\n\nvarying vec3 vNormal;\nvarying vec3 vWorldNormal;\nvarying float visible;\nvarying float tailLength;\nvarying vec2 vUv;\nvarying float vOpacity;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <color_pars_vertex>\n\n#define M_PI 3.14159265358979323846\n\nmat4 rotationZ( in float angle ) {\n\treturn mat4(cos(angle),\t-sin(angle),0,\t0,\n\t\t\t \t\t\t\tsin(angle), cos(angle),\t0,\t0,\n\t\t\t\t\t    0,      \t  0,\t        0,  0,\n\t\t\t\t\t\t\t0, \t\t      0,  \t\t\t  0, \t1);\n}\n\nvec4 billboard(vec3 instancePosition, float scale, float angle){\n\n  // object position of to vertex\n  vec3 vertexPos = position;\n\n  vec4 mvPosition = viewMatrix * modelMatrix * vec4( instancePosition, 1.0 );\n  mvPosition.xyz += (rotationZ(angle) * vec4(vertexPos * scale, 1.0)).xyz;\n  return projectionMatrix * mvPosition;\n}\n\nmat4 rotationY( in float angle ) {\n\treturn mat4(cos(angle),\t0,\tsin(angle),\t0,\n\t\t\t \t\t\t\t0,\t\t1.0,\t\t\t 0,\t0,\n\t\t\t\t\t-sin(angle),\t0,\t\tcos(angle),\t0,\n\t\t\t\t\t\t\t0, \t\t0,\t\t\t\t0,\t1);\n}\n\nmat4 rotationMatrix(vec3 axis, float angle)\n{\n    axis = normalize(axis);\n    float s = sin(angle);\n    float c = cos(angle);\n    float oc = 1.0 - c;\n    \n    return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n                oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n                oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n                0.0,                                0.0,                                0.0,                                1.0);\n}\n\nvec4 cylindricalBillboard2(vec3 objectPosition, vec3 cylinderDirection, vec3 scale, float angle){\n  vec3 yAxis = vec3(0.0, 1.0 , 0.0);\n\n  vec3 axis = cross(normalize(cylinderDirection), yAxis);\n  float cylinderAngle = acos(dot(normalize(cylinderDirection), yAxis));\n  mat3 rotMatrix = mat3(rotationMatrix(axis, cylinderAngle));\n  vec3 cameraPosUnRotated = (cameraPosition * rotMatrix).xyz;\n  vec3 instancePosUnRotated = (objectPosition * rotMatrix).xyz;\n  vec2 vector = normalize(cameraPosUnRotated.xz - instancePosUnRotated.xz);\n  float dirToCamera = atan(vector.y, vector.x);\n\n  rotMatrix =  rotMatrix * mat3(rotationY(dirToCamera + M_PI * 1.5));\n  vec3 rotatedPositon = rotMatrix * mat3(rotationZ(angle)) * (vec4(position * scale* 4.0, 1.0)).xyz;\n  return projectionMatrix * viewMatrix * modelMatrix * vec4(objectPosition + rotatedPositon.xyz, 1.0 );\n}\n\nvec3 particleRand(vec3 p3){\n\tp3 = fract(p3 * vec3(.1031, .1030, .0973));\n    p3 += dot(p3, p3.yxz+33.33);\n    return fract((p3.xxy + p3.yxx)*p3.zyx);\n}\n\n\nfloat hash13(vec3 p3)\n{\n\tp3  = fract(p3 * .1031);\n    p3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.x + p3.y) * p3.z);\n}\n\nvec3 applyForce(vec3 force, float friction, float progress){\n return force  * (max(1.0 - friction * progress, 0.0)) * progress;\n //return (-min(max((1.0/(progress)), 1.0), 10.0)+ 10.0)/ 10.0;\n //return force * pow(progress * (1.0 + friction), 1.0 - friction * 1.0) / (1.0 + friction);\n}\n\n\nvec3 applyForceUntil(vec3 force, float friction, float untilProgress, float progress){\n float modifiedProgress = min(progress, untilProgress);\n return force  * (max(1.0 - friction * modifiedProgress, 0.0)) * modifiedProgress;// + progress * 0.1;\n}\n\nvec3 applyForceAfter(vec3 force, float friction, float afterProgress, float progress){\n // Should hopefully be computed compile time\n float coefficent = (1.0 / (1.0 - afterProgress)) + friction * 2.0;\n\n float modifiedProgress = min(max(progress - afterProgress, 0.0) * coefficent, 1.0);\n return force * pow(modifiedProgress, 1.0 - friction);\n}\n\n\nvec3 applyForceAfter2(vec3 force, float friction, float afterProgress, float progress){\n float modifiedProgress = min(max(progress - afterProgress, 0.0) * 1.0, 1.0);\n return force * ((smoothstep(0., 1.0 - friction, modifiedProgress * 0.5  + (0.5 - friction* 0.5)) - 0.5) * 2.0 * (1.0 - friction) + modifiedProgress * 0.001);\n}\n\n\nvec3 applyForceAfter3(vec3 force, float friction, float afterProgress, float progress){\n float coefficent = (1.0 / (1.0 - afterProgress)) + friction * 2.0;\n float modifiedProgress = min(max(progress - afterProgress, 0.0) * coefficent, 1.0);\n return force * (smoothstep(0., 1.0, (modifiedProgress *0.5 + 0.5)) - 0.5) * 2.0 * (1.0 - friction);\n}\n\nfloat fadeOut(float t, float begin){\n  return 1.0 - max(t - begin, 0.0) * 1.0 / (1.0 - begin);\n}\n\nvec2 getEffectProgress(float life, float groupHash){\n  float playAt = instanceScale.y;\n  float lifeInv = 1.0 / life;\n  // float playTime = (time - playAt) * lifeInv;\n\n  float continous = step(playAt, 0.0);\n  float notContinous = 1.0 - continous;\n\n  float playTime = \n    max((time - playAt) * lifeInv, 0.0) * notContinous +\n    (time + groupHash * 2.0 ) * lifeInv * continous;\n\n  float iteration = floor(playTime);\n\n\n  // Active seems to be a reserved keyword\n  float active_ = step(iteration + 1.0, 2.0) * (1.0 - continous) + continous;\n  float progress = mod(playTime, 2.0) * active_;\n   return vec2(progress, iteration);\n}\n\nvec3 getOffsetVector(float progress, vec3 groupRandom,float particleRandom1, float groupHash, float explodeTime, vec3 particleRandomDir){\n  vec3 vec = vec3(0.0, 0.0, 0.0);\n  vec += applyForceUntil(vec3(groupRandom.x * 0.35, 1.0, groupRandom.z * 0.35) * 150.0, 3.0, explodeTime, progress);\n  vec += applyForceAfter2((particleRandomDir + vec3(0.0, 0.1, 0.0)) * 10.0 * particleRandom1 * (groupHash * 0.5 + 1.0), 0.8, explodeTime, progress * 1.0);\n  vec += applyForce(vec3(0.0, -1.0, 0.0) * 2.0, -.3,  progress);\n  return vec;\n}\n\nfloat normalizeWave(float t){\n  return t * 0.8 + 0.5;\n}\n\nvoid main() {\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#include <begin_vertex>\n\t#include <worldpos_vertex>\n\tvNormal = normalize(transformedNormal);\n\tvWorldPos = worldPosition.xyz;\n\tvUv = uv;\n  vec3 instancePosition = instanceOffset;\n  float groupHash = hash13(instancePosition.xyz * 1.0) * 2.0;\n  float angle = 0.0;\n  float life = 2.0;\n  vec2 effectProgress = getEffectProgress(life, groupHash);\n  float progress = effectProgress.x;\n  float iteration = effectProgress.y;\n  vec3 particleId = instancePosition.xyz + instanceScale.z + iteration;\n  vec3 groupId = instancePosition.xyz + iteration;;\n  float particleRandom1 = min(instanceScale.z * 1.0 + 0.2, 1.0);\n  vec3 particleRandom3 = particleRand(particleId) - 0.5;\n  vec3 groupRandom = particleRand(groupId) - 0.5;\n  vec3 particleRandomDir = normalize(particleRandom3);\n\n  float progress1 = mix(0.0, 1.0, progress * 2.0);\n  float progress2 = mix(0.0, 1.0, (progress - 0.5) * 2.0);\n\n  float explodeTime = 0.2;\n\n  vec3 offsetVector1 = getOffsetVector(progress, groupRandom, particleRandom1, groupHash, explodeTime, particleRandomDir);\n  vec3 offsetVector2 = getOffsetVector(progress + 0.01, groupRandom, particleRandom1, groupHash, explodeTime, particleRandomDir);\n  vec3 force = offsetVector2 - offsetVector1;\n\n  float exploded = step(explodeTime, progress);\n\n  vec3 scale = (exploded * 0.1 + 0.05) * vec3(0.1 + length(force) * exploded, 0.01 + length(force) * 12.0, 0.1 + length(force) * exploded);\n  float blink = sin(progress * progress * 20.0 + instanceScale.z * 5000.0) * 0.8 + 1.0;\n  float useBlink = smoothstep(0.0, 1.0, progress);\n  vOpacity = fadeOut(progress, 0.3 ) * (blink * useBlink + 1.0 - useBlink);\n  vColor = normalize(instanceColor.rgb);\n  gl_Position = cylindricalBillboard2(instancePosition + offsetVector1, force, scale * instanceScale.x * 1.5, 0.0);\n}"}},particle_firework_random:{name:"particle firework",tags:"water",category:"Fluid",type:"shader",textures:{diffuse:{path:"particles/splash1",sizes:[512],formats:["png"]}},rating:3,listed:!1,props:{disableDepthWrite:!0,fragmentShader:_,vertexShader:"#undef USE_MAP\n#undef BOX_MAPPING\n\n#define USE_ENVMAP\n\nvarying vec3 vViewPosition;\nvarying vec3 vWorldPos;\nvarying vec3 vCameraPosition;\nuniform float time;\nuniform vec3 playerPosition;\n\nvarying vec3 vNormal;\nvarying vec3 vWorldNormal;\nvarying float visible;\nvarying float tailLength;\nvarying vec2 vUv;\nvarying float vOpacity;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <color_pars_vertex>\n\n#define M_PI 3.14159265358979323846\n\nmat4 rotationZ( in float angle ) {\n\treturn mat4(cos(angle),\t-sin(angle),0,\t0,\n\t\t\t \t\t\t\tsin(angle), cos(angle),\t0,\t0,\n\t\t\t\t\t    0,      \t  0,\t        0,  0,\n\t\t\t\t\t\t\t0, \t\t      0,  \t\t\t  0, \t1);\n}\n\nvec4 billboard(vec3 instancePosition, float scale, float angle){\n\n  // object position of to vertex\n  vec3 vertexPos = position;\n\n  vec4 mvPosition = viewMatrix * modelMatrix * vec4( instancePosition, 1.0 );\n  mvPosition.xyz += (rotationZ(angle) * vec4(vertexPos * scale, 1.0)).xyz;\n  return projectionMatrix * mvPosition;\n}\n\nmat4 rotationY( in float angle ) {\n\treturn mat4(cos(angle),\t0,\tsin(angle),\t0,\n\t\t\t \t\t\t\t0,\t\t1.0,\t\t\t 0,\t0,\n\t\t\t\t\t-sin(angle),\t0,\t\tcos(angle),\t0,\n\t\t\t\t\t\t\t0, \t\t0,\t\t\t\t0,\t1);\n}\n\nmat4 rotationMatrix(vec3 axis, float angle)\n{\n    axis = normalize(axis);\n    float s = sin(angle);\n    float c = cos(angle);\n    float oc = 1.0 - c;\n    \n    return mat4(oc * axis.x * axis.x + c,           oc * axis.x * axis.y - axis.z * s,  oc * axis.z * axis.x + axis.y * s,  0.0,\n                oc * axis.x * axis.y + axis.z * s,  oc * axis.y * axis.y + c,           oc * axis.y * axis.z - axis.x * s,  0.0,\n                oc * axis.z * axis.x - axis.y * s,  oc * axis.y * axis.z + axis.x * s,  oc * axis.z * axis.z + c,           0.0,\n                0.0,                                0.0,                                0.0,                                1.0);\n}\n\nvec4 cylindricalBillboard2(vec3 objectPosition, vec3 cylinderDirection, vec3 scale, float angle){\n  vec3 yAxis = vec3(0.0, 1.0 , 0.0);\n\n  vec3 axis = cross(normalize(cylinderDirection), yAxis);\n  float cylinderAngle = acos(dot(normalize(cylinderDirection), yAxis));\n  mat3 rotMatrix = mat3(rotationMatrix(axis, cylinderAngle));\n  vec3 cameraPosUnRotated = (cameraPosition * rotMatrix).xyz;\n  vec3 instancePosUnRotated = (objectPosition * rotMatrix).xyz;\n  vec2 vector = normalize(cameraPosUnRotated.xz - instancePosUnRotated.xz);\n  float dirToCamera = atan(vector.y, vector.x);\n\n  rotMatrix =  rotMatrix * mat3(rotationY(dirToCamera + M_PI * 1.5));\n  vec3 rotatedPositon = rotMatrix * mat3(rotationZ(angle)) * (vec4(position * scale* 4.0, 1.0)).xyz;\n  return projectionMatrix * viewMatrix * modelMatrix * vec4(objectPosition + rotatedPositon.xyz, 1.0 );\n}\n\nvec3 particleRand(vec3 p3){\n\tp3 = fract(p3 * vec3(.1031, .1030, .0973));\n    p3 += dot(p3, p3.yxz+33.33);\n    return fract((p3.xxy + p3.yxx)*p3.zyx);\n}\n\n\nfloat hash13(vec3 p3)\n{\n\tp3  = fract(p3 * .1031);\n    p3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.x + p3.y) * p3.z);\n}\n\nvec3 applyForce(vec3 force, float friction, float progress){\n return force  * (max(1.0 - friction * progress, 0.0)) * progress;\n}\n\n\nvec3 applyForceUntil(vec3 force, float friction, float untilProgress, float progress){\n float modifiedProgress = min(progress, untilProgress);\n return force  * (max(1.0 - friction * modifiedProgress, 0.0)) * modifiedProgress;// + progress * 0.1;\n}\n\nvec3 applyForceAfter(vec3 force, float friction, float afterProgress, float progress){\n // Should hopefully be computed compile time\n float coefficent = (1.0 / (1.0 - afterProgress)) + friction * 2.0;\n\n float modifiedProgress = min(max(progress - afterProgress, 0.0) * coefficent, 1.0);\n return force * pow(modifiedProgress, 1.0 - friction);\n}\n\n\nvec3 applyForceAfter2(vec3 force, float friction, float afterProgress, float progress){\n float modifiedProgress = min(max(progress - afterProgress, 0.0) * 1.0, 1.0);\n return force * ((smoothstep(0., 1.0 - friction, modifiedProgress * 0.5  + (0.5 - friction* 0.5)) - 0.5) * 2.0 * (1.0 - friction) + modifiedProgress * 0.001);\n}\n\n\nvec3 applyForceAfter3(vec3 force, float friction, float afterProgress, float progress){\n float coefficent = (1.0 / (1.0 - afterProgress)) + friction * 2.0;\n float modifiedProgress = min(max(progress - afterProgress, 0.0) * coefficent, 1.0);\n return force * (smoothstep(0., 1.0, (modifiedProgress *0.5 + 0.5)) - 0.5) * 2.0 * (1.0 - friction);\n}\n\nfloat fadeOut(float t, float begin){\n  return 1.0 - max(t - begin, 0.0) * 1.0 / (1.0 - begin);\n}\n\nvec2 getEffectProgress(float life, float groupHash){\n  float playAt = instanceScale.y;\n  float lifeInv = 1.0 / life;\n  // float playTime = (time - playAt) * lifeInv;\n\n  float continous = step(playAt, 0.0);\n  float notContinous = 1.0 - continous;\n\n  float playTime = \n    max((time - playAt) * lifeInv, 0.0) * notContinous +\n    (time + groupHash * 2.0 ) * lifeInv * continous;\n\n  float iteration = floor(playTime);\n\n\n  // Active seems to be a reserved keyword\n  float active_ = step(iteration + 1.0, 2.0) * (1.0 - continous) + continous;\n  float progress = mod(playTime, 2.0) * active_;\n  return vec2(progress, iteration);\n}\n\nvec3 getOffsetVector(float progress, vec3 groupRandom,float particleRandom1, float groupHash, float explodeTime, vec3 particleRandomDir){\n  vec3 vec = vec3(0.0, 0.0, 0.0);\n  vec += applyForceUntil(vec3(groupRandom.x * 0.35, 1.0, groupRandom.z * 0.35) * 150.0, 3.0, explodeTime, progress);\n  vec += applyForceAfter2((particleRandomDir + vec3(0.0, 0.1, 0.0)) * 10.0 * particleRandom1 * (groupHash * 0.5 + 1.0), 0.8, explodeTime, progress * 1.0);\n  vec += applyForce(vec3(0.0, -1.0, 0.0) * 2.0, -.3,  progress);\n  return vec;\n}\n\nfloat normalizeWave(float t){\n  return t * 0.8 + 0.5;\n}\n\n\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid main() {\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#include <begin_vertex>\n\t#include <worldpos_vertex>\n\tvNormal = normalize(transformedNormal);\n\tvWorldPos = worldPosition.xyz;\n\tvUv = uv;\n  vec3 instancePosition = instanceOffset;\n  float groupHash = hash13(instancePosition.xyz * 1.0) * 2.0;\n  float angle = 0.0;\n  float life = 1.8;\n  vec2 effectProgress = getEffectProgress(life, groupHash);\n  float progress = effectProgress.x;\n  float iteration = effectProgress.y;\n  vec3 particleId = instancePosition.xyz + instanceScale.z + iteration;\n  vec3 groupId = instancePosition.xyz + iteration;;\n  float particleRandom1 = min(instanceScale.z * 1.0 + 0.2, 1.0);\n  vec3 particleRandom3 = particleRand(particleId) - 0.5;\n  vec3 groupRandom = particleRand(groupId) - 0.5;\n  vec3 particleRandomDir = normalize(particleRandom3);\n\n  float progress1 = mix(0.0, 1.0, progress * 2.0);\n  float progress2 = mix(0.0, 1.0, (progress - 0.5) * 2.0);\n\n  float explodeTime = 0.2;\n\n  vec3 offsetVector1 = getOffsetVector(progress, groupRandom, particleRandom1, groupHash, explodeTime, particleRandomDir);\n  vec3 offsetVector2 = getOffsetVector(progress + 0.01, groupRandom, particleRandom1, groupHash, explodeTime, particleRandomDir);\n  vec3 force = offsetVector2 - offsetVector1;\n\n  float exploded = step(explodeTime, progress);\n\n  vec3 scale = (exploded * 0.1 + 0.05) * vec3(0.1 + length(force) * exploded, 0.01 + length(force) * 12.0, 0.1 + length(force) * exploded);\n  float blink = sin(progress * progress * 20.0 + instanceScale.z * 5000.0) * 0.8 + 1.0;\n  float useBlink = smoothstep(0.0, 1.0, progress);\n  vOpacity = fadeOut(progress, 0.3 ) * (blink * useBlink + 1.0 - useBlink);\n  vec3 randomColor = vec3(\n    cos(groupHash + instanceScale.z * 0.01),\n     sin(groupHash + instanceScale.z * 0.005), \n     normalizeWave(cos(groupHash))) * 1.0;// * (sin(time) * 0.5 + 1.5);\n  float hue = cos((iteration + groupHash * 2.0) * 5.0) * 0.5 +0.5;\n  vColor = hsv2rgb(vec3(hue, 1.0, 1.0));\n  gl_Position = cylindricalBillboard2(instancePosition + offsetVector1, force, scale * instanceScale.x * 1.5, 0.0);\n}"}},particle_explosion:{name:"particle explosion",tags:"water",category:"Fluid",type:"shader",textures:{diffuse:{path:"particles/splash1",sizes:[512],formats:["png"]}},rating:3,listed:!1,props:{disableDepthWrite:!0,fragmentShader:"#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\nvarying vec3 vWorldPos;\nvarying float vOpacity;\n\nuniform float time;\nuniform vec3 playerPosition;\n\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n\n\n#define randomNumber 10.288\n\nvec4 particle() {\n  float sphereOpacity = max(1.0 - length(vUv.xy - 0.5) * 2.0, 0.0);\n   return vec4(vColor, vOpacity * sphereOpacity * 1.0);\n\n}\n\nvoid main() {   \n  gl_FragColor = particle();\n}",vertexShader:"#undef USE_MAP\n#undef BOX_MAPPING\n\n#define USE_ENVMAP\n\nvarying vec3 vViewPosition;\nvarying vec3 vWorldPos;\nvarying vec3 vCameraPosition;\nuniform float time;\nuniform vec3 playerPosition;\n\nvarying vec3 vNormal;\nvarying vec3 vWorldNormal;\nvarying float visible;\nvarying vec2 vUv;\nvarying float vOpacity;\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <color_pars_vertex>\n\n#define M_PI 3.14159265358979323846\n\nmat4 rotationZ( in float angle ) {\n\treturn mat4(cos(angle),\t-sin(angle),0,\t0,\n\t\t\t \t\t\t\tsin(angle), cos(angle),\t0,\t0,\n\t\t\t\t\t    0,      \t  0,\t        0,  0,\n\t\t\t\t\t\t\t0, \t\t      0,  \t\t\t  0, \t1);\n}\n\nvec4 billboard(vec3 instancePosition, float scale, float angle){\n\n  // object position of to vertex\n  vec3 vertexPos = position;\n\n  vec4 mvPosition = viewMatrix * modelMatrix * vec4( instancePosition, 1.0 );\n  mvPosition.xyz += (rotationZ(angle) * vec4(vertexPos * scale, 1.0)).xyz;\n  return projectionMatrix * mvPosition;\n}\n\nvec3 particleRand(vec3 p3){\n\tp3 = fract(p3 * vec3(.1031, .1030, .0973));\n    p3 += dot(p3, p3.yxz+33.33);\n    return fract((p3.xxy + p3.yxx)*p3.zyx);\n}\n\n\nfloat hash13(vec3 p3)\n{\n\tp3  = fract(p3 * .1031);\n    p3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.x + p3.y) * p3.z);\n}\n\nvec3 applyForce(vec3 force, float friction, float progress){\n return force  * (max(1.0 - friction * progress, 0.0)) * progress;\n}\n\n\nvec3 applyForce2(vec3 force, float friction, float progress){\n return force * ((smoothstep(0., 1.0 - friction, progress * 0.5  + (0.5 - friction* 0.5)) - 0.5) * 2.0 * (1.0 - friction) + progress * 0.1);\n}\n\n\nvec3 applyForceUntil(vec3 force, float friction, float untilProgress, float progress){\n float modifiedProgress = min(progress, untilProgress);\n return force  * (max(1.0 - friction * modifiedProgress, 0.0)) * modifiedProgress;\n}\n\nvec3 applyForceAfter(vec3 force, float friction, float afterProgress, float progress){\n // Should hopefully be computed compile time\n float coefficent = (1.0 / (1.0 - afterProgress)) + friction * 2.0;\n\n float modifiedProgress = min(max(progress - afterProgress, 0.0) * coefficent, 1.0);\n return force * pow(modifiedProgress, 1.0 - friction);\n}\n\n\nvec3 applyForceAfter2(vec3 force, float friction, float afterProgress, float progress){\n float modifiedProgress = min(max(progress - afterProgress, 0.0) * 1.0, 1.0);\n return force * ((smoothstep(0., 1.0 - friction, modifiedProgress * 0.5  + (0.5 - friction* 0.5)) - 0.5) * 2.0 * (1.0 - friction) + modifiedProgress * 0.1);\n}\n\n\nvec3 applyForceAfter3(vec3 force, float friction, float afterProgress, float progress){\n float coefficent = (1.0 / (1.0 - afterProgress)) + friction * 2.0;\n float modifiedProgress = min(max(progress - afterProgress, 0.0) * coefficent, 1.0);\n return force * (smoothstep(0., 1.0, (modifiedProgress *0.5 + 0.5)) - 0.5) * 2.0 * (1.0 - friction);\n}\n\nfloat fadeOut(float t, float begin){\n  return 1.0 - max(t - begin, 0.0) * 1.0 / (1.0 - begin);\n}\n\nfloat inOut(float t){\n  return 4. - 4.0*(t*t);\n}\n\nvec2 getEffectProgress(float life){\n  float playAt = instanceScale.y;\n  float lifeInv = 1.0 / life;\n  float playTime = max((time - playAt) * lifeInv, 0.0);\n  float iteration = floor(playTime + 0.1);\n  float progress = mod(playTime, 2.0) * step(iteration + 1.0, 1.0);\n  return vec2(progress, iteration);\n}\n\nvoid main() {\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\t#include <begin_vertex>\n\t#include <worldpos_vertex>\n\tvNormal = normalize(transformedNormal);\n\tvWorldPos = worldPosition.xyz;\n\tvUv = uv;\n  vec3 instancePosition = instanceOffset;\n  float groupHash = hash13(instancePosition.xyz * 1.0) * 2.0;\n  float angle = 0.0;\n  float scale = 0.0;\n  float life = 0.9;\n  vec2 effectProgress = getEffectProgress(life);\n  float progress = effectProgress.x;\n  float iteration = effectProgress.y;\n  vec3 particleId = instancePosition.xyz + instanceScale.z + iteration;\n  float particleRandom1 = instanceScale.z * 0.01 * 15.0;\n  vec3 particleRandom3 = particleRand(particleId) - 0.5;\n  vec3 particleRandomDir = normalize(particleRandom3);\n\n  float progress1 = mix(0.0, 1.0, progress * 2.0);\n  float progress2 = mix(0.0, 1.0, (progress - 0.5) * 2.0);\n\n  float explodeTime = 0.0;\n\n  instancePosition += applyForce2((particleRandomDir + vec3(0.0, 0.5, 0.0)) * 6.0 * (0.5+ particleRandom1) , 0.9, progress);\n  instancePosition += applyForce(vec3(0.0, -1.0, 0.0) * 2.0, .3,  progress);\n  scale = inOut(progress * 2.0) * 0.8 + progress * 3.0;\n  vOpacity = fadeOut(progress, 0.5) * clamp(progress * 2.0, 0.0, 1.0) * scale;\n  vColor = mix(vec3(1.0, 0.8 - particleRandom1 * 0.2, 0.2), vec3(0.6667, 0.0, 0.0), progress * 0.9);\n  gl_Position = billboard(instancePosition, scale * instanceScale.x * 0.9, particleRandom3.x + time * (particleRandom3.x - 0.5)); \n}"}},Fluid_clear_water:{name:"Clear Water",tags:"water",category:"Fluid",type:"shader",textures:{diffuse:{path:"Noise/noiseTexture",sizes:[256],formats:["png"]}},rating:3,listed:!1,specific:!0,props:{fragmentShader:"#define PHONG\n#undef USE_SHADOWMAP\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\nvarying vec3 vWorldPos;\nvarying vec3 vWorldNormal;\n\nuniform float time;\nuniform vec3 playerPosition;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n\n//#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n#define randomNumber 10.288 // For laptops\n//#define randomNumber 43758.5453123\n\n\nfloat fade(float t) { return t * t * t * (t * (t * 6. - 15.) + 10.); }\nvec2 smooth_custom(vec2 x) { return vec2(fade(x.x), fade(x.y)); }\n\nvec2 hash(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*randomNumber);\n}\n\nfloat random3(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * randomNumber);\n}\n\nfloat noise(vec2 st) {\n    st = st * 8.0;\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    float a = random3(i);\n    float b = random3(i + vec2(1.0, 0.0));\n    float c = random3(i + vec2(0.0, 1.0));\n    float d = random3(i + vec2(1.0, 1.0));\n    vec2 u = f*f*(3.0-2.0*f);\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\n\nfloat perlin(vec2 uv) {\n  return length(texture2D( map, uv * 0.08)) * 7.0 - 9.7;\n}\n\nfloat waterify(float value) {\n    float highlightMask = (value*value*value*value+ 0.15) * step(value, 0.59) * 3.0;\n    highlightMask = value  * step(value, 0.360);\n    return (value + 7.0) * 0.1 * step(value + 0.336, 0.0) * 0.82;\n}\n\n\nstruct waterOut {\n  vec3 diffuse;\n  float alpha;\n  float specular;\n};\n\nvec4 blend(vec4 colorA,vec4 colorB){\n  return colorA*(1.-colorB.a)+colorB;\n}\n\nvec4 offBlend(vec4 colorA,vec4 colorB) {\nreturn vec4 (\n  (colorA.rgb*(1.-colorB.a)+colorB.rgb*colorB.a),\n  colorA.a + colorB.a\n  );\n}\n\nfloat fresnel(float bias, float scale, float power){\n  vec3 I = normalize(vWorldPos.xyz - cameraPosition.xyz);\n  return bias + scale * pow(1.0 + dot(I, vWorldNormal), power);\n}\n\nwaterOut water(vec2 p){\n  vec2 pos = vec2(p*4.0);\n  float distToCamera = length(vWorldPos.xyz - cameraPosition.xyz);\n  float backgroundAlpha = fresnel(0.2, 0.8, 1.0) * 0.7;\n  float spotsAlpha =  clamp(3.0 -distToCamera * 0.01, 0.0, 1.0) * 1.0;\n\n  vec2 timedeltaA = vec2(-time, -time * 2.0);\n  vec2 timedeltaB = vec2(0, time * 2.0);\n  \n  vec2 aPos = pos * 3.0 + timedeltaA;\n  vec2 bPos = pos * 3.0 + timedeltaB;\n\n  float noiseA = (perlin(aPos) + 0.9) * perlin(aPos * 0.1);\n  float noiseB = (perlin(bPos) + 0.9) * perlin(bPos * 0.1);\n\n  float finalValue = clamp(waterify(noiseA + noiseB * 0.6 - distToCamera * 0.1 + 1.8), 0.0, 1.0) * spotsAlpha;\n\n  vec3 background = vec3(0.0, 0.6, 1.0) * 2.0;\n  float specular = finalValue * finalValue * finalValue * finalValue * 3.0; //Enhancement: * (1.0 + smoothstep(6.0, 20.0 , distToCamera) * smoothstep(20.0, 6.0 , distToCamera) * 4.0);\n  //DO not set spot color here, in case spots are not lit later\n  return waterOut(background, backgroundAlpha + 0.125, specular);\n}\n\nvec4 phong(vec3 diffuseColor, float alpha, float specular){\n  float xzPlane = abs(dot(vec3(0.0, 1.0,0.0), vWorldNormal));\n  ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n  vec3 totalEmissiveRadiance = emissive;\n  #include <logdepthbuf_fragment>\n\n\t #include <color_fragment>\n   #include <alphamap_fragment>\n\t #include <alphatest_fragment>\n   #include <normal_fragment_begin>\n\n\t// accumulation\n  BlinnPhongMaterial material;\n  material.diffuseColor = diffuseColor.rgb;\n  material.specularColor = vec3(1.0);\n  material.specularShininess = 1.0;\n  material.specularStrength = specular * 3.0;\n\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n  //Dont increase alpha on spots not shine by light\n\n\t//ios: #include <envmap_fragment>\n  vec3 outgoingLight = reflectedLight.indirectDiffuse +  reflectedLight.directSpecular;\n\n  // Ensure specular is white\n  float highlightStrength = length(reflectedLight.directSpecular) * 1.0;\n\n  // Color adjust specular a tiny bit\n  vec3 highLightColor = mix(vec3(1.0), diffuseColor + 2.0, 0.1);\n  vec3 color = mix(reflectedLight.indirectDiffuse, reflectedLight.indirectDiffuse + highLightColor, highlightStrength);\n  return vec4(color , (max(alpha,highlightStrength * 0.5)) * xzPlane);\n}\n\nvoid main() {   \n  vec2 alteredPosition = vec2(vWorldPos.x, vWorldPos.y  + vWorldPos.z);\n  \n  // Player water colision effect\n  float dist = length(((playerPosition + vec3(0.,0.1,0.)) - vWorldPos.xyz) * vec3(1.,0.5,1.));\n  float radius = 0.2;\n  float width = 0.00;\n  float fade = 0.2;\n  float outRipple = (1.0 - smoothstep(0., 0.3, dist));\n  float rippleValue = 1.0 - smoothstep(0., radius + width + fade, dist);\n  float rippleWaveValue = rippleValue * (sin(dist * 40.0 -  time * 5.0) + 1.5) * 0.5 ;\n  alteredPosition += rippleWaveValue * normalize(playerPosition.xz - vWorldPos.xz) * 1.0;\n  \n\n  waterOut xzWater = water(alteredPosition * 0.25);\n  gl_FragColor = phong(xzWater.diffuse+ rippleWaveValue * 0.3 + outRipple * 0.5, xzWater.alpha + pow(outRipple, 4.0) * 0.9,xzWater.specular  + rippleWaveValue * 0.08  + pow(outRipple, 2.0) * 0.15);\n\n\t #include <fog_fragment>\n}",vertexShader:s}},Fluid_clear_water2:{name:"Clear Water",tags:"water",category:"Fluid",type:"shader",textures:{diffuse:{path:"fluid/water",sizes:[256],formats:["jpg"]}},rating:3,listed:!0,props:{fragmentShader:"#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\nvarying vec3 vWorldPos;\nvarying vec3 vWorldNormal;\nvarying float yUv;\nvarying float distToCamera;\n\nuniform float time;\nuniform vec3 playerPosition;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n#define randomNumber 10.288 // For laptops\n//#define randomNumber 43758.5453123\n\n\nfloat fade(float t) { return t * t * t * (t * (t * 6. - 15.) + 10.); }\nvec2 smooth_custom(vec2 x) { return vec2(fade(x.x), fade(x.y)); }\n\nvec2 hash(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*randomNumber);\n}\n\nfloat random3(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * randomNumber);\n}\n\nfloat noise(vec2 st) {\n    st = st * 8.0;\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    float a = random3(i);\n    float b = random3(i + vec2(1.0, 0.0));\n    float c = random3(i + vec2(0.0, 1.0));\n    float d = random3(i + vec2(1.0, 1.0));\n    vec2 u = f*f*(3.0-2.0*f);\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\n\nfloat perlin(vec2 uv) {\n    vec2 PT  = floor(uv);\n    vec2 pt  = fract(uv);\n    vec2 mmpt= smooth_custom(pt);\n    \n    vec4 grads = vec4(\n    \tdot(hash(PT + vec2(.0, 1.)), pt-vec2(.0, 1.)),   \n        dot(hash(PT + vec2(1., 1.)), pt-vec2(1., 1.)),\n        dot(hash(PT + vec2(.0, .0)), pt-vec2(.0, .0)),   \n        dot(hash(PT + vec2(1., .0)), pt-vec2(1., 0.))\n    );\n\n    return 5.*mix (mix (grads.z, grads.w, mmpt.x), mix (grads.x, grads.y, mmpt.x), mmpt.y);\n}\n\nfloat waterify(float value) {\n    float highlightMask = (value*value*value*value+ 0.15) * step(value, 0.59) * 3.0;\n    highlightMask = value  * step(value, 0.360);\n    return (value + 7.0) * 0.1 * step(value + 0.336, 0.0) * 0.8;\n}\n\n\nstruct waterOut {\n  vec3 diffuse;\n  float alpha;\n  float specular;\n};\n\nvec4 blend(vec4 colorA,vec4 colorB){\n  return colorA*(1.-colorB.a)+colorB;\n}\n\nvec4 offBlend(vec4 colorA,vec4 colorB) {\nreturn vec4 (\n  (colorA.rgb*(1.-colorB.a)+colorB.rgb*colorB.a),\n  colorA.a + colorB.a\n  );\n}\n\nfloat fresnel(float bias, float scale, float power){\n  vec3 I = normalize(vWorldPos.xyz - cameraPosition.xyz);\n  return bias + scale * pow(1.0 + dot(I, vWorldNormal), power);\n}\n\nwaterOut water(vec2 p){\n  vec2 pos = vec2(p*4.0);\n  float distToCamera = length(vWorldPos.xyz - cameraPosition.xyz);\n  float backgroundAlpha = fresnel(0.2, 0.8, 1.0) * 0.7;\n  float spotsAlpha =  clamp(3.0 -distToCamera * 0.01, 0.0, 1.0) * 1.0;\n\n  vec2 timedeltaA = vec2(-time, -time * 2.0);\n  vec2 timedeltaB = vec2(0, time * 2.0);\n  \n  vec2 aPos = pos * 3.0 + timedeltaA;\n  vec2 bPos = pos * 3.0 + timedeltaB;\n\n  float noiseA = (perlin(aPos) + 0.9) * perlin(aPos * 0.1);\n  float noiseB = (perlin(bPos) + 0.9) * perlin(bPos * 0.1);\n\n  float finalValue = clamp(waterify(noiseA + noiseB * 0.6 - distToCamera * 0.1 + 1.8), 0.0, 1.0) * spotsAlpha;\n\n  vec3 background = vec3(0.0, 0.6, 1.0) * 2.6;\n  float specular = finalValue * finalValue * finalValue * finalValue * 3.0; //Enhancement: * (1.0 + smoothstep(6.0, 20.0 , distToCamera) * smoothstep(20.0, 6.0 , distToCamera) * 4.0);\n  //DO not set spot color here, in case spots are not lit later\n  return waterOut(background, backgroundAlpha + 0.125, specular);\n}\n\nvec4 phong(vec3 diffuseColor, float alpha, float specular){\n  float xzPlane = abs(dot(vec3(0.0, 1.0,0.0), vWorldNormal));\n  ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n  vec3 totalEmissiveRadiance = emissive;\n  #include <logdepthbuf_fragment>\n\n\t #include <color_fragment>\n   #include <alphamap_fragment>\n\t #include <alphatest_fragment>\n   #include <normal_fragment_begin>\n\n\t// accumulation\n  BlinnPhongMaterial material;\n  material.diffuseColor = diffuseColor.rgb;\n  material.specularColor = vec3(1.0);\n  material.specularShininess = 1.0;\n  material.specularStrength = specular * 3.0;\n\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n  //Dont increase alpha on spots not shine by light\n\n\t//ios: #include <envmap_fragment>\n  vec3 outgoingLight = reflectedLight.indirectDiffuse +  reflectedLight.directSpecular;\n\n  // Ensure specular is white\n  float highlightStrength = length(reflectedLight.directSpecular) * 1.0;\n\n  // Color adjust specular a tiny bit\n  vec3 highLightColor = mix(vec3(1.0), diffuseColor + 2.0, 0.1);\n  vec3 color = mix(reflectedLight.indirectDiffuse, reflectedLight.indirectDiffuse + highLightColor, highlightStrength);\n  return vec4(color , (max(alpha,highlightStrength * 0.5)));\n}\n\nvoid main() {   \n  vec2 alteredPosition = vec2(vWorldPos.x, vWorldPos.y  + vWorldPos.z);\n  \n  // Player water colision effect\n  float dist = length(((playerPosition + vec3(0.,0.1,0.)) - vWorldPos.xyz) * vec3(1.,0.5,1.));\n  float radius = 0.2;\n  float width = 0.00;\n  float fade = 0.2;\n  float outRipple = (1.0 - smoothstep(0., 0.3, dist));\n  float rippleValue = 1.0 - smoothstep(0., radius + width + fade, dist);\n  float rippleWaveValue = rippleValue * (sin(dist * 40.0 -  time * 5.0) + 1.5) * 0.5 ;\n  alteredPosition += rippleWaveValue * normalize(playerPosition.xz - vWorldPos.xz) * 1.0;\n  \n\n  waterOut xzWater = water(alteredPosition * 0.25);\n  gl_FragColor = phong(xzWater.diffuse+ rippleWaveValue * 0.3 + outRipple * 0.5, xzWater.alpha + pow(outRipple, 4.0) * 0.9,xzWater.specular  + rippleWaveValue * 0.08  + pow(outRipple, 2.0) * 0.15);\n\n\t #include <fog_fragment>\n}",vertexShader:s}},waterJet:{name:"Water Jet",tags:"water",category:"Fluid",type:"shader",textures:{diffuse:{path:"fluid/water",sizes:[256],formats:["jpg"]}},rating:3,listed:!1,props:{fragmentShader:"#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\nvarying vec3 vWorldPos;\nvarying vec3 vWorldNormal;\nvarying float distToCamera;\n\nuniform float time;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n#define randomNumber 10.288 // For laptops\n//#define randomNumber 43758.5453123\n\n\nfloat fade(float t) { return t * t * t * (t * (t * 6. - 15.) + 10.); }\nvec2 smooth_custom(vec2 x) { return vec2(fade(x.x), fade(x.y)); }\n\nvec2 hash(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*randomNumber);\n}\n\nfloat random3(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * randomNumber);\n}\n\nfloat noise(vec2 st) {\n    st = st * 8.0;\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    float a = random3(i);\n    float b = random3(i + vec2(1.0, 0.0));\n    float c = random3(i + vec2(0.0, 1.0));\n    float d = random3(i + vec2(1.0, 1.0));\n    vec2 u = f*f*(3.0-2.0*f);\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\n\nfloat perlin(vec2 uv) {\n    vec2 PT  = floor(uv);\n    vec2 pt  = fract(uv);\n    vec2 mmpt= smooth_custom(pt);\n    \n    vec4 grads = vec4(\n    \tdot(hash(PT + vec2(.0, 1.)), pt-vec2(.0, 1.)),   \n        dot(hash(PT + vec2(1., 1.)), pt-vec2(1., 1.)),\n        dot(hash(PT + vec2(.0, .0)), pt-vec2(.0, .0)),   \n        dot(hash(PT + vec2(1., .0)), pt-vec2(1., 0.))\n    );\n\n    return 5.*mix (mix (grads.z, grads.w, mmpt.x), mix (grads.x, grads.y, mmpt.x), mmpt.y);\n}\n\nfloat waterify(float value) {\n    float highlightMask = (value*value*value*value+ 0.15) * step(value, 0.59) * 3.0;\n    highlightMask = value  * step(value, 0.360);\n    return (value + 7.0) * 0.1 * step(value - 0.5, 0.0) * 0.8;\n}\n\n\nstruct waterOut {\n  vec3 diffuse;\n  float alpha;\n  float specular;\n};\n\nvec4 blend(vec4 colorA,vec4 colorB){\n  return colorA*(1.-colorB.a)+colorB;\n}\n\nvec4 offBlend(vec4 colorA,vec4 colorB) {\nreturn vec4 (\n  (colorA.rgb*(1.-colorB.a)+colorB.rgb*colorB.a),\n  colorA.a + colorB.a\n  );\n}\n\nfloat fresnel(float bias, float scale, float power){\n  vec3 I = normalize(vWorldPos.xyz - cameraPosition.xyz);\n  return bias + scale * pow(1.0 + dot(I, vWorldNormal), power);\n}\n\nwaterOut water(vec2 p){\n  p.y *= 0.2;\n  float microDisplace = noise(p * 20.0 * 0.2 + time * 0.5) * 0.05;\n  vec2 pos = vec2(p*4.0);\n\n  float backgroundAlpha =  fresnel(0.2, 0.8, 1.0) * 0.7;\n\n  vec2 timedeltaA = vec2(0, time * 45.0);\n  vec2 aPos = pos * 10.0 + timedeltaA * 0.5;\n  float noiseA = (perlin(aPos) + 0.5) * mix(perlin(aPos * 0.2) + 0.8, 0.3, 0.8)* sin(p.y * 10.0);\n  float finalValue = clamp(waterify(noiseA), 0.0, 1.0) * 1.0;\n\n  float alpha = 0.5;\n  \n  vec4 spots = vec4(vec3(1.0), finalValue * finalValue * finalValue * finalValue * 6.0);//);\n  //vec4 background = vec4(0.101,0.330,0.540,backgroundAlpha);\n  vec4 background = vec4(vec3(0.0, 0.6, 1.0) * 2.6, 0);\n\n  // Fernel spots\n  //vec4 background = vec4(1.0,0.0,0.0, 0.5);\n  //vec4 final = offBlend(background,spots);\n  //vec4 final = mix(background, spots, spots.a);\n  //vec4 final = vec4(mix(background.rgb,vec3(1.0),clamp(spots.a, 0.0, 1.0)), background.a);\n  float specular = spots.a;\n  //DO not set spot color here, in case spots are not lit later\n  return waterOut(mix(vec3(0.0, 0.6, 1.0), vec3(2.0), 1.0), spots.a, specular);\n}\n\nvec4 phong(vec3 diffuseColor, float alpha, float specular){\n  float xzPlane = abs(dot(vec3(0.0, 1.0,0.0), vWorldNormal));\n  ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n  vec3 totalEmissiveRadiance = emissive;\n  #include <logdepthbuf_fragment>\n\n\t #include <color_fragment>\n   #include <alphamap_fragment>\n\t #include <alphatest_fragment>\n\t #include <specularmap_fragment>\n   #include <normal_fragment_begin>\n   //ios:#include <normal_fragment_maps>\n\n\t// accumulation\n  BlinnPhongMaterial material;\n  material.diffuseColor = vec3(1.0);\n  material.specularColor = vec3(1.0);\n  material.specularShininess = 1.0;\n  material.specularStrength = specular * 3.0;\n\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n  //Dont increase alpha on spots not shine by light\n\n\t//ios: #include <envmap_fragment>\n\n  // Ensure specular is white\n  float highlightStrength = length(reflectedLight.directSpecular) * 1.0;\n\n  // Color adjust specular a tiny bit\n  vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n  return vec4(outgoingLight.rgb, alpha + highlightStrength * 1.0);\n}\n\nvoid main() {   \n  float xzPlane = abs(dot(vec3(0.0, 1.0,0.0), vWorldNormal));\n  float xyPlane = abs(dot(vec3(0.0, 0.0,1.0), vWorldNormal));\n  float zyPlane = abs(dot(vec3(1.0, 0.0,0.0), vWorldNormal));\n\n  vec2 alteredPosition = mix(vec2(vWorldPos.x + vWorldPos.z, vWorldPos.y), vWorldPos.xz,  xzPlane); \n\n  waterOut xzWater = water(alteredPosition * 0.25);\n  gl_FragColor = phong(xzWater.diffuse, xzWater.alpha ,xzWater.specular);\n}",vertexShader:"#define PHONG\n#undef USE_MAP\n#undef BOX_MAPPING\n\n#define USE_ENVMAP\n\nvarying vec3 vViewPosition;\nvarying vec3 vWorldPos;\nvarying vec3 vCameraPosition;\nvarying float distToCamera;\nuniform float time;\nuniform vec3 playerPosition;\n\nvarying vec3 vNormal;\nvarying vec3 vWorldNormal;\nvarying float visible;\nvarying float yUv;\n\n\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n\n#define M_PI 3.14159265358979323846\n\n// world Position of the instance\n// vec3 instancePosition = _instanceMatrix[3].xyz;\nvec4 billboard(vec3 instancePosition){\n\n  // object position of to vertex\n  vec3 vertexPos = position;\n\n  vec4 mvPosition = viewMatrix * modelMatrix * vec4( instancePosition, 1.0 );\n  mvPosition.xyz += vertexPos * instanceScale;\n  return projectionMatrix * mvPosition;\n}\n\nmat4 rotationY( in float angle ) {\n\treturn mat4(cos(angle),\t0,\tsin(angle),\t0,\n\t\t\t \t\t\t\t0,\t\t1.0,\t\t\t 0,\t0,\n\t\t\t\t\t-sin(angle),\t0,\t\tcos(angle),\t0,\n\t\t\t\t\t\t\t0, \t\t0,\t\t\t\t0,\t1);\n}\n\nvec4 cylindricalBillboard(){\n  vec3 instancePosition = instanceOffset;\n  vec3 scale = vec3(length(instanceOffset.x),length(instanceOffset.y), length(instanceOffset.z));\n\n  mat4 instanceRotation = mat4(\n    vec4(instanceOffset.x/scale.x),\n    vec4(instanceOffset.y/scale.y),\n    vec4(instanceOffset.z/scale.z),\n    vec4(vec3(0.0), 1.0)\n  );\n  \n  vec3 cameraPosUnRotated = (vec4(cameraPosition, 1.0) * instanceRotation).xyz;\n  vec3 instancePosUnRotated = (vec4(instancePosition, 1.0) * instanceRotation).xyz;\n\n  vec2 vectorToCamera = normalize(cameraPosUnRotated.xz - instancePosUnRotated.xz);\n  float dirToCamera = atan(vectorToCamera.y, vectorToCamera.x);\n  vec4 rotatedPositon = instanceRotation  * rotationY(dirToCamera) * vec4(position * instanceScale, 1.0);\n  return projectionMatrix * viewMatrix * modelMatrix * vec4(instancePosition + rotatedPositon.xyz, 1.0 );\n}\n\n\nvoid main() {\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\n\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\n\tvViewPosition = - mvPosition.xyz;\n\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n\tvNormal = normalize(transformedNormal);\n\n  //vec4 worldPosition = modelMatrix * vec4(position, 1.0);\n\tvWorldPos = worldPosition.xyz;\n\tyUv = uv.y;\n  \n\n\tvec4 cs_position = modelViewMatrix * gl_Position;\n  distToCamera = -cs_position.z;\n  \n  vWorldNormal = inverseTransformDirection( vNormal, viewMatrix );\n\n  float zAxis = abs(dot(vec3(0.0, 0.0,1.0), objectNormal));\n\n  visible = step(0.1, zAxis);\n\n  gl_Position = cylindricalBillboard();\n}"}},Fluid_splashing_water:{name:"Splashing Water",tags:"water",category:"Fluid",type:"shader",textures:{diffuse:{path:"fluid/water",sizes:[256],formats:["jpg"]}},rating:3,listed:!1,props:{fragmentShader:"#define PHONG\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\nvarying vec3 vWorldPos;\nvarying vec3 vWorldNormal;\nvarying float yUv;\nvarying float distToCamera;\n\nuniform float time;\nuniform vec3 playerPosition;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n#define randomNumber 10.288 // For laptops\n//#define randomNumber 43758.5453123\n\n\nfloat fade(float t) { return t * t * t * (t * (t * 6. - 15.) + 10.); }\nvec2 smooth_custom(vec2 x) { return vec2(fade(x.x), fade(x.y)); }\n\nvec2 hash(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*randomNumber);\n}\n\nfloat random3(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * randomNumber);\n}\n\nfloat noise(vec2 st) {\n    st = st * 8.0;\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    float a = random3(i);\n    float b = random3(i + vec2(1.0, 0.0));\n    float c = random3(i + vec2(0.0, 1.0));\n    float d = random3(i + vec2(1.0, 1.0));\n    vec2 u = f*f*(3.0-2.0*f);\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\n\nfloat perlin(vec2 uv) {\n    vec2 PT  = floor(uv);\n    vec2 pt  = fract(uv);\n    vec2 mmpt= smooth_custom(pt);\n    \n    vec4 grads = vec4(\n    \tdot(hash(PT + vec2(.0, 1.)), pt-vec2(.0, 1.)),   \n        dot(hash(PT + vec2(1., 1.)), pt-vec2(1., 1.)),\n        dot(hash(PT + vec2(.0, .0)), pt-vec2(.0, .0)),   \n        dot(hash(PT + vec2(1., .0)), pt-vec2(1., 0.))\n    );\n\n    return 5.*mix (mix (grads.z, grads.w, mmpt.x), mix (grads.x, grads.y, mmpt.x), mmpt.y);\n}\n\nfloat waterify(float value) {\n    float highlightMask = (value*value*value*value+ 0.15) * step(value, 0.59) * 3.0;\n    highlightMask = value  * step(value, 0.360);\n    return (value + 7.0) * 0.1 * step(value + 0.336, 0.0) * 0.8;\n}\n\n\nstruct waterOut {\n  vec3 diffuse;\n  float alpha;\n  float specular;\n};\n\nvec4 blend(vec4 colorA,vec4 colorB){\n  return colorA*(1.-colorB.a)+colorB;\n}\n\nvec4 offBlend(vec4 colorA,vec4 colorB) {\nreturn vec4 (\n  (colorA.rgb*(1.-colorB.a)+colorB.rgb*colorB.a),\n  colorA.a + colorB.a\n  );\n}\n\nfloat fresnel(float bias, float scale, float power){\n  vec3 I = normalize(vWorldPos.xyz - cameraPosition.xyz);\n  return bias + scale * pow(1.0 + dot(I, vWorldNormal), power);\n}\n\nwaterOut water(vec2 p){\n  vec2 pos = vec2(p*20.0);\n  float distToCamera = length(vWorldPos.xyz - cameraPosition.xyz);\n  float spotsAlpha = 1.0;// clamp(3.0 -distToCamera * 0.01, 0.0, 1.0) * 1.0;\n\n  vec2 timedeltaA = vec2(-time, -time * 2.0);\n  vec2 timedeltaB = vec2(0, time * 2.0);\n  \n  vec2 aPos = pos * 3.0;\n  vec2 bPos = pos * 3.0;\n\n  float dist = yUv + 0.5;\n\n  float noiseA = perlin(aPos * 1.0) * (1.0 - dist * 1.0);\n  float noiseB = (perlin(bPos) + 0.9) * perlin(bPos * 1.0);\n\n  float finalValue = clamp(waterify(noiseA - distToCamera * 0.3), 0.0, 1.0) * spotsAlpha;\n\n  vec3 background = vec3(0.0, 0.6, 1.0) * 2.6;\n  float specular = finalValue * finalValue * finalValue * finalValue * 3.0; //Enhancement: * (1.0 + smoothstep(6.0, 20.0 , distToCamera) * smoothstep(20.0, 6.0 , distToCamera) * 4.0);\n  //DO not set spot color here, in case spots are not lit later\n  return waterOut(background, specular * 10.0, finalValue * 10.0);\n}\n\nvec4 phong(vec3 diffuseColor, float alpha, float specular){\n  float xzPlane = abs(dot(vec3(0.0, 1.0,0.0), vWorldNormal));\n  ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n  vec3 totalEmissiveRadiance = emissive;\n  #include <logdepthbuf_fragment>\n\n\t #include <color_fragment>\n   #include <alphamap_fragment>\n\t #include <alphatest_fragment>\n   #include <normal_fragment_begin>\n\n\t// accumulation\n  BlinnPhongMaterial material;\n  material.diffuseColor = diffuseColor.rgb;\n  material.specularColor = vec3(1.0);\n  material.specularShininess = 1.0;\n  material.specularStrength = specular * 3.0;\n\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n  //Dont increase alpha on spots not shine by light\n\n\t//ios: #include <envmap_fragment>\n  vec3 outgoingLight = reflectedLight.indirectDiffuse +  reflectedLight.directSpecular;\n\n  // Ensure specular is white\n  float highlightStrength = length(reflectedLight.directSpecular) * 1.0;\n\n  // Color adjust specular a tiny bit\n  vec3 highLightColor = mix(vec3(1.0), diffuseColor + 2.0, 0.1);\n  vec3 color = mix(reflectedLight.indirectDiffuse, reflectedLight.indirectDiffuse + highLightColor, highlightStrength);\n  return vec4(color , (max(alpha,highlightStrength * 0.5)) * xzPlane);\n}\n\nvoid main() {   \n  vec2 alteredPosition = vec2(vWorldPos.x, vWorldPos.y  + vWorldPos.z);\n  \n  // Player water colision effect\n  float dist = length(((playerPosition + vec3(0.,0.1,0.)) - vWorldPos.xyz) * vec3(1.,0.5,1.));\n  float radius = 0.2;\n  float width = 0.00;\n  float fade = 0.2;\n  float outRipple = (1.0 - smoothstep(0., 0.3, dist));\n  float rippleValue = 1.0 - smoothstep(0., radius + width + fade, dist);\n  float rippleWaveValue = rippleValue * (sin(dist * 40.0 -  time * 5.0) + 1.5) * 0.5 ;\n  alteredPosition += rippleWaveValue * normalize(playerPosition.xz - vWorldPos.xz) * 1.0;\n  \n\n  waterOut xzWater = water(alteredPosition * 0.25);\n  gl_FragColor = phong(xzWater.diffuse+ rippleWaveValue * 0.3 + outRipple * 0.5, xzWater.alpha + pow(outRipple, 4.0) * 0.9,xzWater.specular  + rippleWaveValue * 0.08  + pow(outRipple, 2.0) * 0.15);\n  gl_FragColor = vec4(vec3(yUv * 1.5), 1.0);\n\n\t #include <fog_fragment>\n}",vertexShader:s}},Fluid_falling_water:{name:"Falling water",tags:"water",category:"Fluid",type:"shader",textures:{diffuse:{path:"fluid/water",sizes:[256],formats:["jpg"]}},rating:3,listed:!0,props:{fragmentShader:"#define PHONG\n#undef USE_SHADOWMAP\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\nvarying vec3 vWorldPos;\nvarying vec3 vWorldNormal;\nvarying float distToCamera;\nvarying float visible;\n\nuniform float time;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n#define randomNumber 10.288 // For laptops\n//#define randomNumber 43758.5453123\n\n\nfloat fade(float t) { return t * t * t * (t * (t * 6. - 15.) + 10.); }\nvec2 smooth_custom(vec2 x) { return vec2(fade(x.x), fade(x.y)); }\n\nvec2 hash(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*randomNumber);\n}\n\nfloat random3(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * randomNumber);\n}\n\nfloat noise(vec2 st) {\n    st = st * 8.0;\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    float a = random3(i);\n    float b = random3(i + vec2(1.0, 0.0));\n    float c = random3(i + vec2(0.0, 1.0));\n    float d = random3(i + vec2(1.0, 1.0));\n    vec2 u = f*f*(3.0-2.0*f);\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\n\nfloat perlin(vec2 uv) {\n    vec2 PT  = floor(uv);\n    vec2 pt  = fract(uv);\n    vec2 mmpt= smooth_custom(pt);\n    \n    vec4 grads = vec4(\n    \tdot(hash(PT + vec2(.0, 1.)), pt-vec2(.0, 1.)),   \n        dot(hash(PT + vec2(1., 1.)), pt-vec2(1., 1.)),\n        dot(hash(PT + vec2(.0, .0)), pt-vec2(.0, .0)),   \n        dot(hash(PT + vec2(1., .0)), pt-vec2(1., 0.))\n    );\n\n    return 5.*mix (mix (grads.z, grads.w, mmpt.x), mix (grads.x, grads.y, mmpt.x), mmpt.y);\n}\n\nfloat waterify(float value) {\n    float highlightMask = (value*value*value*value+ 0.15) * step(value, 0.59) * 3.0;\n    highlightMask = value  * step(value, 0.360);\n    return (value + 7.0) * 0.1 * step(value + 0.336, 0.0) * 0.8;\n}\n\n\nstruct waterOut {\n  vec3 diffuse;\n  float alpha;\n  float specular;\n};\n\nvec4 blend(vec4 colorA,vec4 colorB){\n  return colorA*(1.-colorB.a)+colorB;\n}\n\nvec4 offBlend(vec4 colorA,vec4 colorB) {\nreturn vec4 (\n  (colorA.rgb*(1.-colorB.a)+colorB.rgb*colorB.a),\n  colorA.a + colorB.a\n  );\n}\n\nfloat fresnel(float bias, float scale, float power){\n  vec3 I = normalize(vWorldPos.xyz - cameraPosition.xyz);\n  return bias + scale * pow(1.0 + dot(I, vWorldNormal), power);\n}\n\nwaterOut water(vec2 p, float intensity){\n  float microDisplace = 0.0;//noise(p * 20.0 * 0.2 + time * 0.5) * 0.05;\n  vec2 pos = vec2(p.x*1.0, p.y * 0.05);\n\n  float backgroundAlpha = fresnel(0.2, 0.8, 1.0) * 0.9;\n\n  vec2 timedeltaA = vec2(0, time * 10.0);\n  vec2 aPos = pos * 10.0 + timedeltaA * 0.5;\n  float detailedNoise = perlin(aPos) - 5.0;\n  float largeNoise = perlin(aPos * 0.2);\n  float noiseA = mix(detailedNoise + largeNoise, detailedNoise * largeNoise, 0.5);\n  float finalValue = clamp(waterify(noiseA), 0.0, 1.0) * 1.0;\n\n  float alpha = 0.5;\n  \n  vec4 spots = vec4(vec3(1.0), finalValue * finalValue * finalValue * finalValue * 6.0);//);\n  vec4 background = vec4(vec3(0.0, 0.6, 1.0) * 2.0,backgroundAlpha);\n\n  // Fernel spots\n  float start = 0.0;\n  float end = 1.0;\n  float bend = smoothstep(start, end, intensity) * smoothstep(1.0, 0.93, intensity);\n  float specular = spots.a * smoothstep(0.1, 0.25, intensity) * intensity * 1.0;\n  //DO not set spot color here, in case spots are not lit later\n  float intensitySpecMask = intensity * clamp(specular, 0.0, 0.1) * 20.0;\n  return waterOut(background.rgb, backgroundAlpha + intensitySpecMask * 0.1 + intensity * 0.25 + bend * 0.4, specular);\n}\n\nvec4 phong(vec3 diffuseColor, float alpha, float specular){\n  float xzPlane = abs(dot(vec3(0.0, 1.0,0.0), vWorldNormal));\n  ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n  vec3 totalEmissiveRadiance = emissive;\n  #include <logdepthbuf_fragment>\n\n\t #include <color_fragment>\n   #include <alphamap_fragment>\n\t #include <alphatest_fragment>\n\t #include <specularmap_fragment>\n   #include <normal_fragment_begin>\n   //ios:#include <normal_fragment_maps>\n\n\t// accumulation\n  BlinnPhongMaterial material;\n  material.diffuseColor = diffuseColor.rgb;\n  material.specularColor = vec3(1.0);\n  material.specularShininess = 1.0;\n  material.specularStrength = specular * 3.0;\n\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n  //Dont increase alpha on spots not shine by light\n\n\t//ios: #include <envmap_fragment>\n  vec3 outgoingLight = reflectedLight.indirectDiffuse +  reflectedLight.directSpecular;\n\n  // Ensure specular is white\n  float highlightStrength = length(reflectedLight.directSpecular) * 0.5 + specular * 0.5;\n\n  // Color adjust specular a tiny bit\n  vec3 highLightColor = mix(vec3(1.0), vec3(0.0, 0.6, 1.0) + 0.2, 0.3);\n  vec3 color = mix(reflectedLight.indirectDiffuse, reflectedLight.indirectDiffuse + highLightColor, highlightStrength);\n  return vec4(color , (max(alpha,highlightStrength * 0.5) * visible));\n}\n\nvoid main() {   \n  float xzPlane = abs(dot(vec3(0.0, 1.0,0.0), vWorldNormal));\n  float xyPlane = abs(dot(vec3(0.0, 0.0,1.0), vWorldNormal));\n  float zyPlane = abs(dot(vec3(1.0, 0.0,0.0), vWorldNormal));\n\n  float closerToX = step(zyPlane, xyPlane);\n\n  vec2 alteredPosition = mix(vec2(vWorldPos.z, vWorldPos.y), vec2(vWorldPos.x, vWorldPos.y),  closerToX); \n\n  float intensity = xyPlane + zyPlane;\n  waterOut xzWater = water(alteredPosition * 0.25, intensity);\n  gl_FragColor = phong(xzWater.diffuse, xzWater.alpha ,xzWater.specular);\n\n\t #include <fog_fragment>\n}",vertexShader:s}},Fluid_falling_water_bottom:{name:"Falling water coliding",tags:"water",category:"Fluid",type:"shader",textures:{diffuse:{path:"fluid/water",sizes:[256],formats:["jpg"]}},rating:3,listed:!1,props:{fragmentShader:"#define PHONG\n#undef USE_SHADOWMAP\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\nvarying vec3 vWorldPos;\nvarying vec3 vWorldNormal;\nvarying float distToCamera;\nvarying float visible;\nvarying float yUv;\n\nuniform float time;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n#define randomNumber 10.288 // For laptops\n//#define randomNumber 43758.5453123\n\n// Waterlevel offset from center\n#define waterLevelOffset 0.2 \n\nfloat fade(float t) { return t * t * t * (t * (t * 6. - 15.) + 10.); }\nvec2 smooth_custom(vec2 x) { return vec2(fade(x.x), fade(x.y)); }\n\nvec2 hash(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*randomNumber);\n}\n\nfloat random3(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * randomNumber);\n}\n\nfloat noise(vec2 st) {\n    st = st * 8.0;\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    float a = random3(i);\n    float b = random3(i + vec2(1.0, 0.0));\n    float c = random3(i + vec2(0.0, 1.0));\n    float d = random3(i + vec2(1.0, 1.0));\n    vec2 u = f*f*(3.0-2.0*f);\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\n\nfloat perlin(vec2 uv) {\n    vec2 PT  = floor(uv);\n    vec2 pt  = fract(uv);\n    vec2 mmpt= smooth_custom(pt);\n    \n    vec4 grads = vec4(\n    \tdot(hash(PT + vec2(.0, 1.)), pt-vec2(.0, 1.)),   \n        dot(hash(PT + vec2(1., 1.)), pt-vec2(1., 1.)),\n        dot(hash(PT + vec2(.0, .0)), pt-vec2(.0, .0)),   \n        dot(hash(PT + vec2(1., .0)), pt-vec2(1., 0.))\n    );\n\n    return 5.*mix (mix (grads.z, grads.w, mmpt.x), mix (grads.x, grads.y, mmpt.x), mmpt.y);\n}\n\nfloat waterify(float value) {\n    float highlightMask = (value*value*value*value+ 0.15) * step(value, 0.59) * 3.0;\n    highlightMask = value  * step(value, 0.360);\n    return (value + 7.0) * 0.1 * step(value + 0.336, 0.0) * 0.8;\n}\n\n\nstruct waterOut {\n  vec3 diffuse;\n  float alpha;\n  float specular;\n};\n\nvec4 blend(vec4 colorA,vec4 colorB){\n  return colorA*(1.-colorB.a)+colorB;\n}\n\nvec4 offBlend(vec4 colorA,vec4 colorB) {\nreturn vec4 (\n  (colorA.rgb*(1.-colorB.a)+colorB.rgb*colorB.a),\n  colorA.a + colorB.a\n  );\n}\n\nfloat fresnel(float bias, float scale, float power){\n  vec3 I = normalize(vWorldPos.xyz - cameraPosition.xyz);\n  return bias + scale * pow(1.0 + dot(I, vWorldNormal), power);\n}\n\nwaterOut water(vec2 p, float intensity){\n  float microDisplace = 0.0;//noise(p * 20.0 * 0.2 + time * 0.5) * 0.05;\n  vec2 pos = vec2(p.x*1.0, p.y * 0.05 / intensity);\n\n  float backgroundAlpha = fresnel(0.2, 0.8, 1.0) * 0.7;\n\n  vec2 timedeltaA = vec2(0, time * 10.0);\n  vec2 aPos = pos * 10.0 + timedeltaA * 0.5;\n  float detailedNoise = perlin(aPos);\n  float offsetDetailedNoise = detailedNoise - 5.0;\n  float largeNoise = perlin(aPos * 0.2);\n  float noiseA = mix(offsetDetailedNoise + largeNoise, offsetDetailedNoise * largeNoise, 0.5);\n  float finalValue = clamp(waterify(noiseA), 0.0, 1.0) * 1.0;\n\n  vec4 spots = vec4(vec3(1.0), finalValue * finalValue * finalValue * finalValue * 6.0);//);\n  vec4 background = vec4(vec3(0.0, 0.6, 1.0) * 2.0,backgroundAlpha);\n\n  // Fernel spots\n  float start = 0.0;\n  float end = 1.0;\n  float bend = smoothstep(start, end, intensity) * smoothstep(1.0, 0.93, intensity);\n\n  // waterLevel offset from center\n  float offset = waterLevelOffset;\n\n  float foam = 20.0 * \n  max(smoothstep(0.45 + offset, 0.53 + offset, 1.0 - yUv), 0.0) *\n  max(smoothstep(0.5 + offset, 0.45 + offset, 1.0 - yUv), 0.0) *\n  max( (detailedNoise + 1.5 ), 0.);\n\n  float specular = spots.a * smoothstep(0.1, 0.25, intensity) * intensity * 1.0;\n  //DO not set spot color here, in case spots are not lit later\n  float intensitySpecMask = intensity * clamp(specular, 0.0, 0.1) * 20.0;\n  float alpha = backgroundAlpha + intensitySpecMask * 0.1 + intensity * 0.25 + bend * 0.4;\n  return waterOut(background.rgb + foam, alpha, specular);\n}\n\nvec4 phong(vec3 diffuseColor, float alpha, float specular){\n  float xzPlane = abs(dot(vec3(0.0, 1.0,0.0), vWorldNormal));\n  ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n  vec3 totalEmissiveRadiance = emissive;\n  #include <logdepthbuf_fragment>\n\n\t #include <color_fragment>\n   #include <alphamap_fragment>\n\t #include <alphatest_fragment>\n\t #include <specularmap_fragment>\n   #include <normal_fragment_begin>\n   //ios:#include <normal_fragment_maps>\n\n\t// accumulation\n  BlinnPhongMaterial material;\n  material.diffuseColor = diffuseColor.rgb;\n  material.specularColor = vec3(1.0);\n  material.specularShininess = 1.0;\n  material.specularStrength = specular * 3.0;\n\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n  //Dont increase alpha on spots not shine by light\n\n\t//ios: #include <envmap_fragment>\n  vec3 outgoingLight = reflectedLight.indirectDiffuse +  reflectedLight.directSpecular;\n\n  // Ensure specular is white\n  float highlightStrength = length(reflectedLight.directSpecular) * 0.5 + specular * 0.5;\n\n  // Color adjust specular a tiny bit\n  vec3 highLightColor = mix(vec3(1.0), vec3(0.0, 0.6, 1.0) + 0.2, 0.3);\n  vec3 color = mix(reflectedLight.indirectDiffuse, reflectedLight.indirectDiffuse + highLightColor, highlightStrength);\n\n// waterLevel offset from center\n  float offset = waterLevelOffset;\n\n  float waterLevelMask = 1.0 - max(smoothstep(0.45 + offset, 0.53 + offset, 1.0 - yUv), 0.0) * 0.8;\n  float finalAlpha = (max(alpha,highlightStrength * 0.5) * visible);\n\n  return vec4(color , waterLevelMask * finalAlpha );\n}\n\nvoid main() {   \n  float xzPlane = abs(dot(vec3(0.0, 1.0,0.0), vWorldNormal));\n  float xyPlane = abs(dot(vec3(0.0, 0.0,1.0), vWorldNormal));\n  float zyPlane = abs(dot(vec3(1.0, 0.0,0.0), vWorldNormal));\n\n  float closerToX = step(zyPlane, xyPlane);\n\n  vec2 alteredPosition = mix(vec2(vWorldPos.z, vWorldPos.y), vec2(vWorldPos.x, vWorldPos.y),  closerToX); \n\n  float intensity = xyPlane + zyPlane;\n  waterOut xzWater = water(alteredPosition * 0.25, intensity);\n  gl_FragColor = phong(xzWater.diffuse, xzWater.alpha ,xzWater.specular);\n\t #include <fog_fragment>\n}",vertexShader:s}},Fluid_falling_water2:{name:"Water wall",tags:"water",category:"Fluid",type:"shader",textures:{diffuse:{path:"fluid/water",sizes:[256],formats:["jpg"]}},rating:3,listed:!1,props:{fragmentShader:"#define PHONG\n#undef USE_SHADOWMAP\n\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n\nvarying vec3 vWorldPos;\nvarying vec3 vWorldNormal;\nvarying float distToCamera;\n\nuniform float time;\n\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\n\n#define randomNumber 10.288 // For laptops\n//#define randomNumber 43758.5453123\n\n\nfloat fade(float t) { return t * t * t * (t * (t * 6. - 15.) + 10.); }\nvec2 smooth_custom(vec2 x) { return vec2(fade(x.x), fade(x.y)); }\n\nvec2 hash(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*randomNumber);\n}\n\nfloat random3(in vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))\n                 * randomNumber);\n}\n\nfloat noise(vec2 st) {\n    st = st * 8.0;\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    float a = random3(i);\n    float b = random3(i + vec2(1.0, 0.0));\n    float c = random3(i + vec2(0.0, 1.0));\n    float d = random3(i + vec2(1.0, 1.0));\n    vec2 u = f*f*(3.0-2.0*f);\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\n\nfloat perlin(vec2 uv) {\n    vec2 PT  = floor(uv);\n    vec2 pt  = fract(uv);\n    vec2 mmpt= smooth_custom(pt);\n    \n    vec4 grads = vec4(\n    \tdot(hash(PT + vec2(.0, 1.)), pt-vec2(.0, 1.)),   \n        dot(hash(PT + vec2(1., 1.)), pt-vec2(1., 1.)),\n        dot(hash(PT + vec2(.0, .0)), pt-vec2(.0, .0)),   \n        dot(hash(PT + vec2(1., .0)), pt-vec2(1., 0.))\n    );\n\n    return 5.*mix (mix (grads.z, grads.w, mmpt.x), mix (grads.x, grads.y, mmpt.x), mmpt.y);\n}\n\nfloat waterify(float value) {\n    float highlightMask = (value*value*value*value+ 0.15) * step(value, 0.59) * 3.0;\n    highlightMask = value  * step(value, 0.360);\n    return (value + 7.0) * 0.1 * step(value - 0.5, 0.0) * 0.8;\n}\n\n\nstruct waterOut {\n  vec3 diffuse;\n  float alpha;\n  float specular;\n};\n\nvec4 blend(vec4 colorA,vec4 colorB){\n  return colorA*(1.-colorB.a)+colorB;\n}\n\nvec4 offBlend(vec4 colorA,vec4 colorB) {\nreturn vec4 (\n  (colorA.rgb*(1.-colorB.a)+colorB.rgb*colorB.a),\n  colorA.a + colorB.a\n  );\n}\n\nfloat fresnel(float bias, float scale, float power){\n  vec3 I = normalize(vWorldPos.xyz - cameraPosition.xyz);\n  return bias + scale * pow(1.0 + dot(I, vWorldNormal), power);\n}\n\nwaterOut water(vec2 p){\n  p.y *= 0.1;\n  float microDisplace = noise(p * 20.0 * 0.2 + time * 0.5) * 0.05;\n  vec2 pos = vec2(p*4.0 + microDisplace);\n\n  float backgroundAlpha =  fresnel(0.2, 0.8, 1.0) * 0.7;\n\n  vec2 timedeltaA = vec2(0, time * 30.0);\n  vec2 aPos = pos * 10.0 + timedeltaA * 0.5;\n  float noiseA = (perlin(aPos) + 0.9) * perlin(aPos * 0.1);\n  float finalValue = clamp(waterify(noiseA), 0.0, 1.0) * 1.0;\n\n  float alpha = 0.5;\n  \n  vec4 spots = vec4(vec3(1.0), finalValue * finalValue * finalValue * finalValue * 6.0);//);\n  //vec4 background = vec4(0.101,0.330,0.540,backgroundAlpha);\n  vec4 background = vec4(vec3(0.0, 0.6, 1.0) * 2.0, 0);\n\n  // Fernel spots\n  //vec4 background = vec4(1.0,0.0,0.0, 0.5);\n  //vec4 final = offBlend(background,spots);\n  //vec4 final = mix(background, spots, spots.a);\n  //vec4 final = vec4(mix(background.rgb,vec3(1.0),clamp(spots.a, 0.0, 1.0)), background.a);\n  float specular = spots.a;\n  //DO not set spot color here, in case spots are not lit later\n  return waterOut(mix(vec3(0.0, 0.6, 1.0), vec3(2.0), 1.0), spots.a, specular);\n}\n\nvec4 phong(vec3 diffuseColor, float alpha, float specular){\n  float xzPlane = abs(dot(vec3(0.0, 1.0,0.0), vWorldNormal));\n  ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n  vec3 totalEmissiveRadiance = emissive;\n  #include <logdepthbuf_fragment>\n\n\t #include <color_fragment>\n   #include <alphamap_fragment>\n\t #include <alphatest_fragment>\n\t #include <specularmap_fragment>\n   #include <normal_fragment_begin>\n   //ios:#include <normal_fragment_maps>\n\n\t// accumulation\n  BlinnPhongMaterial material;\n  material.diffuseColor = diffuseColor.rgb;\n  material.specularColor = vec3(1.0);\n  material.specularShininess = 1.0;\n  material.specularStrength = specular * 3.0;\n\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\n\t// modulation\n\t#include <aomap_fragment>\n\n  //Dont increase alpha on spots not shine by light\n\n\t//ios: #include <envmap_fragment>\n\n  // Ensure specular is white\n  float highlightStrength = length(reflectedLight.directSpecular) * 1.0;\n\n  // Color adjust specular a tiny bit\n  vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n  return vec4(outgoingLight.rgb, alpha);\n}\n\nvoid main() {   \n  float xzPlane = abs(dot(vec3(0.0, 1.0,0.0), vWorldNormal));\n  float xyPlane = abs(dot(vec3(0.0, 0.0,1.0), vWorldNormal));\n  float zyPlane = abs(dot(vec3(1.0, 0.0,0.0), vWorldNormal));\n\n  vec2 alteredPosition = mix(vec2(vWorldPos.x + vWorldPos.z, vWorldPos.y), vWorldPos.xz,  xzPlane); \n\n  waterOut xzWater = water(alteredPosition * 0.25);\n  gl_FragColor = phong(xzWater.diffuse, xzWater.alpha ,xzWater.specular);\n}",vertexShader:s}},Water_Water_001:{name:"Water_Water_001",tags:"Water",category:"Water",type:"Water",textures:{diffuse:{path:"Water/Water_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"Water/Water_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Water/Water_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"Water/Water_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},specular:{path:"Water/Water_001_SPEC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:8947848,shininess:0,displacementScale:1}},new4_Hazard_Paint_001_SD_Hazard_Paint_001:{name:"Hazard Paint",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Hazard",category:"Misc",textures:{diffuse:{path:"new4/Hazard_Paint_001_SD/Hazard_Paint_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},displacement:{path:"new4/Hazard_Paint_001_SD/Hazard_Paint_001_DISP",sizes:[256,512,1024],formats:["png","pvrtc","etc2","astc","dxt"]},normal:{path:"Asphalt/Asphalt_002_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},ao:{path:"new4/Hazard_Paint_001_SD/Hazard_Paint_001_OCC",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},roughness:{path:"new4/Hazard_Paint_001_SD/Hazard_Paint_001_ROUGH",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!0,props:{specular:8947848,shininess:0,displacementScale:1}},particle2:{name:"Particle",origin:{license:"",credits:"",url:""},tags:"Hazard",category:"Misc",textures:{diffuse:{path:"particles/particle2_diffuse",sizes:[128],formats:["png","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,legacy:!0,props:{specular:8947848,shininess:0,displacementScale:1}},smokeParticle:{name:"Particle",origin:{license:"",credits:"",url:""},tags:"Hazard",category:"Misc",textures:{diffuse:{path:"particles/cloud_diffuse",sizes:[256],formats:["png"]}},rating:3,listed:!1,legacy:!0,props:{specular:8947848,shininess:0,displacementScale:1}},Soft_Snow_Rock_001:{name:"Soft_Snow_Rock_001",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Snow",textures:{diffuse:{path:"Rough/Rough_rock_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_001_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,category:"Snow and ice",type:"Snow",props:{specular:1118481,shininess:3,displacementScale:1,repeats:{x:1,y:1}}},Soft_Snow_Pavement_006:{name:"Soft Snow Gray Herringbone",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Snow",textures:{diffuse:{path:"Pavement/Pavement_006_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Pavement/Pavement_006_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,category:"Snow and ice",type:"Snow",props:{specular:1118481,shininess:3,displacementScale:1,repeats:{x:1,y:1}}},Soft_Snow_Stone_wall_005:{name:"Soft Snow Templestone",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Snow",textures:{diffuse:{path:"Stone/Stone_wall_005_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Stone/Stone_wall_005_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,category:"Snow and ice",type:"Snow",props:{specular:1118481,shininess:3,displacementScale:1,repeats:{x:1,y:1}}},Soft_Snow_Grass_001:{name:"Powder Snow Basic Grass",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Snow",textures:{diffuse:{path:"Grass/Grass_001_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Grass/Grass_001_NORM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,category:"Snow and ice",type:"Snow",props:{specular:1118481,shininess:3,displacementScale:1,repeats:{x:1,y:1}}},Soft_Snow_Ice_001:{name:"Powder Snow Glorious Ice",origin:{license:" CC0 1.0",credits:"Joo Paulo",url:"https://3dtextures.me/"},tags:"Snow",textures:{diffuse:{path:"Rough/Rough_rock_021_COLOR",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]},normal:{path:"Rough/Rough_rock_021_NRM",sizes:[256,512,1024],formats:["jpg","pvrtc","etc1","etc2","astc","dxt"]}},rating:3,listed:!1,category:"Snow and ice",type:"Snow",props:{specular:1118481,shininess:3,displacementScale:1,repeats:{x:1,y:1}}},acidland:{name:"acidland",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/acidland/acidland_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},acidland2:{name:"acidland2",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/acidland2/acidland2_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},afternoon:{name:"afternoon",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/afternoon/afternoon_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},algae:{name:"algae",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/algae/algae_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},asteroid:{name:"asteroid",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/asteroid/asteroid_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},bloodland:{name:"bloodland",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/bloodland/bloodland_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},bloomingtrees:{name:"bloomingtrees",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/bloomingtrees/bloomingtrees_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},bluecrystals:{name:"bluecrystals",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/bluecrystals/bluecrystals_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},blue_lagoon:{name:"blue_lagoon",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/blue_lagoon/blue_lagoon_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},cactilakes:{name:"cactilakes",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/cactilakes/cactilakes_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},canyon_trees:{name:"canyon_trees",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/canyon_trees/canyon_trees_2048_6sided",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},clouded_night:{name:"clouded_night",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/clouded_night/clouded_night_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},coldhell:{name:"coldhell",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/coldhell/coldhell_2048_6sided",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},craterlakes:{name:"craterlakes",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/craterlakes/craterlakes_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},dark_city:{name:"dark_city",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/dark_city/dark_city_1024_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},dark_mountains:{name:"dark_mountains",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/dark_mountains/dark_mountains_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},DeepSpaceBlue:{name:"DeepSpaceBlue",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/DeepSpaceBlue/DeepSpaceBlue_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},DeepSpaceGreen:{name:"DeepSpaceGreen",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/DeepSpaceGreen/DeepSpaceGreen_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},DeepSpaceGreenWithPlanet:{name:"DeepSpaceGreenWithPlanet",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/DeepSpaceGreenWithPlanet/DeepSpaceGreenWithPlanet_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},deep_blue_sea:{name:"deep_blue_sea",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/deep_blue_sea/deep_blue_sea_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},desert_oasis:{name:"desert_oasis",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/desert_oasis/desert_oasis_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},drywoods:{name:"drywoods",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/drywoods/drywoods_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},dusky_water:{name:"dusky_water",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/dusky_water/dusk_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},etherfog:{name:"etherfog",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/etherfog/etherfog_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},fire_hell:{name:"fire_hell",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/fire_hell/fire_hell_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},fire_hills:{name:"fire_hills",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/fire_hills/fire_hills_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},foggynight:{name:"foggynight",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/foggynight/foggynight_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},foggy_conifer_forest:{name:"foggy_conifer_forest",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/foggy_conifer_forest/foggy_conifer_forest_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},forest:{name:"forest",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/forest/forest_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},forgotten_city:{name:"forgotten_city",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/forgotten_city/forgotten_city_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},fresh_water:{name:"fresh_water",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/fresh_water/fresh_water_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},fullmoon:{name:"fullmoon",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/fullmoon/fullmoon_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},goldendust:{name:"goldendust",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/goldendust/goldendust_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},golden_day:{name:"golden_day",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/golden_day/golden_day_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},golden_sunrise:{name:"golden_sunrise",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/golden_sunrise/golden_sunrise_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},grassland:{name:"grassland",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/grassland/grassland_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},grassy_mountains:{name:"grassy_mountains",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/grassy_mountains/grassy_mountains_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},greenconstellation:{name:"greenconstellation",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/greenconstellation/greenconstellation_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},grimmnight:{name:"grimmnight",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/grimmnight/grimmnight_1024_cubemap",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},hot_day:{name:"hot_day",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/hot_day/hot_day_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},hot_desert:{name:"hot_desert",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/hot_desert/hot_desert_1024_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},iceshards:{name:"iceshards",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/iceshards/iceshards_2048_6sided",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},ice_mountains:{name:"ice_mountains",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/ice_mountains/ice_mountains_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},interstellar:{name:"interstellar",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/interstellar/interstellar_1024_cubemap",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},magmashards:{name:"magmashards",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/magmashards/magmashards_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},magma_stream:{name:"magma_stream",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/magma_stream/magma_stream_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},miramar:{name:"miramar",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/miramar/miramar_1024_cubemap",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},moonshine_lake:{name:"moonshine_lake",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/moonshine_lake/moonshine_lake_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},mossymountains:{name:"mossymountains",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/mossymountains/mossymountains_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},neutrondawn:{name:"neutrondawn",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/neutrondawn/neutrondawn_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},nightmountains:{name:"nightmountains",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/nightmountains/nightmountains_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},noon:{name:"noon",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/noon/noon_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},palmforest:{name:"palmforest",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/palmforest/palmforest_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},palm_beach:{name:"palm_beach",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/palm_beach/palm_beach_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},plantinvasion:{name:"plantinvasion",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/plantinvasion/plantinvasion_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},plasmaspheres:{name:"plasmaspheres",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/plasmaspheres/plasmaspheres_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},purplesky:{name:"purplesky",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/purplesky/purplesky_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},rainy_day:{name:"rainy_day",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/rainy_day/rainy_day_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},rays:{name:"rays",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/rays/rays_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},redcanyon:{name:"redcanyon",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/redcanyon/redcanyon_cubemap",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},redflowers:{name:"redflowers",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/redflowers/redflowers_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},redplanet:{name:"redplanet",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/redplanet/redplanet_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},red_glow:{name:"red_glow",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/red_glow/red_glow_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},rotten_marsh:{name:"rotten_marsh",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/rotten_marsh/rotten_marsh_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},rugged_mountains:{name:"rugged_mountains",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/rugged_mountains/rugged_mountains_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},sandstonelakes:{name:"sandstonelakes",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/sandstonelakes/sandstonelakes_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},sandy:{name:"sandy",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/sandy/sandy_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},silvermountains:{name:"silvermountains",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/silvermountains/silvermountains_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},snowmountains:{name:"snowmountains",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/snowmountains/snowmountains_2048_6sided",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},spikycanyon:{name:"spikycanyon",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/spikycanyon/spikycanyon_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},startyNight:{name:"startyNight",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/startyNight/startyNight_1024_cubemap",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},steppe:{name:"steppe",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/steppe/steppe_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},stormydays:{name:"stormydays",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/stormydays/stormydays_1024_cubemap",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},stratosphere:{name:"stratosphere",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/stratosphere/stratosphere_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},sunrise_city:{name:"sunrise_city",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/sunrise_city/sunrise_city_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},sunsetlakes:{name:"sunsetlakes",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/sunsetlakes/sunsetlakes_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},sunset_cornfield:{name:"sunset_cornfield",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/sunset_cornfield/sunset_cornfield_2048_6sided",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},sunset_lake:{name:"sunset_lake",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/sunset_lake/sunset_lake_2048_6sided",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},swamp:{name:"swamp",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/swamp/swamp_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},trees_on_the_hill:{name:"trees_on_the_hill",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/trees_on_the_hill/trees_on_the_hill_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},tundra:{name:"tundra",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/tundra/tundra_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},twistedcanyon:{name:"twistedcanyon",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/twistedcanyon/twistedcanyon_2048_6sided",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},green_hill:{name:"green_hill",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/green_hill/green_hill_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},creeps:{name:"creeps",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/creeps/creeps_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},evil_forest:{name:"evil_forest",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/evil_forest/evil_forest_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},violentdays:{name:"violentdays",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/violentdays/violentdays_1024_cubemap",sizes:[256,512,1024,2048],formats:["jpg"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},volcanoes:{name:"volcanoes",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/volcanoes/volcanoes_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},wilderness:{name:"wilderness",tags:"skyboxes",category:"skyboxes",version:2,textures:{cubemap:{path:"skyboxes/wilderness/wilderness_cubemap",sizes:[256,512,1024,2048],formats:["png"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},special_rotating_cube_rotatingCube_low_Face_Block:{name:"special_rotating_cube_rotatingCube_low_Face_Block",tags:"special",category:"special",version:2,textures:{diffuse:{path:"special/rotating_cube/rotatingCube_low_Face_Block_BaseColor",sizes:[256,512,1024],formats:["jpg","basis"]},normal:{path:"special/rotating_cube/rotatingCube_low_Face_Block_Normal",sizes:[256,512,1024],formats:["jpg","basis"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},EN_P_deadTree_02:{name:"special_EN_P_deadTree_02_EN_P_deadTree_02",tags:"special",category:"special",version:2,textures:{diffuse:{path:"special/EN_P_deadTree_02_2/EN_P_deadTree_02_Color",sizes:[1024],formats:["jpg","basis"]},normal:{path:"special/EN_P_deadTree_02_2/EN_P_deadTree_02_Normal",sizes:[1024],formats:["jpg","basis"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}},stylized_bark1_Stylized_Bark_001:{name:"Bark",tags:"stylized",category:"stylized",version:2,textures:{diffuse:{path:"stylized/bark1/Stylized_Bark_001_COLOR",sizes:[256,512,1024],formats:["jpg","basis"]},normal:{path:"stylized/bark1/Stylized_Bark_001_NORM",sizes:[256,512,1024],formats:["jpg","basis"]}},rating:3,listed:!0,props:{specular:8947848,shininess:0,displacementScale:1}},stylized_cliff_rock_Stylized_Cliff_Rock_001:{name:"Cliff rock",tags:"stylized",category:"stylized",version:2,textures:{diffuse:{path:"stylized/cliff_rock/Stylized_Cliff_Rock_001_basecolor",sizes:[256,512,1024],formats:["jpg","basis"]},normal:{path:"stylized/cliff_rock/Stylized_Cliff_Rock_001_normal",sizes:[256,512,1024],formats:["jpg","basis"]}},rating:3,listed:!0,props:{specular:8947848,shininess:0,displacementScale:1}},stylized_concrete_Concrete_Blocks_001:{name:"Concrete",tags:"stylized",category:"stylized",version:2,textures:{diffuse:{path:"stylized/concrete/Concrete_Blocks_001_basecolor",sizes:[256,512,1024],formats:["jpg","basis"]},normal:{path:"stylized/concrete/Concrete_Blocks_001_normal",sizes:[256,512,1024],formats:["jpg","basis"]}},rating:3,listed:!0,props:{specular:8947848,shininess:0,displacementScale:1}},stylized_encrusted_gems_Incrusted_Gems_001:{name:"Encrusted gems",tags:"stylized",category:"stylized",version:2,textures:{diffuse:{path:"stylized/encrusted_gems/Incrusted_Gems_001_COLOR",sizes:[256,512,1024],formats:["jpg","basis"]},normal:{path:"stylized/encrusted_gems/Incrusted_Gems_001_NORM",sizes:[256,512,1024],formats:["jpg","basis"]}},rating:3,listed:!0,props:{specular:8947848,shininess:0,displacementScale:1}},stylized_shingles_Shingles_Wood_Stylized_001:{name:"Shingles Wood",tags:"stylized",category:"stylized",version:2,textures:{diffuse:{path:"stylized/shingles/Shingles_Wood_Stylized_001_baseColor",sizes:[256,512,1024],formats:["jpg","basis"]},normal:{path:"stylized/shingles/Shingles_Wood_Stylized_001_normal",sizes:[256,512,1024],formats:["jpg","basis"]}},rating:3,listed:!0,props:{specular:8947848,shininess:0,displacementScale:1}},stylized_test_floor_stylized_stones:{name:"Stone floor",tags:"stylized",category:"stylized",version:2,textures:{diffuse:{path:"stylized/test/floor_stylized_stones_color",sizes:[256,512,1024],formats:["jpg","basis"]},normal:{path:"stylized/test/floor_stylized_stones_normal",sizes:[256,512,1024],formats:["jpg","basis"]}},rating:3,listed:!1,props:{specular:8947848,shininess:0,displacementScale:1}}};n.default=j},,function(r,n,a){"use strict";a.r(n),a.d(n,"v1",(function(){return ie})),a.d(n,"v3",(function(){return se})),a.d(n,"v4",(function(){return le})),a.d(n,"v5",(function(){return pe})),a.d(n,"NIL",(function(){return he})),a.d(n,"version",(function(){return me})),a.d(n,"validate",(function(){return y})),a.d(n,"stringify",(function(){return q})),a.d(n,"parse",(function(){return oe}));var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),o=new Uint8Array(16);function rng(){if(!i)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(o)}for(var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,y=function validate(r){return"string"==typeof r&&s.test(r)},_=[],w=0;w<256;++w)_.push((w+256).toString(16).substr(1));var E,j,q=function stringify(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(_[r[n+0]]+_[r[n+1]]+_[r[n+2]]+_[r[n+3]]+"-"+_[r[n+4]]+_[r[n+5]]+"-"+_[r[n+6]]+_[r[n+7]]+"-"+_[r[n+8]]+_[r[n+9]]+"-"+_[r[n+10]]+_[r[n+11]]+_[r[n+12]]+_[r[n+13]]+_[r[n+14]]+_[r[n+15]]).toLowerCase();if(!y(a))throw TypeError("Stringified UUID is invalid");return a},$=0,ne=0,ie=function v1(r,n,a){var i=n&&a||0,o=n||Array(16),s=(r=r||{}).node||E,y=void 0!==r.clockseq?r.clockseq:j;if(null==s||null==y){var _=r.random||(r.rng||rng)();null==s&&(s=E=[1|_[0],_[1],_[2],_[3],_[4],_[5]]),null==y&&(y=j=16383&(_[6]<<8|_[7]))}var w=void 0!==r.msecs?r.msecs:Date.now(),ie=void 0!==r.nsecs?r.nsecs:ne+1,oe=w-$+(ie-ne)/1e4;if(oe<0&&void 0===r.clockseq&&(y=y+1&16383),(oe<0||w>$)&&void 0===r.nsecs&&(ie=0),ie>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");$=w,ne=ie,j=y;var se=(1e4*(268435455&(w+=122192928e5))+ie)%4294967296;o[i++]=se>>>24&255,o[i++]=se>>>16&255,o[i++]=se>>>8&255,o[i++]=255&se;var le=w/4294967296*1e4&268435455;o[i++]=le>>>8&255,o[i++]=255&le,o[i++]=le>>>24&15|16,o[i++]=le>>>16&255,o[i++]=y>>>8|128,o[i++]=255&y;for(var pe=0;pe<6;++pe)o[i+pe]=s[pe];return n||q(o)},oe=function parse(r){if(!y(r))throw TypeError("Invalid UUID");var n,a=new Uint8Array(16);return a[0]=(n=parseInt(r.slice(0,8),16))>>>24,a[1]=n>>>16&255,a[2]=n>>>8&255,a[3]=255&n,a[4]=(n=parseInt(r.slice(9,13),16))>>>8,a[5]=255&n,a[6]=(n=parseInt(r.slice(14,18),16))>>>8,a[7]=255&n,a[8]=(n=parseInt(r.slice(19,23),16))>>>8,a[9]=255&n,a[10]=(n=parseInt(r.slice(24,36),16))/1099511627776&255,a[11]=n/4294967296&255,a[12]=n>>>24&255,a[13]=n>>>16&255,a[14]=n>>>8&255,a[15]=255&n,a},v35=function(r,n,a){function generateUUID(r,i,o,s){if("string"==typeof r&&(r=function stringToBytes(r){r=unescape(encodeURIComponent(r));for(var n=[],a=0;a<r.length;++a)n.push(r.charCodeAt(a));return n}(r)),"string"==typeof i&&(i=oe(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var y=new Uint8Array(16+r.length);if(y.set(i),y.set(r,i.length),(y=a(y))[6]=15&y[6]|n,y[8]=63&y[8]|128,o){s=s||0;for(var _=0;_<16;++_)o[s+_]=y[_];return o}return q(y)}try{generateUUID.name=r}catch(r){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID};function getOutputLength(r){return 15+(r+64>>>9<<4)}function safeAdd(r,n){var a=(65535&r)+(65535&n);return(r>>16)+(n>>16)+(a>>16)<<16|65535&a}function md5cmn(r,n,a,i,o,s){return safeAdd(function bitRotateLeft(r,n){return r<<n|r>>>32-n}(safeAdd(safeAdd(n,r),safeAdd(i,s)),o),a)}function md5ff(r,n,a,i,o,s,y){return md5cmn(n&a|~n&i,r,n,o,s,y)}function md5gg(r,n,a,i,o,s,y){return md5cmn(n&i|a&~i,r,n,o,s,y)}function md5hh(r,n,a,i,o,s,y){return md5cmn(n^a^i,r,n,o,s,y)}function md5ii(r,n,a,i,o,s,y){return md5cmn(a^(n|~i),r,n,o,s,y)}var se=v35("v3",48,(function md5(r){if("string"==typeof r){var n=unescape(encodeURIComponent(r));r=new Uint8Array(n.length);for(var a=0;a<n.length;++a)r[a]=n.charCodeAt(a)}return function md5ToHexEncodedArray(r){for(var n=[],a=32*r.length,i=0;i<a;i+=8){var o=r[i>>5]>>>i%32&255,s=parseInt("0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o),16);n.push(s)}return n}(function wordsToMd5(r,n){r[n>>5]|=128<<n%32,r[getOutputLength(n)-1]=n;for(var a=1732584193,i=-271733879,o=-1732584194,s=271733878,y=0;y<r.length;y+=16){var _=a,w=i,E=o,j=s;a=md5ff(a,i,o,s,r[y],7,-680876936),s=md5ff(s,a,i,o,r[y+1],12,-389564586),o=md5ff(o,s,a,i,r[y+2],17,606105819),i=md5ff(i,o,s,a,r[y+3],22,-1044525330),a=md5ff(a,i,o,s,r[y+4],7,-176418897),s=md5ff(s,a,i,o,r[y+5],12,1200080426),o=md5ff(o,s,a,i,r[y+6],17,-1473231341),i=md5ff(i,o,s,a,r[y+7],22,-45705983),a=md5ff(a,i,o,s,r[y+8],7,1770035416),s=md5ff(s,a,i,o,r[y+9],12,-1958414417),o=md5ff(o,s,a,i,r[y+10],17,-42063),i=md5ff(i,o,s,a,r[y+11],22,-1990404162),a=md5ff(a,i,o,s,r[y+12],7,1804603682),s=md5ff(s,a,i,o,r[y+13],12,-40341101),o=md5ff(o,s,a,i,r[y+14],17,-1502002290),a=md5gg(a,i=md5ff(i,o,s,a,r[y+15],22,1236535329),o,s,r[y+1],5,-165796510),s=md5gg(s,a,i,o,r[y+6],9,-1069501632),o=md5gg(o,s,a,i,r[y+11],14,643717713),i=md5gg(i,o,s,a,r[y],20,-373897302),a=md5gg(a,i,o,s,r[y+5],5,-701558691),s=md5gg(s,a,i,o,r[y+10],9,38016083),o=md5gg(o,s,a,i,r[y+15],14,-660478335),i=md5gg(i,o,s,a,r[y+4],20,-405537848),a=md5gg(a,i,o,s,r[y+9],5,568446438),s=md5gg(s,a,i,o,r[y+14],9,-1019803690),o=md5gg(o,s,a,i,r[y+3],14,-187363961),i=md5gg(i,o,s,a,r[y+8],20,1163531501),a=md5gg(a,i,o,s,r[y+13],5,-1444681467),s=md5gg(s,a,i,o,r[y+2],9,-51403784),o=md5gg(o,s,a,i,r[y+7],14,1735328473),a=md5hh(a,i=md5gg(i,o,s,a,r[y+12],20,-1926607734),o,s,r[y+5],4,-378558),s=md5hh(s,a,i,o,r[y+8],11,-2022574463),o=md5hh(o,s,a,i,r[y+11],16,1839030562),i=md5hh(i,o,s,a,r[y+14],23,-35309556),a=md5hh(a,i,o,s,r[y+1],4,-1530992060),s=md5hh(s,a,i,o,r[y+4],11,1272893353),o=md5hh(o,s,a,i,r[y+7],16,-155497632),i=md5hh(i,o,s,a,r[y+10],23,-1094730640),a=md5hh(a,i,o,s,r[y+13],4,681279174),s=md5hh(s,a,i,o,r[y],11,-358537222),o=md5hh(o,s,a,i,r[y+3],16,-722521979),i=md5hh(i,o,s,a,r[y+6],23,76029189),a=md5hh(a,i,o,s,r[y+9],4,-640364487),s=md5hh(s,a,i,o,r[y+12],11,-421815835),o=md5hh(o,s,a,i,r[y+15],16,530742520),a=md5ii(a,i=md5hh(i,o,s,a,r[y+2],23,-995338651),o,s,r[y],6,-198630844),s=md5ii(s,a,i,o,r[y+7],10,1126891415),o=md5ii(o,s,a,i,r[y+14],15,-1416354905),i=md5ii(i,o,s,a,r[y+5],21,-57434055),a=md5ii(a,i,o,s,r[y+12],6,1700485571),s=md5ii(s,a,i,o,r[y+3],10,-1894986606),o=md5ii(o,s,a,i,r[y+10],15,-1051523),i=md5ii(i,o,s,a,r[y+1],21,-2054922799),a=md5ii(a,i,o,s,r[y+8],6,1873313359),s=md5ii(s,a,i,o,r[y+15],10,-30611744),o=md5ii(o,s,a,i,r[y+6],15,-1560198380),i=md5ii(i,o,s,a,r[y+13],21,1309151649),a=md5ii(a,i,o,s,r[y+4],6,-145523070),s=md5ii(s,a,i,o,r[y+11],10,-1120210379),o=md5ii(o,s,a,i,r[y+2],15,718787259),i=md5ii(i,o,s,a,r[y+9],21,-343485551),a=safeAdd(a,_),i=safeAdd(i,w),o=safeAdd(o,E),s=safeAdd(s,j)}return[a,i,o,s]}(function bytesToWords(r){if(0===r.length)return[];for(var n=8*r.length,a=new Uint32Array(getOutputLength(n)),i=0;i<n;i+=8)a[i>>5]|=(255&r[i/8])<<i%32;return a}(r),8*r.length))})),le=function v4(r,n,a){var i=(r=r||{}).random||(r.rng||rng)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,n){a=a||0;for(var o=0;o<16;++o)n[a+o]=i[o];return n}return q(i)};function f(r,n,a,i){switch(r){case 0:return n&a^~n&i;case 1:return n^a^i;case 2:return n&a^n&i^a&i;case 3:return n^a^i}}function ROTL(r,n){return r<<n|r>>>32-n}var pe=v35("v5",80,(function sha1(r){var n=[1518500249,1859775393,2400959708,3395469782],a=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof r){var i=unescape(encodeURIComponent(r));r=[];for(var o=0;o<i.length;++o)r.push(i.charCodeAt(o))}else Array.isArray(r)||(r=[].slice.call(r));r.push(128);for(var s=r.length/4+2,y=Math.ceil(s/16),_=Array(y),w=0;w<y;++w){for(var E=new Uint32Array(16),j=0;j<16;++j)E[j]=r[64*w+4*j]<<24|r[64*w+4*j+1]<<16|r[64*w+4*j+2]<<8|r[64*w+4*j+3];_[w]=E}_[y-1][14]=8*(r.length-1)/4294967296,_[y-1][14]=Math.floor(_[y-1][14]),_[y-1][15]=8*(r.length-1)&4294967295;for(var q=0;q<y;++q){for(var $=new Uint32Array(80),ne=0;ne<16;++ne)$[ne]=_[q][ne];for(var ie=16;ie<80;++ie)$[ie]=ROTL($[ie-3]^$[ie-8]^$[ie-14]^$[ie-16],1);for(var oe=a[0],se=a[1],le=a[2],pe=a[3],he=a[4],me=0;me<80;++me){var ge=Math.floor(me/20),ye=ROTL(oe,5)+f(ge,se,le,pe)+he+n[ge]+$[me]>>>0;he=pe,pe=le,le=ROTL(se,30)>>>0,se=oe,oe=ye}a[0]=a[0]+oe>>>0,a[1]=a[1]+se>>>0,a[2]=a[2]+le>>>0,a[3]=a[3]+pe>>>0,a[4]=a[4]+he>>>0}return[a[0]>>24&255,a[0]>>16&255,a[0]>>8&255,255&a[0],a[1]>>24&255,a[1]>>16&255,a[1]>>8&255,255&a[1],a[2]>>24&255,a[2]>>16&255,a[2]>>8&255,255&a[2],a[3]>>24&255,a[3]>>16&255,a[3]>>8&255,255&a[3],a[4]>>24&255,a[4]>>16&255,a[4]>>8&255,255&a[4]]})),he="00000000-0000-0000-0000-000000000000",me=function version_version(r){if(!y(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}},function(r,n,a){"use strict";a.r(n),a.d(n,"OBJLoader2",(function(){return OBJLoader2}));var i=a(19);const OBJLoader2Parser=function(){this.callbacks={onProgress:null,onAssetAvailable:null,onError:null},this.contentRef=null,this.legacyMode=!1,this.materials={},this.materialPerSmoothingGroup=!1,this.useOAsMesh=!1,this.useIndices=!1,this.disregardNormals=!1,this.vertices=[],this.colors=[],this.normals=[],this.uvs=[],this.rawMesh={objectName:"",groupName:"",activeMtlName:"",mtllibName:"",faceType:-1,subGroups:[],subGroupInUse:null,smoothingGroup:{splitMaterials:!1,normalized:-1,real:-1},counts:{doubleIndicesCount:0,faceCount:0,mtlCount:0,smoothingGroupCount:0}},this.inputObjectCount=1,this.outputObjectCount=1,this.globalCounts={vertices:0,faces:0,doubleIndicesCount:0,lineByte:0,currentByte:0,totalBytes:0},this.logging={enabled:!0,debug:!1}};OBJLoader2Parser.prototype={constructor:OBJLoader2Parser,resetRawMesh(){this.rawMesh.subGroups=[],this.rawMesh.subGroupInUse=null,this.rawMesh.smoothingGroup.normalized=-1,this.rawMesh.smoothingGroup.real=-1,this.pushSmoothingGroup(1),this.rawMesh.counts.doubleIndicesCount=0,this.rawMesh.counts.faceCount=0,this.rawMesh.counts.mtlCount=0,this.rawMesh.counts.smoothingGroupCount=0},setMaterialPerSmoothingGroup(r){this.materialPerSmoothingGroup=r},setUseOAsMesh(r){this.useOAsMesh=r},setUseIndices(r){this.useIndices=r},setDisregardNormals(r){this.disregardNormals=r},setMaterials(r){if(null!=r)for(const n in r)r.hasOwnProperty(n)&&(this.materials[n]=r[n])},setCallbackOnAssetAvailable(r){null!=r&&(this.callbacks.onAssetAvailable=r)},setCallbackOnProgress(r){null!=r&&(this.callbacks.onProgress=r)},setCallbackOnError(r){null!=r&&(this.callbacks.onError=r)},setLogging(r,n){this.logging.enabled=!0===r,this.logging.debug=!0===n},configure(){if(null===this.callbacks.onAssetAvailable){const r="Unable to run as no callback for building meshes is set.";if(null===this.callbacks.onError)throw r;this.callbacks.onError(r)}if(this.pushSmoothingGroup(1),this.logging.enabled){const r=Object.keys(this.materials);let n=`OBJLoader.Parser configuration:${r.length>0?"\n\tmaterialNames:\n\t\t- "+r.join("\n\t\t- "):"\n\tmaterialNames: None"}\n\tmaterialPerSmoothingGroup: ${this.materialPerSmoothingGroup}\n\tuseOAsMesh: ${this.useOAsMesh}\n\tuseIndices: ${this.useIndices}\n\tdisregardNormals: ${this.disregardNormals}`;null!==this.callbacks.onProgress&&(n+="\n\tcallbacks.onProgress: "+this.callbacks.onProgress.name),null!==this.callbacks.onAssetAvailable&&(n+="\n\tcallbacks.onAssetAvailable: "+this.callbacks.onAssetAvailable.name),null!==this.callbacks.onError&&(n+="\n\tcallbacks.onError: "+this.callbacks.onError.name),console.info(n)}},parse(r){this.logging.enabled&&console.time("OBJLoader.Parser.parse"),this.configure();const n=new Uint8Array(r);this.contentRef=n;const a=n.byteLength;this.globalCounts.totalBytes=a;const i=Array(128);for(let r,o="",s=0,y=0,_=0;_<a;_++)switch(r=n[_],r){case 32:o.length>0&&(i[s++]=o),o="";break;case 47:o.length>0&&(i[s++]=o),y++,o="";break;case 10:o.length>0&&(i[s++]=o),o="",this.globalCounts.lineByte=this.globalCounts.currentByte,this.globalCounts.currentByte=_,this.processLine(i,s,y),s=0,y=0;break;case 13:break;default:o+=String.fromCharCode(r)}this.finalizeParsing(),this.logging.enabled&&console.timeEnd("OBJLoader.Parser.parse")},parseText(r){this.logging.enabled&&console.time("OBJLoader.Parser.parseText"),this.configure(),this.legacyMode=!0,this.contentRef=r;const{length:n}=r;this.globalCounts.totalBytes=n;const a=Array(128);for(let i,o="",s=0,y=0,_=0;_<n;_++)switch(i=r[_],i){case" ":o.length>0&&(a[s++]=o),o="";break;case"/":o.length>0&&(a[s++]=o),y++,o="";break;case"\n":o.length>0&&(a[s++]=o),o="",this.globalCounts.lineByte=this.globalCounts.currentByte,this.globalCounts.currentByte=_,this.processLine(a,s,y),s=0,y=0;break;case"\r":break;default:o+=i}this.finalizeParsing(),this.logging.enabled&&console.timeEnd("OBJLoader.Parser.parseText")},processLine(r,n,a){if(n<1)return;const reconstructString=function(r,n,a,i){let o="";if(i>a){let s;if(n)for(s=a;s<i;s++)o+=r[s];else for(s=a;s<i;s++)o+=String.fromCharCode(r[s]);o=o.trim()}return o};let i,o,s,y;switch(y=r[0],y){case"v":this.vertices.push(parseFloat(r[1])),this.vertices.push(parseFloat(r[2])),this.vertices.push(parseFloat(r[3])),n>4&&(this.colors.push(parseFloat(r[4])),this.colors.push(parseFloat(r[5])),this.colors.push(parseFloat(r[6])));break;case"vt":this.uvs.push(parseFloat(r[1])),this.uvs.push(parseFloat(r[2]));break;case"vn":this.normals.push(parseFloat(r[1])),this.normals.push(parseFloat(r[2])),this.normals.push(parseFloat(r[3]));break;case"f":if(i=n-1,0===a)for(this.checkFaceType(0),s=2,o=i;s<o;s++)this.buildFace(r[1]),this.buildFace(r[s]),this.buildFace(r[s+1]);else if(i===2*a)for(this.checkFaceType(1),s=3,o=i-2;s<o;s+=2)this.buildFace(r[1],r[2]),this.buildFace(r[s],r[s+1]),this.buildFace(r[s+2],r[s+3]);else if(2*i==3*a)for(this.checkFaceType(2),s=4,o=i-3;s<o;s+=3)this.buildFace(r[1],r[2],r[3]),this.buildFace(r[s],r[s+1],r[s+2]),this.buildFace(r[s+3],r[s+4],r[s+5]);else for(this.checkFaceType(3),s=3,o=i-2;s<o;s+=2)this.buildFace(r[1],void 0,r[2]),this.buildFace(r[s],void 0,r[s+1]),this.buildFace(r[s+2],void 0,r[s+3]);break;case"l":case"p":if(i=n-1,i===2*a)for(this.checkFaceType(4),s=1,o=i+1;s<o;s+=2)this.buildFace(r[s],r[s+1]);else for(this.checkFaceType("l"===y?5:6),s=1,o=i+1;s<o;s++)this.buildFace(r[s]);break;case"s":this.pushSmoothingGroup(r[1]);break;case"g":this.processCompletedMesh(),this.rawMesh.groupName=reconstructString(this.contentRef,this.legacyMode,this.globalCounts.lineByte+2,this.globalCounts.currentByte);break;case"o":this.useOAsMesh&&this.processCompletedMesh(),this.rawMesh.objectName=reconstructString(this.contentRef,this.legacyMode,this.globalCounts.lineByte+2,this.globalCounts.currentByte);break;case"mtllib":this.rawMesh.mtllibName=reconstructString(this.contentRef,this.legacyMode,this.globalCounts.lineByte+7,this.globalCounts.currentByte);break;case"usemtl":const _=reconstructString(this.contentRef,this.legacyMode,this.globalCounts.lineByte+7,this.globalCounts.currentByte);""!==_&&this.rawMesh.activeMtlName!==_&&(this.rawMesh.activeMtlName=_,this.rawMesh.counts.mtlCount++,this.checkSubGroup())}},pushSmoothingGroup(r){let n=parseInt(r);isNaN(n)&&(n="off"===r?0:1);const a=this.rawMesh.smoothingGroup.normalized;this.rawMesh.smoothingGroup.normalized=this.rawMesh.smoothingGroup.splitMaterials?n:0===n?0:1,this.rawMesh.smoothingGroup.real=n,a!==n&&(this.rawMesh.counts.smoothingGroupCount++,this.checkSubGroup())},checkFaceType(r){this.rawMesh.faceType!==r&&(this.processCompletedMesh(),this.rawMesh.faceType=r,this.checkSubGroup())},checkSubGroup(){const r=`${this.rawMesh.activeMtlName}|${this.rawMesh.smoothingGroup.normalized}`;this.rawMesh.subGroupInUse=this.rawMesh.subGroups[r],void 0!==this.rawMesh.subGroupInUse&&null!==this.rawMesh.subGroupInUse||(this.rawMesh.subGroupInUse={index:r,objectName:this.rawMesh.objectName,groupName:this.rawMesh.groupName,materialName:this.rawMesh.activeMtlName,smoothingGroup:this.rawMesh.smoothingGroup.normalized,vertices:[],indexMappingsCount:0,indexMappings:[],indices:[],colors:[],uvs:[],normals:[]},this.rawMesh.subGroups[r]=this.rawMesh.subGroupInUse)},buildFace(r,n,a){const{subGroupInUse:i}=this.rawMesh,o=this,updateSubGroupInUse=function(){const s=parseInt(r);let y=3*(s>0?s-1:s+o.vertices.length/3),_=o.colors.length>0?y:null;const{vertices:w}=i;if(w.push(o.vertices[y++]),w.push(o.vertices[y++]),w.push(o.vertices[y]),null!==_){const{colors:r}=i;r.push(o.colors[_++]),r.push(o.colors[_++]),r.push(o.colors[_])}if(n){const r=parseInt(n);let a=2*(r>0?r-1:r+o.uvs.length/2);const{uvs:s}=i;s.push(o.uvs[a++]),s.push(o.uvs[a])}if(a&&!o.disregardNormals){const r=parseInt(a);let n=3*(r>0?r-1:r+o.normals.length/3);const{normals:s}=i;s.push(o.normals[n++]),s.push(o.normals[n++]),s.push(o.normals[n])}};if(this.useIndices){this.disregardNormals&&(a=void 0);const o=r+(n?"_"+n:"_n")+(a?"_"+a:"_n");let s=i.indexMappings[o];null==s?(s=this.rawMesh.subGroupInUse.vertices.length/3,updateSubGroupInUse(),i.indexMappings[o]=s,i.indexMappingsCount++):this.rawMesh.counts.doubleIndicesCount++,i.indices.push(s)}else updateSubGroupInUse();this.rawMesh.counts.faceCount++},createRawMeshReport(r){return`Input Object number: ${r}\n\tObject name: ${this.rawMesh.objectName}\n\tGroup name: ${this.rawMesh.groupName}\n\tMtllib name: ${this.rawMesh.mtllibName}\n\tVertex count: ${this.vertices.length/3}\n\tNormal count: ${this.normals.length/3}\n\tUV count: ${this.uvs.length/2}\n\tSmoothingGroup count: ${this.rawMesh.counts.smoothingGroupCount}\n\tMaterial count: ${this.rawMesh.counts.mtlCount}\n\tReal MeshOutputGroup count: ${this.rawMesh.subGroups.length}`},finalizeRawMesh(){const r=[];let n,a,i=0,o=0,s=0,y=0,_=0,w=0;for(const E in this.rawMesh.subGroups)if(n=this.rawMesh.subGroups[E],n.vertices.length>0){if(a=n.indices,a.length>0&&o>0)for(let r=0;r<a.length;r++)a[r]=a[r]+o;r.push(n),i+=n.vertices.length,o+=n.indexMappingsCount,s+=n.indices.length,y+=n.colors.length,w+=n.uvs.length,_+=n.normals.length}let E=null;return r.length>0&&(E={name:""!==this.rawMesh.groupName?this.rawMesh.groupName:this.rawMesh.objectName,subGroups:r,absoluteVertexCount:i,absoluteIndexCount:s,absoluteColorCount:y,absoluteNormalCount:_,absoluteUvCount:w,faceCount:this.rawMesh.counts.faceCount,doubleIndicesCount:this.rawMesh.counts.doubleIndicesCount}),E},processCompletedMesh(){const r=this.finalizeRawMesh(),n=null!==r;if(n){this.colors.length>0&&this.colors.length!==this.vertices.length&&null!==this.callbacks.onError&&this.callbacks.onError("Vertex Colors were detected, but vertex count and color count do not match!"),this.logging.enabled&&this.logging.debug&&console.debug(this.createRawMeshReport(this.inputObjectCount)),this.inputObjectCount++,this.buildMesh(r);const n=this.globalCounts.currentByte/this.globalCounts.totalBytes;null!==this.callbacks.onProgress&&this.callbacks.onProgress(`Completed [o: ${this.rawMesh.objectName} g:${this.rawMesh.groupName}] Total progress: ${(100*n).toFixed(2)}%`,n),this.resetRawMesh()}return n},buildMesh(r){const n=r.subGroups,a=new Float32Array(r.absoluteVertexCount);this.globalCounts.vertices+=r.absoluteVertexCount/3,this.globalCounts.faces+=r.faceCount,this.globalCounts.doubleIndicesCount+=r.doubleIndicesCount;const i=r.absoluteIndexCount>0?new Uint32Array(r.absoluteIndexCount):null,o=r.absoluteColorCount>0?new Float32Array(r.absoluteColorCount):null,s=r.absoluteNormalCount>0?new Float32Array(r.absoluteNormalCount):null,y=r.absoluteUvCount>0?new Float32Array(r.absoluteUvCount):null,_=null!==o;let w;const E=[],j=n.length>1;let q=0;const $=[];let ne,ie;const oe=[];let se,le,pe,he,me=0,ge=0,ye=0,_e=0,ve=0,Se=0,we=0;for(const r in n)if(n.hasOwnProperty(r)){if(w=n[r],he=w.materialName,pe=this.rawMesh.faceType<4?he+(_?"_vertexColor":"")+(0===w.smoothingGroup?"_flat":""):6===this.rawMesh.faceType?"defaultPointMaterial":"defaultLineMaterial",se=this.materials[he],le=this.materials[pe],null==se&&null==le&&(pe=_?"defaultVertexColorMaterial":"defaultMaterial",le=this.materials[pe],this.logging.enabled&&console.info(`object_group "${w.objectName}_${w.groupName}" was defined with unresolvable material "${he}"! Assigning "${pe}".`)),null==le){const r={materialNameOrg:he,materialName:pe,materialProperties:{vertexColors:_?2:0,flatShading:0===w.smoothingGroup}},n={cmd:"assetAvailable",type:"material",materials:{materialCloneInstructions:r}};this.callbacks.onAssetAvailable(n);null==this.materials[pe]&&(this.materials[pe]=r)}if(j?(ne=$[pe],ne||(ne=q,$[pe]=q,E.push(pe),q++),we=this.useIndices?w.indices.length:w.vertices.length/3,ie={start:Se,count:we,index:ne},oe.push(ie),Se+=we):E.push(pe),a.set(w.vertices,me),me+=w.vertices.length,i&&(i.set(w.indices,ge),ge+=w.indices.length),o&&(o.set(w.colors,ye),ye+=w.colors.length),s&&(s.set(w.normals,_e),_e+=w.normals.length),y&&(y.set(w.uvs,ve),ve+=w.uvs.length),this.logging.enabled&&this.logging.debug){const r=null==ne?"":"\n\t\tmaterialIndex: "+ne,n=`\tOutput Object no.: ${this.outputObjectCount}\n\t\tgroupName: ${w.groupName}\n\t\tIndex: ${w.index}\n\t\tfaceType: ${this.rawMesh.faceType}\n\t\tmaterialName: ${w.materialName}\n\t\tsmoothingGroup: ${w.smoothingGroup}${r}\n\t\tobjectName: ${w.objectName}\n\t\t#vertices: ${w.vertices.length/3}\n\t\t#indices: ${w.indices.length}\n\t\t#colors: ${w.colors.length/3}\n\t\t#uvs: ${w.uvs.length/2}\n\t\t#normals: ${w.normals.length/3}`;console.debug(n)}}this.outputObjectCount++,this.callbacks.onAssetAvailable({cmd:"assetAvailable",type:"mesh",progress:{numericalValue:this.globalCounts.currentByte/this.globalCounts.totalBytes},params:{meshName:r.name},materials:{multiMaterial:j,materialNames:E,materialGroups:oe},buffers:{vertices:a,indices:i,colors:o,normals:s,uvs:y},geometryType:this.rawMesh.faceType<4?0:6===this.rawMesh.faceType?2:1},[a.buffer],null!==i?[i.buffer]:null,null!==o?[o.buffer]:null,null!==s?[s.buffer]:null,null!==y?[y.buffer]:null)},finalizeParsing(){if(this.logging.enabled&&console.info("Global output object count: "+this.outputObjectCount),this.processCompletedMesh()&&this.logging.enabled){const r=`Overall counts: \n\tVertices: ${this.globalCounts.vertices}\n\tFaces: ${this.globalCounts.faces}\n\tMultiple definitions: ${this.globalCounts.doubleIndicesCount}`;console.info(r)}}};const MeshReceiver=function(r){this.logging={enabled:!0,debug:!1},this.callbacks={onParseProgress:null,onMeshAlter:null},this.materialHandler=r};MeshReceiver.prototype={constructor:MeshReceiver,setLogging(r,n){this.logging.enabled=!0===r,this.logging.debug=!0===n},_setCallbacks(r,n){null!=r&&(this.callbacks.onParseProgress=r),null!=n&&(this.callbacks.onMeshAlter=n)},buildMeshes(r){const{meshName:n}=r.params,a=new i.BufferGeometry;let o,s,y;a.setAttribute("position",new i.BufferAttribute(new Float32Array(r.buffers.vertices),3)),null!==r.buffers.indices&&a.setIndex(new i.BufferAttribute(new Uint32Array(r.buffers.indices),1)),null!==r.buffers.colors&&a.setAttribute("color",new i.BufferAttribute(new Float32Array(r.buffers.colors),3)),null!==r.buffers.normals?a.setAttribute("normal",new i.BufferAttribute(new Float32Array(r.buffers.normals),3)):a.computeVertexNormals(),null!==r.buffers.uvs&&a.setAttribute("uv",new i.BufferAttribute(new Float32Array(r.buffers.uvs),2)),null!==r.buffers.skinIndex&&a.setAttribute("skinIndex",new i.BufferAttribute(new Uint16Array(r.buffers.skinIndex),4)),null!==r.buffers.skinWeight&&a.setAttribute("skinWeight",new i.BufferAttribute(new Float32Array(r.buffers.skinWeight),4));const{materialNames:_}=r.materials,w=r.materials.multiMaterial,E=[];for(y in _)s=_[y],o=this.materialHandler.getMaterial(s),w&&E.push(o);if(w){o=E;const{materialGroups:n}=r.materials;let i;for(y in n)i=n[y],a.addGroup(i.start,i.count,i.index)}const j=[];let q;const $=this.callbacks.onMeshAlter;let ne,ie=!0;const oe=null===r.geometryType?0:r.geometryType;if($&&(ne=$({detail:{meshName:n,bufferGeometry:a,material:o,geometryType:oe}})),ne)if(ne.isDisregardMesh())ie=!1;else if(ne.providesAlteredMeshes()){for(const r in ne.meshes)j.push(ne.meshes[r]);ie=!1}ie&&(r.computeBoundingSphere&&a.computeBoundingSphere(),q=0===oe?new i.Mesh(a,o):1===oe?new i.LineSegments(a,o):new i.Points(a,o),q.name=n,j.push(q));let se=r.params.meshName;if(j.length>0){const a=[];for(const r in j)q=j[r],a[r]=q.name;se+=`: Adding mesh(es) (${a.length}: ${a}) from input mesh: ${n}`,se+=` (${(100*r.progress.numericalValue).toFixed(2)}%)`}else se+=": Not adding mesh: "+n,se+=` (${(100*r.progress.numericalValue).toFixed(2)}%)`;const le=this.callbacks.onParseProgress;return le&&le("progress",se,r.progress.numericalValue),j}};const LoadedMeshUserOverride=function(r,n){this.disregardMesh=!0===r,this.alteredMesh=!0===n,this.meshes=[]};LoadedMeshUserOverride.prototype={constructor:LoadedMeshUserOverride,addMesh(r){this.meshes.push(r),this.alteredMesh=!0},isDisregardMesh(){return this.disregardMesh},providesAlteredMeshes(){return this.alteredMesh}};const MaterialHandler=function(){this.logging={enabled:!0,debug:!1},this.callbacks={onLoadMaterials:null},this.materials={},this._createDefaultMaterials()};MaterialHandler.prototype={constructor:MaterialHandler,setLogging(r,n){this.logging.enabled=!0===r,this.logging.debug=!0===n},_setCallbacks(r){null!=r&&(this.callbacks.onLoadMaterials=r)},_createDefaultMaterials(){const r=new i.MeshStandardMaterial({color:14479871});r.name="defaultMaterial";const n=new i.MeshStandardMaterial({color:14479871});n.name="defaultVertexColorMaterial",n.vertexColors=i.VertexColors;const a=new i.LineBasicMaterial;a.name="defaultLineMaterial";const o=new i.PointsMaterial({size:.1});o.name="defaultPointMaterial";const s={};s[r.name]=r,s[n.name]=n,s[a.name]=a,s[o.name]=o,this.addMaterials(s)},addPayloadMaterials(r){let n,a;const{materialCloneInstructions:o}=r.materials;let s={};if(null!=o){let{materialNameOrg:r}=o;r=null!=r?r:"";const i=this.materials[r];if(i){n=i.clone(),a=o.materialName,n.name=a;const{materialProperties:r}=o;for(const a in r)n.hasOwnProperty(a)&&r.hasOwnProperty(a)&&(n[a]=r[a]);this.materials[a]=n,s[a]=n}else console.info(`Requested material "${r}" is not available!`)}let y=r.materials.serializedMaterials;if(null!=y&&Object.keys(y).length>0){const r=new i.MaterialLoader;let o;for(a in y)o=y[a],null!=o&&(n=r.parse(o),this.logging.enabled&&console.info(`De-serialized material with name "${a}" will be added.`),this.materials[a]=n,s[a]=n)}return y=r.materials.runtimeMaterials,s=this.addMaterials(y,s),s},addMaterials(r,n){if(null==n&&(n={}),null!=r&&Object.keys(r).length>0){let a;for(const i in r)a=r[i],this.materials[i]=a,n[i]=a,this.logging.enabled&&console.info(`Material with name "${i}" was added.`)}return n},getMaterials(){return this.materials},getMaterial(r){return this.materials[r]},getMaterialsJSON(){const r={};let n;for(const a in this.materials)n=this.materials[a],r[a]=n.toJSON();return r}};const OBJLoader2=function(r){this.manager=null!=r?r:i.DefaultLoadingManager,this.logging={enabled:!0,debug:!1},this.modelName="",this.instanceNo=0,this.path=void 0,this.resourcePath=void 0,this.useIndices=!1,this.disregardNormals=!1,this.materialPerSmoothingGroup=!1,this.useOAsMesh=!1,this.baseObject3d=new i.Group,this.callbacks={onParseProgress:void 0,genericErrorHandler:void 0},this.materialHandler=new MaterialHandler,this.meshReceiver=new MeshReceiver(this.materialHandler)};OBJLoader2.OBJLOADER2_VERSION="3.0.0-beta2",console.info("Using OBJLoader2 version: "+OBJLoader2.OBJLOADER2_VERSION),OBJLoader2.prototype={constructor:OBJLoader2,setLogging(r,n){return this.logging.enabled=!0===r,this.logging.debug=!0===n,this},setModelName(r){return this.modelName=r||this.modelName,this},setPath(r){return this.path=r||this.path,this},setResourcePath(r){this.resourcePath=r||this.resourcePath},setBaseObject3d(r){return this.baseObject3d=null==r?this.baseObject3d:r,this},addMaterials(r){this.materialHandler.addMaterials(r)},setUseIndices(r){return this.useIndices=!0===r,this},setDisregardNormals(r){return this.disregardNormals=!0===r,this},setMaterialPerSmoothingGroup(r){return this.materialPerSmoothingGroup=!0===r,this},setUseOAsMesh(r){return this.useOAsMesh=!0===r,this},setGenericErrorHandler(r){null!=r&&(this.callbacks.genericErrorHandler=r)},_setCallbacks(r,n,a){null!=r&&(this.callbacks.onParseProgress=r),this.meshReceiver._setCallbacks(r,n),this.materialHandler._setCallbacks(a)},_onProgress(r,n,a){const i=n||"",o={detail:{type:r,modelName:this.modelName,instanceNo:this.instanceNo,text:i,numericalValue:a}};this.callbacks.onParseProgress&&this.callbacks.onParseProgress(o),this.logging.enabled&&this.logging.debug&&console.log(i)},_onError(r){this.callbacks.genericErrorHandler&&this.callbacks.genericErrorHandler(r),this.logging.enabled&&this.logging.debug&&console.log(r)},load(r,n,a,o,s){const y=this;null==o&&(o=function(r){let n=r;r.currentTarget&&null!==r.currentTarget.statusText&&(n=`Error occurred while downloading!\nurl: ${r.currentTarget.responseURL}\nstatus: ${r.currentTarget.statusText}`),y._onError(n)}),r||o("An invalid url was provided. Unable to continue!");const _=new URL(r,window.location.href).href;let w=_;const E=_.split("/");if(E.length>2){w=E[E.length-1];const r=E.slice(0,E.length-1).join("/")+"/";null!=r&&(this.path=r)}if(null==a){let n=0,i=0;a=function(a){if(a.lengthComputable&&(i=a.loaded/a.total,i>n)){n=i;const a=`Download of "${r}": ${(100*i).toFixed(2)}%`;y._onProgress("progressLoad",a,i)}}}this._setCallbacks(null,s,null);const j=new i.FileLoader(this.manager);j.setPath(this.path||this.resourcePath),j.setResponseType("arraybuffer"),j.load(w,(function(r){n(y.parse(r))}),a,o)},parse(r){if(null==r)throw"Provided content is not a valid ArrayBuffer or String. Unable to continue parsing";this.logging.enabled&&console.time("OBJLoader parse: "+this.modelName);const n=new OBJLoader2Parser;n.setLogging(this.logging.enabled,this.logging.debug),n.setMaterialPerSmoothingGroup(this.materialPerSmoothingGroup),n.setUseOAsMesh(this.useOAsMesh),n.setUseIndices(this.useIndices),n.setDisregardNormals(this.disregardNormals),n.setMaterials(this.materialHandler.getMaterials());const a=this;return n.setCallbackOnAssetAvailable((function(r){a._onAssetAvailable(r)})),n.setCallbackOnProgress((function(r,n){a._onProgress("progressParse",r,n)})),n.setCallbackOnError((function(r){a._onError(r)})),r instanceof ArrayBuffer||r instanceof Uint8Array?(this.logging.enabled&&console.info("Parsing arrayBuffer..."),n.parse(r)):"string"==typeof r||r instanceof String?(this.logging.enabled&&console.info("Parsing text..."),n.parseText(r)):a._onError("Provided content was neither of type String nor Uint8Array! Aborting..."),this.logging.enabled&&console.timeEnd("OBJLoader parse: "+this.modelName),this.baseObject3d},_onAssetAvailable(r){if("assetAvailable"===r.cmd)if("mesh"===r.type){const n=this.meshReceiver.buildMeshes(r);for(const r of n)this.baseObject3d.add(r)}else"material"===r.type&&this.materialHandler.addPayloadMaterials(r)}}},function(r,n,a){"use strict";a.r(n);var i=a(368),o=a(371),s=a(370),y=a(369);const Section=function(r,n){this.type=this.type||"Section",s.a.call(this,r,n);const a=this.addFromTemplate(this.$placeIn,this.type,n);this.$elementWrapper=a.$el,y.a.position(this,n),this.$placeIn=a.$el};(Section.prototype=Object.create(s.a.prototype)).constructor=Section,s.a.prototype.addSection=function(r={}){const n=new Section(this,r);return this.childElementObjects[n.id]=n,n};const GridContainer=function(r,n){this.type=this.type||"GridContainer",Section.call(this,r,n)};(GridContainer.prototype=Object.create(Section.prototype)).constructor=GridContainer,s.a.prototype.addGridContainer=function(r={}){const n=new GridContainer(this,r);return this.childElementObjects[n.id]=n,n};const Collapsible=function(r,n){this.type=this.type||"Collapsible",Section.call(this,r,n),this.$placeIn=this.$elementWrapper.querySelector(".collapsible-part");const a=this.$elementWrapper.querySelector(".collapsible-button-wrapper");let i="openCloseButton_"+this.id;this.containerUI.openCloseButton=this.addCheckbox({$placeIn:a,id:i,label:n.label,uncheckedIcon:"fas fa-caret-square-down",checkedIcon:"fas fa-caret-square-right",value:n.expanded,isContainerUI:!0,click(r){r.elementObject.parent.$elementWrapper.classList.toggle("collapsed"),Collapsible.isExpanded[r.elementObject.parent.id]=!r.elementObject.parent.$elementWrapper.classList.contains("collapsed")}}),this.childElementObjects[i]=this.containerUI.openCloseButton,n.removeButton&&(i="removeButton_"+this.id,this.containerUI.removeButton=this.addButton({$placeIn:a,id:i,icon:"fas fa-times-circle",classes:"collapsible-remove-button icon-button",isContainerUI:!0,click(r){r.elementObject.parent.parent.childElementObjects[r.elementObject.parent.id].remove(),r.elementObject.root.events.change&&r.elementObject.root.events.change({elementObject:r.elementObject.parent,id:r.elementObject.parent.id,action:"component removed"});const n=!!r.elementObject.parent.opt.onRemove;r.elementObject.parent.destroy(!0),n&&r.elementObject.parent.opt.onRemove(r.elementObject.parent),r.elementObject.parent=null,delete r.elementObject.parent}}),this.childElementObjects[i]=this.containerUI.removeButton),this.checkVisibility(),void 0===Collapsible.isExpanded[this.id]&&(Collapsible.isExpanded[this.id]=!1),n.expanded&&(Collapsible.isExpanded[this.id]=!0),Collapsible.isExpanded[this.id]&&this.open()};Collapsible.prototype=Object.create(Section.prototype),Collapsible.prototype.constructor=Collapsible,Collapsible.prototype.open=function(){Collapsible.isExpanded[this.id]=!1,this.containerUI.openCloseButton.setValue(Collapsible.isExpanded[this.id]),this.containerUI.openCloseButton.parent.$elementWrapper.classList.remove("collapsed")},Collapsible.prototype.close=function(){Collapsible.isExpanded[this.id]=!0,this.containerUI.openCloseButton.setValue(Collapsible.isExpanded[this.id]),this.containerUI.openCloseButton.parent.$elementWrapper.classList.add("collapsed")},Collapsible.prototype.onContentUpdate=function(){this.checkVisibility()},Collapsible.prototype.checkVisibility=function(){this.opt.hideWhenEmpty&&(0===this.$placeIn.childNodes.length?this.hide():this.show())},s.a.prototype.addCollapsible=function(r={}){const n=new Collapsible(this,r);return this.childElementObjects[n.id]=n,n},Collapsible.isExpanded={};var _=a(372),w=a(374),E=a(375),j=a(376),q=a(377),$=a(378),ne=a(379),ie=a(380),oe=a(381),se=a(382),le=a(383),pe=a(384),he=a(385),me=a(386),ge=a(387);n.default={Panel:i.PanelTemplate,Browser:o.BrowserTemplate,GridContainer:{template:r=>`<div class="section grid ${r.classes}" id="${r.id}"></div>`,defValues:{classes:""}},Collapsible:{template:r=>`<div class="section collapsible ${r.expanded?"":"collapsed"} ${r.classes}" id="${r.id}">\n                    <span class="collapsible-button-wrapper"></span>\n                    <div class="collapsible-part"></div>\n                </div>`,defValues:{classes:""}},Section:{template:r=>`<div class="section ${r.classes}" id="${r.id}"></div>`,defValues:{classes:""}},Button:_.b,Checkbox:w.b,ColorInput:E.b,Hr:j.b,Range:q.b,Select:$.b,Switch:ne.b,TextInput:ie.b,NumberInput:pe.b,PasswordInput:ge.b,TextArea:oe.b,ThumbButton:se.b,VectorInput:le.b,DropArea:he.b,Text:me.b}},function(r,n,a){"use strict";var i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=function memoize(r){var n={};return function(a){return void 0===n[a]&&(n[a]=r(a)),n[a]}}((function(r){return i.test(r)||111===r.charCodeAt(0)&&110===r.charCodeAt(1)&&r.charCodeAt(2)<91}));n.a=o}]);